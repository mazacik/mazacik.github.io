var vq=Object.create;var w_=Object.defineProperty,yq=Object.defineProperties,_q=Object.getOwnPropertyDescriptor,wq=Object.getOwnPropertyDescriptors,bq=Object.getOwnPropertyNames,__=Object.getOwnPropertySymbols,P2=Object.getPrototypeOf,tS=Object.prototype.hasOwnProperty,O2=Object.prototype.propertyIsEnumerable,Cq=Reflect.get;var M2=(t,e,n)=>e in t?w_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ne=(t,e)=>{for(var n in e||={})tS.call(e,n)&&M2(t,n,e[n]);if(__)for(var n of __(e))O2.call(e,n)&&M2(t,n,e[n]);return t},xt=(t,e)=>yq(t,wq(e));var nS=(t,e)=>{var n={};for(var i in t)tS.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&__)for(var i of __(t))e.indexOf(i)<0&&O2.call(t,i)&&(n[i]=t[i]);return n};var Eq=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Iq=(t,e)=>{for(var n in e)w_(t,n,{get:e[n],enumerable:!0})},Sq=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of bq(e))!tS.call(t,r)&&r!==n&&w_(t,r,{get:()=>e[r],enumerable:!(i=_q(e,r))||i.enumerable});return t};var Tq=(t,e,n)=>(n=t!=null?vq(P2(t)):{},Sq(e||!t||!t.__esModule?w_(n,"default",{value:t,enumerable:!0}):n,t));var $a=(t,e,n)=>Cq(P2(t),n,e);var I=(t,e,n)=>new Promise((i,r)=>{var o=d=>{try{l(n.next(d))}catch(h){r(h)}},a=d=>{try{l(n.throw(d))}catch(h){r(h)}},l=d=>d.done?i(d.value):Promise.resolve(d.value).then(o,a);l((n=n.apply(t,e)).next())});var bG=Eq((oOe,bE)=>{(function(){var t=window.CustomEvent;(!t||typeof t=="object")&&(t=function(S,D){D=D||{};var O=document.createEvent("CustomEvent");return O.initCustomEvent(S,!!D.bubbles,!!D.cancelable,D.detail||null),O},t.prototype=window.Event.prototype);function e(w){for(;w&&w!==document.body;){var S=window.getComputedStyle(w),D=function(O,V){return!(S[O]===void 0||S[O]===V)};if(S.opacity<1||D("zIndex","auto")||D("transform","none")||D("mixBlendMode","normal")||D("filter","none")||D("perspective","none")||S.isolation==="isolate"||S.position==="fixed"||S.webkitOverflowScrolling==="touch")return!0;w=w.parentElement}return!1}function n(w){for(;w;){if(w.localName==="dialog")return w;w=w.parentElement}return null}function i(w){w&&w.blur&&w!==document.body&&w.blur()}function r(w,S){for(var D=0;D<w.length;++D)if(w[D]===S)return!0;return!1}function o(w){return!w||!w.hasAttribute("method")?!1:w.getAttribute("method").toLowerCase()==="dialog"}function a(w){if(this.dialog_=w,this.replacedStyleTop_=!1,this.openAsModal_=!1,w.hasAttribute("role")||w.setAttribute("role","dialog"),w.show=this.show.bind(this),w.showModal=this.showModal.bind(this),w.close=this.close.bind(this),"returnValue"in w||(w.returnValue=""),"MutationObserver"in window){var S=new MutationObserver(this.maybeHideModal.bind(this));S.observe(w,{attributes:!0,attributeFilter:["open"]})}else{var D=!1,O=(function(){D?this.downgradeModal():this.maybeHideModal(),D=!1}).bind(this),V,$=function(x){if(x.target===w){var te="DOMNodeRemoved";D|=x.type.substr(0,te.length)===te,window.clearTimeout(V),V=window.setTimeout(O,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(x){w.addEventListener(x,$)})}Object.defineProperty(w,"open",{set:this.setOpen.bind(this),get:w.hasAttribute.bind(w,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}a.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),l.dm.removeDialog(this))},setOpen:function(w){w?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(w){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var S=document.createElement("div");this.dialog_.insertBefore(S,this.dialog_.firstChild),S.tabIndex=-1,S.focus(),this.dialog_.removeChild(S)}var D=document.createEvent("MouseEvents");D.initMouseEvent(w.type,w.bubbles,w.cancelable,window,w.detail,w.screenX,w.screenY,w.clientX,w.clientY,w.ctrlKey,w.altKey,w.shiftKey,w.metaKey,w.button,w.relatedTarget),this.dialog_.dispatchEvent(D),w.stopPropagation()},focus_:function(){var w=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!w&&this.dialog_.tabIndex>=0&&(w=this.dialog_),!w){var S=["button","input","keygen","select","textarea"],D=S.map(function(O){return O+":not([disabled])"});D.push('[tabindex]:not([disabled]):not([tabindex=""])'),w=this.dialog_.querySelector(D.join(", "))}i(document.activeElement),w&&w.focus()},updateZIndex:function(w,S){if(w<S)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=w,this.backdrop_.style.zIndex=S},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!l.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");e(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,l.needsCentering(this.dialog_)?(l.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(w){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),w!==void 0&&(this.dialog_.returnValue=w);var S=new t("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(S)}};var l={};if(l.reposition=function(w){var S=document.body.scrollTop||document.documentElement.scrollTop,D=S+(window.innerHeight-w.offsetHeight)/2;w.style.top=Math.max(S,D)+"px"},l.isInlinePositionSetByStylesheet=function(w){for(var S=0;S<document.styleSheets.length;++S){var D=document.styleSheets[S],O=null;try{O=D.cssRules}catch{}if(O)for(var V=0;V<O.length;++V){var $=O[V],x=null;try{x=document.querySelectorAll($.selectorText)}catch{}if(!(!x||!r(x,w))){var te=$.style.getPropertyValue("top"),U=$.style.getPropertyValue("bottom");if(te&&te!=="auto"||U&&U!=="auto")return!0}}}return!1},l.needsCentering=function(w){var S=window.getComputedStyle(w);return S.position!=="absolute"||w.style.top!=="auto"&&w.style.top!==""||w.style.bottom!=="auto"&&w.style.bottom!==""?!1:!l.isInlinePositionSetByStylesheet(w)},l.forceRegisterDialog=function(w){if((window.HTMLDialogElement||w.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",w),w.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new a(w)},l.registerDialog=function(w){w.showModal||l.forceRegisterDialog(w)},l.DialogManager=function(){this.pendingDialogStack=[];var w=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(S){this.forwardTab_=void 0,S.stopPropagation(),w([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(S){var D=[];S.forEach(function(O){for(var V=0,$;$=O.removedNodes[V];++V){if($ instanceof Element)$.localName==="dialog"&&D.push($);else continue;D=D.concat($.querySelectorAll("dialog"))}}),D.length&&w(D)}))},l.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},l.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},l.DialogManager.prototype.updateStacking=function(){for(var w=this.zIndexHigh_,S=0,D;D=this.pendingDialogStack[S];++S)D.updateZIndex(--w,--w),S===0&&(this.overlay.style.zIndex=--w);var O=this.pendingDialogStack[0];if(O){var V=O.dialog.parentNode||document.body;V.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},l.DialogManager.prototype.containedByTopDialog_=function(w){for(;w=n(w);){for(var S=0,D;D=this.pendingDialogStack[S];++S)if(D.dialog===w)return S===0;w=w.parentElement}return!1},l.DialogManager.prototype.handleFocus_=function(w){if(!this.containedByTopDialog_(w.target)&&(w.preventDefault(),w.stopPropagation(),i(w.target),this.forwardTab_!==void 0)){var S=this.pendingDialogStack[0],D=S.dialog,O=D.compareDocumentPosition(w.target);return O&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?S.focus_():document.documentElement.focus()),!1}},l.DialogManager.prototype.handleKey_=function(w){if(this.forwardTab_=void 0,w.keyCode===27){w.preventDefault(),w.stopPropagation();var S=new t("cancel",{bubbles:!1,cancelable:!0}),D=this.pendingDialogStack[0];D&&D.dialog.dispatchEvent(S)&&D.dialog.close()}else w.keyCode===9&&(this.forwardTab_=!w.shiftKey)},l.DialogManager.prototype.checkDOM_=function(w){var S=this.pendingDialogStack.slice();S.forEach(function(D){w.indexOf(D.dialog)!==-1?D.downgradeModal():D.maybeHideModal()})},l.DialogManager.prototype.pushDialog=function(w){var S=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=S?!1:(this.pendingDialogStack.unshift(w)===1&&this.blockDocument(),this.updateStacking(),!0)},l.DialogManager.prototype.removeDialog=function(w){var S=this.pendingDialogStack.indexOf(w);S!==-1&&(this.pendingDialogStack.splice(S,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},l.dm=new l.DialogManager,l.formSubmitter=null,l.useValue=null,window.HTMLDialogElement===void 0){var d=document.createElement("form");if(d.setAttribute("method","dialog"),d.method!=="dialog"){var h=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(h){var m=h.get;h.get=function(){return o(this)?"dialog":m.call(this)};var v=h.set;h.set=function(w){return typeof w=="string"&&w.toLowerCase()==="dialog"?this.setAttribute("method",w):v.call(this,w)},Object.defineProperty(HTMLFormElement.prototype,"method",h)}}document.addEventListener("click",function(w){if(l.formSubmitter=null,l.useValue=null,!w.defaultPrevented){var S=w.target;if(!(!S||!o(S.form))){var D=S.type==="submit"&&["button","input"].indexOf(S.localName)>-1;if(!D){if(!(S.localName==="input"&&S.type==="image"))return;l.useValue=w.offsetX+","+w.offsetY}var O=n(S);O&&(l.formSubmitter=S)}}},!1);var y=HTMLFormElement.prototype.submit,E=function(){if(!o(this))return y.call(this);var w=n(this);w&&w.close()};HTMLFormElement.prototype.submit=E,document.addEventListener("submit",function(w){var S=w.target;if(o(S)){w.preventDefault();var D=n(S);if(D){var O=l.formSubmitter;O&&O.form===S?D.close(l.useValue||O.value):D.close(),l.formSubmitter=null}}},!0)}l.forceRegisterDialog=l.forceRegisterDialog,l.registerDialog=l.registerDialog,typeof define=="function"&&"amd"in define?define(function(){return l}):typeof bE=="object"&&typeof bE.exports=="object"?bE.exports=l:window.dialogPolyfill=l})()});function Dq(t,e){return Object.is(t,e)}var li=null,Vp=!1,b_=1,Ha=Symbol("SIGNAL");function Ot(t){let e=li;return li=t,e}function xq(){return Vp}var C_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function k2(t){if(Vp)throw new Error("");if(li===null)return;li.consumerOnSignalRead(t);let e=li.nextProducerIndex++;if(Id(li),e<li.producerNode.length&&li.producerNode[e]!==t&&jp(li)){let n=li.producerNode[e];I_(n,li.producerIndexOfThis[e])}li.producerNode[e]!==t&&(li.producerNode[e]=t,li.producerIndexOfThis[e]=jp(li)?L2(t,li,e):0),li.producerLastReadVersion[e]=t.version}function Aq(){b_++}function Mq(t){if(!(jp(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===b_)){if(!t.producerMustRecompute(t)&&!E_(t)){t.dirty=!1,t.lastCleanEpoch=b_;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=b_}}function R2(t){if(t.liveConsumerNode===void 0)return;let e=Vp;Vp=!0;try{for(let n of t.liveConsumerNode)n.dirty||F2(n)}finally{Vp=e}}function N2(){return li?.consumerAllowSignalWrites!==!1}function F2(t){t.dirty=!0,R2(t),t.consumerMarkedDirty?.(t)}function rS(t){return t&&(t.nextProducerIndex=0),Ot(t)}function oS(t,e){if(Ot(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(jp(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)I_(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function E_(t){Id(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(Mq(n),i!==n.version))return!0}return!1}function sS(t){if(Id(t),jp(t))for(let e=0;e<t.producerNode.length;e++)I_(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function L2(t,e,n){if(V2(t),Id(t),t.liveConsumerNode.length===0)for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=L2(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function I_(t,e){if(V2(t),Id(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)I_(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Id(r),r.producerIndexOfThis[i]=e}}function jp(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Id(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function V2(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Pq(){throw new Error}var j2=Pq;function U2(){j2()}function B2(t){j2=t}var Oq=null;function $2(t){let e=Object.create(G2);e.value=t;let n=()=>(k2(e),e.value);return n[Ha]=e,n}function aS(t,e){N2()||U2(),t.equal(t.value,e)||(t.value=e,kq(t))}function H2(t,e){N2()||U2(),aS(t,e(t.value))}var G2=xt(ne({},C_),{equal:Dq,value:void 0});function kq(t){t.version++,Aq(),R2(t),Oq?.()}function z2(t,e,n){let i=Object.create(Rq);n&&(i.consumerAllowSignalWrites=!0),i.fn=t,i.schedule=e;let r=d=>{i.cleanupFn=d};function o(d){return d.fn===null&&d.schedule===null}function a(d){o(d)||(sS(d),d.cleanupFn(),d.fn=null,d.schedule=null,d.cleanupFn=iS)}let l=()=>{if(i.fn===null)return;if(xq())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!E_(i))return;i.hasRun=!0;let d=rS(i);try{i.cleanupFn(),i.cleanupFn=iS,i.fn(r)}finally{oS(i,d)}};return i.ref={notify:()=>F2(i),run:l,cleanup:()=>i.cleanupFn(),destroy:()=>a(i),[Ha]:i},i.ref}var iS=()=>{},Rq=xt(ne({},C_),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:iS});function De(t){return typeof t=="function"}function Sd(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var S_=Sd(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ul(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var On=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(De(i))try{i()}catch(o){e=o instanceof S_?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{q2(o)}catch(a){e=e??[],a instanceof S_?e=[...e,...a.errors]:e.push(a)}}if(e)throw new S_(e)}}add(e){var n;if(e&&e!==this)if(this.closed)q2(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ul(n,e)}remove(e){let{_finalizers:n}=this;n&&ul(n,e),e instanceof t&&e._removeParent(this)}};On.EMPTY=(()=>{let t=new On;return t.closed=!0,t})();var cS=On.EMPTY;function T_(t){return t instanceof On||t&&"closed"in t&&De(t.remove)&&De(t.add)&&De(t.unsubscribe)}function q2(t){De(t)?t():t.unsubscribe()}var ho={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Td={setTimeout(t,e,...n){let{delegate:i}=Td;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Td;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function D_(t){Td.setTimeout(()=>{let{onUnhandledError:e}=ho;if(e)e(t);else throw t})}function Up(){}var W2=lS("C",void 0,void 0);function K2(t){return lS("E",void 0,t)}function Y2(t){return lS("N",t,void 0)}function lS(t,e,n){return{kind:t,value:e,error:n}}var dl=null;function Dd(t){if(ho.useDeprecatedSynchronousErrorHandling){let e=!dl;if(e&&(dl={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=dl;if(dl=null,n)throw i}}else t()}function Q2(t){ho.useDeprecatedSynchronousErrorHandling&&dl&&(dl.errorThrown=!0,dl.error=t)}var hl=class extends On{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,T_(e)&&e.add(this)):this.destination=Lq}static create(e,n,i){return new Ga(e,n,i)}next(e){this.isStopped?dS(Y2(e),this):this._next(e)}error(e){this.isStopped?dS(K2(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?dS(W2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Nq=Function.prototype.bind;function uS(t,e){return Nq.call(t,e)}var hS=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){x_(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){x_(i)}else x_(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){x_(n)}}},Ga=class extends hl{constructor(e,n,i){super();let r;if(De(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&ho.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&uS(e.next,o),error:e.error&&uS(e.error,o),complete:e.complete&&uS(e.complete,o)}):r=e}this.destination=new hS(r)}};function x_(t){ho.useDeprecatedSynchronousErrorHandling?Q2(t):D_(t)}function Fq(t){throw t}function dS(t,e){let{onStoppedNotification:n}=ho;n&&Td.setTimeout(()=>n(t,e))}var Lq={closed:!0,next:Up,error:Fq,complete:Up};var xd=typeof Symbol=="function"&&Symbol.observable||"@@observable";function _r(t){return t}function fS(...t){return pS(t)}function pS(t){return t.length===0?_r:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var Ue=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=jq(n)?n:new Ga(n,i,r);return Dd(()=>{let{operator:a,source:l}=this;o.add(a?a.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=J2(i),new i((r,o)=>{let a=new Ga({next:l=>{try{n(l)}catch(d){o(d),a.unsubscribe()}},error:o,complete:r});this.subscribe(a)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[xd](){return this}pipe(...n){return pS(n)(this)}toPromise(n){return n=J2(n),new n((i,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>i(o))})}}return t.create=e=>new t(e),t})();function J2(t){var e;return(e=t??ho.Promise)!==null&&e!==void 0?e:Promise}function Vq(t){return t&&De(t.next)&&De(t.error)&&De(t.complete)}function jq(t){return t&&t instanceof hl||Vq(t)&&T_(t)}function mS(t){return De(t?.lift)}function mt(t){return e=>{if(mS(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ot(t,e,n,i,r){return new gS(t,e,n,i,r)}var gS=class extends hl{constructor(e,n,i,r,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(l){try{n(l)}catch(d){e.error(d)}}:super._next,this._error=r?function(l){try{r(l)}catch(d){e.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ad(){return mt((t,e)=>{let n=null;t._refCount++;let i=ot(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var Md=class extends Ue{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,mS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new On;let n=this.getSubject();e.add(this.source.subscribe(ot(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=On.EMPTY)}return e}refCount(){return Ad()(this)}};var X2=Sd(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ui=(()=>{class t extends Ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new A_(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new X2}next(n){Dd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Dd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Dd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?cS:(this.currentObservers=null,o.push(n),new On(()=>{this.currentObservers=null,ul(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new Ue;return n.source=this,n}}return t.create=(e,n)=>new A_(e,n),t})(),A_=class extends ui{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:cS}};var Jn=class extends ui{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var vS={now(){return(vS.delegate||Date).now()},delegate:void 0};var M_=class extends On{constructor(e,n){super()}schedule(e,n=0){return this}};var Bp={setInterval(t,e,...n){let{delegate:i}=Bp;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Bp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Pd=class extends M_{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return Bp.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Bp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ul(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Od=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};Od.now=vS.now;var kd=class extends Od{constructor(e,n=Od.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var Rd=new kd(Pd),yS=Rd;var P_=class extends Pd{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var O_=class extends kd{};var _S=new O_(P_);var ar=new Ue(t=>t.complete());function k_(t){return t&&De(t.schedule)}function wS(t){return t[t.length-1]}function R_(t){return De(wS(t))?t.pop():void 0}function Wo(t){return k_(wS(t))?t.pop():void 0}function Z2(t,e){return typeof wS(t)=="number"?t.pop():e}function N_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function tL(t,e,n,i){function r(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(m){try{h(i.next(m))}catch(v){a(v)}}function d(m){try{h(i.throw(m))}catch(v){a(v)}}function h(m){m.done?o(m.value):r(m.value).then(l,d)}h((i=i.apply(t,e||[])).next())})}function eL(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fl(t){return this instanceof fl?(this.v=t,this):new fl(t)}function nL(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(y){i[y]&&(r[y]=function(E){return new Promise(function(w,S){o.push([y,E,w,S])>1||l(y,E)})})}function l(y,E){try{d(i[y](E))}catch(w){v(o[0][3],w)}}function d(y){y.value instanceof fl?Promise.resolve(y.value.v).then(h,m):v(o[0][2],y)}function h(y){l("next",y)}function m(y){l("throw",y)}function v(y,E){y(E),o.shift(),o.length&&l(o[0][0],o[0][1])}}function iL(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof eL=="function"?eL(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(a){return new Promise(function(l,d){a=t[o](a),r(l,d,a.done,a.value)})}}function r(o,a,l,d){Promise.resolve(d).then(function(h){o({value:h,done:l})},a)}}var Nd=t=>t&&typeof t.length=="number"&&typeof t!="function";function F_(t){return De(t?.then)}function L_(t){return De(t[xd])}function V_(t){return Symbol.asyncIterator&&De(t?.[Symbol.asyncIterator])}function j_(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Uq(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var U_=Uq();function B_(t){return De(t?.[U_])}function $_(t){return nL(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield fl(n.read());if(r)return yield fl(void 0);yield yield fl(i)}}finally{n.releaseLock()}})}function H_(t){return De(t?.getReader)}function Yt(t){if(t instanceof Ue)return t;if(t!=null){if(L_(t))return Bq(t);if(Nd(t))return $q(t);if(F_(t))return Hq(t);if(V_(t))return rL(t);if(B_(t))return Gq(t);if(H_(t))return zq(t)}throw j_(t)}function Bq(t){return new Ue(e=>{let n=t[xd]();if(De(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function $q(t){return new Ue(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Hq(t){return new Ue(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,D_)})}function Gq(t){return new Ue(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function rL(t){return new Ue(e=>{qq(t,e).catch(n=>e.error(n))})}function zq(t){return rL($_(t))}function qq(t,e){var n,i,r,o;return tL(this,void 0,void 0,function*(){try{for(n=iL(t);i=yield n.next(),!i.done;){let a=i.value;if(e.next(a),e.closed)return}}catch(a){r={error:a}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function cr(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function za(t,e=0){return mt((n,i)=>{n.subscribe(ot(i,r=>cr(i,t,()=>i.next(r),e),()=>cr(i,t,()=>i.complete(),e),r=>cr(i,t,()=>i.error(r),e)))})}function qa(t,e=0){return mt((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function oL(t,e){return Yt(t).pipe(qa(e),za(e))}function sL(t,e){return Yt(t).pipe(qa(e),za(e))}function aL(t,e){return new Ue(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function cL(t,e){return new Ue(n=>{let i;return cr(n,e,()=>{i=t[U_](),cr(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(a){n.error(a);return}o?n.complete():n.next(r)},0,!0)}),()=>De(i?.return)&&i.return()})}function G_(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ue(n=>{cr(n,e,()=>{let i=t[Symbol.asyncIterator]();cr(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function lL(t,e){return G_($_(t),e)}function uL(t,e){if(t!=null){if(L_(t))return oL(t,e);if(Nd(t))return aL(t,e);if(F_(t))return sL(t,e);if(V_(t))return G_(t,e);if(B_(t))return cL(t,e);if(H_(t))return lL(t,e)}throw j_(t)}function Qt(t,e){return e?uL(t,e):Yt(t)}function Re(...t){let e=Wo(t);return Qt(t,e)}function Fd(t,e){let n=De(t)?t:()=>t,i=r=>r.error(n());return new Ue(e?r=>e.schedule(i,0,r):i)}function bS(t){return!!t&&(t instanceof Ue||De(t.lift)&&De(t.subscribe))}var wr=Sd(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function br(t,e){let n=typeof e=="object";return new Promise((i,r)=>{let o=!1,a;t.subscribe({next:l=>{a=l,o=!0},error:r,complete:()=>{o?i(a):n?i(e.defaultValue):r(new wr)}})})}function z_(t,e){let n=typeof e=="object";return new Promise((i,r)=>{let o=new Ga({next:a=>{i(a),o.unsubscribe()},error:r,complete:()=>{n?i(e.defaultValue):r(new wr)}});t.subscribe(o)})}function dL(t){return t instanceof Date&&!isNaN(t)}function Ne(t,e){return mt((n,i)=>{let r=0;n.subscribe(ot(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:Wq}=Array;function Kq(t,e){return Wq(e)?t(...e):t(e)}function Ld(t){return Ne(e=>Kq(t,e))}var{isArray:Yq}=Array,{getPrototypeOf:Qq,prototype:Jq,keys:Xq}=Object;function q_(t){if(t.length===1){let e=t[0];if(Yq(e))return{args:e,keys:null};if(Zq(e)){let n=Xq(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function Zq(t){return t&&typeof t=="object"&&Qq(t)===Jq}function W_(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function K_(...t){let e=Wo(t),n=R_(t),{args:i,keys:r}=q_(t);if(i.length===0)return Qt([],e);let o=new Ue(eW(i,e,r?a=>W_(r,a):_r));return n?o.pipe(Ld(n)):o}function eW(t,e,n=_r){return i=>{hL(e,()=>{let{length:r}=t,o=new Array(r),a=r,l=r;for(let d=0;d<r;d++)hL(e,()=>{let h=Qt(t[d],e),m=!1;h.subscribe(ot(i,v=>{o[d]=v,m||(m=!0,l--),l||i.next(n(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}function hL(t,e,n){t?cr(n,t,e):e()}function fL(t,e,n,i,r,o,a,l){let d=[],h=0,m=0,v=!1,y=()=>{v&&!d.length&&!h&&e.complete()},E=S=>h<i?w(S):d.push(S),w=S=>{o&&e.next(S),h++;let D=!1;Yt(n(S,m++)).subscribe(ot(e,O=>{r?.(O),o?E(O):e.next(O)},()=>{D=!0},void 0,()=>{if(D)try{for(h--;d.length&&h<i;){let O=d.shift();a?cr(e,a,()=>w(O)):w(O)}y()}catch(O){e.error(O)}}))};return t.subscribe(ot(e,E,()=>{v=!0,y()})),()=>{l?.()}}function kn(t,e,n=1/0){return De(e)?kn((i,r)=>Ne((o,a)=>e(i,o,r,a))(Yt(t(i,r))),n):(typeof e=="number"&&(n=e),mt((i,r)=>fL(i,r,t,n)))}function Wa(t=1/0){return kn(_r,t)}function pL(){return Wa(1)}function Vd(...t){return pL()(Qt(t,Wo(t)))}function Y_(t){return new Ue(e=>{Yt(t()).subscribe(e)})}function CS(...t){let e=R_(t),{args:n,keys:i}=q_(t),r=new Ue(o=>{let{length:a}=n;if(!a){o.complete();return}let l=new Array(a),d=a,h=a;for(let m=0;m<a;m++){let v=!1;Yt(n[m]).subscribe(ot(o,y=>{v||(v=!0,h--),l[m]=y},()=>d--,void 0,()=>{(!d||!v)&&(h||o.next(i?W_(i,l):l),o.complete())}))}});return e?r.pipe(Ld(e)):r}var tW=["addListener","removeListener"],nW=["addEventListener","removeEventListener"],iW=["on","off"];function jd(t,e,n,i){if(De(n)&&(i=n,n=void 0),i)return jd(t,e,n).pipe(Ld(i));let[r,o]=sW(t)?nW.map(a=>l=>t[a](e,l,n)):rW(t)?tW.map(mL(t,e)):oW(t)?iW.map(mL(t,e)):[];if(!r&&Nd(t))return kn(a=>jd(a,e,n))(Yt(t));if(!r)throw new TypeError("Invalid event target");return new Ue(a=>{let l=(...d)=>a.next(1<d.length?d:d[0]);return r(l),()=>o(l)})}function mL(t,e){return n=>i=>t[n](e,i)}function rW(t){return De(t.addListener)&&De(t.removeListener)}function oW(t){return De(t.on)&&De(t.off)}function sW(t){return De(t.addEventListener)&&De(t.removeEventListener)}function gL(t=0,e,n=yS){let i=-1;return e!=null&&(k_(e)?n=e:i=e),new Ue(r=>{let o=dL(t)?+t-n.now():t;o<0&&(o=0);let a=0;return n.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function $p(...t){let e=Wo(t),n=Z2(t,1/0),i=t;return i.length?i.length===1?Yt(i[0]):Wa(n)(Qt(i,e)):ar}function di(t,e){return mt((n,i)=>{let r=0;n.subscribe(ot(i,o=>t.call(e,o,r++)&&i.next(o)))})}function vL(t){return mt((e,n)=>{let i=!1,r=null,o=null,a=!1,l=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let h=r;r=null,n.next(h)}a&&n.complete()},d=()=>{o=null,a&&n.complete()};e.subscribe(ot(n,h=>{i=!0,r=h,o||Yt(t(h)).subscribe(o=ot(n,l,d))},()=>{a=!0,(!i||!o||o.closed)&&n.complete()}))})}function ES(t,e=Rd){return vL(()=>gL(t,e))}function Ko(t){return mt((e,n)=>{let i=null,r=!1,o;i=e.subscribe(ot(n,void 0,void 0,a=>{o=Yt(t(a,Ko(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function yL(t,e,n,i,r){return(o,a)=>{let l=n,d=e,h=0;o.subscribe(ot(a,m=>{let v=h++;d=l?t(d,m,v):(l=!0,m),i&&a.next(d)},r&&(()=>{l&&a.next(d),a.complete()})))}}function Ka(t,e){return De(e)?kn(t,e,1):kn(t,1)}function Ya(t){return mt((e,n)=>{let i=!1;e.subscribe(ot(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function Hs(t){return t<=0?()=>ar:mt((e,n)=>{let i=0;e.subscribe(ot(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function IS(t){return Ne(()=>t)}function Q_(t=aW){return mt((e,n)=>{let i=!1;e.subscribe(ot(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function aW(){return new wr}function pl(t){return mt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Yo(t,e){let n=arguments.length>=2;return i=>i.pipe(t?di((r,o)=>t(r,o,i)):_r,Hs(1),n?Ya(e):Q_(()=>new wr))}function Ud(t){return t<=0?()=>ar:mt((e,n)=>{let i=[];e.subscribe(ot(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function SS(t,e){let n=arguments.length>=2;return i=>i.pipe(t?di((r,o)=>t(r,o,i)):_r,Ud(1),n?Ya(e):Q_(()=>new wr))}function TS(t,e){return mt(yL(t,e,arguments.length>=2,!0))}function DS(t){return di((e,n)=>t<=n)}function xS(...t){let e=Wo(t);return mt((n,i)=>{(e?Vd(t,n,e):Vd(t,n)).subscribe(i)})}function Pi(t,e){return mt((n,i)=>{let r=null,o=0,a=!1,l=()=>a&&!r&&i.complete();n.subscribe(ot(i,d=>{r?.unsubscribe();let h=0,m=o++;Yt(t(d,m)).subscribe(r=ot(i,v=>i.next(e?e(d,v,m,h++):v),()=>{r=null,l()}))},()=>{a=!0,l()}))})}function fo(t){return mt((e,n)=>{Yt(t).subscribe(ot(n,()=>n.complete(),Up)),!n.closed&&e.subscribe(n)})}function Rn(t,e,n){let i=De(t)||e||n?{next:t,error:e,complete:n}:t;return i?mt((r,o)=>{var a;(a=i.subscribe)===null||a===void 0||a.call(i);let l=!0;r.subscribe(ot(o,d=>{var h;(h=i.next)===null||h===void 0||h.call(i,d),o.next(d)},()=>{var d;l=!1,(d=i.complete)===null||d===void 0||d.call(i),o.complete()},d=>{var h;l=!1,(h=i.error)===null||h===void 0||h.call(i,d),o.error(d)},()=>{var d,h;l&&((d=i.unsubscribe)===null||d===void 0||d.call(i)),(h=i.finalize)===null||h===void 0||h.call(i)}))}):_r}var sV="https://g.co/ng/security#xss",X=class extends Error{constructor(e,n){super(A0(e,n)),this.code=e}};function A0(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var GS=class extends ui{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=Ot(null);try{super.next(e)}finally{Ot(n)}}subscribe(e,n,i){let r=e,o=n||(()=>null),a=i;if(e&&typeof e=="object"){let d=e;r=d.next?.bind(d),o=d.error?.bind(d),a=d.complete?.bind(d)}this.__isAsync&&(o=AS(o),r&&(r=AS(r)),a&&(a=AS(a)));let l=super.subscribe({next:r,error:o,complete:a});return e instanceof On&&e.add(l),l}};function AS(t){return e=>{setTimeout(t,void 0,e)}}var zt=GS;var at=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(at||{});function Yi(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Yi).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function zS(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var aV=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(aV||{}),Xo=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Xo||{});function em(t){return{toString:t}.toString()}var Gs=globalThis;var qd={},lr=[];function qt(t){for(let e in t)if(t[e]===qt)return e;throw Error("Could not find renamed property on target object.")}function cW(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var lW=qt({\u0275cmp:qt}),uW=qt({\u0275dir:qt}),dW=qt({\u0275pipe:qt}),hW=qt({\u0275mod:qt}),u0=qt({\u0275fac:qt}),Hp=qt({__NG_ELEMENT_ID__:qt}),_L=qt({__NG_ENV_ID__:qt}),xe=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(xe||{});function cV(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function qS(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],a=n[i++],l=n[i++];t.setAttribute(e,a,l,o)}else{let o=r,a=n[++i];fW(o)?t.setProperty(e,o,a):t.setAttribute(e,o,a),i++}}return i}function lV(t){return t===3||t===4||t===6}function fW(t){return t.charCodeAt(0)===64}function Gp(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?wL(t,n,r,null,e[++i]):wL(t,n,r,null,null))}}return t}function wL(t,e,n,i,r){let o=0,a=t.length;if(e===-1)a=-1;else for(;o<t.length;){let l=t[o++];if(typeof l=="number"){if(l===e){a=-1;break}else if(l>e){a=o-1;break}}}for(;o<t.length;){let l=t[o];if(typeof l=="number")break;if(l===n){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}a!==-1&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var uV="ng-template";function pW(t,e,n){let i=0,r=!0;for(;i<t.length;){let o=t[i++];if(typeof o=="string"&&r){let a=t[i++];if(n&&o==="class"&&cV(a.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;i<t.length&&typeof(o=t[i++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(r=!1)}return!1}function dV(t){return t.type===4&&t.value!==uV}function mW(t,e,n){let i=t.type===4&&!n?uV:t.value;return e===i}function gW(t,e,n){let i=4,r=t.attrs||[],o=_W(r),a=!1;for(let l=0;l<e.length;l++){let d=e[l];if(typeof d=="number"){if(!a&&!po(i)&&!po(d))return!1;if(a&&po(d))continue;a=!1,i=d|i&1;continue}if(!a)if(i&4){if(i=2|i&1,d!==""&&!mW(t,d,n)||d===""&&e.length===1){if(po(i))return!1;a=!0}}else{let h=i&8?d:e[++l];if(i&8&&t.attrs!==null){if(!pW(t.attrs,h,n)){if(po(i))return!1;a=!0}continue}let m=i&8?"class":d,v=vW(m,r,dV(t),n);if(v===-1){if(po(i))return!1;a=!0;continue}if(h!==""){let y;v>o?y="":y=r[v+1].toLowerCase();let E=i&8?y:null;if(E&&cV(E,h,0)!==-1||i&2&&h!==y){if(po(i))return!1;a=!0}}}}return po(i)||a}function po(t){return(t&1)===0}function vW(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let a=e[r];if(a===t)return r;if(a===3||a===6)o=!0;else if(a===1||a===2){let l=e[++r];for(;typeof l=="string";)l=e[++r];continue}else{if(a===4)break;if(a===0){r+=4;continue}}r+=o?1:2}return-1}else return wW(e,t)}function yW(t,e,n=!1){for(let i=0;i<e.length;i++)if(gW(t,e[i],n))return!0;return!1}function _W(t){for(let e=0;e<t.length;e++){let n=t[e];if(lV(n))return e}return t.length}function wW(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function bL(t,e){return t?":not("+e.trim()+")":e}function bW(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let a=t[n];if(typeof a=="string")if(i&2){let l=t[++n];r+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else i&8?r+="."+a:i&4&&(r+=" "+a);else r!==""&&!po(a)&&(e+=bL(o,r),r=""),i=a,o=o||!po(i);n++}return r!==""&&(e+=bL(o,r)),e}function CW(t){return t.map(bW).join(",")}function EW(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!po(r))break;r=o}i++}return{attrs:e,classes:n}}function de(t){return em(()=>{let e=gV(t),n=xt(ne({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===aV.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Xo.Emulated,styles:t.styles||lr,_:null,schemas:t.schemas||null,tView:null,id:""});vV(n);let i=t.dependencies;return n.directiveDefs=EL(i,!1),n.pipeDefs=EL(i,!0),n.id=TW(n),n})}function IW(t){return Xa(t)||hV(t)}function SW(t){return t!==null}function Qi(t){return em(()=>({type:t.type,bootstrap:t.bootstrap||lr,declarations:t.declarations||lr,imports:t.imports||lr,exports:t.exports||lr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function CL(t,e){if(t==null)return qd;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,a,l=xe.None;Array.isArray(r)?(l=r[0],o=r[1],a=r[2]??o):(o=r,a=r),e?(n[o]=l!==xe.None?[i,l]:i,e[o]=a):n[o]=i}return n}function At(t){return em(()=>{let e=gV(t);return vV(e),e})}function Xa(t){return t[lW]||null}function hV(t){return t[uW]||null}function fV(t){return t[dW]||null}function pV(t){let e=Xa(t)||hV(t)||fV(t);return e!==null?e.standalone:!1}function mV(t,e){let n=t[hW]||null;if(!n&&e===!0)throw new Error(`Type ${Yi(t)} does not have '\u0275mod' property.`);return n}function gV(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||qd,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||lr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:CL(t.inputs,e),outputs:CL(t.outputs),debugInfo:null}}function vV(t){t.features?.forEach(e=>e(t))}function EL(t,e){if(!t)return null;let n=e?fV:IW;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(SW)}function TW(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var is=0,st=1,ke=2,bi=3,mo=4,yo=5,d0=6,zp=7,go=8,Wd=9,zs=10,_n=11,qp=12,IL=13,ih=14,Zo=15,tm=16,Bd=17,qs=18,M0=19,yV=20,Ja=21,i0=22,vl=23,es=25,zT=1;var yl=7,h0=8,Kd=9,Cr=10,qT=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(qT||{});function ml(t){return Array.isArray(t)&&typeof t[zT]=="object"}function Xs(t){return Array.isArray(t)&&t[zT]===!0}function WT(t){return(t.flags&4)!==0}function P0(t){return t.componentOffset>-1}function O0(t){return(t.flags&1)===1}function Ws(t){return!!t.template}function DW(t){return(t[ke]&512)!==0}var xW="svg",AW="math",MW=!1;function PW(){return MW}function ts(t){for(;Array.isArray(t);)t=t[is];return t}function OW(t){for(;Array.isArray(t);){if(typeof t[zT]=="object")return t;t=t[is]}return null}function _V(t,e){return ts(e[t])}function Fr(t,e){return ts(e[t.index])}function wV(t,e){return t.data[e]}function kW(t,e){return t[e]}function tc(t,e){let n=e[t];return ml(n)?n:n[is]}function RW(t){return(t[ke]&4)===4}function KT(t){return(t[ke]&128)===128}function NW(t){return Xs(t[bi])}function Yd(t,e){return e==null?null:t[e]}function bV(t){t[Bd]=0}function FW(t){t[ke]&1024||(t[ke]|=1024,KT(t)&&Wp(t))}function LW(t,e){for(;t>0;)e=e[ih],t--;return e}function YT(t){return!!(t[ke]&9216||t[vl]?.dirty)}function WS(t){YT(t)?Wp(t):t[ke]&64&&(PW()?(t[ke]|=1024,Wp(t)):t[zs].changeDetectionScheduler?.notify())}function Wp(t){t[zs].changeDetectionScheduler?.notify();let e=Kp(t);for(;e!==null&&!(e[ke]&8192||(e[ke]|=8192,!KT(e)));)e=Kp(e)}function CV(t,e){if((t[ke]&256)===256)throw new X(911,!1);t[Ja]===null&&(t[Ja]=[]),t[Ja].push(e)}function VW(t,e){if(t[Ja]===null)return;let n=t[Ja].indexOf(e);n!==-1&&t[Ja].splice(n,1)}function Kp(t){let e=t[bi];return Xs(e)?e[bi]:e}var tt={lFrame:MV(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function jW(){return tt.lFrame.elementDepthCount}function UW(){tt.lFrame.elementDepthCount++}function BW(){tt.lFrame.elementDepthCount--}function EV(){return tt.bindingsEnabled}function $W(){return tt.skipHydrationRootTNode!==null}function HW(t){return tt.skipHydrationRootTNode===t}function GW(){tt.skipHydrationRootTNode=null}function Et(){return tt.lFrame.lView}function Hn(){return tt.lFrame.tView}function N(t){return tt.lFrame.contextLView=t,t[go]}function F(t){return tt.lFrame.contextLView=null,t}function Oi(){let t=IV();for(;t!==null&&t.type===64;)t=t.parent;return t}function IV(){return tt.lFrame.currentTNode}function zW(){let t=tt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Sl(t,e){let n=tt.lFrame;n.currentTNode=t,n.isParent=e}function QT(){return tt.lFrame.isParent}function SV(){tt.lFrame.isParent=!1}function qW(){return tt.lFrame.contextLView}function WW(){let t=tt.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function KW(){return tt.lFrame.bindingIndex}function YW(t){return tt.lFrame.bindingIndex=t}function nm(){return tt.lFrame.bindingIndex++}function JT(t){let e=tt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function QW(){return tt.lFrame.inI18n}function JW(t,e){let n=tt.lFrame;n.bindingIndex=n.bindingRootIndex=t,KS(e)}function XW(){return tt.lFrame.currentDirectiveIndex}function KS(t){tt.lFrame.currentDirectiveIndex=t}function TV(t){let e=tt.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function DV(){return tt.lFrame.currentQueryIndex}function XT(t){tt.lFrame.currentQueryIndex=t}function ZW(t){let e=t[st];return e.type===2?e.declTNode:e.type===1?t[yo]:null}function xV(t,e,n){if(n&at.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(n&at.Host);)if(r=ZW(o),r===null||(o=o[ih],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=tt.lFrame=AV();return i.currentTNode=e,i.lView=t,!0}function ZT(t){let e=AV(),n=t[st];tt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function AV(){let t=tt.lFrame,e=t===null?null:t.child;return e===null?MV(t):e}function MV(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function PV(){let t=tt.lFrame;return tt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var OV=PV;function e1(){let t=PV();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function e7(t){return(tt.lFrame.contextLView=LW(t,tt.lFrame.contextLView))[go]}function nc(){return tt.lFrame.selectedIndex}function _l(t){tt.lFrame.selectedIndex=t}function k0(){let t=tt.lFrame;return wV(t.tView,t.selectedIndex)}function t7(){return tt.lFrame.currentNamespace}var kV=!0;function R0(){return kV}function N0(t){kV=t}function n7(){return rh(Oi(),Et())}function rh(t,e){return new nn(Fr(t,e))}var nn=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=n7;let t=e;return t})();function i7(t){return t instanceof nn?t.nativeElement:t}function r7(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function o7(t){return t.flat(Number.POSITIVE_INFINITY)}function t1(t,e){t.forEach(n=>Array.isArray(n)?t1(n,e):e(n))}function RV(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function f0(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function s7(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function F0(t,e,n){let i=im(t,e);return i>=0?t[i|1]=n:(i=~i,s7(t,i,e,n)),i}function MS(t,e){let n=im(t,e);if(n>=0)return t[n|1]}function im(t,e){return a7(t,e,1)}function a7(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),a=t[o<<n];if(e===a)return o<<n;a>e?r=o:i=o+1}return~(r<<n)}function c7(){return this._results[Symbol.iterator]()}var YS=class t{get changes(){return this._changes??=new zt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=c7)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=o7(e);(this._changesDetected=!r7(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function NV(t){return(t.flags&128)===128}var QS;function FV(t){QS=t}function l7(){if(QS!==void 0)return QS;if(typeof document<"u")return document;throw new X(210,!1)}function Z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ji(t){return{providers:t.providers||[],imports:t.imports||[]}}function L0(t){return SL(t,VV)||SL(t,jV)}function LV(t){return L0(t)!==null}function SL(t,e){return t.hasOwnProperty(e)?t[e]:null}function u7(t){let e=t&&(t[VV]||t[jV]);return e||null}function TL(t){return t&&(t.hasOwnProperty(DL)||t.hasOwnProperty(d7))?t[DL]:null}var VV=qt({\u0275prov:qt}),DL=qt({\u0275inj:qt}),jV=qt({ngInjectableDef:qt}),d7=qt({ngInjectorDef:qt}),we=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},n1=new we("",{providedIn:"root",factory:()=>h7}),h7="ng",i1=new we(""),Lr=new we("",{providedIn:"platform",factory:()=>"unknown"});var r1=new we(""),o1=new we("",{providedIn:"root",factory:()=>l7().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var f7=qt({__forward_ref__:qt});function ic(t){return t.__forward_ref__=ic,t.toString=function(){return Yi(this())},t}function Ki(t){return UV(t)?t():t}function UV(t){return typeof t=="function"&&t.hasOwnProperty(f7)&&t.__forward_ref__===ic}function BV(t){return t&&!!t.\u0275providers}function Qd(t){return typeof t=="string"?t:t==null?"":String(t)}function p7(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Qd(t)}function m7(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new X(-200,t)}function s1(t,e){throw new X(-201,!1)}var JS;function $V(){return JS}function Nr(t){let e=JS;return JS=t,e}function HV(t,e,n){let i=L0(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&at.Optional)return null;if(e!==void 0)return e;s1(t,"Injector")}var g7={},Yp=g7,XS="__NG_DI_FLAG__",p0="ngTempTokenPath",v7="ngTokenPath",y7=/\n/gm,_7="\u0275",xL="__source",Gd;function w7(){return Gd}function Qa(t){let e=Gd;return Gd=t,e}function b7(t,e=at.Default){if(Gd===void 0)throw new X(-203,!1);return Gd===null?HV(t,void 0,e):Gd.get(t,e&at.Optional?null:void 0,e)}function se(t,e=at.Default){return($V()||b7)(Ki(t),e)}function J(t,e=at.Default){return se(t,V0(e))}function V0(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ZS(t){let e=[];for(let n=0;n<t.length;n++){let i=Ki(t[n]);if(Array.isArray(i)){if(i.length===0)throw new X(900,!1);let r,o=at.Default;for(let a=0;a<i.length;a++){let l=i[a],d=C7(l);typeof d=="number"?d===-1?r=l.token:o|=d:r=l}e.push(se(r,o))}else e.push(se(i))}return e}function GV(t,e){return t[XS]=e,t.prototype[XS]=e,t}function C7(t){return t[XS]}function E7(t,e,n,i){let r=t[p0];throw e[xL]&&r.unshift(e[xL]),t.message=I7(`
`+t.message,r,n,i),t[v7]=r,t[p0]=null,t}function I7(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==_7?t.slice(2):t;let r=Yi(e);if(Array.isArray(e))r=e.map(Yi).join(" -> ");else if(typeof e=="object"){let o=[];for(let a in e)if(e.hasOwnProperty(a)){let l=e[a];o.push(a+":"+(typeof l=="string"?JSON.stringify(l):Yi(l)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(y7,`
  `)}`}var S7="h",T7="b";var D7=()=>null;function a1(t,e,n=!1){return D7(t,e,n)}var J_="__parameters__";function x7(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function zV(t,e,n){return em(()=>{let i=x7(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let a=new r(...o);return l.annotation=a,l;function l(d,h,m){let v=d.hasOwnProperty(J_)?d[J_]:Object.defineProperty(d,J_,{value:[]})[J_];for(;v.length<=m;)v.push(null);return(v[m]=v[m]||[]).push(a),d}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Xi=GV(zV("Optional"),8);var qV=GV(zV("SkipSelf"),4);function Jd(t,e){let n=t.hasOwnProperty(u0);return n?t[u0]:null}var Xd=new we(""),WV=new we("",-1),KV=new we(""),m0=class{get(e,n=Yp){if(n===Yp){let i=new Error(`NullInjectorError: No provider for ${Yi(e)}!`);throw i.name="NullInjectorError",i}return n}};function rc(t){return{\u0275providers:t}}function rm(...t){return{\u0275providers:YV(!0,t),\u0275fromNgModule:!0}}function YV(t,...e){let n=[],i=new Set,r,o=a=>{n.push(a)};return t1(e,a=>{let l=a;eT(l,o,[],i)&&(r||=[],r.push(l))}),r!==void 0&&QV(r,o),n}function QV(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];c1(r,o=>{e(o,i)})}}function eT(t,e,n,i){if(t=Ki(t),!t)return!1;let r=null,o=TL(t),a=!o&&Xa(t);if(!o&&!a){let d=t.ngModule;if(o=TL(d),o)r=d;else return!1}else{if(a&&!a.standalone)return!1;r=t}let l=i.has(r);if(a){if(l)return!1;if(i.add(r),a.dependencies){let d=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let h of d)eT(h,e,n,i)}}else if(o){if(o.imports!=null&&!l){i.add(r);let h;try{t1(o.imports,m=>{eT(m,e,n,i)&&(h||=[],h.push(m))})}finally{}h!==void 0&&QV(h,e)}if(!l){let h=Jd(r)||(()=>new r);e({provide:r,useFactory:h,deps:lr},r),e({provide:KV,useValue:r,multi:!0},r),e({provide:Xd,useValue:()=>se(r),multi:!0},r)}let d=o.providers;if(d!=null&&!l){let h=t;c1(d,m=>{e(m,h)})}}else return!1;return r!==t&&t.providers!==void 0}function c1(t,e){for(let n of t)BV(n)&&(n=n.\u0275providers),Array.isArray(n)?c1(n,e):e(n)}var A7=qt({provide:String,useValue:qt});function JV(t){return t!==null&&typeof t=="object"&&A7 in t}function M7(t){return!!(t&&t.useExisting)}function P7(t){return!!(t&&t.useFactory)}function Zd(t){return typeof t=="function"}function O7(t){return!!t.useClass}var j0=new we(""),r0={},k7={},PS;function U0(){return PS===void 0&&(PS=new m0),PS}var hi=class{},Qp=class extends hi{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,nT(e,a=>this.processProvider(a)),this.records.set(WV,$d(void 0,this)),r.has("environment")&&this.records.set(hi,$d(void 0,this));let o=this.records.get(j0);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(KV,lr,at.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ot(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ot(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Qa(this),i=Nr(void 0),r;try{return e()}finally{Qa(n),Nr(i)}}get(e,n=Yp,i=at.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(_L))return e[_L](this);i=V0(i);let r,o=Qa(this),a=Nr(void 0);try{if(!(i&at.SkipSelf)){let d=this.records.get(e);if(d===void 0){let h=V7(e)&&L0(e);h&&this.injectableDefInScope(h)?d=$d(tT(e),r0):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d)}let l=i&at.Self?U0():this.parent;return n=i&at.Optional&&n===Yp?null:n,l.get(e,n)}catch(l){if(l.name==="NullInjectorError"){if((l[p0]=l[p0]||[]).unshift(Yi(e)),o)throw l;return E7(l,e,"R3InjectorError",this.source)}else throw l}finally{Nr(a),Qa(o)}}resolveInjectorInitializers(){let e=Ot(null),n=Qa(this),i=Nr(void 0),r;try{let o=this.get(Xd,lr,at.Self);for(let a of o)a()}finally{Qa(n),Nr(i),Ot(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(Yi(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new X(205,!1)}processProvider(e){e=Ki(e);let n=Zd(e)?e:Ki(e&&e.provide),i=N7(e);if(!Zd(e)&&e.multi===!0){let r=this.records.get(n);r||(r=$d(void 0,r0,!0),r.factory=()=>ZS(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=Ot(null);try{return n.value===r0&&(n.value=k7,n.value=n.factory()),typeof n.value=="object"&&n.value&&L7(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ot(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ki(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function tT(t){let e=L0(t),n=e!==null?e.factory:Jd(t);if(n!==null)return n;if(t instanceof we)throw new X(204,!1);if(t instanceof Function)return R7(t);throw new X(204,!1)}function R7(t){if(t.length>0)throw new X(204,!1);let n=u7(t);return n!==null?()=>n.factory(t):()=>new t}function N7(t){if(JV(t))return $d(void 0,t.useValue);{let e=XV(t);return $d(e,r0)}}function XV(t,e,n){let i;if(Zd(t)){let r=Ki(t);return Jd(r)||tT(r)}else if(JV(t))i=()=>Ki(t.useValue);else if(P7(t))i=()=>t.useFactory(...ZS(t.deps||[]));else if(M7(t))i=()=>se(Ki(t.useExisting));else{let r=Ki(t&&(t.useClass||t.provide));if(F7(t))i=()=>new r(...ZS(t.deps));else return Jd(r)||tT(r)}return i}function $d(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function F7(t){return!!t.deps}function L7(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function V7(t){return typeof t=="function"||typeof t=="object"&&t instanceof we}function nT(t,e){for(let n of t)Array.isArray(n)?nT(n,e):n&&BV(n)?nT(n.\u0275providers,e):e(n)}function Zs(t,e){t instanceof Qp&&t.assertNotDestroyed();let n,i=Qa(t),r=Nr(void 0);try{return e()}finally{Qa(i),Nr(r)}}function j7(t){if(!$V()&&!w7())throw new X(-203,!1)}function U7(t){return typeof t=="function"}var iT=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function ZV(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function _o(){return e3}function e3(t){return t.type.prototype.ngOnChanges&&(t.setInput=$7),B7}_o.ngInherit=!0;function B7(){let t=n3(this),e=t?.current;if(e){let n=t.previous;if(n===qd)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function $7(t,e,n,i,r){let o=this.declaredInputs[i],a=n3(t)||H7(t,{previous:qd,current:null}),l=a.current||(a.current={}),d=a.previous,h=d[o];l[o]=new iT(h&&h.currentValue,n,d===qd),ZV(t,e,r,n)}var t3="__ngSimpleChanges__";function n3(t){return t[t3]||null}function H7(t,e){return t[t3]=e}var AL=null;var Qo=function(t,e,n){AL?.(t,e,n)};function G7(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let a=e3(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function B0(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:d,ngAfterViewChecked:h,ngOnDestroy:m}=o;a&&(t.contentHooks??=[]).push(-n,a),l&&((t.contentHooks??=[]).push(n,l),(t.contentCheckHooks??=[]).push(n,l)),d&&(t.viewHooks??=[]).push(-n,d),h&&((t.viewHooks??=[]).push(n,h),(t.viewCheckHooks??=[]).push(n,h)),m!=null&&(t.destroyHooks??=[]).push(n,m)}}function o0(t,e,n){i3(t,e,3,n)}function s0(t,e,n,i){(t[ke]&3)===n&&i3(t,e,n,i)}function OS(t,e){let n=t[ke];(n&3)===e&&(n&=16383,n+=1,t[ke]=n)}function i3(t,e,n,i){let r=i!==void 0?t[Bd]&65535:0,o=i??-1,a=e.length-1,l=0;for(let d=r;d<a;d++)if(typeof e[d+1]=="number"){if(l=e[d],i!=null&&l>=i)break}else e[d]<0&&(t[Bd]+=65536),(l<o||o==-1)&&(z7(t,n,e,d),t[Bd]=(t[Bd]&4294901760)+d+2),d++}function ML(t,e){Qo(4,t,e);let n=Ot(null);try{e.call(t)}finally{Ot(n),Qo(5,t,e)}}function z7(t,e,n,i){let r=n[i]<0,o=n[i+1],a=r?-n[i]:n[i],l=t[a];r?t[ke]>>14<t[Bd]>>16&&(t[ke]&3)===e&&(t[ke]+=16384,ML(l,o)):ML(l,o)}var zd=-1,wl=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function q7(t){return t instanceof wl}function W7(t){return(t.flags&8)!==0}function K7(t){return(t.flags&16)!==0}function r3(t){return t!==zd}function g0(t){return t&32767}function Y7(t){return t>>16}function v0(t,e){let n=Y7(t),i=e;for(;n>0;)i=i[ih],n--;return i}var rT=!0;function PL(t){let e=rT;return rT=t,e}var Q7=256,o3=Q7-1,s3=5,J7=0,Jo={};function X7(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Hp)&&(i=n[Hp]),i==null&&(i=n[Hp]=J7++);let r=i&o3,o=1<<r;e.data[t+(r>>s3)]|=o}function y0(t,e){let n=a3(t,e);if(n!==-1)return n;let i=e[st];i.firstCreatePass&&(t.injectorIndex=e.length,kS(i.data,t),kS(e,null),kS(i.blueprint,null));let r=l1(t,e),o=t.injectorIndex;if(r3(r)){let a=g0(r),l=v0(r,e),d=l[st].data;for(let h=0;h<8;h++)e[o+h]=l[a+h]|d[a+h]}return e[o+8]=r,o}function kS(t,e){t.push(0,0,0,0,0,0,0,0,e)}function a3(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function l1(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=h3(r),i===null)return zd;if(n++,r=r[ih],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return zd}function oT(t,e,n){X7(t,e,n)}function Z7(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(lV(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===e)return n[r+1];r=r+2}}}return null}function c3(t,e,n){if(n&at.Optional||t!==void 0)return t;s1(e,"NodeInjector")}function l3(t,e,n,i){if(n&at.Optional&&i===void 0&&(i=null),!(n&(at.Self|at.Host))){let r=t[Wd],o=Nr(void 0);try{return r?r.get(e,i,n&at.Optional):HV(e,i,n&at.Optional)}finally{Nr(o)}}return c3(i,e,n)}function u3(t,e,n,i=at.Default,r){if(t!==null){if(e[ke]&2048&&!(i&at.Self)){let a=iK(t,e,n,i,Jo);if(a!==Jo)return a}let o=d3(t,e,n,i,Jo);if(o!==Jo)return o}return l3(e,n,i,r)}function d3(t,e,n,i,r){let o=tK(n);if(typeof o=="function"){if(!xV(e,t,i))return i&at.Host?c3(r,n,i):l3(e,n,i,r);try{let a;if(a=o(i),a==null&&!(i&at.Optional))s1(n);else return a}finally{OV()}}else if(typeof o=="number"){let a=null,l=a3(t,e),d=zd,h=i&at.Host?e[Zo][yo]:null;for((l===-1||i&at.SkipSelf)&&(d=l===-1?l1(t,e):e[l+8],d===zd||!kL(i,!1)?l=-1:(a=e[st],l=g0(d),e=v0(d,e)));l!==-1;){let m=e[st];if(OL(o,l,m.data)){let v=eK(l,e,n,a,i,h);if(v!==Jo)return v}d=e[l+8],d!==zd&&kL(i,e[st].data[l+8]===h)&&OL(o,l,e)?(a=m,l=g0(d),e=v0(d,e)):l=-1}}return r}function eK(t,e,n,i,r,o){let a=e[st],l=a.data[t+8],d=i==null?P0(l)&&rT:i!=a&&(l.type&3)!==0,h=r&at.Host&&o===l,m=a0(l,a,n,d,h);return m!==null?bl(e,a,m,l):Jo}function a0(t,e,n,i,r){let o=t.providerIndexes,a=e.data,l=o&1048575,d=t.directiveStart,h=t.directiveEnd,m=o>>20,v=i?l:l+m,y=r?l+m:h;for(let E=v;E<y;E++){let w=a[E];if(E<d&&n===w||E>=d&&w.type===n)return E}if(r){let E=a[d];if(E&&Ws(E)&&E.type===n)return d}return null}function bl(t,e,n,i){let r=t[n],o=e.data;if(q7(r)){let a=r;a.resolving&&m7(p7(o[n]));let l=PL(a.canSeeViewProviders);a.resolving=!0;let d,h=a.injectImpl?Nr(a.injectImpl):null,m=xV(t,i,at.Default);try{r=t[n]=a.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&G7(n,o[n],e)}finally{h!==null&&Nr(h),PL(l),a.resolving=!1,OV()}}return r}function tK(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Hp)?t[Hp]:void 0;return typeof e=="number"?e>=0?e&o3:nK:e}function OL(t,e,n){let i=1<<t;return!!(n[e+(t>>s3)]&i)}function kL(t,e){return!(t&at.Self)&&!(t&at.Host&&e)}var gl=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return u3(this._tNode,this._lView,e,V0(i),n)}};function nK(){return new gl(Oi(),Et())}function ki(t){return em(()=>{let e=t.prototype.constructor,n=e[u0]||sT(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[u0]||sT(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function sT(t){return UV(t)?()=>{let e=sT(Ki(t));return e&&e()}:Jd(t)}function iK(t,e,n,i,r){let o=t,a=e;for(;o!==null&&a!==null&&a[ke]&2048&&!(a[ke]&512);){let l=d3(o,a,n,i|at.Self,Jo);if(l!==Jo)return l;let d=o.parent;if(!d){let h=a[yV];if(h){let m=h.get(n,Jo,i);if(m!==Jo)return m}d=h3(a),a=a[ih]}o=d}return r}function h3(t){let e=t[st],n=e.type;return n===2?e.declTNode:n===1?t[yo]:null}function u1(t){return Z7(Oi(),t)}function RL(t,e=null,n=null,i){let r=f3(t,e,n,i);return r.resolveInjectorInitializers(),r}function f3(t,e=null,n=null,i,r=new Set){let o=[n||lr,rm(t)];return i=i||(typeof t=="object"?void 0:Yi(t)),new Qp(o,e||U0(),i||null,r)}var ln=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return RL({name:""},r,i,"");{let o=i.name??"";return RL({name:o},i.parent,i.providers,o)}}};e.THROW_IF_NOT_FOUND=Yp,e.NULL=new m0,e.\u0275prov=Z({token:e,providedIn:"any",factory:()=>se(WV)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),rK="ngOriginalError";function RS(t){return t[rK]}var ns=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&RS(e);for(;n&&RS(n);)n=RS(n);return n||null}},p3=new we("",{providedIn:"root",factory:()=>J(ns).handleError.bind(void 0)});var m3=!1,oK=new we("",{providedIn:"root",factory:()=>m3}),X_;function sK(){if(X_===void 0&&(X_=null,Gs.trustedTypes))try{X_=Gs.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return X_}function $0(t){return sK()?.createHTML(t)||t}var Z_;function aK(){if(Z_===void 0&&(Z_=null,Gs.trustedTypes))try{Z_=Gs.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Z_}function NL(t){return aK()?.createScriptURL(t)||t}var Ks=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${sV})`}},aT=class extends Ks{getTypeName(){return"HTML"}},cT=class extends Ks{getTypeName(){return"Style"}},lT=class extends Ks{getTypeName(){return"Script"}},uT=class extends Ks{getTypeName(){return"URL"}},dT=class extends Ks{getTypeName(){return"ResourceURL"}};function Vr(t){return t instanceof Ks?t.changingThisBreaksApplicationSecurity:t}function oc(t,e){let n=cK(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${sV})`)}return n===e}function cK(t){return t instanceof Ks&&t.getTypeName()||null}function g3(t){return new aT(t)}function v3(t){return new cT(t)}function y3(t){return new lT(t)}function _3(t){return new uT(t)}function w3(t){return new dT(t)}function lK(t){let e=new fT(t);return uK()?new hT(e):e}var hT=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString($0(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},fT=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=$0(e),n}};function uK(){try{return!!new window.DOMParser().parseFromString($0(""),"text/html")}catch{return!1}}var dK=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function H0(t){return t=String(t),t.match(dK)?t:"unsafe:"+t}function ea(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function om(...t){let e={};for(let n of t)for(let i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}var b3=ea("area,br,col,hr,img,wbr"),C3=ea("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),E3=ea("rp,rt"),hK=om(E3,C3),fK=om(C3,ea("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pK=om(E3,ea("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),FL=om(b3,fK,pK,hK),I3=ea("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mK=ea("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),gK=ea("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),vK=om(I3,mK,gK),yK=ea("script,style,template"),pT=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,i=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let r=this.checkClobberedElement(n,n.nextSibling);if(r){n=r;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!FL.hasOwnProperty(n))return this.sanitizedSomething=!0,!yK.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),a=o.name,l=a.toLowerCase();if(!vK.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let d=o.value;I3[l]&&(d=H0(d)),this.buf.push(" ",a,'="',LL(d),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();FL.hasOwnProperty(n)&&!b3.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(LL(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},_K=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wK=/([^\#-~ |!])/g;function LL(t){return t.replace(/&/g,"&amp;").replace(_K,function(e){let n=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(wK,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var e0;function S3(t,e){let n=null;try{e0=e0||lK(t);let i=e?String(e):"";n=e0.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=e0.getInertBodyElement(i)}while(i!==o);let l=new pT().sanitizeChildren(VL(n)||n);return $0(l)}finally{if(n){let i=VL(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function VL(t){return"content"in t&&bK(t)?t.content:null}function bK(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var rs=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(rs||{});function fi(t){let e=D3();return e?e.sanitize(rs.URL,t)||"":oc(t,"URL")?Vr(t):H0(Qd(t))}function d1(t){let e=D3();if(e)return NL(e.sanitize(rs.RESOURCE_URL,t)||"");if(oc(t,"ResourceURL"))return NL(Vr(t));throw new X(904,!1)}function CK(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?d1:fi}function T3(t,e,n){return CK(e,n)(t)}function D3(){let t=Et();return t&&t[zs].sanitizer}var EK=/^>|^->|<!--|-->|--!>|<!-$/g,IK=/(<|>)/g,SK="\u200B$1\u200B";function TK(t){return t.replace(EK,e=>e.replace(IK,SK))}var x3=new Map,DK=0;function xK(){return DK++}function AK(t){x3.set(t[M0],t)}function MK(t){x3.delete(t[M0])}var jL="__ngContext__";function Za(t,e){ml(e)?(t[jL]=e[M0],AK(e)):t[jL]=e}function Bt(t){return t.ownerDocument.defaultView}function A3(t){return t instanceof Function?t():t}var Ys=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ys||{}),PK;function h1(t,e){return PK(t,e)}function Hd(t,e,n,i,r){if(i!=null){let o,a=!1;Xs(i)?o=i:ml(i)&&(a=!0,i=i[is]);let l=ts(i);t===0&&n!==null?r==null?R3(e,n,l):_0(e,n,l,r||null,!0):t===1&&n!==null?_0(e,n,l,r||null,!0):t===2?YK(e,l,a):t===3&&e.destroyNode(l),o!=null&&JK(e,t,o,n,r)}}function OK(t,e){return t.createText(e)}function kK(t,e,n){t.setValue(e,n)}function RK(t,e){return t.createComment(TK(e))}function M3(t,e,n){return t.createElement(e,n)}function NK(t,e){P3(t,e),e[is]=null,e[yo]=null}function FK(t,e,n,i,r,o){i[is]=r,i[yo]=e,z0(t,i,n,1,r,o)}function P3(t,e){z0(t,e,e[_n],2,null,null)}function LK(t){let e=t[qp];if(!e)return NS(t[st],t);for(;e;){let n=null;if(ml(e))n=e[qp];else{let i=e[Cr];i&&(n=i)}if(!n){for(;e&&!e[mo]&&e!==t;)ml(e)&&NS(e[st],e),e=e[bi];e===null&&(e=t),ml(e)&&NS(e[st],e),n=e&&e[mo]}e=n}}function VK(t,e,n,i){let r=Cr+i,o=n.length;i>0&&(n[r-1][mo]=e),i<o-Cr?(e[mo]=n[r],RV(n,Cr+i,e)):(n.push(e),e[mo]=null),e[bi]=n;let a=e[tm];a!==null&&n!==a&&jK(a,e);let l=e[qs];l!==null&&l.insertView(t),WS(e),e[ke]|=128}function jK(t,e){let n=t[Kd],r=e[bi][bi][Zo];e[Zo]!==r&&(t[ke]|=qT.HasTransplantedViews),n===null?t[Kd]=[e]:n.push(e)}function O3(t,e){let n=t[Kd],i=n.indexOf(e);n.splice(i,1)}function mT(t,e){if(t.length<=Cr)return;let n=Cr+e,i=t[n];if(i){let r=i[tm];r!==null&&r!==t&&O3(r,i),e>0&&(t[n-1][mo]=i[mo]);let o=f0(t,Cr+e);NK(i[st],i);let a=o[qs];a!==null&&a.detachView(o[st]),i[bi]=null,i[mo]=null,i[ke]&=-129}return i}function k3(t,e){if(!(e[ke]&256)){let n=e[_n];n.destroyNode&&z0(t,e,n,3,null,null),LK(e)}}function NS(t,e){if(e[ke]&256)return;let n=Ot(null);try{e[ke]&=-129,e[ke]|=256,e[vl]&&sS(e[vl]),BK(t,e),UK(t,e),e[st].type===1&&e[_n].destroy();let i=e[tm];if(i!==null&&Xs(e[bi])){i!==e[bi]&&O3(i,e);let r=e[qs];r!==null&&r.detachView(t)}MK(e)}finally{Ot(n)}}function UK(t,e){let n=t.cleanup,i=e[zp];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let a=n[o+3];a>=0?i[a]():i[-a].unsubscribe(),o+=2}else{let a=i[n[o+1]];n[o].call(a)}i!==null&&(e[zp]=null);let r=e[Ja];if(r!==null){e[Ja]=null;for(let o=0;o<r.length;o++){let a=r[o];a()}}}function BK(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof wl)){let o=n[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let l=r[o[a]],d=o[a+1];Qo(4,l,d);try{d.call(l)}finally{Qo(5,l,d)}}else{Qo(4,r,o);try{o.call(r)}finally{Qo(5,r,o)}}}}}function $K(t,e,n){return HK(t,e.parent,n)}function HK(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[is];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===Xo.None||o===Xo.Emulated)return null}return Fr(i,n)}}function _0(t,e,n,i,r){t.insertBefore(e,n,i,r)}function R3(t,e,n){t.appendChild(e,n)}function UL(t,e,n,i,r){i!==null?_0(t,e,n,i,r):R3(t,e,n)}function GK(t,e,n,i){t.removeChild(e,n,i)}function f1(t,e){return t.parentNode(e)}function zK(t,e){return t.nextSibling(e)}function qK(t,e,n){return KK(t,e,n)}function WK(t,e,n){return t.type&40?Fr(t,n):null}var KK=WK,BL;function G0(t,e,n,i){let r=$K(t,i,e),o=e[_n],a=i.parent||e[yo],l=qK(a,i,e);if(r!=null)if(Array.isArray(n))for(let d=0;d<n.length;d++)UL(o,r,n[d],l,!1);else UL(o,r,n,l,!1);BL!==void 0&&BL(o,i,e,n,r)}function c0(t,e){if(e!==null){let n=e.type;if(n&3)return Fr(e,t);if(n&4)return gT(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return c0(t,i);{let r=t[e.index];return Xs(r)?gT(-1,r):ts(r)}}else{if(n&32)return h1(e,t)()||ts(t[e.index]);{let i=N3(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Kp(t[Zo]);return c0(r,i)}else return c0(t,e.next)}}}return null}function N3(t,e){if(e!==null){let i=t[Zo][yo],r=e.projection;return i.projection[r]}return null}function gT(t,e){let n=Cr+t+1;if(n<e.length){let i=e[n],r=i[st].firstChild;if(r!==null)return c0(i,r)}return e[yl]}function YK(t,e,n){let i=f1(t,e);i&&GK(t,i,e,n)}function p1(t,e,n,i,r,o,a){for(;n!=null;){let l=i[n.index],d=n.type;if(a&&e===0&&(l&&Za(ts(l),i),n.flags|=2),(n.flags&32)!==32)if(d&8)p1(t,e,n.child,i,r,o,!1),Hd(e,t,r,l,o);else if(d&32){let h=h1(n,i),m;for(;m=h();)Hd(e,t,r,m,o);Hd(e,t,r,l,o)}else d&16?QK(t,e,i,n,r,o):Hd(e,t,r,l,o);n=a?n.projectionNext:n.next}}function z0(t,e,n,i,r,o){p1(n,i,t.firstChild,e,r,o,!1)}function QK(t,e,n,i,r,o){let a=n[Zo],d=a[yo].projection[i.projection];if(Array.isArray(d))for(let h=0;h<d.length;h++){let m=d[h];Hd(e,t,r,m,o)}else{let h=d,m=a[bi];NV(i)&&(h.flags|=128),p1(t,e,h,m,r,o,!0)}}function JK(t,e,n,i,r){let o=n[yl],a=ts(n);o!==a&&Hd(e,t,i,o,r);for(let l=Cr;l<n.length;l++){let d=n[l];z0(d[st],d,t,e,i,o)}}function XK(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:Ys.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ys.Important),t.setStyle(n,i,r,o))}}function ZK(t,e,n){t.setAttribute(e,"style",n)}function F3(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function L3(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&qS(t,e,i),r!==null&&F3(t,e,r),o!==null&&ZK(t,e,o)}var wo={};function T(t=1){V3(Hn(),Et(),nc()+t,!1)}function V3(t,e,n,i){if(!i)if((e[ke]&3)===3){let o=t.preOrderCheckHooks;o!==null&&o0(e,o,n)}else{let o=t.preOrderHooks;o!==null&&s0(e,o,0,n)}_l(n)}function R(t,e=at.Default){let n=Et();if(n===null)return se(t,e);let i=Oi();return u3(i,n,Ki(t),e)}function j3(t,e,n,i,r,o){let a=Ot(null);try{let l=null;r&xe.SignalBased&&(l=e[i][Ha]),l!==null&&l.transformFn!==void 0&&(o=l.transformFn(o)),r&xe.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(e,o)),t.setInput!==null?t.setInput(e,l,o,n,i):ZV(e,l,i,o)}finally{Ot(a)}}function eY(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)_l(~r);else{let o=r,a=n[++i],l=n[++i];JW(a,o);let d=e[o];l(2,d)}}}finally{_l(-1)}}function q0(t,e,n,i,r,o,a,l,d,h,m){let v=e.blueprint.slice();return v[is]=r,v[ke]=i|4|128|8|64,(h!==null||t&&t[ke]&2048)&&(v[ke]|=2048),bV(v),v[bi]=v[ih]=t,v[go]=n,v[zs]=a||t&&t[zs],v[_n]=l||t&&t[_n],v[Wd]=d||t&&t[Wd]||null,v[yo]=o,v[M0]=xK(),v[d0]=m,v[yV]=h,v[Zo]=e.type==2?t[Zo]:v,v}function sm(t,e,n,i,r){let o=t.data[e];if(o===null)o=tY(t,e,n,i,r),QW()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let a=zW();o.injectorIndex=a===null?-1:a.injectorIndex}return Sl(o,!0),o}function tY(t,e,n,i,r){let o=IV(),a=QT(),l=a?o:o&&o.parent,d=t.data[e]=aY(t,l,n,e,i,r);return t.firstChild===null&&(t.firstChild=d),o!==null&&(a?o.child==null&&d.parent!==null&&(o.child=d):o.next===null&&(o.next=d,d.prev=o)),d}function U3(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function B3(t,e,n,i,r){let o=nc(),a=i&2;try{_l(-1),a&&e.length>es&&V3(t,e,es,!1),Qo(a?2:0,r),n(i,r)}finally{_l(o),Qo(a?3:1,r)}}function m1(t,e,n){if(WT(e)){let i=Ot(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let a=r;a<o;a++){let l=t.data[a];if(l.contentQueries){let d=n[a];l.contentQueries(1,d,a)}}}finally{Ot(i)}}}function g1(t,e,n){EV()&&(fY(t,e,n,Fr(n,e)),(n.flags&64)===64&&G3(t,e,n))}function v1(t,e,n=Fr){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let a=i[o+1],l=a===-1?n(e,t):t[a];t[r++]=l}}}function $3(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=y1(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function y1(t,e,n,i,r,o,a,l,d,h,m){let v=es+i,y=v+r,E=nY(v,y),w=typeof h=="function"?h():h;return E[st]={type:t,blueprint:E,template:n,queries:null,viewQuery:l,declTNode:e,data:E.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:d,consts:w,incompleteFirstPass:!1,ssrId:m}}function nY(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:wo);return n}function iY(t,e,n,i){let o=i.get(oK,m3)||n===Xo.ShadowDom,a=t.selectRootElement(e,o);return rY(a),a}function rY(t){oY(t)}var oY=()=>null;function sY(t,e,n,i){let r=W3(e);r.push(n),t.firstCreatePass&&K3(t).push(i,r.length-1)}function aY(t,e,n,i,r,o){let a=e?e.injectorIndex:-1,l=0;return $W()&&(l|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function $L(t,e,n,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let a=e[o];if(a===void 0)continue;i??={};let l,d=xe.None;Array.isArray(a)?(l=a[0],d=a[1]):l=a;let h=o;if(r!==null){if(!r.hasOwnProperty(o))continue;h=r[o]}t===0?HL(i,n,h,l,d):HL(i,n,h,l)}return i}function HL(t,e,n,i,r){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,i):o=t[n]=[e,i],r!==void 0&&o.push(r)}function cY(t,e,n){let i=e.directiveStart,r=e.directiveEnd,o=t.data,a=e.attrs,l=[],d=null,h=null;for(let m=i;m<r;m++){let v=o[m],y=n?n.get(v):null,E=y?y.inputs:null,w=y?y.outputs:null;d=$L(0,v.inputs,m,d,E),h=$L(1,v.outputs,m,h,w);let S=d!==null&&a!==null&&!dV(e)?IY(d,m,a):null;l.push(S)}d!==null&&(d.hasOwnProperty("class")&&(e.flags|=8),d.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=l,e.inputs=d,e.outputs=h}function lY(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function _1(t,e,n,i,r,o,a,l){let d=Fr(e,n),h=e.inputs,m;!l&&h!=null&&(m=h[i])?(b1(t,n,m,i,r),P0(e)&&uY(n,e.index)):e.type&3?(i=lY(i),r=a!=null?a(r,e.value||"",i):r,o.setProperty(d,i,r)):e.type&12}function uY(t,e){let n=tc(e,t);n[ke]&16||(n[ke]|=64)}function w1(t,e,n,i){if(EV()){let r=i===null?null:{"":-1},o=mY(t,n),a,l;o===null?a=l=null:[a,l]=o,a!==null&&H3(t,e,n,a,r,l),r&&gY(n,i,r)}n.mergedAttrs=Gp(n.mergedAttrs,n.attrs)}function H3(t,e,n,i,r,o){for(let h=0;h<i.length;h++)oT(y0(n,e),t,i[h].type);yY(n,t.data.length,i.length);for(let h=0;h<i.length;h++){let m=i[h];m.providersResolver&&m.providersResolver(m)}let a=!1,l=!1,d=U3(t,e,i.length,null);for(let h=0;h<i.length;h++){let m=i[h];n.mergedAttrs=Gp(n.mergedAttrs,m.hostAttrs),_Y(t,n,e,d,m),vY(d,m,r),m.contentQueries!==null&&(n.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(n.flags|=64);let v=m.type.prototype;!a&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),a=!0),!l&&(v.ngOnChanges||v.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),l=!0),d++}cY(t,n,o)}function dY(t,e,n,i,r){let o=r.hostBindings;if(o){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let l=~e.index;hY(a)!=l&&a.push(l),a.push(n,i,o)}}function hY(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function fY(t,e,n,i){let r=n.directiveStart,o=n.directiveEnd;P0(n)&&wY(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||y0(n,e),Za(i,e);let a=n.initialInputs;for(let l=r;l<o;l++){let d=t.data[l],h=bl(e,t,l,n);if(Za(h,e),a!==null&&EY(e,l-r,h,d,n,a),Ws(d)){let m=tc(n.index,e);m[go]=bl(e,t,l,n)}}}function G3(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,a=XW();try{_l(o);for(let l=i;l<r;l++){let d=t.data[l],h=e[l];KS(l),(d.hostBindings!==null||d.hostVars!==0||d.hostAttrs!==null)&&pY(d,h)}}finally{_l(-1),KS(a)}}function pY(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function mY(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let a=n[o];if(yW(e,a.selectors,!1))if(i||(i=[]),Ws(a))if(a.findHostDirectiveDefs!==null){let l=[];r=r||new Map,a.findHostDirectiveDefs(a,l,r),i.unshift(...l,a);let d=l.length;vT(t,e,d)}else i.unshift(a),vT(t,e,0);else r=r||new Map,a.findHostDirectiveDefs?.(a,i,r),i.push(a)}return i===null?null:[i,r]}function vT(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function gY(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new X(-301,!1);i.push(e[r],o)}}}function vY(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Ws(e)&&(n[""]=t)}}function yY(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function _Y(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=Jd(r.type,!0)),a=new wl(o,Ws(r),R);t.blueprint[i]=a,n[i]=a,dY(t,e,i,U3(t,n,r.hostVars,wo),r)}function wY(t,e,n){let i=Fr(e,t),r=$3(n),o=t[zs].rendererFactory,a=16;n.signals?a=4096:n.onPush&&(a=64);let l=W0(t,q0(t,r,null,a,i,e,null,o.createRenderer(i,n),null,null,null));t[e.index]=l}function bY(t,e,n,i,r,o){let a=Fr(t,e);CY(e[_n],a,o,t.value,n,i,r)}function CY(t,e,n,i,r,o,a){if(o==null)t.removeAttribute(e,r,n);else{let l=a==null?Qd(o):a(o,i||"",r);t.setAttribute(e,r,l,n)}}function EY(t,e,n,i,r,o){let a=o[e];if(a!==null)for(let l=0;l<a.length;){let d=a[l++],h=a[l++],m=a[l++],v=a[l++];j3(i,n,d,h,m,v)}}function IY(t,e,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let a=t[o];for(let l=0;l<a.length;l+=3)if(a[l]===e){i.push(o,a[l+1],a[l+2],n[r+1]);break}}r+=2}return i}function z3(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function q3(t,e){let n=t.contentQueries;if(n!==null){let i=Ot(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],a=n[r+1];if(a!==-1){let l=t.data[a];XT(o),l.contentQueries(2,e[a],a)}}}finally{Ot(i)}}}function W0(t,e){return t[qp]?t[IL][mo]=e:t[qp]=e,t[IL]=e,e}function yT(t,e,n){XT(0);let i=Ot(null);try{e(t,n)}finally{Ot(i)}}function W3(t){return t[zp]||(t[zp]=[])}function K3(t){return t.cleanup||(t.cleanup=[])}function SY(t,e,n){return(t===null||Ws(t))&&(n=OW(n[e.index])),n[_n]}function Y3(t,e){let n=t[Wd],i=n?n.get(ns,null):null;i&&i.handleError(e)}function b1(t,e,n,i,r){for(let o=0;o<n.length;){let a=n[o++],l=n[o++],d=n[o++],h=e[a],m=t.data[a];j3(m,h,i,l,d,r)}}function Q3(t,e,n){let i=_V(e,t);kK(t[_n],i,n)}function TY(t,e){let n=tc(e,t),i=n[st];DY(i,n);let r=n[is];r!==null&&n[d0]===null&&(n[d0]=a1(r,n[Wd])),C1(i,n,n[go])}function DY(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function C1(t,e,n){ZT(e);try{let i=t.viewQuery;i!==null&&yT(1,i,n);let r=t.template;r!==null&&B3(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[qs]?.finishViewCreation(t),t.staticContentQueries&&q3(t,e),t.staticViewQueries&&yT(2,t.viewQuery,n);let o=t.components;o!==null&&xY(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[ke]&=-5,e1()}}function xY(t,e){for(let n=0;n<e.length;n++)TY(t,e[n])}function AY(t,e,n,i){let r=Ot(null);try{let o=e.tView,l=t[ke]&4096?4096:16,d=q0(t,o,n,l,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null),h=t[e.index];d[tm]=h;let m=t[qs];return m!==null&&(d[qs]=m.createEmbeddedView(o)),C1(o,d,n),d}finally{Ot(r)}}function GL(t,e){return!e||e.firstChild===null||NV(t)}function MY(t,e,n,i=!0){let r=e[st];if(VK(r,e,t,n),i){let a=gT(n,t),l=e[_n],d=f1(l,t[yl]);d!==null&&FK(r,t[yo],l,e,d,a)}let o=e[d0];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function w0(t,e,n,i,r=!1){for(;n!==null;){let o=e[n.index];o!==null&&i.push(ts(o)),Xs(o)&&PY(o,i);let a=n.type;if(a&8)w0(t,e,n.child,i);else if(a&32){let l=h1(n,e),d;for(;d=l();)i.push(d)}else if(a&16){let l=N3(e,n);if(Array.isArray(l))i.push(...l);else{let d=Kp(e[Zo]);w0(d[st],d,l,i,!0)}}n=r?n.projectionNext:n.next}return i}function PY(t,e){for(let n=Cr;n<t.length;n++){let i=t[n],r=i[st].firstChild;r!==null&&w0(i[st],i,r,e)}t[yl]!==t[is]&&e.push(t[yl])}var J3=[];function OY(t){return t[vl]??kY(t)}function kY(t){let e=J3.pop()??Object.create(NY);return e.lView=t,e}function RY(t){t.lView[vl]!==t&&(t.lView=null,J3.push(t))}var NY=xt(ne({},C_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Wp(t.lView)},consumerOnSignalRead(){this.lView[vl]=this}});function X3(t){return ej(t[qp])}function Z3(t){return ej(t[mo])}function ej(t){for(;t!==null&&!Xs(t);)t=t[mo];return t}var tj=100;function nj(t,e=!0,n=0){let i=t[zs],r=i.rendererFactory,o=!1;o||r.begin?.();try{FY(t,n)}catch(a){throw e&&Y3(t,a),a}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function FY(t,e){_T(t,e);let n=0;for(;YT(t);){if(n===tj)throw new X(103,!1);n++,_T(t,1)}}function LY(t,e,n,i){let r=e[ke];if((r&256)===256)return;let o=!1;!o&&e[zs].inlineEffectRunner?.flush(),ZT(e);let a=null,l=null;!o&&VY(t)&&(l=OY(e),a=rS(l));try{bV(e),YW(t.bindingStartIndex),n!==null&&B3(t,e,n,2,i);let d=(r&3)===3;if(!o)if(d){let v=t.preOrderCheckHooks;v!==null&&o0(e,v,null)}else{let v=t.preOrderHooks;v!==null&&s0(e,v,0,null),OS(e,0)}if(jY(e),ij(e,0),t.contentQueries!==null&&q3(t,e),!o)if(d){let v=t.contentCheckHooks;v!==null&&o0(e,v)}else{let v=t.contentHooks;v!==null&&s0(e,v,1),OS(e,1)}eY(t,e);let h=t.components;h!==null&&oj(e,h,0);let m=t.viewQuery;if(m!==null&&yT(2,m,i),!o)if(d){let v=t.viewCheckHooks;v!==null&&o0(e,v)}else{let v=t.viewHooks;v!==null&&s0(e,v,2),OS(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[i0]){for(let v of e[i0])v();e[i0]=null}o||(e[ke]&=-73)}catch(d){throw Wp(e),d}finally{l!==null&&(oS(l,a),RY(l)),e1()}}function VY(t){return t.type!==2}function ij(t,e){for(let n=X3(t);n!==null;n=Z3(n))for(let i=Cr;i<n.length;i++){let r=n[i];rj(r,e)}}function jY(t){for(let e=X3(t);e!==null;e=Z3(e)){if(!(e[ke]&qT.HasTransplantedViews))continue;let n=e[Kd];for(let i=0;i<n.length;i++){let r=n[i],o=r[bi];FW(r)}}}function UY(t,e,n){let i=tc(e,t);rj(i,n)}function rj(t,e){KT(t)&&_T(t,e)}function _T(t,e){let i=t[st],r=t[ke],o=t[vl],a=!!(e===0&&r&16);if(a||=!!(r&64&&e===0),a||=!!(r&1024),a||=!!(o?.dirty&&E_(o)),o&&(o.dirty=!1),t[ke]&=-9217,a)LY(i,t,i.template,t[go]);else if(r&8192){ij(t,1);let l=i.components;l!==null&&oj(t,l,1)}}function oj(t,e,n){for(let i=0;i<e.length;i++)UY(t,e[i],n)}function E1(t){for(t[zs].changeDetectionScheduler?.notify();t;){t[ke]|=64;let e=Kp(t);if(DW(t)&&!e)return t;t=e}return null}var Cl=class{get rootNodes(){let e=this._lView,n=e[st];return w0(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[go]}set context(e){this._lView[go]=e}get destroyed(){return(this._lView[ke]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[bi];if(Xs(e)){let n=e[h0],i=n?n.indexOf(this):-1;i>-1&&(mT(e,i),f0(n,i))}this._attachedToViewContainer=!1}k3(this._lView[st],this._lView)}onDestroy(e){CV(this._lView,e)}markForCheck(){E1(this._cdRefInjectingView||this._lView)}detach(){this._lView[ke]&=-129}reattach(){WS(this._lView),this._lView[ke]|=128}detectChanges(){this._lView[ke]|=1024,nj(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new X(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,P3(this._lView[st],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new X(902,!1);this._appRef=e,WS(this._lView)}},vo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=HY;let t=e;return t})(),BY=vo,$Y=class extends BY{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=AY(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:i});return new Cl(r)}};function HY(){return K0(Oi(),Et())}function K0(t,e){return t.type&4?new $Y(e,t,rh(t,e)):null}var Y0e=new RegExp(`^(\\d+)*(${T7}|${S7})*(.*)`);var GY=()=>null;function zL(t,e){return GY(t,e)}var Jp=class{},wT=class{},b0=class{};function zY(t){let e=Error(`No component factory found for ${Yi(t)}.`);return e[qY]=t,e}var qY="ngComponent";var bT=class{resolveComponentFactory(e){throw zY(e)}},Y0=(()=>{let e=class e{};e.NULL=new bT;let t=e;return t})(),El=class{},bo=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>WY();let t=e;return t})();function WY(){let t=Et(),e=Oi(),n=tc(e.index,t);return(ml(n)?n:t)[_n]}var KY=(()=>{let e=class e{};e.\u0275prov=Z({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),FS={},sj=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=YY,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),CT=class extends sj{constructor(e){super(),this._lView=e}onDestroy(e){return CV(this._lView,e),()=>VW(this._lView,e)}};function YY(){return new CT(Et())}var qL=new Set;function Tl(t){qL.has(t)||(qL.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function WL(...t){}function QY(){let t=typeof Gs.requestAnimationFrame=="function",e=Gs[t?"requestAnimationFrame":"setTimeout"],n=Gs[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ct=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zt(!1),this.onMicrotaskEmpty=new zt(!1),this.onStable=new zt(!1),this.onError=new zt(!1),typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=QY().nativeRequestAnimationFrame,ZY(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new X(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,e,JY,WL,WL);try{return o.runTask(a,n,i)}finally{o.cancelTask(a)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},JY={};function I1(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function XY(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Gs,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ET(t),t.isCheckStableRunning=!0,I1(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ET(t))}function ZY(t){let e=()=>{XY(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,a,l)=>{if(eQ(l))return n.invokeTask(r,o,a,l);try{return KL(t),n.invokeTask(r,o,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),YL(t)}},onInvoke:(n,i,r,o,a,l,d)=>{try{return KL(t),n.invoke(r,o,a,l,d)}finally{t.shouldCoalesceRunChangeDetection&&e(),YL(t)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,ET(t),I1(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function ET(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function KL(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function YL(t){t._nesting--,I1(t)}function eQ(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var aj=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=Z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function C0(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number")o=l;else if(o==1)r=zS(r,l);else if(o==2){let d=l,h=e[++a];i=zS(i,d+": "+h+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var E0=class extends Y0{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Xa(e);return new eh(n,this.ngModule)}};function QL(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function tQ(t){let e=t.toLowerCase();return e==="svg"?xW:e==="math"?AW:null}var IT=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=V0(i);let r=this.injector.get(e,FS,i);return r!==FS||n===FS?r:this.parentInjector.get(e,n,i)}},eh=class extends b0{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=QL(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return QL(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=CW(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let o=Ot(null);try{r=r||this.ngModule;let a=r instanceof hi?r:r?.injector;a&&this.componentDef.getStandaloneInjector!==null&&(a=this.componentDef.getStandaloneInjector(a)||a);let l=a?new IT(e,a):e,d=l.get(El,null);if(d===null)throw new X(407,!1);let h=l.get(KY,null),m=l.get(aj,null),v=l.get(Jp,null),y={rendererFactory:d,sanitizer:h,inlineEffectRunner:null,afterRenderEventManager:m,changeDetectionScheduler:v},E=d.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",S=i?iY(E,i,this.componentDef.encapsulation,l):M3(E,w,tQ(w)),D=512;this.componentDef.signals?D|=4096:this.componentDef.onPush||(D|=16);let O=null;S!==null&&(O=a1(S,l,!0));let V=y1(0,null,null,1,0,null,null,null,null,null,null),$=q0(null,V,null,D,null,null,y,E,l,null,O);ZT($);let x,te;try{let U=this.componentDef,oe,Ee=null;U.findHostDirectiveDefs?(oe=[],Ee=new Map,U.findHostDirectiveDefs(U,oe,Ee),oe.push(U)):oe=[U];let Ge=nQ($,S),Ze=iQ(Ge,S,U,oe,$,y,E);te=wV(V,es),S&&sQ(E,U,S,i),n!==void 0&&aQ(te,this.ngContentSelectors,n),x=oQ(Ze,U,oe,Ee,$,[cQ]),C1(V,$,null)}finally{e1()}return new ST(this.componentType,x,rh(te,$),$,te)}finally{Ot(o)}}},ST=class extends wT{constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Cl(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;b1(o[st],o,r,e,n),this.previousInputValues.set(e,n);let a=tc(this._tNode.index,o);E1(a)}}get injector(){return new gl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function nQ(t,e){let n=t[st],i=es;return t[i]=e,sm(n,i,2,"#host",null)}function iQ(t,e,n,i,r,o,a){let l=r[st];rQ(i,t,e,a);let d=null;e!==null&&(d=a1(e,r[Wd]));let h=o.rendererFactory.createRenderer(e,n),m=16;n.signals?m=4096:n.onPush&&(m=64);let v=q0(r,$3(n),null,m,r[t.index],t,o,h,null,null,d);return l.firstCreatePass&&vT(l,t,i.length-1),W0(r,v),r[t.index]=v}function rQ(t,e,n,i){for(let r of t)e.mergedAttrs=Gp(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(C0(e,e.mergedAttrs,!0),n!==null&&L3(i,n,e))}function oQ(t,e,n,i,r,o){let a=Oi(),l=r[st],d=Fr(a,r);H3(l,r,a,n,null,i);for(let m=0;m<n.length;m++){let v=a.directiveStart+m,y=bl(r,l,v,a);Za(y,r)}G3(l,r,a),d&&Za(d,r);let h=bl(r,l,a.directiveStart+a.componentOffset,a);if(t[go]=r[go]=h,o!==null)for(let m of o)m(h,e);return m1(l,a,r),h}function sQ(t,e,n,i){if(i)qS(t,n,["ng-version","17.2.4"]);else{let{attrs:r,classes:o}=EW(e.selectors[0]);r&&qS(t,n,r),o&&o.length>0&&F3(t,n,o.join(" "))}}function aQ(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function cQ(){let t=Oi();B0(Et()[st],t)}var Ci=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=lQ;let t=e;return t})();function lQ(){let t=Oi();return lj(t,Et())}var uQ=Ci,cj=class extends uQ{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return rh(this._hostTNode,this._hostLView)}get injector(){return new gl(this._hostTNode,this._hostLView)}get parentInjector(){let e=l1(this._hostTNode,this._hostLView);if(r3(e)){let n=v0(e,this._hostLView),i=g0(e),r=n[st].data[i+8];return new gl(r,n)}else return new gl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=JL(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Cr}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let a=zL(this._lContainer,e.ssrId),l=e.createEmbeddedViewImpl(n||{},o,a);return this.insertImpl(l,r,GL(this._hostTNode,a)),l}createComponent(e,n,i,r,o){let a=e&&!U7(e),l;if(a)l=n;else{let w=n||{};l=w.index,i=w.injector,r=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let d=a?e:new eh(Xa(e)),h=i||this.parentInjector;if(!o&&d.ngModule==null){let S=(a?h:this.parentInjector).get(hi,null);S&&(o=S)}let m=Xa(d.componentType??{}),v=zL(this._lContainer,m?.id??null),y=v?.firstChild??null,E=d.create(h,r,y,o);return this.insertImpl(E.hostView,l,GL(this._hostTNode,v)),E}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(NW(r)){let l=this.indexOf(e);if(l!==-1)this.detach(l);else{let d=r[bi],h=new cj(d,d[yo],d[bi]);h.detach(h.indexOf(e))}}let o=this._adjustIndex(n),a=this._lContainer;return MY(a,r,o,i),e.attachToViewContainerRef(),RV(LS(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=JL(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=mT(this._lContainer,n);i&&(f0(LS(this._lContainer),n),k3(i[st],i))}detach(e){let n=this._adjustIndex(e,-1),i=mT(this._lContainer,n);return i&&f0(LS(this._lContainer),n)!=null?new Cl(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function JL(t){return t[h0]}function LS(t){return t[h0]||(t[h0]=[])}function lj(t,e){let n,i=e[t.index];return Xs(i)?n=i:(n=z3(i,e,null,t),e[t.index]=n,W0(e,n)),hQ(n,e,t,i),new cj(n,t,e)}function dQ(t,e){let n=t[_n],i=n.createComment(""),r=Fr(e,t),o=f1(n,r);return _0(n,o,i,zK(n,r),!1),i}var hQ=mQ,fQ=()=>!1;function pQ(t,e,n){return fQ(t,e,n)}function mQ(t,e,n,i){if(t[yl])return;let r;n.type&8?r=ts(i):r=dQ(e,n),t[yl]=r}var TT=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},DT=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let a=n.getByIndex(o),l=this.queries[a.indexInDeclarationView];r.push(l.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)S1(e,n).matches!==null&&this.queries[n].setDirty()}},I0=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=EQ(e):this.predicate=e}},xT=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},AT=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,n,gQ(n,o)),this.matchTNodeWithReadOption(e,n,a0(n,e,o,!1,!1))}else i===vo?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,a0(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===nn||r===Ci||r===vo&&n.type&4)this.addMatch(n.index,-2);else{let o=a0(n,e,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function gQ(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function vQ(t,e){return t.type&11?rh(t,e):t.type&4?K0(t,e):null}function yQ(t,e,n,i){return n===-1?vQ(e,t):n===-2?_Q(t,e,i):bl(t,t[st],n,e)}function _Q(t,e,n){if(n===nn)return rh(e,t);if(n===vo)return K0(e,t);if(n===Ci)return lj(e,t)}function uj(t,e,n,i){let r=e[qs].queries[i];if(r.matches===null){let o=t.data,a=n.matches,l=[];for(let d=0;a!==null&&d<a.length;d+=2){let h=a[d];if(h<0)l.push(null);else{let m=o[h];l.push(yQ(e,m,a[d+1],n.metadata.read))}}r.matches=l}return r.matches}function MT(t,e,n,i){let r=t.queries.getByIndex(n),o=r.matches;if(o!==null){let a=uj(t,e,r,n);for(let l=0;l<o.length;l+=2){let d=o[l];if(d>0)i.push(a[l/2]);else{let h=o[l+1],m=e[-d];for(let v=Cr;v<m.length;v++){let y=m[v];y[tm]===y[bi]&&MT(y[st],y,h,i)}if(m[Kd]!==null){let v=m[Kd];for(let y=0;y<v.length;y++){let E=v[y];MT(E[st],E,h,i)}}}}}return i}function wQ(t,e){return t[qs].queries[e].queryList}function dj(t,e,n){let i=new YS((n&4)===4);return sY(t,e,i,i.destroy),(e[qs]??=new DT).queries.push(new TT(i))-1}function bQ(t,e,n){let i=Hn();return i.firstCreatePass&&(hj(i,new I0(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),dj(i,Et(),e)}function CQ(t,e,n,i){let r=Hn();if(r.firstCreatePass){let o=Oi();hj(r,new I0(e,n,i),o.index),IQ(r,t),(n&2)===2&&(r.staticContentQueries=!0)}return dj(r,Et(),n)}function EQ(t){return t.split(",").map(e=>e.trim())}function hj(t,e,n){t.queries===null&&(t.queries=new xT),t.queries.track(new AT(e,n))}function IQ(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function S1(t,e){return t.queries.getByIndex(e)}function SQ(t,e){let n=t[st],i=S1(n,e);return i.crossesNgTemplate?MT(n,t,e,[]):uj(n,t,i,e)}function TQ(t){return typeof t=="function"&&t[Ha]!==void 0}function sc(t,e){Tl("NgSignals");let n=$2(t),i=n[Ha];return e?.equal&&(i.equal=e.equal),n.set=r=>aS(i,r),n.update=r=>H2(i,r),n.asReadonly=DQ.bind(n),n}function DQ(){let t=this[Ha];if(t.readonlyFn===void 0){let e=()=>this();e[Ha]=t,t.readonlyFn=e}return t.readonlyFn}function fj(t){return TQ(t)&&typeof t.set=="function"}function xQ(t){return Object.getPrototypeOf(t.prototype).constructor}function ut(t){let e=xQ(t.type),n=!0,i=[t];for(;e;){let r;if(Ws(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new X(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let a=t;a.inputs=t0(t.inputs),a.inputTransforms=t0(t.inputTransforms),a.declaredInputs=t0(t.declaredInputs),a.outputs=t0(t.outputs);let l=r.hostBindings;l&&kQ(t,l);let d=r.viewQuery,h=r.contentQueries;if(d&&PQ(t,d),h&&OQ(t,h),AQ(t,r),cW(t.outputs,r.outputs),Ws(r)&&r.data.animation){let m=t.data;m.animation=(m.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let a=0;a<o.length;a++){let l=o[a];l&&l.ngInherit&&l(t),l===ut&&(n=!1)}}e=Object.getPrototypeOf(e)}MQ(i)}function AQ(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function MQ(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Gp(r.hostAttrs,n=Gp(n,r.hostAttrs))}}function t0(t){return t===qd?{}:t===lr?[]:t}function PQ(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function OQ(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function kQ(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function am(t){let e=t.inputConfig,n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}t.inputTransforms=n}var ec=class{},Xp=class{};var PT=class extends ec{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new E0(this);let r=mV(e);this._bootstrapComponents=A3(r.bootstrap),this._r3Injector=f3(e,n,[{provide:ec,useValue:this},{provide:Y0,useValue:this.componentFactoryResolver},...i],Yi(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},OT=class extends Xp{constructor(e){super(),this.moduleType=e}create(e){return new PT(this.moduleType,e,[])}};var S0=class extends ec{constructor(e){super(),this.componentFactoryResolver=new E0(this),this.instance=null;let n=new Qp([...e.providers,{provide:ec,useValue:this},{provide:Y0,useValue:this.componentFactoryResolver}],e.parent||U0(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function T1(t,e,n=null){return new S0({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Dl=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Jn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pj(t){return NQ(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function RQ(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function NQ(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function FQ(t,e,n){return t[e]=n}function LQ(t,e){return t[e]}function Qs(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function VQ(t,e,n,i){let r=Qs(t,e,n);return Qs(t,e+1,i)||r}function jQ(t,e,n,i,r,o,a,l,d){let h=e.consts,m=sm(e,t,4,a||null,Yd(h,l));w1(e,n,m,Yd(h,d)),B0(e,m);let v=m.tView=y1(2,m,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,h,null);return e.queries!==null&&(e.queries.template(e,m),v.queries=e.queries.embeddedTView(m)),m}function G(t,e,n,i,r,o,a,l){let d=Et(),h=Hn(),m=t+es,v=h.firstCreatePass?jQ(m,h,d,e,n,i,r,o,a):h.data[m];Sl(v,!1);let y=UQ(h,d,v,t);R0()&&G0(h,d,y,v),Za(y,d);let E=z3(y,d,y,v);return d[m]=E,W0(d,E),pQ(E,v,d),O0(v)&&g1(h,d,v),a!=null&&v1(d,v,l),G}var UQ=BQ;function BQ(t,e,n,i){return N0(!0),e[_n].createComment("")}function Q0(t,e,n,i){let r=Et(),o=nm();if(Qs(r,o,e)){let a=Hn(),l=k0();bY(l,r,t,e,n,i)}return Q0}function $Q(t,e,n,i){return Qs(t,nm(),n)?e+Qd(n)+i:wo}function HQ(t,e,n,i,r,o){let a=KW(),l=VQ(t,a,n,r);return JT(2),l?e+Qd(n)+i+Qd(r)+o:wo}function n0(t,e){return t<<17|e<<2}function Il(t){return t>>17&32767}function GQ(t){return(t&2)==2}function zQ(t,e){return t&131071|e<<17}function kT(t){return t|2}function th(t){return(t&131068)>>2}function VS(t,e){return t&-131069|e<<2}function qQ(t){return(t&1)===1}function RT(t){return t|1}function WQ(t,e,n,i,r,o){let a=o?e.classBindings:e.styleBindings,l=Il(a),d=th(a);t[i]=n;let h=!1,m;if(Array.isArray(n)){let v=n;m=v[1],(m===null||im(v,m)>0)&&(h=!0)}else m=n;if(r)if(d!==0){let y=Il(t[l+1]);t[i+1]=n0(y,l),y!==0&&(t[y+1]=VS(t[y+1],i)),t[l+1]=zQ(t[l+1],i)}else t[i+1]=n0(l,0),l!==0&&(t[l+1]=VS(t[l+1],i)),l=i;else t[i+1]=n0(d,0),l===0?l=i:t[d+1]=VS(t[d+1],i),d=i;h&&(t[i+1]=kT(t[i+1])),XL(t,m,i,!0),XL(t,m,i,!1),KQ(e,m,t,i,o),a=n0(l,d),o?e.classBindings=a:e.styleBindings=a}function KQ(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&im(o,e)>=0&&(n[i+1]=RT(n[i+1]))}function XL(t,e,n,i){let r=t[n+1],o=e===null,a=i?Il(r):th(r),l=!1;for(;a!==0&&(l===!1||o);){let d=t[a],h=t[a+1];YQ(d,e)&&(l=!0,t[a+1]=i?RT(h):kT(h)),a=i?Il(h):th(h)}l&&(t[n+1]=i?kT(r):RT(r))}function YQ(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?im(t,e)>=0:!1}var Xn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mj(t){return t.substring(Xn.key,Xn.keyEnd)}function QQ(t){return t.substring(Xn.value,Xn.valueEnd)}function JQ(t){return yj(t),gj(t,nh(t,0,Xn.textEnd))}function gj(t,e){let n=Xn.textEnd;return n===e?-1:(e=Xn.keyEnd=ZQ(t,Xn.key=e,n),nh(t,e,n))}function XQ(t){return yj(t),vj(t,nh(t,0,Xn.textEnd))}function vj(t,e){let n=Xn.textEnd,i=Xn.key=nh(t,e,n);return n===i?-1:(i=Xn.keyEnd=eJ(t,i,n),i=ZL(t,i,n,58),i=Xn.value=nh(t,i,n),i=Xn.valueEnd=tJ(t,i,n),ZL(t,i,n,59))}function yj(t){Xn.key=0,Xn.keyEnd=0,Xn.value=0,Xn.valueEnd=0,Xn.textEnd=t.length}function nh(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ZQ(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function eJ(t,e,n){let i;for(;e<n&&((i=t.charCodeAt(e))===45||i===95||(i&-33)>=65&&(i&-33)<=90||i>=48&&i<=57);)e++;return e}function ZL(t,e,n,i){return e=nh(t,e,n),e<n&&e++,e}function tJ(t,e,n){let i=-1,r=-1,o=-1,a=e,l=a;for(;a<n;){let d=t.charCodeAt(a++);if(d===59)return l;d===34||d===39?l=a=eV(t,d,a,n):e===a-4&&o===85&&r===82&&i===76&&d===40?l=a=eV(t,41,a,n):d>32&&(l=a),o=r,r=i,i=d&-33}return l}function eV(t,e,n,i){let r=-1,o=n;for(;o<i;){let a=t.charCodeAt(o++);if(a==e&&r!==92)return o;a==92&&r===92?r=0:r=a}throw new Error}function P(t,e,n){let i=Et(),r=nm();if(Qs(i,r,e)){let o=Hn(),a=k0();_1(o,a,i,t,e,i[_n],n,!1)}return P}function NT(t,e,n,i,r){let o=e.inputs,a=r?"class":"style";b1(t,n,o[a],a,i)}function os(t,e,n){return wj(t,e,n,!1),os}function He(t,e){return wj(t,e,null,!0),He}function J0(t){bj(Ij,nJ,t,!1)}function nJ(t,e){for(let n=XQ(e);n>=0;n=vj(e,n))Ij(t,mj(e),QQ(e))}function _j(t){bj(lJ,iJ,t,!0)}function iJ(t,e){for(let n=JQ(e);n>=0;n=gj(e,n))F0(t,mj(e),!0)}function wj(t,e,n,i){let r=Et(),o=Hn(),a=JT(2);if(o.firstUpdatePass&&Ej(o,t,a,i),e!==wo&&Qs(r,a,e)){let l=o.data[nc()];Sj(o,l,r,r[_n],t,r[a+1]=dJ(e,n),i,a)}}function bj(t,e,n,i){let r=Hn(),o=JT(2);r.firstUpdatePass&&Ej(r,null,o,i);let a=Et();if(n!==wo&&Qs(a,o,n)){let l=r.data[nc()];if(Tj(l,i)&&!Cj(r,o)){let d=i?l.classesWithoutHost:l.stylesWithoutHost;d!==null&&(n=zS(d,n||"")),NT(r,l,a,n,i)}else uJ(r,l,a,a[_n],a[o+1],a[o+1]=cJ(t,e,n),i,o)}}function Cj(t,e){return e>=t.expandoStartIndex}function Ej(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[nc()],a=Cj(t,n);Tj(o,i)&&e===null&&!a&&(e=!1),e=rJ(r,o,e,i),WQ(r,o,e,n,a,i)}}function rJ(t,e,n,i){let r=TV(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=jS(null,t,e,n,i),n=Zp(n,e.attrs,i),o=null);else{let a=e.directiveStylingLast;if(a===-1||t[a]!==r)if(n=jS(r,t,e,n,i),o===null){let d=oJ(t,e,i);d!==void 0&&Array.isArray(d)&&(d=jS(null,t,e,d[1],i),d=Zp(d,e.attrs,i),sJ(t,e,i,d))}else o=aJ(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function oJ(t,e,n){let i=n?e.classBindings:e.styleBindings;if(th(i)!==0)return t[Il(i)]}function sJ(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[Il(r)]=i}function aJ(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let a=t[o].hostAttrs;i=Zp(i,a,n)}return Zp(i,e.attrs,n)}function jS(t,e,n,i,r){let o=null,a=n.directiveEnd,l=n.directiveStylingLast;for(l===-1?l=n.directiveStart:l++;l<a&&(o=e[l],i=Zp(i,o.hostAttrs,r),o!==t);)l++;return t!==null&&(n.directiveStylingLast=l),i}function Zp(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];typeof a=="number"?r=a:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),F0(t,a,n?!0:e[++o]))}return t===void 0?null:t}function cJ(t,e,n){if(n==null||n==="")return lr;let i=[],r=Vr(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function Ij(t,e,n){F0(t,e,Vr(n))}function lJ(t,e,n){let i=String(e);i!==""&&!i.includes(" ")&&F0(t,i,n)}function uJ(t,e,n,i,r,o,a,l){r===wo&&(r=lr);let d=0,h=0,m=0<r.length?r[0]:null,v=0<o.length?o[0]:null;for(;m!==null||v!==null;){let y=d<r.length?r[d+1]:void 0,E=h<o.length?o[h+1]:void 0,w=null,S;m===v?(d+=2,h+=2,y!==E&&(w=v,S=E)):v===null||m!==null&&m<v?(d+=2,w=m):(h+=2,w=v,S=E),w!==null&&Sj(t,e,n,i,w,S,a,l),m=d<r.length?r[d]:null,v=h<o.length?o[h]:null}}function Sj(t,e,n,i,r,o,a,l){if(!(e.type&3))return;let d=t.data,h=d[l+1],m=qQ(h)?tV(d,e,n,r,th(h),a):void 0;if(!T0(m)){T0(o)||GQ(h)&&(o=tV(d,null,n,r,l,a));let v=_V(nc(),n);XK(i,a,v,r,o)}}function tV(t,e,n,i,r,o){let a=e===null,l;for(;r>0;){let d=t[r],h=Array.isArray(d),m=h?d[1]:d,v=m===null,y=n[r+1];y===wo&&(y=v?lr:void 0);let E=v?MS(y,i):m===i?y:void 0;if(h&&!T0(E)&&(E=MS(d,i)),T0(E)&&(l=E,a))return l;let w=t[r+1];r=a?Il(w):th(w)}if(e!==null){let d=o?e.residualClasses:e.residualStyles;d!=null&&(l=MS(d,i))}return l}function T0(t){return t!==void 0}function dJ(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Yi(Vr(t)))),t}function Tj(t,e){return(t.flags&(e?8:16))!==0}function hJ(t,e,n,i,r,o){let a=e.consts,l=Yd(a,r),d=sm(e,t,2,i,l);return w1(e,n,d,Yd(a,o)),d.attrs!==null&&C0(d,d.attrs,!1),d.mergedAttrs!==null&&C0(d,d.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,d),d}function b(t,e,n,i){let r=Et(),o=Hn(),a=es+t,l=r[_n],d=o.firstCreatePass?hJ(a,o,r,e,n,i):o.data[a],h=fJ(o,r,d,l,e,t);r[a]=h;let m=O0(d);return Sl(d,!0),L3(l,h,d),(d.flags&32)!==32&&R0()&&G0(o,r,h,d),jW()===0&&Za(h,r),UW(),m&&(g1(o,r,d),m1(o,d,r)),i!==null&&v1(r,d),b}function C(){let t=Oi();QT()?SV():(t=t.parent,Sl(t,!1));let e=t;HW(e)&&GW(),BW();let n=Hn();return n.firstCreatePass&&(B0(n,t),WT(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&W7(e)&&NT(n,e,Et(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&K7(e)&&NT(n,e,Et(),e.stylesWithoutHost,!1),C}function ee(t,e,n,i){return b(t,e,n,i),C(),ee}var fJ=(t,e,n,i,r,o)=>(N0(!0),M3(i,r,t7()));function pJ(t,e,n,i,r){let o=e.consts,a=Yd(o,i),l=sm(e,t,8,"ng-container",a);a!==null&&C0(l,a,!0);let d=Yd(o,r);return w1(e,n,l,d),e.queries!==null&&e.queries.elementStart(e,l),l}function dt(t,e,n){let i=Et(),r=Hn(),o=t+es,a=r.firstCreatePass?pJ(o,r,i,e,n):r.data[o];Sl(a,!0);let l=mJ(r,i,a,t);return i[o]=l,R0()&&G0(r,i,l,a),Za(l,i),O0(a)&&(g1(r,i,a),m1(r,a,i)),n!=null&&v1(i,a),dt}function ht(){let t=Oi(),e=Hn();return QT()?SV():(t=t.parent,Sl(t,!1)),e.firstCreatePass&&(B0(e,t),WT(t)&&e.queries.elementEnd(t)),ht}function D1(t,e,n){return dt(t,e,n),ht(),D1}var mJ=(t,e,n,i)=>(N0(!0),RK(e[_n],""));function re(){return Et()}function xl(t,e,n){let i=Et(),r=nm();if(Qs(i,r,e)){let o=Hn(),a=k0(),l=TV(o.data),d=SY(l,a,i);_1(o,a,i,t,e,d,n,!0)}return xl}var D0="en-US";var gJ=D0;function vJ(t){typeof t=="string"&&(gJ=t.toLowerCase().replace(/_/g,"-"))}function k(t,e,n,i){let r=Et(),o=Hn(),a=Oi();return Dj(o,r,r[_n],a,t,e,i),k}function yJ(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let a=r[o];if(a===n&&r[o+1]===i){let l=e[zp],d=r[o+2];return l.length>d?l[d]:null}typeof a=="string"&&(o+=2)}return null}function Dj(t,e,n,i,r,o,a){let l=O0(i),h=t.firstCreatePass&&K3(t),m=e[go],v=W3(e),y=!0;if(i.type&3||a){let S=Fr(i,e),D=a?a(S):S,O=v.length,V=a?x=>a(ts(x[i.index])):i.index,$=null;if(!a&&l&&($=yJ(t,e,r,i.index)),$!==null){let x=$.__ngLastListenerFn__||$;x.__ngNextListenerFn__=o,$.__ngLastListenerFn__=o,y=!1}else{o=iV(i,e,m,o,!1);let x=n.listen(D,r,o);v.push(o,x),h&&h.push(r,V,O,O+1)}}else o=iV(i,e,m,o,!1);let E=i.outputs,w;if(y&&E!==null&&(w=E[r])){let S=w.length;if(S)for(let D=0;D<S;D+=2){let O=w[D],V=w[D+1],te=e[O][V].subscribe(o),U=v.length;if(v.push(o,te),h){let oe=typeof te=="function"?U+1:-(U+1);h.push(r,i.index,U,oe)}}}}function nV(t,e,n,i){let r=Ot(null);try{return Qo(6,e,n),n(i)!==!1}catch(o){return Y3(t,o),!1}finally{Qo(7,e,n),Ot(r)}}function iV(t,e,n,i,r){return function o(a){if(a===Function)return i;let l=t.componentOffset>-1?tc(t.index,e):e;E1(l);let d=nV(e,n,i,a),h=o.__ngNextListenerFn__;for(;h;)d=nV(e,n,h,a)&&d,h=h.__ngNextListenerFn__;return r&&d===!1&&a.preventDefault(),d}}function M(t=1){return e7(t)}function xj(t,e,n,i){CQ(t,e,n,i)}function Aj(t,e,n){bQ(t,e,n)}function X0(t){let e=Et(),n=Hn(),i=DV();XT(i+1);let r=S1(n,i);if(t.dirty&&RW(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=SQ(e,i);t.reset(o,i7),t.notifyOnChanges()}return!0}return!1}function Z0(){return wQ(Et(),DV())}function ew(t){let e=qW();return kW(e,es+t)}function L(t,e=""){let n=Et(),i=Hn(),r=t+es,o=i.firstCreatePass?sm(i,r,1,e,null):i.data[r],a=_J(i,n,o,e,t);n[r]=a,R0()&&G0(i,n,a,o),Sl(o,!1)}var _J=(t,e,n,i,r)=>(N0(!0),OK(e[_n],i));function ue(t){return Mj("",t,""),ue}function Mj(t,e,n){let i=Et(),r=$Q(i,t,e,n);return r!==wo&&Q3(i,nc(),r),Mj}function ta(t,e,n,i,r){let o=Et(),a=HQ(o,t,e,n,i,r);return a!==wo&&Q3(o,nc(),a),ta}function Fe(t,e,n){fj(e)&&(e=e());let i=Et(),r=nm();if(Qs(i,r,e)){let o=Hn(),a=k0();_1(o,a,i,t,e,i[_n],n,!1)}return Fe}function je(t,e){let n=fj(t);return n&&t.set(e),n}function Le(t,e){let n=Et(),i=Hn(),r=Oi();return Dj(i,n,n[_n],r,t,e),Le}function wJ(t,e,n){let i=Hn();if(i.firstCreatePass){let r=Ws(t);FT(n,i.data,i.blueprint,r,!0),FT(e,i.data,i.blueprint,r,!1)}}function FT(t,e,n,i,r){if(t=Ki(t),Array.isArray(t))for(let o=0;o<t.length;o++)FT(t[o],e,n,i,r);else{let o=Hn(),a=Et(),l=Oi(),d=Zd(t)?t:Ki(t.provide),h=XV(t),m=l.providerIndexes&1048575,v=l.directiveStart,y=l.providerIndexes>>20;if(Zd(t)||!t.multi){let E=new wl(h,r,R),w=BS(d,e,r?m:m+y,v);w===-1?(oT(y0(l,a),o,d),US(o,t,e.length),e.push(d),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(E),a.push(E)):(n[w]=E,a[w]=E)}else{let E=BS(d,e,m+y,v),w=BS(d,e,m,m+y),S=E>=0&&n[E],D=w>=0&&n[w];if(r&&!D||!r&&!S){oT(y0(l,a),o,d);let O=EJ(r?CJ:bJ,n.length,r,i,h);!r&&D&&(n[w].providerFactory=O),US(o,t,e.length,0),e.push(d),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(O),a.push(O)}else{let O=Pj(n[r?w:E],h,!r&&i);US(o,t,E>-1?E:w,O)}!r&&i&&D&&n[w].componentProviders++}}}function US(t,e,n,i){let r=Zd(e),o=O7(e);if(r||o){let d=(o?Ki(e.useClass):e).prototype.ngOnDestroy;if(d){let h=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let m=h.indexOf(n);m===-1?h.push(n,[i,d]):h[m+1].push(i,d)}else h.push(n,d)}}}function Pj(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function BS(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function bJ(t,e,n,i){return LT(this.multi,[])}function CJ(t,e,n,i){let r=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=bl(n,n[st],this.providerFactory.index,i);o=l.slice(0,a),LT(r,o);for(let d=a;d<l.length;d++)o.push(l[d])}else o=[],LT(r,o);return o}function LT(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function EJ(t,e,n,i,r){let o=new wl(t,n,R);return o.multi=[],o.index=e,o.componentProviders=0,Pj(o,r,i&&!n),o}function oh(t,e=[]){return n=>{n.providersResolver=(i,r)=>wJ(i,r?r(t):t,e)}}var IJ=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=YV(!1,i.type),o=r.length>0?T1([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=Z({token:e,providedIn:"environment",factory:()=>new e(se(hi))});let t=e;return t})();function pe(t){Tl("NgStandalone"),t.getStandaloneInjector=e=>e.get(IJ).getOrCreateStandaloneInjector(t)}function Al(t,e,n){let i=WW()+t,r=Et();return r[i]===wo?FQ(r,i,n?e.call(n):e()):LQ(r,i)}function Oj(t,e){return K0(t,e)}var Js=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},kj=new Js("17.2.4"),tw=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Rj=new we("");function Ml(t){return!!t&&typeof t.then=="function"}function Nj(t){return!!t&&typeof t.subscribe=="function"}var Fj=new we(""),Lj=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=J(Fj,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let o of this.appInits){let a=o();if(Ml(a))i.push(a);else if(Nj(a)){let l=new Promise((d,h)=>{a.subscribe({complete:d,error:h})});i.push(l)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(o=>{this.reject(o)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nw=new we("");function SJ(){B2(()=>{throw new X(600,!1)})}function TJ(t){return t.isBoundToModule}function DJ(t,e,n){try{let i=n();return Ml(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}var ss=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=J(p3),this.afterRenderEffectManager=J(aj),this.componentTypes=[],this.components=[],this.isStable=J(Dl).hasPendingTasks.pipe(Ne(i=>!i)),this._injector=J(hi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let o=i instanceof b0;if(!this._injector.get(Lj).done){let E=!o&&pV(i),w=!1;throw new X(405,w)}let l;o?l=i:l=this._injector.get(Y0).resolveComponentFactory(i),this.componentTypes.push(l.componentType);let d=TJ(l)?void 0:this._injector.get(ec),h=r||l.selector,m=l.create(ln.NULL,[],h,d),v=m.location.nativeElement,y=m.injector.get(Rj,null);return y?.registerApplication(v),m.onDestroy(()=>{this.detachView(m.hostView),$S(this.components,m),y?.unregisterApplication(v)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new X(101,!1);let i=Ot(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Ot(i)}}detectChangesInAttachedViews(){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===tj)throw new X(103,!1);let o=i===0;for(let{_lView:a,notifyErrorHandler:l}of this._views)!o&&!HS(a)||this.detectChangesInView(a,l,o);if(i++,r.executeInternalCallbacks(),!this._views.some(({_lView:a})=>HS(a))&&(r.execute(),!this._views.some(({_lView:a})=>HS(a))))break}}detectChangesInView(i,r,o){let a;o?(a=0,i[ke]|=1024):i[ke]&64?a=0:a=1,nj(i,r,a)}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;$S(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(nw,[]);[...this._bootstrapListeners,...r].forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>$S(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new X(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $S(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function HS(t){return YT(t)}var VT=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},x1=(()=>{let e=class e{compileModuleSync(i){return new OT(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),o=mV(i),a=A3(o.declarations).reduce((l,d)=>{let h=Xa(d);return h&&l.push(new eh(h)),l},[]);return new VT(r,a)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var xJ=(()=>{let e=class e{constructor(){this.zone=J(Ct),this.applicationRef=J(ss)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function AJ(t){return[{provide:Ct,useFactory:t},{provide:Xd,multi:!0,useFactory:()=>{let e=J(xJ,{optional:!0});return()=>e.initialize()}},{provide:Xd,multi:!0,useFactory:()=>{let e=J(kJ);return()=>{e.initialize()}}},{provide:p3,useFactory:MJ}]}function MJ(){let t=J(Ct),e=J(ns);return n=>t.runOutsideAngular(()=>e.handleError(n))}function PJ(t){let e=AJ(()=>new Ct(OJ(t)));return rc([[],e])}function OJ(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var kJ=(()=>{let e=class e{constructor(){this.subscription=new On,this.initialized=!1,this.zone=J(Ct),this.pendingTasks=J(Dl)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ct.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ct.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function RJ(){return typeof $localize<"u"&&$localize.locale||D0}var A1=new we("",{providedIn:"root",factory:()=>J(A1,at.Optional|at.SkipSelf)||RJ()});var Vj=new we("");var l0=null;function NJ(t=[],e){return ln.create({name:e,providers:[{provide:j0,useValue:"platform"},{provide:Vj,useValue:new Set([()=>l0=null])},...t]})}function FJ(t=[]){if(l0)return l0;let e=NJ(t);return l0=e,SJ(),LJ(e),e}function LJ(t){t.get(i1,null)?.forEach(n=>n())}var na=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=VJ;let t=e;return t})();function VJ(t){return jJ(Oi(),Et(),(t&16)===16)}function jJ(t,e,n){if(P0(t)&&!n){let i=tc(t.index,e);return new Cl(i,i)}else if(t.type&47){let i=e[Zo];return new Cl(i,e)}return null}var jT=class{constructor(){}supports(e){return pj(e)}create(e){return new UT(e)}},UJ=(t,e)=>e,UT=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||UJ}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let a=!i||n&&n.currentIndex<rV(i,r,o)?n:i,l=rV(a,r,o),d=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(n=n._next,a.previousIndex==null)r++;else{o||(o=[]);let h=l-r,m=d-r;if(h!=m){for(let y=0;y<h;y++){let E=y<o.length?o[y]:o[y]=0,w=E+y;m<=w&&w<h&&(o[y]=E+1)}let v=a.previousIndex;o[v]=m-h}}l!==d&&e(a,l,d)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!pj(e))throw new X(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,o,a;if(Array.isArray(e)){this.length=e.length;for(let l=0;l<this.length;l++)o=e[l],a=this._trackByFn(l,o),n===null||!Object.is(n.trackById,a)?(n=this._mismatch(n,o,a,l),i=!0):(i&&(n=this._verifyReinsertion(n,o,a,l)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,RQ(e,l=>{a=this._trackByFn(r,l),n===null||!Object.is(n.trackById,a)?(n=this._mismatch(n,l,a,r),i=!0):(i&&(n=this._verifyReinsertion(n,l,a,r)),Object.is(n.item,l)||this._addIdentityChange(n,l)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new BT(n,i),o,r)),e}_verifyReinsertion(e,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new x0),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new x0),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},BT=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},$T=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},x0=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new $T,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function rV(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function oV(){return new M1([new jT])}var M1=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||oV()),deps:[[e,new qV,new Xi]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r!=null)return r;throw new X(901,!1)}};e.\u0275prov=Z({token:e,providedIn:"root",factory:oV});let t=e;return t})();function jj(t){try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,r=FJ(i),o=[PJ(),...n||[]],l=new S0({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,d=l.get(Ct);return d.run(()=>{l.resolveInjectorInitializers();let h=l.get(ns,null),m;d.runOutsideAngular(()=>{m=d.onError.subscribe({next:E=>{h.handleError(E)}})});let v=()=>l.destroy(),y=r.get(Vj);return y.add(v),l.onDestroy(()=>{m.unsubscribe(),y.delete(v)}),DJ(h,d,()=>{let E=l.get(Lj);return E.runInitializers(),E.donePromise.then(()=>{let w=l.get(A1,D0);vJ(w||D0);let S=l.get(ss);return e!==void 0&&S.bootstrap(e),S})})})}catch(e){return Promise.reject(e)}}function Zi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var BJ=new we("",{providedIn:"root",factory:()=>J($J)}),$J=(()=>{let e=class e{};e.\u0275prov=Z({token:e,providedIn:"root",factory:()=>new HT});let t=e;return t})(),HT=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=J(Dl),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},GT=class{constructor(e,n,i,r,o,a){this.scheduler=e,this.effectFn=n,this.creationZone=i,this.injector=o,this.watcher=z2(l=>this.runEffect(l),()=>this.schedule(),a),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(ns,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function ac(t,e){Tl("NgSignals"),!e?.injector&&j7(ac);let n=e?.injector??J(ln),i=e?.manualCleanup!==!0?n.get(sj):null,r=new GT(n.get(BJ),t,typeof Zone>"u"?null:Zone.current,i,n,e?.allowSignalWrites??!1),o=n.get(na,null,{optional:!0});return!o||!(o._lView[ke]&8)?r.watcher.notify():(o._lView[i0]??=[]).push(r.watcher.notify),r}function iw(t,e){let n=Xa(t),i=e.elementInjector||U0();return new eh(n).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}var zj=null;function ia(){return zj}function qj(t){zj??=t}var rw=class{};var Ei=new we(""),Wj=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>J(HJ),providedIn:"platform"});let t=e;return t})();var HJ=(()=>{let e=class e extends Wj{constructor(){super(),this._doc=J(Ei),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ia().getBaseHref(this._doc)}onPopState(i){let r=ia().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=ia().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,o){this._history.pushState(i,r,o)}replaceState(i,r,o){this._history.replaceState(i,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Kj(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Uj(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function Pl(t){return t&&t[0]!=="?"?"?"+t:t}var ah=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>J(Yj),providedIn:"root"});let t=e;return t})(),GJ=new we(""),Yj=(()=>{let e=class e extends ah{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??J(Ei).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return Kj(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+Pl(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${r}${o}`:r}pushState(i,r,o,a){let l=this.prepareExternalUrl(o+Pl(a));this._platformLocation.pushState(i,r,l)}replaceState(i,r,o,a){let l=this.prepareExternalUrl(o+Pl(a));this._platformLocation.replaceState(i,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(se(Wj),se(GJ,8))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var cm=(()=>{let e=class e{constructor(i){this._subject=new zt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=WJ(Uj(Bj(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+Pl(r))}normalize(i){return e.stripTrailingSlash(qJ(this._basePath,Bj(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",o=null){this._locationStrategy.pushState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Pl(r)),o)}replaceState(i,r="",o=null){this._locationStrategy.replaceState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Pl(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(o=>o(i,r))}subscribe(i,r,o){return this._subject.subscribe({next:i,error:r,complete:o})}};e.normalizeQueryParams=Pl,e.joinWithSlash=Kj,e.stripTrailingSlash=Uj,e.\u0275fac=function(r){return new(r||e)(se(ah))},e.\u0275prov=Z({token:e,factory:()=>zJ(),providedIn:"root"});let t=e;return t})();function zJ(){return new cm(se(ah))}function qJ(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Bj(t){return t.replace(/\/index.html$/,"")}function WJ(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function ow(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var P1=/\s+/,$j=[],Ri=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=$j,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(P1):$j}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(P1):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let o=this.stateMap.get(i);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],o=i[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(P1).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(r){return new(r||e)(R(nn),R(bo))},e.\u0275dir=At({type:e,selectors:[["","ngClass",""]],inputs:{klass:[xe.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var O1=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},qe=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,o){this._viewContainer=i,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((o,a,l)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new O1(o.item,this._ngForOf,-1,-1),l===null?void 0:l);else if(l==null)r.remove(a===null?void 0:a);else if(a!==null){let d=r.get(a);r.move(d,l),Hj(d,o)}});for(let o=0,a=r.length;o<a;o++){let d=r.get(o).context;d.index=o,d.count=a,d.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{let a=r.get(o.currentIndex);Hj(a,o)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(R(Ci),R(vo),R(M1))},e.\u0275dir=At({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Hj(t,e){t.context.$implicit=e.item}var nt=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new k1,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Gj("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Gj("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(R(Ci),R(vo))},e.\u0275dir=At({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),k1=class{constructor(){this.$implicit=null,this.ngIf=null}};function Gj(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Yi(e)}'.`)}var ve=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Qi({type:e}),e.\u0275inj=Ji({});let t=e;return t})(),Qj="browser",KJ="server";function lm(t){return t===KJ}var sh=class{};var dm=class{},hm=class{},ra=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),a=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let a=this.headers.get(n);if(!a)return;a=a.filter(l=>o.indexOf(l)===-1),a.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,a)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var F1=class{encodeKey(e){return Jj(e)}encodeValue(e){return Jj(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function JJ(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[a,l]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],d=n.get(a)||[];d.push(l),n.set(a,d)}),n}var XJ=/%(\d[a-f0-9])/gi,ZJ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Jj(t){return encodeURIComponent(t).replace(XJ,(e,n)=>ZJ[n]??e)}function sw(t){return`${t}`}var lc=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new F1,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=JJ(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(sw):[sw(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(sw(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(sw(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var L1=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function eX(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Xj(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Zj(t){return typeof Blob<"u"&&t instanceof Blob}function eU(t){return typeof FormData<"u"&&t instanceof FormData}function tX(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var um=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(eX(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new ra,this.context??=new L1,!this.params)this.params=new lc,this.urlWithParams=n;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=n;else{let l=n.indexOf("?"),d=l===-1?"?":l<n.length-1?"&":"";this.urlWithParams=n+d+a}}}serializeBody(){return this.body===null?null:Xj(this.body)||Zj(this.body)||eU(this.body)||tX(this.body)||typeof this.body=="string"?this.body:this.body instanceof lc?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||eU(this.body)?null:Zj(this.body)?this.body.type||null:Xj(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof lc?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,a=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,l=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,d=e.headers||this.headers,h=e.params||this.params,m=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((v,y)=>v.set(y,e.setHeaders[y]),d)),e.setParams&&(h=Object.keys(e.setParams).reduce((v,y)=>v.set(y,e.setParams[y]),h)),new t(n,i,o,{params:h,headers:d,context:m,reportProgress:l,responseType:r,withCredentials:a})}},uc=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(uc||{}),fm=class{constructor(e,n=mm.Ok,i="OK"){this.headers=e.headers||new ra,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},aw=class t extends fm{constructor(e={}){super(e),this.type=uc.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},pm=class t extends fm{constructor(e={}){super(e),this.type=uc.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},cc=class extends fm{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},mm=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(mm||{});function R1(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Ol=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,o={}){let a;if(i instanceof um)a=i;else{let h;o.headers instanceof ra?h=o.headers:h=new ra(o.headers);let m;o.params&&(o.params instanceof lc?m=o.params:m=new lc({fromObject:o.params})),a=new um(i,r,o.body!==void 0?o.body:null,{headers:h,context:o.context,params:m,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let l=Re(a).pipe(Ka(h=>this.handler.handle(h)));if(i instanceof um||o.observe==="events")return l;let d=l.pipe(di(h=>h instanceof pm));switch(o.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return d.pipe(Ne(h=>{if(h.body!==null&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return d.pipe(Ne(h=>{if(h.body!==null&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return d.pipe(Ne(h=>{if(h.body!==null&&typeof h.body!="string")throw new Error("Response is not a string.");return h.body}));case"json":default:return d.pipe(Ne(h=>h.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new lc().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,R1(o,r))}post(i,r,o={}){return this.request("POST",i,R1(o,r))}put(i,r,o={}){return this.request("PUT",i,R1(o,r))}};e.\u0275fac=function(r){return new(r||e)(se(dm))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),nX=/^\)\]\}',?\n/,iX="X-Request-URL";function tU(t){if(t.url)return t.url;let e=iX.toLocaleLowerCase();return t.headers.get(e)}var N1=(()=>{let e=class e{constructor(){this.fetchImpl=J(V1,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=J(Ct)}handle(i){return new Ue(r=>{let o=new AbortController;return this.doRequest(i,o.signal,r).then(j1,a=>r.error(new cc({error:a}))),()=>o.abort()})}doRequest(i,r,o){return I(this,null,function*(){let a=this.createRequestInit(i),l;try{let w=this.fetchImpl(i.urlWithParams,ne({signal:r},a));rX(w),o.next({type:uc.Sent}),l=yield w}catch(w){o.error(new cc({error:w,status:w.status??0,statusText:w.statusText,url:i.urlWithParams,headers:w.headers}));return}let d=new ra(l.headers),h=l.statusText,m=tU(l)??i.urlWithParams,v=l.status,y=null;if(i.reportProgress&&o.next(new aw({headers:d,status:v,statusText:h,url:m})),l.body){let w=l.headers.get("content-length"),S=[],D=l.body.getReader(),O=0,V,$,x=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>I(this,null,function*(){for(;;){let{done:U,value:oe}=yield D.read();if(U)break;if(S.push(oe),O+=oe.length,i.reportProgress){$=i.responseType==="text"?($??"")+(V??=new TextDecoder).decode(oe,{stream:!0}):void 0;let Ee=()=>o.next({type:uc.DownloadProgress,total:w?+w:void 0,loaded:O,partialText:$});x?x.run(Ee):Ee()}}}));let te=this.concatChunks(S,O);try{let U=l.headers.get("Content-Type")??"";y=this.parseBody(i,te,U)}catch(U){o.error(new cc({error:U,headers:new ra(l.headers),status:l.status,statusText:l.statusText,url:tU(l)??i.urlWithParams}));return}}v===0&&(v=y?mm.Ok:0),v>=200&&v<300?(o.next(new pm({body:y,headers:d,status:v,statusText:h,url:m})),o.complete()):o.error(new cc({error:y,headers:d,status:v,statusText:h,url:m}))})}parseBody(i,r,o){switch(i.responseType){case"json":let a=new TextDecoder().decode(r).replace(nX,"");return a===""?null:JSON.parse(a);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:o});case"arraybuffer":return r.buffer}}createRequestInit(i){let r={},o=i.withCredentials?"include":void 0;if(i.headers.forEach((a,l)=>r[a]=l.join(",")),r.Accept??="application/json, text/plain, */*",!r["Content-Type"]){let a=i.detectContentTypeHeader();a!==null&&(r["Content-Type"]=a)}return{body:i.serializeBody(),method:i.method,headers:r,credentials:o}}concatChunks(i,r){let o=new Uint8Array(r),a=0;for(let l of i)o.set(l,a),a+=l.length;return o}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),V1=class{};function j1(){}function rX(t){t.then(j1,j1)}function oX(t,e){return e(t)}function sX(t,e,n){return(i,r)=>Zs(n,()=>e(i,o=>t(o,r)))}var U1=new we(""),aX=new we(""),rU=new we("");var nU=(()=>{let e=class e extends dm{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=J(Dl);let o=J(rU,{optional:!0});this.backend=o??i}handle(i){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(U1),...this.injector.get(aX,[])]));this.chain=o.reduceRight((a,l)=>sX(a,l,this.injector),oX)}let r=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(pl(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(se(hm),se(hi))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();var cX=/^\)\]\}',?\n/;function lX(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var iU=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new X(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Qt(r.\u0275loadImpl()):Re(null)).pipe(Pi(()=>new Ue(a=>{let l=r.build();if(l.open(i.method,i.urlWithParams),i.withCredentials&&(l.withCredentials=!0),i.headers.forEach((D,O)=>l.setRequestHeader(D,O.join(","))),i.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let D=i.detectContentTypeHeader();D!==null&&l.setRequestHeader("Content-Type",D)}if(i.responseType){let D=i.responseType.toLowerCase();l.responseType=D!=="json"?D:"text"}let d=i.serializeBody(),h=null,m=()=>{if(h!==null)return h;let D=l.statusText||"OK",O=new ra(l.getAllResponseHeaders()),V=lX(l)||i.url;return h=new aw({headers:O,status:l.status,statusText:D,url:V}),h},v=()=>{let{headers:D,status:O,statusText:V,url:$}=m(),x=null;O!==mm.NoContent&&(x=typeof l.response>"u"?l.responseText:l.response),O===0&&(O=x?mm.Ok:0);let te=O>=200&&O<300;if(i.responseType==="json"&&typeof x=="string"){let U=x;x=x.replace(cX,"");try{x=x!==""?JSON.parse(x):null}catch(oe){x=U,te&&(te=!1,x={error:oe,text:x})}}te?(a.next(new pm({body:x,headers:D,status:O,statusText:V,url:$||void 0})),a.complete()):a.error(new cc({error:x,headers:D,status:O,statusText:V,url:$||void 0}))},y=D=>{let{url:O}=m(),V=new cc({error:D,status:l.status||0,statusText:l.statusText||"Unknown Error",url:O||void 0});a.error(V)},E=!1,w=D=>{E||(a.next(m()),E=!0);let O={type:uc.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(O.total=D.total),i.responseType==="text"&&l.responseText&&(O.partialText=l.responseText),a.next(O)},S=D=>{let O={type:uc.UploadProgress,loaded:D.loaded};D.lengthComputable&&(O.total=D.total),a.next(O)};return l.addEventListener("load",v),l.addEventListener("error",y),l.addEventListener("timeout",y),l.addEventListener("abort",y),i.reportProgress&&(l.addEventListener("progress",w),d!==null&&l.upload&&l.upload.addEventListener("progress",S)),l.send(d),a.next({type:uc.Sent}),()=>{l.removeEventListener("error",y),l.removeEventListener("abort",y),l.removeEventListener("load",v),l.removeEventListener("timeout",y),i.reportProgress&&(l.removeEventListener("progress",w),d!==null&&l.upload&&l.upload.removeEventListener("progress",S)),l.readyState!==l.DONE&&l.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(se(sh))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),oU=new we(""),uX="XSRF-TOKEN",dX=new we("",{providedIn:"root",factory:()=>uX}),hX="X-XSRF-TOKEN",fX=new we("",{providedIn:"root",factory:()=>hX}),cw=class{},pX=(()=>{let e=class e{constructor(i,r,o){this.doc=i,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=ow(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(se(Ei),se(Lr),se(dX))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();function mX(t,e){let n=t.url.toLowerCase();if(!J(oU)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=J(cw).getToken(),r=J(fX);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}var B1=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(B1||{});function sU(t,e){return{\u0275kind:t,\u0275providers:e}}function aU(...t){let e=[Ol,iU,nU,{provide:dm,useExisting:nU},{provide:hm,useExisting:iU},{provide:U1,useValue:mX,multi:!0},{provide:oU,useValue:!0},{provide:cw,useClass:pX}];for(let n of t)e.push(...n.\u0275providers);return rc(e)}function cU(t){return sU(B1.Interceptors,t.map(e=>({provide:U1,useValue:e,multi:!0})))}function lU(){return sU(B1.Fetch,[N1,{provide:hm,useExisting:N1},{provide:rU,useExisting:N1}])}var dD={};Iq(dD,{FirebaseError:()=>Gn,SDK_VERSION:()=>Eo,_DEFAULT_ENTRY_NAME:()=>ls,_addComponent:()=>bm,_addOrOverwriteComponent:()=>uD,_apps:()=>fc,_clearComponents:()=>pZ,_components:()=>_m,_getProvider:()=>Ll,_registerComponent:()=>Co,_removeServiceInstance:()=>RU,deleteApp:()=>vw,getApp:()=>Vl,getApps:()=>Cm,initializeApp:()=>lh,onLog:()=>yw,registerVersion:()=>un,setLogLevel:()=>_w});var dU=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},gX=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=t[n++],a=t[n++],l=t[n++],d=((r&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{let o=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|a&63)}}return e.join("")},hU={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let o=t[r],a=r+1<t.length,l=a?t[r+1]:0,d=r+2<t.length,h=d?t[r+2]:0,m=o>>2,v=(o&3)<<4|l>>4,y=(l&15)<<2|h>>6,E=h&63;d||(E=64,a||(y=64)),i.push(n[m],n[v],n[y],n[E])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gX(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let o=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;let h=r<t.length?n[t.charAt(r)]:64;++r;let v=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||l==null||h==null||v==null)throw new G1;let y=o<<2|l>>4;if(i.push(y),h!==64){let E=l<<4&240|h>>2;if(i.push(E),v!==64){let w=h<<6&192|v;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},G1=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},vX=function(t){let e=dU(t);return hU.encodeByteArray(e,!0)},gm=function(t){return vX(t).replace(/\./g,"")},q1=function(t){try{return hU.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vm(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!yX(n)||(t[n]=vm(t[n],e[n]));return t}function yX(t){return t!=="__proto__"}function _X(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var wX=()=>_X().__FIREBASE_DEFAULTS__,bX=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CX=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&q1(t[1]);return e&&JSON.parse(e)},uw=()=>{try{return wX()||bX()||CX()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},W1=t=>{var e,n;return(n=(e=uw())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fU=t=>{let e=W1(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},K1=()=>{var t;return(t=uw())===null||t===void 0?void 0:t.config},Y1=t=>{var e;return(e=uw())===null||e===void 0?void 0:e[`_${t}`]};var lw=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function pU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gm(JSON.stringify(n)),gm(JSON.stringify(a)),""].join(".")}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function dw(){var t;let e=(t=uw())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gU(){return typeof self=="object"&&self.self===self}function hw(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ym(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fw(){let t=Wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vU(){return!dw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dc(){try{return typeof indexedDB=="object"}catch{return!1}}function yU(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var EX="FirebaseError",Gn=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=EX,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jr.prototype.create)}},jr=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],a=o?IX(o,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new Gn(r,l,i)}};function IX(t,e){return t.replace(SX,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var SX=/\{\$([^}]+)}/g;function Q1(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _U(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function kl(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let o=t[r],a=e[r];if(uU(o)&&uU(a)){if(!kl(o,a))return!1}else if(o!==a)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function uU(t){return t!==null&&typeof t=="object"}function Rl(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function hc(t){let e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function ch(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function pw(t,e){let n=new z1(t,e);return n.subscribe.bind(n)}var z1=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");TX(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=H1),r.error===void 0&&(r.error=H1),r.complete===void 0&&(r.complete=H1);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function TX(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function H1(){}var Rwe=4*60*60*1e3;function Je(t){return t&&t._delegate?t._delegate:t}var Ni=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Nl="[DEFAULT]";var J1=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new lw;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xX(e))try{this.getOrInitializeService({instanceIdentifier:Nl})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Nl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Nl){return this.instances.has(e)}getOptions(e=Nl){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[o,a]of this.instancesDeferred.entries()){let l=this.normalizeInstanceIdentifier(o);i===l&&a.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:DX(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Nl){return this.component?this.component.multipleInstances?e:Nl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function DX(t){return t===Nl?void 0:t}function xX(t){return t.instantiationMode==="EAGER"}var mw=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new J1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var X1=[],ft=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ft||{}),wU={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},AX=ft.INFO,MX={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},PX=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=MX[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},as=class{constructor(e){this.name=e,this._logLevel=AX,this._logHandler=PX,this._userLogHandler=null,X1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}};function bU(t){X1.forEach(e=>{e.setLogLevel(t)})}function CU(t,e){for(let n of X1){let i=null;e&&e.level&&(i=wU[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(r,o,...a)=>{let l=a.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(i??r.logLevel)&&t({level:ft[o].toLowerCase(),message:l,args:a,type:r.name})}}}var OX=(t,e)=>e.some(n=>t instanceof n),EU,IU;function kX(){return EU||(EU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RX(){return IU||(IU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var SU=new WeakMap,eD=new WeakMap,TU=new WeakMap,Z1=new WeakMap,nD=new WeakMap;function NX(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(cs(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&SU.set(n,t)}).catch(()=>{}),nD.set(e,t),e}function FX(t){if(eD.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});eD.set(t,e)}var tD={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return eD.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TU.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DU(t){tD=t(tD)}function LX(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(gw(this),e,...n);return TU.set(i,e.sort?e.sort():[e]),cs(i)}:RX().includes(t)?function(...e){return t.apply(gw(this),e),cs(SU.get(this))}:function(...e){return cs(t.apply(gw(this),e))}}function VX(t){return typeof t=="function"?LX(t):(t instanceof IDBTransaction&&FX(t),OX(t,kX())?new Proxy(t,tD):t)}function cs(t){if(t instanceof IDBRequest)return NX(t);if(Z1.has(t))return Z1.get(t);let e=VX(t);return e!==t&&(Z1.set(t,e),nD.set(e,t)),e}var gw=t=>nD.get(t);function AU(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){let a=indexedDB.open(t,e),l=cs(a);return i&&a.addEventListener("upgradeneeded",d=>{i(cs(a.result),d.oldVersion,d.newVersion,cs(a.transaction),d)}),n&&a.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),l.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}var jX=["get","getKey","getAll","getAllKeys","count"],UX=["put","add","delete","clear"],iD=new Map;function xU(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(iD.get(e))return iD.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=UX.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||jX.includes(n)))return;let o=function(a,...l){return I(this,null,function*(){let d=this.transaction(a,r?"readwrite":"readonly"),h=d.store;return i&&(h=h.index(l.shift())),(yield Promise.all([h[n](...l),r&&d.done]))[0]})};return iD.set(e,o),o}DU(t=>xt(ne({},t),{get:(e,n,i)=>xU(e,n)||t.get(e,n,i),has:(e,n)=>!!xU(e,n)||t.has(e,n)}));var oD=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BX(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function BX(t){let e=t.getComponent();return e?.type==="VERSION"}var sD="@firebase/app",MU="0.9.28";var Fl=new as("@firebase/app"),$X="@firebase/app-compat",HX="@firebase/analytics-compat",GX="@firebase/analytics",zX="@firebase/app-check-compat",qX="@firebase/app-check",WX="@firebase/auth",KX="@firebase/auth-compat",YX="@firebase/database",QX="@firebase/database-compat",JX="@firebase/functions",XX="@firebase/functions-compat",ZX="@firebase/installations",eZ="@firebase/installations-compat",tZ="@firebase/messaging",nZ="@firebase/messaging-compat",iZ="@firebase/performance",rZ="@firebase/performance-compat",oZ="@firebase/remote-config",sZ="@firebase/remote-config-compat",aZ="@firebase/storage",cZ="@firebase/storage-compat",lZ="@firebase/firestore",uZ="@firebase/firestore-compat",dZ="firebase",hZ="10.8.1";var ls="[DEFAULT]",fZ={[sD]:"fire-core",[$X]:"fire-core-compat",[GX]:"fire-analytics",[HX]:"fire-analytics-compat",[qX]:"fire-app-check",[zX]:"fire-app-check-compat",[WX]:"fire-auth",[KX]:"fire-auth-compat",[YX]:"fire-rtdb",[QX]:"fire-rtdb-compat",[JX]:"fire-fn",[XX]:"fire-fn-compat",[ZX]:"fire-iid",[eZ]:"fire-iid-compat",[tZ]:"fire-fcm",[nZ]:"fire-fcm-compat",[iZ]:"fire-perf",[rZ]:"fire-perf-compat",[oZ]:"fire-rc",[sZ]:"fire-rc-compat",[aZ]:"fire-gcs",[cZ]:"fire-gcs-compat",[lZ]:"fire-fst",[uZ]:"fire-fst-compat","fire-js":"fire-js",[dZ]:"fire-js-all"};var fc=new Map,_m=new Map;function bm(t,e){try{t.container.addComponent(e)}catch(n){Fl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function uD(t,e){t.container.addOrOverwriteComponent(e)}function Co(t){let e=t.name;if(_m.has(e))return Fl.debug(`There were multiple attempts to register component ${e}.`),!1;_m.set(e,t);for(let n of fc.values())bm(n,t);return!0}function Ll(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function RU(t,e,n=ls){Ll(t,e).clearInstance(n)}function pZ(){_m.clear()}var mZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},oa=new jr("app","Firebase",mZ);var aD=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oa.create("app-deleted",{appName:this._name})}};var Eo=hZ;function lh(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:ls,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw oa.create("bad-app-name",{appName:String(r)});if(n||(n=K1()),!n)throw oa.create("no-options");let o=fc.get(r);if(o){if(kl(n,o.options)&&kl(i,o.config))return o;throw oa.create("duplicate-app",{appName:r})}let a=new mw(r);for(let d of _m.values())a.addComponent(d);let l=new aD(n,i,a);return fc.set(r,l),l}function Vl(t=ls){let e=fc.get(t);if(!e&&t===ls&&K1())return lh();if(!e)throw oa.create("no-app",{appName:t});return e}function Cm(){return Array.from(fc.values())}function vw(t){return I(this,null,function*(){let e=t.name;fc.has(e)&&(fc.delete(e),yield Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)})}function un(t,e,n){var i;let r=(i=fZ[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){let l=[`Unable to register library "${r}" with version "${e}":`];o&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fl.warn(l.join(" "));return}Co(new Ni(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function yw(t,e){if(t!==null&&typeof t!="function")throw oa.create("invalid-log-argument");CU(t,e)}function _w(t){bU(t)}var gZ="firebase-heartbeat-database",vZ=1,wm="firebase-heartbeat-store",rD=null;function NU(){return rD||(rD=AU(gZ,vZ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wm)}catch(n){console.warn(n)}}}}).catch(t=>{throw oa.create("idb-open",{originalErrorMessage:t.message})})),rD}function yZ(t){return I(this,null,function*(){try{let n=(yield NU()).transaction(wm),i=yield n.objectStore(wm).get(FU(t));return yield n.done,i}catch(e){if(e instanceof Gn)Fl.warn(e.message);else{let n=oa.create("idb-get",{originalErrorMessage:e?.message});Fl.warn(n.message)}}})}function PU(t,e){return I(this,null,function*(){try{let i=(yield NU()).transaction(wm,"readwrite");yield i.objectStore(wm).put(e,FU(t)),yield i.done}catch(n){if(n instanceof Gn)Fl.warn(n.message);else{let i=oa.create("idb-set",{originalErrorMessage:n?.message});Fl.warn(i.message)}}})}function FU(t){return`${t.name}!${t.options.appId}`}var _Z=1024,wZ=30*24*60*60*1e3,cD=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new lD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return I(this,null,function*(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=OU();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{let l=new Date(a.date).valueOf();return Date.now()-l<=wZ}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return I(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=OU(),{heartbeatsToSend:i,unsentEntries:r}=bZ(this._heartbeatsCache.heartbeats),o=gm(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function OU(){return new Date().toISOString().substring(0,10)}function bZ(t,e=_Z){let n=[],i=t.slice();for(let r of t){let o=n.find(a=>a.agent===r.agent);if(o){if(o.dates.push(r.date),kU(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),kU(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var lD=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return dc()?yU().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield yZ(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return PU(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return PU(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function kU(t){return gm(JSON.stringify({version:2,heartbeats:t})).length}function CZ(t){Co(new Ni("platform-logger",e=>new oD(e),"PRIVATE")),Co(new Ni("heartbeat",e=>new cD(e),"PRIVATE")),un(sD,MU,t),un(sD,MU,"esm2017"),un("fire-js","")}CZ("");var EZ="firebase",IZ="10.8.1";un(EZ,IZ,"app");var Ul=new Js("ANGULARFIRE2_VERSION");function bw(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(a=>a.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Em=(t,e)=>{let n=e?[e]:Cm(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(a=>{i.includes(a)||i.push(a)})}),i},dh=class{constructor(){return Em(SZ)}},SZ="app-check";function uh(){}var ww=class{zone;delegate;constructor(e,n=_S){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(a){r.runGuarded(()=>{e.apply(this,[a])})};return this.delegate.schedule(o,n,i)}},hD=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",uh,{},uh,uh)),n.pipe(Rn({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},hh=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ww(Zone.current)),this.insideAngular=n.run(()=>new ww(Zone.current,Rd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(se(Ct))};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Cw(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function TZ(t){return Cw().ngZone.runOutsideAngular(()=>t())}function jl(t){return Cw().ngZone.run(()=>t())}function DZ(t){return xZ(Cw())(t)}function xZ(t){return function(n){return n=n.lift(new hD(t.ngZone)),n.pipe(qa(t.outsideAngular),za(t.insideAngular))}}var AZ=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),jl(()=>t.apply(void 0,i))},Io=(t,e)=>function(){let n,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(n||=jl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",uh,{},uh,uh))),i[o]=AZ(i[o],n));let r=TZ(()=>t.apply(this,i));if(!e)if(r instanceof Ue){let o=Cw();return r.pipe(qa(o.outsideAngular),za(o.insideAngular))}else return jl(()=>r);return r instanceof Ue?r.pipe(DZ):r instanceof Promise?jl(()=>new Promise((o,a)=>r.then(l=>jl(()=>o(l)),l=>jl(()=>a(l))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:jl(()=>r)};var sa=class{constructor(e){return e}},Bl=class{constructor(){return Cm()}};function MZ(t){return t&&t.length===1?t[0]:new sa(Vl())}var fD=new we("angularfire2._apps"),PZ={provide:sa,useFactory:MZ,deps:[[new Xi,fD]]},OZ={provide:Bl,deps:[[new Xi,fD]]};function kZ(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new sa(i)}}var RZ=(()=>{class t{constructor(n){un("angularfire",Ul.full,"core"),un("angularfire",Ul.full,"app"),un("angular",kj.full,n.toString())}static \u0275fac=function(i){return new(i||t)(se(Lr))};static \u0275mod=Qi({type:t});static \u0275inj=Ji({providers:[PZ,OZ]})}return t})();function LU(t,...e){return{ngModule:RZ,providers:[{provide:fD,useFactory:kZ(t),multi:!0,deps:[Ct,ln,hh,...e]}]}}var VU=Io(lh,!0);var vc={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};var ua={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function NZ(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function eB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var jw=NZ,GD=eB,tB=new jr("auth","Firebase",eB());var Tw=new as("@firebase/auth");function FZ(t,...e){Tw.logLevel<=ft.WARN&&Tw.warn(`Auth (${Eo}): ${t}`,...e)}function Iw(t,...e){Tw.logLevel<=ft.ERROR&&Tw.error(`Auth (${Eo}): ${t}`,...e)}function Nn(t,...e){throw zD(t,...e)}function pi(t,...e){return zD(t,...e)}function nB(t,e,n){let i=Object.assign(Object.assign({},GD()),{[e]:n});return new jr("auth","Firebase",i).create(e,{appName:t.name})}function yh(t,e,n){let i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Nn(t,"argument-error"),nB(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zD(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return tB.create(t,...e)}function Q(t,e,...n){if(!t)throw zD(e,...n)}function us(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Iw(e),new Error(e)}function Ur(t,e){t||us(e)}function Dm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qD(){return jU()==="http:"||jU()==="https:"}function jU(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function LZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qD()||hw()||"connection"in navigator)?navigator.onLine:!0}function VZ(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var $l=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ur(n>e,"Short delay should be less than long delay!"),this.isMobile=mU()||ym()}get(){return LZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function WD(t,e){Ur(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var xm=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var jZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var UZ=new $l(3e4,6e4);function wn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function bn(o,a,l,d){return I(this,arguments,function*(t,e,n,i,r={}){return iB(t,r,()=>I(this,null,function*(){let h={},m={};i&&(e==="GET"?m=i:h={body:JSON.stringify(i)});let v=Rl(Object.assign({key:t.config.apiKey},m)).slice(1),y=yield t._getAdditionalHeaders();return y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode),xm.fetch()(rB(t,t.config.apiHost,n,v),Object.assign({method:e,headers:y,referrerPolicy:"no-referrer"},h))}))})}function iB(t,e,n){return I(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},jZ),e);try{let r=new yD(t),o=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let a=yield o.json();if("needConfirmation"in a)throw Im(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{let l=o.ok?a.errorMessage:a.error.message,[d,h]=l.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Im(t,"credential-already-in-use",a);if(d==="EMAIL_EXISTS")throw Im(t,"email-already-in-use",a);if(d==="USER_DISABLED")throw Im(t,"user-disabled",a);let m=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw nB(t,m,h);Nn(t,m)}}catch(r){if(r instanceof Gn)throw r;Nn(t,"network-request-failed",{message:String(r)})}})}function da(o,a,l,d){return I(this,arguments,function*(t,e,n,i,r={}){let h=yield bn(t,e,n,i,r);return"mfaPendingCredential"in h&&Nn(t,"multi-factor-auth-required",{_serverResponse:h}),h})}function rB(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?WD(t.config,r):`${t.config.apiScheme}://${r}`}function BZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var yD=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(pi(this.auth,"network-request-failed")),UZ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Im(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=pi(t,e,i);return r.customData._tokenResponse=n,r}function UU(t){return t!==void 0&&t.getResponse!==void 0}function BU(t){return t!==void 0&&t.enterprise!==void 0}var _D=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return BZ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function $Z(t){return I(this,null,function*(){return(yield bn(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})}function HZ(t,e){return I(this,null,function*(){return bn(t,"GET","/v2/recaptchaConfig",wn(t,e))})}function GZ(t,e){return I(this,null,function*(){return bn(t,"POST","/v1/accounts:delete",e)})}function zZ(t,e){return I(this,null,function*(){return bn(t,"POST","/v1/accounts:update",e)})}function qZ(t,e){return I(this,null,function*(){return bn(t,"POST","/v1/accounts:lookup",e)})}function Sm(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Uw(t,e=!1){return I(this,null,function*(){let n=Je(t),i=yield n.getIdToken(e),r=Bw(i);Q(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,a=o?.sign_in_provider;return{claims:r,token:i,authTime:Sm(pD(r.auth_time)),issuedAtTime:Sm(pD(r.iat)),expirationTime:Sm(pD(r.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function pD(t){return Number(t)*1e3}function Bw(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Iw("JWT malformed, contained fewer than 3 sections"),null;try{let r=q1(n);return r?JSON.parse(r):(Iw("Failed to decode base64 JWT payload"),null)}catch(r){return Iw("Caught error parsing JWT payload as JSON",r?.toString()),null}}function WZ(t){let e=Bw(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ca(t,e,n=!1){return I(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof Gn&&KZ(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function KZ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var wD=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),n)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Dw=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sm(this.lastLoginAt),this.creationTime=Sm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Am(t){return I(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield ca(t,qZ(n,{idToken:i}));Q(r?.users.length,n,"internal-error");let o=r.users[0];t._notifyReloadListener(o);let a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?QZ(o.providerUserInfo):[],l=YZ(t.providerData,a),d=t.isAnonymous,h=!(t.email&&o.passwordHash)&&!l?.length,m=d?h:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Dw(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,v)})}function $w(t){return I(this,null,function*(){let e=Je(t);yield Am(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function YZ(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function QZ(t){return t.map(e=>{var{providerId:n}=e,i=N_(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function JZ(t,e){return I(this,null,function*(){let n=yield iB(t,{},()=>I(this,null,function*(){let i=Rl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,a=rB(t,r,"/v1/token",`key=${o}`),l=yield t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",xm.fetch()(a,{method:"POST",headers:l,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function XZ(t,e){return I(this,null,function*(){return bn(t,"POST","/v2/accounts:revokeToken",wn(t,e))})}var xw=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WZ(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return I(this,null,function*(){return Q(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return I(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield JZ(e,n);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:o}=n,a=new t;return i&&(Q(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(Q(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),o&&(Q(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return us("not implemented")}};function pc(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var fh=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=N_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Dw(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let n=yield ca(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Uw(this,e)}reload(){return $w(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return I(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Am(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){let e=yield this.getIdToken();return yield ca(this,GZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,a,l,d,h,m;let v=(i=n.displayName)!==null&&i!==void 0?i:void 0,y=(r=n.email)!==null&&r!==void 0?r:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(a=n.photoURL)!==null&&a!==void 0?a:void 0,S=(l=n.tenantId)!==null&&l!==void 0?l:void 0,D=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,O=(h=n.createdAt)!==null&&h!==void 0?h:void 0,V=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:$,emailVerified:x,isAnonymous:te,providerData:U,stsTokenManager:oe}=n;Q($&&oe,e,"internal-error");let Ee=xw.fromJSON(this.name,oe);Q(typeof $=="string",e,"internal-error"),pc(v,e.name),pc(y,e.name),Q(typeof x=="boolean",e,"internal-error"),Q(typeof te=="boolean",e,"internal-error"),pc(E,e.name),pc(w,e.name),pc(S,e.name),pc(D,e.name),pc(O,e.name),pc(V,e.name);let Ge=new t({uid:$,auth:e,email:y,emailVerified:x,displayName:v,isAnonymous:te,photoURL:w,phoneNumber:E,tenantId:S,stsTokenManager:Ee,createdAt:O,lastLoginAt:V});return U&&Array.isArray(U)&&(Ge.providerData=U.map(Ze=>Object.assign({},Ze))),D&&(Ge._redirectEventId=D),Ge}static _fromIdTokenResponse(e,n,i=!1){return I(this,null,function*(){let r=new xw;r.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Am(o),o})}};var $U=new Map;function Fi(t){Ur(t instanceof Function,"Expected a class definition");let e=$U.get(t);return e?(Ur(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$U.set(t,e),e)}var ZZ=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(n,i){return I(this,null,function*(){this.storage[n]=i})}_get(n){return I(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return I(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),la=ZZ;function ds(t,e,n){return`firebase:${t}:${e}:${n}`}var Aw=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=ds(this.userKey,r.apiKey,o),this.fullPersistenceKey=ds("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?fh._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return I(this,null,function*(){if(!n.length)return new t(Fi(la),e,i);let r=(yield Promise.all(n.map(h=>I(this,null,function*(){if(yield h._isAvailable())return h})))).filter(h=>h),o=r[0]||Fi(la),a=ds(i,e.config.apiKey,e.name),l=null;for(let h of n)try{let m=yield h._get(a);if(m){let v=fh._fromJSON(e,m);h!==o&&(l=v),o=h;break}}catch{}let d=r.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new t(o,e,i):(o=d[0],l&&(yield o._set(a,l.toJSON())),yield Promise.all(n.map(h=>I(this,null,function*(){if(h!==o)try{yield h._remove(a)}catch{}}))),new t(o,e,i))})}};function HU(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cB(e))return"Blackberry";if(lB(e))return"Webos";if(KD(e))return"Safari";if((e.includes("chrome/")||sB(e))&&!e.includes("edge/"))return"Chrome";if(_h(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function oB(t=Wt()){return/firefox\//i.test(t)}function KD(t=Wt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sB(t=Wt()){return/crios\//i.test(t)}function aB(t=Wt()){return/iemobile/i.test(t)}function _h(t=Wt()){return/android/i.test(t)}function cB(t=Wt()){return/blackberry/i.test(t)}function lB(t=Wt()){return/webos/i.test(t)}function Kl(t=Wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uB(t=Wt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function eee(t=Wt()){var e;return Kl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tee(){return fw()&&document.documentMode===10}function dB(t=Wt()){return Kl(t)||_h(t)||lB(t)||cB(t)||/windows phone/i.test(t)||aB(t)}function nee(){try{return!!(window&&window!==window.top)}catch{return!1}}function YD(t,e=[]){let n;switch(t){case"Browser":n=HU(Wt());break;case"Worker":n=`${HU(Wt())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eo}/${i}`}var bD=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=o=>new Promise((a,l)=>{try{let d=e(o);a(d)}catch(d){l(d)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function iee(n){return I(this,arguments,function*(t,e={}){return bn(t,"GET","/v2/passwordPolicy",wn(t,e))})}var ree=6,CD=class{constructor(e){var n,i,r,o;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:ree,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,a,l;let d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(a=d.containsNumericCharacter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),d}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Mw=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pw(this),this.idTokenSubscription=new Pw(this),this.beforeStateQueue=new bD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Aw.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return I(this,null,function*(){var n;let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r?._redirectEventId,d=yield this.tryRedirectSignIn(e);(!a||a===l)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return I(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield Am(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=VZ()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){let n=e?Je(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return I(this,null,function*(){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(Fi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield iee(this),n=new CD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jr("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield XZ(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return I(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Fi(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=yield Aw.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),a=!1,l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(l,this,"internal-error"),l.then(()=>{a||o(this.currentUser)}),typeof n=="function"){let d=e.addObserver(n,i,r);return()=>{a=!0,d()}}else{let d=e.addObserver(n);return()=>{a=!0,d()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return I(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&FZ(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function rn(t){return Je(t)}var Pw=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=pw(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Nm={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oee(t){Nm=t}function QD(t){return Nm.loadJS(t)}function see(){return Nm.recaptchaV2Script}function aee(){return Nm.recaptchaEnterpriseScript}function cee(){return Nm.gapiScript}function hB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var lee="recaptcha-enterprise",uee="NO_RECAPTCHA",ED=class{constructor(e){this.type=lee,this.auth=rn(e)}verify(e="verify",n=!1){return I(this,null,function*(){function i(o){return I(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((a,l)=>I(this,null,function*(){HZ(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{let h=new _D(d);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,a(h.siteKey)}}).catch(d=>{l(d)})}))})}function r(o,a,l){let d=window.grecaptcha;BU(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(h=>{a(h)}).catch(()=>{a(uee)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{i(this.auth).then(l=>{if(!n&&BU(window.grecaptcha))r(l,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let d=aee();d.length!==0&&(d+=l),QD(d).then(()=>{r(l,o,a)}).catch(h=>{a(h)})}}).catch(l=>{a(l)})})})}};function GU(t,e,n,i=!1){return I(this,null,function*(){let r=new ED(t),o;try{o=yield r.verify(n)}catch{o=yield r.verify(n,!0)}let a=Object.assign({},e);return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Mm(t,e,n,i){return I(this,null,function*(){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield GU(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(o=>I(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let a=yield GU(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(o)}))})}function Hw(t,e){let n=Ll(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),o=n.getOptions();if(kl(o,e??{}))return r;Nn(r,"already-initialized")}return n.initialize({options:e})}function dee(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Fi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function wh(t,e,n){let i=rn(t);Q(i._canInitEmulator,i,"emulator-config-failed"),Q(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,o=fB(e),{host:a,port:l}=hee(e),d=l===null?"":`:${l}`;i.config.emulator={url:`${o}//${a}${d}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||fee()}function fB(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hee(t){let e=fB(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:zU(i.substr(o.length+1))}}else{let[o,a]=i.split(":");return{host:o,port:zU(a)}}}function zU(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function fee(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var So=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return us("not implemented")}_getIdTokenResponse(e){return us("not implemented")}_linkToIdToken(e,n){return us("not implemented")}_getReauthenticationResolver(e){return us("not implemented")}};function pB(t,e){return I(this,null,function*(){return bn(t,"POST","/v1/accounts:resetPassword",wn(t,e))})}function pee(t,e){return I(this,null,function*(){return bn(t,"POST","/v1/accounts:update",e)})}function mee(t,e){return I(this,null,function*(){return bn(t,"POST","/v1/accounts:signUp",e)})}function gee(t,e){return I(this,null,function*(){return bn(t,"POST","/v1/accounts:update",wn(t,e))})}function vee(t,e){return I(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithPassword",wn(t,e))})}function Gw(t,e){return I(this,null,function*(){return bn(t,"POST","/v1/accounts:sendOobCode",wn(t,e))})}function yee(t,e){return I(this,null,function*(){return Gw(t,e)})}function _ee(t,e){return I(this,null,function*(){return Gw(t,e)})}function wee(t,e){return I(this,null,function*(){return Gw(t,e)})}function bee(t,e){return I(this,null,function*(){return Gw(t,e)})}function Cee(t,e){return I(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithEmailLink",wn(t,e))})}function Eee(t,e){return I(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithEmailLink",wn(t,e))})}var ph=class t extends So{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new t(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return I(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mm(e,n,"signInWithPassword",vee);case"emailLink":return Cee(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}})}_linkToIdToken(e,n){return I(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mm(e,i,"signUpPassword",mee);case"emailLink":return Eee(e,{idToken:n,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function aa(t,e){return I(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithIdp",wn(t,e))})}var Iee="http://localhost",Br=class t extends So{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=N_(n,["providerId","signInMethod"]);if(!i||!r)return null;let a=new t(i,r);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){let n=this.buildRequest();return aa(e,n)}_linkToIdToken(e,n){let i=this.buildRequest();return i.idToken=n,aa(e,i)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,aa(e,n)}buildRequest(){let e={requestUri:Iee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Rl(n)}return e}};function See(t,e){return I(this,null,function*(){return bn(t,"POST","/v1/accounts:sendVerificationCode",wn(t,e))})}function Tee(t,e){return I(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithPhoneNumber",wn(t,e))})}function Dee(t,e){return I(this,null,function*(){let n=yield da(t,"POST","/v1/accounts:signInWithPhoneNumber",wn(t,e));if(n.temporaryProof)throw Im(t,"account-exists-with-different-credential",n);return n})}var xee={USER_NOT_FOUND:"user-not-found"};function Aee(t,e){return I(this,null,function*(){let n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return da(t,"POST","/v1/accounts:signInWithPhoneNumber",wn(t,n),xee)})}var Hl=class t extends So{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new t({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new t({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return Tee(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return Dee(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Aee(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:n,verificationId:i,verificationCode:r}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:i,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));let{verificationId:n,verificationCode:i,phoneNumber:r,temporaryProof:o}=e;return!i&&!n&&!r&&!o?null:new t({verificationId:n,verificationCode:i,phoneNumber:r,temporaryProof:o})}};function Mee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Pee(t){let e=hc(ch(t)).link,n=e?hc(ch(e)).deep_link_id:null,i=hc(ch(t)).deep_link_id;return(i?hc(ch(i)).link:null)||i||n||e||t}var mh=class t{constructor(e){var n,i,r,o,a,l;let d=hc(ch(e)),h=(n=d.apiKey)!==null&&n!==void 0?n:null,m=(i=d.oobCode)!==null&&i!==void 0?i:null,v=Mee((r=d.mode)!==null&&r!==void 0?r:null);Q(h&&m&&v,"argument-error"),this.apiKey=h,this.operation=v,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=d.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=d.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){let n=Pee(e);try{return new t(n)}catch{return null}}};var bh=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,i){return ph._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){let r=mh.parseLink(i);return Q(r,"argument-error"),ph._fromEmailAndCode(n,r.code,r.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),To=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var gc=class extends To{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},Gl=class t extends gc{static credentialFromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;return Q("providerId"in n&&"signInMethod"in n,"argument-error"),Br._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Q(e.idToken||e.accessToken,"argument-error"),Br._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return t.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return t.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:o,nonce:a,providerId:l}=e;if(!i&&!r&&!n&&!o||!l)return null;try{return new t(l)._credential({idToken:n,accessToken:i,nonce:a,pendingToken:o})}catch{return null}}};var Fm=(()=>{class t extends gc{constructor(){super("facebook.com")}static credential(n){return Br._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch{return null}}}t.FACEBOOK_SIGN_IN_METHOD="facebook.com",t.PROVIDER_ID="facebook.com";return t})(),Yl=(()=>{class t extends gc{constructor(){super("google.com"),this.addScope("profile")}static credential(n,i){return Br._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:i})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:i,oauthAccessToken:r}=n;if(!i&&!r)return null;try{return t.credential(i,r)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})(),Lm=(()=>{class t extends gc{constructor(){super("github.com")}static credential(n){return Br._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch{return null}}}t.GITHUB_SIGN_IN_METHOD="github.com",t.PROVIDER_ID="github.com";return t})(),Oee="http://localhost",zl=class t extends So{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){let n=this.buildRequest();return aa(e,n)}_linkToIdToken(e,n){let i=this.buildRequest();return i.idToken=n,aa(e,i)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,aa(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,pendingToken:o}=n;return!i||!r||!o||i!==r?null:new t(i,o)}static _create(e,n){return new t(e,n)}buildRequest(){return{requestUri:Oee,returnSecureToken:!0,pendingToken:this.pendingToken}}};var kee="saml.",gh=class t extends To{constructor(e){Q(e.startsWith(kee),"argument-error"),super(e)}static credentialFromResult(e){return t.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return t.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){let n=zl.fromJSON(e);return Q(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{pendingToken:n,providerId:i}=e;if(!n||!i)return null;try{return zl._create(i,n)}catch{return null}}};var Vm=(()=>{class t extends gc{constructor(){super("twitter.com")}static credential(n,i){return Br._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:n,oauthTokenSecret:i})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthAccessToken:i,oauthTokenSecret:r}=n;if(!i||!r)return null;try{return t.credential(i,r)}catch{return null}}}t.TWITTER_SIGN_IN_METHOD="twitter.com",t.PROVIDER_ID="twitter.com";return t})();function mB(t,e){return I(this,null,function*(){return da(t,"POST","/v1/accounts:signUp",wn(t,e))})}var Do=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return I(this,null,function*(){let o=yield fh._fromIdTokenResponse(e,i,r),a=qU(i);return new t({user:o,providerId:a,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return I(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=qU(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function qU(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}function jm(t){return I(this,null,function*(){var e;let n=rn(t);if(yield n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Do({user:n.currentUser,providerId:null,operationType:"signIn"});let i=yield mB(n,{returnSecureToken:!0}),r=yield Do._fromIdTokenResponse(n,"signIn",i,!0);return yield n._updateCurrentUser(r.user),r})}var ID=class t extends Gn{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function gB(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ID._fromErrorAndOperation(t,o,e,i):o})}function vB(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}function Um(t,e){return I(this,null,function*(){let n=Je(t);yield zw(!0,n,e);let{providerUserInfo:i}=yield zZ(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[e]}),r=vB(i||[]);return n.providerData=n.providerData.filter(o=>r.has(o.providerId)),r.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})}function JD(t,e,n=!1){return I(this,null,function*(){let i=yield ca(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Do._forOperation(t,"link",i)})}function zw(t,e,n){return I(this,null,function*(){yield Am(e);let i=vB(e.providerData),r=t===!1?"provider-already-linked":"no-such-provider";Q(i.has(n)===t,e.auth,r)})}function yB(t,e,n=!1){return I(this,null,function*(){let{auth:i}=t,r="reauthenticate";try{let o=yield ca(t,gB(i,r,e,t),n);Q(o.idToken,i,"internal-error");let a=Bw(o.idToken);Q(a,i,"internal-error");let{sub:l}=a;return Q(t.uid===l,i,"user-mismatch"),Do._forOperation(t,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Nn(i,"user-mismatch"),o}})}function _B(t,e,n=!1){return I(this,null,function*(){let i="signIn",r=yield gB(t,i,e),o=yield Do._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(o.user)),o})}function yc(t,e){return I(this,null,function*(){return _B(rn(t),e)})}function Ch(t,e){return I(this,null,function*(){let n=Je(t);return yield zw(!1,n,e.providerId),JD(n,e)})}function Eh(t,e){return I(this,null,function*(){return yB(Je(t),e)})}function Ree(t,e){return I(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithCustomToken",wn(t,e))})}function Bm(t,e){return I(this,null,function*(){let n=rn(t),i=yield Ree(n,{token:e,returnSecureToken:!0}),r=yield Do._fromIdTokenResponse(n,"signIn",i);return yield n._updateCurrentUser(r.user),r})}var ql=class{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?SD._fromServerResponse(e,n):"totpInfo"in n?TD._fromServerResponse(e,n):Nn(e,"internal-error")}},SD=class t extends ql{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new t(n)}},TD=class t extends ql{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new t(n)}};function qw(t,e,n){var i;Q(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),Q(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Q(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Q(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function XD(t){return I(this,null,function*(){let e=rn(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function $m(t,e,n){return I(this,null,function*(){let i=rn(t),r={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&qw(i,r,n),yield Mm(i,r,"getOobCode",_ee)})}function Hm(t,e,n){return I(this,null,function*(){yield pB(Je(t),{oobCode:e,newPassword:n}).catch(i=>I(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&XD(t),i}))})}function Gm(t,e){return I(this,null,function*(){yield gee(Je(t),{oobCode:e})})}function Ih(t,e){return I(this,null,function*(){let n=Je(t),i=yield pB(n,{oobCode:e}),r=i.requestType;switch(Q(r,n,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(i.mfaInfo,n,"internal-error");default:Q(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=ql._fromServerResponse(rn(n),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:o},operation:r}})}function zm(t,e){return I(this,null,function*(){let{data:n}=yield Ih(Je(t),e);return n.email})}function qm(t,e,n){return I(this,null,function*(){let i=rn(t),a=yield Mm(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mB).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&XD(t),d}),l=yield Do._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(l.user),l})}function Wm(t,e,n){return yc(Je(t),bh.credential(e,n)).catch(i=>I(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&XD(t),i}))}function Km(t,e,n){return I(this,null,function*(){let i=rn(t),r={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(a,l){Q(l.handleCodeInApp,i,"argument-error"),l&&qw(i,a,l)}o(r,n),yield Mm(i,r,"getOobCode",wee)})}function Ym(t,e){let n=mh.parseLink(e);return n?.operation==="EMAIL_SIGNIN"}function Qm(t,e,n){return I(this,null,function*(){let i=Je(t),r=bh.credentialWithLink(e,n||Dm());return Q(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),yc(i,r)})}function Nee(t,e){return I(this,null,function*(){return bn(t,"POST","/v1/accounts:createAuthUri",wn(t,e))})}function Jm(t,e){return I(this,null,function*(){let n=qD()?Dm():"http://localhost",i={identifier:e,continueUri:n},{signinMethods:r}=yield Nee(Je(t),i);return r||[]})}function Xm(t,e){return I(this,null,function*(){let n=Je(t),r={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&qw(n.auth,r,e);let{email:o}=yield yee(n.auth,r);o!==t.email&&(yield t.reload())})}function Zm(t,e,n){return I(this,null,function*(){let i=Je(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield t.getIdToken(),newEmail:e};n&&qw(i.auth,o,n);let{email:a}=yield bee(i.auth,o);a!==t.email&&(yield t.reload())})}function Fee(t,e){return I(this,null,function*(){return bn(t,"POST","/v1/accounts:update",e)})}function eg(i,r){return I(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let o=Je(t),l={idToken:yield o.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=yield ca(o,Fee(o.auth,l));o.displayName=d.displayName||null,o.photoURL=d.photoUrl||null;let h=o.providerData.find(({providerId:m})=>m==="password");h&&(h.displayName=o.displayName,h.photoURL=o.photoURL),yield o._updateTokensIfNecessary(d)})}function tg(t,e){return wB(Je(t),e,null)}function ng(t,e){return wB(Je(t),null,e)}function wB(t,e,n){return I(this,null,function*(){let{auth:i}=t,o={idToken:yield t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);let a=yield ca(t,pee(i,o));yield t._updateTokensIfNecessary(a,!0)})}function Lee(t){var e,n;if(!t)return null;let{providerId:i}=t,r=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&t?.idToken){let a=(n=(e=Bw(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(a){let l=a!=="anonymous"&&a!=="custom"?a:null;return new mc(o,l)}}if(!i)return null;switch(i){case"facebook.com":return new DD(o,r);case"github.com":return new xD(o,r);case"google.com":return new AD(o,r);case"twitter.com":return new MD(o,r,t.screenName||null);case"custom":case"anonymous":return new mc(o,null);default:return new mc(o,i,r)}}var mc=class{constructor(e,n,i={}){this.isNewUser=e,this.providerId=n,this.profile=i}},Ow=class extends mc{constructor(e,n,i,r){super(e,n,i),this.username=r}},DD=class extends mc{constructor(e,n){super(e,"facebook.com",n)}},xD=class extends Ow{constructor(e,n){super(e,"github.com",n,typeof n?.login=="string"?n?.login:null)}},AD=class extends mc{constructor(e,n){super(e,"google.com",n)}},MD=class extends Ow{constructor(e,n,i){super(e,"twitter.com",n,i)}};function ig(t){let{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Lee(n)}function Ww(t,e,n,i){return Je(t).onIdTokenChanged(e,n,i)}function Kw(t,e,n){return Je(t).beforeAuthStateChanged(e,n)}var kw=class t{constructor(e,n,i){this.type=e,this.credential=n,this.user=i}static _fromIdtoken(e,n){return new t("enroll",e,n)}static _fromMfaPendingCredential(e){return new t("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,i;if(e?.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return t._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((i=e.multiFactorSession)===null||i===void 0)&&i.idToken)return t._fromIdtoken(e.multiFactorSession.idToken)}return null}};var PD=class t{constructor(e,n,i){this.session=e,this.hints=n,this.signInResolver=i}static _fromError(e,n){let i=rn(e),r=n.customData._serverResponse,o=(r.mfaInfo||[]).map(l=>ql._fromServerResponse(i,l));Q(r.mfaPendingCredential,i,"internal-error");let a=kw._fromMfaPendingCredential(r.mfaPendingCredential);return new t(a,o,l=>I(this,null,function*(){let d=yield l._process(i,a);delete r.mfaInfo,delete r.mfaPendingCredential;let h=Object.assign(Object.assign({},r),{idToken:d.idToken,refreshToken:d.refreshToken});switch(n.operationType){case"signIn":let m=yield Do._fromIdTokenResponse(i,n.operationType,h);return yield i._updateCurrentUser(m.user),m;case"reauthenticate":return Q(n.user,i,"internal-error"),Do._forOperation(n.user,n.operationType,h);default:Nn(i,"internal-error")}}))}resolveSignIn(e){return I(this,null,function*(){let n=e;return this.signInResolver(n)})}};function rg(t,e){var n;let i=Je(t),r=e;return Q(e.customData.operationType,i,"argument-error"),Q((n=r.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,i,"argument-error"),PD._fromError(i,r)}function Vee(t,e){return bn(t,"POST","/v2/accounts/mfaEnrollment:start",wn(t,e))}function jee(t,e){return bn(t,"POST","/v2/accounts/mfaEnrollment:finalize",wn(t,e))}function Uee(t,e){return bn(t,"POST","/v2/accounts/mfaEnrollment:withdraw",wn(t,e))}var OD=class t{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(i=>ql._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new t(e)}getSession(){return I(this,null,function*(){return kw._fromIdtoken(yield this.user.getIdToken(),this.user)})}enroll(e,n){return I(this,null,function*(){let i=e,r=yield this.getSession(),o=yield ca(this.user,i._process(this.user.auth,r,n));return yield this.user._updateTokensIfNecessary(o),this.user.reload()})}unenroll(e){return I(this,null,function*(){let n=typeof e=="string"?e:e.uid,i=yield this.user.getIdToken();try{let r=yield ca(this.user,Uee(this.user.auth,{idToken:i,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),yield this.user._updateTokensIfNecessary(r),yield this.user.reload()}catch(r){throw r}})}},mD=new WeakMap;function og(t){let e=Je(t);return mD.has(e)||mD.set(e,OD._fromUser(e)),mD.get(e)}var Rw="__sak";var Nw=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rw,"1"),this.storage.removeItem(Rw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function Bee(){let t=Wt();return KD(t)||Kl(t)}var $ee=1e3,Hee=10,Gee=(()=>{class t extends Nw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Bee()&&nee(),this.fallbackToPolling=dB(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&n(i,o,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((l,d,h)=>{this.notifyListeners(l,h)});return}let r=n.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let l=this.storage.getItem(r);if(n.newValue!==l)n.newValue!==null?this.storage.setItem(r,n.newValue):this.storage.removeItem(r);else if(this.localCache[r]===n.newValue&&!i)return}let o=()=>{let l=this.storage.getItem(r);!i&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);tee()&&a!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,Hee):o()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},$ee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return I(this,null,function*(){yield $a(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return I(this,null,function*(){let i=yield $a(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return I(this,null,function*(){yield $a(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),hs=Gee;var zee=(()=>{class t extends Nw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),$r=zee;function qee(t){return Promise.all(t.map(e=>I(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Wee=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(o=>o.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return I(this,null,function*(){let i=n,{eventId:r,eventType:o,data:a}=i.data,l=this.handlersMap[o];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let d=Array.from(l).map(m=>I(this,null,function*(){return m(i.origin,a)})),h=yield qee(d);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:h})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Ql(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var kD=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return I(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,a;return new Promise((l,d)=>{let h=Ql("",20);r.port1.start();let m=setTimeout(()=>{d(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(v){let y=v;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(y.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})})}};function zn(){return window}function Kee(t){zn().location.href=t}function ZD(){return typeof zn().WorkerGlobalScope<"u"&&typeof zn().importScripts=="function"}function Yee(){return I(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Qee(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Jee(){return ZD()?self:null}var bB="firebaseLocalStorageDb",Xee=1,Fw="firebaseLocalStorage",CB="fbase_key",Wl=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Yw(t,e){return t.transaction([Fw],e?"readwrite":"readonly").objectStore(Fw)}function Zee(){let t=indexedDB.deleteDatabase(bB);return new Wl(t).toPromise()}function RD(){let t=indexedDB.open(bB,Xee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(Fw,{keyPath:CB})}catch(r){n(r)}}),t.addEventListener("success",()=>I(this,null,function*(){let i=t.result;i.objectStoreNames.contains(Fw)?e(i):(i.close(),yield Zee(),e(yield RD()))}))})}function WU(t,e,n){return I(this,null,function*(){let i=Yw(t,!0).put({[CB]:e,value:n});return new Wl(i).toPromise()})}function ete(t,e){return I(this,null,function*(){let n=Yw(t,!1).get(e),i=yield new Wl(n).toPromise();return i===void 0?null:i.value})}function KU(t,e){let n=Yw(t,!0).delete(e);return new Wl(n).toPromise()}var tte=800,nte=3,ite=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return I(this,null,function*(){return this.db?this.db:(this.db=yield RD(),this.db)})}_withRetries(n){return I(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>nte)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return I(this,null,function*(){return ZD()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return I(this,null,function*(){this.receiver=Wee._getInstance(Jee()),this.receiver._subscribe("keyChanged",(n,i)=>I(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>I(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return I(this,null,function*(){var n,i;if(this.activeServiceWorker=yield Yee(),!this.activeServiceWorker)return;this.sender=new kD(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return I(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Qee()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return I(this,null,function*(){try{if(!indexedDB)return!1;let n=yield RD();return yield WU(n,Rw,"1"),yield KU(n,Rw),!0}catch{}return!1})}_withPendingWrite(n){return I(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(r=>WU(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return I(this,null,function*(){let i=yield this._withRetries(r=>ete(r,n));return this.localCache[n]=i,i})}_remove(n){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(i=>KU(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return I(this,null,function*(){let n=yield this._withRetries(o=>{let a=Yw(o,!1).getAll();return new Wl(a).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:o,value:a}of n)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>I(this,null,function*(){return this._poll()}),tte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),ha=ite;function rte(t,e){return bn(t,"POST","/v2/accounts/mfaSignIn:start",wn(t,e))}function ote(t,e){return bn(t,"POST","/v2/accounts/mfaSignIn:finalize",wn(t,e))}var ste=500,ate=6e4,Ew=1e12,ND=class{constructor(e){this.auth=e,this.counter=Ew,this._widgets=new Map}render(e,n){let i=this.counter;return this._widgets.set(i,new FD(e,this.auth.name,n||{})),this.counter++,i}reset(e){var n;let i=e||Ew;(n=this._widgets.get(i))===null||n===void 0||n.delete(),this._widgets.delete(i)}getResponse(e){var n;let i=e||Ew;return((n=this._widgets.get(i))===null||n===void 0?void 0:n.getResponse())||""}execute(e){return I(this,null,function*(){var n;let i=e||Ew;return(n=this._widgets.get(i))===null||n===void 0||n.execute(),""})}},FD=class{constructor(e,n,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let r=typeof e=="string"?document.getElementById(e):e;Q(r,"argument-error",{appName:n}),this.container=r,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=cte(50);let{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},ate)},ste))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}};function cte(t){let e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<t;i++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}var gD=hB("rcb"),lte=new $l(3e4,6e4),LD=class{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=zn().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return Q(ute(n),e,"argument-error"),this.shouldResolveImmediately(n)&&UU(zn().grecaptcha)?Promise.resolve(zn().grecaptcha):new Promise((i,r)=>{let o=zn().setTimeout(()=>{r(pi(e,"network-request-failed"))},lte.get());zn()[gD]=()=>{zn().clearTimeout(o),delete zn()[gD];let l=zn().grecaptcha;if(!l||!UU(l)){r(pi(e,"internal-error"));return}let d=l.render;l.render=(h,m)=>{let v=d(h,m);return this.counter++,v},this.hostLanguage=n,i(l)};let a=`${see()}?${Rl({onload:gD,render:"explicit",hl:n})}`;QD(a).catch(()=>{clearTimeout(o),r(pi(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=zn().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}};function ute(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}var VD=class{load(e){return I(this,null,function*(){return new ND(e)})}clearedOneInstance(){}};var EB="recaptcha",dte={theme:"light",type:"image"},vh=class{constructor(e,n,i=Object.assign({},dte)){this.parameters=i,this.type=EB,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=rn(e),this.isInvisible=this.parameters.size==="invisible",Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");let r=typeof n=="string"?document.getElementById(n):n;Q(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new VD:new LD,this.validateStartingState()}verify(){return I(this,null,function*(){this.assertNotDestroyed();let e=yield this.render(),n=this.getAssertedRecaptcha(),i=n.getResponse(e);return i||new Promise(r=>{let o=a=>{a&&(this.tokenChangeListeners.delete(o),r(a))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(i=>i(n)),typeof e=="function")e(n);else if(typeof e=="string"){let i=zn()[e];typeof i=="function"&&i(n)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){return I(this,null,function*(){if(yield this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){let n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId})}init(){return I(this,null,function*(){Q(qD()&&!ZD(),this.auth,"internal-error"),yield hte(),this.recaptcha=yield this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let e=yield $Z(this.auth);Q(e,this.auth,"internal-error"),this.parameters.sitekey=e})}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function hte(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}var Pm=class{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){let n=Hl._fromVerification(this.verificationId,e);return this.onConfirmation(n)}};function sg(t,e,n){return I(this,null,function*(){let i=rn(t),r=yield Qw(i,e,Je(n));return new Pm(r,o=>yc(i,o))})}function ag(t,e,n){return I(this,null,function*(){let i=Je(t);yield zw(!1,i,"phone");let r=yield Qw(i.auth,e,Je(n));return new Pm(r,o=>Ch(i,o))})}function cg(t,e,n){return I(this,null,function*(){let i=Je(t),r=yield Qw(i.auth,e,Je(n));return new Pm(r,o=>Eh(i,o))})}function Qw(t,e,n){return I(this,null,function*(){var i;let r=yield n.verify();try{Q(typeof r=="string",t,"argument-error"),Q(n.type===EB,t,"argument-error");let o;if(typeof e=="string"?o={phoneNumber:e}:o=e,"session"in o){let a=o.session;if("phoneNumber"in o)return Q(a.type==="enroll",t,"internal-error"),(yield Vee(t,{idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{Q(a.type==="signin",t,"internal-error");let l=((i=o.multiFactorHint)===null||i===void 0?void 0:i.uid)||o.multiFactorUid;return Q(l,t,"missing-multi-factor-info"),(yield rte(t,{mfaPendingCredential:a.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}else{let{sessionInfo:a}=yield See(t,{phoneNumber:o.phoneNumber,recaptchaToken:r});return a}}finally{n._reset()}})}function lg(t,e){return I(this,null,function*(){yield JD(Je(t),e)})}var _c=(()=>{class t{constructor(n){this.providerId=t.PROVIDER_ID,this.auth=rn(n)}verifyPhoneNumber(n,i){return Qw(this.auth,n,Je(i))}static credential(n,i){return Hl._fromVerification(n,i)}static credentialFromResult(n){let i=n;return t.credentialFromTaggedObject(i)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{phoneNumber:i,temporaryProof:r}=n;return i&&r?Hl._fromTokenResponse(i,r):null}}t.PROVIDER_ID="phone",t.PHONE_SIGN_IN_METHOD="phone";return t})();function Jl(t,e){return e?Fi(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Om=class extends So{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return aa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return aa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return aa(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function fte(t){return _B(t.auth,new Om(t),t.bypassAuthState)}function pte(t){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),yB(n,new Om(t),t.bypassAuthState)}function mte(t){return I(this,null,function*(){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),JD(n,new Om(t),t.bypassAuthState)})}var Lw=class{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>I(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return I(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:a,type:l}=e;if(a){this.reject(a);return}let d={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(l)(d))}catch(h){this.reject(h)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fte;case"linkViaPopup":case"linkViaRedirect":return mte;case"reauthViaPopup":case"reauthViaRedirect":return pte;default:Nn(this.auth,"internal-error")}}resolve(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var gte=new $l(2e3,1e4);function ug(t,e,n){return I(this,null,function*(){let i=rn(t);yh(t,e,To);let r=Jl(i,n);return new ex(i,"signInViaPopup",e,r).executeNotNull()})}function dg(t,e,n){return I(this,null,function*(){let i=Je(t);yh(i.auth,e,To);let r=Jl(i.auth,n);return new ex(i.auth,"reauthViaPopup",e,r,i).executeNotNull()})}function hg(t,e,n){return I(this,null,function*(){let i=Je(t);yh(i.auth,e,To);let r=Jl(i.auth,n);return new ex(i.auth,"linkViaPopup",e,r,i).executeNotNull()})}var ex=(()=>{class t extends Lw{constructor(n,i,r,o,a){super(n,i,o,a),this.provider=r,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return I(this,null,function*(){let n=yield this.execute();return Q(n,this.auth,"internal-error"),n})}onExecution(){return I(this,null,function*(){Ur(this.filter.length===1,"Popup operations only handle one event");let n=Ql();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,gte.get())};n()}}t.currentPopupAction=null;return t})(),vte="pendingRedirect",Tm=new Map,jD=class t extends Lw{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return I(this,null,function*(){let e=Tm.get(this.auth._key());if(!e){try{let i=(yield yte(this.resolver,this.auth))?yield $a(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Tm.set(this.auth._key(),e)}return this.bypassAuthState||Tm.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return I(this,null,function*(){if(e.type==="signInViaRedirect")return $a(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,$a(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return I(this,null,function*(){})}cleanUp(){}};function yte(t,e){return I(this,null,function*(){let n=TB(e),i=SB(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function tx(t,e){return I(this,null,function*(){return SB(t)._set(TB(e),"true")})}function IB(){Tm.clear()}function Sh(t,e){Tm.set(t._key(),e)}function SB(t){return Fi(t._redirectPersistence)}function TB(t){return ds(vte,t.config.apiKey,t.name)}function fg(t,e,n){return _te(t,e,n)}function _te(t,e,n){return I(this,null,function*(){let i=rn(t);yh(t,e,To),yield i._initializationPromise;let r=Jl(i,n);return yield tx(r,i),r._openRedirect(i,e,"signInViaRedirect")})}function pg(t,e,n){return wte(t,e,n)}function wte(t,e,n){return I(this,null,function*(){let i=Je(t);yh(i.auth,e,To),yield i.auth._initializationPromise;let r=Jl(i.auth,n);yield tx(r,i.auth);let o=yield DB(i);return r._openRedirect(i.auth,e,"reauthViaRedirect",o)})}function mg(t,e,n){return bte(t,e,n)}function bte(t,e,n){return I(this,null,function*(){let i=Je(t);yh(i.auth,e,To),yield i.auth._initializationPromise;let r=Jl(i.auth,n);yield zw(!1,i,e.providerId),yield tx(r,i.auth);let o=yield DB(i);return r._openRedirect(i.auth,e,"linkViaRedirect",o)})}function gg(t,e){return I(this,null,function*(){return yield rn(t)._initializationPromise,Xl(t,e,!1)})}function Xl(t,e,n=!1){return I(this,null,function*(){let i=rn(t),r=Jl(i,e),a=yield new jD(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,yield i._persistUserIfCurrent(a.user),yield i._setRedirectUser(null,e)),a})}function DB(t){return I(this,null,function*(){let e=Ql(`${t.uid}:::`);return t._redirectEventId=e,yield t.auth._setRedirectUser(t),yield t.auth._persistUserIfCurrent(t),e})}var Cte=10*60*1e3,km=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ete(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!xB(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(pi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Cte&&this.cachedEventUids.clear(),this.cachedEventUids.has(YU(e))}saveEventToCache(e){this.cachedEventUids.add(YU(e)),this.lastProcessedEventTime=Date.now()}};function YU(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xB({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Ete(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xB(t);default:return!1}}function nx(n){return I(this,arguments,function*(t,e={}){return bn(t,"GET","/v1/projects",e)})}var Ite=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ste=/^https?/;function Tte(t){return I(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield nx(t);for(let n of e)try{if(Dte(n))return}catch{}Nn(t,"unauthorized-domain")})}function Dte(t){let e=Dm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!Ste.test(n))return!1;if(Ite.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var xte=new $l(3e4,6e4);function QU(){let t=zn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Ate(t){return new Promise((e,n)=>{var i,r,o;function a(){QU(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QU(),n(pi(t,"network-request-failed"))},timeout:xte.get()})}if(!((r=(i=zn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=zn().gapi)===null||o===void 0)&&o.load)a();else{let l=hB("iframefcb");return zn()[l]=()=>{gapi.load?a():n(pi(t,"network-request-failed"))},QD(`${cee()}?onload=${l}`).catch(d=>n(d))}}).catch(e=>{throw Sw=null,e})}var Sw=null;function Mte(t){return Sw=Sw||Ate(t),Sw}var Pte=new $l(5e3,15e3),Ote="__/auth/iframe",kte="emulator/auth/iframe",Rte={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nte=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fte(t){let e=t.config;Q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?WD(e,kte):`https://${t.config.authDomain}/${Ote}`,i={apiKey:e.apiKey,appName:t.name,v:Eo},r=Nte.get(t.config.apiHost);r&&(i.eid=r);let o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Rl(i).slice(1)}`}function Lte(t){return I(this,null,function*(){let e=yield Mte(t),n=zn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:Fte(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rte,dontclear:!0},i=>new Promise((r,o)=>I(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let a=pi(t,"network-request-failed"),l=zn().setTimeout(()=>{o(a)},Pte.get());function d(){zn().clearTimeout(l),r(i)}i.ping(d).then(d,()=>{o(a)})})))})}var Vte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jte=500,Ute=600,Bte="_blank",$te="http://localhost",Rm=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Hte(t,e,n,i=jte,r=Ute){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString(),l="",d=Object.assign(Object.assign({},Vte),{width:i.toString(),height:r.toString(),top:o,left:a}),h=Wt().toLowerCase();n&&(l=sB(h)?Bte:n),oB(h)&&(e=e||$te,d.scrollbars="yes");let m=Object.entries(d).reduce((y,[E,w])=>`${y}${E}=${w},`,"");if(eee(h)&&l!=="_self")return Gte(e||"",l),new Rm(null);let v=window.open(e||"",l,m);Q(v,t,"popup-blocked");try{v.focus()}catch{}return new Rm(v)}function Gte(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var zte="__/auth/handler",qte="emulator/auth/handler",Wte=encodeURIComponent("fac");function Vw(t,e,n,i,r,o){return I(this,null,function*(){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");let a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Eo,eventId:r};if(e instanceof To){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",_U(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[m,v]of Object.entries(o||{}))a[m]=v}if(e instanceof gc){let m=e.getScopes().filter(v=>v!=="");m.length>0&&(a.scopes=m.join(","))}t.tenantId&&(a.tid=t.tenantId);let l=a;for(let m of Object.keys(l))l[m]===void 0&&delete l[m];let d=yield t._getAppCheckToken(),h=d?`#${Wte}=${encodeURIComponent(d)}`:"";return`${Kte(t)}?${Rl(l).slice(1)}${h}`})}function Kte({config:t}){return t.emulator?WD(t,qte):`https://${t.authDomain}/${zte}`}var vD="webStorageSupport",UD=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$r,this._completeRedirectFn=Xl,this._overrideRedirectResult=Sh}_openPopup(e,n,i,r){return I(this,null,function*(){var o;Ur((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let a=yield Vw(e,n,i,Dm(),r);return Hte(e,a,Ql())})}_openRedirect(e,n,i,r){return I(this,null,function*(){yield this._originValidation(e);let o=yield Vw(e,n,i,Dm(),r);return Kee(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(Ur(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return I(this,null,function*(){let n=yield Lte(e),i=new km(e);return n.register("authEvent",r=>(Q(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vD,{type:vD},r=>{var o;let a=(o=r?.[0])===null||o===void 0?void 0:o[vD];a!==void 0&&n(!!a),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Tte(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dB()||KD()||Kl()}},vg=UD,BD=class{constructor(e){this.factorId=e}_process(e,n,i){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,i);case"signin":return this._finalizeSignIn(e,n.credential);default:return us("unexpected MultiFactorSessionType")}}},$D=class t extends BD{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new t(e)}_finalizeEnroll(e,n,i){return jee(e,{idToken:n,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return ote(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},Jw=(()=>{class t{constructor(){}static assertion(n){return $D._fromCredential(n)}}return t.FACTOR_ID="phone",t})();var JU="@firebase/auth",XU="1.6.1";var HD=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Yte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Qte(t){Co(new Ni("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;Q(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});let d={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YD(t)},h=new Mw(i,r,o,d);return dee(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Co(new Ni("auth-internal",e=>{let n=rn(e.getProvider("auth").getImmediate());return(i=>new HD(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),un(JU,XU,Yte(t)),un(JU,XU,"esm2017")}var Jte=5*60,Xte=Y1("authIdTokenMaxAge")||Jte,ZU=null,Zte=t=>e=>I(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Xte)return;let r=n?.token;ZU!==r&&(ZU=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Xw(t=Vl()){let e=Ll(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Hw(t,{popupRedirectResolver:vg,persistence:[ha,hs,$r]}),i=Y1("authTokenSyncURL");if(i){let o=Zte(i);Kw(n,o,()=>o(n.currentUser)),Ww(n,a=>o(a))}let r=W1("auth");return r&&wh(n,`http://${r}`),n}function ene(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}oee({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let o=pi("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",ene().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Qte("Browser");var UB="auth",Zl=class{constructor(e){return e}},yg=class{constructor(){return Em(UB)}};var ix=new we("angularfire2.auth-instances");function ane(t,e){let n=bw(UB,t,e);return n&&new Zl(n)}function cne(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Zl(i)}}var lne={provide:yg,deps:[[new Xi,ix]]},une={provide:Zl,useFactory:ane,deps:[[new Xi,ix],sa]},dne=(()=>{class t{constructor(){un("angularfire",Ul.full,"auth")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Qi({type:t});static \u0275inj=Ji({providers:[une,lne]})}return t})();function BB(t,...e){return{ngModule:dne,providers:[{provide:ix,useFactory:cne(t),multi:!0,deps:[Ct,ln,hh,Bl,[new Xi,dh],...e]}]}}var $B=Io(Xw,!0);var fne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ao={},ce,Sx=Sx||{},Be=fne||self;function hb(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Og(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function pne(t){return Object.prototype.hasOwnProperty.call(t,rx)&&t[rx]||(t[rx]=++mne)}var rx="closure_uid_"+(1e9*Math.random()>>>0),mne=0;function gne(t,e,n){return t.call.apply(t.bind,arguments)}function vne(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Li(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Li=gne:Li=vne,Li.apply(null,arguments)}function Zw(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function gi(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,o){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return e.prototype[r].apply(i,a)}}function wc(){this.s=this.s,this.o=this.o}var yne=0;wc.prototype.s=!1;wc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),yne!=0)&&pne(this)};wc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var t6=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Tx(t){let e=t.length;if(0<e){let n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function HB(t,e){for(let n=1;n<arguments.length;n++){let i=arguments[n];if(hb(i)){let r=t.length||0,o=i.length||0;t.length=r+o;for(let a=0;a<o;a++)t[r+a]=i[a]}else t.push(i)}}function Vi(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Vi.prototype.h=function(){this.defaultPrevented=!0};var _ne=function(){if(!Be.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};Be.addEventListener("test",n,e),Be.removeEventListener("test",n,e)}catch{}return t}();function Ig(t){return/^[\s\xa0]*$/.test(t)}function fb(){var t=Be.navigator;return t&&(t=t.userAgent)?t:""}function fs(t){return fb().indexOf(t)!=-1}function Dx(t){return Dx[" "](t),t}Dx[" "]=function(){};function wne(t,e){var n=cie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var bne=fs("Opera"),Ah=fs("Trident")||fs("MSIE"),n6=fs("Edge"),lx=n6||Ah,i6=fs("Gecko")&&!(fb().toLowerCase().indexOf("webkit")!=-1&&!fs("Edge"))&&!(fs("Trident")||fs("MSIE"))&&!fs("Edge"),Cne=fb().toLowerCase().indexOf("webkit")!=-1&&!fs("Edge");function r6(){var t=Be.document;return t?t.documentMode:void 0}var ux;e:{if(eb="",tb=function(){var t=fb();if(i6)return/rv:([^\);]+)(\)|;)/.exec(t);if(n6)return/Edge\/([\d\.]+)/.exec(t);if(Ah)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Cne)return/WebKit\/(\S+)/.exec(t);if(bne)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),tb&&(eb=tb?tb[1]:""),Ah&&(nb=r6(),nb!=null&&nb>parseFloat(eb))){ux=String(nb);break e}ux=eb}var eb,tb,nb,dx;Be.document&&Ah?(ox=r6(),dx=ox||parseInt(ux,10)||void 0):dx=void 0;var ox,Ene=dx;function Sg(t,e){if(Vi.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(i6){e:{try{Dx(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Ine[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Sg.$.h.call(this)}}gi(Sg,Vi);var Ine={2:"touch",3:"pen",4:"mouse"};Sg.prototype.h=function(){Sg.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var kg="closure_listenable_"+(1e6*Math.random()|0),Sne=0;function Tne(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++Sne,this.fa=this.ia=!1}function pb(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function xx(t,e,n){for(let i in t)e.call(n,t[i],i,t)}function Dne(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function o6(t){let e={};for(let n in t)e[n]=t[n];return e}var GB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function s6(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let o=0;o<GB.length;o++)n=GB[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function mb(t){this.src=t,this.g={},this.h=0}mb.prototype.add=function(t,e,n,i,r){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var a=fx(t,e,i,r);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new Tne(e,this.src,o,!!i,r),e.ia=n,t.push(e)),e};function hx(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=t6(i,e),o;(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(pb(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function fx(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return r}return-1}var Ax="closure_lm_"+(1e6*Math.random()|0),sx={};function a6(t,e,n,i,r){if(i&&i.once)return l6(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)a6(t,e[o],n,i,r);return null}return n=Ox(n),t&&t[kg]?t.O(e,n,Og(i)?!!i.capture:!!i,r):c6(t,e,n,!1,i,r)}function c6(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=Og(r)?!!r.capture:!!r,l=Px(t);if(l||(t[Ax]=l=new mb(t)),n=l.add(e,n,i,a,o),n.proxy)return n;if(i=xne(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)_ne||(r=a),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(d6(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function xne(){function t(n){return e.call(t.src,t.listener,n)}let e=Ane;return t}function l6(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)l6(t,e[o],n,i,r);return null}return n=Ox(n),t&&t[kg]?t.P(e,n,Og(i)?!!i.capture:!!i,r):c6(t,e,n,!0,i,r)}function u6(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)u6(t,e[o],n,i,r);else i=Og(i)?!!i.capture:!!i,n=Ox(n),t&&t[kg]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=fx(o,n,i,r),-1<n&&(pb(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Px(t))&&(e=t.g[e.toString()],t=-1,e&&(t=fx(e,n,i,r)),(n=-1<t?e[t]:null)&&Mx(n))}function Mx(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[kg])hx(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(d6(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Px(e))?(hx(n,t),n.h==0&&(n.src=null,e[Ax]=null)):pb(t)}}}function d6(t){return t in sx?sx[t]:sx[t]="on"+t}function Ane(t,e){if(t.fa)t=!0;else{e=new Sg(e,this);var n=t.listener,i=t.la||t.src;t.ia&&Mx(t),t=n.call(i,e)}return t}function Px(t){return t=t[Ax],t instanceof mb?t:null}var ax="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ox(t){return typeof t=="function"?t:(t[ax]||(t[ax]=function(e){return t.handleEvent(e)}),t[ax])}function mi(){wc.call(this),this.i=new mb(this),this.S=this,this.J=null}gi(mi,wc);mi.prototype[kg]=!0;mi.prototype.removeEventListener=function(t,e,n,i){u6(this,t,e,n,i)};function Si(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Vi(e,t);else if(e instanceof Vi)e.target=e.target||t;else{var r=e;e=new Vi(i,t),s6(e,r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];r=ib(a,i,!0,e)&&r}if(a=e.g=t,r=ib(a,i,!0,e)&&r,r=ib(a,i,!1,e)&&r,n)for(o=0;o<n.length;o++)a=e.g=n[o],r=ib(a,i,!1,e)&&r}mi.prototype.N=function(){if(mi.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)pb(n[i]);delete t.g[e],t.h--}}this.J=null};mi.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};mi.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function ib(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.fa&&a.capture==n){var l=a.listener,d=a.la||a.src;a.ia&&hx(t.i,a),r=l.call(d,i)!==!1&&r}}return r&&!i.defaultPrevented}var kx=Be.JSON.stringify,px=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function Mne(){var t=Rx;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var mx=class{constructor(){this.h=this.g=null}add(e,n){let i=h6.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}},h6=new px(()=>new gx,t=>t.reset()),gx=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function Pne(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function One(t){Be.setTimeout(()=>{throw t},0)}var Tg,Dg=!1,Rx=new mx,f6=()=>{let t=Be.Promise.resolve(void 0);Tg=()=>{t.then(kne)}},kne=()=>{for(var t;t=Mne();){try{t.h.call(t.g)}catch(n){One(n)}var e=h6;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Dg=!1};function gb(t,e){mi.call(this),this.h=t||1,this.g=e||Be,this.j=Li(this.qb,this),this.l=Date.now()}gi(gb,mi);ce=gb.prototype;ce.ga=!1;ce.T=null;ce.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Si(this,"tick"),this.ga&&(Nx(this),this.start()))}};ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Nx(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ce.N=function(){gb.$.N.call(this),Nx(this),delete this.g};function Fx(t,e,n){if(typeof t=="function")n&&(t=Li(t,n));else if(t&&typeof t.handleEvent=="function")t=Li(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Be.setTimeout(t,e||0)}function p6(t){t.g=Fx(()=>{t.g=null,t.i&&(t.i=!1,p6(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var vx=class extends wc{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:p6(this)}N(){super.N(),this.g&&(Be.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function xg(t){wc.call(this),this.h=t,this.g={}}gi(xg,wc);var zB=[];function m6(t,e,n,i){Array.isArray(n)||(n&&(zB[0]=n.toString()),n=zB);for(var r=0;r<n.length;r++){var o=a6(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function g6(t){xx(t.g,function(e,n){this.g.hasOwnProperty(n)&&Mx(e)},t),t.g={}}xg.prototype.N=function(){xg.$.N.call(this),g6(this)};xg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function vb(){this.g=!0}vb.prototype.Ea=function(){this.g=!1};function Rne(t,e,n,i,r,o){t.info(function(){if(t.g)if(o)for(var a="",l=o.split("&"),d=0;d<l.length;d++){var h=l[d].split("=");if(1<h.length){var m=h[0];h=h[1];var v=m.split("_");a=2<=v.length&&v[1]=="type"?a+(m+"="+h+"&"):a+(m+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+a})}function Nne(t,e,n,i,r,o,a){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+o+" "+a})}function Dh(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Lne(t,n)+(i?" "+i:"")})}function Fne(t,e){t.info(function(){return"TIMEOUT: "+e})}vb.prototype.info=function(){};function Lne(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<r.length;a++)r[a]=""}}}}return kx(n)}catch{return e}}var iu={},qB=null;function yb(){return qB=qB||new mi}iu.Ta="serverreachability";function v6(t){Vi.call(this,iu.Ta,t)}gi(v6,Vi);function Ag(t){let e=yb();Si(e,new v6(e))}iu.STAT_EVENT="statevent";function y6(t,e){Vi.call(this,iu.STAT_EVENT,t),this.stat=e}gi(y6,Vi);function er(t){let e=yb();Si(e,new y6(e,t))}iu.Ua="timingevent";function _6(t,e){Vi.call(this,iu.Ua,t),this.size=e}gi(_6,Vi);function Rg(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Be.setTimeout(function(){t()},e)}var _b={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},w6={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Lx(){}Lx.prototype.h=null;function WB(t){return t.h||(t.h=t.i())}function b6(){}var Ng={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Vx(){Vi.call(this,"d")}gi(Vx,Vi);function jx(){Vi.call(this,"c")}gi(jx,Vi);var yx;function wb(){}gi(wb,Lx);wb.prototype.g=function(){return new XMLHttpRequest};wb.prototype.i=function(){return{}};yx=new wb;function Fg(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new xg(this),this.P=Vne,t=lx?125:void 0,this.V=new gb(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new C6}function C6(){this.i=null,this.g="",this.h=!1}var Vne=45e3,E6={},_x={};ce=Fg.prototype;ce.setTimeout=function(t){this.P=t};function wx(t,e,n){t.L=1,t.A=Cb(pa(e)),t.u=n,t.S=!0,I6(t,null)}function I6(t,e){t.G=Date.now(),Lg(t),t.B=pa(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),O6(n.i,"t",i),t.o=0,n=t.l.J,t.h=new C6,t.g=Z6(t.l,n?e:null,!t.u),0<t.O&&(t.M=new vx(Li(t.Pa,t,t.g),t.O)),m6(t.U,t.g,"readystatechange",t.nb),e=t.I?o6(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ag(),Rne(t.j,t.v,t.B,t.m,t.W,t.u)}ce.nb=function(t){t=t.target;let e=this.M;e&&ps(t)==3?e.l():this.Pa(t)};ce.Pa=function(t){try{if(t==this.g)e:{let m=ps(this.g);var e=this.g.Ia();let v=this.g.da();if(!(3>m)&&(m!=3||lx||this.g&&(this.h.h||this.g.ja()||JB(this.g)))){this.J||m!=4||e==7||(e==8||0>=v?Ag(3):Ag(2)),bb(this);var n=this.g.da();this.ca=n;t:if(S6(this)){var i=JB(this.g);t="";var r=i.length,o=ps(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){eu(this),Eg(this);var a="";break t}this.h.i=new Be.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=t,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,Nne(this.j,this.v,this.B,this.m,this.W,m,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,d=this.g;if((l=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ig(l)){var h=l;break t}}h=null}if(n=h)Dh(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bx(this,n);else{this.i=!1,this.s=3,er(12),eu(this),Eg(this);break e}}this.S?(T6(this,m,a),lx&&this.i&&m==3&&(m6(this.U,this.V,"tick",this.mb),this.V.start())):(Dh(this.j,this.m,a,null),bx(this,a)),m==4&&eu(this),this.i&&!this.J&&(m==4?Y6(this.l,this):(this.i=!1,Lg(this)))}else oie(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.s=3,er(12)):(this.s=0,er(13)),eu(this),Eg(this)}}}catch{}finally{}};function S6(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function T6(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=jne(t,n),r==_x){e==4&&(t.s=4,er(14),i=!1),Dh(t.j,t.m,null,"[Incomplete Response]");break}else if(r==E6){t.s=4,er(15),Dh(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Dh(t.j,t.m,r,null),bx(t,r);S6(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,er(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),zx(e),e.M=!0,er(11))):(Dh(t.j,t.m,n,"[Invalid Chunked Response]"),eu(t),Eg(t))}ce.mb=function(){if(this.g){var t=ps(this.g),e=this.g.ja();this.o<e.length&&(bb(this),T6(this,t,e),this.i&&t!=4&&Lg(this))}};function jne(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?_x:(n=Number(e.substring(n,i)),isNaN(n)?E6:(i+=1,i+n>e.length?_x:(e=e.slice(i,i+n),t.o=i+n,e)))}ce.cancel=function(){this.J=!0,eu(this)};function Lg(t){t.Y=Date.now()+t.P,D6(t,t.P)}function D6(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Rg(Li(t.lb,t),e)}function bb(t){t.C&&(Be.clearTimeout(t.C),t.C=null)}ce.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(Fne(this.j,this.B),this.L!=2&&(Ag(),er(17)),eu(this),this.s=2,Eg(this)):D6(this,this.Y-t)};function Eg(t){t.l.H==0||t.J||Y6(t.l,t)}function eu(t){bb(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Nx(t.V),g6(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function bx(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Cx(n.i,t))){if(!t.K&&Cx(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)cb(n),Sb(n);else break e;Gx(n),er(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=Rg(Li(n.ib,n),6e3));if(1>=N6(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else tu(n,11)}else if((t.K||n.g==t)&&cb(n),!Ig(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let h=r[e];if(n.V=h[0],h=h[1],n.H==2)if(h[0]=="c"){n.K=h[1],n.pa=h[2];let m=h[3];m!=null&&(n.ra=m,n.l.info("VER="+n.ra));let v=h[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));let y=h[5];y!=null&&typeof y=="number"&&0<y&&(i=1.5*y,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;let E=t.g;if(E){let w=E.g?E.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var o=i.i;o.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Ux(o,o.h),o.h=null))}if(i.F){let S=E.g?E.g.getResponseHeader("X-HTTP-Session-Id"):null;S&&(i.Da=S,on(i.I,i.F,S))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var a=t;if(i.wa=X6(i,i.J?i.pa:null,i.Y),a.K){F6(i.i,a);var l=a,d=i.L;d&&l.setTimeout(d),l.C&&(bb(l),Lg(l)),i.g=a}else W6(i);0<n.j.length&&Tb(n)}else h[0]!="stop"&&h[0]!="close"||tu(n,7);else n.H==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?tu(n,7):Hx(n):h[0]!="noop"&&n.h&&n.h.Aa(h),n.A=0)}}Ag(4)}catch{}}function Une(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(hb(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function Bne(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(hb(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let i in t)e[n++]=i;return e}}}function x6(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(hb(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Bne(t),i=Une(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}var A6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $ne(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function nu(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof nu){this.h=t.h,sb(this,t.j),this.s=t.s,this.g=t.g,ab(this,t.m),this.l=t.l;var e=t.i,n=new Mg;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),KB(this,n),this.o=t.o}else t&&(e=String(t).match(A6))?(this.h=!1,sb(this,e[1]||"",!0),this.s=bg(e[2]||""),this.g=bg(e[3]||"",!0),ab(this,e[4]),this.l=bg(e[5]||"",!0),KB(this,e[6]||"",!0),this.o=bg(e[7]||"")):(this.h=!1,this.i=new Mg(null,this.h))}nu.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Cg(e,YB,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Cg(e,YB,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Cg(n,n.charAt(0)=="/"?zne:Gne,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Cg(n,Wne)),t.join("")};function pa(t){return new nu(t)}function sb(t,e,n){t.j=n?bg(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ab(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function KB(t,e,n){e instanceof Mg?(t.i=e,Kne(t.i,t.h)):(n||(e=Cg(e,qne)),t.i=new Mg(e,t.h))}function on(t,e,n){t.i.set(e,n)}function Cb(t){return on(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function bg(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Cg(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Hne),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Hne(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var YB=/[#\/\?@]/g,Gne=/[#\?:]/g,zne=/[#\?]/g,qne=/[#\?@]/g,Wne=/#/g;function Mg(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function bc(t){t.g||(t.g=new Map,t.h=0,t.i&&$ne(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ce=Mg.prototype;ce.add=function(t,e){bc(this),this.i=null,t=Mh(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function M6(t,e){bc(t),e=Mh(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function P6(t,e){return bc(t),e=Mh(t,e),t.g.has(e)}ce.forEach=function(t,e){bc(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};ce.ta=function(){bc(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){let r=t[i];for(let o=0;o<r.length;o++)n.push(e[i])}return n};ce.Z=function(t){bc(this);let e=[];if(typeof t=="string")P6(this,t)&&(e=e.concat(this.g.get(Mh(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ce.set=function(t,e){return bc(this),this.i=null,t=Mh(this,t),P6(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ce.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function O6(t,e,n){M6(t,e),0<n.length&&(t.i=null,t.g.set(Mh(t,e),Tx(n)),t.h+=n.length)}ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];let o=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var r=o;a[i]!==""&&(r+="="+encodeURIComponent(String(a[i]))),t.push(r)}}return this.i=t.join("&")};function Mh(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Kne(t,e){e&&!t.j&&(bc(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(M6(this,i),O6(this,r,n))},t)),t.j=e}var Yne=class{constructor(t,e){this.g=t,this.map=e}};function k6(t){this.l=t||Qne,Be.PerformanceNavigationTiming?(t=Be.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Be.g&&Be.g.Ka&&Be.g.Ka()&&Be.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Qne=10;function R6(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function N6(t){return t.h?1:t.g?t.g.size:0}function Cx(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Ux(t,e){t.g?t.g.add(e):t.h=e}function F6(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}k6.prototype.cancel=function(){if(this.i=L6(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function L6(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Tx(t.i)}var Jne=class{stringify(t){return Be.JSON.stringify(t,void 0)}parse(t){return Be.JSON.parse(t,void 0)}};function Xne(){this.g=new Jne}function Zne(t,e,n){let i=n||"";try{x6(t,function(r,o){let a=r;Og(r)&&(a=kx(r)),e.push(i+o+"="+encodeURIComponent(a))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function eie(t,e){let n=new vb;if(Be.Image){let i=new Image;i.onload=Zw(rb,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Zw(rb,n,i,"TestLoadImage: error",!1,e),i.onabort=Zw(rb,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Zw(rb,n,i,"TestLoadImage: timeout",!1,e),Be.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function rb(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Vg(t){this.l=t.ec||null,this.j=t.ob||!1}gi(Vg,Lx);Vg.prototype.g=function(){return new Eb(this.l,this.j)};Vg.prototype.i=function(t){return function(){return t}}({});function Eb(t,e){mi.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Bx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gi(Eb,mi);var Bx=0;ce=Eb.prototype;ce.open=function(t,e){if(this.readyState!=Bx)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Pg(this)};ce.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Be).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jg(this)),this.readyState=Bx};ce.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Pg(this)),this.g&&(this.readyState=3,Pg(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Be.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;V6(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function V6(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ce.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?jg(this):Pg(this),this.readyState==3&&V6(this)}};ce.Za=function(t){this.g&&(this.response=this.responseText=t,jg(this))};ce.Ya=function(t){this.g&&(this.response=t,jg(this))};ce.ka=function(){this.g&&jg(this)};function jg(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Pg(t)}ce.setRequestHeader=function(t,e){this.v.append(t,e)};ce.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ce.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Pg(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Eb.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var tie=Be.JSON.parse;function Cn(t){mi.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=j6,this.L=this.M=!1}gi(Cn,mi);var j6="",nie=/^https?$/i,iie=["POST","PUT"];ce=Cn.prototype;ce.Oa=function(t){this.M=t};ce.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():yx.g(),this.C=this.u?WB(this.u):WB(yx),this.g.onreadystatechange=Li(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){QB(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(let o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),r=Be.FormData&&t instanceof Be.FormData,!(0<=t6(iie,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{$6(this),0<this.B&&((this.L=rie(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Li(this.ua,this)):this.A=Fx(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){QB(this,o)}};function rie(t){return Ah&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ce.ua=function(){typeof Sx<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Si(this,"timeout"),this.abort(8))};function QB(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,U6(t),Ib(t)}function U6(t){t.F||(t.F=!0,Si(t,"complete"),Si(t,"error"))}ce.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Si(this,"complete"),Si(this,"abort"),Ib(this))};ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ib(this,!0)),Cn.$.N.call(this)};ce.La=function(){this.s||(this.G||this.v||this.l?B6(this):this.kb())};ce.kb=function(){B6(this)};function B6(t){if(t.h&&typeof Sx<"u"&&(!t.C[1]||ps(t)!=4||t.da()!=2)){if(t.v&&ps(t)==4)Fx(t.La,0,t);else if(Si(t,"readystatechange"),ps(t)==4){t.h=!1;try{let a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=a===0){var r=String(t.I).match(A6)[1]||null;!r&&Be.self&&Be.self.location&&(r=Be.self.location.protocol.slice(0,-1)),i=!nie.test(r?r.toLowerCase():"")}n=i}if(n)Si(t,"complete"),Si(t,"success");else{t.m=6;try{var o=2<ps(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",U6(t)}}finally{Ib(t)}}}}function Ib(t,e){if(t.g){$6(t);let n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Si(t,"ready");try{n.onreadystatechange=i}catch{}}}function $6(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Be.clearTimeout(t.A),t.A=null)}ce.isActive=function(){return!!this.g};function ps(t){return t.g?t.g.readyState:0}ce.da=function(){try{return 2<ps(this)?this.g.status:-1}catch{return-1}};ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ce.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),tie(e)}};function JB(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case j6:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function oie(t){let e={};t=(t.g&&2<=ps(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(Ig(t[i]))continue;var n=Pne(t[i]);let r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[r]||[];e[r]=o,o.push(n)}Dne(e,function(i){return i.join(", ")})}ce.Ia=function(){return this.m};ce.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function H6(t){let e="";return xx(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function $x(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=H6(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):on(t,e,n))}function _g(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function G6(t){this.Ga=0,this.j=[],this.l=new vb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=_g("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=_g("baseRetryDelayMs",5e3,t),this.hb=_g("retryDelaySeedMs",1e4,t),this.eb=_g("forwardChannelMaxRetries",2,t),this.xa=_g("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new k6(t&&t.concurrentRequestLimit),this.Ja=new Xne,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ce=G6.prototype;ce.ra=8;ce.H=1;function Hx(t){if(z6(t),t.H==3){var e=t.W++,n=pa(t.I);if(on(n,"SID",t.K),on(n,"RID",e),on(n,"TYPE","terminate"),Ug(t,n),e=new Fg(t,t.l,e),e.L=2,e.A=Cb(pa(n)),n=!1,Be.navigator&&Be.navigator.sendBeacon)try{n=Be.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Be.Image&&(new Image().src=e.A,n=!0),n||(e.g=Z6(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Lg(e)}J6(t)}function Sb(t){t.g&&(zx(t),t.g.cancel(),t.g=null)}function z6(t){Sb(t),t.u&&(Be.clearTimeout(t.u),t.u=null),cb(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Be.clearTimeout(t.m),t.m=null)}function Tb(t){if(!R6(t.i)&&!t.m){t.m=!0;var e=t.Na;Tg||f6(),Dg||(Tg(),Dg=!0),Rx.add(e,t),t.C=0}}function sie(t,e){return N6(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Rg(Li(t.Na,t,e),Q6(t,t.C)),t.C++,!0)}ce.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let r=new Fg(this,this.l,t),o=this.s;if(this.U&&(o?(o=o6(o),s6(o,this.U)):o=this.U),this.o!==null||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=q6(this,r,e),n=pa(this.I),on(n,"RID",t),on(n,"CVER",22),this.F&&on(n,"X-HTTP-Session-Id",this.F),Ug(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(H6(o)))+"&"+e:this.o&&$x(n,this.o,o)),Ux(this.i,r),this.bb&&on(n,"TYPE","init"),this.P?(on(n,"$req",e),on(n,"SID","null"),r.aa=!0,wx(r,n,null)):wx(r,n,e),this.H=2}}else this.H==3&&(t?XB(this,t):this.j.length==0||R6(this.i)||XB(this))};function XB(t,e){var n;e?n=e.m:n=t.W++;let i=pa(t.I);on(i,"SID",t.K),on(i,"RID",n),on(i,"AID",t.V),Ug(t,i),t.o&&t.s&&$x(i,t.o,t.s),n=new Fg(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=q6(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Ux(t.i,n),wx(n,i,e)}function Ug(t,e){t.na&&xx(t.na,function(n,i){on(e,i,n)}),t.h&&x6({},function(n,i){on(e,i,n)})}function q6(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Li(t.h.Va,t.h,t):null;e:{var r=t.j;let o=-1;for(;;){let a=["count="+n];o==-1?0<n?(o=r[0].g,a.push("ofs="+o)):o=0:a.push("ofs="+o);let l=!0;for(let d=0;d<n;d++){let h=r[d].g,m=r[d].map;if(h-=o,0>h)o=Math.max(0,r[d].g-100),l=!1;else try{Zne(m,a,"req"+h+"_")}catch{i&&i(m)}}if(l){i=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function W6(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Tg||f6(),Dg||(Tg(),Dg=!0),Rx.add(e,t),t.A=0}}function Gx(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Rg(Li(t.Ma,t),Q6(t,t.A)),t.A++,!0)}ce.Ma=function(){if(this.u=null,K6(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Rg(Li(this.jb,this),t)}};ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,er(10),Sb(this),K6(this))};function zx(t){t.B!=null&&(Be.clearTimeout(t.B),t.B=null)}function K6(t){t.g=new Fg(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=pa(t.wa);on(e,"RID","rpc"),on(e,"SID",t.K),on(e,"AID",t.V),on(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&on(e,"TO",t.qa),on(e,"TYPE","xmlhttp"),Ug(t,e),t.o&&t.s&&$x(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Cb(pa(e)),n.u=null,n.S=!0,I6(n,t)}ce.ib=function(){this.v!=null&&(this.v=null,Sb(this),Gx(this),er(19))};function cb(t){t.v!=null&&(Be.clearTimeout(t.v),t.v=null)}function Y6(t,e){var n=null;if(t.g==e){cb(t),zx(t),t.g=null;var i=2}else if(Cx(t.i,e))n=e.F,F6(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=yb(),Si(i,new _6(i,n)),Tb(t)}else W6(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&sie(t,e)||i==2&&Gx(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:tu(t,5);break;case 4:tu(t,10);break;case 3:tu(t,6);break;default:tu(t,2)}}}function Q6(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function tu(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Li(t.pb,t);n||(n=new nu("//www.google.com/images/cleardot.gif"),Be.location&&Be.location.protocol=="http"||sb(n,"https"),Cb(n)),eie(n.toString(),i)}else er(2);t.H=0,t.h&&t.h.za(e),J6(t),z6(t)}ce.pb=function(t){t?(this.l.info("Successfully pinged google.com"),er(2)):(this.l.info("Failed to ping google.com"),er(1))};function J6(t){if(t.H=0,t.ma=[],t.h){let e=L6(t.i);(e.length!=0||t.j.length!=0)&&(HB(t.ma,e),HB(t.ma,t.j),t.i.i.length=0,Tx(t.j),t.j.length=0),t.h.ya()}}function X6(t,e,n){var i=n instanceof nu?pa(n):new nu(n);if(i.g!="")e&&(i.g=e+"."+i.g),ab(i,i.m);else{var r=Be.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new nu(null);i&&sb(o,i),e&&(o.g=e),r&&ab(o,r),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&on(i,n,e),on(i,"VER",t.ra),Ug(t,i),i}function Z6(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Cn(new Vg({ob:n})):new Cn(t.va),e.Oa(t.J),e}ce.isActive=function(){return!!this.h&&this.h.isActive(this)};function e4(){}ce=e4.prototype;ce.Ba=function(){};ce.Aa=function(){};ce.za=function(){};ce.ya=function(){};ce.isActive=function(){return!0};ce.Va=function(){};function lb(){if(Ah&&!(10<=Number(Ene)))throw Error("Environmental error: no available transport.")}lb.prototype.g=function(t,e){return new Er(t,e)};function Er(t,e){mi.call(this),this.g=new G6(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ig(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ig(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ph(this)}gi(Er,mi);Er.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;er(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=X6(t,null,t.Y),Tb(t)};Er.prototype.close=function(){Hx(this.g)};Er.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=kx(t),t=n);e.j.push(new Yne(e.fb++,t)),e.H==3&&Tb(e)};Er.prototype.N=function(){this.g.h=null,delete this.j,Hx(this.g),delete this.g,Er.$.N.call(this)};function t4(t){Vx.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}gi(t4,Vx);function n4(){jx.call(this),this.status=1}gi(n4,jx);function Ph(t){this.g=t}gi(Ph,e4);Ph.prototype.Ba=function(){Si(this.g,"a")};Ph.prototype.Aa=function(t){Si(this.g,new t4(t))};Ph.prototype.za=function(t){Si(this.g,new n4)};Ph.prototype.ya=function(){Si(this.g,"b")};function aie(){this.blockSize=-1}function xo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}gi(xo,aie);xo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function cx(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var o=t.g[3],a=e+(o^n&(r^o))+i[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[1]+3905402710&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[2]+606105819&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[3]+3250441966&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[5]+1200080426&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[6]+2821735955&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[7]+4249261313&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[9]+2336552879&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[10]+4294925233&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[11]+2304563134&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[13]+4254626195&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[14]+2792965006&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[15]+1236535329&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(r^o&(n^r))+i[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[6]+3225465664&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[11]+643717713&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[0]+3921069994&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[10]+38016083&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[15]+3634488961&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[4]+3889429448&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[14]+3275163606&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[3]+4107603335&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[8]+1163531501&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[2]+4243563512&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[7]+1735328473&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[12]+2368359562&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(n^r^o)+i[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[8]+2272392833&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[11]+1839030562&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[14]+4259657740&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[4]+1272893353&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[7]+4139469664&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[10]+3200236656&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[0]+3936430074&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[3]+3572445317&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[6]+76029189&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[12]+3873151461&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[15]+530742520&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[2]+3299628645&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(r^(n|~o))+i[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[7]+1126891415&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[14]+2878612391&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[5]+4237533241&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[3]+2399980690&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[10]+4293915773&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[1]+2240044497&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[15]+4264355552&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[6]+2734768916&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[13]+1309151649&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[11]+3174756917&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[2]+718787259&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+o&4294967295}xo.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(r==0)for(;o<=n;)cx(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[r++]=t.charCodeAt(o++),r==this.blockSize){cx(this,i),r=0;break}}else for(;o<e;)if(i[r++]=t[o++],r==this.blockSize){cx(this,i),r=0;break}}this.h=r,this.i+=e};xo.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function Ut(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var o=t[r]|0;i&&o==e||(n[r]=o,i=!1)}this.g=n}var cie={};function qx(t){return-128<=t&&128>t?wne(t,function(e){return new Ut([e|0],0>e?-1:0)}):new Ut([t|0],0>t?-1:0)}function ms(t){if(isNaN(t)||!isFinite(t))return xh;if(0>t)return Ii(ms(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=Ex;return new Ut(e,0)}function i4(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ii(i4(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ms(Math.pow(e,8)),i=xh,r=0;r<t.length;r+=8){var o=Math.min(8,t.length-r),a=parseInt(t.substring(r,r+o),e);8>o?(o=ms(Math.pow(e,o)),i=i.R(o).add(ms(a))):(i=i.R(n),i=i.add(ms(a)))}return i}var Ex=4294967296,xh=qx(0),Ix=qx(1),ZB=qx(16777216);ce=Ut.prototype;ce.ea=function(){if(Hr(this))return-Ii(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:Ex+i)*e,e*=Ex}return t};ce.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(fa(this))return"0";if(Hr(this))return"-"+Ii(this).toString(t);for(var e=ms(Math.pow(t,6)),n=this,i="";;){var r=db(n,e).g;n=ub(n,r.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,fa(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};ce.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function fa(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Hr(t){return t.h==-1}ce.X=function(t){return t=ub(this,t),Hr(t)?-1:fa(t)?0:1};function Ii(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new Ut(n,~t.h).add(Ix)}ce.abs=function(){return Hr(this)?Ii(this):this};ce.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var o=i+(this.D(r)&65535)+(t.D(r)&65535),a=(o>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=a>>>16,o&=65535,a&=65535,n[r]=a<<16|o}return new Ut(n,n[n.length-1]&-2147483648?-1:0)};function ub(t,e){return t.add(Ii(e))}ce.R=function(t){if(fa(this)||fa(t))return xh;if(Hr(this))return Hr(t)?Ii(this).R(Ii(t)):Ii(Ii(this).R(t));if(Hr(t))return Ii(this.R(Ii(t)));if(0>this.X(ZB)&&0>t.X(ZB))return ms(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var o=this.D(i)>>>16,a=this.D(i)&65535,l=t.D(r)>>>16,d=t.D(r)&65535;n[2*i+2*r]+=a*d,ob(n,2*i+2*r),n[2*i+2*r+1]+=o*d,ob(n,2*i+2*r+1),n[2*i+2*r+1]+=a*l,ob(n,2*i+2*r+1),n[2*i+2*r+2]+=o*l,ob(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new Ut(n,0)};function ob(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function wg(t,e){this.g=t,this.h=e}function db(t,e){if(fa(e))throw Error("division by zero");if(fa(t))return new wg(xh,xh);if(Hr(t))return e=db(Ii(t),e),new wg(Ii(e.g),Ii(e.h));if(Hr(e))return e=db(t,Ii(e)),new wg(Ii(e.g),e.h);if(30<t.g.length){if(Hr(t)||Hr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ix,i=e;0>=i.X(t);)n=e6(n),i=e6(i);var r=Th(n,1),o=Th(i,1);for(i=Th(i,2),n=Th(n,2);!fa(i);){var a=o.add(i);0>=a.X(t)&&(r=r.add(n),o=a),i=Th(i,1),n=Th(n,1)}return e=ub(t,r.R(e)),new wg(r,e)}for(r=xh;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=ms(n),a=o.R(e);Hr(a)||0<a.X(t);)n-=i,o=ms(n),a=o.R(e);fa(o)&&(o=Ix),r=r.add(o),t=ub(t,a)}return new wg(r,t)}ce.gb=function(t){return db(this,t).h};ce.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new Ut(n,this.h&t.h)};ce.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new Ut(n,this.h|t.h)};ce.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new Ut(n,this.h^t.h)};function e6(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new Ut(n,t.h)}function Th(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],o=0;o<i;o++)r[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ut(r,t.h)}lb.prototype.createWebChannel=lb.prototype.g;Er.prototype.send=Er.prototype.u;Er.prototype.open=Er.prototype.m;Er.prototype.close=Er.prototype.close;_b.NO_ERROR=0;_b.TIMEOUT=8;_b.HTTP_ERROR=6;w6.COMPLETE="complete";b6.EventType=Ng;Ng.OPEN="a";Ng.CLOSE="b";Ng.ERROR="c";Ng.MESSAGE="d";mi.prototype.listen=mi.prototype.O;Cn.prototype.listenOnce=Cn.prototype.P;Cn.prototype.getLastError=Cn.prototype.Sa;Cn.prototype.getLastErrorCode=Cn.prototype.Ia;Cn.prototype.getStatus=Cn.prototype.da;Cn.prototype.getResponseJson=Cn.prototype.Wa;Cn.prototype.getResponseText=Cn.prototype.ja;Cn.prototype.send=Cn.prototype.ha;Cn.prototype.setWithCredentials=Cn.prototype.Oa;xo.prototype.digest=xo.prototype.l;xo.prototype.reset=xo.prototype.reset;xo.prototype.update=xo.prototype.j;Ut.prototype.add=Ut.prototype.add;Ut.prototype.multiply=Ut.prototype.R;Ut.prototype.modulo=Ut.prototype.gb;Ut.prototype.compare=Ut.prototype.X;Ut.prototype.toNumber=Ut.prototype.ea;Ut.prototype.toString=Ut.prototype.toString;Ut.prototype.getBits=Ut.prototype.D;Ut.fromNumber=ms;Ut.fromString=i4;var r4=Ao.createWebChannelTransport=function(){return new lb},o4=Ao.getStatEventTarget=function(){return yb()},Db=Ao.ErrorCode=_b,s4=Ao.EventType=w6,a4=Ao.Event=iu,Wx=Ao.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Nbe=Ao.FetchXmlHttpFactory=Vg,Bg=Ao.WebChannel=b6,c4=Ao.XhrIo=Cn,l4=Ao.Md5=xo,ru=Ao.Integer=Ut;var u4="@firebase/firestore";var vi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vi.UNAUTHENTICATED=new vi(null),vi.GOOGLE_CREDENTIALS=new vi("google-credentials-uid"),vi.FIRST_PARTY=new vi("first-party-uid"),vi.MOCK_USER=new vi("mock-user");var ef="10.8.1";var lu=new as("@firebase/firestore");function $g(){return lu.logLevel}function le(t,...e){if(lu.logLevel<=ft.DEBUG){let n=e.map(kM);lu.debug(`Firestore (${ef}): ${t}`,...n)}}function bs(t,...e){if(lu.logLevel<=ft.ERROR){let n=e.map(kM);lu.error(`Firestore (${ef}): ${t}`,...n)}}function jh(t,...e){if(lu.logLevel<=ft.WARN){let n=e.map(kM);lu.warn(`Firestore (${ef}): ${t}`,...n)}}function kM(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Ve(t="Unexpected state"){let e=`FIRESTORE (${ef}) INTERNAL ASSERTION FAILED: `+t;throw bs(e),new Error(e)}function Jt(t,e){t||Ve()}function Ke(t,e){return t}var W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ce=class extends Gn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Po=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Ob=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Xx=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vi.UNAUTHENTICATED))}shutdown(){}},Zx=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},eA=class{constructor(e){this.t=e,this.currentUser=vi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve(),o=new Po;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Po,e.enqueueRetryable(()=>r(this.currentUser))};let a=()=>{let d=o;e.enqueueRetryable(()=>I(this,null,function*(){yield d.promise,yield r(this.currentUser)}))},l=d=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(d=>l(d)),setTimeout(()=>{if(!this.auth){let d=this.t.getImmediate({optional:!0});d?l(d):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Po)}},0),a()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Jt(typeof i.accessToken=="string"),new Ob(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Jt(e===null||typeof e=="string"),new vi(e)}},tA=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=vi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},nA=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new tA(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(vi.FIRST_PARTY))}shutdown(){}invalidateToken(){}},iA=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},rA=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=o=>{o.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let a=o.token!==this.R;return this.R=o.token,le("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Jt(typeof n.token=="string"),this.R=n.token,new iA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function lie(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var kb=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=lie(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}};function kt(t,e){return t<e?-1:t>e?1:0}function Uh(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var Ti=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ce(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ce(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ce(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?kt(this.nanoseconds,e.nanoseconds):kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var We=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ti(0,0))}static max(){return new t(new Ti(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Rb=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ve(),i===void 0?i=e.length-n:i>e.length-n&&Ve(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let o=e.get(r),a=n.get(r);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},In=class t extends Rb{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new Ce(W.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},uie=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ir=class t extends Rb{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return uie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,o=()=>{if(i.length===0)throw new Ce(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},a=!1;for(;r<e.length;){let l=e[r];if(l==="\\"){if(r+1===e.length)throw new Ce(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let d=e[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ce(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(o(),r++)}if(o(),a)throw new Ce(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Ae=class t{constructor(e){this.path=e}static fromPath(e){return new t(In.fromString(e))}static fromName(e){return new t(In.fromString(e).popFirst(5))}static empty(){return new t(In.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&In.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return In.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new In(e.slice()))}};var oA=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};oA.UNKNOWN_ID=-1;function die(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=We.fromTimestamp(i===1e9?new Ti(n+1,0):new Ti(n,i));return new uu(r,Ae.empty(),e)}function hie(t){return new uu(t.readTime,t.key,-1)}var uu=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(We.min(),Ae.empty(),-1)}static max(){return new t(We.max(),Ae.empty(),-1)}};function fie(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:kt(t.largestBatchId,e.largestBatchId))}var pie="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sA=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ov(t){return I(this,null,function*(){if(t.code!==W.FAILED_PRECONDITION||t.message!==pie)throw t;le("LocalStore","Unexpectedly lost primary lease")})}var K=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,o=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++o,a&&o===r&&n()},d=>i(d))}),a=!0,o===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let o=e.length,a=new Array(o),l=0;for(let d=0;d<o;d++){let h=d;n(e[h]).next(m=>{a[h]=m,++l,l===o&&i(a)},m=>r(m))}})}static doWhile(e,n){return new t((i,r)=>{let o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}};var aA=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Po,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new cu(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=RM(i.target.error);this.V.reject(new cu(e,r))}}static open(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(o){throw new cu(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new lA(n)}},Nb=class t{constructor(e,n,i){this.name=e,this.version=n,this.p=i,t.S(Wt())===12.2&&bs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return le("SimpleDb","Removing database:",e),ou(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!dc())return!1;if(t.C())return!0;let e=Wt(),n=t.S(e),i=0<n&&n<10,r=t.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){let n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){return I(this,null,function*(){return this.db||(le("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{let a=o.target.result;n(a)},r.onblocked=()=>{i(new cu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{let a=o.target.error;a.name==="VersionError"?i(new Ce(W.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?i(new Ce(W.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):i(new cu(e,a))},r.onupgradeneeded=o=>{le("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let a=o.target.result;this.p.N(a,r.transaction,o.oldVersion,this.version).next(()=>{le("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,i,r){return I(this,null,function*(){let o=n==="readonly",a=0;for(;;){++a;try{this.db=yield this.O(e);let l=aA.open(this.db,e,o?"readonly":"readwrite",i),d=r(l).next(h=>(l.g(),h)).catch(h=>(l.abort(h),K.reject(h))).toPromise();return d.catch(()=>{}),yield l.m,d}catch(l){let d=l,h=d.name!=="FirebaseError"&&a<3;if(le("SimpleDb","Transaction failed with error:",d.message,"Retrying:",h),this.close(),!h)return Promise.reject(d)}}})}close(){this.db&&this.db.close(),this.db=void 0}},cA=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ou(this.k.delete())}},cu=class extends Ce{constructor(e,n){super(W.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function sv(t){return t.name==="IndexedDbTransactionError"}var lA=class{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(le("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(le("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),ou(i)}add(e){return le("SimpleDb","ADD",this.store.name,e,e),ou(this.store.add(e))}get(e){return ou(this.store.get(e)).next(n=>(n===void 0&&(n=null),le("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return le("SimpleDb","DELETE",this.store.name,e),ou(this.store.delete(e))}count(){return le("SimpleDb","COUNT",this.store.name),ou(this.store.count())}W(e,n){let i=this.options(e,n),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){let o=r.getAll(i.range);return new K((a,l)=>{o.onerror=d=>{l(d.target.error)},o.onsuccess=d=>{a(d.target.result)}})}{let o=this.cursor(i),a=[];return this.G(o,(l,d)=>{a.push(d)}).next(()=>a)}}j(e,n){let i=this.store.getAll(e,n===null?void 0:n);return new K((r,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}H(e,n){le("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,n);i.J=!1;let r=this.cursor(i);return this.G(r,(o,a,l)=>l.delete())}Y(e,n){let i;n?i=e:(i={},n=e);let r=this.cursor(i);return this.G(r,n)}Z(e){let n=this.cursor({});return new K((i,r)=>{n.onerror=o=>{let a=RM(o.target.error);r(a)},n.onsuccess=o=>{let a=o.target.result;a?e(a.primaryKey,a.value).next(l=>{l?a.continue():i()}):i()}})}G(e,n){let i=[];return new K((r,o)=>{e.onerror=a=>{o(a.target.error)},e.onsuccess=a=>{let l=a.target.result;if(!l)return void r();let d=new cA(l),h=n(l.primaryKey,l.value,d);if(h instanceof K){let m=h.catch(v=>(d.done(),K.reject(v)));i.push(m)}d.isDone?r():d.$===null?l.continue():l.continue(d.$)}}).next(()=>K.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function ou(t){return new K((e,n)=>{t.onsuccess=i=>{let r=i.target.result;e(r)},t.onerror=i=>{let r=RM(i.target.error);n(r)}})}var d4=!1;function RM(t){let e=Nb.S(Wt());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let i=new Ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return d4||(d4=!0,setTimeout(()=>{throw i},0)),i}}return t}var V4=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function aC(t){return t==null}function Kg(t){return t===0&&1/t==-1/0}function mie(t){return typeof t=="number"&&Number.isInteger(t)&&!Kg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var gie=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Gbe=[...gie,"documentOverlays"],vie=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yie=vie,zbe=[...yie,"indexConfiguration","indexState","indexEntries"];function h4(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function tf(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function j4(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Sn=class t{constructor(e,n){this.comparator=e,this.root=n||ys.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ys.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ys.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nh(this.root,e,this.comparator,!0)}},Nh=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ys=class t{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new t(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();let e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}};ys.EMPTY=null,ys.RED=!0,ys.BLACK=!1;ys.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,n,i,r,o){return this}insert(e,n,i){return new ys(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ui=class t{constructor(e){this.comparator=e,this.data=new Sn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fb(this.data.getIterator())}getIteratorFrom(e){return new Fb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Fb=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var vs=class t{constructor(e){this.fields=e,e.sort(Ir.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ui(Ir.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Uh(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var Lb=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var tr=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Lb("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let o="";for(let a=0;a<r.length;++a)o+=String.fromCharCode(r[a]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};tr.EMPTY_BYTE_STRING=new tr("");var _ie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ic(t){if(Jt(!!t),typeof t=="string"){let e=0,n=_ie.exec(t);if(Jt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:En(t.seconds),nanos:En(t.nanos)}}function En(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Sc(t){return typeof t=="string"?tr.fromBase64String(t):tr.fromUint8Array(t)}function NM(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function FM(t){let e=t.mapValue.fields.__previous_value__;return NM(e)?FM(e):e}function Yg(t){let e=Ic(t.mapValue.fields.__local_write_time__.timestampValue);return new Ti(e.seconds,e.nanos)}var uA=class{constructor(e,n,i,r,o,a,l,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=d,this.useFetchStreams=h}},Vb=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var xb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function du(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?NM(t)?4:U4(t)?9007199254740991:10:Ve()}function Cs(t,e){if(t===e)return!0;let n=du(t);if(n!==du(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yg(t).isEqual(Yg(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let a=Ic(r.timestampValue),l=Ic(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return Sc(r.bytesValue).isEqual(Sc(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return En(r.geoPointValue.latitude)===En(o.geoPointValue.latitude)&&En(r.geoPointValue.longitude)===En(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return En(r.integerValue)===En(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let a=En(r.doubleValue),l=En(o.doubleValue);return a===l?Kg(a)===Kg(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Uh(t.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:return function(r,o){let a=r.mapValue.fields||{},l=o.mapValue.fields||{};if(h4(a)!==h4(l))return!1;for(let d in a)if(a.hasOwnProperty(d)&&(l[d]===void 0||!Cs(a[d],l[d])))return!1;return!0}(t,e);default:return Ve()}}function Qg(t,e){return(t.values||[]).find(n=>Cs(n,e))!==void 0}function Bh(t,e){if(t===e)return 0;let n=du(t),i=du(e);if(n!==i)return kt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(t.booleanValue,e.booleanValue);case 2:return function(o,a){let l=En(o.integerValue||o.doubleValue),d=En(a.integerValue||a.doubleValue);return l<d?-1:l>d?1:l===d?0:isNaN(l)?isNaN(d)?0:-1:1}(t,e);case 3:return f4(t.timestampValue,e.timestampValue);case 4:return f4(Yg(t),Yg(e));case 5:return kt(t.stringValue,e.stringValue);case 6:return function(o,a){let l=Sc(o),d=Sc(a);return l.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){let l=o.split("/"),d=a.split("/");for(let h=0;h<l.length&&h<d.length;h++){let m=kt(l[h],d[h]);if(m!==0)return m}return kt(l.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){let l=kt(En(o.latitude),En(a.latitude));return l!==0?l:kt(En(o.longitude),En(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,a){let l=o.values||[],d=a.values||[];for(let h=0;h<l.length&&h<d.length;++h){let m=Bh(l[h],d[h]);if(m)return m}return kt(l.length,d.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,a){if(o===xb.mapValue&&a===xb.mapValue)return 0;if(o===xb.mapValue)return 1;if(a===xb.mapValue)return-1;let l=o.fields||{},d=Object.keys(l),h=a.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let v=0;v<d.length&&v<m.length;++v){let y=kt(d[v],m[v]);if(y!==0)return y;let E=Bh(l[d[v]],h[m[v]]);if(E!==0)return E}return kt(d.length,m.length)}(t.mapValue,e.mapValue);default:throw Ve()}}function f4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return kt(t,e);let n=Ic(t),i=Ic(e),r=kt(n.seconds,i.seconds);return r!==0?r:kt(n.nanos,i.nanos)}function $h(t){return dA(t)}function dA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=Ic(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Sc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let o of n.values||[])r?r=!1:i+=",",i+=dA(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",o=!0;for(let a of i)o?o=!1:r+=",",r+=`${a}:${dA(n.fields[a])}`;return r+"}"}(t.mapValue):Ve()}function hA(t){return!!t&&"integerValue"in t}function LM(t){return!!t&&"arrayValue"in t}function p4(t){return!!t&&"nullValue"in t}function m4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mb(t){return!!t&&"mapValue"in t}function Gg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return tf(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Gg(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gg(t.arrayValue.values[n]);return e}return Object.assign({},t)}function U4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Mo=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Mb(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gg(n)}setAll(e){let n=Ir.emptyPath(),i={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){let d=this.getFieldsMap(n);this.applyChanges(d,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=Gg(a):r.push(l.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){let n=this.field(e.popLast());Mb(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Mb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){tf(n,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new t(Gg(this.value))}};function B4(t){let e=[];return tf(t.fields,(n,i)=>{let r=new Ir([n]);if(Mb(i)){let o=B4(i.mapValue).fields;if(o.length===0)e.push(r);else for(let a of o)e.push(r.child(a))}else e.push(r)}),new vs(e)}var Oo=class t{constructor(e,n,i,r,o,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(e){return new t(e,0,We.min(),We.min(),We.min(),Mo.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,We.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,We.min(),We.min(),Mo.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,We.min(),We.min(),Mo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Hh=class{constructor(e,n){this.position=e,this.inclusive=n}};function g4(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let o=e[r],a=t.position[r];if(o.field.isKeyField()?i=Ae.comparator(Ae.fromName(a.referenceValue),n.key):i=Bh(a,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function v4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cs(t.position[n],e.position[n]))return!1;return!0}var Gh=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function wie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var jb=class{},Zn=class t extends jb{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new pA(e,n,i):n==="array-contains"?new vA(e,i):n==="in"?new yA(e,i):n==="not-in"?new _A(e,i):n==="array-contains-any"?new wA(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new mA(e,i):new gA(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bh(n,this.value)):n!==null&&du(this.value)===du(n)&&this.matchesComparison(Bh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Es=class t extends jb{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return $4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function $4(t){return t.op==="and"}function H4(t){return bie(t)&&$4(t)}function bie(t){for(let e of t.filters)if(e instanceof Es)return!1;return!0}function fA(t){if(t instanceof Zn)return t.field.canonicalString()+t.op.toString()+$h(t.value);if(H4(t))return t.filters.map(e=>fA(e)).join(",");{let e=t.filters.map(n=>fA(n)).join(",");return`${t.op}(${e})`}}function G4(t,e){return t instanceof Zn?function(i,r){return r instanceof Zn&&i.op===r.op&&i.field.isEqual(r.field)&&Cs(i.value,r.value)}(t,e):t instanceof Es?function(i,r){return r instanceof Es&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,a,l)=>o&&G4(a,r.filters[l]),!0):!1}(t,e):void Ve()}function z4(t){return t instanceof Zn?function(n){return`${n.field.canonicalString()} ${n.op} ${$h(n.value)}`}(t):t instanceof Es?function(n){return n.op.toString()+" {"+n.getFilters().map(z4).join(" ,")+"}"}(t):"Filter"}var pA=class extends Zn{constructor(e,n,i){super(e,n,i),this.key=Ae.fromName(i.referenceValue)}matches(e){let n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}},mA=class extends Zn{constructor(e,n){super(e,"in",n),this.keys=q4("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},gA=class extends Zn{constructor(e,n){super(e,"not-in",n),this.keys=q4("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function q4(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Ae.fromName(i.referenceValue))}var vA=class extends Zn{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return LM(n)&&Qg(n.arrayValue,this.value)}},yA=class extends Zn{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Qg(this.value.arrayValue,n)}},_A=class extends Zn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Qg(this.value.arrayValue,n)}},wA=class extends Zn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!LM(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Qg(this.value.arrayValue,i))}};var bA=class{constructor(e,n=null,i=[],r=[],o=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=a,this.endAt=l,this.ce=null}};function y4(t,e=null,n=[],i=[],r=null,o=null,a=null){return new bA(t,e,n,i,r,o,a)}function VM(t){let e=Ke(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>fA(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),aC(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>$h(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>$h(i)).join(",")),e.ce=n}return e.ce}function jM(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!G4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!v4(t.startAt,e.startAt)&&v4(t.endAt,e.endAt)}function CA(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var zh=class{constructor(e,n=null,i=[],r=[],o=null,a="F",l=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=d,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function Cie(t,e,n,i,r,o,a,l){return new zh(t,e,n,i,r,o,a,l)}function W4(t){return new zh(t)}function _4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Eie(t){return t.collectionGroup!==null}function zg(t){let e=Ke(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Ui(Ir.comparator);return a.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Gh(o,i))}),n.has(Ir.keyField().canonicalString())||e.le.push(new Gh(Ir.keyField(),i))}return e.le}function _s(t){let e=Ke(t);return e.he||(e.he=Iie(e,zg(t))),e.he}function Iie(t,e){if(t.limitType==="F")return y4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new Gh(r.field,o)});let n=t.endAt?new Hh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Hh(t.startAt.position,t.startAt.inclusive):null;return y4(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function EA(t,e,n){return new zh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cC(t,e){return jM(_s(t),_s(e))&&t.limitType===e.limitType}function K4(t){return`${VM(_s(t))}|lt:${t.limitType}`}function Oh(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>z4(r)).join(", ")}]`),aC(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>$h(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>$h(r)).join(",")),`Target(${i})`}(_s(t))}; limitType=${t.limitType})`}function lC(t,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ae.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(let o of zg(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(a,l,d){let h=g4(a,l,d);return a.inclusive?h<=0:h<0}(i.startAt,zg(i),r)||i.endAt&&!function(a,l,d){let h=g4(a,l,d);return a.inclusive?h>=0:h>0}(i.endAt,zg(i),r))}(t,e)}function Sie(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Y4(t){return(e,n)=>{let i=!1;for(let r of zg(t)){let o=Tie(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function Tie(t,e,n){let i=t.field.isKeyField()?Ae.comparator(e.key,n.key):function(o,a,l){let d=a.data.field(o),h=l.data.field(o);return d!==null&&h!==null?Bh(d,h):Ve()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ve()}}var Tc=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){tf(this.inner,(n,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return j4(this.inner)}size(){return this.innerSize}};var Die=new Sn(Ae.comparator);function ma(){return Die}var Q4=new Sn(Ae.comparator);function Hg(...t){let e=Q4;for(let n of t)e=e.insert(n.key,n);return e}function J4(t){let e=Q4;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function su(){return qg()}function X4(){return qg()}function qg(){return new Tc(t=>t.toString(),(t,e)=>t.isEqual(e))}var xie=new Sn(Ae.comparator),Aie=new Ui(Ae.comparator);function gt(...t){let e=Aie;for(let n of t)e=e.add(n);return e}var Mie=new Ui(kt);function Pie(){return Mie}function Z4(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kg(e)?"-0":e}}function e5(t){return{integerValue:""+t}}function Oie(t,e){return mie(e)?e5(e):Z4(t,e)}var qh=class{constructor(){this._=void 0}};function kie(t,e,n){return t instanceof Wh?function(r,o){let a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&NM(o)&&(o=FM(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof hu?n5(t,e):t instanceof fu?i5(t,e):function(r,o){let a=t5(r,o),l=w4(a)+w4(r.Ie);return hA(a)&&hA(r.Ie)?e5(l):Z4(r.serializer,l)}(t,e)}function Rie(t,e,n){return t instanceof hu?n5(t,e):t instanceof fu?i5(t,e):n}function t5(t,e){return t instanceof Kh?function(i){return hA(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var Wh=class extends qh{},hu=class extends qh{constructor(e){super(),this.elements=e}};function n5(t,e){let n=r5(e);for(let i of t.elements)n.some(r=>Cs(r,i))||n.push(i);return{arrayValue:{values:n}}}var fu=class extends qh{constructor(e){super(),this.elements=e}};function i5(t,e){let n=r5(e);for(let i of t.elements)n=n.filter(r=>!Cs(r,i));return{arrayValue:{values:n}}}var Kh=class extends qh{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function w4(t){return En(t.integerValue||t.doubleValue)}function r5(t){return LM(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Nie(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof hu&&r instanceof hu||i instanceof fu&&r instanceof fu?Uh(i.elements,r.elements,Cs):i instanceof Kh&&r instanceof Kh?Cs(i.Ie,r.Ie):i instanceof Wh&&r instanceof Wh}(t.transform,e.transform)}var IA=class{constructor(e,n){this.version=e,this.transformResults=n}},Cc=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Pb(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Yh=class{};function o5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jg(t.key,Cc.none()):new pu(t.key,t.data,Cc.none());{let n=t.data,i=Mo.empty(),r=new Ui(Ir.comparator);for(let o of e.fields)if(!r.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?i.delete(o):i.set(o,a),r=r.add(o)}return new ga(t.key,i,new vs(r.toArray()),Cc.none())}}function Fie(t,e,n){t instanceof pu?function(r,o,a){let l=r.value.clone(),d=C4(r.fieldTransforms,o,a.transformResults);l.setAll(d),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ga?function(r,o,a){if(!Pb(r.precondition,o))return void o.convertToUnknownDocument(a.version);let l=C4(r.fieldTransforms,o,a.transformResults),d=o.data;d.setAll(s5(r)),d.setAll(l),o.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(t,e,n):function(r,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Wg(t,e,n,i){return t instanceof pu?function(o,a,l,d){if(!Pb(o.precondition,a))return l;let h=o.value.clone(),m=E4(o.fieldTransforms,d,a);return h.setAll(m),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,i):t instanceof ga?function(o,a,l,d){if(!Pb(o.precondition,a))return l;let h=E4(o.fieldTransforms,d,a),m=a.data;return m.setAll(s5(o)),m.setAll(h),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,i):function(o,a,l){return Pb(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function Lie(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),o=t5(i.transform,r||null);o!=null&&(n===null&&(n=Mo.empty()),n.set(i.field,o))}return n||null}function b4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Uh(i,r,(o,a)=>Nie(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var pu=class extends Yh{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},ga=class extends Yh{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function s5(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function C4(t,e,n){let i=new Map;Jt(t.length===n.length);for(let r=0;r<n.length;r++){let o=t[r],a=o.transform,l=e.data.field(o.field);i.set(o.field,Rie(a,l,n[r]))}return i}function E4(t,e,n){let i=new Map;for(let r of t){let o=r.transform,a=n.data.field(r.field);i.set(r.field,kie(o,a,e))}return i}var Jg=class extends Yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},SA=class extends Yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var TA=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&Fie(o,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=Wg(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=Wg(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=X4();return this.mutations.forEach(r=>{let o=e.get(r.key),a=o.overlayedDocument,l=this.applyToLocalView(a,o.mutatedFields);l=n.has(r.key)?null:l;let d=o5(a,l);d!==null&&i.set(r.key,d),a.isValidDocument()||a.convertToNoDocument(We.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),gt())}isEqual(e){return this.batchId===e.batchId&&Uh(this.mutations,e.mutations,(n,i)=>b4(n,i))&&Uh(this.baseMutations,e.baseMutations,(n,i)=>b4(n,i))}},DA=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Jt(e.mutations.length===i.length);let r=function(){return xie}(),o=e.mutations;for(let a=0;a<o.length;a++)r=r.insert(o[a].key,i[a].version);return new t(e,n,i,r)}};var xA=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var AA=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var qn,It;function Vie(t){switch(t){default:return Ve();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function a5(t){if(t===void 0)return bs("GRPC error has no .code"),W.UNKNOWN;switch(t){case qn.OK:return W.OK;case qn.CANCELLED:return W.CANCELLED;case qn.UNKNOWN:return W.UNKNOWN;case qn.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case qn.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case qn.INTERNAL:return W.INTERNAL;case qn.UNAVAILABLE:return W.UNAVAILABLE;case qn.UNAUTHENTICATED:return W.UNAUTHENTICATED;case qn.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case qn.NOT_FOUND:return W.NOT_FOUND;case qn.ALREADY_EXISTS:return W.ALREADY_EXISTS;case qn.PERMISSION_DENIED:return W.PERMISSION_DENIED;case qn.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case qn.ABORTED:return W.ABORTED;case qn.OUT_OF_RANGE:return W.OUT_OF_RANGE;case qn.UNIMPLEMENTED:return W.UNIMPLEMENTED;case qn.DATA_LOSS:return W.DATA_LOSS;default:return Ve()}}(It=qn||(qn={}))[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";var I4=null;function jie(){return new TextEncoder}var Uie=new ru([4294967295,4294967295],0);function S4(t){let e=jie().encode(t),n=new l4;return n.update(e),new Uint8Array(n.digest())}function T4(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ru([n,i],0),new ru([r,o],0)]}var MA=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new au(`Invalid padding: ${n}`);if(i<0)throw new au(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new au(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ru.fromNumber(this.Te)}de(e,n,i){let r=e.add(n.multiply(ru.fromNumber(i)));return r.compare(Uie)===1&&(r=new ru([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=S4(e),[i,r]=T4(n);for(let o=0;o<this.hashCount;o++){let a=this.de(i,r,o);if(!this.Ae(a))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new t(o,r,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.Te===0)return;let n=S4(e),[i,r]=T4(n);for(let o=0;o<this.hashCount;o++){let a=this.de(i,r,o);this.Re(a)}}Re(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},au=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ub=class t{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,Xg.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(We.min(),r,new Sn(kt),ma(),gt())}},Xg=class t{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,gt(),gt(),gt())}};var Lh=class{constructor(e,n,i,r){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=r}},Bb=class{constructor(e,n){this.targetId=e,this.fe=n}},$b=class{constructor(e,n,i=tr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},Hb=class{constructor(){this.ge=0,this.pe=x4(),this.ye=tr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=gt(),n=gt(),i=gt();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Ve()}}),new Xg(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=x4()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Jt(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},PA=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=ma(),this.Qe=D4(),this.Ke=new Sn(kt)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:Ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,r)=>{this.je(r)&&n(r)})}Je(e){let n=e.targetId,i=e.fe.count,r=this.Ye(n);if(r){let o=r.target;if(CA(o))if(i===0){let a=new Ae(o.path);this.We(n,a,Oo.newNoDocument(a,We.min()))}else Jt(i===1);else{let a=this.Ze(n);if(a!==i){let l=this.Xe(e),d=l?this.et(l,e,a):1;if(d!==0){this.He(n);let h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,h)}I4?.tt(function(m,v,y,E,w){var S,D,O,V,$,x;let te={localCacheCount:m,existenceFilterCount:v.count,databaseId:y.database,projectId:y.projectId},U=v.unchangedNames;return U&&(te.bloomFilter={applied:w===0,hashCount:(S=U?.hashCount)!==null&&S!==void 0?S:0,bitmapLength:(V=(O=(D=U?.bits)===null||D===void 0?void 0:D.bitmap)===null||O===void 0?void 0:O.length)!==null&&V!==void 0?V:0,padding:(x=($=U?.bits)===null||$===void 0?void 0:$.padding)!==null&&x!==void 0?x:0,mightContain:oe=>{var Ee;return(Ee=E?.mightContain(oe))!==null&&Ee!==void 0&&Ee}}),te}(a,e.fe,this.Le.nt(),l,d))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n,a,l;try{a=Sc(i).toUint8Array()}catch(d){if(d instanceof Lb)return jh("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{l=new MA(a,r,o)}catch(d){return jh(d instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return l.Te===0?null:l}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(o=>{let a=this.Le.nt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.We(n,o,null),r++)}),r}it(e){let n=new Map;this.ke.forEach((o,a)=>{let l=this.Ye(a);if(l){if(o.current&&CA(l.target)){let d=new Ae(l.target.path);this.qe.get(d)!==null||this.st(a,d)||this.We(a,d,Oo.newNoDocument(d,e))}o.De&&(n.set(a,o.ve()),o.Fe())}});let i=gt();this.Qe.forEach((o,a)=>{let l=!0;a.forEachWhile(d=>{let h=this.Ye(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(o))}),this.qe.forEach((o,a)=>a.setReadTime(e));let r=new Ub(e,n,this.Ke,this.qe,i);return this.qe=ma(),this.Qe=D4(),this.Ke=new Sn(kt),r}Ue(e,n){if(!this.je(e))return;let i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;let r=this.ze(e);this.st(e,n)?r.Me(n,1):r.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Hb,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ui(kt),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Hb),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function D4(){return new Sn(Ae.comparator)}function x4(){return new Sn(Ae.comparator)}var Bie={asc:"ASCENDING",desc:"DESCENDING"},$ie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hie={and:"AND",or:"OR"},OA=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function kA(t,e){return t.useProto3Json||aC(e)?e:{value:e}}function Gb(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function c5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Gie(t,e){return Gb(t,e.toTimestamp())}function ws(t){return Jt(!!t),We.fromTimestamp(function(n){let i=Ic(n);return new Ti(i.seconds,i.nanos)}(t))}function UM(t,e){return RA(t,e).canonicalString()}function RA(t,e){let n=function(r){return new In(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function l5(t){let e=In.fromString(t);return Jt(p5(e)),e}function NA(t,e){return UM(t.databaseId,e.path)}function Kx(t,e){let n=l5(e);if(n.get(1)!==t.databaseId.projectId)throw new Ce(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ce(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(d5(n))}function u5(t,e){return UM(t.databaseId,e)}function zie(t){let e=l5(t);return e.length===4?In.emptyPath():d5(e)}function FA(t){return new In(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function d5(t){return Jt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function A4(t,e,n){return{name:NA(t,e),fields:n.value.mapValue.fields}}function qie(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(h,m){return h.useProto3Json?(Jt(m===void 0||typeof m=="string"),tr.fromBase64String(m||"")):(Jt(m===void 0||m instanceof Uint8Array),tr.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){let m=h.code===void 0?W.UNKNOWN:a5(h.code);return new Ce(m,h.message||"")}(a);n=new $b(i,r,o,l||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Kx(t,i.document.name),o=ws(i.document.updateTime),a=i.document.createTime?ws(i.document.createTime):We.min(),l=new Mo({mapValue:{fields:i.document.fields}}),d=Oo.newFoundDocument(r,o,a,l),h=i.targetIds||[],m=i.removedTargetIds||[];n=new Lh(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Kx(t,i.document),o=i.readTime?ws(i.readTime):We.min(),a=Oo.newNoDocument(r,o),l=i.removedTargetIds||[];n=new Lh([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Kx(t,i.document),o=i.removedTargetIds||[];n=new Lh([],o,r,null)}else{if(!("filter"in e))return Ve();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,a=new AA(r,o),l=i.targetId;n=new Bb(l,a)}}return n}function Wie(t,e){let n;if(e instanceof pu)n={update:A4(t,e.key,e.value)};else if(e instanceof Jg)n={delete:NA(t,e.key)};else if(e instanceof ga)n={update:A4(t,e.key,e.data),updateMask:nre(e.fieldMask)};else{if(!(e instanceof SA))return Ve();n={verify:NA(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,a){let l=a.transform;if(l instanceof Wh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof hu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof fu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Kh)return{fieldPath:a.field.canonicalString(),increment:l.Ie};throw Ve()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:Gie(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ve()}(t,e.precondition)),n}function Kie(t,e){return t&&t.length>0?(Jt(e!==void 0),t.map(n=>function(r,o){let a=r.updateTime?ws(r.updateTime):ws(o);return a.isEqual(We.min())&&(a=ws(o)),new IA(a,r.transformResults||[])}(n,e))):[]}function Yie(t,e){return{documents:[u5(t,e.path)]}}function Qie(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=u5(t,r);let o=function(h){if(h.length!==0)return f5(Es.create(h,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let a=function(h){if(h.length!==0)return h.map(m=>function(y){return{field:kh(y.field),direction:Zie(y.dir)}}(m))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);let l=kA(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ut:n,parent:r}}function Jie(t){let e=zie(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Jt(i===1);let m=n.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(v){let y=h5(v);return y instanceof Es&&H4(y)?y.getFilters():[y]}(n.where));let a=[];n.orderBy&&(a=function(v){return v.map(y=>function(w){return new Gh(Rh(w.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(v){let y;return y=typeof v=="object"?v.value:v,aC(y)?null:y}(n.limit));let d=null;n.startAt&&(d=function(v){let y=!!v.before,E=v.values||[];return new Hh(E,y)}(n.startAt));let h=null;return n.endAt&&(h=function(v){let y=!v.before,E=v.values||[];return new Hh(E,y)}(n.endAt)),Cie(e,r,a,o,l,"F",d,h)}function Xie(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function h5(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=Rh(n.unaryFilter.field);return Zn.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Rh(n.unaryFilter.field);return Zn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Rh(n.unaryFilter.field);return Zn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let a=Rh(n.unaryFilter.field);return Zn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}}(t):t.fieldFilter!==void 0?function(n){return Zn.create(Rh(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Es.create(n.compositeFilter.filters.map(i=>h5(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ve()}}(n.compositeFilter.op))}(t):Ve()}function Zie(t){return Bie[t]}function ere(t){return $ie[t]}function tre(t){return Hie[t]}function kh(t){return{fieldPath:t.canonicalString()}}function Rh(t){return Ir.fromServerFormat(t.fieldPath)}function f5(t){return t instanceof Zn?function(n){if(n.op==="=="){if(m4(n.value))return{unaryFilter:{field:kh(n.field),op:"IS_NAN"}};if(p4(n.value))return{unaryFilter:{field:kh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(m4(n.value))return{unaryFilter:{field:kh(n.field),op:"IS_NOT_NAN"}};if(p4(n.value))return{unaryFilter:{field:kh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kh(n.field),op:ere(n.op),value:n.value}}}(t):t instanceof Es?function(n){let i=n.getFilters().map(r=>f5(r));return i.length===1?i[0]:{compositeFilter:{op:tre(n.op),filters:i}}}(t):Ve()}function nre(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function p5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Zg=class t{constructor(e,n,i,r,o=We.min(),a=We.min(),l=tr.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=d}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var LA=class{constructor(e){this.ct=e}};function ire(t){let e=Jie({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?EA(e,e.limit,"L"):e}var zb=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(En(e.integerValue));else if("doubleValue"in e){let i=En(e.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),Kg(i)?n.dt(0):n.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(n,20),typeof i=="string"?n.At(i):(n.At(`${i.seconds||""}`),n.dt(i.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Sc(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in e?U4(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Ve()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let i=e.fields||{};this.Et(n,55);for(let r of Object.keys(i))this.Rt(r,n),this.It(i[r],n)}wt(e,n){let i=e.values||[];this.Et(n,50);for(let r of i)this.It(r,n)}gt(e,n){this.Et(n,37),Ae.fromName(e).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};zb.bt=new zb;var VA=class{constructor(){this._n=new jA}addToCollectionParentIndex(e,n){return this._n.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(uu.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(uu.min())}updateCollectionGroup(e,n,i){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}},jA=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Ui(In.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ui(In.comparator)).toArray()}};var Wbe=new Uint8Array(0);var gs=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};gs.DEFAULT_COLLECTION_PERCENTILE=10,gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gs.DEFAULT=new gs(41943040,gs.DEFAULT_COLLECTION_PERCENTILE,gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gs.DISABLED=new gs(-1,0,0);var ev=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Bn(){return new t(-1)}};var UA=class{constructor(){this.changes=new Tc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Oo.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?K.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var BA=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var $A=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Wg(i.mutation,r,vs.empty(),Ti.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,gt()).next(()=>i))}getLocalViewOfDocuments(e,n,i=gt()){let r=su();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let a=Hg();return o.forEach((l,d)=>{a=a.insert(l,d.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){let i=su();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,gt()))}populateOverlays(e,n,i){let r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,r){let o=ma(),a=qg(),l=function(){return qg()}();return n.forEach((d,h)=>{let m=i.get(h.key);r.has(h.key)&&(m===void 0||m.mutation instanceof ga)?o=o.insert(h.key,h):m!==void 0?(a.set(h.key,m.mutation.getFieldMask()),Wg(m.mutation,h,m.mutation.getFieldMask(),Ti.now())):a.set(h.key,vs.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((h,m)=>a.set(h,m)),n.forEach((h,m)=>{var v;return l.set(h,new BA(m,(v=a.get(h))!==null&&v!==void 0?v:null))}),l))}recalculateAndSaveOverlays(e,n){let i=qg(),r=new Sn((a,l)=>a-l),o=gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(let l of a)l.keys().forEach(d=>{let h=n.get(d);if(h===null)return;let m=i.get(d)||vs.empty();m=l.applyToLocalView(h,m),i.set(d,m);let v=(r.get(l.batchId)||gt()).add(d);r=r.insert(l.batchId,v)})}).next(()=>{let a=[],l=r.getReverseIterator();for(;l.hasNext();){let d=l.getNext(),h=d.key,m=d.value,v=X4();m.forEach(y=>{if(!o.has(y)){let E=o5(n.get(y),i.get(y));E!==null&&v.set(y,E),o=o.add(y)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,v))}return K.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(a){return Ae.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Eie(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{let a=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):K.resolve(su()),l=-1,d=o;return a.next(h=>K.forEach(h,(m,v)=>(l<v.largestBatchId&&(l=v.largestBatchId),o.get(m)?K.resolve():this.remoteDocumentCache.getEntry(e,m).next(y=>{d=d.insert(m,y)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,d,h,gt())).next(m=>({batchId:l,changes:J4(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next(i=>{let r=Hg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let o=n.collectionGroup,a=Hg();return this.indexManager.getCollectionParents(e,o).next(l=>K.forEach(l,d=>{let h=function(v,y){return new zh(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,i,r).next(m=>{m.forEach((v,y)=>{a=a.insert(v,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(a=>{o.forEach((d,h)=>{let m=h.getKey();a.get(m)===null&&(a=a.insert(m,Oo.newInvalidDocument(m)))});let l=Hg();return a.forEach((d,h)=>{let m=o.get(d);m!==void 0&&Wg(m.mutation,h,vs.empty(),Ti.now()),lC(n,h)&&(l=l.insert(d,h))}),l})}};var HA=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return K.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:ws(r.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:ire(r.bundledQuery),readTime:ws(r.readTime)}}(n)),K.resolve()}};var GA=class{constructor(){this.overlays=new Sn(Ae.comparator),this.hr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){let i=su();return K.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.ht(e,n,o)}),K.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(i)),K.resolve()}getOverlaysForCollection(e,n,i){let r=su(),o=n.length+1,a=new Ae(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){let d=l.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&d.largestBatchId>i&&r.set(d.getKey(),d)}return K.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new Sn((h,m)=>h-m),a=this.overlays.getIterator();for(;a.hasNext();){let h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let m=o.get(h.largestBatchId);m===null&&(m=su(),o=o.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}let l=su(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,m)=>l.set(h,m)),!(l.size()>=r)););return K.resolve(l)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let a=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new xA(n,i));let o=this.hr.get(n);o===void 0&&(o=gt(),this.hr.set(n,o)),this.hr.set(n,o.add(i.key))}};var tv=class{constructor(){this.Pr=new Ui(Wn.Ir),this.Tr=new Ui(Wn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let i=new Wn(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new Wn(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){let n=new Ae(new In([])),i=new Wn(n,e),r=new Wn(n,e+1),o=[];return this.Tr.forEachInRange([i,r],a=>{this.Ar(a),o.push(a.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new Ae(new In([])),i=new Wn(n,e),r=new Wn(n,e+1),o=gt();return this.Tr.forEachInRange([i,r],a=>{o=o.add(a.key)}),o}containsKey(e){let n=new Wn(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},Wn=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Ae.comparator(e.key,n.key)||kt(e.pr,n.pr)}static Er(e,n){return kt(e.pr,n.pr)||Ae.comparator(e.key,n.key)}};var zA=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ui(Wn.Ir)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new TA(o,n,i,r);this.mutationQueue.push(a);for(let l of r)this.wr=this.wr.add(new Wn(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return K.resolve(a)}lookupMutationBatch(e,n){return K.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.br(i),o=r<0?0:r;return K.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new Wn(n,0),r=new Wn(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([i,r],a=>{let l=this.Sr(a.pr);o.push(l)}),K.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ui(kt);return n.forEach(r=>{let o=new Wn(r,0),a=new Wn(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,a],l=>{i=i.add(l.pr)})}),K.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=i;Ae.isDocumentKey(o)||(o=o.child(""));let a=new Wn(new Ae(o),0),l=new Ui(kt);return this.wr.forEachWhile(d=>{let h=d.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(l=l.add(d.pr)),!0)},a),K.resolve(this.Dr(l))}Dr(e){let n=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Jt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return K.forEach(n.mutations,r=>{let o=new Wn(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){let i=new Wn(n,0),r=this.wr.firstAfterOrEqual(i);return K.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var qA=class{constructor(e){this.vr=e,this.docs=function(){return new Sn(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),o=r?r.size:0,a=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return K.resolve(i?i.document.mutableCopy():Oo.newInvalidDocument(n))}getEntries(e,n){let i=ma();return n.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Oo.newInvalidDocument(r))}),K.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=ma(),a=n.path,l=new Ae(a.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){let{key:h,value:{document:m}}=d.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||fie(hie(m),i)<=0||(r.has(m.key)||lC(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return K.resolve(o)}getAllFromCollectionGroup(e,n,i,r){Ve()}Fr(e,n){return K.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new WA(this)}getSize(e){return K.resolve(this.size)}},WA=class extends UA{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),K.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var KA=class{constructor(e){this.persistence=e,this.Mr=new Tc(n=>VM(n),jM),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.Or=0,this.Nr=new tv,this.targetCount=0,this.Br=ev.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),K.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Br=new ev(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.qn(n),K.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,i){let r=0,o=[];return this.Mr.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.Mr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),K.waitFor(o).next(()=>r)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){let i=this.Mr.get(n)||null;return K.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),K.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);let r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(a=>{o.push(r.markPotentiallyOrphaned(e,a))}),K.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),K.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Nr.gr(n);return K.resolve(i)}containsKey(e,n){return K.resolve(this.Nr.containsKey(n))}};var YA=class{constructor(e,n){this.Lr={},this.overlays={},this.kr=new V4(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new KA(this),this.indexManager=new VA,this.remoteDocumentCache=function(r){return new qA(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new LA(n),this.$r=new HA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Lr[e.toKey()];return i||(i=new zA(n,this.referenceDelegate),this.Lr[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){le("MemoryPersistence","Starting transaction:",e);let r=new QA(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(e,n){return K.or(Object.values(this.Lr).map(i=>()=>i.containsKey(e,n)))}},QA=class extends sA{constructor(e){super(),this.currentSequenceNumber=e}},JA=class t{constructor(e){this.persistence=e,this.zr=new tv,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw Ve()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),K.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),K.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Jr,i=>{let r=Ae.fromPath(i);return this.Yr(e,r).next(o=>{o||n.removeEntry(r,We.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return K.or([()=>K.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var XA=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=gt(),r=gt();for(let o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new t(e,n.fromCache,i,r)}};var ZA=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var eM=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return vU()?8:Nb.v(Wt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){let o={result:null};return this.ji(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Hi(e,n,r,i).next(a=>{o.result=a})}).next(()=>{if(o.result)return;let a=new ZA;return this.Ji(e,n,a).next(l=>{if(o.result=l,this.Ui)return this.Yi(e,n,a,l.size)})}).next(()=>o.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?($g()<=ft.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Oh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),K.resolve()):($g()<=ft.DEBUG&&le("QueryEngine","Query:",Oh(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?($g()<=ft.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Oh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_s(n))):K.resolve())}ji(e,n){if(_4(n))return K.resolve(null);let i=_s(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=EA(n,null,"F"),i=_s(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let a=gt(...o);return this.zi.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(d=>{let h=this.Zi(n,l);return this.Xi(n,h,a,d.readTime)?this.ji(e,EA(n,null,"F")):this.es(e,h,n,d)}))})))}Hi(e,n,i,r){return _4(n)||r.isEqual(We.min())?K.resolve(null):this.zi.getDocuments(e,i).next(o=>{let a=this.Zi(n,o);return this.Xi(n,a,i,r)?K.resolve(null):($g()<=ft.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Oh(n)),this.es(e,a,n,die(r,-1)).next(l=>l))})}Zi(e,n){let i=new Ui(Y4(e));return n.forEach((r,o)=>{lC(e,o)&&(i=i.add(o))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(e,n,i){return $g()<=ft.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Oh(n)),this.zi.getDocumentsMatchingQuery(e,n,uu.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}};var tM=class{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new Sn(kt),this.rs=new Tc(o=>VM(o),jM),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $A(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function rre(t,e,n,i){return new tM(t,e,n,i)}function m5(t,e){return I(this,null,function*(){let n=Ke(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{let a=[],l=[],d=gt();for(let h of r){a.push(h.batchId);for(let m of h.mutations)d=d.add(m.key)}for(let h of o){l.push(h.batchId);for(let m of h.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(i,d).next(h=>({us:h,removedBatchIds:a,addedBatchIds:l}))})})})}function ore(t,e){let n=Ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(l,d,h,m){let v=h.batch,y=v.keys(),E=K.resolve();return y.forEach(w=>{E=E.next(()=>m.getEntry(d,w)).next(S=>{let D=h.docVersions.get(w);Jt(D!==null),S.version.compareTo(D)<0&&(v.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),m.addEntry(S)))})}),E.next(()=>l.mutationQueue.removeMutationBatch(d,v))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let d=gt();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(d=d.add(l.batch.mutations[h].key));return d}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function g5(t){let e=Ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function sre(t,e){let n=Ke(t),i=e.snapshotVersion,r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let a=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;let l=[];e.targetChanges.forEach((m,v)=>{let y=r.get(v);if(!y)return;l.push(n.Qr.removeMatchingKeys(o,m.removedDocuments,v).next(()=>n.Qr.addMatchingKeys(o,m.addedDocuments,v)));let E=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(tr.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,i)),r=r.insert(v,E),function(S,D,O){return S.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(y,E,m)&&l.push(n.Qr.updateTargetData(o,E))});let d=ma(),h=gt();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),l.push(are(o,a,e.documentUpdates).next(m=>{d=m.cs,h=m.ls})),!i.isEqual(We.min())){let m=n.Qr.getLastRemoteSnapshotVersion(o).next(v=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,i));l.push(m)}return K.waitFor(l).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,h)).next(()=>d)}).then(o=>(n.ns=r,o))}function are(t,e,n){let i=gt(),r=gt();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let a=ma();return n.forEach((l,d)=>{let h=o.get(l);d.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),d.isNoDocument()&&d.version.isEqual(We.min())?(e.removeEntry(l,d.readTime),a=a.insert(l,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),a=a.insert(l,d)):le("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",d.version)}),{cs:a,ls:r}})}function cre(t,e){let n=Ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function lre(t,e){let n=Ke(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(o=>o?(r=o,K.resolve(r)):n.Qr.allocateTargetId(i).next(a=>(r=new Zg(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}function nM(t,e,n){return I(this,null,function*(){let i=Ke(t),r=i.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",o,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!sv(a))throw a;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function M4(t,e,n){let i=Ke(t),r=We.min(),o=gt();return i.persistence.runTransaction("Execute query","readwrite",a=>function(d,h,m){let v=Ke(d),y=v.rs.get(m);return y!==void 0?K.resolve(v.ns.get(y)):v.Qr.getTargetData(h,m)}(i,a,_s(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(a,l.targetId).next(d=>{o=d})}).next(()=>i.ts.getDocumentsMatchingQuery(a,e,n?r:We.min(),n?o:gt())).next(l=>(ure(i,Sie(e),l),{documents:l,hs:o})))}function ure(t,e,n){let i=t.ss.get(e)||We.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.ss.set(e,i)}var qb=class{constructor(){this.activeTargetIds=Pie()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var iM=class{constructor(){this.no=new qb,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new qb,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var rM=class{io(e){}shutdown(){}};var Wb=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ab=null;function Yx(){return Ab===null?Ab=function(){return 268435456+Math.round(2147483648*Math.random())}():Ab++,"0x"+Ab.toString(16)}var dre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var oM=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var ji="WebChannelConnection",sM=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=i+"://"+n.host,this.po=`projects/${r}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get wo(){return!1}So(n,i,r,o,a){let l=Yx(),d=this.bo(n,i.toUriEncodedString());le("RestConnection",`Sending RPC '${n}' ${l}:`,d,r);let h={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(h,o,a),this.Co(n,d,h,r).then(m=>(le("RestConnection",`Received RPC '${n}' ${l}: `,m),m),m=>{throw jh("RestConnection",`RPC '${n}' ${l} failed with error: `,m,"url: ",d,"request:",r),m})}vo(n,i,r,o,a,l){return this.So(n,i,r,o,a)}Do(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ef}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,a)=>n[a]=o),r&&r.headers.forEach((o,a)=>n[a]=o)}bo(n,i){let r=dre[n];return`${this.fo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,i,r){let o=Yx();return new Promise((a,l)=>{let d=new c4;d.setWithCredentials(!0),d.listenOnce(s4.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Db.NO_ERROR:let m=d.getResponseJson();le(ji,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case Db.TIMEOUT:le(ji,`RPC '${e}' ${o} timed out`),l(new Ce(W.DEADLINE_EXCEEDED,"Request time out"));break;case Db.HTTP_ERROR:let v=d.getStatus();if(le(ji,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);let E=y?.error;if(E&&E.status&&E.message){let w=function(D){let O=D.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(O)>=0?O:W.UNKNOWN}(E.status);l(new Ce(w,E.message))}else l(new Ce(W.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new Ce(W.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{le(ji,`RPC '${e}' ${o} completed.`)}});let h=JSON.stringify(r);le(ji,`RPC '${e}' ${o} sending request:`,r),d.send(n,"POST",h,i,15)})}Fo(e,n,i){let r=Yx(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=r4(),l=o4(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;let m=o.join("");le(ji,`Creating RPC '${e}' stream ${r}: ${m}`,d);let v=a.createWebChannel(m,d),y=!1,E=!1,w=new oM({lo:D=>{E?le(ji,`Not sending because RPC '${e}' stream ${r} is closed:`,D):(y||(le(ji,`Opening RPC '${e}' stream ${r} transport.`),v.open(),y=!0),le(ji,`RPC '${e}' stream ${r} sending:`,D),v.send(D))},ho:()=>v.close()}),S=(D,O,V)=>{D.listen(O,$=>{try{V($)}catch(x){setTimeout(()=>{throw x},0)}})};return S(v,Bg.EventType.OPEN,()=>{E||le(ji,`RPC '${e}' stream ${r} transport opened.`)}),S(v,Bg.EventType.CLOSE,()=>{E||(E=!0,le(ji,`RPC '${e}' stream ${r} transport closed`),w.Vo())}),S(v,Bg.EventType.ERROR,D=>{E||(E=!0,jh(ji,`RPC '${e}' stream ${r} transport errored:`,D),w.Vo(new Ce(W.UNAVAILABLE,"The operation could not be completed")))}),S(v,Bg.EventType.MESSAGE,D=>{var O;if(!E){let V=D.data[0];Jt(!!V);let $=V,x=$.error||((O=$[0])===null||O===void 0?void 0:O.error);if(x){le(ji,`RPC '${e}' stream ${r} received error:`,x);let te=x.status,U=function(Ge){let Ze=qn[Ge];if(Ze!==void 0)return a5(Ze)}(te),oe=x.message;U===void 0&&(U=W.INTERNAL,oe="Unknown error status: "+te+" with message "+x.message),E=!0,w.Vo(new Ce(U,oe)),v.close()}else le(ji,`RPC '${e}' stream ${r} received:`,V),w.mo(V)}}),S(l,a4.STAT_EVENT,D=>{D.stat===Wx.PROXY?le(ji,`RPC '${e}' stream ${r} detected buffering proxy`):D.stat===Wx.NOPROXY&&le(ji,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{w.Ro()},0),w}};function Qx(){return typeof document<"u"?document:null}function uC(t){return new OA(t,!0)}var Kb=class{constructor(e,n,i=1e3,r=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=i,this.xo=r,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),i=Math.max(0,Date.now()-this.Lo),r=Math.max(0,n-i);r>0&&le("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var Yb=class{constructor(e,n,i,r,o,a,l,d){this.oi=e,this.$o=i,this.Uo=r,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=d,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Kb(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return I(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return I(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return I(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(bs(n.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Wo===n&&this.o_(i,r)},i=>{e(()=>{let r=new Ce(W.UNKNOWN,"Fetching auth token failed: "+i.message);return this.__(r)})})}o_(e,n){let i=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{i(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(r=>{i(()=>this.__(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Yo(){this.state=5,this.jo.qo(()=>I(this,null,function*(){this.state=0,this.start()}))}__(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},aM=class extends Yb{constructor(e,n,i,r,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=qie(this.serializer,e),i=function(o){if(!("targetChange"in o))return We.min();let a=o.targetChange;return a.targetIds&&a.targetIds.length?We.min():a.readTime?ws(a.readTime):We.min()}(e);return this.listener.u_(n,i)}c_(e){let n={};n.database=FA(this.serializer),n.addTarget=function(o,a){let l,d=a.target;if(l=CA(d)?{documents:Yie(o,d)}:{query:Qie(o,d).ut},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=c5(o,a.resumeToken);let h=kA(o,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(We.min())>0){l.readTime=Gb(o,a.snapshotVersion.toTimestamp());let h=kA(o,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);let i=Xie(this.serializer,e);i&&(n.labels=i),this.t_(n)}l_(e){let n={};n.database=FA(this.serializer),n.removeTarget=e,this.t_(n)}},cM=class extends Yb{constructor(e,n,i,r,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Jt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=Kie(e.writeResults,e.commitTime),i=ws(e.commitTime);return this.listener.T_(i,n)}return Jt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=FA(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>Wie(this.serializer,i))};this.t_(n)}};var lM=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new Ce(W.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.So(e,RA(n,i),r,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ce(W.UNKNOWN,o.toString())})}vo(e,n,i,r,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,RA(n,i),r,a,l,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ce(W.UNKNOWN,a.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var uM=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(bs(n),this.g_=!1):le("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var dM=class{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(a=>{i.enqueueAndForget(()=>I(this,null,function*(){mu(this)&&(le("RemoteStore","Restarting streams for network reachability change."),yield function(d){return I(this,null,function*(){let h=Ke(d);h.v_.add(4),yield av(h),h.x_.set("Unknown"),h.v_.delete(4),yield dC(h)})}(this))}))}),this.x_=new uM(i,r)}};function dC(t){return I(this,null,function*(){if(mu(t))for(let e of t.F_)yield e(!0)})}function av(t){return I(this,null,function*(){for(let e of t.F_)yield e(!1)})}function v5(t,e){let n=Ke(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),HM(n)?$M(n):nf(n).Jo()&&BM(n,e))}function y5(t,e){let n=Ke(t),i=nf(n);n.C_.delete(e),i.Jo()&&_5(n,e),n.C_.size===0&&(i.Jo()?i.Xo():mu(n)&&n.x_.set("Unknown"))}function BM(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nf(t).c_(e)}function _5(t,e){t.O_.Oe(e),nf(t).l_(e)}function $M(t){t.O_=new PA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),nf(t).start(),t.x_.p_()}function HM(t){return mu(t)&&!nf(t).Ho()&&t.C_.size>0}function mu(t){return Ke(t).v_.size===0}function w5(t){t.O_=void 0}function hre(t){return I(this,null,function*(){t.C_.forEach((e,n)=>{BM(t,e)})})}function fre(t,e){return I(this,null,function*(){w5(t),HM(t)?(t.x_.S_(e),$M(t)):t.x_.set("Unknown")})}function pre(t,e,n){return I(this,null,function*(){if(t.x_.set("Online"),e instanceof $b&&e.state===2&&e.cause)try{yield function(r,o){return I(this,null,function*(){let a=o.cause;for(let l of o.targetIds)r.C_.has(l)&&(yield r.remoteSyncer.rejectListen(l,a),r.C_.delete(l),r.O_.removeTarget(l))})}(t,e)}catch(i){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Qb(t,i)}else if(e instanceof Lh?t.O_.$e(e):e instanceof Bb?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(We.min()))try{let i=yield g5(t.localStore);n.compareTo(i)>=0&&(yield function(o,a){let l=o.O_.it(a);return l.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){let m=o.C_.get(h);m&&o.C_.set(h,m.withResumeToken(d.resumeToken,a))}}),l.targetMismatches.forEach((d,h)=>{let m=o.C_.get(d);if(!m)return;o.C_.set(d,m.withResumeToken(tr.EMPTY_BYTE_STRING,m.snapshotVersion)),_5(o,d);let v=new Zg(m.target,d,h,m.sequenceNumber);BM(o,v)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n))}catch(i){le("RemoteStore","Failed to raise snapshot:",i),yield Qb(t,i)}})}function Qb(t,e,n){return I(this,null,function*(){if(!sv(e))throw e;t.v_.add(1),yield av(t),t.x_.set("Offline"),n||(n=()=>g5(t.localStore)),t.asyncQueue.enqueueRetryable(()=>I(this,null,function*(){le("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield dC(t)}))})}function b5(t,e){return e().catch(n=>Qb(t,n,e))}function hC(t){return I(this,null,function*(){let e=Ke(t),n=Dc(e),i=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;mre(e);)try{let r=yield cre(e.localStore,i);if(r===null){e.D_.length===0&&n.Xo();break}i=r.batchId,gre(e,r)}catch(r){yield Qb(e,r)}C5(e)&&E5(e)})}function mre(t){return mu(t)&&t.D_.length<10}function gre(t,e){t.D_.push(e);let n=Dc(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function C5(t){return mu(t)&&!Dc(t).Ho()&&t.D_.length>0}function E5(t){Dc(t).start()}function vre(t){return I(this,null,function*(){Dc(t).d_()})}function yre(t){return I(this,null,function*(){let e=Dc(t);for(let n of t.D_)e.I_(n.mutations)})}function _re(t,e,n){return I(this,null,function*(){let i=t.D_.shift(),r=DA.from(i,e,n);yield b5(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield hC(t)})}function wre(t,e){return I(this,null,function*(){e&&Dc(t).P_&&(yield function(i,r){return I(this,null,function*(){if(function(a){return Vie(a)&&a!==W.ABORTED}(r.code)){let o=i.D_.shift();Dc(i).Zo(),yield b5(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield hC(i)}})}(t,e)),C5(t)&&E5(t)})}function P4(t,e){return I(this,null,function*(){let n=Ke(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");let i=mu(n);n.v_.add(3),yield av(n),i&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield dC(n)})}function bre(t,e){return I(this,null,function*(){let n=Ke(t);e?(n.v_.delete(2),yield dC(n)):e||(n.v_.add(2),yield av(n),n.x_.set("Unknown"))})}function nf(t){return t.N_||(t.N_=function(n,i,r){let o=Ke(n);return o.R_(),new aM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:hre.bind(null,t),To:fre.bind(null,t),u_:pre.bind(null,t)}),t.F_.push(e=>I(this,null,function*(){e?(t.N_.Zo(),HM(t)?$M(t):t.x_.set("Unknown")):(yield t.N_.stop(),w5(t))}))),t.N_}function Dc(t){return t.B_||(t.B_=function(n,i,r){let o=Ke(n);return o.R_(),new cM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:vre.bind(null,t),To:wre.bind(null,t),E_:yre.bind(null,t),T_:_re.bind(null,t)}),t.F_.push(e=>I(this,null,function*(){e?(t.B_.Zo(),yield hC(t)):(yield t.B_.stop(),t.D_.length>0&&(le("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.B_}var hM=class t{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Po,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){let a=Date.now()+i,l=new t(e,n,a,r,o);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function GM(t,e){if(bs("AsyncQueue",`${e}: ${t}`),sv(t))return new Ce(W.UNAVAILABLE,`${e}: ${t}`);throw t}var Jb=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ae.comparator(n.key,i.key):(n,i)=>Ae.comparator(n.key,i.key),this.keyedMap=Hg(),this.sortedSet=new Sn(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var Xb=class{constructor(){this.L_=new Sn(Ae.comparator)}track(e){let n=e.doc.key,i=this.L_.get(n);i?e.type!==0&&i.type===3?this.L_=this.L_.insert(n,e):e.type===3&&i.type!==1?this.L_=this.L_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.L_=this.L_.remove(n):e.type===1&&i.type===2?this.L_=this.L_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Ve():this.L_=this.L_.insert(n,e)}k_(){let e=[];return this.L_.inorderTraversal((n,i)=>{e.push(i)}),e}},Qh=class t{constructor(e,n,i,r,o,a,l,d,h){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,i,r,o){let a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new t(e,n,Jb.emptySet(n),a,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var fM=class{constructor(){this.q_=void 0,this.Q_=[]}},pM=class{constructor(){this.queries=new Tc(e=>K4(e),cC),this.onlineState="Unknown",this.K_=new Set}};function Cre(t,e){return I(this,null,function*(){let n=Ke(t),i=e.query,r=!1,o=n.queries.get(i);if(o||(r=!0,o=new fM),r)try{o.q_=yield n.onListen(i)}catch(a){let l=GM(a,`Initialization of query '${Oh(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&zM(n)})}function Ere(t,e){return I(this,null,function*(){let n=Ke(t),i=e.query,r=!1,o=n.queries.get(i);if(o){let a=o.Q_.indexOf(e);a>=0&&(o.Q_.splice(a,1),r=o.Q_.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)})}function Ire(t,e){let n=Ke(t),i=!1;for(let r of e){let o=r.query,a=n.queries.get(o);if(a){for(let l of a.Q_)l.W_(r)&&(i=!0);a.q_=r}}i&&zM(n)}function Sre(t,e,n){let i=Ke(t),r=i.queries.get(e);if(r)for(let o of r.Q_)o.onError(n);i.queries.delete(e)}function zM(t){t.K_.forEach(e=>{e.next()})}var mM=class{constructor(e,n,i){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=i||{}}W_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Qh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;let i=n!=="Offline";return(!this.options.Z_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;let n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Qh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}};var Zb=class{constructor(e){this.key=e}},eC=class{constructor(e){this.key=e}},gM=class{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=gt(),this.mutatedKeys=gt(),this.ua=Y4(e),this.ca=new Jb(this.ua)}get la(){return this.oa}ha(e,n){let i=n?n.Pa:new Xb,r=n?n.ca:this.ca,o=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1,d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((m,v)=>{let y=r.get(m),E=lC(this.query,v)?v:null,w=!!y&&this.mutatedKeys.has(y.key),S=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations),D=!1;y&&E?y.data.isEqual(E.data)?w!==S&&(i.track({type:3,doc:E}),D=!0):this.Ia(y,E)||(i.track({type:2,doc:E}),D=!0,(d&&this.ua(E,d)>0||h&&this.ua(E,h)<0)&&(l=!0)):!y&&E?(i.track({type:0,doc:E}),D=!0):y&&!E&&(i.track({type:1,doc:y}),D=!0,(d||h)&&(l=!0)),D&&(E?(a=a.add(E),o=S?o.add(m):o.delete(m)):(a=a.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){let m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),o=o.delete(m.key),i.track({type:1,doc:m})}return{ca:a,Pa:i,Xi:l,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;let a=e.Pa.k_();a.sort((m,v)=>function(E,w){let S=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return S(E)-S(w)}(m.type,v.type)||this.ua(m.doc,v.doc)),this.Ta(i),r=r!=null&&r;let l=n&&!r?this.Ea():[],d=this.aa.size===0&&this.current&&!r?1:0,h=d!==this._a;return this._a=d,a.length!==0||h?{snapshot:new Qh(this.query,e.ca,o,a,e.mutatedKeys,d===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),da:l}:{da:l}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Xb,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];let e=this.aa;this.aa=gt(),this.ca.forEach(i=>{this.Aa(i.key)&&(this.aa=this.aa.add(i.key))});let n=[];return e.forEach(i=>{this.aa.has(i)||n.push(new eC(i))}),this.aa.forEach(i=>{e.has(i)||n.push(new Zb(i))}),n}Ra(e){this.oa=e.hs,this.aa=gt();let n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Qh.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}},vM=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},yM=class{constructor(e){this.key=e,this.ma=!1}},_M=class{constructor(e,n,i,r,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.fa={},this.ga=new Tc(l=>K4(l),cC),this.pa=new Map,this.ya=new Set,this.wa=new Sn(Ae.comparator),this.Sa=new Map,this.ba=new tv,this.Da={},this.Ca=new Map,this.va=ev.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}};function Tre(t,e){return I(this,null,function*(){let n=Fre(t),i,r,o=n.ga.get(e);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),r=o.view.Va();else{let a=yield lre(n.localStore,_s(e)),l=n.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield Dre(n,e,i,l==="current",a.resumeToken),n.isPrimaryClient&&v5(n.remoteStore,a)}return r})}function Dre(t,e,n,i,r){return I(this,null,function*(){t.Ma=(v,y,E)=>function(S,D,O,V){return I(this,null,function*(){let $=D.view.ha(O);$.Xi&&($=yield M4(S.localStore,D.query,!1).then(({documents:oe})=>D.view.ha(oe,$)));let x=V&&V.targetChanges.get(D.targetId),te=V&&V.targetMismatches.get(D.targetId)!=null,U=D.view.applyChanges($,S.isPrimaryClient,x,te);return k4(S,D.targetId,U.da),U.snapshot})}(t,v,y,E);let o=yield M4(t.localStore,e,!0),a=new gM(e,o.hs),l=a.ha(o.documents),d=Xg.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),h=a.applyChanges(l,t.isPrimaryClient,d);k4(t,n,h.da);let m=new vM(e,n,a);return t.ga.set(e,m),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),h.snapshot})}function xre(t,e){return I(this,null,function*(){let n=Ke(t),i=n.ga.get(e),r=n.pa.get(i.targetId);if(r.length>1)return n.pa.set(i.targetId,r.filter(o=>!cC(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||(yield nM(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),y5(n.remoteStore,i.targetId),wM(n,i.targetId)}).catch(ov))):(wM(n,i.targetId),yield nM(n.localStore,i.targetId,!0))})}function Are(t,e,n){return I(this,null,function*(){let i=Lre(t);try{let r=yield function(a,l){let d=Ke(a),h=Ti.now(),m=l.reduce((E,w)=>E.add(w.key),gt()),v,y;return d.persistence.runTransaction("Locally write mutations","readwrite",E=>{let w=ma(),S=gt();return d.os.getEntries(E,m).next(D=>{w=D,w.forEach((O,V)=>{V.isValidDocument()||(S=S.add(O))})}).next(()=>d.localDocuments.getOverlayedDocuments(E,w)).next(D=>{v=D;let O=[];for(let V of l){let $=Lie(V,v.get(V.key).overlayedDocument);$!=null&&O.push(new ga(V.key,$,B4($.value.mapValue),Cc.exists(!0)))}return d.mutationQueue.addMutationBatch(E,h,O,l)}).next(D=>{y=D;let O=D.applyToLocalDocumentSet(v,S);return d.documentOverlayCache.saveOverlays(E,D.batchId,O)})}).then(()=>({batchId:y.batchId,changes:J4(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,d){let h=a.Da[a.currentUser.toKey()];h||(h=new Sn(kt)),h=h.insert(l,d),a.Da[a.currentUser.toKey()]=h}(i,r.batchId,n),yield cv(i,r.changes),yield hC(i.remoteStore)}catch(r){let o=GM(r,"Failed to persist write");n.reject(o)}})}function I5(t,e){return I(this,null,function*(){let n=Ke(t);try{let i=yield sre(n.localStore,e);e.targetChanges.forEach((r,o)=>{let a=n.Sa.get(o);a&&(Jt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.ma=!0:r.modifiedDocuments.size>0?Jt(a.ma):r.removedDocuments.size>0&&(Jt(a.ma),a.ma=!1))}),yield cv(n,i,e)}catch(i){yield ov(i)}})}function O4(t,e,n){let i=Ke(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ga.forEach((o,a)=>{let l=a.view.U_(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){let d=Ke(a);d.onlineState=l;let h=!1;d.queries.forEach((m,v)=>{for(let y of v.Q_)y.U_(l)&&(h=!0)}),h&&zM(d)}(i.eventManager,e),r.length&&i.fa.u_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Mre(t,e,n){return I(this,null,function*(){let i=Ke(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Sa.get(e),o=r&&r.key;if(o){let a=new Sn(Ae.comparator);a=a.insert(o,Oo.newNoDocument(o,We.min()));let l=gt().add(o),d=new Ub(We.min(),new Map,new Sn(kt),a,l);yield I5(i,d),i.wa=i.wa.remove(o),i.Sa.delete(e),qM(i)}else yield nM(i.localStore,e,!1).then(()=>wM(i,e,n)).catch(ov)})}function Pre(t,e){return I(this,null,function*(){let n=Ke(t),i=e.batch.batchId;try{let r=yield ore(n.localStore,e);T5(n,i,null),S5(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield cv(n,r)}catch(r){yield ov(r)}})}function Ore(t,e,n){return I(this,null,function*(){let i=Ke(t);try{let r=yield function(a,l){let d=Ke(a);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return d.mutationQueue.lookupMutationBatch(h,l).next(v=>(Jt(v!==null),m=v.keys(),d.mutationQueue.removeMutationBatch(h,v))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,l)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>d.localDocuments.getDocuments(h,m))})}(i.localStore,e);T5(i,e,n),S5(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield cv(i,r)}catch(r){yield ov(r)}})}function S5(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function T5(t,e,n){let i=Ke(t),r=i.Da[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Da[i.currentUser.toKey()]=r}}function wM(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.pa.get(e))t.ga.delete(i),n&&t.fa.xa(i,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(i=>{t.ba.containsKey(i)||D5(t,i)})}function D5(t,e){t.ya.delete(e.path.canonicalString());let n=t.wa.get(e);n!==null&&(y5(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),qM(t))}function k4(t,e,n){for(let i of n)i instanceof Zb?(t.ba.addReference(i.key,e),kre(t,i)):i instanceof eC?(le("SyncEngine","Document no longer in limbo: "+i.key),t.ba.removeReference(i.key,e),t.ba.containsKey(i.key)||D5(t,i.key)):Ve()}function kre(t,e){let n=e.key,i=n.path.canonicalString();t.wa.get(n)||t.ya.has(i)||(le("SyncEngine","New document in limbo: "+n),t.ya.add(i),qM(t))}function qM(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){let e=t.ya.values().next().value;t.ya.delete(e);let n=new Ae(In.fromString(e)),i=t.va.next();t.Sa.set(i,new yM(n)),t.wa=t.wa.insert(n,i),v5(t.remoteStore,new Zg(_s(W4(n.path)),i,"TargetPurposeLimboResolution",V4._e))}}function cv(t,e,n){return I(this,null,function*(){let i=Ke(t),r=[],o=[],a=[];i.ga.isEmpty()||(i.ga.forEach((l,d)=>{a.push(i.Ma(d,e,n).then(h=>{if((h||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,h?.fromCache?"not-current":"current"),h){r.push(h);let m=XA.Ki(d.targetId,h);o.push(m)}}))}),yield Promise.all(a),i.fa.u_(r),yield function(d,h){return I(this,null,function*(){let m=Ke(d);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>K.forEach(h,y=>K.forEach(y.qi,E=>m.persistence.referenceDelegate.addReference(v,y.targetId,E)).next(()=>K.forEach(y.Qi,E=>m.persistence.referenceDelegate.removeReference(v,y.targetId,E)))))}catch(v){if(!sv(v))throw v;le("LocalStore","Failed to update sequence numbers: "+v)}for(let v of h){let y=v.targetId;if(!v.fromCache){let E=m.ns.get(y),w=E.snapshotVersion,S=E.withLastLimboFreeSnapshotVersion(w);m.ns=m.ns.insert(y,S)}}})}(i.localStore,o))})}function Rre(t,e){return I(this,null,function*(){let n=Ke(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());let i=yield m5(n.localStore,e);n.currentUser=e,function(o,a){o.Ca.forEach(l=>{l.forEach(d=>{d.reject(new Ce(W.CANCELLED,a))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield cv(n,i.us)}})}function Nre(t,e){let n=Ke(t),i=n.Sa.get(e);if(i&&i.ma)return gt().add(i.key);{let r=gt(),o=n.pa.get(e);if(!o)return r;for(let a of o){let l=n.ga.get(a);r=r.unionWith(l.view.la)}return r}}function Fre(t){let e=Ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=I5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mre.bind(null,e),e.fa.u_=Ire.bind(null,e.eventManager),e.fa.xa=Sre.bind(null,e.eventManager),e}function Lre(t){let e=Ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Pre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ore.bind(null,e),e}var tC=class{constructor(){this.synchronizeTabs=!1}initialize(e){return I(this,null,function*(){this.serializer=uC(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return rre(this.persistence,new eM,e.initialUser,this.serializer)}createPersistence(e){return new YA(JA.Hr,this.serializer)}createSharedClientState(e){return new iM}terminate(){return I(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var bM=class{initialize(e,n){return I(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>O4(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rre.bind(null,this.syncEngine),yield bre(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new pM}()}createDatastore(e){let n=uC(e.databaseInfo.databaseId),i=function(o){return new sM(o)}(e.databaseInfo);return function(o,a,l,d){return new lM(o,a,l,d)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,a,l){return new dM(i,r,o,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>O4(this.syncEngine,n,0),function(){return Wb.D()?new Wb:new rM}())}createSyncEngine(e,n){return function(r,o,a,l,d,h,m){let v=new _M(r,o,a,l,d,h);return m&&(v.Fa=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return I(this,null,function*(){var e;yield function(i){return I(this,null,function*(){let r=Ke(i);le("RemoteStore","RemoteStore shutting down."),r.v_.add(5),yield av(r),r.M_.shutdown(),r.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var CM=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):bs("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var EM=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=vi.UNAUTHENTICATED,this.clientId=kb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>I(this,null,function*(){le("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(le("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ce(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Po;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=GM(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function Jx(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>I(this,null,function*(){i.isEqual(r)||(yield m5(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function R4(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield jre(t);le("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>P4(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>P4(e.remoteStore,r)),t._onlineComponents=e})}function Vre(t){return t.name==="FirebaseError"?t.code===W.FAILED_PRECONDITION||t.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function jre(t){return I(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Jx(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!Vre(n))throw n;jh("Error using user provided cache. Falling back to memory cache: "+n),yield Jx(t,new tC)}}else le("FirestoreClient","Using default OfflineComponentProvider"),yield Jx(t,new tC);return t._offlineComponents})}function x5(t){return I(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),yield R4(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),yield R4(t,new bM))),t._onlineComponents})}function Ure(t){return x5(t).then(e=>e.syncEngine)}function Bre(t){return I(this,null,function*(){let e=yield x5(t),n=e.eventManager;return n.onListen=Tre.bind(null,e.syncEngine),n.onUnlisten=xre.bind(null,e.syncEngine),n})}function $re(t,e,n={}){let i=new Po;return t.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return function(o,a,l,d,h){let m=new CM({next:y=>{a.enqueueAndForget(()=>Ere(o,v)),y.fromCache&&d.source==="server"?h.reject(new Ce(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),v=new mM(l,m,{includeMetadataChanges:!0,Z_:!0});return Cre(o,v)}(yield Bre(t),t.asyncQueue,e,n,i)})),i.promise}function A5(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var N4=new Map;function M5(t,e,n){if(!n)throw new Ce(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Hre(t,e,n,i){if(e===!0&&i===!0)throw new Ce(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function F4(t){if(!Ae.isDocumentKey(t))throw new Ce(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function L4(t){if(Ae.isDocumentKey(t))throw new Ce(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function WM(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve()}function Jh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ce(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=WM(t);throw new Ce(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var nC=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ce(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Hre("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A5((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Xh=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ce(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ce(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nC(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Xx;switch(i.type){case"firstParty":return new nA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ce(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=N4.get(n);i&&(le("ComponentProvider","Removing Datastore"),N4.delete(n),i.terminate())}(this),Promise.resolve()}};function P5(t,e,n,i={}){var r;let o=(t=Jh(t,Xh))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&jh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),i.mockUserToken){let l,d;if(typeof i.mockUserToken=="string")l=i.mockUserToken,d=vi.MOCK_USER;else{l=pU(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new Ce(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new vi(h)}t._authCredentials=new Zx(new Ob(l,d))}}var iC=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Gr=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ec(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ec=class t extends iC{constructor(e,n,i){super(e,n,W4(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Gr(this.firestore,null,new Ae(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function O5(t,e,...n){if(t=Je(t),M5("collection","path",e),t instanceof Xh){let i=In.fromString(e,...n);return L4(i),new Ec(t,null,i)}{if(!(t instanceof Gr||t instanceof Ec))throw new Ce(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(In.fromString(e,...n));return L4(i),new Ec(t.firestore,null,i)}}function k5(t,e,...n){if(t=Je(t),arguments.length===1&&(e=kb.newId()),M5("doc","path",e),t instanceof Xh){let i=In.fromString(e,...n);return F4(i),new Gr(t,null,new Ae(i))}{if(!(t instanceof Gr||t instanceof Ec))throw new Ce(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(In.fromString(e,...n));return F4(i),new Gr(t.firestore,t instanceof Ec?t.converter:null,new Ae(i))}}var IM=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Kb(this,"async_queue_retry"),this._u=()=>{let n=Qx();n&&le("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Qx();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=Qx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new Po;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return I(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!sv(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(i=>{this.ru=i,this.iu=!1;let r=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(i);throw bs("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.iu=!1,i))));return this.Xa=n,n}enqueueAfterDelay(e,n,i){this.au(),this.ou.indexOf(e)>-1&&(n=0);let r=hM.createAndSchedule(this,e,n,i,o=>this.lu(o));return this.nu.push(r),r}au(){this.ru&&Ve()}verifyOperationInProgress(){}hu(){return I(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};var Zh=class extends Xh{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new IM}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||F5(this),this._firestoreClient.terminate()}};function R5(t,e){let n=typeof t=="object"?t:Vl(),i=typeof t=="string"?t:e||"(default)",r=Ll(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=fU("firestore");o&&P5(r,...o)}return r}function N5(t){return t._firestoreClient||F5(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function F5(t){var e,n,i;let r=t._freezeSettings(),o=function(l,d,h,m){return new uA(l,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,A5(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new EM(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var nv=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(tr.fromBase64String(e))}catch(n){throw new Ce(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var iv=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ce(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var rC=class{constructor(e){this._methodName=e}};var rv=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ce(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ce(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return kt(this._lat,e._lat)||kt(this._long,e._long)}};var Gre=/^__.*__$/,SM=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ga(e,this.data,this.fieldMask,n,this.fieldTransforms):new pu(e,this.data,n,this.fieldTransforms)}};function L5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}var TM=class t{constructor(e,n,i,r,o,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Au({path:i,Vu:!1});return r.mu(e),r}fu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Au({path:i,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return oC(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(L5(this.du)&&Gre.test(e))throw this.pu('Document fields cannot begin and end with "__"')}},DM=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||uC(e)}Su(e,n,i,r=!1){return new TM({du:e,methodName:n,wu:i,path:Ir.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function zre(t){let e=t._freezeSettings(),n=uC(t._databaseId);return new DM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qre(t,e,n,i,r,o={}){let a=t.Su(o.merge||o.mergeFields?2:0,e,n,r);B5("Data must be an object, but it was:",a,i);let l=j5(i,a),d,h;if(o.merge)d=new vs(a.fieldMask),h=a.fieldTransforms;else if(o.mergeFields){let m=[];for(let v of o.mergeFields){let y=Wre(e,v,n);if(!a.contains(y))throw new Ce(W.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Yre(m,y)||m.push(y)}d=new vs(m),h=a.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,h=a.fieldTransforms;return new SM(new Mo(l),d,h)}function V5(t,e){if(U5(t=Je(t)))return B5("Unsupported field value:",e,t),j5(t,e);if(t instanceof rC)return function(i,r){if(!L5(r.du))throw r.pu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.pu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(i,r){let o=[],a=0;for(let l of i){let d=V5(l,r.gu(a));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),a++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=Je(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Oie(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=Ti.fromDate(i);return{timestampValue:Gb(r.serializer,o)}}if(i instanceof Ti){let o=new Ti(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Gb(r.serializer,o)}}if(i instanceof rv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof nv)return{bytesValue:c5(r.serializer,i._byteString)};if(i instanceof Gr){let o=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(o))throw r.pu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:UM(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.pu(`Unsupported field value: ${WM(i)}`)}(t,e)}function j5(t,e){let n={};return j4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tf(t,(i,r)=>{let o=V5(r,e.Ru(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function U5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ti||t instanceof rv||t instanceof nv||t instanceof Gr||t instanceof rC)}function B5(t,e,n){if(!U5(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=WM(n);throw i==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+i)}}function Wre(t,e,n){if((e=Je(e))instanceof iv)return e._internalPath;if(typeof e=="string")return $5(t,e);throw oC("Field path arguments must be of type string or ",t,!1,void 0,n)}var Kre=new RegExp("[~\\*/\\[\\]]");function $5(t,e,n){if(e.search(Kre)>=0)throw oC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new iv(...e.split("."))._internalPath}catch{throw oC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function oC(t,e,n,i,r){let o=i&&!i.isEmpty(),a=r!==void 0,l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let d="";return(o||a)&&(d+=" (found",o&&(d+=` in field ${i}`),a&&(d+=` in document ${r}`),d+=")"),new Ce(W.INVALID_ARGUMENT,l+t+d)}function Yre(t,e){return t.some(n=>n.isEqual(e))}var sC=class{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Gr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new xM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(H5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},xM=class extends sC{data(){return super.data()}};function H5(t,e){return typeof e=="string"?$5(t,e):e instanceof iv?e._internalPath:e._delegate._internalPath}function Qre(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ce(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var AM=class{convertValue(e,n="none"){switch(du(e)){case 0:return null;case 1:return e.booleanValue;case 2:return En(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Sc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return tf(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new rv(En(e.latitude),En(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=FM(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Yg(e));default:return null}}convertTimestamp(e){let n=Ic(e);return new Ti(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=In.fromString(e);Jt(p5(i));let r=new Vb(i.get(1),i.get(3)),o=new Ae(i.popFirst(5));return r.isEqual(n)||bs(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function Jre(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var Fh=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},MM=class extends sC{constructor(e,n,i,r,o,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(H5("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},Vh=class extends MM{data(e={}){return super.data(e)}},PM=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Fh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Vh(this._firestore,this._userDataWriter,i.key,i,new Fh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ce(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{let d=new Vh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Fh(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:d,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{let d=new Vh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Fh(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,m=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),m=a.indexOf(l.doc.key)),{type:Xre(l.type),doc:d,oldIndex:h,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Xre(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}var OM=class extends AM{constructor(e){super(),this.firestore=e}convertBytes(e){return new nv(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gr(this.firestore,null,n)}};function G5(t){t=Jh(t,iC);let e=Jh(t.firestore,Zh),n=N5(e),i=new OM(e);return Qre(t._query),$re(n,t._query).then(r=>new PM(e,i,t,r))}function z5(t,e,n){t=Jh(t,Gr);let i=Jh(t.firestore,Zh),r=Jre(t.converter,e,n);return W5(i,[qre(zre(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Cc.none())])}function q5(t){return W5(Jh(t.firestore,Zh),[new Jg(t._key,Cc.none())])}function W5(t,e){return function(i,r){let o=new Po;return i.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return Are(yield Ure(i),r,o)})),o.promise}(N5(t),e)}(function(e,n=!0){(function(r){ef=r})(Eo),Co(new Ni("firestore",(i,{instanceIdentifier:r,options:o})=>{let a=i.getProvider("app").getImmediate(),l=new Zh(new eA(i.getProvider("auth-internal")),new rA(i.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ce(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vb(h.options.projectId,m)}(a,r),a);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),un(u4,"4.4.3",e),un(u4,"4.4.3","esm2017")})();var gu=class{constructor(e){return e}},K5="firestore",KM=class{constructor(){return Em(K5)}};var YM=new we("angularfire2.firestore-instances");function Zre(t,e){let n=bw(K5,t,e);return n&&new gu(n)}function eoe(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new gu(i)}}var toe={provide:KM,deps:[[new Xi,YM]]},noe={provide:gu,useFactory:Zre,deps:[[new Xi,YM],sa]},ioe=(()=>{class t{constructor(){un("angularfire",Ul.full,"fst")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Qi({type:t});static \u0275inj=Ji({providers:[noe,toe]})}return t})();function Y5(t,...e){return{ngModule:ioe,providers:[{provide:YM,useFactory:eoe(t),multi:!0,deps:[Ct,ln,hh,Bl,[new Xi,yg],[new Xi,dh],...e]}]}}var Q5=Io(O5,!0);var J5=Io(q5,!0);var QM=Io(k5,!0);var X5=Io(G5,!0);var Z5=Io(R5,!0);var e$=Io(z5,!0);var ZM=class extends rw{constructor(){super(...arguments),this.supportsDOMEvents=!0}},eP=class t extends ZM{static makeCurrent(){qj(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=ooe();return n==null?null:soe(n)}resetBaseElement(){lv=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ow(document.cookie,e)}},lv=null;function ooe(){return lv=lv||document.querySelector("base"),lv?lv.getAttribute("href"):null}function soe(t){return new URL(t,document.baseURI).pathname}var aoe=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),tP=new we(""),i$=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(a=>a.supports(i)),!r)throw new X(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(se(tP),se(Ct))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),fC=class{constructor(e){this._doc=e}},JM="ng-app-id",r$=(()=>{let e=class e{constructor(i,r,o,a={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=lm(a),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${JM}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let a=o.get(i);return a.usage+=r,a.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,a=o?.get(r);if(a?.parentNode===i)return o.delete(r),a.removeAttribute(JM),a;{let l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(JM,this.appId),i.appendChild(l),l}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),a=this.styleRef,l=a.get(r)?.elements;l?l.push(o):a.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(se(Ei),se(n1),se(o1,8),se(Lr))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),XM={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},iP=/%COMP%/g,o$="%COMP%",coe=`_nghost-${o$}`,loe=`_ngcontent-${o$}`,uoe=!0,doe=new we("",{providedIn:"root",factory:()=>uoe});function hoe(t){return loe.replace(iP,t)}function foe(t){return coe.replace(iP,t)}function s$(t,e){return e.map(n=>n.replace(iP,t))}var pC=(()=>{let e=class e{constructor(i,r,o,a,l,d,h,m=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=a,this.doc=l,this.platformId=d,this.ngZone=h,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=lm(d),this.defaultRenderer=new uv(i,l,h,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Xo.ShadowDom&&(r=xt(ne({},r),{encapsulation:Xo.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof mC?o.applyToHost(i):o instanceof dv&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,a=o.get(r.id);if(!a){let l=this.doc,d=this.ngZone,h=this.eventManager,m=this.sharedStylesHost,v=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(r.encapsulation){case Xo.Emulated:a=new mC(h,m,r,this.appId,v,l,d,y);break;case Xo.ShadowDom:return new nP(h,m,i,r,l,d,this.nonce,y);default:a=new dv(h,m,r,v,l,d,y);break}o.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(se(i$),se(r$),se(n1),se(doe),se(Ei),se(Lr),se(Ct),se(o1))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),uv=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(XM[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(t$(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(t$(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new X(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=XM[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=XM[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Ys.DashCase|Ys.Important)?e.style.setProperty(n,i,r&Ys.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Ys.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=ia().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function t$(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var nP=class extends uv{constructor(e,n,i,r,o,a,l,d){super(e,o,a,d),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=s$(r.id,r.styles);for(let m of h){let v=document.createElement("style");l&&v.setAttribute("nonce",l),v.textContent=m,this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},dv=class extends uv{constructor(e,n,i,r,o,a,l,d){super(e,o,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=d?s$(d,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},mC=class extends dv{constructor(e,n,i,r,o,a,l,d){let h=r+"-"+i.id;super(e,n,i,o,a,l,d,h),this.contentAttr=hoe(h),this.hostAttr=foe(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},poe=(()=>{let e=class e extends fC{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(se(Ei))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),n$=["alt","control","meta","shift"],moe={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},goe={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},voe=(()=>{let e=class e extends fC{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,o){let a=e.parseEventName(r),l=e.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ia().onAndCancel(i,a.domEventName,l))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let a=e._normalizeKey(r.pop()),l="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),l="code."),n$.forEach(m=>{let v=r.indexOf(m);v>-1&&(r.splice(v,1),l+=m+".")}),l+=a,r.length!=0||a.length===0)return null;let h={};return h.domEventName=o,h.fullKey=l,h}static matchEventFullKeyCode(i,r){let o=moe[i.key]||i.key,a="";return r.indexOf("code.")>-1&&(o=i.code,a="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),n$.forEach(l=>{if(l!==o){let d=goe[l];d(i)&&(a+=l+".")}}),a+=o,a===r)}static eventCallback(i,r,o){return a=>{e.matchEventFullKeyCode(a,i)&&o.runGuarded(()=>r(a))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(se(Ei))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();function a$(t,e){return jj(ne({rootComponent:t},yoe(e)))}function yoe(t){return{appProviders:[...Eoe,...t?.providers??[]],platformProviders:Coe}}function _oe(){eP.makeCurrent()}function woe(){return new ns}function boe(){return FV(document),document}var Coe=[{provide:Lr,useValue:Qj},{provide:i1,useValue:_oe,multi:!0},{provide:Ei,useFactory:boe,deps:[]}];var Eoe=[{provide:j0,useValue:"root"},{provide:ns,useFactory:woe,deps:[]},{provide:tP,useClass:poe,multi:!0,deps:[Ei,Ct,Lr]},{provide:tP,useClass:voe,multi:!0,deps:[Ei]},pC,r$,i$,{provide:El,useExisting:pC},{provide:sh,useClass:aoe,deps:[]},[]];var c$=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(se(Ei))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var rP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=se(Ioe),o},providedIn:"root"});let t=e;return t})(),Ioe=(()=>{let e=class e extends rP{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case rs.NONE:return r;case rs.HTML:return oc(r,"HTML")?Vr(r):S3(this._doc,String(r)).toString();case rs.STYLE:return oc(r,"Style")?Vr(r):r;case rs.SCRIPT:if(oc(r,"Script"))return Vr(r);throw new X(5200,!1);case rs.URL:return oc(r,"URL")?Vr(r):H0(String(r));case rs.RESOURCE_URL:if(oc(r,"ResourceURL"))return Vr(r);throw new X(5201,!1);default:throw new X(5202,!1)}}bypassSecurityTrustHtml(i){return g3(i)}bypassSecurityTrustStyle(i){return v3(i)}bypassSecurityTrustScript(i){return y3(i)}bypassSecurityTrustUrl(i){return _3(i)}bypassSecurityTrustResourceUrl(i){return w3(i)}};e.\u0275fac=function(r){return new(r||e)(se(Ei))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ye=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Ye||{}),Is="*";function zr(t,e){return{type:Ye.Trigger,name:t,definitions:e,options:{}}}function ei(t,e=null){return{type:Ye.Animate,styles:e,timings:t}}function u$(t,e=null){return{type:Ye.Sequence,steps:t,options:e}}function it(t){return{type:Ye.Style,styles:t,offset:null}}function d$(t,e,n){return{type:Ye.State,name:t,styles:e,options:n}}function Fn(t,e,n=null){return{type:Ye.Transition,expr:t,animation:e,options:n}}var xc=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},hv=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++n==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},gC="!";function h$(t){return new X(3e3,!1)}function Soe(){return new X(3100,!1)}function Toe(){return new X(3101,!1)}function Doe(t){return new X(3001,!1)}function xoe(t){return new X(3003,!1)}function Aoe(t){return new X(3004,!1)}function Moe(t,e){return new X(3005,!1)}function Poe(){return new X(3006,!1)}function Ooe(){return new X(3007,!1)}function koe(t,e){return new X(3008,!1)}function Roe(t){return new X(3002,!1)}function Noe(t,e,n,i,r){return new X(3010,!1)}function Foe(){return new X(3011,!1)}function Loe(){return new X(3012,!1)}function Voe(){return new X(3200,!1)}function joe(){return new X(3202,!1)}function Uoe(){return new X(3013,!1)}function Boe(t){return new X(3014,!1)}function $oe(t){return new X(3015,!1)}function Hoe(t){return new X(3016,!1)}function Goe(t,e){return new X(3404,!1)}function zoe(t){return new X(3502,!1)}function qoe(t){return new X(3503,!1)}function Woe(){return new X(3300,!1)}function Koe(t){return new X(3504,!1)}function Yoe(t){return new X(3301,!1)}function Qoe(t,e){return new X(3302,!1)}function Joe(t){return new X(3303,!1)}function Xoe(t,e){return new X(3400,!1)}function Zoe(t){return new X(3401,!1)}function ese(t){return new X(3402,!1)}function tse(t,e){return new X(3505,!1)}function Ac(t){switch(t.length){case 0:return new xc;case 1:return t[0];default:return new hv(t)}}function T$(t,e,n=new Map,i=new Map){let r=[],o=[],a=-1,l=null;if(e.forEach(d=>{let h=d.get("offset"),m=h==a,v=m&&l||new Map;d.forEach((y,E)=>{let w=E,S=y;if(E!=="offset")switch(w=t.normalizePropertyName(w,r),S){case gC:S=n.get(E);break;case Is:S=i.get(E);break;default:S=t.normalizeStyleValue(E,w,S,r);break}v.set(w,S)}),m||o.push(v),l=v,a=h}),r.length)throw zoe(r);return o}function DP(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&oP(n,"start",t)));break;case"done":t.onDone(()=>i(n&&oP(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&oP(n,"destroy",t)));break}}function oP(t,e,n){let i=n.totalTime,r=!!n.disabled,o=xP(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,i??t.totalTime,r),a=t._data;return a!=null&&(o._data=a),o}function xP(t,e,n,i,r="",o=0,a){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function Tr(t,e,n){let i=t.get(e);return i||t.set(e,i=n),i}function f$(t){let e=t.indexOf(":"),n=t.substring(1,e),i=t.slice(e+1);return[n,i]}var nse=typeof document>"u"?null:document.documentElement;function AP(t){let e=t.parentNode||t.host||null;return e===nse?null:e}function ise(t){return t.substring(1,6)=="ebkit"}var vu=null,p$=!1;function rse(t){vu||(vu=ose()||{},p$=vu.style?"WebkitAppearance"in vu.style:!1);let e=!0;return vu.style&&!ise(t)&&(e=t in vu.style,!e&&p$&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in vu.style)),e}function ose(){return typeof document<"u"?document.body:null}function D$(t,e){for(;e;){if(e===t)return!0;e=AP(e)}return!1}function x$(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let i=t.querySelector(e);return i?[i]:[]}var MP=(()=>{let e=class e{validateStyleProperty(i){return rse(i)}matchesElement(i,r){return!1}containsElement(i,r){return D$(i,r)}getParentElement(i){return AP(i)}query(i,r,o){return x$(i,r,o)}computeStyle(i,r,o){return o||""}animate(i,r,o,a,l,d=[],h){return new xc(o,a)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),RP=class RP{};RP.NOOP=new MP;var wu=RP,bu=class{};var sse=1e3,A$="{{",ase="}}",M$="ng-enter",dP="ng-leave",vC="ng-trigger",CC=".ng-trigger",m$="ng-animating",hP=".ng-animating";function va(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:fP(parseFloat(e[1]),e[2])}function fP(t,e){switch(e){case"s":return t*sse;default:return t}}function EC(t,e,n){return t.hasOwnProperty("duration")?t:cse(t,e,n)}function cse(t,e,n){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,a="";if(typeof t=="string"){let l=t.match(i);if(l===null)return e.push(h$(t)),{duration:0,delay:0,easing:""};r=fP(parseFloat(l[1]),l[2]);let d=l[3];d!=null&&(o=fP(parseFloat(d),l[4]));let h=l[5];h&&(a=h)}else r=t;if(!n){let l=!1,d=e.length;r<0&&(e.push(Soe()),l=!0),o<0&&(e.push(Toe()),l=!0),l&&e.splice(d,0,h$(t))}return{duration:r,delay:o,easing:a}}function lse(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Ss(t,e,n){e.forEach((i,r)=>{let o=PP(r);n&&!n.has(r)&&n.set(r,t.style[o]),t.style[o]=i})}function _u(t,e){e.forEach((n,i)=>{let r=PP(i);t.style[r]=""})}function fv(t){return Array.isArray(t)?t.length==1?t[0]:u$(t):t}function use(t,e,n){let i=e.params||{},r=P$(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||n.push(Doe(o))})}var pP=new RegExp(`${A$}\\s*(.+?)\\s*${ase}`,"g");function P$(t){let e=[];if(typeof t=="string"){let n;for(;n=pP.exec(t);)e.push(n[1]);pP.lastIndex=0}return e}function mv(t,e,n){let i=`${t}`,r=i.replace(pP,(o,a)=>{let l=e[a];return l==null&&(n.push(xoe(a)),l=""),l.toString()});return r==i?t:r}var dse=/-+([a-z0-9])/g;function PP(t){return t.replace(dse,(...e)=>e[1].toUpperCase())}function hse(t,e){return t===0||e===0}function fse(t,e,n){if(n.size&&e.length){let i=e[0],r=[];if(n.forEach((o,a)=>{i.has(a)||r.push(a),i.set(a,o)}),r.length)for(let o=1;o<e.length;o++){let a=e[o];r.forEach(l=>a.set(l,OP(t,l)))}}return e}function Sr(t,e,n){switch(e.type){case Ye.Trigger:return t.visitTrigger(e,n);case Ye.State:return t.visitState(e,n);case Ye.Transition:return t.visitTransition(e,n);case Ye.Sequence:return t.visitSequence(e,n);case Ye.Group:return t.visitGroup(e,n);case Ye.Animate:return t.visitAnimate(e,n);case Ye.Keyframes:return t.visitKeyframes(e,n);case Ye.Style:return t.visitStyle(e,n);case Ye.Reference:return t.visitReference(e,n);case Ye.AnimateChild:return t.visitAnimateChild(e,n);case Ye.AnimateRef:return t.visitAnimateRef(e,n);case Ye.Query:return t.visitQuery(e,n);case Ye.Stagger:return t.visitStagger(e,n);default:throw Aoe(e.type)}}function OP(t,e){return window.getComputedStyle(t)[e]}var pse=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),IC=class extends bu{normalizePropertyName(e,n){return PP(e)}normalizeStyleValue(e,n,i,r){let o="",a=i.toString().trim();if(pse.has(n)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let l=i.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&l[1].length==0&&r.push(Moe(e,i))}return a+o}};var SC="*";function mse(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>gse(i,n,e)):n.push(t),n}function gse(t,e,n){if(t[0]==":"){let d=vse(t,n);if(typeof d=="function"){e.push(d);return}t=d}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return n.push($oe(t)),e;let r=i[1],o=i[2],a=i[3];e.push(g$(r,a));let l=r==SC&&a==SC;o[0]=="<"&&!l&&e.push(g$(a,r))}function vse(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return e.push(Hoe(t)),"* => *"}}var yC=new Set(["true","1"]),_C=new Set(["false","0"]);function g$(t,e){let n=yC.has(t)||_C.has(t),i=yC.has(e)||_C.has(e);return(r,o)=>{let a=t==SC||t==r,l=e==SC||e==o;return!a&&n&&typeof r=="boolean"&&(a=r?yC.has(t):_C.has(t)),!l&&i&&typeof o=="boolean"&&(l=o?yC.has(e):_C.has(e)),a&&l}}var O$=":self",yse=new RegExp(`s*${O$}s*,?`,"g");function k$(t,e,n,i){return new mP(t).build(e,n,i)}var v$="",mP=class{constructor(e){this._driver=e}build(e,n,i){let r=new gP(n);return this._resetContextStyleTimingState(r),Sr(this,fv(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=v$,e.collectedStyles=new Map,e.collectedStyles.set(v$,new Map),e.currentTime=0}visitTrigger(e,n){let i=n.queryCount=0,r=n.depCount=0,o=[],a=[];return e.name.charAt(0)=="@"&&n.errors.push(Poe()),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(n),l.type==Ye.State){let d=l,h=d.name;h.toString().split(/\s*,\s*/).forEach(m=>{d.name=m,o.push(this.visitState(d,n))}),d.name=h}else if(l.type==Ye.Transition){let d=this.visitTransition(l,n);i+=d.queryCount,r+=d.depCount,a.push(d)}else n.errors.push(Ooe())}),{type:Ye.Trigger,name:e.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}visitState(e,n){let i=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let o=new Set,a=r||{};i.styles.forEach(l=>{l instanceof Map&&l.forEach(d=>{P$(d).forEach(h=>{a.hasOwnProperty(h)||o.add(h)})})}),o.size&&n.errors.push(koe(e.name,[...o.values()]))}return{type:Ye.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let i=Sr(this,fv(e.animation),n),r=mse(e.expr,n.errors);return{type:Ye.Transition,matchers:r,animation:i,queryCount:n.queryCount,depCount:n.depCount,options:yu(e.options)}}visitSequence(e,n){return{type:Ye.Sequence,steps:e.steps.map(i=>Sr(this,i,n)),options:yu(e.options)}}visitGroup(e,n){let i=n.currentTime,r=0,o=e.steps.map(a=>{n.currentTime=i;let l=Sr(this,a,n);return r=Math.max(r,n.currentTime),l});return n.currentTime=r,{type:Ye.Group,steps:o,options:yu(e.options)}}visitAnimate(e,n){let i=Cse(e.timings,n.errors);n.currentAnimateTimings=i;let r,o=e.styles?e.styles:it({});if(o.type==Ye.Keyframes)r=this.visitKeyframes(o,n);else{let a=e.styles,l=!1;if(!a){l=!0;let h={};i.easing&&(h.easing=i.easing),a=it(h)}n.currentTime+=i.duration+i.delay;let d=this.visitStyle(a,n);d.isEmptyStep=l,r=d}return n.currentAnimateTimings=null,{type:Ye.Animate,timings:i,style:r,options:null}}visitStyle(e,n){let i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}_makeStyleAst(e,n){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let l of r)typeof l=="string"?l===Is?i.push(l):n.errors.push(Roe(l)):i.push(new Map(Object.entries(l)));let o=!1,a=null;return i.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(a=l.get("easing"),l.delete("easing")),!o)){for(let d of l.values())if(d.toString().indexOf(A$)>=0){o=!0;break}}}),{type:Ye.Style,styles:i,easing:a,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let i=n.currentAnimateTimings,r=n.currentTime,o=n.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(a=>{typeof a!="string"&&a.forEach((l,d)=>{let h=n.collectedStyles.get(n.currentQuerySelector),m=h.get(d),v=!0;m&&(o!=r&&o>=m.startTime&&r<=m.endTime&&(n.errors.push(Noe(d,m.startTime,m.endTime,o,r)),v=!1),o=m.startTime),v&&h.set(d,{startTime:o,endTime:r}),n.options&&use(l,n.options,n.errors)})})}visitKeyframes(e,n){let i={type:Ye.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(Foe()),i;let r=1,o=0,a=[],l=!1,d=!1,h=0,m=e.steps.map(O=>{let V=this._makeStyleAst(O,n),$=V.offset!=null?V.offset:bse(V.styles),x=0;return $!=null&&(o++,x=V.offset=$),d=d||x<0||x>1,l=l||x<h,h=x,a.push(x),V});d&&n.errors.push(Loe()),l&&n.errors.push(Voe());let v=e.steps.length,y=0;o>0&&o<v?n.errors.push(joe()):o==0&&(y=r/(v-1));let E=v-1,w=n.currentTime,S=n.currentAnimateTimings,D=S.duration;return m.forEach((O,V)=>{let $=y>0?V==E?1:y*V:a[V],x=$*D;n.currentTime=w+S.delay+x,S.duration=x,this._validateStyleAst(O,n),O.offset=$,i.styles.push(O)}),i}visitReference(e,n){return{type:Ye.Reference,animation:Sr(this,fv(e.animation),n),options:yu(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:Ye.AnimateChild,options:yu(e.options)}}visitAnimateRef(e,n){return{type:Ye.AnimateRef,animation:this.visitReference(e.animation,n),options:yu(e.options)}}visitQuery(e,n){let i=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;let[o,a]=_se(e.selector);n.currentQuerySelector=i.length?i+" "+o:o,Tr(n.collectedStyles,n.currentQuerySelector,new Map);let l=Sr(this,fv(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:Ye.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:l,originalSelector:e.selector,options:yu(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(Uoe());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:EC(e.timings,n.errors,!0);return{type:Ye.Stagger,animation:Sr(this,fv(e.animation),n),timings:i,options:null}}};function _se(t){let e=!!t.split(/\s*,\s*/).find(n=>n==O$);return e&&(t=t.replace(yse,"")),t=t.replace(/@\*/g,CC).replace(/@\w+/g,n=>CC+"-"+n.slice(1)).replace(/:animating/g,hP),[t,e]}function wse(t){return t?ne({},t):null}var gP=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function bse(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let i=n;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function Cse(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=EC(t,e).duration;return sP(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=sP(0,0,"");return o.dynamic=!0,o.strValue=n,o}let r=EC(n,e);return sP(r.duration,r.delay,r.easing)}function yu(t){return t?(t=ne({},t),t.params&&(t.params=wse(t.params))):t={},t}function sP(t,e,n){return{duration:t,delay:e,easing:n}}function kP(t,e,n,i,r,o,a=null,l=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:l}}var gv=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Ese=1,Ise=":enter",Sse=new RegExp(Ise,"g"),Tse=":leave",Dse=new RegExp(Tse,"g");function R$(t,e,n,i,r,o=new Map,a=new Map,l,d,h=[]){return new vP().buildKeyframes(t,e,n,i,r,o,a,l,d,h)}var vP=class{buildKeyframes(e,n,i,r,o,a,l,d,h,m=[]){h=h||new gv;let v=new yP(e,n,h,r,o,m,[]);v.options=d;let y=d.delay?va(d.delay):0;v.currentTimeline.delayNextStep(y),v.currentTimeline.setStyles([a],null,v.errors,d),Sr(this,i,v);let E=v.timelines.filter(w=>w.containsAnimation());if(E.length&&l.size){let w;for(let S=E.length-1;S>=0;S--){let D=E[S];if(D.element===n){w=D;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([l],null,v.errors,d)}return E.length?E.map(w=>w.buildKeyframes()):[kP(n,[],[],[],0,y,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let i=n.subInstructions.get(n.element);if(i){let r=n.createSubContext(e.options),o=n.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);o!=a&&n.transformIntoNewTimeline(a)}n.previousNode=e}visitAnimateRef(e,n){let i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,i),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,i){for(let r of e){let o=r?.delay;if(o){let a=typeof o=="number"?o:va(mv(o,r?.params??{},n.errors));i.delayNextStep(a)}}}_visitSubInstructions(e,n,i){let o=n.currentTimeline.currentTime,a=i.duration!=null?va(i.duration):null,l=i.delay!=null?va(i.delay):null;return a!==0&&e.forEach(d=>{let h=n.appendInstructionToTimeline(d,a,l);o=Math.max(o,h.duration+h.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),Sr(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let i=n.subContextCount,r=n,o=e.options;if(o&&(o.params||o.delay)&&(r=n.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==Ye.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=TC);let a=va(o.delay);r.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>Sr(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let i=[],r=n.currentTimeline.currentTime,o=e.options&&e.options.delay?va(e.options.delay):0;e.steps.forEach(a=>{let l=n.createSubContext(e.options);o&&l.delayNextStep(o),Sr(this,a,l),r=Math.max(r,l.currentTimeline.currentTime),i.push(l.currentTimeline)}),i.forEach(a=>n.currentTimeline.mergeTimelineCollectedStyles(a)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let i=e.strValue,r=n.params?mv(i,n.params,n.errors):i;return EC(r,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let i=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());let o=e.style;o.type==Ye.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(i.duration),this.visitStyle(o,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let i=n.currentAnimateTimings,r=n.currentTimeline.duration,o=i.duration,l=n.createSubContext().currentTimeline;l.easing=i.easing,e.styles.forEach(d=>{let h=d.offset||0;l.forwardTime(h*o),l.setStyles(d.styles,d.easing,n.errors,n.options),l.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(l),n.transformIntoNewTimeline(r+o),n.previousNode=e}visitQuery(e,n){let i=n.currentTimeline.currentTime,r=e.options||{},o=r.delay?va(r.delay):0;o&&(n.previousNode.type===Ye.Style||i==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=TC);let a=i,l=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=l.length;let d=null;l.forEach((h,m)=>{n.currentQueryIndex=m;let v=n.createSubContext(e.options,h);o&&v.delayNextStep(o),h===n.element&&(d=v.currentTimeline),Sr(this,e.animation,v),v.currentTimeline.applyStylesToKeyframe();let y=v.currentTimeline.currentTime;a=Math.max(a,y)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(a),d&&(n.currentTimeline.mergeTimelineCollectedStyles(d),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let i=n.parentContext,r=n.currentTimeline,o=e.timings,a=Math.abs(o.duration),l=a*(n.currentQueryTotal-1),d=a*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":d=l-d;break;case"full":d=i.currentStaggerTime;break}let m=n.currentTimeline;d&&m.delayNextStep(d);let v=m.currentTime;Sr(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=r.currentTime-v+(r.startTime-i.currentTimeline.startTime)}},TC={},yP=class t{constructor(e,n,i,r,o,a,l,d){this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=TC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=d||new DC(this._driver,n,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=va(i.duration)),i.delay!=null&&(r.delay=va(i.delay));let o=i.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(l=>{(!n||!a.hasOwnProperty(l))&&(a[l]=mv(o[l],a,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let i=e.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return e}createSubContext(e=null,n,i){let r=n||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=TC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,i){let r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new _P(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,i,r,o,a){let l=[];if(r&&l.push(this.element),e.length>0){e=e.replace(Sse,"."+this._enterClassName),e=e.replace(Dse,"."+this._leaveClassName);let d=i!=1,h=this._driver.query(this.element,e,d);i!==0&&(h=i<0?h.slice(h.length+i,h.length):h.slice(0,i)),l.push(...h)}return!o&&l.length==0&&a.push(Boe(n)),l}},DC=class t{constructor(e,n,i,r){this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Ese,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||Is),this._currentKeyframe.set(n,Is);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,i,r){n&&this._previousKeyframe.set("easing",n);let o=r&&r.params||{},a=xse(e,this._globalTimelineStyles);for(let[l,d]of a){let h=mv(d,o,i);this._pendingStyles.set(l,h),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??Is),this._updateStyle(l,h)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,i)=>{let r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((l,d)=>{let h=new Map([...this._backFill,...l]);h.forEach((m,v)=>{m===gC?e.add(v):m===Is&&n.add(v)}),i||h.set("offset",d/this.duration),r.push(h)});let o=[...e.values()],a=[...n.values()];if(i){let l=r[0],d=new Map(l);l.set("offset",0),d.set("offset",1),r=[l,d]}return kP(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}},_P=class extends DC{constructor(e,n,i,r,o,a,l=!1){super(e,n,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],a=i+n,l=n/a,d=new Map(e[0]);d.set("offset",0),o.push(d);let h=new Map(e[0]);h.set("offset",y$(l)),o.push(h);let m=e.length-1;for(let v=1;v<=m;v++){let y=new Map(e[v]),E=y.get("offset"),w=n+E*i;y.set("offset",y$(w/a)),o.push(y)}i=a,n=0,r="",e=o}return kP(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}};function y$(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function xse(t,e){let n=new Map,i;return t.forEach(r=>{if(r==="*"){i??=e.keys();for(let o of i)n.set(o,Is)}else for(let[o,a]of r)n.set(o,a)}),n}function _$(t,e,n,i,r,o,a,l,d,h,m,v,y){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:a,timelines:l,queriedElements:d,preStyleProps:h,postStyleProps:m,totalTime:v,errors:y}}var aP={},xC=class{constructor(e,n,i){this._triggerName=e,this.ast=n,this._stateStyles=i}match(e,n,i,r){return Ase(this.ast.matchers,e,n,i,r)}buildStyles(e,n,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,i):new Map}build(e,n,i,r,o,a,l,d,h,m){let v=[],y=this.ast.options&&this.ast.options.params||aP,E=l&&l.params||aP,w=this.buildStyles(i,E,v),S=d&&d.params||aP,D=this.buildStyles(r,S,v),O=new Set,V=new Map,$=new Map,x=r==="void",te={params:N$(S,y),delay:this.ast.options?.delay},U=m?[]:R$(e,n,this.ast.animation,o,a,w,D,te,h,v),oe=0;return U.forEach(Ee=>{oe=Math.max(Ee.duration+Ee.delay,oe)}),v.length?_$(n,this._triggerName,i,r,x,w,D,[],[],V,$,oe,v):(U.forEach(Ee=>{let Ge=Ee.element,Ze=Tr(V,Ge,new Set);Ee.preStyleProps.forEach($e=>Ze.add($e));let Ie=Tr($,Ge,new Set);Ee.postStyleProps.forEach($e=>Ie.add($e)),Ge!==n&&O.add(Ge)}),_$(n,this._triggerName,i,r,x,w,D,U,[...O.values()],V,$,oe))}};function Ase(t,e,n,i,r){return t.some(o=>o(e,n,i,r))}function N$(t,e){let n=ne({},e);return Object.entries(t).forEach(([i,r])=>{r!=null&&(n[i]=r)}),n}var wP=class{constructor(e,n,i){this.styles=e,this.defaultParams=n,this.normalizer=i}buildStyles(e,n){let i=new Map,r=N$(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{a&&(a=mv(a,r,n));let d=this.normalizer.normalizePropertyName(l,n);a=this.normalizer.normalizeStyleValue(l,d,a,n),i.set(l,a)})}),i}};function Mse(t,e,n){return new bP(t,e,n)}var bP=class{constructor(e,n,i){this.name=e,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new wP(r.style,o,i))}),w$(this.states,"true","1"),w$(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new xC(e,r,this.states))}),this.fallbackTransition=Pse(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,i,r){return this.transitionFactories.find(a=>a.match(e,n,i,r))||null}matchStyles(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}};function Pse(t,e,n){let i=[(a,l)=>!0],r={type:Ye.Sequence,steps:[],options:null},o={type:Ye.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new xC(t,o,e)}function w$(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var Ose=new gv,CP=class{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let i=[],r=[],o=k$(this._driver,n,i,r);if(i.length)throw qoe(i);r.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,n,i){let r=e.element,o=T$(this._normalizer,e.keyframes,n,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,i={}){let r=[],o=this._animations.get(e),a,l=new Map;if(o?(a=R$(this._driver,n,o,M$,dP,new Map,new Map,i,Ose,r),a.forEach(m=>{let v=Tr(l,m.element,new Map);m.postStyleProps.forEach(y=>v.set(y,null))})):(r.push(Woe()),a=[]),r.length)throw Koe(r);l.forEach((m,v)=>{m.forEach((y,E)=>{m.set(E,this._driver.computeStyle(v,E,Is))})});let d=a.map(m=>{let v=l.get(m.element);return this._buildPlayer(m,new Map,v)}),h=Ac(d);return this._playersById.set(e,h),h.onDestroy(()=>this.destroy(e)),this.players.push(h),h}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw Yoe(e);return n}listen(e,n,i,r){let o=xP(n,"","","");return DP(this._getPlayer(e),i,o,r),()=>{}}command(e,n,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let a=r[0]||{};this.create(e,n,a);return}let o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},b$="ng-animate-queued",kse=".ng-animate-queued",cP="ng-animate-disabled",Rse=".ng-animate-disabled",Nse="ng-star-inserted",Fse=".ng-star-inserted",Lse=[],F$={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Vse={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ko="__ng_removed",vv=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=Use(r),i){let o=e,{value:a}=o,l=nS(o,["value"]);this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let i=this.options.params;Object.keys(n).forEach(r=>{i[r]==null&&(i[r]=n[r])})}}},pv="void",lP=new vv(pv),EP=class{constructor(e,n,i){this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,qr(n,this._hostClassName)}listen(e,n,i,r){if(!this._triggers.has(n))throw Qoe(i,n);if(i==null||i.length==0)throw Joe(n);if(!Bse(i))throw Xoe(i,n);let o=Tr(this._elementListeners,e,[]),a={name:n,phase:i,callback:r};o.push(a);let l=Tr(this._engine.statesByElement,e,new Map);return l.has(n)||(qr(e,vC),qr(e,vC+"-"+n),l.set(n,lP)),()=>{this._engine.afterFlush(()=>{let d=o.indexOf(a);d>=0&&o.splice(d,1),this._triggers.has(n)||l.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw Zoe(e);return n}trigger(e,n,i,r=!0){let o=this._getTrigger(n),a=new yv(this.id,n,e),l=this._engine.statesByElement.get(e);l||(qr(e,vC),qr(e,vC+"-"+n),this._engine.statesByElement.set(e,l=new Map));let d=l.get(n),h=new vv(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&d&&h.absorbOptions(d.options),l.set(n,h),d||(d=lP),!(h.value===pv)&&d.value===h.value){if(!Gse(d.params,h.params)){let S=[],D=o.matchStyles(d.value,d.params,S),O=o.matchStyles(h.value,h.params,S);S.length?this._engine.reportError(S):this._engine.afterFlush(()=>{_u(e,D),Ss(e,O)})}return}let y=Tr(this._engine.playersByElement,e,[]);y.forEach(S=>{S.namespaceId==this.id&&S.triggerName==n&&S.queued&&S.destroy()});let E=o.matchTransition(d.value,h.value,e,h.params),w=!1;if(!E){if(!r)return;E=o.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:E,fromState:d,toState:h,player:a,isFallbackTransition:w}),w||(qr(e,b$),a.onStart(()=>{rf(e,b$)})),a.onDone(()=>{let S=this.players.indexOf(a);S>=0&&this.players.splice(S,1);let D=this._engine.playersByElement.get(e);if(D){let O=D.indexOf(a);O>=0&&D.splice(O,1)}}),this.players.push(a),y.push(a),a}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let i=this._engine.driver.query(e,CC,!0);i.forEach(r=>{if(r[ko])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,i,r){let o=this._engine.statesByElement.get(e),a=new Map;if(o){let l=[];if(o.forEach((d,h)=>{if(a.set(h,d.value),this._triggers.has(h)){let m=this.trigger(e,h,pv,r);m&&l.push(m)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,a),i&&Ac(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){let r=new Set;n.forEach(o=>{let a=o.name;if(r.has(a))return;r.add(a);let d=this._triggers.get(a).fallbackTransition,h=i.get(a)||lP,m=new vv(pv),v=new yv(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:d,fromState:h,toState:m,player:v,isFallbackTransition:!0})})}}removeNode(e,n){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let a=e;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,n);else{let o=e[ko];(!o||o===F$)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,n))}}insertNode(e,n){qr(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,a=this._elementListeners.get(o);a&&a.forEach(l=>{if(l.name==i.triggerName){let d=xP(o,i.triggerName,i.fromState.value,i.toState.value);d._data=e,DP(i.player,l.phase,d,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{let o=i.transition.ast.depCount,a=r.transition.ast.depCount;return o==0||a==0?o-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},IP=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,i,r){this.bodyNode=e,this.driver=n,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,a)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,n){let i=new EP(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,n){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,l=this.driver.getParentElement(n);for(;l;){let d=r.get(l);if(d){let h=i.indexOf(d);i.splice(h+1,0,e),a=!0;break}l=this.driver.getParentElement(l)}a||i.unshift(e)}else i.push(e);return r.set(n,e),e}register(e,n){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}registerTrigger(e,n,i){let r=this._namespaceLookup[e];r&&r.register(n,i)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&n.add(o)}}return n}trigger(e,n,i,r){if(wC(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,i,r),!0}return!1}insertNode(e,n,i,r){if(!wC(n))return;let o=n[ko];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let a=this.collectedLeaveElements.indexOf(n);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){let a=this._fetchNamespace(e);a&&a.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),qr(e,cP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),rf(e,cP))}removeNode(e,n,i){if(wC(n)){this.scheduler?.notify();let r=e?this._fetchNamespace(e):null;r?r.removeNode(n,i):this.markElementAsRemoved(e,n,!1,i);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(e,n,i,r,o){this.collectedLeaveElements.push(n),n[ko]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,i,r,o){return wC(n)?this._fetchNamespace(e).listen(n,i,r,o):()=>{}}_buildInstruction(e,n,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,CC,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,hP,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ac(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[ko];if(n&&n.setForRemoval){if(e[ko]=F$,n.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(cP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Rse,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];qr(r,Nse)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{n=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],n.length?Ac(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw ese(e)}_flushAnimations(e,n){let i=new gv,r=[],o=new Map,a=[],l=new Map,d=new Map,h=new Map,m=new Set;this.disabledNodes.forEach(H=>{m.add(H);let ie=this.driver.query(H,kse,!0);for(let he=0;he<ie.length;he++)m.add(ie[he])});let v=this.bodyNode,y=Array.from(this.statesByElement.keys()),E=I$(y,this.collectedEnterElements),w=new Map,S=0;E.forEach((H,ie)=>{let he=M$+S++;w.set(ie,he),H.forEach(Pe=>qr(Pe,he))});let D=[],O=new Set,V=new Set;for(let H=0;H<this.collectedLeaveElements.length;H++){let ie=this.collectedLeaveElements[H],he=ie[ko];he&&he.setForRemoval&&(D.push(ie),O.add(ie),he.hasAnimation?this.driver.query(ie,Fse,!0).forEach(Pe=>O.add(Pe)):V.add(ie))}let $=new Map,x=I$(y,Array.from(O));x.forEach((H,ie)=>{let he=dP+S++;$.set(ie,he),H.forEach(Pe=>qr(Pe,he))}),e.push(()=>{E.forEach((H,ie)=>{let he=w.get(ie);H.forEach(Pe=>rf(Pe,he))}),x.forEach((H,ie)=>{let he=$.get(ie);H.forEach(Pe=>rf(Pe,he))}),D.forEach(H=>{this.processLeaveNode(H)})});let te=[],U=[];for(let H=this._namespaceList.length-1;H>=0;H--)this._namespaceList[H].drainQueuedTransitions(n).forEach(he=>{let Pe=he.player,rt=he.element;if(te.push(Pe),this.collectedEnterElements.length){let pt=rt[ko];if(pt&&pt.setForMove){if(pt.previousTriggersValues&&pt.previousTriggersValues.has(he.triggerName)){let Vn=pt.previousTriggersValues.get(he.triggerName),an=this.statesByElement.get(he.element);if(an&&an.has(he.triggerName)){let $i=an.get(he.triggerName);$i.value=Vn,an.set(he.triggerName,$i)}}Pe.destroy();return}}let xn=!v||!this.driver.containsElement(v,rt),Rt=$.get(rt),ii=w.get(rt),vt=this._buildInstruction(he,i,ii,Rt,xn);if(vt.errors&&vt.errors.length){U.push(vt);return}if(xn){Pe.onStart(()=>_u(rt,vt.fromStyles)),Pe.onDestroy(()=>Ss(rt,vt.toStyles)),r.push(Pe);return}if(he.isFallbackTransition){Pe.onStart(()=>_u(rt,vt.fromStyles)),Pe.onDestroy(()=>Ss(rt,vt.toStyles)),r.push(Pe);return}let Ai=[];vt.timelines.forEach(pt=>{pt.stretchStartingKeyframe=!0,this.disabledNodes.has(pt.element)||Ai.push(pt)}),vt.timelines=Ai,i.append(rt,vt.timelines);let hr={instruction:vt,player:Pe,element:rt};a.push(hr),vt.queriedElements.forEach(pt=>Tr(l,pt,[]).push(Pe)),vt.preStyleProps.forEach((pt,Vn)=>{if(pt.size){let an=d.get(Vn);an||d.set(Vn,an=new Set),pt.forEach(($i,Or)=>an.add(Or))}}),vt.postStyleProps.forEach((pt,Vn)=>{let an=h.get(Vn);an||h.set(Vn,an=new Set),pt.forEach(($i,Or)=>an.add(Or))})});if(U.length){let H=[];U.forEach(ie=>{H.push(tse(ie.triggerName,ie.errors))}),te.forEach(ie=>ie.destroy()),this.reportError(H)}let oe=new Map,Ee=new Map;a.forEach(H=>{let ie=H.element;i.has(ie)&&(Ee.set(ie,ie),this._beforeAnimationBuild(H.player.namespaceId,H.instruction,oe))}),r.forEach(H=>{let ie=H.element;this._getPreviousPlayers(ie,!1,H.namespaceId,H.triggerName,null).forEach(Pe=>{Tr(oe,ie,[]).push(Pe),Pe.destroy()})});let Ge=D.filter(H=>S$(H,d,h)),Ze=new Map;E$(Ze,this.driver,V,h,Is).forEach(H=>{S$(H,d,h)&&Ge.push(H)});let $e=new Map;E.forEach((H,ie)=>{E$($e,this.driver,new Set(H),d,gC)}),Ge.forEach(H=>{let ie=Ze.get(H),he=$e.get(H);Ze.set(H,new Map([...ie?.entries()??[],...he?.entries()??[]]))});let Te=[],sn=[],Qe={};a.forEach(H=>{let{element:ie,player:he,instruction:Pe}=H;if(i.has(ie)){if(m.has(ie)){he.onDestroy(()=>Ss(ie,Pe.toStyles)),he.disabled=!0,he.overrideTotalTime(Pe.totalTime),r.push(he);return}let rt=Qe;if(Ee.size>1){let Rt=ie,ii=[];for(;Rt=Rt.parentNode;){let vt=Ee.get(Rt);if(vt){rt=vt;break}ii.push(Rt)}ii.forEach(vt=>Ee.set(vt,rt))}let xn=this._buildAnimation(he.namespaceId,Pe,oe,o,$e,Ze);if(he.setRealPlayer(xn),rt===Qe)Te.push(he);else{let Rt=this.playersByElement.get(rt);Rt&&Rt.length&&(he.parentPlayer=Ac(Rt)),r.push(he)}}else _u(ie,Pe.fromStyles),he.onDestroy(()=>Ss(ie,Pe.toStyles)),sn.push(he),m.has(ie)&&r.push(he)}),sn.forEach(H=>{let ie=o.get(H.element);if(ie&&ie.length){let he=Ac(ie);H.setRealPlayer(he)}}),r.forEach(H=>{H.parentPlayer?H.syncPlayerEvents(H.parentPlayer):H.destroy()});for(let H=0;H<D.length;H++){let ie=D[H],he=ie[ko];if(rf(ie,dP),he&&he.hasAnimation)continue;let Pe=[];if(l.size){let xn=l.get(ie);xn&&xn.length&&Pe.push(...xn);let Rt=this.driver.query(ie,hP,!0);for(let ii=0;ii<Rt.length;ii++){let vt=l.get(Rt[ii]);vt&&vt.length&&Pe.push(...vt)}}let rt=Pe.filter(xn=>!xn.destroyed);rt.length?$se(this,ie,rt):this.processLeaveNode(ie)}return D.length=0,Te.forEach(H=>{this.players.push(H),H.onDone(()=>{H.destroy();let ie=this.players.indexOf(H);this.players.splice(ie,1)}),H.play()}),Te}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,i,r,o){let a=[];if(n){let l=this.playersByQueriedElement.get(e);l&&(a=l)}else{let l=this.playersByElement.get(e);if(l){let d=!o||o==pv;l.forEach(h=>{h.queued||!d&&h.triggerName!=r||a.push(h)})}}return(i||r)&&(a=a.filter(l=>!(i&&i!=l.namespaceId||r&&r!=l.triggerName))),a}_beforeAnimationBuild(e,n,i){let r=n.triggerName,o=n.element,a=n.isRemovalTransition?void 0:e,l=n.isRemovalTransition?void 0:r;for(let d of n.timelines){let h=d.element,m=h!==o,v=Tr(i,h,[]);this._getPreviousPlayers(h,m,a,l,n.toState).forEach(E=>{let w=E.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),E.destroy(),v.push(E)})}_u(o,n.fromStyles)}_buildAnimation(e,n,i,r,o,a){let l=n.triggerName,d=n.element,h=[],m=new Set,v=new Set,y=n.timelines.map(w=>{let S=w.element;m.add(S);let D=S[ko];if(D&&D.removedBeforeQueried)return new xc(w.duration,w.delay);let O=S!==d,V=Hse((i.get(S)||Lse).map(oe=>oe.getRealPlayer())).filter(oe=>{let Ee=oe;return Ee.element?Ee.element===S:!1}),$=o.get(S),x=a.get(S),te=T$(this._normalizer,w.keyframes,$,x),U=this._buildPlayer(w,te,V);if(w.subTimeline&&r&&v.add(S),O){let oe=new yv(e,l,S);oe.setRealPlayer(U),h.push(oe)}return U});h.forEach(w=>{Tr(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>jse(this.playersByQueriedElement,w.element,w))}),m.forEach(w=>qr(w,m$));let E=Ac(y);return E.onDestroy(()=>{m.forEach(w=>rf(w,m$)),Ss(d,n.toStyles)}),v.forEach(w=>{Tr(r,w,[]).push(E)}),E}_buildPlayer(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new xc(e.duration,e.delay)}},yv=class{constructor(e,n,i){this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new xc,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>DP(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Tr(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function jse(t,e,n){let i=t.get(e);if(i){if(i.length){let r=i.indexOf(n);i.splice(r,1)}i.length==0&&t.delete(e)}return i}function Use(t){return t??null}function wC(t){return t&&t.nodeType===1}function Bse(t){return t=="start"||t=="done"}function C$(t,e){let n=t.style.display;return t.style.display=e??"none",n}function E$(t,e,n,i,r){let o=[];n.forEach(d=>o.push(C$(d)));let a=[];i.forEach((d,h)=>{let m=new Map;d.forEach(v=>{let y=e.computeStyle(h,v,r);m.set(v,y),(!y||y.length==0)&&(h[ko]=Vse,a.push(h))}),t.set(h,m)});let l=0;return n.forEach(d=>C$(d,o[l++])),a}function I$(t,e){let n=new Map;if(t.forEach(l=>n.set(l,[])),e.length==0)return n;let i=1,r=new Set(e),o=new Map;function a(l){if(!l)return i;let d=o.get(l);if(d)return d;let h=l.parentNode;return n.has(h)?d=h:r.has(h)?d=i:d=a(h),o.set(l,d),d}return e.forEach(l=>{let d=a(l);d!==i&&n.get(d).push(l)}),n}function qr(t,e){t.classList?.add(e)}function rf(t,e){t.classList?.remove(e)}function $se(t,e,n){Ac(n).onDone(()=>t.processLeaveNode(e))}function Hse(t){let e=[];return L$(t,e),e}function L$(t,e){for(let n=0;n<t.length;n++){let i=t[n];i instanceof hv?L$(i.players,e):e.push(i)}}function Gse(t,e){let n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){let o=n[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function S$(t,e,n){let i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(o=>r.add(o)):e.set(t,i),n.delete(t),!0}var sf=class{constructor(e,n,i,r){this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,a)=>{},this._transitionEngine=new IP(e.body,n,i,r),this._timelineEngine=new CP(e.body,n,i),this._transitionEngine.onRemovalComplete=(o,a)=>this.onRemovalComplete(o,a)}registerTrigger(e,n,i,r,o){let a=e+"-"+r,l=this._triggerCache[a];if(!l){let d=[],h=[],m=k$(this._driver,o,d,h);if(d.length)throw Goe(r,d);h.length&&void 0,l=Mse(r,m,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(n,r,l)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,i,r){this._transitionEngine.insertNode(e,n,i,r)}onRemove(e,n,i){this._transitionEngine.removeNode(e,n,i)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,i,r){if(i.charAt(0)=="@"){let[o,a]=f$(i),l=r;this._timelineEngine.command(o,n,a,l)}else this._transitionEngine.trigger(e,n,i,r)}listen(e,n,i,r,o){if(i.charAt(0)=="@"){let[a,l]=f$(i);return this._timelineEngine.listen(a,n,l,o)}return this._transitionEngine.listen(e,n,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function zse(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=uP(e[0]),e.length>1&&(i=uP(e[e.length-1]))):e instanceof Map&&(n=uP(e)),n||i?new SP(t,n,i):null}var of=class of{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=of.initialStylesByElement.get(e);r||of.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ss(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ss(this._element,this._initialStyles),this._endStyles&&(Ss(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(of.initialStylesByElement.delete(this._element),this._startStyles&&(_u(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_u(this._element,this._endStyles),this._endStyles=null),Ss(this._element,this._initialStyles),this._state=3)}};of.initialStylesByElement=new WeakMap;var SP=of;function uP(t){let e=null;return t.forEach((n,i)=>{qse(i)&&(e=e||new Map,e.set(i,n))}),e}function qse(t){return t==="display"||t==="position"}var AC=class{constructor(e,n,i,r){this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(e,n,i){return e.animate(this._convertKeyframesToObject(n),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:OP(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},MC=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return D$(e,n)}getParentElement(e){return AP(e)}query(e,n,i){return x$(e,n,i)}computeStyle(e,n,i){return OP(e,n)}animate(e,n,i,r,o,a=[]){let l=r==0?"both":"forwards",d={duration:i,delay:r,fill:l};o&&(d.easing=o);let h=new Map,m=a.filter(E=>E instanceof AC);hse(i,r)&&m.forEach(E=>{E.currentSnapshot.forEach((w,S)=>h.set(S,w))});let v=lse(n).map(E=>new Map(E));v=fse(e,v,h);let y=zse(e,v);return new AC(e,v,d,y)}};var bC="@",V$="@.disabled",PC=class{constructor(e,n,i,r){this.namespaceId=e,this.delegate=n,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,i,r=!0){this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){n.charAt(0)==bC&&n==V$?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.delegate.listen(e,n,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},TP=class extends PC{constructor(e,n,i,r,o){super(n,i,r,o),this.factory=e,this.namespaceId=n}setProperty(e,n,i){n.charAt(0)==bC?n.charAt(1)=="."&&n==V$?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,n.slice(1),i):this.delegate.setProperty(e,n,i)}listen(e,n,i){if(n.charAt(0)==bC){let r=Wse(e),o=n.slice(1),a="";return o.charAt(0)!=bC&&([o,a]=Kse(o)),this.engine.listen(this.namespaceId,r,o,a,l=>{let d=l._data||-1;this.factory.scheduleListenerCallback(d,i,l)})}return this.delegate.listen(e,n,i)}};function Wse(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function Kse(t){let e=t.indexOf("."),n=t.substring(0,e),i=t.slice(e+1);return[n,i]}var OC=class{constructor(e,n,i){this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(r,o)=>{let a=o?.parentNode(r);a&&o.removeChild(a,r)}}createRenderer(e,n){let i="",r=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let h=this._rendererCache,m=h.get(r);if(!m){let v=()=>h.delete(r);m=new PC(i,r,this.engine,v),h.set(r,m)}return m}let o=n.id,a=n.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);let l=h=>{Array.isArray(h)?h.forEach(l):this.engine.registerTrigger(o,a,e,h.name,h)};return n.data.animation.forEach(l),new TP(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[a,l]=o;a(l)}),this._animationCallbacksBuffer=[]})}),r.push([n,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var Qse=(()=>{let e=class e extends sf{constructor(i,r,o){super(i,r,o,J(Jp,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(se(Ei),se(wu),se(bu))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();function Jse(){return new IC}function Xse(t,e,n){return new OC(t,e,n)}var j$=[{provide:bu,useFactory:Jse},{provide:sf,useClass:Qse},{provide:El,useFactory:Xse,deps:[pC,sf,Ct]}],Zse=[{provide:wu,useFactory:()=>new MC},{provide:r1,useValue:"BrowserAnimations"},...j$],GEe=[{provide:wu,useClass:MP},{provide:r1,useValue:"NoopAnimations"},...j$];function U$(){return Tl("NgEagerAnimations"),[...Zse]}var Xe="primary",kv=Symbol("RouteTitle"),jP=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function df(t){return new jP(t)}function eae(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let a=i[o],l=t[o];if(a.startsWith(":"))r[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function tae(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ts(t[n],e[n]))return!1;return!0}function Ts(t,e){let n=t?UP(t):void 0,i=e?UP(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!q$(t[r],e[r]))return!1;return!0}function UP(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function q$(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function W$(t){return t.length>0?t[t.length-1]:null}function Oc(t){return bS(t)?t:Ml(t)?Qt(Promise.resolve(t)):Re(t)}var nae={exact:Y$,subset:Q$},K$={exact:iae,subset:rae,ignored:()=>!0};function B$(t,e,n){return nae[n.paths](t.root,e.root,n.matrixParams)&&K$[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function iae(t,e){return Ts(t,e)}function Y$(t,e,n){if(!Eu(t.segments,e.segments)||!NC(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!Y$(t.children[i],e.children[i],n))return!1;return!0}function rae(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>q$(t[n],e[n]))}function Q$(t,e,n){return J$(t,e,e.segments,n)}function J$(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!Eu(r,n)||e.hasChildren()||!NC(r,n,i))}else if(t.segments.length===n.length){if(!Eu(t.segments,n)||!NC(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!Q$(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Eu(t.segments,r)||!NC(t.segments,r,i)||!t.children[Xe]?!1:J$(t.children[Xe],e,o,i)}}function NC(t,e,n){return e.every((i,r)=>K$[n](t[r].parameters,i.parameters))}var Mc=class{constructor(e=new Lt([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=df(this.queryParams),this._queryParamMap}toString(){return aae.serialize(this)}},Lt=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return FC(this)}},Cu=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=df(this.parameters),this._parameterMap}toString(){return Z$(this)}};function oae(t,e){return Eu(t,e)&&t.every((n,i)=>Ts(n.parameters,e[i].parameters))}function Eu(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function sae(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===Xe&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==Xe&&(n=n.concat(e(r,i)))}),n}var hO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>new VC,providedIn:"root"});let t=e;return t})(),VC=class{parse(e){let n=new $P(e);return new Mc(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${_v(e.root,!0)}`,i=uae(e.queryParams),r=typeof e.fragment=="string"?`#${cae(e.fragment)}`:"";return`${n}${i}${r}`}},aae=new VC;function FC(t){return t.segments.map(e=>Z$(e)).join("/")}function _v(t,e){if(!t.hasChildren())return FC(t);if(e){let n=t.children[Xe]?_v(t.children[Xe],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==Xe&&i.push(`${r}:${_v(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=sae(t,(i,r)=>r===Xe?[_v(t.children[Xe],!1)]:[`${r}:${_v(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[Xe]!=null?`${FC(t)}/${n[0]}`:`${FC(t)}/(${n.join("//")})`}}function X$(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kC(t){return X$(t).replace(/%3B/gi,";")}function cae(t){return encodeURI(t)}function BP(t){return X$(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function LC(t){return decodeURIComponent(t)}function $$(t){return LC(t.replace(/\+/g,"%20"))}function Z$(t){return`${BP(t.path)}${lae(t.parameters)}`}function lae(t){return Object.entries(t).map(([e,n])=>`;${BP(e)}=${BP(n)}`).join("")}function uae(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${kC(n)}=${kC(r)}`).join("&"):`${kC(n)}=${kC(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var dae=/^[^\/()?;#]+/;function NP(t){let e=t.match(dae);return e?e[0]:""}var hae=/^[^\/()?;=#]+/;function fae(t){let e=t.match(hae);return e?e[0]:""}var pae=/^[^=?&#]+/;function mae(t){let e=t.match(pae);return e?e[0]:""}var gae=/^[^&#]+/;function vae(t){let e=t.match(gae);return e?e[0]:""}var $P=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lt([],{}):new Lt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[Xe]=new Lt(e,n)),i}parseSegment(){let e=NP(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new X(4009,!1);return this.capture(e),new Cu(LC(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=fae(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=NP(this.remaining);r&&(i=r,this.capture(i))}e[LC(n)]=LC(i)}parseQueryParam(e){let n=mae(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let a=vae(this.remaining);a&&(i=a,this.capture(i))}let r=$$(n),o=$$(i);if(e.hasOwnProperty(r)){let a=e[r];Array.isArray(a)||(a=[a],e[r]=a),a.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=NP(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new X(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Xe);let a=this.parseChildren();n[o]=Object.keys(a).length===1?a[Xe]:new Lt([],a),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new X(4011,!1)}};function e9(t){return t.segments.length>0?new Lt([],{[Xe]:t}):t}function t9(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=t9(r);if(i===Xe&&o.segments.length===0&&o.hasChildren())for(let[a,l]of Object.entries(o.children))e[a]=l;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new Lt(t.segments,e);return yae(n)}function yae(t){if(t.numberOfChildren===1&&t.children[Xe]){let e=t.children[Xe];return new Lt(t.segments.concat(e.segments),e.children)}return t}function hf(t){return t instanceof Mc}function _ae(t,e,n=null,i=null){let r=n9(t);return i9(r,e,n,i)}function n9(t){let e;function n(o){let a={};for(let d of o.children){let h=n(d);a[d.outlet]=h}let l=new Lt(o.url,a);return o===t&&(e=l),l}let i=n(t.root),r=e9(i);return e??r}function i9(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return FP(r,r,r,n,i);let o=wae(e);if(o.toRoot())return FP(r,r,new Lt([],{}),n,i);let a=bae(o,r,t),l=a.processChildren?Cv(a.segmentGroup,a.index,o.commands):o9(a.segmentGroup,a.index,o.commands);return FP(r,a.segmentGroup,l,n,i)}function jC(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Sv(t){return typeof t=="object"&&t!=null&&t.outlets}function FP(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([d,h])=>{o[d]=Array.isArray(h)?h.map(m=>`${m}`):`${h}`});let a;t===e?a=n:a=r9(t,e,n);let l=e9(t9(a));return new Mc(l,o,r)}function r9(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=r9(o,e,n)}),new Lt(t.segments,i)}var UC=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&jC(i[0]))throw new X(4003,!1);let r=i.find(Sv);if(r&&r!==W$(i))throw new X(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function wae(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new UC(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([d,h])=>{l[d]=typeof h=="string"?h.split("/"):h}),[...r,{outlets:l}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:a===0?(o.split("/").forEach((l,d)=>{d==0&&l==="."||(d==0&&l===""?n=!0:l===".."?e++:l!=""&&r.push(l))}),r):[...r,o]},[]);return new UC(n,e,i)}var lf=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function bae(t,e,n){if(t.isAbsolute)return new lf(e,!0,0);if(!n)return new lf(e,!1,NaN);if(n.parent===null)return new lf(n,!0,0);let i=jC(t.commands[0])?0:1,r=n.segments.length-1+i;return Cae(n,r,t.numberOfDoubleDots)}function Cae(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new X(4005,!1);r=i.segments.length}return new lf(i,!1,r-o)}function Eae(t){return Sv(t[0])?t[0].outlets:{[Xe]:t}}function o9(t,e,n){if(t??=new Lt([],{}),t.segments.length===0&&t.hasChildren())return Cv(t,e,n);let i=Iae(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new Lt(t.segments.slice(0,i.pathIndex),{});return o.children[Xe]=new Lt(t.segments.slice(i.pathIndex),t.children),Cv(o,0,r)}else return i.match&&r.length===0?new Lt(t.segments,{}):i.match&&!t.hasChildren()?HP(t,e,n):i.match?Cv(t,0,r):HP(t,e,n)}function Cv(t,e,n){if(n.length===0)return new Lt(t.segments,{});{let i=Eae(n),r={};if(Object.keys(i).some(o=>o!==Xe)&&t.children[Xe]&&t.numberOfChildren===1&&t.children[Xe].segments.length===0){let o=Cv(t.children[Xe],e,n);return new Lt(t.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[o]=o9(t.children[o],e,a))}),Object.entries(t.children).forEach(([o,a])=>{i[o]===void 0&&(r[o]=a)}),new Lt(t.segments,r)}}function Iae(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let a=t.segments[r],l=n[i];if(Sv(l))break;let d=`${l}`,h=i<n.length-1?n[i+1]:null;if(r>0&&d===void 0)break;if(d&&h&&typeof h=="object"&&h.outlets===void 0){if(!G$(d,h,a))return o;i+=2}else{if(!G$(d,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function HP(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(Sv(o)){let d=Sae(o.outlets);return new Lt(i,d)}if(r===0&&jC(n[0])){let d=t.segments[e];i.push(new Cu(d.path,H$(n[0]))),r++;continue}let a=Sv(o)?o.outlets[Xe]:`${o}`,l=r<n.length-1?n[r+1]:null;a&&l&&jC(l)?(i.push(new Cu(a,H$(l))),r+=2):(i.push(new Cu(a,{})),r++)}return new Lt(i,{})}function Sae(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=HP(new Lt([],{}),0,i))}),e}function H$(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function G$(t,e,n){return t==n.path&&Ts(e,n.parameters)}var Ev="imperative",Di=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Di||{}),Kr=class{constructor(e,n){this.id=e,this.url=n}},Tv=class extends Kr{constructor(e,n,i="imperative",r=null){super(e,n),this.type=Di.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ya=class extends Kr{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=Di.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Wr=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Wr||{}),GP=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(GP||{}),Pc=class extends Kr{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Di.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Iu=class extends Kr{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Di.NavigationSkipped}},Dv=class extends Kr{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=Di.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},BC=class extends Kr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Di.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zP=class extends Kr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Di.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qP=class extends Kr{constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Di.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},WP=class extends Kr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Di.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},KP=class extends Kr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Di.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},YP=class{constructor(e){this.route=e,this.type=Di.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},QP=class{constructor(e){this.route=e,this.type=Di.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},JP=class{constructor(e){this.snapshot=e,this.type=Di.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},XP=class{constructor(e){this.snapshot=e,this.type=Di.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ZP=class{constructor(e){this.snapshot=e,this.type=Di.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},eO=class{constructor(e){this.snapshot=e,this.type=Di.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var xv=class{},Av=class{constructor(e){this.url=e}};var tO=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new WC,this.attachRef=null}},WC=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new tO,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$C=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=nO(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=nO(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=iO(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return iO(e,this._root).map(n=>n.value)}};function nO(t,e){if(t===e.value)return e;for(let n of e.children){let i=nO(t,n);if(i)return i}return null}function iO(t,e){if(t===e.value)return[e];for(let n of e.children){let i=iO(t,n);if(i.length)return i.unshift(e),i}return[]}var Dr=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function cf(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var HC=class extends $C{constructor(e,n){super(e),this.snapshot=n,pO(this,e)}toString(){return this.snapshot.toString()}};function s9(t){let e=Tae(t),n=new Jn([new Cu("",{})]),i=new Jn({}),r=new Jn({}),o=new Jn({}),a=new Jn(""),l=new nr(n,i,o,a,r,Xe,t,e.root);return l.snapshot=e.root,new HC(new Dr(l,[]),e)}function Tae(t){let e={},n={},i={},r="",o=new Mv([],e,i,r,n,Xe,t,null,{});return new GC("",new Dr(o,[]))}var nr=class{constructor(e,n,i,r,o,a,l,d){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=l,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(Ne(h=>h[kv]))??Re(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ne(e=>df(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ne(e=>df(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function fO(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:ne(ne({},e.params),t.params),data:ne(ne({},e.data),t.data),resolve:ne(ne(ne(ne({},t.data),e.data),r?.data),t._resolvedData)}:i={params:ne({},t.params),data:ne({},t.data),resolve:ne(ne({},t.data),t._resolvedData??{})},r&&c9(r)&&(i.resolve[kv]=r.title),i}var Mv=class{get title(){return this.data?.[kv]}constructor(e,n,i,r,o,a,l,d,h){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=l,this.routeConfig=d,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=df(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=df(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},GC=class extends $C{constructor(e,n){super(n),this.url=e,pO(this,n)}toString(){return a9(this._root)}};function pO(t,e){e.value._routerState=t,e.children.forEach(n=>pO(t,n))}function a9(t){let e=t.children.length>0?` { ${t.children.map(a9).join(", ")} } `:"";return`${t.value}${e}`}function LP(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ts(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ts(e.params,n.params)||t.paramsSubject.next(n.params),tae(e.url,n.url)||t.urlSubject.next(n.url),Ts(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function rO(t,e){let n=Ts(t.params,e.params)&&oae(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||rO(t.parent,e.parent))}function c9(t){return typeof t.title=="string"||t.title===null}var Rv=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Xe,this.activateEvents=new zt,this.deactivateEvents=new zt,this.attachEvents=new zt,this.detachEvents=new zt,this.parentContexts=J(WC),this.location=J(Ci),this.changeDetector=J(na),this.environmentInjector=J(hi),this.inputBinder=J(mO,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new X(4013,!1);this._activatedRoute=i;let o=this.location,l=i.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,h=new oO(i,d,o.injector);this.activated=o.createComponent(l,{index:o.length,injector:h,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=At({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_o]});let t=e;return t})(),oO=class{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===nr?this.route:e===WC?this.childContexts:this.parent.get(e,n)}},mO=new we("");function Dae(t,e,n){let i=Pv(t,e._root,n?n._root:void 0);return new HC(i,e)}function Pv(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=xae(t,e,n);return new Dr(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(l=>Pv(t,l)),a}}let i=Aae(e.value),r=e.children.map(o=>Pv(t,o));return new Dr(i,r)}}function xae(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Pv(t,i,r);return Pv(t,i)})}function Aae(t){return new nr(new Jn(t.url),new Jn(t.params),new Jn(t.queryParams),new Jn(t.fragment),new Jn(t.data),t.outlet,t.component,t)}var l9="ngNavigationCancelingError";function u9(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=hf(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=d9(!1,Wr.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function d9(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[l9]=!0,n.cancellationCode=e,n}function Mae(t){return h9(t)&&hf(t.url)}function h9(t){return!!t&&t[l9]}var Pae=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=de({type:e,selectors:[["ng-component"]],standalone:!0,features:[pe],decls:1,vars:0,template:function(r,o){r&1&&ee(0,"router-outlet")},dependencies:[Rv],encapsulation:2});let t=e;return t})();function Oae(t,e){return t.providers&&!t._injector&&(t._injector=T1(t.providers,e,`Route: ${t.path}`)),t._injector??e}function gO(t){let e=t.children&&t.children.map(gO),n=e?xt(ne({},t),{children:e}):ne({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Xe&&(n.component=Pae),n}function Ds(t){return t.outlet||Xe}function kae(t,e){let n=t.filter(i=>Ds(i)===e);return n.push(...t.filter(i=>Ds(i)!==e)),n}function Nv(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Rae=(t,e,n,i)=>Ne(r=>(new sO(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),sO=class{constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),LP(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=cf(n);e.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(e,n,a.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=cf(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);if(i&&i.outlet){let a=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:l})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=cf(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=cf(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new eO(o.value.snapshot))}),e.children.length&&this.forwardEvent(new XP(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(LP(r),r===o)if(r.component){let a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,a.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),LP(l.route.value),this.activateChildRoutes(e,null,a.children)}else{let l=Nv(r.snapshot);a.attachRef=null,a.route=r,a.injector=l,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,i)}},zC=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},uf=class{constructor(e,n){this.component=e,this.route=n}};function Nae(t,e,n){let i=t._root,r=e?e._root:null;return wv(i,r,n,[i.value])}function Fae(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function mf(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!LV(t)?t:e.get(t):i}function wv(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=cf(e);return t.children.forEach(a=>{Lae(a,o[a.value.outlet],n,i.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,l])=>Iv(l,n.getContext(a),r)),r}function Lae(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,a=e?e.value:null,l=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let d=Vae(a,o,o.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new zC(i)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?wv(t,e,l?l.children:null,i,r):wv(t,e,n,i,r),d&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new uf(l.outlet.component,a))}else a&&Iv(e,l,r),r.canActivateChecks.push(new zC(i)),o.component?wv(t,null,l?l.children:null,i,r):wv(t,null,n,i,r);return r}function Vae(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Eu(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Eu(t.url,e.url)||!Ts(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rO(t,e)||!Ts(t.queryParams,e.queryParams);case"paramsChange":default:return!rO(t,e)}}function Iv(t,e,n){let i=cf(t),r=t.value;Object.entries(i).forEach(([o,a])=>{r.component?e?Iv(a,e.children.getContext(o),n):Iv(a,null,n):Iv(a,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new uf(e.outlet.component,r)):n.canDeactivateChecks.push(new uf(null,r)):n.canDeactivateChecks.push(new uf(null,r))}function Fv(t){return typeof t=="function"}function jae(t){return typeof t=="boolean"}function Uae(t){return t&&Fv(t.canLoad)}function Bae(t){return t&&Fv(t.canActivate)}function $ae(t){return t&&Fv(t.canActivateChild)}function Hae(t){return t&&Fv(t.canDeactivate)}function Gae(t){return t&&Fv(t.canMatch)}function f9(t){return t instanceof wr||t?.name==="EmptyError"}var RC=Symbol("INITIAL_VALUE");function ff(){return Pi(t=>K_(t.map(e=>e.pipe(Hs(1),xS(RC)))).pipe(Ne(e=>{for(let n of e)if(n!==!0){if(n===RC)return RC;if(n===!1||n instanceof Mc)return n}return!0}),di(e=>e!==RC),Hs(1)))}function zae(t,e){return kn(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return a.length===0&&o.length===0?Re(xt(ne({},n),{guardsResult:!0})):qae(a,i,r,t).pipe(kn(l=>l&&jae(l)?Wae(i,o,t,e):Re(l)),Ne(l=>xt(ne({},n),{guardsResult:l})))})}function qae(t,e,n,i){return Qt(t).pipe(kn(r=>Xae(r.component,r.route,n,e,i)),Yo(r=>r!==!0,!0))}function Wae(t,e,n,i){return Qt(e).pipe(Ka(r=>Vd(Yae(r.route.parent,i),Kae(r.route,i),Jae(t,r.path,n),Qae(t,r.route,n))),Yo(r=>r!==!0,!0))}function Kae(t,e){return t!==null&&e&&e(new ZP(t)),Re(!0)}function Yae(t,e){return t!==null&&e&&e(new JP(t)),Re(!0)}function Qae(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return Re(!0);let r=i.map(o=>Y_(()=>{let a=Nv(e)??n,l=mf(o,a),d=Bae(l)?l.canActivate(e,t):Zs(a,()=>l(e,t));return Oc(d).pipe(Yo())}));return Re(r).pipe(ff())}function Jae(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>Fae(a)).filter(a=>a!==null).map(a=>Y_(()=>{let l=a.guards.map(d=>{let h=Nv(a.node)??n,m=mf(d,h),v=$ae(m)?m.canActivateChild(i,t):Zs(h,()=>m(i,t));return Oc(v).pipe(Yo())});return Re(l).pipe(ff())}));return Re(o).pipe(ff())}function Xae(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Re(!0);let a=o.map(l=>{let d=Nv(e)??r,h=mf(l,d),m=Hae(h)?h.canDeactivate(t,e,n,i):Zs(d,()=>h(t,e,n,i));return Oc(m).pipe(Yo())});return Re(a).pipe(ff())}function Zae(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return Re(!0);let o=r.map(a=>{let l=mf(a,t),d=Uae(l)?l.canLoad(e,n):Zs(t,()=>l(e,n));return Oc(d)});return Re(o).pipe(ff(),p9(i))}function p9(t){return fS(Rn(e=>{if(hf(e))throw u9(t,e)}),Ne(e=>e===!0))}function ece(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return Re(!0);let o=r.map(a=>{let l=mf(a,t),d=Gae(l)?l.canMatch(e,n):Zs(t,()=>l(e,n));return Oc(d)});return Re(o).pipe(ff(),p9(i))}var Ov=class{constructor(e){this.segmentGroup=e||null}},qC=class extends Error{constructor(e){super(),this.urlTree=e}};function af(t){return Fd(new Ov(t))}function tce(t){return Fd(new X(4e3,!1))}function nce(t){return Fd(d9(!1,Wr.GuardRejected))}var aO=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Re(i);if(r.numberOfChildren>1||!r.children[Xe])return tce(e.redirectTo);r=r.children[Xe]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new qC(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new Mc(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let l=o.substring(1);i[r]=n[l]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),a={};return Object.entries(n.children).forEach(([l,d])=>{a[l]=this.createSegmentGroup(e,d,i,r)}),new Lt(o,a)}createSegments(e,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new X(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},cO={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ice(t,e,n,i,r){let o=vO(t,e,n);return o.matched?(i=Oae(e,i),ece(i,e,n,r).pipe(Ne(a=>a===!0?o:ne({},cO)))):Re(o)}function vO(t,e,n){if(e.path==="**")return rce(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?ne({},cO):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||eae)(n,t,e);if(!r)return ne({},cO);let o={};Object.entries(r.posParams??{}).forEach(([l,d])=>{o[l]=d.path});let a=r.consumed.length>0?ne(ne({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function rce(t){return{matched:!0,parameters:t.length>0?W$(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function z$(t,e,n,i){return n.length>0&&ace(t,n,i)?{segmentGroup:new Lt(e,sce(i,new Lt(n,t.children))),slicedSegments:[]}:n.length===0&&cce(t,n,i)?{segmentGroup:new Lt(t.segments,oce(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Lt(t.segments,t.children),slicedSegments:n}}function oce(t,e,n,i){let r={};for(let o of n)if(KC(t,e,o)&&!i[Ds(o)]){let a=new Lt([],{});r[Ds(o)]=a}return ne(ne({},i),r)}function sce(t,e){let n={};n[Xe]=e;for(let i of t)if(i.path===""&&Ds(i)!==Xe){let r=new Lt([],{});n[Ds(i)]=r}return n}function ace(t,e,n){return n.some(i=>KC(t,e,i)&&Ds(i)!==Xe)}function cce(t,e,n){return n.some(i=>KC(t,e,i))}function KC(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function lce(t,e,n,i){return Ds(t)!==i&&(i===Xe||!KC(e,n,t))?!1:vO(e,t,n).matched}function uce(t,e,n){return e.length===0&&!t.children[n]}var lO=class{};function dce(t,e,n,i,r,o,a="emptyOnly"){return new uO(t,e,n,i,r,a,o).recognize()}var hce=31,uO=class{constructor(e,n,i,r,o,a,l){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=l,this.applyRedirects=new aO(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new X(4002,`'${e.segmentGroup}'`)}recognize(){let e=z$(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ne(n=>{let i=new Mv([],Object.freeze({}),Object.freeze(ne({},this.urlTree.queryParams)),this.urlTree.fragment,{},Xe,this.rootComponentType,null,{}),r=new Dr(i,n),o=new GC("",r),a=_ae(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(o._root,null),{state:o,tree:a}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Xe).pipe(Ko(i=>{if(i instanceof qC)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Ov?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=fO(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(Ne(o=>o instanceof Dr?[o]:[]))}processChildren(e,n,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return Qt(r).pipe(Ka(o=>{let a=i.children[o],l=kae(n,o);return this.processSegmentGroup(e,l,a,o)}),TS((o,a)=>(o.push(...a),o)),Ya(null),SS(),kn(o=>{if(o===null)return af(i);let a=m9(o);return fce(a),Re(a)}))}processSegment(e,n,i,r,o,a){return Qt(n).pipe(Ka(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,i,r,o,a).pipe(Ko(d=>{if(d instanceof Ov)return Re(null);throw d}))),Yo(l=>!!l),Ko(l=>{if(f9(l))return uce(i,r,o)?Re(new lO):af(i);throw l}))}processSegmentAgainstRoute(e,n,i,r,o,a,l){return lce(i,r,o,a)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,a):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,a):af(r):af(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,a){let{matched:l,consumedSegments:d,positionalParamSegments:h,remainingSegments:m}=vO(n,r,o);if(!l)return af(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>hce&&(this.allowRedirects=!1));let v=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,h);return this.applyRedirects.lineralizeSegments(r,v).pipe(kn(y=>this.processSegment(e,i,n,y.concat(m),a,!1)))}matchSegmentAgainstRoute(e,n,i,r,o){let a=ice(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(Pi(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Pi(({routes:d})=>{let h=i._loadedInjector??e,{consumedSegments:m,remainingSegments:v,parameters:y}=l,E=new Mv(m,y,Object.freeze(ne({},this.urlTree.queryParams)),this.urlTree.fragment,mce(i),Ds(i),i.component??i._loadedComponent??null,i,gce(i)),{segmentGroup:w,slicedSegments:S}=z$(n,m,v,d);if(S.length===0&&w.hasChildren())return this.processChildren(h,d,w).pipe(Ne(O=>O===null?null:new Dr(E,O)));if(d.length===0&&S.length===0)return Re(new Dr(E,[]));let D=Ds(i)===o;return this.processSegment(h,d,w,S,D?Xe:o,!0).pipe(Ne(O=>new Dr(E,O instanceof Dr?[O]:[])))}))):af(n)))}getChildConfig(e,n,i){return n.children?Re({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Re({routes:n._loadedRoutes,injector:n._loadedInjector}):Zae(e,n,i,this.urlSerializer).pipe(kn(r=>r?this.configLoader.loadChildren(e,n).pipe(Rn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):nce(n))):Re({routes:[],injector:e})}};function fce(t){t.sort((e,n)=>e.value.outlet===Xe?-1:n.value.outlet===Xe?1:e.value.outlet.localeCompare(n.value.outlet))}function pce(t){let e=t.value.routeConfig;return e&&e.path===""}function m9(t){let e=[],n=new Set;for(let i of t){if(!pce(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=m9(i.children);e.push(new Dr(i.value,r))}return e.filter(i=>!n.has(i))}function mce(t){return t.data||{}}function gce(t){return t.resolve||{}}function vce(t,e,n,i,r,o){return kn(a=>dce(t,e,n,i,a.extractedUrl,r,o).pipe(Ne(({state:l,tree:d})=>xt(ne({},a),{targetSnapshot:l,urlAfterRedirects:d}))))}function yce(t,e){return kn(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Re(n);let o=new Set(r.map(d=>d.route)),a=new Set;for(let d of o)if(!a.has(d))for(let h of g9(d))a.add(h);let l=0;return Qt(a).pipe(Ka(d=>o.has(d)?_ce(d,i,t,e):(d.data=fO(d,d.parent,t).resolve,Re(void 0))),Rn(()=>l++),Ud(1),kn(d=>l===a.size?Re(n):ar))})}function g9(t){let e=t.children.map(n=>g9(n)).flat();return[t,...e]}function _ce(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!c9(r)&&(o[kv]=r.title),wce(o,t,e,i).pipe(Ne(a=>(t._resolvedData=a,t.data=fO(t,t.parent,n).resolve,null)))}function wce(t,e,n,i){let r=UP(t);if(r.length===0)return Re({});let o={};return Qt(r).pipe(kn(a=>bce(t[a],e,n,i).pipe(Yo(),Rn(l=>{o[a]=l}))),Ud(1),IS(o),Ko(a=>f9(a)?ar:Fd(a)))}function bce(t,e,n,i){let r=Nv(e)??i,o=mf(t,r),a=o.resolve?o.resolve(e,n):Zs(r,()=>o(e,n));return Oc(a)}function VP(t){return Pi(e=>{let n=t(e);return n?Qt(n).pipe(Ne(()=>e)):Re(e)})}var v9=(()=>{let e=class e{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(a=>a.outlet===Xe);return r}getResolvedTitleForRoute(i){return i.data[kv]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>J(Cce),providedIn:"root"});let t=e;return t})(),Cce=(()=>{let e=class e extends v9{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(se(c$))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),YC=new we("",{providedIn:"root",factory:()=>({})}),yO=new we(""),Ece=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=J(x1)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Re(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=Oc(i.loadComponent()).pipe(Ne(y9),Rn(a=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=a}),pl(()=>{this.componentLoaders.delete(i)})),o=new Md(r,()=>new ui).pipe(Ad());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Re({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let a=Ice(r,this.compiler,i,this.onLoadEndListener).pipe(pl(()=>{this.childrenLoaders.delete(r)})),l=new Md(a,()=>new ui).pipe(Ad());return this.childrenLoaders.set(r,l),l}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ice(t,e,n,i){return Oc(t.loadChildren()).pipe(Ne(y9),kn(r=>r instanceof Xp||Array.isArray(r)?Re(r):Qt(e.compileModuleAsync(r))),Ne(r=>{i&&i(t);let o,a,l=!1;return Array.isArray(r)?(a=r,l=!0):(o=r.create(n).injector,a=o.get(yO,[],{optional:!0,self:!0}).flat()),{routes:a.map(gO),injector:o}}))}function Sce(t){return t&&typeof t=="object"&&"default"in t}function y9(t){return Sce(t)?t.default:t}var _O=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>J(Tce),providedIn:"root"});let t=e;return t})(),Tce=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Dce=new we("");var xce=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ui,this.transitionAbortSubject=new ui,this.configLoader=J(Ece),this.environmentInjector=J(hi),this.urlSerializer=J(hO),this.rootContexts=J(WC),this.location=J(cm),this.inputBindingEnabled=J(mO,{optional:!0})!==null,this.titleStrategy=J(v9),this.options=J(YC,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=J(_O),this.createViewTransition=J(Dce,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Re(void 0),this.rootComponentType=null;let i=o=>this.events.next(new YP(o)),r=o=>this.events.next(new QP(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(xt(ne(ne({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new Jn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ev,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(di(a=>a.id!==0),Ne(a=>xt(ne({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Pi(a=>{this.currentTransition=a;let l=!1,d=!1;return Re(a).pipe(Rn(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?xt(ne({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Pi(h=>{let m=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),v=h.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!m&&v!=="reload"){let y="";return this.events.next(new Iu(h.id,this.urlSerializer.serialize(h.rawUrl),y,GP.IgnoredSameUrlNavigation)),h.resolve(null),ar}if(this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Re(h).pipe(Pi(y=>{let E=this.transitions?.getValue();return this.events.next(new Tv(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),E!==this.transitions?.getValue()?ar:Promise.resolve(y)}),vce(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Rn(y=>{a.targetSnapshot=y.targetSnapshot,a.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=xt(ne({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let E=new BC(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(E)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(h.currentRawUrl)){let{id:y,extractedUrl:E,source:w,restoredState:S,extras:D}=h,O=new Tv(y,this.urlSerializer.serialize(E),w,S);this.events.next(O);let V=s9(this.rootComponentType).snapshot;return this.currentTransition=a=xt(ne({},h),{targetSnapshot:V,urlAfterRedirects:E,extras:xt(ne({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=E,Re(a)}else{let y="";return this.events.next(new Iu(h.id,this.urlSerializer.serialize(h.extractedUrl),y,GP.IgnoredByUrlHandlingStrategy)),h.resolve(null),ar}}),Rn(h=>{let m=new zP(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}),Ne(h=>(this.currentTransition=a=xt(ne({},h),{guards:Nae(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),a)),zae(this.environmentInjector,h=>this.events.next(h)),Rn(h=>{if(a.guardsResult=h.guardsResult,hf(h.guardsResult))throw u9(this.urlSerializer,h.guardsResult);let m=new qP(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.events.next(m)}),di(h=>h.guardsResult?!0:(this.cancelNavigationTransition(h,"",Wr.GuardRejected),!1)),VP(h=>{if(h.guards.canActivateChecks.length)return Re(h).pipe(Rn(m=>{let v=new WP(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}),Pi(m=>{let v=!1;return Re(m).pipe(yce(this.paramsInheritanceStrategy,this.environmentInjector),Rn({next:()=>v=!0,complete:()=>{v||this.cancelNavigationTransition(m,"",Wr.NoDataFromResolver)}}))}),Rn(m=>{let v=new KP(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}))}),VP(h=>{let m=v=>{let y=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(v.routeConfig).pipe(Rn(E=>{v.component=E}),Ne(()=>{})));for(let E of v.children)y.push(...m(E));return y};return K_(m(h.targetSnapshot.root)).pipe(Ya(null),Hs(1))}),VP(()=>this.afterPreactivation()),Pi(()=>{let{currentSnapshot:h,targetSnapshot:m}=a,v=this.createViewTransition?.(this.environmentInjector,h.root,m.root);return v?Qt(v).pipe(Ne(()=>a)):Re(a)}),Ne(h=>{let m=Dae(i.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return this.currentTransition=a=xt(ne({},h),{targetRouterState:m}),this.currentNavigation.targetRouterState=m,a}),Rn(()=>{this.events.next(new xv)}),Rae(this.rootContexts,i.routeReuseStrategy,h=>this.events.next(h),this.inputBindingEnabled),Hs(1),Rn({next:h=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ya(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects))),this.titleStrategy?.updateTitle(h.targetRouterState.snapshot),h.resolve(!0)},complete:()=>{l=!0}}),fo(this.transitionAbortSubject.pipe(Rn(h=>{throw h}))),pl(()=>{!l&&!d&&this.cancelNavigationTransition(a,"",Wr.SupersededByNewNavigation),this.currentTransition?.id===a.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ko(h=>{if(d=!0,h9(h))this.events.next(new Pc(a.id,this.urlSerializer.serialize(a.extractedUrl),h.message,h.cancellationCode)),Mae(h)?this.events.next(new Av(h.url)):a.resolve(!1);else{this.events.next(new Dv(a.id,this.urlSerializer.serialize(a.extractedUrl),h,a.targetSnapshot??void 0));try{a.resolve(i.errorHandler(h))}catch(m){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(m)}}return ar}))}))}cancelNavigationTransition(i,r,o){let a=new Pc(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(a),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ace(t){return t!==Ev}var Mce=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>J(Pce),providedIn:"root"});let t=e;return t})(),dO=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Pce=(()=>{let e=class e extends dO{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ki(e)))(o||e)}})(),e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_9=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>J(Oce),providedIn:"root"});let t=e;return t})(),Oce=(()=>{let e=class e extends _9{constructor(){super(...arguments),this.location=J(cm),this.urlSerializer=J(hO),this.options=J(YC,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=J(_O),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Mc,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=s9(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Tv)this.stateMemento=this.createStateMemento();else if(i instanceof Iu)this.rawUrlTree=r.initialUrl;else if(i instanceof BC){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else i instanceof xv?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof Pc&&(i.code===Wr.GuardRejected||i.code===Wr.NoDataFromResolver)?this.restoreHistory(r):i instanceof Dv?this.restoreHistory(r,!0):i instanceof ya&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let a=this.browserPageId,l=ne(ne({},r.extras.state),this.generateNgRouterState(r.id,a));this.location.replaceState(o,"",l)}else{let a=ne(ne({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",a)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,a=this.currentPageId-o;a!==0?this.location.historyGo(a):this.currentUrlTree===i.finalUrl&&a===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ki(e)))(o||e)}})(),e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bv=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(bv||{});function kce(t,e){t.events.pipe(di(n=>n instanceof ya||n instanceof Pc||n instanceof Dv||n instanceof Iu),Ne(n=>n instanceof ya||n instanceof Iu?bv.COMPLETE:(n instanceof Pc?n.code===Wr.Redirect||n.code===Wr.SupersededByNewNavigation:!1)?bv.REDIRECTING:bv.FAILED),di(n=>n!==bv.REDIRECTING),Hs(1)).subscribe(()=>{e()})}function Rce(t){throw t}var Nce={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Fce={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Kn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=J(tw),this.stateManager=J(_9),this.options=J(YC,{optional:!0})||{},this.pendingTasks=J(Dl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=J(xce),this.urlSerializer=J(hO),this.location=J(cm),this.urlHandlingStrategy=J(_O),this._events=new ui,this.errorHandler=this.options.errorHandler||Rce,this.navigated=!1,this.routeReuseStrategy=J(Mce),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=J(yO,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!J(mO,{optional:!0}),this.eventsSubscription=new On,this.isNgZoneEnabled=J(Ct)instanceof Ct&&Ct.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(o!==null&&a!==null){if(this.stateManager.handleRouterEvent(r,a),r instanceof Pc&&r.code!==Wr.Redirect&&r.code!==Wr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ya)this.navigated=!0;else if(r instanceof Av){let l=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),d={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Ace(o.source)};this.scheduleNavigation(l,Ev,null,d,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Vce(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ev,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let a={replaceUrl:!0},l=o?.navigationId?o:null;if(o){let h=ne({},o);delete h.navigationId,delete h.\u0275routerPageId,Object.keys(h).length!==0&&(a.state=h)}let d=this.parseUrl(i);this.scheduleNavigation(d,r,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(gO),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:a,fragment:l,queryParamsHandling:d,preserveFragment:h}=r,m=h?this.currentUrlTree.fragment:l,v=null;switch(d){case"merge":v=ne(ne({},this.currentUrlTree.queryParams),a);break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=a||null}v!==null&&(v=this.removeEmptyProps(v));let y;try{let E=o?o.snapshot:this.routerState.snapshot.root;y=n9(E)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),y=this.currentUrlTree.root}return i9(y,i,v,m??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=hf(i)?i:this.parseUrl(i),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,Ev,null,r)}navigate(i,r={skipLocationChange:!1}){return Lce(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=ne({},Nce):r===!1?o=ne({},Fce):o=r,hf(i))return B$(this.currentUrlTree,i,o);let a=this.parseUrl(i);return B$(this.currentUrlTree,a,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,a])=>(a!=null&&(r[o]=a),r),{})}scheduleNavigation(i,r,o,a,l){if(this.disposed)return Promise.resolve(!1);let d,h,m;l?(d=l.resolve,h=l.reject,m=l.promise):m=new Promise((y,E)=>{d=y,h=E});let v=this.pendingTasks.add();return kce(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(v))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:a,resolve:d,reject:h,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(y=>Promise.reject(y))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Lce(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new X(4008,!1)}function Vce(t){return!(t instanceof xv)&&!(t instanceof Av)}var pf=(()=>{let e=class e{constructor(i,r,o,a,l,d){this.router=i,this.route=r,this.tabIndexAttribute=o,this.renderer=a,this.el=l,this.locationStrategy=d,this.href=null,this.commands=null,this.onChanges=new ui,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let h=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement=h==="a"||h==="area",this.isAnchorElement?this.subscription=i.events.subscribe(m=>{m instanceof ya&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,o,a,l){let d=this.urlTree;if(d===null||this.isAnchorElement&&(i!==0||r||o||a||l||typeof this.target=="string"&&this.target!="_self"))return!0;let h={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(d,h),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:T3(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let o=this.renderer,a=this.el.nativeElement;r!==null?o.setAttribute(a,i,r):o.removeAttribute(a,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(R(Kn),R(nr),u1("tabindex"),R(bo),R(nn),R(ah))},e.\u0275dir=At({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&k("click",function(l){return o.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),r&2&&Q0("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[xe.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Zi],skipLocationChange:[xe.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Zi],replaceUrl:[xe.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Zi],routerLink:"routerLink"},standalone:!0,features:[am,_o]});let t=e;return t})(),w9=(()=>{let e=class e{get isActive(){return this._isActive}constructor(i,r,o,a,l){this.router=i,this.element=r,this.renderer=o,this.cdr=a,this.link=l,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new zt,this.routerEventsSubscription=i.events.subscribe(d=>{d instanceof ya&&this.update()})}ngAfterContentInit(){Re(this.links.changes,Re(null)).pipe(Wa()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let i=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Qt(i).pipe(Wa()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(i){let r=Array.isArray(i)?i:i.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let i=this.hasActiveLinks();this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.classes.forEach(r=>{i?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),i&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(i))})}isLinkActive(i){let r=jce(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let a=o.urlTree;return a?i.isActive(a,r):!1}}hasActiveLinks(){let i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}};e.\u0275fac=function(r){return new(r||e)(R(Kn),R(nn),R(bo),R(na),R(pf,8))},e.\u0275dir=At({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,a){if(r&1&&xj(a,pf,5),r&2){let l;X0(l=Z0())&&(o.links=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[_o]});let t=e;return t})();function jce(t){return!!t.paths}var Uce=new we("");function b9(t,...e){return rc([{provide:yO,multi:!0,useValue:t},[],{provide:nr,useFactory:Bce,deps:[Kn]},{provide:nw,multi:!0,useFactory:Hce},e.map(n=>n.\u0275providers)])}function Bce(t){return t.routerState.root}function $ce(t,e){return{\u0275kind:t,\u0275providers:e}}function Hce(){let t=J(ln);return e=>{let n=t.get(ss);if(e!==n.components[0])return;let i=t.get(Kn),r=t.get(Gce);t.get(zce)===1&&i.initialNavigation(),t.get(qce,null,at.Optional)?.setUpPreloading(),t.get(Uce,null,at.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Gce=new we("",{factory:()=>new ui}),zce=new we("",{providedIn:"root",factory:()=>1});var qce=new we("");function C9(t){return $ce(5,[{provide:YC,useValue:t}])}var Tn="top",ti="bottom",Yn="right",Ln="left",QC="auto",kc=[Tn,ti,Yn,Ln],_a="start",Su="end",E9="clippingParents",JC="viewport",gf="popper",I9="reference",wO=kc.reduce(function(t,e){return t.concat([e+"-"+_a,e+"-"+Su])},[]),XC=[].concat(kc,[QC]).reduce(function(t,e){return t.concat([e,e+"-"+_a,e+"-"+Su])},[]),Wce="beforeRead",Kce="read",Yce="afterRead",Qce="beforeMain",Jce="main",Xce="afterMain",Zce="beforeWrite",ele="write",tle="afterWrite",S9=[Wce,Kce,Yce,Qce,Jce,Xce,Zce,ele,tle];function yi(t){return t?(t.nodeName||"").toLowerCase():null}function dn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Yr(t){var e=dn(t).Element;return t instanceof e||t instanceof Element}function ni(t){var e=dn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function vf(t){if(typeof ShadowRoot>"u")return!1;var e=dn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function nle(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},o=e.elements[n];!ni(o)||!yi(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(a){var l=r[a];l===!1?o.removeAttribute(a):o.setAttribute(a,l===!0?"":l)}))})}function ile(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],o=e.attributes[i]||{},a=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),l=a.reduce(function(d,h){return d[h]="",d},{});!ni(r)||!yi(r)||(Object.assign(r.style,l),Object.keys(o).forEach(function(d){r.removeAttribute(d)}))})}}var Vv={name:"applyStyles",enabled:!0,phase:"write",fn:nle,effect:ile,requires:["computeStyles"]};function _i(t){return t.split("-")[0]}var Ro=Math.max,Tu=Math.min,wa=Math.round;function yf(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function jv(){return!/^((?!chrome|android).)*safari/i.test(yf())}function Qr(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),r=1,o=1;e&&ni(t)&&(r=t.offsetWidth>0&&wa(i.width)/t.offsetWidth||1,o=t.offsetHeight>0&&wa(i.height)/t.offsetHeight||1);var a=Yr(t)?dn(t):window,l=a.visualViewport,d=!jv()&&n,h=(i.left+(d&&l?l.offsetLeft:0))/r,m=(i.top+(d&&l?l.offsetTop:0))/o,v=i.width/r,y=i.height/o;return{width:v,height:y,top:m,right:h+v,bottom:m+y,left:h,x:h,y:m}}function Du(t){var e=Qr(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function Uv(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&vf(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function ir(t){return dn(t).getComputedStyle(t)}function bO(t){return["table","td","th"].indexOf(yi(t))>=0}function xi(t){return((Yr(t)?t.ownerDocument:t.document)||window.document).documentElement}function ba(t){return yi(t)==="html"?t:t.assignedSlot||t.parentNode||(vf(t)?t.host:null)||xi(t)}function T9(t){return!ni(t)||ir(t).position==="fixed"?null:t.offsetParent}function rle(t){var e=/firefox/i.test(yf()),n=/Trident/i.test(yf());if(n&&ni(t)){var i=ir(t);if(i.position==="fixed")return null}var r=ba(t);for(vf(r)&&(r=r.host);ni(r)&&["html","body"].indexOf(yi(r))<0;){var o=ir(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function No(t){for(var e=dn(t),n=T9(t);n&&bO(n)&&ir(n).position==="static";)n=T9(n);return n&&(yi(n)==="html"||yi(n)==="body"&&ir(n).position==="static")?e:n||rle(t)||e}function xu(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Au(t,e,n){return Ro(t,Tu(e,n))}function D9(t,e,n){var i=Au(t,e,n);return i>n?n:i}function Bv(){return{top:0,right:0,bottom:0,left:0}}function $v(t){return Object.assign({},Bv(),t)}function Hv(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var ole=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,$v(typeof e!="number"?e:Hv(e,kc))};function sle(t){var e,n=t.state,i=t.name,r=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,l=_i(n.placement),d=xu(l),h=[Ln,Yn].indexOf(l)>=0,m=h?"height":"width";if(!(!o||!a)){var v=ole(r.padding,n),y=Du(o),E=d==="y"?Tn:Ln,w=d==="y"?ti:Yn,S=n.rects.reference[m]+n.rects.reference[d]-a[d]-n.rects.popper[m],D=a[d]-n.rects.reference[d],O=No(o),V=O?d==="y"?O.clientHeight||0:O.clientWidth||0:0,$=S/2-D/2,x=v[E],te=V-y[m]-v[w],U=V/2-y[m]/2+$,oe=Au(x,U,te),Ee=d;n.modifiersData[i]=(e={},e[Ee]=oe,e.centerOffset=oe-U,e)}}function ale(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||Uv(e.elements.popper,r)&&(e.elements.arrow=r))}var x9={name:"arrow",enabled:!0,phase:"main",fn:sle,effect:ale,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Jr(t){return t.split("-")[1]}var cle={top:"auto",right:"auto",bottom:"auto",left:"auto"};function lle(t,e){var n=t.x,i=t.y,r=e.devicePixelRatio||1;return{x:wa(n*r)/r||0,y:wa(i*r)/r||0}}function A9(t){var e,n=t.popper,i=t.popperRect,r=t.placement,o=t.variation,a=t.offsets,l=t.position,d=t.gpuAcceleration,h=t.adaptive,m=t.roundOffsets,v=t.isFixed,y=a.x,E=y===void 0?0:y,w=a.y,S=w===void 0?0:w,D=typeof m=="function"?m({x:E,y:S}):{x:E,y:S};E=D.x,S=D.y;var O=a.hasOwnProperty("x"),V=a.hasOwnProperty("y"),$=Ln,x=Tn,te=window;if(h){var U=No(n),oe="clientHeight",Ee="clientWidth";if(U===dn(n)&&(U=xi(n),ir(U).position!=="static"&&l==="absolute"&&(oe="scrollHeight",Ee="scrollWidth")),U=U,r===Tn||(r===Ln||r===Yn)&&o===Su){x=ti;var Ge=v&&U===te&&te.visualViewport?te.visualViewport.height:U[oe];S-=Ge-i.height,S*=d?1:-1}if(r===Ln||(r===Tn||r===ti)&&o===Su){$=Yn;var Ze=v&&U===te&&te.visualViewport?te.visualViewport.width:U[Ee];E-=Ze-i.width,E*=d?1:-1}}var Ie=Object.assign({position:l},h&&cle),$e=m===!0?lle({x:E,y:S},dn(n)):{x:E,y:S};if(E=$e.x,S=$e.y,d){var Te;return Object.assign({},Ie,(Te={},Te[x]=V?"0":"",Te[$]=O?"0":"",Te.transform=(te.devicePixelRatio||1)<=1?"translate("+E+"px, "+S+"px)":"translate3d("+E+"px, "+S+"px, 0)",Te))}return Object.assign({},Ie,(e={},e[x]=V?S+"px":"",e[$]=O?E+"px":"",e.transform="",e))}function ule(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,o=n.adaptive,a=o===void 0?!0:o,l=n.roundOffsets,d=l===void 0?!0:l,h={placement:_i(e.placement),variation:Jr(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,A9(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,A9(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var M9={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ule,data:{}};var ZC={passive:!0};function dle(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,o=r===void 0?!0:r,a=i.resize,l=a===void 0?!0:a,d=dn(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&h.forEach(function(m){m.addEventListener("scroll",n.update,ZC)}),l&&d.addEventListener("resize",n.update,ZC),function(){o&&h.forEach(function(m){m.removeEventListener("scroll",n.update,ZC)}),l&&d.removeEventListener("resize",n.update,ZC)}}var P9={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:dle,data:{}};var hle={left:"right",right:"left",bottom:"top",top:"bottom"};function _f(t){return t.replace(/left|right|bottom|top/g,function(e){return hle[e]})}var fle={start:"end",end:"start"};function eE(t){return t.replace(/start|end/g,function(e){return fle[e]})}function Mu(t){var e=dn(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function Pu(t){return Qr(xi(t)).left+Mu(t).scrollLeft}function CO(t,e){var n=dn(t),i=xi(t),r=n.visualViewport,o=i.clientWidth,a=i.clientHeight,l=0,d=0;if(r){o=r.width,a=r.height;var h=jv();(h||!h&&e==="fixed")&&(l=r.offsetLeft,d=r.offsetTop)}return{width:o,height:a,x:l+Pu(t),y:d}}function EO(t){var e,n=xi(t),i=Mu(t),r=(e=t.ownerDocument)==null?void 0:e.body,o=Ro(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Ro(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-i.scrollLeft+Pu(t),d=-i.scrollTop;return ir(r||n).direction==="rtl"&&(l+=Ro(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:a,x:l,y:d}}function Ou(t){var e=ir(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function tE(t){return["html","body","#document"].indexOf(yi(t))>=0?t.ownerDocument.body:ni(t)&&Ou(t)?t:tE(ba(t))}function Rc(t,e){var n;e===void 0&&(e=[]);var i=tE(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),o=dn(i),a=r?[o].concat(o.visualViewport||[],Ou(i)?i:[]):i,l=e.concat(a);return r?l:l.concat(Rc(ba(a)))}function wf(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function ple(t,e){var n=Qr(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function O9(t,e,n){return e===JC?wf(CO(t,n)):Yr(e)?ple(e,n):wf(EO(xi(t)))}function mle(t){var e=Rc(ba(t)),n=["absolute","fixed"].indexOf(ir(t).position)>=0,i=n&&ni(t)?No(t):t;return Yr(i)?e.filter(function(r){return Yr(r)&&Uv(r,i)&&yi(r)!=="body"}):[]}function IO(t,e,n,i){var r=e==="clippingParents"?mle(t):[].concat(e),o=[].concat(r,[n]),a=o[0],l=o.reduce(function(d,h){var m=O9(t,h,i);return d.top=Ro(m.top,d.top),d.right=Tu(m.right,d.right),d.bottom=Tu(m.bottom,d.bottom),d.left=Ro(m.left,d.left),d},O9(t,a,i));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Gv(t){var e=t.reference,n=t.element,i=t.placement,r=i?_i(i):null,o=i?Jr(i):null,a=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,d;switch(r){case Tn:d={x:a,y:e.y-n.height};break;case ti:d={x:a,y:e.y+e.height};break;case Yn:d={x:e.x+e.width,y:l};break;case Ln:d={x:e.x-n.width,y:l};break;default:d={x:e.x,y:e.y}}var h=r?xu(r):null;if(h!=null){var m=h==="y"?"height":"width";switch(o){case _a:d[h]=d[h]-(e[m]/2-n[m]/2);break;case Su:d[h]=d[h]+(e[m]/2-n[m]/2);break;default:}}return d}function Fo(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,o=n.strategy,a=o===void 0?t.strategy:o,l=n.boundary,d=l===void 0?E9:l,h=n.rootBoundary,m=h===void 0?JC:h,v=n.elementContext,y=v===void 0?gf:v,E=n.altBoundary,w=E===void 0?!1:E,S=n.padding,D=S===void 0?0:S,O=$v(typeof D!="number"?D:Hv(D,kc)),V=y===gf?I9:gf,$=t.rects.popper,x=t.elements[w?V:y],te=IO(Yr(x)?x:x.contextElement||xi(t.elements.popper),d,m,a),U=Qr(t.elements.reference),oe=Gv({reference:U,element:$,strategy:"absolute",placement:r}),Ee=wf(Object.assign({},$,oe)),Ge=y===gf?Ee:U,Ze={top:te.top-Ge.top+O.top,bottom:Ge.bottom-te.bottom+O.bottom,left:te.left-Ge.left+O.left,right:Ge.right-te.right+O.right},Ie=t.modifiersData.offset;if(y===gf&&Ie){var $e=Ie[r];Object.keys(Ze).forEach(function(Te){var sn=[Yn,ti].indexOf(Te)>=0?1:-1,Qe=[Tn,ti].indexOf(Te)>=0?"y":"x";Ze[Te]+=$e[Qe]*sn})}return Ze}function SO(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,o=n.rootBoundary,a=n.padding,l=n.flipVariations,d=n.allowedAutoPlacements,h=d===void 0?XC:d,m=Jr(i),v=m?l?wO:wO.filter(function(w){return Jr(w)===m}):kc,y=v.filter(function(w){return h.indexOf(w)>=0});y.length===0&&(y=v);var E=y.reduce(function(w,S){return w[S]=Fo(t,{placement:S,boundary:r,rootBoundary:o,padding:a})[_i(S)],w},{});return Object.keys(E).sort(function(w,S){return E[w]-E[S]})}function gle(t){if(_i(t)===QC)return[];var e=_f(t);return[eE(t),e,eE(e)]}function vle(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,o=r===void 0?!0:r,a=n.altAxis,l=a===void 0?!0:a,d=n.fallbackPlacements,h=n.padding,m=n.boundary,v=n.rootBoundary,y=n.altBoundary,E=n.flipVariations,w=E===void 0?!0:E,S=n.allowedAutoPlacements,D=e.options.placement,O=_i(D),V=O===D,$=d||(V||!w?[_f(D)]:gle(D)),x=[D].concat($).reduce(function(vt,Ai){return vt.concat(_i(Ai)===QC?SO(e,{placement:Ai,boundary:m,rootBoundary:v,padding:h,flipVariations:w,allowedAutoPlacements:S}):Ai)},[]),te=e.rects.reference,U=e.rects.popper,oe=new Map,Ee=!0,Ge=x[0],Ze=0;Ze<x.length;Ze++){var Ie=x[Ze],$e=_i(Ie),Te=Jr(Ie)===_a,sn=[Tn,ti].indexOf($e)>=0,Qe=sn?"width":"height",H=Fo(e,{placement:Ie,boundary:m,rootBoundary:v,altBoundary:y,padding:h}),ie=sn?Te?Yn:Ln:Te?ti:Tn;te[Qe]>U[Qe]&&(ie=_f(ie));var he=_f(ie),Pe=[];if(o&&Pe.push(H[$e]<=0),l&&Pe.push(H[ie]<=0,H[he]<=0),Pe.every(function(vt){return vt})){Ge=Ie,Ee=!1;break}oe.set(Ie,Pe)}if(Ee)for(var rt=w?3:1,xn=function(Ai){var hr=x.find(function(pt){var Vn=oe.get(pt);if(Vn)return Vn.slice(0,Ai).every(function(an){return an})});if(hr)return Ge=hr,"break"},Rt=rt;Rt>0;Rt--){var ii=xn(Rt);if(ii==="break")break}e.placement!==Ge&&(e.modifiersData[i]._skip=!0,e.placement=Ge,e.reset=!0)}}var k9={name:"flip",enabled:!0,phase:"main",fn:vle,requiresIfExists:["offset"],data:{_skip:!1}};function R9(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function N9(t){return[Tn,Yn,ti,Ln].some(function(e){return t[e]>=0})}function yle(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,a=Fo(e,{elementContext:"reference"}),l=Fo(e,{altBoundary:!0}),d=R9(a,i),h=R9(l,r,o),m=N9(d),v=N9(h);e.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:h,isReferenceHidden:m,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":v})}var F9={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:yle};function _le(t,e,n){var i=_i(t),r=[Ln,Tn].indexOf(i)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],l=o[1];return a=a||0,l=(l||0)*r,[Ln,Yn].indexOf(i)>=0?{x:l,y:a}:{x:a,y:l}}function wle(t){var e=t.state,n=t.options,i=t.name,r=n.offset,o=r===void 0?[0,0]:r,a=XC.reduce(function(m,v){return m[v]=_le(v,e.rects,o),m},{}),l=a[e.placement],d=l.x,h=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=h),e.modifiersData[i]=a}var L9={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:wle};function ble(t){var e=t.state,n=t.name;e.modifiersData[n]=Gv({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var V9={name:"popperOffsets",enabled:!0,phase:"read",fn:ble,data:{}};function TO(t){return t==="x"?"y":"x"}function Cle(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,o=r===void 0?!0:r,a=n.altAxis,l=a===void 0?!1:a,d=n.boundary,h=n.rootBoundary,m=n.altBoundary,v=n.padding,y=n.tether,E=y===void 0?!0:y,w=n.tetherOffset,S=w===void 0?0:w,D=Fo(e,{boundary:d,rootBoundary:h,padding:v,altBoundary:m}),O=_i(e.placement),V=Jr(e.placement),$=!V,x=xu(O),te=TO(x),U=e.modifiersData.popperOffsets,oe=e.rects.reference,Ee=e.rects.popper,Ge=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,Ze=typeof Ge=="number"?{mainAxis:Ge,altAxis:Ge}:Object.assign({mainAxis:0,altAxis:0},Ge),Ie=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,$e={x:0,y:0};if(U){if(o){var Te,sn=x==="y"?Tn:Ln,Qe=x==="y"?ti:Yn,H=x==="y"?"height":"width",ie=U[x],he=ie+D[sn],Pe=ie-D[Qe],rt=E?-Ee[H]/2:0,xn=V===_a?oe[H]:Ee[H],Rt=V===_a?-Ee[H]:-oe[H],ii=e.elements.arrow,vt=E&&ii?Du(ii):{width:0,height:0},Ai=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Bv(),hr=Ai[sn],pt=Ai[Qe],Vn=Au(0,oe[H],vt[H]),an=$?oe[H]/2-rt-Vn-hr-Ze.mainAxis:xn-Vn-hr-Ze.mainAxis,$i=$?-oe[H]/2+rt+Vn+pt+Ze.mainAxis:Rt+Vn+pt+Ze.mainAxis,Or=e.elements.arrow&&No(e.elements.arrow),Bc=Or?x==="y"?Or.clientTop||0:Or.clientLeft||0:0,Ca=(Te=Ie?.[x])!=null?Te:0,Lu=ie+an-Ca-Bc,ri=ie+$i-Ca,$c=Au(E?Tu(he,Lu):he,ie,E?Ro(Pe,ri):Pe);U[x]=$c,$e[x]=$c-ie}if(l){var Hc,Vu=x==="x"?Tn:Ln,ju=x==="x"?ti:Yn,no=U[te],jo=te==="y"?"height":"width",Gc=no+D[Vu],io=no-D[ju],kr=[Tn,Ln].indexOf(O)!==-1,zc=(Hc=Ie?.[te])!=null?Hc:0,Ea=kr?Gc:no-oe[jo]-Ee[jo]-zc+Ze.altAxis,qc=kr?no+oe[jo]+Ee[jo]-zc-Ze.altAxis:io,Rs=E&&kr?D9(Ea,no,qc):Au(E?Ea:Gc,no,E?qc:io);U[te]=Rs,$e[te]=Rs-no}e.modifiersData[i]=$e}}var j9={name:"preventOverflow",enabled:!0,phase:"main",fn:Cle,requiresIfExists:["offset"]};function DO(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function xO(t){return t===dn(t)||!ni(t)?Mu(t):DO(t)}function Ele(t){var e=t.getBoundingClientRect(),n=wa(e.width)/t.offsetWidth||1,i=wa(e.height)/t.offsetHeight||1;return n!==1||i!==1}function AO(t,e,n){n===void 0&&(n=!1);var i=ni(e),r=ni(e)&&Ele(e),o=xi(e),a=Qr(t,r,n),l={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(i||!i&&!n)&&((yi(e)!=="body"||Ou(o))&&(l=xO(e)),ni(e)?(d=Qr(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):o&&(d.x=Pu(o))),{x:a.left+l.scrollLeft-d.x,y:a.top+l.scrollTop-d.y,width:a.width,height:a.height}}function Ile(t){var e=new Map,n=new Set,i=[];t.forEach(function(o){e.set(o.name,o)});function r(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var d=e.get(l);d&&r(d)}}),i.push(o)}return t.forEach(function(o){n.has(o.name)||r(o)}),i}function MO(t){var e=Ile(t);return S9.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function PO(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function OO(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var U9={placement:"bottom",modifiers:[],strategy:"absolute"};function B9(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function $9(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,o=r===void 0?U9:r;return function(l,d,h){h===void 0&&(h=o);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},U9,o),modifiersData:{},elements:{reference:l,popper:d},attributes:{},styles:{}},v=[],y=!1,E={state:m,setOptions:function(O){var V=typeof O=="function"?O(m.options):O;S(),m.options=Object.assign({},o,m.options,V),m.scrollParents={reference:Yr(l)?Rc(l):l.contextElement?Rc(l.contextElement):[],popper:Rc(d)};var $=MO(OO([].concat(i,m.options.modifiers)));return m.orderedModifiers=$.filter(function(x){return x.enabled}),w(),E.update()},forceUpdate:function(){if(!y){var O=m.elements,V=O.reference,$=O.popper;if(B9(V,$)){m.rects={reference:AO(V,No($),m.options.strategy==="fixed"),popper:Du($)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(Ze){return m.modifiersData[Ze.name]=Object.assign({},Ze.data)});for(var x=0;x<m.orderedModifiers.length;x++){if(m.reset===!0){m.reset=!1,x=-1;continue}var te=m.orderedModifiers[x],U=te.fn,oe=te.options,Ee=oe===void 0?{}:oe,Ge=te.name;typeof U=="function"&&(m=U({state:m,options:Ee,name:Ge,instance:E})||m)}}}},update:PO(function(){return new Promise(function(D){E.forceUpdate(),D(m)})}),destroy:function(){S(),y=!0}};if(!B9(l,d))return E;E.setOptions(h).then(function(D){!y&&h.onFirstUpdate&&h.onFirstUpdate(D)});function w(){m.orderedModifiers.forEach(function(D){var O=D.name,V=D.options,$=V===void 0?{}:V,x=D.effect;if(typeof x=="function"){var te=x({state:m,name:O,instance:E,options:$}),U=function(){};v.push(te||U)}})}function S(){v.forEach(function(D){return D()}),v=[]}return E}}var Sle=[P9,V9,M9,Vv,L9,k9,j9,x9,F9],kO=$9({defaultModifiers:Sle});var Tle="tippy-box",X9="tippy-content",Dle="tippy-backdrop",Z9="tippy-arrow",eH="tippy-svg-arrow",ku={passive:!0,capture:!0},tH=function(){return document.body};function RO(t,e,n){if(Array.isArray(t)){var i=t[e];return i??(Array.isArray(n)?n[e]:n)}return t}function UO(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function nH(t,e){return typeof t=="function"?t.apply(void 0,e):t}function H9(t,e){if(e===0)return t;var n;return function(i){clearTimeout(n),n=setTimeout(function(){t(i)},e)}}function xle(t){return t.split(/\s+/).filter(Boolean)}function bf(t){return[].concat(t)}function G9(t,e){t.indexOf(e)===-1&&t.push(e)}function Ale(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function Mle(t){return t.split("-")[0]}function iE(t){return[].slice.call(t)}function z9(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function zv(){return document.createElement("div")}function rE(t){return["Element","Fragment"].some(function(e){return UO(t,e)})}function Ple(t){return UO(t,"NodeList")}function Ole(t){return UO(t,"MouseEvent")}function kle(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function Rle(t){return rE(t)?[t]:Ple(t)?iE(t):Array.isArray(t)?t:iE(document.querySelectorAll(t))}function NO(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function q9(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function Nle(t){var e,n=bf(t),i=n[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function Fle(t,e){var n=e.clientX,i=e.clientY;return t.every(function(r){var o=r.popperRect,a=r.popperState,l=r.props,d=l.interactiveBorder,h=Mle(a.placement),m=a.modifiersData.offset;if(!m)return!0;var v=h==="bottom"?m.top.y:0,y=h==="top"?m.bottom.y:0,E=h==="right"?m.left.x:0,w=h==="left"?m.right.x:0,S=o.top-i+v>d,D=i-o.bottom-y>d,O=o.left-n+E>d,V=n-o.right-w>d;return S||D||O||V})}function FO(t,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){t[i](r,n)})}function W9(t,e){for(var n=e;n;){var i;if(t.contains(n))return!0;n=n.getRootNode==null||(i=n.getRootNode())==null?void 0:i.host}return!1}var xs={isTouch:!1},K9=0;function Lle(){xs.isTouch||(xs.isTouch=!0,window.performance&&document.addEventListener("mousemove",iH))}function iH(){var t=performance.now();t-K9<20&&(xs.isTouch=!1,document.removeEventListener("mousemove",iH)),K9=t}function Vle(){var t=document.activeElement;if(kle(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function jle(){document.addEventListener("touchstart",Lle,ku),window.addEventListener("blur",Vle)}var Ule=typeof window<"u"&&typeof document<"u",Ble=Ule?!!window.msCrypto:!1;var $le={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Hle={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Lo=Object.assign({appendTo:tH,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},$le,Hle),Gle=Object.keys(Lo),zle=function(e){var n=Object.keys(e);n.forEach(function(i){Lo[i]=e[i]})};function rH(t){var e=t.plugins||[],n=e.reduce(function(i,r){var o=r.name,a=r.defaultValue;if(o){var l;i[o]=t[o]!==void 0?t[o]:(l=Lo[o])!=null?l:a}return i},{});return Object.assign({},t,n)}function qle(t,e){var n=e?Object.keys(rH(Object.assign({},Lo,{plugins:e}))):Gle,i=n.reduce(function(r,o){var a=(t.getAttribute("data-tippy-"+o)||"").trim();if(!a)return r;if(o==="content")r[o]=a;else try{r[o]=JSON.parse(a)}catch{r[o]=a}return r},{});return i}function Y9(t,e){var n=Object.assign({},e,{content:nH(e.content,[t])},e.ignoreAttributes?{}:qle(t,e.plugins));return n.aria=Object.assign({},Lo.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var Wle=function(){return"innerHTML"};function VO(t,e){t[Wle()]=e}function Q9(t){var e=zv();return t===!0?e.className=Z9:(e.className=eH,rE(t)?e.appendChild(t):VO(e,t)),e}function J9(t,e){rE(e.content)?(VO(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?VO(t,e.content):t.textContent=e.content)}function jO(t){var e=t.firstElementChild,n=iE(e.children);return{box:e,content:n.find(function(i){return i.classList.contains(X9)}),arrow:n.find(function(i){return i.classList.contains(Z9)||i.classList.contains(eH)}),backdrop:n.find(function(i){return i.classList.contains(Dle)})}}function oH(t){var e=zv(),n=zv();n.className=Tle,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=zv();i.className=X9,i.setAttribute("data-state","hidden"),J9(i,t.props),e.appendChild(n),n.appendChild(i),r(t.props,t.props);function r(o,a){var l=jO(e),d=l.box,h=l.content,m=l.arrow;a.theme?d.setAttribute("data-theme",a.theme):d.removeAttribute("data-theme"),typeof a.animation=="string"?d.setAttribute("data-animation",a.animation):d.removeAttribute("data-animation"),a.inertia?d.setAttribute("data-inertia",""):d.removeAttribute("data-inertia"),d.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?d.setAttribute("role",a.role):d.removeAttribute("role"),(o.content!==a.content||o.allowHTML!==a.allowHTML)&&J9(h,t.props),a.arrow?m?o.arrow!==a.arrow&&(d.removeChild(m),d.appendChild(Q9(a.arrow))):d.appendChild(Q9(a.arrow)):m&&d.removeChild(m)}return{popper:e,onUpdate:r}}oH.$$tippy=!0;var Kle=1,nE=[],LO=[];function Yle(t,e){var n=Y9(t,Object.assign({},Lo,rH(z9(e)))),i,r,o,a=!1,l=!1,d=!1,h=!1,m,v,y,E=[],w=H9(Lu,n.interactiveDebounce),S,D=Kle++,O=null,V=Ale(n.plugins),$={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},x={id:D,reference:t,popper:zv(),popperInstance:O,props:n,state:$,plugins:V,clearDelayTimeouts:Ea,setProps:qc,setContent:Rs,show:Ia,hide:Ns,hideWithInteractivity:sy,enable:kr,disable:zc,unmount:IE,destroy:SE};if(!n.render)return x;var te=n.render(x),U=te.popper,oe=te.onUpdate;U.setAttribute("data-tippy-root",""),U.id="tippy-"+x.id,x.popper=U,t._tippy=x,U._tippy=x;var Ee=V.map(function(B){return B.fn(x)}),Ge=t.hasAttribute("aria-expanded");return Or(),rt(),ie(),he("onCreate",[x]),n.showOnCreate&&Gc(),U.addEventListener("mouseenter",function(){x.props.interactive&&x.state.isVisible&&x.clearDelayTimeouts()}),U.addEventListener("mouseleave",function(){x.props.interactive&&x.props.trigger.indexOf("mouseenter")>=0&&sn().addEventListener("mousemove",w)}),x;function Ze(){var B=x.props.touch;return Array.isArray(B)?B:[B,0]}function Ie(){return Ze()[0]==="hold"}function $e(){var B;return!!((B=x.props.render)!=null&&B.$$tippy)}function Te(){return S||t}function sn(){var B=Te().parentNode;return B?Nle(B):document}function Qe(){return jO(U)}function H(B){return x.state.isMounted&&!x.state.isVisible||xs.isTouch||m&&m.type==="focus"?0:RO(x.props.delay,B?0:1,Lo.delay)}function ie(B){B===void 0&&(B=!1),U.style.pointerEvents=x.props.interactive&&!B?"":"none",U.style.zIndex=""+x.props.zIndex}function he(B,ge,Se){if(Se===void 0&&(Se=!0),Ee.forEach(function(yt){yt[B]&&yt[B].apply(yt,ge)}),Se){var Mt;(Mt=x.props)[B].apply(Mt,ge)}}function Pe(){var B=x.props.aria;if(B.content){var ge="aria-"+B.content,Se=U.id,Mt=bf(x.props.triggerTarget||t);Mt.forEach(function(yt){var oi=yt.getAttribute(ge);if(x.state.isVisible)yt.setAttribute(ge,oi?oi+" "+Se:Se);else{var Hi=oi&&oi.replace(Se,"").trim();Hi?yt.setAttribute(ge,Hi):yt.removeAttribute(ge)}})}}function rt(){if(!(Ge||!x.props.aria.expanded)){var B=bf(x.props.triggerTarget||t);B.forEach(function(ge){x.props.interactive?ge.setAttribute("aria-expanded",x.state.isVisible&&ge===Te()?"true":"false"):ge.removeAttribute("aria-expanded")})}}function xn(){sn().removeEventListener("mousemove",w),nE=nE.filter(function(B){return B!==w})}function Rt(B){if(!(xs.isTouch&&(d||B.type==="mousedown"))){var ge=B.composedPath&&B.composedPath()[0]||B.target;if(!(x.props.interactive&&W9(U,ge))){if(bf(x.props.triggerTarget||t).some(function(Se){return W9(Se,ge)})){if(xs.isTouch||x.state.isVisible&&x.props.trigger.indexOf("click")>=0)return}else he("onClickOutside",[x,B]);x.props.hideOnClick===!0&&(x.clearDelayTimeouts(),x.hide(),l=!0,setTimeout(function(){l=!1}),x.state.isMounted||hr())}}}function ii(){d=!0}function vt(){d=!1}function Ai(){var B=sn();B.addEventListener("mousedown",Rt,!0),B.addEventListener("touchend",Rt,ku),B.addEventListener("touchstart",vt,ku),B.addEventListener("touchmove",ii,ku)}function hr(){var B=sn();B.removeEventListener("mousedown",Rt,!0),B.removeEventListener("touchend",Rt,ku),B.removeEventListener("touchstart",vt,ku),B.removeEventListener("touchmove",ii,ku)}function pt(B,ge){an(B,function(){!x.state.isVisible&&U.parentNode&&U.parentNode.contains(U)&&ge()})}function Vn(B,ge){an(B,ge)}function an(B,ge){var Se=Qe().box;function Mt(yt){yt.target===Se&&(FO(Se,"remove",Mt),ge())}if(B===0)return ge();FO(Se,"remove",v),FO(Se,"add",Mt),v=Mt}function $i(B,ge,Se){Se===void 0&&(Se=!1);var Mt=bf(x.props.triggerTarget||t);Mt.forEach(function(yt){yt.addEventListener(B,ge,Se),E.push({node:yt,eventType:B,handler:ge,options:Se})})}function Or(){Ie()&&($i("touchstart",Ca,{passive:!0}),$i("touchend",ri,{passive:!0})),xle(x.props.trigger).forEach(function(B){if(B!=="manual")switch($i(B,Ca),B){case"mouseenter":$i("mouseleave",ri);break;case"focus":$i(Ble?"focusout":"blur",$c);break;case"focusin":$i("focusout",$c);break}})}function Bc(){E.forEach(function(B){var ge=B.node,Se=B.eventType,Mt=B.handler,yt=B.options;ge.removeEventListener(Se,Mt,yt)}),E=[]}function Ca(B){var ge,Se=!1;if(!(!x.state.isEnabled||Hc(B)||l)){var Mt=((ge=m)==null?void 0:ge.type)==="focus";m=B,S=B.currentTarget,rt(),!x.state.isVisible&&Ole(B)&&nE.forEach(function(yt){return yt(B)}),B.type==="click"&&(x.props.trigger.indexOf("mouseenter")<0||a)&&x.props.hideOnClick!==!1&&x.state.isVisible?Se=!0:Gc(B),B.type==="click"&&(a=!Se),Se&&!Mt&&io(B)}}function Lu(B){var ge=B.target,Se=Te().contains(ge)||U.contains(ge);if(!(B.type==="mousemove"&&Se)){var Mt=jo().concat(U).map(function(yt){var oi,Hi=yt._tippy,ro=(oi=Hi.popperInstance)==null?void 0:oi.state;return ro?{popperRect:yt.getBoundingClientRect(),popperState:ro,props:n}:null}).filter(Boolean);Fle(Mt,B)&&(xn(),io(B))}}function ri(B){var ge=Hc(B)||x.props.trigger.indexOf("click")>=0&&a;if(!ge){if(x.props.interactive){x.hideWithInteractivity(B);return}io(B)}}function $c(B){x.props.trigger.indexOf("focusin")<0&&B.target!==Te()||x.props.interactive&&B.relatedTarget&&U.contains(B.relatedTarget)||io(B)}function Hc(B){return xs.isTouch?Ie()!==B.type.indexOf("touch")>=0:!1}function Vu(){ju();var B=x.props,ge=B.popperOptions,Se=B.placement,Mt=B.offset,yt=B.getReferenceClientRect,oi=B.moveTransition,Hi=$e()?jO(U).arrow:null,ro=yt?{getBoundingClientRect:yt,contextElement:yt.contextElement||Te()}:t,ay={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Sa){var Uo=Sa.state;if($e()){var Nf=Qe(),Fs=Nf.box;["placement","reference-hidden","escaped"].forEach(function(Bo){Bo==="placement"?Fs.setAttribute("data-placement",Uo.placement):Uo.attributes.popper["data-popper-"+Bo]?Fs.setAttribute("data-"+Bo,""):Fs.removeAttribute("data-"+Bo)}),Uo.attributes.popper={}}}},Mi=[{name:"offset",options:{offset:Mt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!oi}},ay];$e()&&Hi&&Mi.push({name:"arrow",options:{element:Hi,padding:3}}),Mi.push.apply(Mi,ge?.modifiers||[]),x.popperInstance=kO(ro,U,Object.assign({},ge,{placement:Se,onFirstUpdate:y,modifiers:Mi}))}function ju(){x.popperInstance&&(x.popperInstance.destroy(),x.popperInstance=null)}function no(){var B=x.props.appendTo,ge,Se=Te();x.props.interactive&&B===tH||B==="parent"?ge=Se.parentNode:ge=nH(B,[Se]),ge.contains(U)||ge.appendChild(U),x.state.isMounted=!0,Vu()}function jo(){return iE(U.querySelectorAll("[data-tippy-root]"))}function Gc(B){x.clearDelayTimeouts(),B&&he("onTrigger",[x,B]),Ai();var ge=H(!0),Se=Ze(),Mt=Se[0],yt=Se[1];xs.isTouch&&Mt==="hold"&&yt&&(ge=yt),ge?i=setTimeout(function(){x.show()},ge):x.show()}function io(B){if(x.clearDelayTimeouts(),he("onUntrigger",[x,B]),!x.state.isVisible){hr();return}if(!(x.props.trigger.indexOf("mouseenter")>=0&&x.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(B.type)>=0&&a)){var ge=H(!1);ge?r=setTimeout(function(){x.state.isVisible&&x.hide()},ge):o=requestAnimationFrame(function(){x.hide()})}}function kr(){x.state.isEnabled=!0}function zc(){x.hide(),x.state.isEnabled=!1}function Ea(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(o)}function qc(B){if(!x.state.isDestroyed){he("onBeforeUpdate",[x,B]),Bc();var ge=x.props,Se=Y9(t,Object.assign({},ge,z9(B),{ignoreAttributes:!0}));x.props=Se,Or(),ge.interactiveDebounce!==Se.interactiveDebounce&&(xn(),w=H9(Lu,Se.interactiveDebounce)),ge.triggerTarget&&!Se.triggerTarget?bf(ge.triggerTarget).forEach(function(Mt){Mt.removeAttribute("aria-expanded")}):Se.triggerTarget&&t.removeAttribute("aria-expanded"),rt(),ie(),oe&&oe(ge,Se),x.popperInstance&&(Vu(),jo().forEach(function(Mt){requestAnimationFrame(Mt._tippy.popperInstance.forceUpdate)})),he("onAfterUpdate",[x,B])}}function Rs(B){x.setProps({content:B})}function Ia(){var B=x.state.isVisible,ge=x.state.isDestroyed,Se=!x.state.isEnabled,Mt=xs.isTouch&&!x.props.touch,yt=RO(x.props.duration,0,Lo.duration);if(!(B||ge||Se||Mt)&&!Te().hasAttribute("disabled")&&(he("onShow",[x],!1),x.props.onShow(x)!==!1)){if(x.state.isVisible=!0,$e()&&(U.style.visibility="visible"),ie(),Ai(),x.state.isMounted||(U.style.transition="none"),$e()){var oi=Qe(),Hi=oi.box,ro=oi.content;NO([Hi,ro],0)}y=function(){var Mi;if(!(!x.state.isVisible||h)){if(h=!0,U.offsetHeight,U.style.transition=x.props.moveTransition,$e()&&x.props.animation){var Wc=Qe(),Sa=Wc.box,Uo=Wc.content;NO([Sa,Uo],yt),q9([Sa,Uo],"visible")}Pe(),rt(),G9(LO,x),(Mi=x.popperInstance)==null||Mi.forceUpdate(),he("onMount",[x]),x.props.animation&&$e()&&Vn(yt,function(){x.state.isShown=!0,he("onShown",[x])})}},no()}}function Ns(){var B=!x.state.isVisible,ge=x.state.isDestroyed,Se=!x.state.isEnabled,Mt=RO(x.props.duration,1,Lo.duration);if(!(B||ge||Se)&&(he("onHide",[x],!1),x.props.onHide(x)!==!1)){if(x.state.isVisible=!1,x.state.isShown=!1,h=!1,a=!1,$e()&&(U.style.visibility="hidden"),xn(),hr(),ie(!0),$e()){var yt=Qe(),oi=yt.box,Hi=yt.content;x.props.animation&&(NO([oi,Hi],Mt),q9([oi,Hi],"hidden"))}Pe(),rt(),x.props.animation?$e()&&pt(Mt,x.unmount):x.unmount()}}function sy(B){sn().addEventListener("mousemove",w),G9(nE,w),w(B)}function IE(){x.state.isVisible&&x.hide(),x.state.isMounted&&(ju(),jo().forEach(function(B){B._tippy.unmount()}),U.parentNode&&U.parentNode.removeChild(U),LO=LO.filter(function(B){return B!==x}),x.state.isMounted=!1,he("onHidden",[x]))}function SE(){x.state.isDestroyed||(x.clearDelayTimeouts(),x.unmount(),Bc(),delete t._tippy,x.state.isDestroyed=!0,he("onDestroy",[x]))}}function qv(t,e){e===void 0&&(e={});var n=Lo.plugins.concat(e.plugins||[]);jle();var i=Object.assign({},e,{plugins:n}),r=Rle(t);if(0)var o,a;var l=r.reduce(function(d,h){var m=h&&Yle(h,i);return m&&d.push(m),d},[]);return rE(t)?l[0]:l}qv.defaultProps=Lo;qv.setDefaultProps=zle;qv.currentInput=xs;var dDe=Object.assign({},Vv,{effect:function(e){var n=e.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow)}});qv.setDefaultProps({render:oH});var BO=qv;var $O=class{constructor(e){this.options=e,e.vcr?this.ref=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector}):(this.ref=iw(e.component,{elementInjector:e.injector,environmentInjector:e.environmentInjector}),e.appRef.attachView(this.ref.hostView))}setInput(e,n){return this.ref.setInput(e,n),this}setInputs(e){return Object.keys(e).forEach(n=>{this.ref.setInput(n,e[n])}),this}detectChanges(){return this.ref.hostView.detectChanges(),this}updateContext(e){return this.options.contextSignal?.set(e),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.ref.location.nativeElement}destroy(){this.ref.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.ref.hostView),this.ref=null}};function oE(t){return t instanceof vo}function Wv(t){return typeof t=="function"}function Kv(t){return typeof t=="string"}var HO=class{constructor(e){this.args=e,this.args.vcr?(this.ref=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{},{injector:e.injector}),this.ref.detectChanges()):(this.ref=this.args.tpl.createEmbeddedView(this.args.context||{},e.injector),this.ref.detectChanges(),this.args.appRef.attachView(this.ref))}detectChanges(){return this.ref.detectChanges(),this}getElement(){let e=this.ref.rootNodes;return e.length===1&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){this.ref.rootNodes[0]!==1&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.ref),this.ref.destroy(),this.ref=null}updateContext(e){return Object.assign(this.ref.context,e),this}},GO=class{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){return this}updateContext(){return this}destroy(){}},Qle=new we("Component context"),zO=(()=>{let e=class e{constructor(){this.injector=J(ln),this.appRef=J(ss),this.environmentInjector=J(hi)}createComponent(i,r={}){let o=r.injector??this.injector,a;return r.context&&(a=sc(r.context),o=ln.create({providers:[{provide:Qle,useValue:a.asReadonly()}],parent:o})),new $O({component:i,vcr:r.vcr,injector:o,appRef:this.appRef,environmentInjector:r.environmentInjector||this.environmentInjector,contextSignal:a})}createTemplate(i,r={}){return new HO({vcr:r.vcr,appRef:this.appRef,tpl:i,context:r.context,injector:r.injector})}createView(i,r={}){if(oE(i))return this.createTemplate(i,r);if(Wv(i))return this.createComponent(i,r);if(Kv(i))return new GO(i);throw"Type of content is not supported"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var aH=!1,cH=!1;typeof window<"u"&&(aH="IntersectionObserver"in window,cH="ResizeObserver"in window);function sH(t,e={root:null,threshold:.3}){let n=hH(t);return new Ue(i=>{if(!aH){i.next(),i.complete();return}let r=new IntersectionObserver(o=>{o[o.length-1].isIntersecting&&(i.next(),i.complete())},e);return r.observe(n),()=>r.disconnect()})}function lH(t){let e=t.offsetWidth;return e>t.parentElement.offsetWidth||e<t.scrollWidth}function Xle(t){let e=hH(t);return uH(e).pipe(ES(150),Ne(()=>lH(e)))}function uH(t){return Zle(t)}function Zle(t){return new Ue(e=>{if(!cH){e.next(),e.complete();return}let n=new ResizeObserver(()=>e.next(!0));return n.observe(t),()=>n.disconnect()})}function Yv(t){let e={},n=["useTextContent","variations","useHostWidth","defaultVariation","beforeRender","isLazy","variation","isEnabled","className","onlyTextOverflow","data","content","context","hideOnEscape","customHost","injector","preserveView","vcr","popperWidth","zIndexGetter","staticWidthHost"],i=["onShow","onHidden","onCreate"];return Object.keys(t).forEach(r=>{!n.includes(r)&&!i.includes(r)&&(e[r]=t[r])}),e}function dH(t){return(tue(t)?t.split(" "):t).map(n=>n?.trim()).filter(Boolean)}function eue(t){return nue(t)?"":typeof t=="string"?t:`${t}px`}function tue(t){return typeof t=="string"}function nue(t){return t==null}function hH(t){return t instanceof nn?t.nativeElement:t}var qO,WO=new WeakMap;function iue(t,e){return qO??=new IntersectionObserver(n=>{n.forEach(i=>{i.isIntersecting||WO.get(i.target)()})}),WO.set(t,e),qO.observe(t),()=>{WO.delete(t),qO.unobserve(t)}}var KO=new we("Tippy config",{providedIn:"root",factory(){return{}}}),fH=new we("TIPPY_REF"),Cf=(()=>{let e=class e{set appendTo(i){this.updateProps({appendTo:i})}constructor(i,r,o,a,l,d,h){this.platformId=i,this.globalConfig=r,this.injector=o,this.viewService=a,this.vcr=l,this.zone=d,this.hostRef=h,this.onlyTextOverflow=!1,this.staticWidthHost=!1,this.useHostWidth=!1,this.hideOnEscape=!1,this.detectChangesComponent=!0,this.isVisible=!1,this.visible=new zt,this.destroyed=new ui,this.enabled=!0,this.variationDefined=!1,this.visibleInternal=new ui,this.contentChanged=new ui}ngOnChanges(i){if(this.isServerSide)return;let r=Object.keys(i).reduce((a,l)=>(l==="isVisible"||(a[l]=i[l].currentValue),a),{}),o;sE("content",i)&&this.contentChanged.next(),sE("variation",i)?(o=i.variation.currentValue,this.variationDefined=!0):this.variationDefined||(o=this.globalConfig.defaultVariation,this.variationDefined=!0),o&&(r=ne(ne({},this.globalConfig.variations[o]),r)),sE("isEnabled",i)&&(this.enabled=i.isEnabled.currentValue,this.setStatus()),sE("isVisible",i)&&(this.isVisible?this.show():this.hide()),this.updateProps(r)}ngOnInit(){this.useHostWidth&&(this.props.maxWidth=this.hostWidth)}ngAfterViewInit(){this.isServerSide||this.zone.runOutsideAngular(()=>{this.isLazy?this.onlyTextOverflow?sH(this.host).pipe(Pi(()=>this.isOverflowing$()),fo(this.destroyed)).subscribe(i=>{this.checkOverflow(i)}):sH(this.host).pipe(fo(this.destroyed)).subscribe(()=>{this.createInstance()}):this.onlyTextOverflow?this.isOverflowing$().pipe(fo(this.destroyed)).subscribe(i=>{this.checkOverflow(i)}):this.createInstance()})}ngOnDestroy(){this.destroyed.next(),this.instance?.destroy(),this.destroyView(),this.visibilityObserverCleanup?.()}destroyView(){this.viewOptions$=null,this.viewRef?.destroy(),this.viewRef=null}observeHostVisibility(){if(!this.isServerSide&&this.props.appendTo&&this.props.appendTo!==document.body)return this.visibilityObserverCleanup?.(),this.visibleInternal.asObservable().pipe(fo(this.destroyed)).subscribe(i=>{i?this.zone.runOutsideAngular(()=>{this.visibilityObserverCleanup=iue(this.instance.reference,()=>{this.hide(),this.props.animation&&this.onHidden()})}):this.visibilityObserverCleanup?.()})}show(){this.instance?.show()}hide(){this.instance?.hide()}enable(){this.instance?.enable()}disable(){this.instance?.disable()}updateProps(i){this.setProps(ne(ne({},this.props),i))}setProps(i){this.props=i,this.instance?.setProps(Yv(i))}setStatus(){this.enabled?this.instance?.enable():this.instance?.disable()}get host(){return this.customHost||this.hostRef.nativeElement}get hostWidth(){return this.host.getBoundingClientRect().width}createInstance(){!this.content&&!this.useTextContent||this.zone.runOutsideAngular(()=>{this.instance=BO(this.host,xt(ne(ne(ne({allowHTML:!0,appendTo:document.body},this.globalConfig.zIndexGetter?{zIndex:this.globalConfig.zIndexGetter()}:{}),Yv(this.globalConfig)),Yv(this.props)),{onMount:i=>{this.isVisible=!0,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.useHostWidth&&this.listenToHostResize(),this.globalConfig.onMount?.(i)},onCreate:i=>{if(i.popper.classList.add(`tippy-variation-${this.variation||this.globalConfig.defaultVariation}`),this.className)for(let r of dH(this.className))i.popper.classList.add(r);this.globalConfig.onCreate?.(i),this.isVisible===!0&&i.show()},onShow:i=>{i.reference.setAttribute("data-tippy-open",""),this.zone.run(()=>{let r=this.resolveContent(i);Kv(r)&&(i.setProps({allowHTML:!1}),r?.trim()?this.enable():this.disable()),i.setContent(r),this.hideOnEscape&&this.handleEscapeButton()}),this.useHostWidth?this.setInstanceWidth(i,this.hostWidth):this.popperWidth&&this.setInstanceWidth(i,this.popperWidth),this.globalConfig.onShow?.(i)},onHide(i){i.reference.removeAttribute("data-tippy-open")},onHidden:i=>{this.onHidden(i)}})),this.setStatus(),this.setProps(this.props),this.variation==="contextMenu"&&this.handleContextMenu()})}resolveContent(i){if(!this.viewOptions$&&!Kv(this.content)){let o=ln.create({providers:[{provide:fH,useValue:this.instance}],parent:this.injector});Wv(this.content)?(this.instance.data=this.data,this.viewOptions$={injector:o}):oE(this.content)&&(this.viewOptions$={injector:o,context:{$implicit:this.hide.bind(this),data:this.data}})}this.viewRef=this.viewService.createView(this.content,ne({vcr:this.vcr},this.viewOptions$)),this.detectChangesComponent&&Wv(this.content)&&this.viewRef.detectChanges();let r=this.viewRef.getElement();return this.useTextContent&&(r=i.reference.textContent),Kv(r)&&this.globalConfig.beforeRender&&(r=this.globalConfig.beforeRender(r)),r}handleContextMenu(){jd(this.host,"contextmenu").pipe(fo(this.destroyed)).subscribe(i=>{i.preventDefault(),this.instance.setProps({getReferenceClientRect:()=>({width:0,height:0,top:i.clientY,bottom:i.clientY,left:i.clientX,right:i.clientX})}),this.instance.show()})}handleEscapeButton(){this.zone.runOutsideAngular(()=>{jd(document.body,"keydown").pipe(di(({code:i})=>i==="Escape"),fo($p(this.destroyed,this.visibleInternal.pipe(di(i=>!i))))).subscribe(()=>this.hide())})}checkOverflow(i){i?this.instance?this.instance.enable():this.createInstance():this.instance?.disable()}listenToHostResize(){uH(this.host).pipe(fo($p(this.destroyed,this.visibleInternal))).subscribe(()=>{this.setInstanceWidth(this.instance,this.hostWidth)})}setInstanceWidth(i,r){let o=eue(r);i.popper.style.width=o,i.popper.style.maxWidth=o,i.popper.firstElementChild.style.maxWidth=o}get isServerSide(){return lm(this.platformId)}onHidden(i=this.instance){this.destroyView(),this.isVisible=!1,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.globalConfig.onHidden?.(i)}isOverflowing$(){let i=[Xle(this.host)];return this.staticWidthHost&&i.push(this.contentChanged.asObservable().pipe(Pi(()=>new Ue(r=>{let o=window.requestAnimationFrame(()=>{r.next(),r.complete()});return()=>cancelAnimationFrame(o)})),Ne(()=>lH(this.host)))),$p(...i)}};e.\u0275fac=function(r){return new(r||e)(R(Lr),R(KO),R(ln),R(zO),R(Ci),R(Ct),R(nn))},e.\u0275dir=At({type:e,selectors:[["","tp",""]],inputs:{appendTo:[xe.None,"tpAppendTo","appendTo"],content:[xe.None,"tp","content"],delay:[xe.None,"tpDelay","delay"],duration:[xe.None,"tpDuration","duration"],hideOnClick:[xe.None,"tpHideOnClick","hideOnClick"],interactive:[xe.None,"tpInteractive","interactive"],interactiveBorder:[xe.None,"tpInteractiveBorder","interactiveBorder"],maxWidth:[xe.None,"tpMaxWidth","maxWidth"],offset:[xe.None,"tpOffset","offset"],placement:[xe.None,"tpPlacement","placement"],popperOptions:[xe.None,"tpPopperOptions","popperOptions"],showOnCreate:[xe.None,"tpShowOnCreate","showOnCreate"],trigger:[xe.None,"tpTrigger","trigger"],triggerTarget:[xe.None,"tpTriggerTarget","triggerTarget"],zIndex:[xe.None,"tpZIndex","zIndex"],animation:[xe.None,"tpAnimation","animation"],useTextContent:[xe.HasDecoratorInputTransform,"tpUseTextContent","useTextContent",Zi],isLazy:[xe.HasDecoratorInputTransform,"tpIsLazy","isLazy",Zi],variation:[xe.None,"tpVariation","variation"],isEnabled:[xe.None,"tpIsEnabled","isEnabled"],className:[xe.None,"tpClassName","className"],onlyTextOverflow:[xe.HasDecoratorInputTransform,"tpOnlyTextOverflow","onlyTextOverflow",Zi],staticWidthHost:[xe.HasDecoratorInputTransform,"tpStaticWidthHost","staticWidthHost",Zi],data:[xe.None,"tpData","data"],useHostWidth:[xe.HasDecoratorInputTransform,"tpUseHostWidth","useHostWidth",Zi],hideOnEscape:[xe.HasDecoratorInputTransform,"tpHideOnEscape","hideOnEscape",Zi],detectChangesComponent:[xe.None,"tpDetectChangesComponent","detectChangesComponent"],popperWidth:[xe.None,"tpPopperWidth","popperWidth"],customHost:[xe.None,"tpHost","customHost"],isVisible:[xe.HasDecoratorInputTransform,"tpIsVisible","isVisible",Zi]},outputs:{visible:"tpVisible"},exportAs:["tippy"],standalone:!0,features:[am,_o]});let t=e;return t})();function sE(t,e){return t in e}var pH=(()=>{let e=class e{constructor(i,r,o){this.globalConfig=i,this.view=r,this.injector=o}create(i,r,o={}){let a=o.variation||this.globalConfig.defaultVariation,l=xt(ne(ne(ne({onShow:d=>{if(i.setAttribute("data-tippy-open",""),!d.$viewOptions){d.$viewOptions={};let h=ln.create({providers:[{provide:fH,useValue:d}],parent:o.injector||this.injector});d.$viewOptions.injector=h,oE(r)?d.$viewOptions.context=ne({$implicit:d.hide.bind(d)},o.context):Wv(r)&&(d.context=o.context,d.data=o.data)}d.view||(d.view=this.view.createView(r,ne(ne({},o),d.$viewOptions))),d.setContent(d.view.getElement()),o?.onShow?.(d)},onHidden:d=>{i.removeAttribute("data-tippy-open"),o.preserveView||(d.view.destroy(),d.view=null),o?.onHidden?.(d)}},Yv(this.globalConfig)),this.globalConfig.variations[a]),Yv(o)),{onCreate:d=>{if(d.popper.classList.add(`tippy-variation-${a}`),o.className)for(let h of dH(o.className))d.popper.classList.add(h);this.globalConfig.onCreate?.(d),o.onCreate?.(d)}});return BO(i,l)}};e.\u0275fac=function(r){return new(r||e)(se(KO),se(zO),se(ln))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mH(t={}){return rc([{provide:KO,useValue:t}])}var Nc=class{constructor(e,n){this.length=e,n&&n>e&&(this.maxLength=n)}restart(e){clearTimeout(this.timeout),this.runnable=e,this.timeout=setTimeout(()=>{e&&e(),this.timeout=null,this.maxLengthTimeout&&(clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null)},this.length),this.maxLength&&!this.maxLengthTimeout&&(this.maxLengthTimeout=setTimeout(()=>{e&&e(),this.maxLengthTimeout=null,clearTimeout(this.timeout),this.timeout=null},this.maxLength))}stop(){clearTimeout(this.timeout),this.timeout=null,clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null}complete(){this.stop(),this.runnable&&this.runnable()}isActive(){return this.timeout!=null}};var oue=500,rr=oue+"ms ease",aE=zr("skip",[Fn(":enter",[])]),Fc=zr("fade",[Fn(":enter",[it({opacity:0}),ei(rr,it({opacity:1}))]),Fn(":leave",[it({opacity:1,"pointer-events":"none"}),ei(rr,it({opacity:0}))])]),kDe=zr("scalefade",[Fn(":enter",[it({opacity:0,width:0,"min-width":0,height:0,"min-height":0}),ei(rr,it({opacity:"*",width:"*","min-width":"*",height:"*","min-height":"*"}))]),Fn(":leave",[it({opacity:"*","pointer-events":"none",width:"*","min-width":"*",height:"*","min-height":"*"}),ei(rr,it({opacity:0,width:0,"min-width":0,height:0,"min-height":0}))])]),cE=zr("crossfade",[Fn(":enter",[it({opacity:0}),ei(rr,it({opacity:1}))]),Fn(":leave",[it({opacity:1,"pointer-events":"none",position:"absolute"}),ei(rr,it({opacity:0}))])]),gH=zr("enter",[Fn(":enter",[it({opacity:0}),ei(rr,it({opacity:1}))])]),vH=zr("leave",[Fn(":leave",[it({opacity:1}),ei(rr,it({opacity:0}))])]),RDe=zr("hidden",[Fn("* => true",[it({opacity:"*"}),ei(rr,it({opacity:0}))]),Fn("true => *",[it({opacity:0}),ei(rr,it({opacity:"*"}))])]),lE=zr("drawer2",[d$("0",it({height:0})),Fn("1 => void",[]),Fn("1 => *",[it({height:"*"}),ei(rr,it({height:0}))]),Fn("0 => void",[it({height:0}),ei(rr,it({height:0}))]),Fn("0 => *",[it({height:0}),ei(rr,it({height:"*"}))])]),yH=zr("drawer",[Fn(":enter",[it({height:0,opacity:0}),ei(rr,it({height:"*",opacity:"*"}))]),Fn(":leave",[it({height:"*",opacity:"*"}),ei(rr,it({height:0,opacity:0}))])]);var ae=class{static isEmpty(e){return!e||!Array.isArray(e)||e.length==0}static includes(e,n,i){if(!this.isEmpty(e)&&n)return i?e.map(r=>i(r)).includes(i(n)):e.includes(n)}static push(e,n){if(Array.isArray(e))if(Array.isArray(n))for(let i of n)i!=null&&!e.includes(i)&&e.push(i);else n!=null&&!e.includes(n)&&e.push(n)}static remove(e,n,i){if(!this.isEmpty(e)&&n)if(Array.isArray(n)){if(n.length>0)if(i){let r=e.map(o=>i(o));for(let o of n.map(a=>i(a)))this._remove(e,o,r)}else for(let r of n)this._remove(e,r)}else return i?this._remove(e,i(n),e.map(r=>i(r))):this._remove(e,n)}static _remove(e,n,i){if(i){let r=i.indexOf(n);if(r!=-1)return i.splice(r,1),e.splice(r,1).length>0}else{let r=e.indexOf(n);if(r!=-1)return e.splice(r,1).length>0}}static toggle(e,n){Array.isArray(e)&&n!=null&&(e.includes(n)?this._remove(e,n):e.push(n))}static difference(e,n,i){if(!this.isEmpty(e)&&!this.isEmpty(n)){let r=[];for(let o of e)n.some(a=>i(o,a))||r.push(o);return r}return[]}static unique(e,n){if(!this.isEmpty(e)){let i=[],r=new Map,o;for(let a of e)o=n(a),r.has(o)||(r.set(o,!0),i.push(a));return i}return[]}static getFirst(e){if(!this.isEmpty(e))return e[0]}static isFirst(e,n){if(!this.isEmpty(e)&&n)return n==e[0]}static getLast(e){if(!this.isEmpty(e))return e[e.length-1]}static isLast(e,n){if(!this.isEmpty(e)&&n)return n==e[e.length-1]}static getRandom(e,n){return this.isEmpty(e)?null:e.length==1?e[0]:(e=e.slice(),this.remove(e,n),e[Math.floor(Math.random()*e.length)])}static nearestRightFirst(e,n,i){if(n+1<e.length){for(let r=n+1;r<e.length;r++)if(!i||i(e[r]))return e[r]}if(n>0){for(let r=n-1;r>-1;r--)if(!i||i(e[r]))return e[r]}return null}static shuffle(e){let n=e.length,i;for(;n!=0;)i=Math.floor(Math.random()*n),n--,[e[n],e[i]]=[e[i],e[n]];return e}};var Lc=class extends Jn{constructor(e){super(e)}next(e){e!==this.value&&super.next(e)}subscribe(e,n,i){return typeof e=="function"?super.pipe(DS(1)).subscribe(e,n,i):super.subscribe(e)}};var Dn=(()=>{let e=class e{constructor(){this.darkTheme=!0,this.loading=new Lc(!1),this.changes=new Lc(!1),this.errors=new Lc(!1)}initTheme(){this.darkTheme?document.body.classList.add("dark-theme"):document.body.classList.add("light-theme")}isDarkTheme(){return this.darkTheme}toggleTheme(){this.darkTheme=!this.darkTheme,document.body.classList.toggle("light-theme",!this.darkTheme),document.body.classList.toggle("dark-theme",this.darkTheme)}get reduceBandwidth(){return window.localStorage.getItem("REDUCE_BANDWIDTH")=="1"}set reduceBandwidth(i){window.localStorage.setItem("REDUCE_BANDWIDTH",i?"1":"0")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Vt=class{};var Xt=(()=>{let e=class e{static isLargeScreen(){return window.innerWidth>1e3}static isElementVisible(i,r){if(i){let o=i.getBoundingClientRect();return o.top>=0&&o.left>=0&&o.bottom<=(r?r.clientHeight:window.innerHeight)&&o.right<=(r?r.clientWidth:window.innerWidth)}}};e.MOUSE_MOVEMENT_TOLERANCE=10;let t=e;return t})();function sue(t,e){if(t&1){let n=re();b(0,"i",4),k("mousedown",function(r){N(n);let o=M();return F(o.onMouseDown(r))})("click",function(r){N(n);let o=M();return F(o.nextState(r))})("contextmenu",function(r){N(n);let o=M();return F(o.previousState(r))}),C()}if(t&2){let n=M();P("ngClass",n.tri?"fa-circle-xmark":"fa-circle")}}function aue(t,e){if(t&1){let n=re();b(0,"i",5),k("mousedown",function(r){N(n);let o=M();return F(o.onMouseDown(r))})("click",function(r){N(n);let o=M();return F(o.nextState(r))})("contextmenu",function(r){N(n);let o=M();return F(o.previousState(r))}),C()}}function cue(t,e){if(t&1){let n=re();b(0,"i",6),k("mousedown",function(r){N(n);let o=M();return F(o.onMouseDown(r))})("click",function(r){N(n);let o=M();return F(o.nextState(r))})("contextmenu",function(r){N(n);let o=M();return F(o.previousState(r))}),C()}}var uE=(()=>{let e=class e{constructor(){this.tri=!1,this.stateChange=new zt}ngOnInit(){this.state||(this.state=this.tri?0:-1)}onMouseDown(i){this.clickX=i.pageX,this.clickY=i.pageY}nextState(i){if(Math.abs(i.pageX-this.clickX)<Xt.MOUSE_MOVEMENT_TOLERANCE&&Math.abs(i.pageY-this.clickY)<Xt.MOUSE_MOVEMENT_TOLERANCE){switch(this.state){case-1:this.state=this.tri?0:1,i.state=this.tri?0:1;break;case 0:this.state=1,i.state=1;break;case 1:this.state=-1,i.state=-1;break}this.stateChange.emit(i)}}previousState(i){if(Math.abs(i.pageX-this.clickX)<Xt.MOUSE_MOVEMENT_TOLERANCE&&Math.abs(i.pageY-this.clickY)<Xt.MOUSE_MOVEMENT_TOLERANCE){switch(i.preventDefault(),this.state){case-1:this.state=1,i.state=1;break;case 0:this.state=-1,i.state=-1;break;case 1:this.state=this.tri?0:-1,i.state=this.tri?0:-1;break}this.stateChange.emit(i)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=de({type:e,selectors:[["app-switch"]],inputs:{tri:"tri",state:"state"},outputs:{stateChange:"stateChange"},standalone:!0,features:[pe],decls:4,vars:5,consts:[[1,"container"],["class","negative fa-regular",3,"ngClass","mousedown","click","contextmenu",4,"ngIf"],["class","neutral fa-regular fa-circle",3,"mousedown","click","contextmenu",4,"ngIf"],["class","positive fa-regular fa-circle-check",3,"mousedown","click","contextmenu",4,"ngIf"],[1,"negative","fa-regular",3,"ngClass","mousedown","click","contextmenu"],[1,"neutral","fa-regular","fa-circle",3,"mousedown","click","contextmenu"],[1,"positive","fa-regular","fa-circle-check",3,"mousedown","click","contextmenu"]],template:function(r,o){r&1&&(b(0,"div",0),G(1,sue,1,1,"i",1)(2,aue,1,0,"i",2)(3,cue,1,0,"i",3),C()),r&2&&(He("tri",o.tri),T(),P("ngIf",o.state==-1),T(),P("ngIf",o.state==0),T(),P("ngIf",o.state==1))},dependencies:[ve,Ri,nt],styles:[".container[_ngcontent-%COMP%]{cursor:pointer;margin-left:1px}.container.tri[_ngcontent-%COMP%] > .negative[_ngcontent-%COMP%]{color:#b22222}.container[_ngcontent-%COMP%] > .positive[_ngcontent-%COMP%]{color:#228b22}"]});let t=e;return t})();var Xr=class{static getNearestImageUp(e,n){let i=n.indexOf(e);for(;i>0;)if(n[--i].left==e.left)return n[i];return ae.getFirst(n)}static getNearestImageRight(e,n){return n[n.indexOf(e)+1]||ae.getLast(n)}static getNearestImageDown(e,n){let i=n.indexOf(e);for(;i<n.length-1;)if(n[++i].left==e.left)return n[i];return ae.getLast(n)}static getNearestImageLeft(e,n){return n[n.indexOf(e)-1]||ae.getFirst(n)}static openYandexReverseImageSearch(e,n,i){let r="https://yandex.com/images/search?rpt=imageview&url="+encodeURIComponent(n.thumbnailLink.replace(new RegExp("=s..."),"=s9999"));e.altKey?(navigator.clipboard.writeText(r),i.create(e.target,"URL copied to clipboard!",{trigger:"click",onShow(o){setTimeout(()=>{o.hide()},3e3)},onHidden(o){o.destroy()}}).show()):window.open(r,"_blank")}};var Ef=class{constructor(){this.images=[]}};var If=(()=>{let e=class e{constructor(i){let r=i.element.nativeElement;r.draggable=!0,r.ondragstart=()=>e.onDragStart(this.array,this.array.indexOf(this.object)),r.ondragenter=()=>e.onDragEnter(this.array,this.array.indexOf(this.object)),r.ondragend=()=>e.onDragEnd(this.array),r.ondragover=o=>o.preventDefault()}static onDragStart(i,r){this.currentArray==null&&this.currentIndex==null&&(this.currentArray=i,this.currentIndex=r)}static onDragEnter(i,r){this.currentArray==i&&this.currentIndex!=r&&(this.currentArray.splice(r,0,this.currentArray.splice(this.currentIndex,1)[0]),this.currentIndex=r)}static onDragEnd(i){this.currentArray==i&&(this.currentArray=null,this.currentIndex=null)}};e.\u0275fac=function(r){return new(r||e)(R(Ci))},e.\u0275dir=At({type:e,selectors:[["","dragdrop",""]],inputs:{object:[xe.None,"dragdrop","object"],array:[xe.None,"dragdropParent","array"]},standalone:!0});let t=e;return t})();function lue(t,e){if(t&1&&(b(0,"div",2),ee(1,"img",3),C()),t&2){let n=e.$implicit,i=M();P("dragdrop",n)("dragdropParent",i.images),T(),P("src",n.thumbnailLink,fi)}}var _H=(()=>{let e=class e extends Vt{constructor(){super(...arguments),this.configuration={title:"Group Order",buttons:[{text:()=>"Save",click:()=>this.submit()},{text:()=>"Close",click:()=>this.close()}]}}ngOnInit(){}submit(){this.resolve(this.images)}close(){this.resolve(null)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ki(e)))(o||e)}})(),e.\u0275cmp=de({type:e,selectors:[["app-group-order"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.submit(l)},!1,Bt)("keydown.escape",function(l){return o.close(l)},!1,Bt)},inputs:{images:"images"},standalone:!0,features:[ut,pe],decls:2,vars:1,consts:[[1,"results"],["class","image-container",3,"dragdrop","dragdropParent",4,"ngFor","ngForOf"],[1,"image-container",3,"dragdrop","dragdropParent"],[1,"image",3,"src"]],template:function(r,o){r&1&&(b(0,"div",0),G(1,lue,2,3,"div",1),C()),r&2&&(T(),P("ngForOf",o.images))},dependencies:[ve,qe,If],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{height:100px;padding:.3333333333rem;display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;position:relative;justify-content:center;align-items:center}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;border-radius:.3333333333rem}"]});let t=e;return t})();var Sf=class{constructor(e,n,i={}){this.queue=[],this.waitingForOpponent=null,this.previousWinner=null,this.outcome=[],this.comparisonCount=0,this.data=e.slice(),this.getKey=n,this.directlyBetterThan=i;let r;this.data.forEach(o=>{r=this.getKey(o),this.directlyBetterThan[r]||(this.directlyBetterThan[r]=[])}),this.createQueue(this.data),this.nextComparison()}createQueue(e){this.queue.length=0;let n,i,r=ae.shuffle(e.slice());for(;r.length>0;)n=r.shift(),i=r.shift(),i?this.queue.push([n,i]):this.waitingForOpponent=n}nextComparison(){let e=this.queue.shift();if(!e){this.resolveTies(this.waitingForOpponent);return}let n=null;this.getBetterThan(e[0]).includes(e[1])?n=e[0]:this.getBetterThan(e[1]).includes(e[0])&&(n=e[1]),n?(this.waitingForOpponent?(this.queue.push([this.waitingForOpponent,n]),this.waitingForOpponent=null):this.waitingForOpponent=n,this.nextComparison()):this.comparison=e}resolveTies(e){if(this.waitingForOpponent=null,e){this.outcome.push(e),this.previousWinner&&(this.directlyBetterThan[this.getKey(this.previousWinner)]=[e],this.previousWinner=null);let n=this.directlyBetterThan[this.getKey(e)].length;n>1?(this.previousWinner=e,this.createQueue(this.directlyBetterThan[this.getKey(e)]),this.nextComparison()):n==1?this.resolveTies(this.directlyBetterThan[this.getKey(e)][0]):n==0&&(this.comparison=null)}}addComparisonResult(e,n){this.comparisonCount++,this.waitingForOpponent?(this.queue.push([this.waitingForOpponent,e]),this.waitingForOpponent=null):this.waitingForOpponent=e,this.directlyBetterThan[this.getKey(e)].push(n),this.nextComparison()}getBetterThan(e,n=[]){for(let i of this.directlyBetterThan[this.getKey(e)])n.includes(i)||(n.push(i),this.getBetterThan(i,n));return n}reset(){this.outcome.length=0,this.comparisonCount=0;for(let e of Object.keys(this.directlyBetterThan))this.directlyBetterThan[e].length=0;this.createQueue(this.data),this.nextComparison()}};function uue(t,e){if(t&1){let n=re();b(0,"div",4)(1,"div",5),k("click",function(){N(n);let r=M();return F(r.onImageClick(r.tournament.comparison[0],r.tournament.comparison[1]))}),ee(2,"img",6),C(),ee(3,"div",7),b(4,"div",5),k("click",function(){N(n);let r=M();return F(r.onImageClick(r.tournament.comparison[1],r.tournament.comparison[0]))}),ee(5,"img",6),C()()}if(t&2){let n=M();T(2),P("src",n.tournament.comparison[0].thumbnailLink,fi),T(3),P("src",n.tournament.comparison[1].thumbnailLink,fi)}}function due(t,e){if(t&1&&(b(0,"div",8),ee(1,"img",6),C()),t&2){let n=e.$implicit;T(),P("src",n.thumbnailLink,fi)}}var wH=(()=>{let e=class e extends Vt{constructor(){super(...arguments),this.configuration={title:"Image Comparison",buttons:[{text:()=>"Reset",click:()=>this.reset()},{text:()=>"Close",click:()=>this.close()}]}}ngOnInit(){this.tournament=new Sf(this.images,i=>i.id)}onImageClick(i,r){this.tournament.addComparisonResult(i,r)}reset(){this.tournament.reset()}close(){this.resolve(!1)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ki(e)))(o||e)}})(),e.\u0275cmp=de({type:e,selectors:[["app-image-comparison"]],inputs:{images:"images"},standalone:!0,features:[ut,pe],decls:4,vars:2,consts:[["class","comparison",4,"ngIf"],[1,"h-separator"],[1,"results"],["class","image-container",4,"ngFor","ngForOf"],[1,"comparison"],[1,"image-container",3,"click"],[1,"image",3,"src"],[1,"v-separator"],[1,"image-container"]],template:function(r,o){r&1&&(G(0,uue,6,2,"div",0),ee(1,"div",1),b(2,"div",2),G(3,due,2,1,"div",3),C()),r&2&&(P("ngIf",o.tournament.comparison),T(3),P("ngForOf",o.tournament.outcome))},dependencies:[ve,qe,nt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;overflow-x:hidden;width:max-content}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{display:flex;overflow:hidden}@media screen and (max-width: 768px){[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{aspect-ratio:2}}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:1;padding:.3333333333rem;display:flex;align-items:center;justify-content:center;cursor:pointer}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]:hover{background-color:var(--color-border)}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain;border-radius:.3333333333rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{height:200px;min-height:200px;overflow:auto;display:flex;flex-wrap:wrap;justify-content:center;gap:.3333333333rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{width:calc(300px + .6666666666rem);padding:.3333333333rem}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{width:calc(700px + 1.9999999998rem + .5533333333rem);padding:.3333333333rem 0 .3333333333rem .5533333333rem}}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:100px;height:100px;display:flex;position:relative;justify-content:center;align-items:center}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:.3333333333rem}"]});let t=e;return t})();var dE=class{};var hE=class extends dE{hasGroup(){return this.group?.images.length>1}getGroupImages(){return this.group?.images}};var Zr=class{static isImage(e){return e.mimeType.includes("image")&&e.thumbnailLink!=null}static isVideo(e){return e.mimeType.includes("video")&&e.thumbnailLink!=null}static isFolder(e){return e.mimeType=="application/vnd.google-apps.folder"}};var Tf=class{constructor(e){this.http=e,this.API_KEY="AIzaSyBLAfLb8QHSIqXPFTh2YJEMfMoW8EhJpRU"}createFile(e,n,i){let r="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return br(this.http.post(r,{name:e,parents:n,mimeType:i}))}createFolder(e,n){let i="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return br(this.http.post(i,{name:e,mimeType:"application/vnd.google-apps.folder",parents:[n]}))}getFolderMetadata(e="root"){let i="https://content.googleapis.com/drive/v3/files?pageSize=1000&q="+("'"+e+"' in parents and trashed=false")+"&fields=files("+this.FIELDS+")&key="+this.API_KEY;return this.getFileArrayPromise(i)}getEntityMetadata(e){let n="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return br(this.http.get(n))}getContent(e){let n="https://www.googleapis.com/drive/v3/files/"+e;return br(this.http.get(n,{params:{alt:"media"},responseType:"json"}))}updateContent(e,n){let i="https://www.googleapis.com/upload/drive/v3/files/"+e+"?uploadType=media";return br(this.http.patch(i,n))}move(e,n,i){let r="https://www.googleapis.com/drive/v3/files/"+e+"?removeParents="+n+"&addParents="+i+"&key="+this.API_KEY;return br(this.http.patch(r,{}))}trash(e){return this.updateMetadata(e,{trashed:!0})}updateProperty(e,n,i){return this.updateMetadata(e,{appProperties:{[n]:i}})}updateProperties(e,n){return this.updateMetadata(e,{appProperties:n})}openFolderById(e){let n="https://drive.google.com/drive/folders/"+e;window.open(n,"_blank")}openSearch(e){let n="https://drive.google.com/drive/search?q="+e;window.open(n,"_blank")}updateMetadata(e,n){let i="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return br(this.http.patch(i,n))}getFileArrayPromise(e,n){return n?br(this.http.post(e,n).pipe(Ne(i=>i?i.files:[]))):br(this.http.get(e).pipe(Ne(i=>i?i.files:[])))}};var Df=(()=>{let e=class e extends Tf{constructor(i){super(i),this.http=i,this.FIELDS="id,name,thumbnailLink,mimeType,imageMediaMetadata,videoMediaMetadata"}get fileId(){if(!this._fileId){let i=sessionStorage.getItem("dataFileId");i&&(this._fileId=i)}return this._fileId}set fileId(i){this._fileId=i,sessionStorage.setItem("dataFileId",i)}createDataFile(i){return this.createFile(i+".tagallery",["root"],"application/json")}getData(){return I(this,null,function*(){let i="https://www.googleapis.com/drive/v3/files/"+this.fileId;return yield br(this.http.get(i,{params:{alt:"media"},responseType:"json"})).catch(r=>r)})}getBase64(i){return I(this,null,function*(){return new Promise(r=>{let o="https://www.googleapis.com/drive/v3/files/"+i;this.http.get(o,{params:{alt:"media"},responseType:"blob"}).subscribe(a=>{let l=new FileReader;l.onload=d=>r(d.target.result),l.readAsDataURL(a)})})})}};e.\u0275fac=function(r){return new(r||e)(se(Ol))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Bi=(()=>{let e=class e{constructor(i,r,o){this.sanitizer=i,this.applicationService=r,this.googleService=o,this.updateDelay=new Nc(5e3),this.targetEntireGroup=!1,this.fullscreenVisible=sc(!1),this.sidebarVisible=Xt.isLargeScreen()||this.applicationService.reduceBandwidth,this.filter=sc([]),this.target=sc(null),this.tagCounts={}}processData(){return I(this,null,function*(){let i=yield this.googleService.getData();return this.rootFolderId=i.rootFolderId,this.heartsFilter=i.heartsFilter,this.bookmarksFilter=i.bookmarksFilter,this.settings=i.settings,this.groupSizeFilterMin=i.groupSizeFilterMin,this.groupSizeFilterMax=i.groupSizeFilterMax,this.tagGroups=i.tagGroups,i})}processImages(i,r=this.rootFolderId,o=[],a={calls:0}){a.calls++,this.googleService.getFolderMetadata(r).then(l=>{for(let d of l.filter(h=>Zr.isFolder(h)))this.processImages(i,d.id,o,a);if(ae.push(o,l.filter(d=>Zr.isImage(d)||Zr.isVideo(d)).map(d=>this.metaToImage(d,i.imageProperties.find(h=>h.id==d.id),this.applicationService.reduceBandwidth))),--a.calls==0){this.images=o,this.groups=i.groupProperties.map(d=>{let h=new Ef;return h.images=this.images.filter(m=>d.imageIds.includes(m.id)),h.images.sort((m,v)=>d.imageIds.indexOf(m.id)-d.imageIds.indexOf(v.id)),h.images.forEach(m=>m.group=h),h}),this.refreshFilter(),this.target.set(ae.getFirst(this.filter()));for(let d of ae.difference(i.imageProperties,this.images,(h,m)=>h.id==m.id))console.log(d),console.log("This image does not exist, but has a data entry. Removing image entry from data."),ae.remove(this.images,this.images.find(h=>h.id==d.id));this.tagCounts._heart=this.images.filter(d=>d.heart).length,this.tagCounts._bookmark=this.images.filter(d=>d.bookmark).length;for(let d of this.tagGroups)for(let h of d.tags)this.tagCounts[h.id]=0;for(let d of this.images)for(let h of d.tags)this.tagCounts[h]++;this.applicationService.loading.next(!1)}})}metaToImage(i,r,o){let a=new hE;return a.id=i.id,a.name=i.name,a.mimeType=i.mimeType,i.thumbnailLink&&(o?a.thumbnailLink=i.thumbnailLink:a.thumbnailLink=i.thumbnailLink.replace("=s220","=s440"),Zr.isImage(a)?(a.imageMediaMetadata=i.imageMediaMetadata,a.aspectRatio=a.imageMediaMetadata.width/a.imageMediaMetadata.height,a.contentLink=i.thumbnailLink.replace("=s220","=s"+Math.max(window.screen.width,window.screen.height))):Zr.isVideo(a)&&(a.videoMediaMetadata=i.videoMediaMetadata,a.videoMediaMetadata||(a.videoMediaMetadata={}),(!a.videoMediaMetadata.width||a.videoMediaMetadata.width==0)&&(a.videoMediaMetadata.width=1920),(!a.videoMediaMetadata.height||a.videoMediaMetadata.height==0)&&(a.videoMediaMetadata.height=1080),a.aspectRatio=a.videoMediaMetadata.width/a.videoMediaMetadata.height,a.contentLink=this.sanitizer.bypassSecurityTrustResourceUrl("https://drive.google.com/file/d/"+a.id+"/preview"))),r?(a.heart=r.heart,a.bookmark=r.bookmark,a.tags=r.tags||[],a.likes=r.likes||0):(this.settings.autoBookmark&&(a.bookmark=!0),a.tags=[],a.likes=0),a}updateData(){this.applicationService.changes.next(!0),this.updateDelay.restart(()=>{this.googleService.updateContent(this.googleService.fileId,{rootFolderId:this.rootFolderId,settings:this.settings,imageProperties:this.images.map(i=>({id:i.id,heart:i.heart,bookmark:i.bookmark,tags:i.tags,likes:i.likes})),groupProperties:this.groups.map(i=>({imageIds:i.images.map(r=>r.id)})),tagGroups:this.tagGroups,heartsFilter:this.heartsFilter,bookmarksFilter:this.bookmarksFilter,groupSizeFilterMin:this.groupSizeFilterMin,groupSizeFilterMax:this.groupSizeFilterMax}).then(i=>{i||this.applicationService.errors.next(!0)}).finally(()=>{this.applicationService.changes.next(!1)})})}setRandomTarget(){if(!ae.isEmpty(this.filter())){let i,r=this.target();r?r.hasGroup()?i=ae.getRandom(this.filter(),r.getGroupImages()):i=ae.getRandom(this.filter(),[r]):i=ae.getRandom(this.filter()),i&&(i.hasGroup()&&(i=ae.getRandom(i.getGroupImages().filter(o=>this.doesPassFilter(o)))),this.target.set(i))}}setRandomGroupTarget(){let i=this.target();i?.hasGroup()&&this.target.set(ae.getRandom(i.getGroupImages().filter(r=>this.doesPassFilter(r)),[i]))}refreshFilter(i){this.filter.set(this.images.filter(r=>((i==null||i==r)&&(r.hasGroup()?r.group.open?r.passesFilter=this.doesPassFilter(r):r.passesFilter=this.getGroupRepresent(r)==r:r.passesFilter=this.doesPassFilter(r)),r.passesFilter)))}getGroupRepresent(i){return i.hasGroup()?i.group.images.find(r=>this.doesPassFilter(r)):i}doesPassFilter(i){if(!i||this.heartsFilter==-1&&i.heart||this.heartsFilter==1&&!i.heart||this.bookmarksFilter==-1&&i.bookmark||this.bookmarksFilter==1&&!i.bookmark)return!1;let r=i.hasGroup()?i.getGroupImages().length:0;if(r<this.groupSizeFilterMin||r>this.groupSizeFilterMax)return!1;let o;for(let l of this.tagGroups)if(o=l.tags.some(d=>i.tags.includes(d.id)),l.state==-1&&o||l.state==1&&!o)return!1;let a;for(let l of this.tagGroups.flatMap(d=>d.tags))if(a=i.tags.includes(l.id),l.state==-1&&a||l.state==1&&!a)return!1;return!0}toggleHeart(i){let r=!i.heart;i.hasGroup()&&this.targetEntireGroup?i.getGroupImages().forEach(o=>o.heart=r):i.heart=r,this.tagCounts._heart=this.images.filter(o=>o.heart).length,this.refreshFilter(i),this.updateData()}toggleBookmark(i){let r=!i.bookmark;i.hasGroup()&&this.targetEntireGroup?i.getGroupImages().forEach(o=>o.bookmark=r):i.bookmark=r,this.tagCounts._bookmark=this.images.filter(o=>o.bookmark).length,this.refreshFilter(i),this.updateData()}toggleTag(i,r){let o=i.tags,a;if(i.hasGroup()&&this.targetEntireGroup)if(o.includes(r))for(let l of i.getGroupImages())a=l.tags,a.includes(r)&&ae.remove(a,r);else for(let l of i.getGroupImages())a=l.tags,a.includes(r)||a.push(r);else o.includes(r)?ae.remove(o,r):o.push(r);this.tagCounts[r]=this.images.filter(l=>l.tags.includes(r)).length,this.refreshFilter(i),this.updateData()}like(i){i.likes++,this.updateData()}dislike(i){i.likes>0&&(i.likes--,this.updateData())}moveTargetToTrash(){return I(this,null,function*(){this.applicationService.loading.next(!0);let i=this.target();if(i){let r=yield this.moveImageToTrash(i);this.refreshFilter(),this.target.set(r);for(let o in this.tagCounts)this.tagCounts[o]=0;this.tagCounts._heart=this.images.filter(o=>o.heart).length,this.tagCounts._bookmark=this.images.filter(o=>o.bookmark).length;for(let o of this.images)for(let a of o.tags)this.tagCounts[a]++;this.updateData()}this.applicationService.loading.next(!1)})}moveImageToTrash(i){return I(this,null,function*(){let r,o,a=this.filter();return i.hasGroup()?(r=i.getGroupImages().indexOf(i),ae.isLast(i.getGroupImages(),i)?o=i.getGroupImages()[r-1]:o=i.getGroupImages()[r+1]):ae.isLast(a,i)?o=Xr.getNearestImageLeft(i,a):o=Xr.getNearestImageRight(i,a),this.googleService.trash(i.id),ae.remove(this.images,this.images.find(l=>l.id==i.id)),i.hasGroup()&&ae.remove(i.getGroupImages(),i.getGroupImages().find(l=>l.id==i.id)),o})}};e.\u0275fac=function(r){return new(r||e)(se(rP),se(Dn),se(Df))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hue(t,e){if(t&1){let n=re();b(0,"span",11),k("click",function(){N(n);let r=M();return F(r.reorderGroup())}),L(1,"Reorder Group"),C()}}var bH=(()=>{let e=class e extends Vt{constructor(i,r,o,a,l){super(),this.applicationService=i,this.stateService=r,this.googleService=o,this.dialogService=a,this.tippyService=l,this.configuration={title:"Settings",buttons:[{text:()=>"Close",click:()=>this.close()}]},this.needsUpdate=!1}ngOnInit(){}modifyGroup(){let i,r=this.stateService.target();r.hasGroup()?(i=r.group.open,r.group.open=!0,this.stateService.modifyingGroup=r.group.images.slice()):this.stateService.modifyingGroup=[r];let o=[{text:()=>"Confirm: "+this.stateService.modifyingGroup?.length+" images",click:()=>null},{iconClass:()=>"fa-solid fa-times"}];this.dialogService.create(null,{buttons:o},!1,"bottom").then(a=>{if(a){if(r.hasGroup())r.group.images=this.stateService.modifyingGroup,r.group.images.forEach(l=>l.group=r.group);else{let l=new Ef;l.images=this.stateService.modifyingGroup,l.images.forEach(d=>d.group=l),this.stateService.groups.push(l)}this.stateService.updateData()}r.hasGroup()&&(r.group.open=i),this.stateService.modifyingGroup=null,r.hasGroup()&&r.getGroupImages().forEach(l=>this.stateService.refreshFilter(l))}),r.hasGroup()&&r.getGroupImages().forEach(a=>this.stateService.refreshFilter(a)),this.close()}reorderGroup(){this.dialogService.create(_H,{images:this.stateService.target().getGroupImages().slice()}).then(i=>{if(i){let r=new Map;i.forEach((o,a)=>r.set(o.id,a)),this.stateService.target().getGroupImages().sort((o,a)=>r.get(o.id)-r.get(a.id)),this.stateService.refreshFilter(),this.stateService.updateData()}}),this.close()}openYandexReverseImageSearch(i){Xr.openYandexReverseImageSearch(i,this.stateService.target(),this.tippyService),this.close()}startImageComparison(){this.dialogService.create(wH,{images:this.stateService.filter()}),this.close()}copyTargetBase64(){this.googleService.getBase64(this.stateService.target().id).then(i=>navigator.clipboard.writeText(i)),this.close()}openTargetInGoogleDrive(){this.googleService.openSearch(this.stateService.target().name),this.close()}onAutoBookmarkStateChange(i){this.needsUpdate=!0,this.stateService.settings.autoBookmark=i.state}close(){this.needsUpdate&&this.stateService.images&&this.stateService.updateData(),this.resolve(!0)}};e.\u0275fac=function(r){return new(r||e)(R(Dn),R(Bi),R(Df),R(Zt),R(pH))},e.\u0275cmp=de({type:e,selectors:[["app-gallery-settings"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.close(l)},!1,Bt)("keydown.escape",function(l){return o.close(l)},!1,Bt)},standalone:!0,features:[ut,pe],decls:18,vars:2,consts:[["tp","Modify Group",1,"button",3,"click"],["class","button","tp","Reorder Group",3,"click",4,"ngIf"],["tp","Yandex Reverse Image Search",1,"button",3,"click"],["tp","Pairwise Comparison",1,"button",3,"click"],["tp","Toggle Brightness Mode",1,"button",3,"click"],["tp","Copy Base64 Data",1,"button","mobile-hidden",3,"click"],["tp","Open in Google Drive",1,"button","mobile-hidden",3,"click"],[1,"h-separator"],[1,"switch-container"],["tp","Bookmark new images automatically",3,"state","stateChange"],[1,"nowrap"],["tp","Reorder Group",1,"button",3,"click"]],template:function(r,o){if(r&1&&(b(0,"span",0),k("click",function(){return o.modifyGroup()}),L(1,"Modify Group"),C(),G(2,hue,2,0,"span",1),b(3,"span",2),k("click",function(l){return o.openYandexReverseImageSearch(l)}),L(4,"Yandex RIS"),C(),b(5,"span",3),k("click",function(){return o.startImageComparison()}),L(6,"Comparison"),C(),b(7,"span",4),k("click",function(){return o.applicationService.toggleTheme()}),L(8,"Theme"),C(),b(9,"span",5),k("click",function(){return o.copyTargetBase64()}),L(10,"Base64"),C(),b(11,"span",6),k("click",function(){return o.openTargetInGoogleDrive()}),L(12,"Google Drive"),C(),ee(13,"div",7),b(14,"div",8)(15,"app-switch",9),k("stateChange",function(l){return o.onAutoBookmarkStateChange(l)}),C(),b(16,"span",10),L(17,"Auto Bookmark"),C()()),r&2){let a;T(2),P("ngIf",(a=o.stateService.target())==null?null:a.hasGroup()),T(13),P("state",o.stateService.settings.autoBookmark)}},dependencies:[ve,nt,uE],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem;padding:.9999999999rem}[_nghost-%COMP%] > .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%] > .switch-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}"]});let t=e;return t})();var fue=["content"];function pue(t,e){if(t&1){let n=re();b(0,"div",4)(1,"span"),L(2),C(),b(3,"i",5),k("click",function(){N(n);let r=M();return F(r.close())}),C()()}if(t&2){let n=M();T(2),ue(n.contentInstance.configuration.title)}}function mue(t,e){t&1&&(b(0,"div",6),D1(1,null,7),C())}function gue(t,e){if(t&1){let n=re();b(0,"i",11),k("click",function(){N(n);let r=M(2).$implicit;return F(r.click&&r.click())}),C()}if(t&2){let n=M(2).$implicit,i=M();_j("icon-button "+i.getIconClass(n)),He("disabled",i.isDisabled(n))}}function vue(t,e){if(t&1){let n=re();b(0,"div",12),k("click",function(){N(n);let r=M(2).$implicit;return F(r.click&&r.click())}),L(1),C()}if(t&2){let n=M(2).$implicit,i=M();He("disabled",i.isDisabled(n)),T(),ue(i.getText(n))}}function yue(t,e){if(t&1&&(dt(0),G(1,gue,1,4,"i",9)(2,vue,2,3,"div",10),ht()),t&2){let n=M().$implicit;T(),P("ngIf",n.iconClass),T(),P("ngIf",n.text)}}function _ue(t,e){if(t&1&&(dt(0),G(1,yue,3,2,"ng-container",8),ht()),t&2){let n=e.$implicit,i=M();T(),P("ngIf",!i.isHidden(n))}}var CH=(()=>{let e=class e{get isActive(){return this.active()}get isBottom(){return this.position=="bottom"}get isVisible(){return this.visible?"visible":"hidden"}constructor(){this.visible=!0,this.result=new Promise(i=>this.resolve=i)}ngAfterViewInit(){if(this.contentComponentType){let i=this.containerRef.createComponent(this.contentComponentType);if(this.contentInstance=i.instance,this.contentInstance.resolve=this.resolve,this.result.then(()=>{this.visible=!1,setTimeout(()=>i.destroy(),250)}),this.inputs)for(let[r,o]of Object.entries(this.inputs))i.setInput(r,o);this.visible=!0,i.changeDetectorRef.detectChanges()}else{let i=this.inputs.buttons;for(let r of i)if(r.click){let o=r.click;r.click=()=>{o(),this.resolve(!0)}}else r.click=()=>this.resolve(!1);this.contentInstance={resolve:this.resolve,configuration:{title:null,buttons:i},close:()=>this.resolve(!1)},this.result.then(()=>{this.visible=!1;for(let r of i)r.text&&typeof r.text=="function"&&(r.text=r.text())}),this.visible=!0}}close(){this.contentInstance?.close()}isHidden(i){return i.hidden&&i.hidden()}isDisabled(i){return i.disabled&&i.disabled()}getText(i){if(i.text)return typeof i.text=="function"?i.text():i.text}getIconClass(i){if(i.iconClass)return typeof i.iconClass=="function"?i.iconClass():i.iconClass}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=de({type:e,selectors:[["app-dialog-base"]],viewQuery:function(r,o){if(r&1&&Aj(fue,5,Ci),r&2){let a;X0(a=Z0())&&(o.containerRef=a.first)}},hostVars:5,hostBindings:function(r,o){r&1&&k("keydown.escape",function(l){return o.close(l)},!1,Bt),r&2&&(xl("@overlayFade",o.isVisible),He("active",o.isActive)("bottom",o.isBottom))},standalone:!0,features:[pe],decls:4,vars:3,consts:[["class","header",4,"ngIf"],["class","content",4,"ngIf"],[1,"buttons"],[4,"ngFor","ngForOf"],[1,"header"],[1,"icon-button","fa-solid","fa-times",3,"click"],[1,"content"],["content",""],[4,"ngIf"],[3,"class","disabled","click",4,"ngIf"],["class","button",3,"disabled","click",4,"ngIf"],[3,"click"],[1,"button",3,"click"]],template:function(r,o){r&1&&(G(0,pue,4,1,"div",0)(1,mue,3,0,"div",1),b(2,"div",2),G(3,_ue,2,1,"ng-container",3),C()),r&2&&(P("ngIf",o.contentInstance==null?null:o.contentInstance.configuration.title),T(),P("ngIf",o.contentComponentType),T(2),P("ngForOf",o.contentInstance==null?null:o.contentInstance.configuration.buttons))},dependencies:[ve,qe,nt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-border);background-color:var(--color-background-primary);position:fixed;top:50%;left:50%;transform:translate(-50%) translateY(-50%);border-radius:.5rem;overflow:hidden;z-index:200;transition:filter .25s}@media screen and (max-width: 768px){[_nghost-%COMP%]{max-width:calc(100% - 1.3333333332rem);max-height:calc(100% - 1.3333333332rem)}}@media screen and (min-width: 768px){[_nghost-%COMP%]{max-width:80%;max-height:80%}}.bottom[_nghost-%COMP%]{top:auto;bottom:.3333333333rem;transform:translate(-50%)}[_nghost-%COMP%]:not(.active){filter:blur(3px);pointer-events:none}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;overflow:auto;border:1px solid var(--color-border);border-radius:.3333333333rem;margin:0 .3333333333rem}.header[_ngcontent-%COMP%]{height:2rem;padding:.3333333333rem .3333333333rem .3333333333rem .6666666666rem;display:flex;align-items:center;justify-content:space-between}.buttons[_ngcontent-%COMP%]{gap:.3333333333rem;padding:.3333333333rem;height:2rem;display:flex;align-items:center;justify-content:space-evenly}.button[_ngcontent-%COMP%]{flex:1;transition:.5s;white-space:nowrap;min-width:auto}"],data:{animation:[zr("overlayFade",[Fn("* => visible",[it({opacity:0}),ei("250ms ease",it({opacity:1}))]),Fn("* => hidden",[it({opacity:1}),ei("250ms ease",it({opacity:0}))])])]}});let t=e;return t})();function wue(t,e){if(t&1&&(b(0,"span"),L(1),C()),t&2){let n=e.$implicit;T(),ue(n)}}var EH=(()=>{let e=class e extends Vt{ngOnInit(){this.configuration={title:this.title,buttons:[{text:()=>this.positiveButtonText,click:()=>this.resolve(!0)},{text:()=>this.negativeButtonText,click:()=>this.resolve(!1)},{text:()=>"Cancel",click:()=>this.resolve(!1)}]}}submit(){this.resolve(!0)}close(){this.resolve(!1)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ki(e)))(o||e)}})(),e.\u0275cmp=de({type:e,selectors:[["app-confirmation-dialog"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.submit(l)},!1,Bt)("keydown.escape",function(l){return o.close(l)},!1,Bt)},inputs:{title:"title",messages:"messages",positiveButtonText:"positiveButtonText",negativeButtonText:"negativeButtonText"},features:[ut],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(r,o){r&1&&(b(0,"div",0),G(1,wue,2,1,"span",1),C()),r&2&&(T(),P("ngForOf",o.messages))},styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.9999999999rem;border-top:1px solid var(--color-border);border-bottom:1px solid var(--color-border)}"]});let t=e;return t})();function bue(t,e){if(t&1&&(b(0,"span"),L(1),C()),t&2){let n=e.$implicit;T(),ue(n)}}var IH=(()=>{let e=class e extends Vt{ngOnInit(){this.configuration={title:this.title,buttons:[{text:()=>"OK",click:()=>this.resolve()}]}}submit(){this.resolve()}close(){this.resolve()}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ki(e)))(o||e)}})(),e.\u0275cmp=de({type:e,selectors:[["app-message-dialog"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.submit(l)},!1,Bt)("keydown.escape",function(l){return o.close(l)},!1,Bt)},inputs:{title:"title",messages:"messages"},features:[ut],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(r,o){r&1&&(b(0,"div",0),G(1,bue,2,1,"span",1),C()),r&2&&(T(),P("ngForOf",o.messages))},styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.9999999999rem;border-top:1px solid var(--color-border);border-bottom:1px solid var(--color-border)}"]});let t=e;return t})();var Zt=(()=>{let e=class e{constructor(i,r){this.appRef=i,this.injector=r,this.stack=[]}openSettings(){return this.create(bH)}createMessage(i,r){return this.create(IH,{title:i,messages:r})}createConfirmation(i,r,o,a){return this.create(EH,{title:i,messages:r,positiveButtonText:o,negativeButtonText:a})}create(i,r,o=!0,a="center"){let l=iw(CH,{environmentInjector:this.injector}),d=l.instance;return d.contentComponentType=i,d.inputs=r,d.blurOverlay=o,d.position=a,d.active=()=>ae.isLast(this.stack,d),d.result.then(()=>{ae.remove(this.stack,d),setTimeout(()=>{this.appRef.detachView(l.hostView),l.destroy()},250)}),this.stack.push(d),this.appRef.attachView(l.hostView),document.body.firstElementChild.appendChild(l.location.nativeElement),l.changeDetectorRef.detectChanges(),d.result}};e.\u0275fac=function(r){return new(r||e)(se(ss),se(hi))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Cue(t,e){t&1&&ee(0,"div",3),t&2&&P("@fade",void 0)}function Eue(t,e){t&1&&ee(0,"span",4),t&2&&P("@fade",void 0)}var SH=(()=>{let e=class e{constructor(i,r){this.applicationService=i,this.dialogService=r,this.hideLoadingBarDelay=new Nc(1500),this.applicationService.initTheme(),this.applicationService.changes.subscribe(o=>{o===!1&&this.hideLoadingBarDelay.restart()})}isBlurOverlayVisible(){return this.applicationService.loading.value||ae.getLast(this.dialogService.stack)?.blurOverlay}getLoadingBarColor(){return this.applicationService.changes.value?"orange":this.applicationService.errors.value?"red":this.hideLoadingBarDelay.isActive()?"limegreen":"transparent"}};e.\u0275fac=function(r){return new(r||e)(R(Dn),R(Zt))},e.\u0275cmp=de({type:e,selectors:[["app-root"]],standalone:!0,features:[pe],decls:4,vars:4,consts:[["class","overlay-blur",4,"ngIf"],[1,"overlay-loading-bar"],["class","loading-spinner",4,"ngIf"],[1,"overlay-blur"],[1,"loading-spinner"]],template:function(r,o){r&1&&(G(0,Cue,1,1,"div",0),ee(1,"div",1),G(2,Eue,1,1,"span",2),ee(3,"router-outlet")),r&2&&(P("ngIf",o.isBlurOverlayVisible()),T(),os("background-color",o.getLoadingBarColor()),T(),P("ngIf",o.applicationService.loading.value))},dependencies:[ve,nt,Rv],styles:[".light-theme[_nghost-%COMP%], .light-theme   [_nghost-%COMP%]{--color-background-primary: rgb(255, 255, 255);--color-border: rgba(0, 0, 0, .2);--color-hover: rgba(0, 0, 0, .1);--color-text: black;--color-text-hover: rgb(28, 28, 28);--color-text-shadow: #e1e1e1;--color-highlight: blueviolet;--color-primary: #0075ff;--color-secondary: #155197;--color-positive: forestgreen;--color-negative: orangered}.dark-theme[_nghost-%COMP%], .dark-theme   [_nghost-%COMP%]{--color-background-primary: #202124;--color-background-secondary: #2b2c2f;--color-border: rgba(255, 255, 255, .2);--color-hover: rgba(255, 255, 255, .1);--color-text-shadow: black;--color-text: #e1e1e1;--color-text-hover: white;--color-primary: #0075ff;--color-secondary: #155197;--color-highlight: blueviolet;--color-positive: yellowgreen;--color-negative: lightcoral}[_nghost-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:var(--color-text);background-color:var(--color-background-primary)}.overlay-blur[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);z-index:100;position:absolute}.overlay-loading-bar[_ngcontent-%COMP%]{width:100%;height:1px;align-self:start;pointer-events:none;z-index:100;position:absolute;background-color:transparent;transition-property:background-color;transition-duration:.5s}.loading-spinner[_ngcontent-%COMP%]{width:75px;height:75px;border-width:3px;border-color:var(--color-background-secondary);border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s infinite linear;border-radius:50%;border-style:solid;position:absolute;z-index:100}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"],data:{animation:[Fc]}});let t=e;return t})();var RH=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(R(bo),R(nn))},e.\u0275dir=At({type:e});let t=e;return t})(),gE=(()=>{let e=class e extends RH{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ki(e)))(o||e)}})(),e.\u0275dir=At({type:e,features:[ut]});let t=e;return t})(),Zv=new we("");var Iue={provide:Zv,useExisting:ic(()=>Ht),multi:!0};function Sue(){let t=ia()?ia().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Tue=new we(""),Ht=(()=>{let e=class e extends RH{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Sue())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(R(bo),R(nn),R(Tue,8))},e.\u0275dir=At({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&k("input",function(l){return o._handleInput(l.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(l){return o._compositionEnd(l.target.value)})},features:[oh([Iue]),ut]});let t=e;return t})();var Due=new we(""),xue=new we("");function NH(t){return t!=null}function FH(t){return Ml(t)?Qt(t):t}function LH(t){let e={};return t.forEach(n=>{e=n!=null?ne(ne({},e),n):e}),Object.keys(e).length===0?null:e}function VH(t,e){return e.map(n=>n(t))}function Aue(t){return!t.validate}function jH(t){return t.map(e=>Aue(e)?e:n=>e.validate(n))}function Mue(t){if(!t)return null;let e=t.filter(NH);return e.length==0?null:function(n){return LH(VH(n,e))}}function UH(t){return t!=null?Mue(jH(t)):null}function Pue(t){if(!t)return null;let e=t.filter(NH);return e.length==0?null:function(n){let i=VH(n,e).map(FH);return CS(i).pipe(Ne(LH))}}function BH(t){return t!=null?Pue(jH(t)):null}function TH(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Oue(t){return t._rawValidators}function kue(t){return t._rawAsyncValidators}function QO(t){return t?Array.isArray(t)?t:[t]:[]}function pE(t,e){return Array.isArray(t)?t.includes(e):t===e}function DH(t,e){let n=QO(e);return QO(t).forEach(r=>{pE(n,r)||n.push(r)}),n}function xH(t,e){return QO(e).filter(n=>!pE(t,n))}var mE=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=UH(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=BH(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},JO=class extends mE{get formDirective(){return null}get path(){return null}},Xv=class extends mE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},XO=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Rue={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},IAe=xt(ne({},Rue),{"[class.ng-submitted]":"isSubmitted"}),en=(()=>{let e=class e extends XO{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(R(Xv,2))},e.\u0275dir=At({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&He("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[ut]});let t=e;return t})();var Qv="VALID",fE="INVALID",xf="PENDING",Jv="DISABLED";function Nue(t){return(vE(t)?t.validators:t)||null}function Fue(t){return Array.isArray(t)?UH(t):t||null}function Lue(t,e){return(vE(e)?e.asyncValidators:t)||null}function Vue(t){return Array.isArray(t)?BH(t):t||null}function vE(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var ZO=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Qv}get invalid(){return this.status===fE}get pending(){return this.status==xf}get disabled(){return this.status===Jv}get enabled(){return this.status!==Jv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(DH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(DH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(xH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(xH(e,this._rawAsyncValidators))}hasValidator(e){return pE(this._rawValidators,e)}hasAsyncValidator(e){return pE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=xf,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Jv,this.errors=null,this._forEachChild(i=>{i.disable(xt(ne({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(xt(ne({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Qv,this._forEachChild(i=>{i.enable(xt(ne({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(xt(ne({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qv||this.status===xf)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jv:Qv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=xf,this._hasOwnPendingAsyncValidator=!0;let n=FH(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new zt,this.statusChanges=new zt}_calculateStatus(){return this._allControlsDisabled()?Jv:this.errors?fE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xf)?xf:this._anyControlsHaveStatus(fE)?fE:Qv}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){vE(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Fue(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Vue(this._rawAsyncValidators)}};var $H=new we("CallSetDisabledState",{providedIn:"root",factory:()=>ek}),ek="always";function jue(t,e){return[...e.path,t]}function Uue(t,e,n=ek){$ue(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Hue(t,e),zue(t,e),Gue(t,e),Bue(t,e)}function AH(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Bue(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function $ue(t,e){let n=Oue(t);e.validator!==null?t.setValidators(TH(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=kue(t);e.asyncValidator!==null?t.setAsyncValidators(TH(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();AH(e._rawValidators,r),AH(e._rawAsyncValidators,r)}function Hue(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&HH(t,e)})}function Gue(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&HH(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function HH(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function zue(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function que(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Wue(t){return Object.getPrototypeOf(t.constructor)===gE}function Kue(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===Ht?n=o:Wue(o)?i=o:r=o}),r||i||n||null}function MH(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function PH(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Yue=class extends ZO{constructor(e=null,n,i){super(Nue(n),Lue(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vE(n)&&(n.nonNullable||n.initialValueIsDefault)&&(PH(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){MH(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){MH(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){PH(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Que={provide:Xv,useExisting:ic(()=>Kt)},OH=Promise.resolve(),Kt=(()=>{let e=class e extends Xv{constructor(i,r,o,a,l,d){super(),this._changeDetectorRef=l,this.callSetDisabledState=d,this.control=new Yue,this._registered=!1,this.name="",this.update=new zt,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Kue(this,a)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),que(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Uue(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){OH.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,o=r!==0&&Zi(r);OH.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?jue(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(R(JO,9),R(Due,10),R(xue,10),R(Zv,10),R(na,8),R($H,8))},e.\u0275dir=At({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[xe.None,"disabled","isDisabled"],model:[xe.None,"ngModel","model"],options:[xe.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[oh([Que]),ut,_o]});let t=e;return t})();var Jue={provide:Zv,useExisting:ic(()=>Ru),multi:!0},Ru=(()=>{let e=class e extends gE{writeValue(i){let r=i??"";this.setProperty("value",r)}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ki(e)))(o||e)}})(),e.\u0275dir=At({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&k("input",function(l){return o.onChange(l.target.value)})("blur",function(){return o.onTouched()})},features:[oh([Jue]),ut]});let t=e;return t})();var Xue={provide:Zv,useExisting:ic(()=>eo),multi:!0};function GH(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Zue(t){return t.split(":")[0]}var eo=(()=>{let e=class e extends gE{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r=this._getOptionId(i),o=GH(r,i);this.setProperty("value",o)}registerOnChange(i){this.onChange=r=>{this.value=this._getOptionValue(r),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),i))return r;return null}_getOptionValue(i){let r=Zue(i);return this._optionMap.has(r)?this._optionMap.get(r):i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ki(e)))(o||e)}})(),e.\u0275dir=At({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&k("change",function(l){return o.onChange(l.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[oh([Xue]),ut]});let t=e;return t})(),As=(()=>{let e=class e{constructor(i,r,o){this._element=i,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(i){this._select!=null&&(this._select._optionMap.set(this.id,i),this._setElementValue(GH(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(R(nn),R(bo),R(eo,9))},e.\u0275dir=At({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),ede={provide:Zv,useExisting:ic(()=>zH),multi:!0};function kH(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function tde(t){return t.split(":")[0]}var zH=(()=>{let e=class e extends gE{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r;if(Array.isArray(i)){let o=i.map(a=>this._getOptionId(a));r=(a,l)=>{a._setSelected(o.indexOf(l.toString())>-1)}}else r=(o,a)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(i){this.onChange=r=>{let o=[],a=r.selectedOptions;if(a!==void 0){let l=a;for(let d=0;d<l.length;d++){let h=l[d],m=this._getOptionValue(h.value);o.push(m)}}else{let l=r.options;for(let d=0;d<l.length;d++){let h=l[d];if(h.selected){let m=this._getOptionValue(h.value);o.push(m)}}}this.value=o,i(o)}}_registerOption(i){let r=(this._idCounter++).toString();return this._optionMap.set(r,i),r}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,i))return r;return null}_getOptionValue(i){let r=tde(i);return this._optionMap.has(r)?this._optionMap.get(r)._value:i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ki(e)))(o||e)}})(),e.\u0275dir=At({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&k("change",function(l){return o.onChange(l.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[oh([ede]),ut]});let t=e;return t})(),Ms=(()=>{let e=class e{constructor(i,r,o){this._element=i,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){this._select!=null&&(this._value=i,this._setElementValue(kH(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(kH(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(R(nn),R(bo),R(zH,9))},e.\u0275dir=At({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var nde=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Qi({type:e}),e.\u0275inj=Ji({});let t=e;return t})();var St=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:$H,useValue:i.callSetDisabledState??ek}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Qi({type:e}),e.\u0275inj=Ji({imports:[nde]});let t=e;return t})();var Ps=(()=>{let e=class e{constructor(i){this.elementRef=i,this.onCreate=new zt}ngOnInit(){this.onCreate.emit(this.elementRef)}};e.\u0275fac=function(r){return new(r||e)(R(nn))},e.\u0275dir=At({type:e,selectors:[["","onCreate",""]],outputs:{onCreate:"onCreate"},standalone:!0});let t=e;return t})();var Af=(()=>{let e=class e{set ngVar(i){this.context.ngVar=i}static ngTemplateContextGuard(i,r){return!0}constructor(i,r){this.containerRef=i,this.templateRef=r,this.context=new tk,this.containerRef.createEmbeddedView(this.templateRef,this.context)}};e.\u0275fac=function(r){return new(r||e)(R(Ci),R(vo))},e.\u0275dir=At({type:e,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"},standalone:!0});let t=e;return t})(),tk=class{};var Tt=class{static format(e,...n){do e=e.replace("%s",n.shift()||"");while(e.includes("%s"));return e}static capitalize(e){if(!this.isEmpty(e))return e.substring(0,1).toUpperCase()+e.substring(1)}static isEmpty(e){return!e||typeof e!="string"||e.trim().length<=0}static getWordCount(e){return e.split(new RegExp(`[^ /
]+`,"g")).length-1}};var jc=(()=>{let e=class e{constructor(){}onNodeClick(i){}renderNotes(){}process(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var tn=function(t){return t.ALWAYS="ALWAYS",t.NEVER="NEVER",t.AND="AND",t.OR="OR",t.NOT="NOT",t.EQ="EQ",t.NEQ="NEQ",t.CHANCE="CHANCE",t}(tn||{});var ey=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var bt=class{static createScenario(){return{characters:[],variables:[],nodes:[],buttons:[],notes:[]}}static createCharacter(){return{color:"#FFFFFF"}}static createVariable(){return{options:[]}}static createDialogueNode(){return{id:ey(),lines:[],buttonIds:[]}}static createDialogueLine(){return{}}static createButton(){return{id:ey(),logic:[this.createLogic(tn.ALWAYS)],disabled:this.createCondition(tn.NEVER),hidden:this.createCondition(tn.NEVER)}}static createLogic(e){return{operator:e,conditions:[],actions:[this.createAction()]}}static createCondition(e){return{operator:e}}static createAction(){return{weight:100,storyChanges:[],variableChanges:[]}}};var hn=(()=>{let e=class e{constructor(){}getCurrentNode(){return this.currentScenario?.currentNode}getCurrentNote(){return this.currentScenario?.currentNote}getScenario(i){return this.scenarios.find(r=>r.id==i)}getNodes(){return this.scenarios.flatMap(i=>i.nodes)}getButtons(){return this.scenarios.flatMap(i=>i.buttons)}getButtonsForNode(i=this.getCurrentNode()){return i?.buttonIds.map(r=>this.getButton(r,this.getScenario(i.parentScenarioId)))}getCharacters(){return this.scenarios.flatMap(i=>i.characters)}getVariables(){return this.scenarios.flatMap(i=>i.variables)}getNode(i){if(i)return this.getNodes().find(r=>r.id==i)}getButton(i,r){if(i)return r?r.buttons.find(o=>o.id==i):this.getButtons().find(o=>o.id==i)}getCharacter(i){if(i)return this.getCharacters().find(r=>r.id==i)}getVariable(i){if(i)return this.getVariables().find(r=>r.id==i)}initialize(i){if(i&&i.scenarios){this.scenarios=i.scenarios;for(let r of this.scenarios);for(let r of this.scenarios){r.currentNode=r.nodes[0],r.currentNote=r.notes[0];for(let o of r.nodes)o.parentScenarioId=r.id;for(let o of r.notes)o.wordCount=Tt.getWordCount(o.text);for(let o of r.buttons)o.logic||(o.logic=[bt.createLogic(tn.ALWAYS)])}this.currentScenario=i.scenarios[0],this.story=[]}}serialize(){return{scenarios:this.scenarios.map(i=>({id:i.id,label:i.label,characters:i.characters.map(r=>({id:r.id,name:r.name,color:r.color})),variables:i.variables.map(r=>({id:r.id,type:r.type,options:r.options,initialValue:r.initialValue})),nodes:i.nodes.map(r=>({id:r.id,description:r.description,lines:r.lines,buttonIds:r.buttonIds})),buttons:i.buttons.map(r=>({id:r.id,text:r.text,tooltip:r.tooltip,logic:r.logic,disabled:r.disabled,hidden:r.hidden})),notes:i.notes.map(r=>({label:r.label,text:r.text}))}))}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Uc=(()=>{let e=class e extends Tf{constructor(i,r,o,a){super(i),this.http=i,this.injector=r,this.applicationService=o,this.stateService=a,this.delay=new Nc(3e3),this.FILE_ID="1l3MbDnNr9VKc1aADVATWCYe1tMwLUTp-",this.FIELDS="id,name,mimeType,appProperties"}requestAdventure(){return this.getContent(this.FILE_ID)}updateAdventure(i=!1,r=!1){r&&this.injector.get(jc).renderNotes(),this.applicationService.changes.next(!0);let o=()=>{this.updateContent(this.FILE_ID,JSON.stringify(this.stateService.serialize())).then(a=>{this.applicationService.errors.next(a==null)}).finally(()=>{this.applicationService.changes.next(!1)})};i?(this.delay.stop(),o()):this.delay.restart(()=>o())}};e.\u0275fac=function(r){return new(r||e)(se(Ol),se(ln),se(Dn),se(hn))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var _E=class extends Lc{constructor(e){super(e)}toggle(){this.next(!this.value)}};function ide(t,e){if(t&1){let n=re();dt(0),b(1,"div",2)(2,"span",3),L(3,"Weight"),C()(),b(4,"div",4)(5,"input",12),Le("ngModelChange",function(r){N(n);let o=M();return je(o.action.weight,r)||(o.action.weight=r),F(r)}),k("input",function(r){N(n);let o=M();return F(o.onWeightChange(r))}),C(),b(6,"i",13),k("click",function(){N(n);let r=M();return F(r.onRemoveActionClick())}),C()(),ht()}if(t&2){let n=M();T(5),Fe("ngModel",n.action.weight)}}function rde(t,e){t&1&&ee(0,"div",8)}function ode(t,e){if(t&1&&(b(0,"option",14),L(1),C()),t&2){let n=e.$implicit,i=M();P("ngValue",n.id),T(),ta("(",i.getParentScenario(n).label," ",n.description,")")}}function sde(t,e){if(t&1){let n=re();b(0,"div",4)(1,"input",5),Le("ngModelChange",function(r){let a=N(n).$implicit;return je(a.value,r)||(a.value=r),F(r)}),C(),b(2,"i",15),k("click",function(){let o=N(n).$implicit,a=M();return F(a.removeStoryChange(o))}),C()()}if(t&2){let n=e.$implicit;T(),Fe("ngModel",n.value)}}function ade(t,e){if(t&1&&(b(0,"option",14),L(1),C()),t&2){let n=e.$implicit;P("ngValue",n.id),T(),ue(n.id)}}function cde(t,e){if(t&1&&(b(0,"option",14),L(1),C()),t&2){let n=e.$implicit;P("ngValue",n.id),T(),ue(n.value)}}function lde(t,e){if(t&1){let n=re();b(0,"div",4)(1,"select",5),Le("ngModelChange",function(r){let a=N(n).$implicit;return je(a.id,r)||(a.id=r),F(r)}),G(2,ade,2,2,"option",6),C(),b(3,"select",5),Le("ngModelChange",function(r){let a=N(n).$implicit;return je(a.value,r)||(a.value=r),F(r)}),G(4,cde,2,2,"option",6),C(),b(5,"i",16),k("click",function(){let o=N(n).$implicit,a=M();return F(a.removeVariableChange(o))}),C()()}if(t&2){let n=e.$implicit,i=M();T(),Fe("ngModel",n.id),T(),P("ngForOf",i.getAvailableVariables()),T(),He("disabled",!n.id),Fe("ngModel",n.value),T(),P("ngForOf",i.getVariableOptions(n))}}var qH=(()=>{let e=class e{constructor(i,r){this.editorService=i,this.stateService=r,this.removeAction=new zt}ngOnInit(){}getParentScenario(i){return this.stateService.getScenario(i.parentScenarioId)}getAvailableNodes(){let i=this.stateService.currentScenario.nodes.indexOf(this.stateService.currentScenario.currentNode),r=this.stateService.currentScenario.nodes.filter(a=>this.stateService.currentScenario.nodes.indexOf(a)>i),o=this.stateService.getNodes().filter(a=>!r.includes(a));return r.concat(o)}getAvailableVariables(){let i=this.stateService.currentScenario.variables,r=this.stateService.getVariables().filter(o=>!i.includes(o));return i.concat(r)}getVariableOptions(i){if(i?.id)return this.stateService.getVariable(i.id).options}createVariableChange(){this.action.variableChanges.push({})}removeVariableChange(i){ae.remove(this.action.variableChanges,i)}createStoryChange(){this.action.storyChanges.push({id:null,value:""})}removeStoryChange(i){ae.remove(this.action.storyChanges,i)}onWeightChange(i){let r=i.target;isNaN(r.valueAsNumber)||r.valueAsNumber<=0?(r.valueAsNumber=0,this.action.weight=0):(r.valueAsNumber=Math.floor(r.valueAsNumber),this.action.weight=r.valueAsNumber)}onRemoveActionClick(){this.removeAction.emit(this.action)}createNode(){this.editorService.openDialogueNodeEditor(bt.createDialogueNode(),this.stateService.currentScenario).then(i=>{this.action.nextNodeId=i.id})}};e.\u0275fac=function(r){return new(r||e)(R(ur),R(hn))},e.\u0275cmp=de({type:e,selectors:[["app-action-editor"]],inputs:{action:"action",weightVisible:"weightVisible"},outputs:{removeAction:"removeAction"},standalone:!0,features:[pe],decls:21,vars:6,consts:[[4,"ngIf"],["class","h-separator",4,"ngIf"],[1,"section-header"],[1,"section-title"],[1,"section-container"],[3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["tp","Create Node",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"h-separator"],["tp","Create Story Change",1,"icon-button","fa-solid","fa-plus",3,"click"],["class","section-container",4,"ngFor","ngForOf"],["tp","Create Variable Change",1,"icon-button","fa-solid","fa-plus",3,"click"],["type","number",3,"ngModel","ngModelChange","input"],["tp","Remove Action",1,"icon-button","fa-solid","fa-times",3,"click"],[3,"ngValue"],["tp","Remove Story Change",1,"icon-button","fa-solid","fa-times",3,"click"],["tp","Remove Variable Change",1,"icon-button","fa-solid","fa-times",3,"click"]],template:function(r,o){r&1&&(G(0,ide,7,1,"ng-container",0)(1,rde,1,0,"div",1),b(2,"div",2)(3,"span",3),L(4,"Next Node"),C()(),b(5,"div",4)(6,"select",5),Le("ngModelChange",function(l){return je(o.action.nextNodeId,l)||(o.action.nextNodeId=l),l}),G(7,ode,2,3,"option",6),C(),b(8,"i",7),k("click",function(){return o.createNode()}),C()(),ee(9,"div",8),b(10,"div",2)(11,"span",3),L(12,"Story Changes"),C(),b(13,"i",9),k("click",function(){return o.createStoryChange()}),C()(),G(14,sde,3,1,"div",10),ee(15,"div",8),b(16,"div",2)(17,"span",3),L(18,"Variable Changes"),C(),b(19,"i",11),k("click",function(){return o.createVariableChange()}),C()(),G(20,lde,6,6,"div",10)),r&2&&(P("ngIf",o.weightVisible),T(),P("ngIf",o.weightVisible),T(5),Fe("ngModel",o.action.nextNodeId),T(),P("ngForOf",o.getAvailableNodes()),T(7),P("ngForOf",o.action.storyChanges),T(6),P("ngForOf",o.action.variableChanges))},dependencies:[ve,qe,nt,St,As,Ms,Ht,Ru,eo,en,Kt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem;border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   input[type=number][_ngcontent-%COMP%]{border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.3333333333rem;outline:none;color:var(--color-text);background-color:transparent;font-size:inherit;font-weight:inherit;font-family:inherit}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .section-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}select[_ngcontent-%COMP%]{width:100%;border-color:var(--color-border);border-radius:.3333333333rem;color:var(--color-text);padding:2.2px;background-color:transparent;font-family:inherit;font-size:inherit}select[_ngcontent-%COMP%] > option[_ngcontent-%COMP%]{color:var(--color-text);background-color:var(--color-background-primary)}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]});let t=e;return t})();function ude(t,e){if(t&1&&(b(0,"option"),L(1),C()),t&2){let n=e.$implicit;T(),ue(n)}}function dde(t,e){if(t&1){let n=re();b(0,"div")(1,"select",3),Le("ngModelChange",function(r){N(n);let o=M();return je(o.logic.operator,r)||(o.logic.operator=r),F(r)}),G(2,ude,2,1,"option",1),C(),b(3,"i",4),k("click",function(){N(n);let r=M();return F(r.onRemoveLogicClick())}),C()()}if(t&2){let n=M();T(),He("select-disabled",n.logic.conditions.length==0),Fe("ngModel",n.logic.operator),T(),P("ngForOf",n.getLogicalOperators())}}function hde(t,e){if(t&1&&(b(0,"option",8),L(1),C()),t&2){let n=e.$implicit;P("ngValue",n),T(),ue(n.id)}}function fde(t,e){if(t&1&&(b(0,"option"),L(1),C()),t&2){let n=e.$implicit;T(),ue(n)}}function pde(t,e){if(t&1&&(b(0,"option",8),L(1),C()),t&2){let n=e.$implicit;P("ngValue",n),T(),ue(n.value)}}function mde(t,e){if(t&1){let n=re();b(0,"div")(1,"select",5),Le("ngModelChange",function(r){N(n);let o=M().$implicit;return je(o.variable,r)||(o.variable=r),F(r)}),G(2,hde,2,2,"option",6),C(),b(3,"select",3),Le("ngModelChange",function(r){N(n);let o=M().$implicit;return je(o.operator,r)||(o.operator=r),F(r)}),G(4,fde,2,1,"option",1),C(),b(5,"select",5),Le("ngModelChange",function(r){N(n);let o=M().$implicit;return je(o.value,r)||(o.value=r),F(r)}),G(6,pde,2,2,"option",6),C(),b(7,"span",7),k("click",function(){N(n);let r=M().$implicit,o=M();return F(o.onRemoveConditionClick(r))}),C()()}if(t&2){let n=M().$implicit,i=M();T(),Fe("ngModel",n.variable),P("compareWith",i.compareVariables),T(),P("ngForOf",i.stateService.getVariables()),T(),Fe("ngModel",n.operator),T(),P("ngForOf",i.getComparisonOperators()),T(),He("disabled",!n.variable.id),Fe("ngModel",n.value),P("compareWith",i.compareOptions),T(),P("ngForOf",n.variable.options)}}function gde(t,e){if(t&1){let n=re();b(0,"div")(1,"span",9)(2,"input",10),Le("ngModelChange",function(r){N(n);let o=M().$implicit;return je(o.chance,r)||(o.chance=r),F(r)}),k("input",function(r){N(n);let o=M().$implicit,a=M();return F(a.onChanceChange(o,r))}),C(),L(3,"%"),C(),b(4,"span",7),k("click",function(){N(n);let r=M().$implicit,o=M();return F(o.onRemoveConditionClick(r))}),C()()}if(t&2){let n=M().$implicit;T(2),Fe("ngModel",n.chance)}}function vde(t,e){if(t&1&&(dt(0),G(1,mde,8,10,"div",0)(2,gde,5,1,"div",0),ht()),t&2){let n=e.$implicit,i=M();T(),P("ngIf",i.isVariableCondition(n)),T(),P("ngIf",i.isChanceCondition(n))}}function yde(t,e){if(t&1){let n=re();b(0,"i",13),k("click",function(){N(n);let r=M(2);return F(r.createChanceCheck())}),C()}}function _de(t,e){if(t&1){let n=re();b(0,"div")(1,"i",11),k("click",function(){N(n);let r=M();return F(r.createVariableCheck())}),C(),G(2,yde,1,0,"i",12),C()}if(t&2){let n=M();T(2),P("ngIf",!n.hasChanceCheck())}}function wde(t,e){t&1&&ee(0,"div",14)}function bde(t,e){if(t&1){let n=re();dt(0),b(1,"div",15)(2,"span",16),L(3,"Action"),C(),b(4,"i",17),k("click",function(){N(n);let r=M();return F(r.createAction())}),C()(),b(5,"app-action-editor",18),k("removeAction",function(r){N(n);let o=M();return F(o.onRemoveAction(r))}),C(),ht()}if(t&2){let n=e.$implicit,i=M();T(5),P("action",n)("weightVisible",i.logic.actions.length>1)}}var WH=(()=>{let e=class e{constructor(i){this.stateService=i,this.removeLogic=new zt}ngOnInit(){}createVariableCheck(){let i=bt.createCondition(tn.EQ);i.variable=bt.createVariable(),this.logic.conditions.push(i)}createChanceCheck(){this.logic.conditions.push(bt.createCondition(tn.CHANCE))}createAction(){this.logic.actions.push(bt.createAction())}isLogicalCondition(i){return this.getLogicalOperators().includes(i?.operator)}isVariableCondition(i){return this.getComparisonOperators().includes(i?.operator)}isChanceCondition(i){return i?.operator==tn.CHANCE}compareVariables(i,r){return i&&r?i.id==r.id:i==r}compareOptions(i,r){return i&&r?i.id==r.id:i==r}onRemoveConditionClick(i){ae.remove(this.logic.conditions,i)}hasChanceCheck(){return this.logic.conditions.some(i=>this.isChanceCondition(i))}onRemoveLogicClick(){this.removeLogic.emit(this.logic)}onRemoveAction(i){ae.remove(this.logic.actions,i)}onChanceChange(i,r){let o=r.target;isNaN(o.valueAsNumber)?(o.value="",i.chance=void 0):o.valueAsNumber<0?(o.valueAsNumber=0,i.chance=0):o.valueAsNumber>100?(o.valueAsNumber=100,i.chance=100):(o.valueAsNumber=Math.floor(o.valueAsNumber),i.chance=o.valueAsNumber)}getLogicalOperators(){return ae.isEmpty(this.logic.conditions)?[tn.ALWAYS]:[tn.AND,tn.OR]}getComparisonOperators(){return[tn.EQ,tn.NEQ]}};e.\u0275fac=function(r){return new(r||e)(R(hn))},e.\u0275cmp=de({type:e,selectors:[["app-logic-editor"]],inputs:{logic:"logic",removable:"removable"},outputs:{removeLogic:"removeLogic"},standalone:!0,features:[pe],decls:5,vars:5,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["class","h-separator",4,"ngIf"],[3,"ngModel","ngModelChange"],["tp","Remove Logic",1,"icon-button","fa-solid","fa-times",3,"click"],[3,"ngModel","compareWith","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["tp","Remove Condition",1,"icon-button","fa-solid","fa-times",3,"click"],[3,"ngValue"],[1,"input-percentage-container"],["type","number",3,"ngModel","ngModelChange","input"],[1,"icon-button","fa-solid","fa-question",3,"click"],["class","icon-button fa-solid fa-percent","tp","Chance",3,"click",4,"ngIf"],["tp","Chance",1,"icon-button","fa-solid","fa-percent",3,"click"],[1,"h-separator"],[1,"section-header"],[1,"section-title"],["tp","Create Action",1,"icon-button","fa-solid","fa-plus",3,"click"],[3,"action","weightVisible","removeAction"]],template:function(r,o){r&1&&G(0,dde,4,4,"div",0)(1,vde,3,2,"ng-container",1)(2,_de,3,1,"div",0)(3,wde,1,0,"div",2)(4,bde,6,2,"ng-container",1),r&2&&(P("ngIf",o.removable),T(),P("ngForOf",o.logic.conditions),T(),P("ngIf",o.removable),T(),P("ngIf",o.removable),T(),P("ngForOf",o.logic.actions))},dependencies:[ve,qe,nt,St,As,Ms,Ht,Ru,eo,en,Kt,qH],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}select[_ngcontent-%COMP%]{width:100%;border-color:var(--color-border);border-radius:.3333333333rem;color:var(--color-text);padding:2.2px;background-color:transparent;font-family:inherit;font-size:inherit}select[_ngcontent-%COMP%] > option[_ngcontent-%COMP%]{color:var(--color-text);background-color:var(--color-background-primary)}select.select-disabled[_ngcontent-%COMP%]{padding:0 .3333333333rem;appearance:none;pointer-events:none}.input-percentage-container[_ngcontent-%COMP%]{width:100%;display:flex;border:1px solid var(--color-border);align-items:center;border-radius:.3333333333rem;padding:.3333333333rem}.input-percentage-container[_ngcontent-%COMP%] > input[type=number][_ngcontent-%COMP%]{width:100%;padding:0;border:none;outline:none;color:var(--color-text);background-color:transparent;font-size:inherit;font-weight:inherit;font-family:inherit}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]});let t=e;return t})();function Cde(t,e){if(t&1){let n=re();b(0,"app-logic-editor",6),k("removeLogic",function(r){N(n);let o=M();return F(o.onRemoveLogic(r))}),C()}if(t&2){let n=e.$implicit,i=e.index;P("logic",n)("removable",i>0)}}var KH=(()=>{let e=class e extends Vt{constructor(i){super(),this.dialogService=i,this.configuration={title:"Button Editor",buttons:[{text:()=>"Done",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableButton=bt.createButton(),this.sourceButton&&(this.editableButton.text=this.sourceButton.text,this.editableButton.tooltip=this.sourceButton.tooltip,this.editableButton.logic=this.sourceButton.logic,this.editableButton.disabled=this.sourceButton.disabled,this.editableButton.hidden=this.sourceButton.hidden)}createLogicEntry(){this.editableButton.logic.push(bt.createLogic(tn.ALWAYS))}onRemoveLogic(i){ae.isEmpty(i.conditions)&&i.actions.every(r=>ae.isEmpty(r.storyChanges)&&ae.isEmpty(r.variableChanges))?ae.remove(this.editableButton.logic,i):this.dialogService.createConfirmation("Remove Logic Entry",["Are you sure you want to remove this logic entry?"],"Yes","No").then(r=>{r&&ae.remove(this.editableButton.logic,i)})}canSubmit(){return!Tt.isEmpty(this.editableButton.text)}submit(){if(this.canSubmit()){this.sourceButton.text=this.editableButton.text,this.sourceButton.tooltip=this.editableButton.tooltip;for(let i of this.editableButton.logic)for(let r of i.actions)r.storyChanges=r.storyChanges.filter(o=>!Tt.isEmpty(o.value)),r.variableChanges=r.variableChanges.filter(o=>!Tt.isEmpty(o.value));this.sourceButton.logic=this.editableButton.logic,this.sourceButton.hidden=bt.createCondition(tn.NEVER),this.sourceButton.disabled=bt.createCondition(tn.NEVER),this.resolve(this.sourceButton)}}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(R(Zt))},e.\u0275cmp=de({type:e,selectors:[["app-button-editor"]],inputs:{sourceButton:"sourceButton"},standalone:!0,features:[ut,pe],decls:15,vars:3,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"],["tp","Create Logic",1,"icon-button","fa-solid","fa-plus",3,"click"],[3,"logic","removable","removeLogic",4,"ngFor","ngForOf"],[3,"logic","removable","removeLogic"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"span",1),L(2,"Text"),C()(),b(3,"input",2),Le("ngModelChange",function(l){return je(o.editableButton.text,l)||(o.editableButton.text=l),l}),C(),ee(4,"div",3),b(5,"div",0)(6,"span",1),L(7,"Tooltip"),C()(),b(8,"input",2),Le("ngModelChange",function(l){return je(o.editableButton.tooltip,l)||(o.editableButton.tooltip=l),l}),C(),ee(9,"div",3),b(10,"div",0)(11,"span",1),L(12,"Logic"),C(),b(13,"i",4),k("click",function(){return o.createLogicEntry()}),C()(),G(14,Cde,1,2,"app-logic-editor",5)),r&2&&(T(3),Fe("ngModel",o.editableButton.text),T(5),Fe("ngModel",o.editableButton.tooltip),T(6),P("ngForOf",o.editableButton.logic))},dependencies:[ve,qe,St,Ht,en,Kt,WH],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.3333333333rem}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-element[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();var YH=(()=>{let e=class e extends Vt{constructor(){super(),this.configuration={title:"Character Editor",buttons:[{text:()=>"Done",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableCharacter=bt.createCharacter(),this.sourceCharacter&&(this.editableCharacter.id=this.sourceCharacter.id,this.editableCharacter.name=this.sourceCharacter.name,this.editableCharacter.color=this.sourceCharacter.color)}canSubmit(){return!(Tt.isEmpty(this.editableCharacter.id)||Tt.isEmpty(this.editableCharacter.name)||Tt.isEmpty(this.editableCharacter.color))}submit(){this.canSubmit()&&(this.sourceCharacter.id=this.editableCharacter.id,this.sourceCharacter.name=this.editableCharacter.name,this.sourceCharacter.color=this.editableCharacter.color,this.resolve(this.sourceCharacter))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=de({type:e,selectors:[["app-character-editor"]],inputs:{sourceCharacter:"sourceCharacter"},standalone:!0,features:[ut,pe],decls:14,vars:3,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"span",1),L(2,"ID"),C()(),b(3,"input",2),Le("ngModelChange",function(l){return je(o.editableCharacter.id,l)||(o.editableCharacter.id=l),l}),C(),ee(4,"div",3),b(5,"div",0)(6,"span",1),L(7,"Name"),C()(),b(8,"input",2),Le("ngModelChange",function(l){return je(o.editableCharacter.name,l)||(o.editableCharacter.name=l),l}),C(),ee(9,"div",3),b(10,"div",0)(11,"span",1),L(12,"Color"),C()(),b(13,"input",2),Le("ngModelChange",function(l){return je(o.editableCharacter.color,l)||(o.editableCharacter.color=l),l}),C()),r&2&&(T(3),Fe("ngModel",o.editableCharacter.id),T(5),Fe("ngModel",o.editableCharacter.name),T(5),Fe("ngModel",o.editableCharacter.color))},dependencies:[ve,St,Ht,en,Kt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}"]});let t=e;return t})();function Ede(t,e){if(t&1&&(b(0,"option",6),L(1),C()),t&2){let n=e.$implicit;P("ngValue",n.id),T(),ta("",n.id," (",n.name,")")}}var QH=(()=>{let e=class e extends Vt{constructor(i,r){super(),this.editorService=i,this.stateService=r,this.configuration={title:"Dialogue Line Editor",buttons:[{text:()=>"Done",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableLine=bt.createDialogueLine(),this.sourceLine&&(this.editableLine.characterId=this.sourceLine.characterId,this.editableLine.text=this.sourceLine.text)}openCharacterEditor(){this.editorService.openCharacterEditor(bt.createCharacter(),this.stateService.currentScenario)}getCharacters(){return this.stateService.currentScenario.characters}canSubmit(){return!(Tt.isEmpty(this.editableLine.characterId)||Tt.isEmpty(this.editableLine.text))}submit(){this.canSubmit()&&(this.sourceLine.characterId=this.editableLine.characterId,this.sourceLine.text=this.editableLine.text,this.resolve(this.sourceLine))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(R(ur),R(hn))},e.\u0275cmp=de({type:e,selectors:[["app-dialogue-line-editor"]],inputs:{sourceLine:"sourceLine"},standalone:!0,features:[ut,pe],decls:11,vars:3,consts:[[1,"section-header"],[1,"section-title"],["tp","Create Character",1,"icon-button","fa-solid","fa-plus",3,"click"],[3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"h-separator"],[3,"ngValue"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"span",1),L(2,"Character"),C(),b(3,"i",2),k("click",function(){return o.openCharacterEditor()}),C()(),b(4,"select",3),Le("ngModelChange",function(l){return je(o.editableLine.characterId,l)||(o.editableLine.characterId=l),l}),G(5,Ede,2,3,"option",4),C(),ee(6,"div",5),b(7,"div",0)(8,"span",1),L(9,"Text"),C()(),b(10,"input",3),Le("ngModelChange",function(l){return je(o.editableLine.text,l)||(o.editableLine.text=l),l}),C()),r&2&&(T(4),Fe("ngModel",o.editableLine.characterId),T(),P("ngForOf",o.getCharacters()),T(5),Fe("ngModel",o.editableLine.text))},dependencies:[ve,qe,St,As,Ms,Ht,eo,en,Kt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.3333333333rem}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-element[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();function Ide(t,e){if(t&1){let n=re();b(0,"div",7)(1,"span",8),L(2),C(),b(3,"div",9)(4,"i",10),k("click",function(){let o=N(n).$implicit,a=M();return F(a.openDialogueLineEditor(o))}),C(),b(5,"i",11),k("click",function(){let o=N(n).$implicit,a=M();return F(a.deleteDialogueLine(o))}),C()()()}if(t&2){let n=e.$implicit,i=M();T(2),ta("",i.stateService.getCharacter(n.characterId).id,": ",n.text,"")}}function Sde(t,e){if(t&1){let n=re();b(0,"div",7)(1,"span",8),L(2),C(),b(3,"div",9)(4,"i",12),k("click",function(){let o=N(n).$implicit,a=M();return F(a.openButtonEditor(o))}),C(),b(5,"i",13),k("click",function(){let o=N(n).$implicit,a=M();return F(a.deleteButton(o))}),C()()()}if(t&2){let n=e.$implicit,i=M();T(2),ue(i.stateService.getButton(n).text)}}var JH=(()=>{let e=class e extends Vt{constructor(i,r,o){super(),this.dialogService=i,this.editorService=r,this.stateService=o,this.configuration={title:"Dialogue Node Editor",buttons:[{text:()=>"Done",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableNode=bt.createDialogueNode(),this.sourceNode&&(this.editableNode.description=this.sourceNode.description,this.editableNode.lines=[...this.sourceNode.lines],this.editableNode.buttonIds=[...this.sourceNode.buttonIds])}getAvailableButtons(){return this.stateService.getButtons().filter(i=>!this.editableNode.buttonIds.includes(i.id))}openDialogueLineEditor(i=bt.createDialogueLine()){this.editorService.openDialogueLineEditor(i,this.editableNode)}deleteDialogueLine(i){this.dialogService.createConfirmation("Remove Dialogue Line",["Remove dialogue line "+i.text,"Are you sure?"],"Yes","No").then(r=>{r&&ae.remove(this.editableNode.lines,i)})}openButtonEditor(i){this.editorService.openButtonEditor(i?this.stateService.getButton(i):bt.createButton(),this.stateService.getScenario(this.editableNode.parentScenarioId),this.editableNode)}deleteButton(i){let r=this.stateService.getButton(i);this.dialogService.createConfirmation("Remove Button",["Remove button "+r.text,"Are you sure?"],"Yes","No").then(o=>{o&&ae.remove(this.editableNode.buttonIds,i)})}canSubmit(){return!(Tt.isEmpty(this.editableNode.description)||ae.isEmpty(this.editableNode.lines)||ae.isEmpty(this.editableNode.buttonIds))}submit(){this.canSubmit()&&(this.sourceNode.description=this.editableNode.description,this.sourceNode.lines=this.editableNode.lines,this.sourceNode.buttonIds=this.editableNode.buttonIds,this.resolve(this.sourceNode))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(R(Zt),R(ur),R(hn))},e.\u0275cmp=de({type:e,selectors:[["app-dialogue-node-editor"]],inputs:{sourceNode:"sourceNode"},standalone:!0,features:[ut,pe],decls:16,vars:3,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"],["tp","Create Dialogue Line",1,"icon-button","fa-solid","fa-plus",3,"click"],["class","list-container",4,"ngFor","ngForOf"],["tp","Create Button",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"list-container"],[1,"list-element"],[1,"section-buttons"],["tp","Edit Dialogue Line",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Dialogue Line",1,"icon-button","fa-solid","fa-trash",3,"click"],["tp","Edit Button",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Button",1,"icon-button","fa-solid","fa-trash",3,"click"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"span",1),L(2,"Description"),C()(),b(3,"input",2),Le("ngModelChange",function(l){return je(o.editableNode.description,l)||(o.editableNode.description=l),l}),C(),ee(4,"div",3),b(5,"div",0)(6,"span",1),L(7,"Lines"),C(),b(8,"i",4),k("click",function(){return o.openDialogueLineEditor()}),C()(),G(9,Ide,6,2,"div",5),ee(10,"div",3),b(11,"div",0)(12,"span",1),L(13,"Buttons"),C(),b(14,"i",6),k("click",function(){return o.openButtonEditor()}),C()(),G(15,Sde,6,1,"div",5)),r&2&&(T(3),Fe("ngModel",o.editableNode.description),T(6),P("ngForOf",o.editableNode.lines),T(6),P("ngForOf",o.editableNode.buttonIds))},dependencies:[ve,qe,St,Ht,en,Kt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.3333333333rem}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-element[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();function Tde(t,e){if(t&1){let n=re();b(0,"div",8)(1,"span",9),L(2),C(),b(3,"div",10)(4,"i",11),k("click",function(){let o=N(n).$implicit,a=M();return F(a.openCharacterEditor(o))}),C(),b(5,"i",12),k("click",function(){let o=N(n).$implicit,a=M();return F(a.deleteCharacter(o))}),C()()()}if(t&2){let n=e.$implicit,i=M();P("dragdrop",n)("dragdropParent",i.editableScenario.characters),T(2),ta("",n.id," (",n.name,")")}}function Dde(t,e){if(t&1){let n=re();b(0,"div",8)(1,"span",9),L(2),C(),b(3,"div",10)(4,"i",13),k("click",function(){let o=N(n).$implicit,a=M();return F(a.openVariableEditor(o))}),C(),b(5,"i",14),k("click",function(){let o=N(n).$implicit,a=M();return F(a.deleteVariable(o))}),C()()()}if(t&2){let n=e.$implicit,i=M();P("dragdrop",n)("dragdropParent",i.editableScenario.variables),T(2),ue(n.id)}}function xde(t,e){if(t&1){let n=re();b(0,"div",8)(1,"span",9),L(2),C(),b(3,"div",10)(4,"i",15),k("click",function(){let o=N(n).$implicit,a=M();return F(a.openNodeEditor(o))}),C(),b(5,"i",16),k("click",function(){let o=N(n).$implicit,a=M();return F(a.deleteNode(o))}),C()()()}if(t&2){let n=e.$implicit,i=M();P("dragdrop",n)("dragdropParent",i.editableScenario.nodes),T(2),ue(n.description)}}var XH=(()=>{let e=class e extends Vt{constructor(i,r,o){super(),this.dialogService=i,this.editorService=r,this.stateService=o,this.configuration={title:"Scenario Editor",buttons:[{text:()=>"Done",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableScenario=bt.createScenario(),this.sourceScenario&&(this.editableScenario.label=this.sourceScenario.label,this.editableScenario.characters=[...this.sourceScenario.characters],this.editableScenario.variables=[...this.sourceScenario.variables],this.editableScenario.nodes=[...this.sourceScenario.nodes])}openCharacterEditor(i=bt.createCharacter()){this.editorService.openCharacterEditor(i,this.editableScenario)}deleteCharacter(i){this.dialogService.createConfirmation("Remove Character",["Remove character "+i.name,"Are you sure?"],"Yes","No").then(r=>{r&&ae.remove(this.editableScenario.characters,i)})}openVariableEditor(i=bt.createVariable()){this.editorService.openVariableEditor(i,this.editableScenario)}deleteVariable(i){this.dialogService.createConfirmation("Remove Variable",["Remove variable "+i.id,"Are you sure?"],"Yes","No").then(r=>{if(r){for(let o of this.editableScenario.buttons)for(let a of o.logic)for(let l of a.actions)if(l.variableChanges.some(d=>d.id==i.id)){alert("Variable '"+i.id+"' is used in button '"+o.text+"'.");return}ae.remove(this.editableScenario.variables,i)}})}openNodeEditor(i=bt.createDialogueNode()){this.editorService.openDialogueNodeEditor(i,this.editableScenario)}deleteNode(i){this.dialogService.createConfirmation("Remove Variable",["Remove variable "+i.description,"Are you sure?"],"Yes","No").then(r=>{r&&ae.remove(this.editableScenario.nodes,i)})}openButtonEditor(i=bt.createButton()){this.editorService.openButtonEditor(i,this.editableScenario)}deleteButton(i){this.dialogService.createConfirmation("Remove Button",["Remove button "+i.text,"Are you sure?"],"Yes","No").then(r=>{r&&(this.stateService.getNodes().forEach(o=>ae.remove(o.buttonIds,i.id)),ae.remove(this.editableScenario.buttons,i))})}canSubmit(){return!Tt.isEmpty(this.editableScenario.label)}submit(){this.canSubmit()&&(this.sourceScenario.label=this.editableScenario.label,this.sourceScenario.characters=this.editableScenario.characters,this.sourceScenario.variables=this.editableScenario.variables,this.sourceScenario.nodes=this.editableScenario.nodes,this.resolve(this.sourceScenario))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(R(Zt),R(ur),R(hn))},e.\u0275cmp=de({type:e,selectors:[["app-scenario-editor"]],inputs:{sourceScenario:"sourceScenario"},standalone:!0,features:[ut,pe],decls:22,vars:4,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"],["tp","Create Character",1,"icon-button","fa-solid","fa-plus",3,"click"],["class","list-container",3,"dragdrop","dragdropParent",4,"ngFor","ngForOf"],["tp","Create Variable",1,"icon-button","fa-solid","fa-plus",3,"click"],["tp","Create Node",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"list-container",3,"dragdrop","dragdropParent"],[1,"list-element"],[1,"section-buttons"],["tp","Edit Character",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Character",1,"icon-button","fa-solid","fa-trash",3,"click"],["tp","Edit Variable",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Variable",1,"icon-button","fa-solid","fa-trash",3,"click"],["tp","Edit Node",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Node",1,"icon-button","fa-solid","fa-trash",3,"click"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"span",1),L(2,"Label"),C()(),b(3,"input",2),Le("ngModelChange",function(l){return je(o.editableScenario.label,l)||(o.editableScenario.label=l),l}),C(),ee(4,"div",3),b(5,"div",0)(6,"span",1),L(7,"Characters"),C(),b(8,"i",4),k("click",function(){return o.openCharacterEditor()}),C()(),G(9,Tde,6,4,"div",5),ee(10,"div",3),b(11,"div",0)(12,"span",1),L(13,"Variables"),C(),b(14,"i",6),k("click",function(){return o.openVariableEditor()}),C()(),G(15,Dde,6,3,"div",5),ee(16,"div",3),b(17,"div",0)(18,"span",1),L(19,"Nodes"),C(),b(20,"i",7),k("click",function(){return o.openNodeEditor()}),C()(),G(21,xde,6,3,"div",5)),r&2&&(T(3),Fe("ngModel",o.editableScenario.label),T(6),P("ngForOf",o.editableScenario.characters),T(6),P("ngForOf",o.editableScenario.variables),T(6),P("ngForOf",o.editableScenario.nodes))},dependencies:[ve,qe,St,Ht,en,Kt,If],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.3333333333rem;cursor:grab;border-radius:.3333333333rem}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-element[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();var Mr=function(t){return t.BOOLEAN="Boolean",t.NUMBER="Number",t.ENUM="Enum",t}(Mr||{});function Ade(t,e){if(t&1&&(b(0,"option"),L(1),C()),t&2){let n=e.$implicit;T(),ue(n)}}function Mde(t,e){if(t&1){let n=re();b(0,"div",9)(1,"input",2),Le("ngModelChange",function(r){let a=N(n).$implicit;return je(a.value,r)||(a.value=r),F(r)}),C(),b(2,"i",10),k("click",function(){let o=N(n).$implicit,a=M(2);return F(a.removeOption(o))}),C()()}if(t&2){let n=e.$implicit;T(),Fe("ngModel",n.value)}}function Pde(t,e){if(t&1){let n=re();dt(0),ee(1,"div",3),b(2,"div",6)(3,"div",0)(4,"span",1),L(5,"Options"),C(),b(6,"i",7),k("click",function(){N(n);let r=M();return F(r.createOption())}),C()(),G(7,Mde,3,1,"div",8),C(),ht()}if(t&2){let n=M();T(7),P("ngForOf",n.editableVariable.options)}}function Ode(t,e){if(t&1){let n=re();dt(0),b(1,"select",2),Le("ngModelChange",function(r){N(n);let o=M();return je(o.editableVariable.initialValue,r)||(o.editableVariable.initialValue=r),F(r)}),b(2,"option",11),L(3,"True"),C(),b(4,"option",12),L(5,"False"),C()(),ht()}if(t&2){let n=M();T(),Fe("ngModel",n.editableVariable.initialValue)}}function kde(t,e){if(t&1){let n=re();dt(0),b(1,"input",13),Le("ngModelChange",function(r){N(n);let o=M();return je(o.editableVariable.initialValue,r)||(o.editableVariable.initialValue=r),F(r)}),C(),ht()}if(t&2){let n=M();T(),Fe("ngModel",n.editableVariable.initialValue)}}function Rde(t,e){if(t&1&&(b(0,"option",16),L(1),C()),t&2){let n=e.$implicit;P("value",n.value),T(),ue(n.value)}}function Nde(t,e){if(t&1){let n=re();dt(0),b(1,"select",2),Le("ngModelChange",function(r){N(n);let o=M();return je(o.editableVariable.initialValue,r)||(o.editableVariable.initialValue=r),F(r)}),ee(2,"option",14),G(3,Rde,2,2,"option",15),C(),ht()}if(t&2){let n=M();T(),Fe("ngModel",n.editableVariable.initialValue),T(2),P("ngForOf",n.editableVariable.options)}}var ZH=(()=>{let e=class e extends Vt{constructor(i,r){super(),this.dialogService=i,this.stateService=r,this.configuration={title:"Variable Editor",buttons:[{text:()=>"Done",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableVariable=bt.createVariable(),this.sourceVariable?(this.editableVariable.id=this.sourceVariable.id,this.editableVariable.type=this.sourceVariable.type,this.editableVariable.options=this.sourceVariable.options):this.editableVariable.type=Mr.ENUM}createOption(){this.editableVariable.options.push({value:""})}removeOption(i){Tt.isEmpty(i.value)?ae.remove(this.editableVariable.options,i):this.dialogService.createConfirmation("Remove Option",["Remove option "+i.value,"Are you sure?"],"Yes","No").then(r=>{r&&ae.remove(this.editableVariable.options,i)})}getVariableTypes(){return Object.values(Mr)}onVariableTypeChange(i){switch(i){case Mr.BOOLEAN:this.editableVariable.initialValue="false";break;case Mr.NUMBER:this.editableVariable.initialValue="0";break;case Mr.ENUM:this.editableVariable.initialValue=null;break}}processVariableChange(){for(let i of this.stateService.getButtons())for(let r of i.logic)for(let o of r.actions)for(let a of o.variableChanges)a.id==this.sourceVariable.id&&(a.id=this.editableVariable.id)}canSubmit(){if(Tt.isEmpty(this.editableVariable.id)||Tt.isEmpty(this.editableVariable.type))return!1;switch(this.editableVariable.type){case Mr.BOOLEAN:if(Tt.isEmpty(this.editableVariable.initialValue))return!1;break;case Mr.NUMBER:if(this.editableVariable.initialValue==null||this.editableVariable.initialValue.length==0)return!1;break;case Mr.ENUM:if(!this.editableVariable.options.some(i=>i.value))return!1;break}return!0}submit(){if(this.canSubmit()){switch(this.sourceVariable.id&&this.processVariableChange(),this.sourceVariable.id=this.editableVariable.id,this.sourceVariable.type=this.editableVariable.type,this.editableVariable.type){case Mr.BOOLEAN:case Mr.NUMBER:this.sourceVariable.options.length=0;break;case Mr.ENUM:this.sourceVariable.options=this.editableVariable.options.filter(i=>!Tt.isEmpty(i.value));break}this.sourceVariable.initialValue=this.editableVariable.initialValue,this.resolve(this.sourceVariable)}}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(R(Zt),R(hn))},e.\u0275cmp=de({type:e,selectors:[["app-variable-editor"]],inputs:{sourceVariable:"sourceVariable"},standalone:!0,features:[ut,pe],decls:18,vars:7,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"options-container"],["tp","Create Option",1,"icon-button","fa-solid","fa-plus",3,"click"],["class","option-container",4,"ngFor","ngForOf"],[1,"option-container"],["tp","Remove Option",1,"icon-button","fa-solid","fa-times",3,"click"],["value","true"],["value","false"],["type","number",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"span",1),L(2,"ID"),C()(),b(3,"input",2),Le("ngModelChange",function(l){return je(o.editableVariable.id,l)||(o.editableVariable.id=l),l}),C(),ee(4,"div",3),b(5,"div",0)(6,"span",1),L(7,"Type"),C()(),b(8,"select",2),Le("ngModelChange",function(l){return je(o.editableVariable.type,l)||(o.editableVariable.type=l),l}),k("ngModelChange",function(l){return o.onVariableTypeChange(l)}),G(9,Ade,2,1,"option",4),C(),G(10,Pde,8,1,"ng-container",5),ee(11,"div",3),b(12,"div",0)(13,"span",1),L(14,"Initial Value"),C()(),G(15,Ode,6,1,"ng-container",5)(16,kde,2,1,"ng-container",5)(17,Nde,4,2,"ng-container",5)),r&2&&(T(3),Fe("ngModel",o.editableVariable.id),T(5),Fe("ngModel",o.editableVariable.type),T(),P("ngForOf",o.getVariableTypes()),T(),P("ngIf",o.editableVariable.type=="Enum"),T(5),P("ngIf",o.editableVariable.type=="Boolean"),T(),P("ngIf",o.editableVariable.type=="Number"),T(),P("ngIf",o.editableVariable.type=="Enum"))},dependencies:[ve,qe,nt,St,As,Ms,Ht,Ru,eo,en,Kt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .options-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;gap:.3333333333rem}[_nghost-%COMP%]   .options-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .options-container[_ngcontent-%COMP%]   .option-container[_ngcontent-%COMP%]{display:flex;gap:6px}"]});let t=e;return t})();var ur=(()=>{let e=class e{constructor(i,r,o){this.googleService=i,this.stateService=r,this.dialogService=o,this.sidebarVisible=new _E(!0),this.storyVisible=!1,this.flowchartVisible=!1}openScenarioEditor(i){return I(this,null,function*(){this.stateService.currentScenario=i;let r=yield this.dialogService.create(XH,{sourceScenario:i});return r&&(this.stateService.scenarios.includes(r)||this.stateService.scenarios.push(r),this.googleService.updateAdventure()),r})}openCharacterEditor(i,r){return I(this,null,function*(){let o=yield this.dialogService.create(YH,{sourceCharacter:i});return o&&r&&!r.characters.includes(o)&&r.characters.push(o),o})}openVariableEditor(i,r){return I(this,null,function*(){let o=yield this.dialogService.create(ZH,{sourceVariable:i});return o&&r&&!r.variables.includes(o)&&r.variables.push(o),o})}openDialogueNodeEditor(i,r){return I(this,null,function*(){let o=yield this.dialogService.create(JH,{sourceNode:i});return o&&(r.nodes.includes(o)||(o.parentScenarioId=r.id,r.nodes.push(o))),o})}openDialogueLineEditor(i,r){return I(this,null,function*(){let o=yield this.dialogService.create(QH,{sourceLine:i});return o&&(r.lines.includes(o)||r.lines.push(o)),o})}openButtonEditor(i,r,o){return I(this,null,function*(){let a=yield this.dialogService.create(KH,{sourceButton:i});return a&&(r.buttons.find(l=>l.id==a.id)||r.buttons.push(a),o&&(o.buttonIds.find(l=>l==a.id)||o.buttonIds.push(a.id))),a})}};e.\u0275fac=function(r){return new(r||e)(se(Uc),se(hn),se(Zt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Fde(t,e){if(t&1){let n=re();dt(0),b(1,"input",2),Le("ngModelChange",function(r){N(n);let o=M().ngVar;return je(o.label,r)||(o.label=r),F(r)}),k("input",function(){N(n);let r=M(2);return F(r.googleService.updateAdventure())}),C(),b(2,"textarea",3),Le("ngModelChange",function(r){N(n);let o=M().ngVar;return je(o.text,r)||(o.text=r),F(r)}),k("input",function(){N(n);let r=M(2);return F(r.onNoteInput())})("onCreate",function(r){N(n);let o=M(2);return F(o.initTab(r))}),C(),ht()}if(t&2){let n=M().ngVar;T(),Fe("ngModel",n.label),T(),Fe("ngModel",n.text)}}function Lde(t,e){if(t&1&&(dt(0),G(1,Fde,3,2,"ng-container",1),ht()),t&2){let n=e.ngVar;T(),P("ngIf",n)}}var eG=(()=>{let e=class e{constructor(i,r,o,a,l){this.googleService=i,this.applicationService=r,this.adventureService=o,this.graphService=a,this.stateService=l,this.applicationService.loading.next(!0)}ngOnInit(){this.adventureService.sidebarVisible.subscribe(i=>this.sideMargins=!i)}initTab(i){let r=this;i.nativeElement.addEventListener("keydown",function(o){if(o.key=="Tab"){o.preventDefault();let a=this.selectionStart,l=this.selectionEnd;this.value=this.value.substring(0,a)+"	"+this.value.substring(l),this.selectionStart=this.selectionEnd=a+1,r.onNoteInput()}})}onNoteInput(){let i=this.stateService.getCurrentNote();i.wordCount=Tt.getWordCount(i.text),this.googleService.updateAdventure(),i.label=="Flowchart"&&this.graphService.renderNotes()}noteContentCutLine(i){if(i.ctrlKey&&i.code=="KeyX"){let r=document.getElementsByClassName("note-content")[0];if(r.selectionEnd==r.selectionStart){let o=this.stateService.getCurrentNote(),a=o.text,l=a.substring(0,r.selectionEnd).lastIndexOf(`
`)+1,d=a.indexOf(`
`,r.selectionEnd)+1;navigator.clipboard.writeText(a.substring(l,d)),o.text=a.substring(0,l)+a.substring(d==0?a.length:d),o.wordCount=Tt.getWordCount(o.text),setTimeout(()=>r.setSelectionRange(l,l)),this.googleService.updateAdventure()}}}};e.\u0275fac=function(r){return new(r||e)(R(Uc),R(Dn),R(ur),R(jc),R(hn))},e.\u0275cmp=de({type:e,selectors:[["app-notes"]],hostVars:2,hostBindings:function(r,o){r&1&&k("keydown",function(l){return o.noteContentCutLine(l)},!1,Bt),r&2&&He("side-margins",o.sideMargins)},standalone:!0,features:[pe],decls:1,vars:1,consts:[[4,"ngVar"],[4,"ngIf"],["placeholder","Title",1,"note-title",3,"ngModel","ngModelChange","input"],["placeholder","Text",1,"note-content",3,"ngModel","ngModelChange","input","onCreate"]],template:function(r,o){r&1&&G(0,Lde,2,1,"ng-container",0),r&2&&P("ngVar",o.stateService.getCurrentNote())},dependencies:[ve,nt,St,Ht,en,Kt,Ps,Af],styles:["[_nghost-%COMP%]{flex:1;min-width:50%;display:flex;flex-direction:column;justify-content:center;position:relative;padding:0 .3333333333rem;transition-property:margin;transition-duration:.5s}.side-margins[_nghost-%COMP%]{margin:0 25%}[_nghost-%COMP%]   .note-title[_ngcontent-%COMP%]{min-width:100px;border:0;border-radius:0;padding-left:0;border-bottom:1px solid var(--color-border)}[_nghost-%COMP%]   .note-content[_ngcontent-%COMP%]{flex:1;resize:none;border:none;padding:.1666666667rem 0}"]});let t=e;return t})();function Vde(t,e){if(t&1){let n=re();b(0,"div",18),k("click",function(){let o=N(n).$implicit,a=M(2).$implicit,l=M();return F(l.setCurrentNote(a,o))})("dragend",function(){N(n);let r=M(3);return F(r.googleService.updateAdventure())}),b(1,"span",19),L(2),C(),b(3,"div",20)(4,"span",21),L(5),C(),b(6,"div",22)(7,"i",23),k("click",function(){let o=N(n).$implicit,a=M(2).$implicit,l=M();return F(l.removeNote(a,o))}),C()()()()}if(t&2){let n=e.$implicit,i=M(2).$implicit,r=M();P("dragdrop",n)("dragdropParent",i.notes),T(),He("highlight",n==r.stateService.currentScenario.currentNote),T(),ue(n.label),T(3),ue(n.wordCount)}}function jde(t,e){if(t&1&&(b(0,"div",16),G(1,Vde,8,6,"div",17),C()),t&2){let n=M().$implicit;P("@drawer",void 0),T(),P("ngForOf",n.notes)}}function Ude(t,e){if(t&1){let n=re();b(0,"div",6)(1,"div",7),k("click",function(){let o=N(n).$implicit,a=M();return F(a.setCurrentScenario(o))})("dragend",function(){N(n);let r=M();return F(r.googleService.updateAdventure())}),b(2,"span",8),L(3),C(),b(4,"div",9)(5,"span",10),L(6),C(),b(7,"div",11)(8,"i",12),k("click",function(){let o=N(n).$implicit,a=M();return F(a.createNote(o))}),C(),b(9,"i",13),k("click",function(){let o=N(n).$implicit,a=M();return F(a.openScenarioEditor(o))}),C(),b(10,"i",14),k("click",function(){let o=N(n).$implicit,a=M();return F(a.removeScenario(o))}),C()()()(),G(11,jde,2,2,"div",15),C()}if(t&2){let n=e.$implicit,i=M();T(),P("dragdrop",n)("dragdropParent",i.stateService.scenarios),T(),He("highlight",n==i.stateService.currentScenario),T(),ue(n.label),T(3),ue(i.getNotesWordCount(n)),T(5),P("ngIf",i.stateService.currentScenario==n)}}var tG=(()=>{let e=class e{constructor(i,r,o,a,l){this.editorService=i,this.graphService=r,this.dialogService=o,this.googleService=a,this.stateService=l}ngOnInit(){}setCurrentNote(i,r){this.setCurrentScenario(i),this.stateService.currentScenario.currentNote=r}setCurrentScenario(i){this.stateService.currentScenario=i,Xt.isLargeScreen()||this.editorService.sidebarVisible.next(!1),ae.isEmpty(i.nodes)||(i.currentNode=i.nodes[0]),this.graphService.renderNotes()}setRandom(){let i=ae.getRandom(this.stateService.scenarios,[this.stateService.currentScenario]),r=ae.getRandom(i.notes);this.setCurrentNote(i,r),document.querySelector(".content-container").children[this.stateService.scenarios.indexOf(i)].children[1].children[i.notes.indexOf(r)].scrollIntoView({block:"center",behavior:"smooth"})}removeScenario(i){this.dialogService.createConfirmation("Delete Scenario",['Do you really want to delete "'+i.label+'"?'],"Yes","No").then(r=>{r&&(i==this.stateService.currentScenario&&this.setCurrentScenario(ae.nearestRightFirst(this.stateService.scenarios,this.stateService.scenarios.indexOf(i))),ae.remove(this.stateService.scenarios,i),this.googleService.updateAdventure())})}openScenarioEditor(i=bt.createScenario()){this.editorService.openScenarioEditor(i)}getNotesWordCount(i){let r=i.notes.flatMap(o=>o.wordCount).reduce((o,a)=>o+a,0);return r>0?r+"":""}createNote(i){i.notes||(i.notes=[]);let r={label:"New Note",text:"",wordCount:0};i.notes.push(r),i.currentNote=r,this.googleService.updateAdventure()}removeNote(i,r){let o=i.notes;this.dialogService.createConfirmation("Delete Note",['Do you really want to delete "'+r.label+'"?'],"Yes","No").then(a=>{a&&(i.currentNote=ae.nearestRightFirst(o,o.indexOf(r)),ae.remove(o,r),this.googleService.updateAdventure())})}};e.\u0275fac=function(r){return new(r||e)(R(ur),R(jc),R(Zt),R(Uc),R(hn))},e.\u0275cmp=de({type:e,selectors:[["app-scenario-browser"]],standalone:!0,features:[pe],decls:6,vars:1,consts:[[1,"content-container","y-scrollbar-container"],["class","scenario-container",4,"ngFor","ngForOf"],[1,"h-separator","margins"],[1,"button-container"],["tp","Create Scenario",1,"icon-button","fa-solid","fa-plus",3,"click"],["tp","Select Random Scenario and Note",1,"icon-button","fa-solid","fa-shuffle",3,"click"],[1,"scenario-container"],[1,"scenario-label-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"scenario-label"],[1,"scenario-info"],[1,"scenario-notes-word-count"],[1,"scenario-buttons"],["tp","Create Note",1,"icon-button","fa-solid","fa-plus",3,"click"],["tp","Edit Scenario",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Scenario",1,"icon-button","fa-solid","fa-times",3,"click"],["class","scenario-notes-container",4,"ngIf"],[1,"scenario-notes-container"],["class","note-container",3,"dragdrop","dragdropParent","click","dragend",4,"ngFor","ngForOf"],[1,"note-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"note-label"],[1,"note-info"],[1,"note-word-count"],[1,"note-buttons"],["tp","Remove Note",1,"icon-button","fa-solid","fa-times",3,"click"]],template:function(r,o){r&1&&(b(0,"div",0),G(1,Ude,12,7,"div",1),C(),ee(2,"div",2),b(3,"div",3)(4,"i",4),k("click",function(){return o.openScenarioEditor()}),C(),b(5,"i",5),k("click",function(){return o.setRandom()}),C()()),r&2&&(T(),P("ngForOf",o.stateService.scenarios))},dependencies:[ve,qe,nt,If],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;overflow-x:hidden;overflow-y:auto}.content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.3333333333rem;flex:1}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]:not(:first-child){padding-top:.1666666667rem}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]:not(:last-child){padding-bottom:.1666666667rem;border-bottom:1px solid var(--color-border)}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:space-between;line-height:2rem;border-radius:.3333333333rem}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]:hover   .scenario-notes-word-count[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]:hover   .scenario-buttons[_ngcontent-%COMP%]{display:flex!important}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]   .scenario-label[_ngcontent-%COMP%]{margin:0 .3333333333rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]{text-align:end}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .scenario-notes-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .scenario-buttons[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]{display:flex;cursor:pointer;justify-content:space-between;line-height:2rem;border-radius:.3333333333rem}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-word-count[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-buttons[_ngcontent-%COMP%]{display:flex!important}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .navigation-note-label[_ngcontent-%COMP%]{width:100%}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-label[_ngcontent-%COMP%]{margin:0 .3333333333rem;padding-left:.9999999999rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]{text-align:end}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]   .note-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]   .note-buttons[_ngcontent-%COMP%]{display:none}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:.3333333333rem 0;gap:.3333333333rem}"],data:{animation:[yH]}});let t=e;return t})();var Mf=class{static random(e,n){return Math.random()*(n?n-e:e)+(n?e:0)}static from(e){return e[Math.floor(this.random(e.length))]}static percentage(e){return Math.random()<e/100}static oneIn(e){return Math.random()<1/e}static color(){let e=(Math.random()+.618033988749895)%1,n=this.random(.4,.6),i=.95,r=Math.floor(e*6),o=e*6-r,a=i*(1-n),l=i*(1-o*n),d=i*(1-(1-o)*n),h,m,v;switch(r%6){case 0:h=i,m=d,v=a;break;case 1:h=l,m=i,v=a;break;case 2:h=a,m=i,v=d;break;case 3:h=a,m=l,v=i;break;case 4:h=d,m=a,v=i;break;case 5:h=i,m=a,v=l;break}return"#"+Math.round(h*255).toString(16)+Math.round(m*255).toString(16)+Math.round(v*255).toString(16)}};var nG=(()=>{let e=class e{constructor(i){this.stateService=i}executeAction(i){if(i.nextNodeId){let r=this.stateService.getNodes().find(a=>a.id==i.nextNodeId),o=this.stateService.getScenario(r.parentScenarioId);this.stateService.currentScenario!=o&&(this.stateService.currentScenario=o),o.currentNode=r}ae.isEmpty(i.storyChanges)||ae.push(this.stateService.story,i.storyChanges);for(let r of i.variableChanges){let o=this.stateService.getVariables().find(a=>a.id==r.id);o.value=r.value}return i.nextNodeId}executeButton(i){let r={variableChanges:[]};for(let o of i.logic)if(this.evaluate(o)){let a=this.processActionWeights(o.actions);r.nextNodeId||(r.nextNodeId=a.nextNodeId),r.storyChanges||(r.storyChanges=a.storyChanges);for(let l of a.variableChanges)ae.includes(r.variableChanges,l,d=>d.id)||r.variableChanges.push(l)}this.executeAction(r)}executeRandomButton(){let i=this.stateService.getCurrentNode().buttonIds.map(r=>this.stateService.getButton(r)).filter(r=>!this.evaluate(r.hidden)&&!this.evaluate(r.disabled));this.executeButton(Mf.from(i))}processActionWeights(i){let r=0;i.forEach(a=>r+=a.weight);let o=Mf.random(r);for(let a of i)if(o-a.weight<0)return a}evaluate(i){switch(i.operator){case tn.ALWAYS:return!0;case tn.NEVER:return!1;case tn.EQ:return i.variable.value==i.value;case tn.NEQ:return i.variable.value!=i.value;case tn.CHANCE:return Mf.percentage(i.chance);default:return!1}}};e.\u0275fac=function(r){return new(r||e)(se(hn))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $de(t,e){if(t&1&&(b(0,"span"),L(1),C()),t&2){let n=e.$implicit;T(),ue(n)}}function Hde(t,e){if(t&1){let n=re();b(0,"span",17),k("click",function(){N(n);let r=M().$implicit,o=M(2);return F(o.actionService.executeButton(r))}),L(1),C()}if(t&2){let n=M().$implicit;P("tp",n.tooltip),T(),ue(n.text)}}function Gde(t,e){if(t&1&&(dt(0),G(1,Hde,2,2,"span",16),ht()),t&2){let n=e.$implicit,i=M(2);T(),P("ngIf",!i.actionService.evaluate(n.hidden))}}function zde(t,e){if(t&1&&(dt(0),ee(1,"div",13),b(2,"div",14)(3,"span"),L(4),C(),b(5,"div",15),G(6,Gde,2,1,"ng-container",11),C()(),ht()),t&2){let n=M();T(4),ue(n.stateService.getCurrentNode().description),T(2),P("ngForOf",n.stateService.getButtonsForNode())}}var iG=(()=>{let e=class e{constructor(i,r,o,a,l,d){this.googleService=i,this.graphService=r,this.editorService=o,this.applicationService=a,this.stateService=l,this.actionService=d,this.applicationService.loading.next(!0)}ngOnInit(){this.googleService.requestAdventure().then(i=>{this.stateService.initialize(i),this.graphService.renderNotes(),this.applicationService.loading.next(!1)})}import(){navigator.clipboard.readText().then(i=>this.stateService.initialize(JSON.parse(i)))}export(){let i=JSON.stringify(this.stateService.serialize());navigator.clipboard.writeText(i),console.log(i)}};e.\u0275fac=function(r){return new(r||e)(R(Uc),R(jc),R(ur),R(Dn),R(hn),R(nG))},e.\u0275cmp=de({type:e,selectors:[["app-adventure"]],standalone:!0,features:[pe],decls:15,vars:13,consts:[[1,"header"],[1,"header-left"],["tp","Sidebar",1,"icon-button","fa-solid","fa-bars",3,"click"],[1,"header-right"],["tp","Toggle Brightness Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"content"],[1,"v-separator","mobile-hidden"],[1,"modules"],[1,"flowchart"],[1,"adventure-container"],[1,"story-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"h-separator"],[1,"node-container"],[1,"node-buttons-container"],["class","button",3,"tp","click",4,"ngIf"],[1,"button",3,"tp","click"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"i",2),k("click",function(){return o.editorService.sidebarVisible.toggle()}),C()(),b(3,"div",3)(4,"i",4),k("click",function(){return o.applicationService.toggleTheme()}),C()()(),b(5,"div",5),ee(6,"app-scenario-browser")(7,"div",6),b(8,"div",7),ee(9,"app-notes")(10,"pre",8),b(11,"div",9)(12,"div",10),G(13,$de,2,1,"span",11),C(),G(14,zde,7,2,"ng-container",12),C()()()),r&2&&(T(4),P("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"),T(2),He("flex-0",!o.editorService.sidebarVisible.value),T(),He("desktop-hidden",!o.editorService.sidebarVisible.value),T(),He("mobile-flex-0",o.editorService.sidebarVisible.value),T(2),He("hidden",!o.editorService.flowchartVisible),T(),os("display",o.editorService.storyVisible?"":"none"),T(2),P("ngForOf",o.stateService.story),T(),P("ngIf",o.stateService.getCurrentNode()))},dependencies:[ve,Ri,qe,nt,tG,eG,Cf],styles:["[_nghost-%COMP%]{width:100%;height:100vh;display:flex;flex-direction:column}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;padding:.3333333333rem;gap:.3333333333rem;border-bottom:1px solid var(--color-border);justify-content:space-between}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;display:flex;overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]{flex:3;width:0;display:flex;transition-property:flex;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;margin:.6666666666rem;gap:.6666666666rem;-webkit-user-select:none;user-select:none;height:-webkit-fill-available}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-end;flex:1}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{gap:.6666666666rem;display:flex;flex-direction:column;align-items:center;justify-content:center;height:33%;transition-property:opacity;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}"]});let t=e;return t})();var rG=[{text:"Vyr\xE1\u017Eame spolu v dohodnut\xFD \u010Das",description:"Na ka\u017Ed\xFD de\u0148 si dopredu zvol\xEDme \u010Das, po ktorom ak bude v\xE4\u010D\u0161ina \xFA\u010Dastn\xEDkov pripraven\xE1 splavova\u0165, vyr\xE1\u017Eame. Zvy\u0161ok bude takto ma\u0165 priestor da\u0165 sa dokopy vlastn\xFDm tempom, zavola\u0165 si tax\xEDk a do ve\u010Dera sa zab\xE1va\u0165 v cie\u013Eovom kempe."},{text:"Splavujeme spolu a \u010Dak\xE1me sa",description:"Ide\xE1lne sa dr\u017E\xEDme pokope tak, aby sme na ostatn\xE9 rafty vedeli aspo\u0148 kri\u010Da\u0165 a dohodn\xFA\u0165 sa, \u010Do a ako. Bezd\xF4vodne nezastavujeme. Ak v\u0161ak pos\xE1dka prv\xE9ho raftu t\xFDch za nimi u\u017E ani nevid\xED, spomalia alebo zastavia a po\u010Dkaj\xFA."}];var Pf=(()=>{let e=class e{constructor(i){this.firestore=i,this.cache={}}read(i,r){return I(this,null,function*(){return r&&this.cache[i]?this.cache[i]:(this.cache[i]=(yield X5(Q5(this.firestore,i))).docs.map(o=>o.data()),this.cache[i])})}write(i,r,o){return e$(QM(this.firestore,i,r),o)}delete(i,r){return J5(QM(this.firestore,i,r))}};e.\u0275fac=function(r){return new(r||e)(se(gu))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Os=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var rk=class{constructor(e,n){this._delegate=e,this.firebase=n,bm(e,new Ni("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),vw(this._delegate)))}_getService(e,n=ls){var i;this._delegate.checkDestroyed();let r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=ls){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){bm(this._delegate,e)}_addOrOverwriteComponent(e){uD(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}};var qde={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},oG=new jr("app-compat","Firebase",qde);function Wde(t){let e={},n={__esModule:!0,initializeApp:o,app:r,registerVersion:un,setLogLevel:_w,onLog:yw,apps:null,SDK_VERSION:Eo,INTERNAL:{registerComponent:l,removeApp:i,useAsService:d,modularAPIs:dD}};n.default=n,Object.defineProperty(n,"apps",{get:a});function i(h){delete e[h]}function r(h){if(h=h||ls,!Q1(e,h))throw oG.create("no-app",{appName:h});return e[h]}r.App=t;function o(h,m={}){let v=lh(h,m);if(Q1(e,v.name))return e[v.name];let y=new t(v,n);return e[v.name]=y,y}function a(){return Object.keys(e).map(h=>e[h])}function l(h){let m=h.name,v=m.replace("-compat","");if(Co(h)&&h.type==="PUBLIC"){let y=(E=r())=>{if(typeof E[v]!="function")throw oG.create("invalid-app-argument",{appName:m});return E[v]()};h.serviceProps!==void 0&&vm(y,h.serviceProps),n[v]=y,t.prototype[v]=function(...E){return this._getService.bind(this,m).apply(this,h.multipleInstances?E:[])}}return h.type==="PUBLIC"?n[v]:null}function d(h,m){return m==="serverAuth"?null:m}return n}function aG(){let t=Wde(rk);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:aG,extendNamespace:e,createSubscribe:pw,ErrorFactory:jr,deepExtend:vm});function e(n){vm(t,n)}return t}var Kde=aG();var sG=new as("@firebase/app-compat"),Yde="@firebase/app-compat",Qde="0.2.28";function Jde(t){un(Yde,Qde,t)}if(gU()&&self.firebase!==void 0){sG.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);let t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&sG.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var be=Kde;Jde();var Xde="firebase",Zde="10.8.1";be.registerVersion(Xde,Zde,"app-compat");function Fu(){return window}var ehe=2e3;function the(t,e,n){return I(this,null,function*(){var i;let{BuildInfo:r}=Fu();Ur(e.sessionId,"AuthEvent did not contain a session ID");let o=yield she(e.sessionId),a={};return Kl()?a.ibi=r.packageName:_h()?a.apn=r.packageName:Nn(t,"operation-not-supported-in-this-environment"),r.displayName&&(a.appDisplayName=r.displayName),a.sessionId=o,Vw(t,n,e.type,void 0,(i=e.eventId)!==null&&i!==void 0?i:void 0,a)})}function nhe(t){return I(this,null,function*(){let{BuildInfo:e}=Fu(),n={};Kl()?n.iosBundleId=e.packageName:_h()?n.androidPackageName=e.packageName:Nn(t,"operation-not-supported-in-this-environment"),yield nx(t,n)})}function ihe(t){let{cordova:e}=Fu();return new Promise(n=>{e.plugins.browsertab.isAvailable(i=>{let r=null;i?e.plugins.browsertab.openUrl(t):r=e.InAppBrowser.open(t,uB()?"_blank":"_system","location=yes"),n(r)})})}function rhe(t,e,n){return I(this,null,function*(){let{cordova:i}=Fu(),r=()=>{};try{yield new Promise((o,a)=>{let l=null;function d(){var v;o();let y=(v=i.plugins.browsertab)===null||v===void 0?void 0:v.close;typeof y=="function"&&y(),typeof n?.close=="function"&&n.close()}function h(){l||(l=window.setTimeout(()=>{a(pi(t,"redirect-cancelled-by-user"))},ehe))}function m(){document?.visibilityState==="visible"&&h()}e.addPassiveListener(d),document.addEventListener("resume",h,!1),_h()&&document.addEventListener("visibilitychange",m,!1),r=()=>{e.removePassiveListener(d),document.removeEventListener("resume",h,!1),document.removeEventListener("visibilitychange",m,!1),l&&window.clearTimeout(l)}})}finally{r()}})}function ohe(t){var e,n,i,r,o,a,l,d,h,m;let v=Fu();Q(typeof((e=v?.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Q(typeof((n=v?.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Q(typeof((o=(r=(i=v?.cordova)===null||i===void 0?void 0:i.plugins)===null||r===void 0?void 0:r.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q(typeof((d=(l=(a=v?.cordova)===null||a===void 0?void 0:a.plugins)===null||l===void 0?void 0:l.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q(typeof((m=(h=v?.cordova)===null||h===void 0?void 0:h.InAppBrowser)===null||m===void 0?void 0:m.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function she(t){return I(this,null,function*(){let e=ahe(t),n=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(r=>r.toString(16).padStart(2,"0")).join("")})}function ahe(t){if(Ur(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);let e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}var che=20,ok=class extends km{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}initialized(){return I(this,null,function*(){yield this.initPromise})}};function lhe(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:hhe(),postBody:null,tenantId:t.tenantId,error:pi(t,"no-auth-event")}}function uhe(t,e){return sk()._set(ak(t),e)}function cG(t){return I(this,null,function*(){let e=yield sk()._get(ak(t));return e&&(yield sk()._remove(ak(t))),e})}function dhe(t,e){var n,i;let r=phe(e);if(r.includes("/__/auth/callback")){let o=wE(r),a=o.firebaseError?fhe(decodeURIComponent(o.firebaseError)):null,l=(i=(n=a?.code)===null||n===void 0?void 0:n.split("auth/"))===null||i===void 0?void 0:i[1],d=l?pi(l):null;return d?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:r,postBody:null}}return null}function hhe(){let t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<che;n++){let i=Math.floor(Math.random()*e.length);t.push(e.charAt(i))}return t.join("")}function sk(){return Fi(hs)}function ak(t){return ds("authEvent",t.config.apiKey,t.name)}function fhe(t){try{return JSON.parse(t)}catch{return null}}function phe(t){let e=wE(t),n=e.link?decodeURIComponent(e.link):void 0,i=wE(n).link,r=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return wE(r).link||r||i||n||t}function wE(t){if(!t?.includes("?"))return{};let[e,...n]=t.split("?");return hc(n.join("?"))}var mhe=500,ck=class{constructor(){this._redirectPersistence=$r,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Xl,this._overrideRedirectResult=Sh}_initialize(e){return I(this,null,function*(){let n=e._key(),i=this.eventManagers.get(n);return i||(i=new ok(e),this.eventManagers.set(n,i),this.attachCallbackListeners(e,i)),i})}_openPopup(e){Nn(e,"operation-not-supported-in-this-environment")}_openRedirect(e,n,i,r){return I(this,null,function*(){ohe(e);let o=yield this._initialize(e);yield o.initialized(),o.resetRedirect(),IB(),yield this._originValidation(e);let a=lhe(e,i,r);yield uhe(e,a);let l=yield the(e,a,n),d=yield ihe(l);return rhe(e,o,d)})}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nhe(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){let{universalLinks:i,handleOpenURL:r,BuildInfo:o}=Fu(),a=setTimeout(()=>I(this,null,function*(){yield cG(e),n.onEvent(lG())}),mhe),l=m=>I(this,null,function*(){clearTimeout(a);let v=yield cG(e),y=null;v&&m?.url&&(y=dhe(v,m.url)),n.onEvent(y||lG())});typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,l);let d=r,h=`${o.packageName.toLowerCase()}://`;Fu().handleOpenURL=m=>I(this,null,function*(){if(m.toLowerCase().startsWith(h)&&l({url:m}),typeof d=="function")try{d(m)}catch(v){console.error(v)}})}},uG=ck;function lG(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:pi("no-auth-event")}}function dG(t,e){rn(t)._logFramework(e)}var vhe="@firebase/auth-compat",yhe="0.5.3";var _he=1e3;function ry(){var t;return((t=self?.location)===null||t===void 0?void 0:t.protocol)||null}function whe(){return ry()==="http:"||ry()==="https:"}function pG(t=Wt()){return!!((ry()==="file:"||ry()==="ionic:"||ry()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function bhe(){return ym()||dw()}function Che(){return fw()&&document?.documentMode===11}function Ehe(t=Wt()){return/Edge\/\d+/.test(t)}function Ihe(t=Wt()){return Che()||Ehe(t)}function mG(){try{let t=self.localStorage,e=Ql();if(t)return t.setItem(e,"1"),t.removeItem(e),Ihe()?dc():!0}catch{return pk()&&dc()}return!1}function pk(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function lk(){return(whe()||hw()||pG())&&!bhe()&&mG()&&!pk()}function gG(){return pG()&&typeof document<"u"}function She(){return I(this,null,function*(){return gG()?new Promise(t=>{let e=setTimeout(()=>{t(!1)},_he);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1})}function The(){return typeof window<"u"?window:null}var Pr={LOCAL:"local",NONE:"none",SESSION:"session"},ny=Q,vG="persistence";function Dhe(t,e){if(ny(Object.values(Pr).includes(e),t,"invalid-persistence-type"),ym()){ny(e!==Pr.SESSION,t,"unsupported-persistence-type");return}if(dw()){ny(e===Pr.NONE,t,"unsupported-persistence-type");return}if(pk()){ny(e===Pr.NONE||e===Pr.LOCAL&&dc(),t,"unsupported-persistence-type");return}ny(e===Pr.NONE||mG(),t,"unsupported-persistence-type")}function uk(t){return I(this,null,function*(){yield t._initializationPromise;let e=yG(),n=ds(vG,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())})}function xhe(t,e){let n=yG();if(!n)return[];let i=ds(vG,t,e);switch(n.getItem(i)){case Pr.NONE:return[la];case Pr.LOCAL:return[ha,$r];case Pr.SESSION:return[$r];default:return[]}}function yG(){var t;try{return((t=The())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}var Ahe=Q,ks=class{constructor(){this.browserResolver=Fi(vg),this.cordovaResolver=Fi(uG),this.underlyingResolver=null,this._redirectPersistence=$r,this._completeRedirectFn=Xl,this._overrideRedirectResult=Sh}_initialize(e){return I(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)})}_openPopup(e,n,i,r){return I(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,i,r)})}_openRedirect(e,n,i,r){return I(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,i,r)})}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return gG()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ahe(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){return I(this,null,function*(){if(this.underlyingResolver)return;let e=yield She();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver})}};function _G(t){return t.unwrap()}function Mhe(t){return t.wrapped()}function Phe(t){return wG(t)}function Ohe(t,e){var n;let i=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if(e?.code==="auth/multi-factor-auth-required"){let r=e;r.resolver=new hk(t,rg(t,e))}else if(i){let r=wG(e),o=e;r&&(o.credential=r,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function wG(t){let{_tokenResponse:e}=t instanceof Gn?t.customData:t;if(!e)return null;if(!(t instanceof Gn)&&"temporaryProof"in e&&"phoneNumber"in e)return _c.credentialFromResult(t);let n=e.providerId;if(!n||n===vc.PASSWORD)return null;let i;switch(n){case vc.GOOGLE:i=Yl;break;case vc.FACEBOOK:i=Fm;break;case vc.GITHUB:i=Lm;break;case vc.TWITTER:i=Vm;break;default:let{oauthIdToken:r,oauthAccessToken:o,oauthTokenSecret:a,pendingToken:l,nonce:d}=e;return!o&&!a&&!r&&!l?null:l?n.startsWith("saml.")?zl._create(n,l):Br._fromParams({providerId:n,signInMethod:n,pendingToken:l,idToken:r,accessToken:o}):new Gl(n).credential({idToken:r,accessToken:o,rawNonce:d})}return t instanceof Gn?i.credentialFromError(t):i.credentialFromResult(t)}function dr(t,e){return e.catch(n=>{throw n instanceof Gn&&Ohe(t,n),n}).then(n=>{let i=n.operationType,r=n.user;return{operationType:i,credential:Phe(n),additionalUserInfo:ig(n),user:Of.getOrCreate(r)}})}function dk(t,e){return I(this,null,function*(){let n=yield e;return{verificationId:n.verificationId,confirm:i=>dr(t,n.confirm(i))}})}var hk=class{constructor(e,n){this.resolver=n,this.auth=Mhe(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return dr(_G(this.auth),this.resolver.resolveSignIn(e))}};var Of=class t{constructor(e){this._delegate=e,this.multiFactor=og(e)}static getOrCreate(e){return t.USER_MAP.has(e)||t.USER_MAP.set(e,new t(e)),t.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){return I(this,null,function*(){return dr(this.auth,Ch(this._delegate,e))})}linkWithPhoneNumber(e,n){return I(this,null,function*(){return dk(this.auth,ag(this._delegate,e,n))})}linkWithPopup(e){return I(this,null,function*(){return dr(this.auth,hg(this._delegate,e,ks))})}linkWithRedirect(e){return I(this,null,function*(){return yield uk(rn(this.auth)),mg(this._delegate,e,ks)})}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){return I(this,null,function*(){return dr(this.auth,Eh(this._delegate,e))})}reauthenticateWithPhoneNumber(e,n){return dk(this.auth,cg(this._delegate,e,n))}reauthenticateWithPopup(e){return dr(this.auth,dg(this._delegate,e,ks))}reauthenticateWithRedirect(e){return I(this,null,function*(){return yield uk(rn(this.auth)),pg(this._delegate,e,ks)})}sendEmailVerification(e){return Xm(this._delegate,e)}unlink(e){return I(this,null,function*(){return yield Um(this._delegate,e),this})}updateEmail(e){return tg(this._delegate,e)}updatePassword(e){return ng(this._delegate,e)}updatePhoneNumber(e){return lg(this._delegate,e)}updateProfile(e){return eg(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return Zm(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Of.USER_MAP=new WeakMap;var iy=Q,hG=(()=>{class t{constructor(n,i){if(this.app=n,i.isInitialized()){this._delegate=i.getImmediate(),this.linkUnderlyingAuth();return}let{apiKey:r}=n.options;iy(r,"invalid-api-key",{appName:n.name}),iy(r,"invalid-api-key",{appName:n.name});let o=typeof window<"u"?ks:void 0;this._delegate=i.initialize({options:{persistence:khe(r,n.name),popupRedirectResolver:o}}),this._delegate._updateErrorMap(jw),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Of.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(n){this._delegate.languageCode=n}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(n){this._delegate.tenantId=n}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(n,i){wh(this._delegate,n,i)}applyActionCode(n){return Gm(this._delegate,n)}checkActionCode(n){return Ih(this._delegate,n)}confirmPasswordReset(n,i){return Hm(this._delegate,n,i)}createUserWithEmailAndPassword(n,i){return I(this,null,function*(){return dr(this._delegate,qm(this._delegate,n,i))})}fetchProvidersForEmail(n){return this.fetchSignInMethodsForEmail(n)}fetchSignInMethodsForEmail(n){return Jm(this._delegate,n)}isSignInWithEmailLink(n){return Ym(this._delegate,n)}getRedirectResult(){return I(this,null,function*(){iy(lk(),this._delegate,"operation-not-supported-in-this-environment");let n=yield gg(this._delegate,ks);return n?dr(this._delegate,Promise.resolve(n)):{credential:null,user:null}})}addFrameworkForLogging(n){dG(this._delegate,n)}onAuthStateChanged(n,i,r){let{next:o,error:a,complete:l}=fG(n,i,r);return this._delegate.onAuthStateChanged(o,a,l)}onIdTokenChanged(n,i,r){let{next:o,error:a,complete:l}=fG(n,i,r);return this._delegate.onIdTokenChanged(o,a,l)}sendSignInLinkToEmail(n,i){return Km(this._delegate,n,i)}sendPasswordResetEmail(n,i){return $m(this._delegate,n,i||void 0)}setPersistence(n){return I(this,null,function*(){Dhe(this._delegate,n);let i;switch(n){case Pr.SESSION:i=$r;break;case Pr.LOCAL:i=(yield Fi(ha)._isAvailable())?ha:hs;break;case Pr.NONE:i=la;break;default:return Nn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(i)})}signInAndRetrieveDataWithCredential(n){return this.signInWithCredential(n)}signInAnonymously(){return dr(this._delegate,jm(this._delegate))}signInWithCredential(n){return dr(this._delegate,yc(this._delegate,n))}signInWithCustomToken(n){return dr(this._delegate,Bm(this._delegate,n))}signInWithEmailAndPassword(n,i){return dr(this._delegate,Wm(this._delegate,n,i))}signInWithEmailLink(n,i){return dr(this._delegate,Qm(this._delegate,n,i))}signInWithPhoneNumber(n,i){return dk(this._delegate,sg(this._delegate,n,i))}signInWithPopup(n){return I(this,null,function*(){return iy(lk(),this._delegate,"operation-not-supported-in-this-environment"),dr(this._delegate,ug(this._delegate,n,ks))})}signInWithRedirect(n){return I(this,null,function*(){return iy(lk(),this._delegate,"operation-not-supported-in-this-environment"),yield uk(this._delegate),fg(this._delegate,n,ks)})}updateCurrentUser(n){return this._delegate.updateCurrentUser(n)}verifyPasswordResetCode(n){return zm(this._delegate,n)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return t.Persistence=Pr,t})();function fG(t,e,n){let i=t;typeof t!="function"&&({next:i,error:e,complete:n}=t);let r=i;return{next:a=>r(a&&Of.getOrCreate(a)),error:e,complete:n}}function khe(t,e){let n=xhe(t,e);if(typeof self<"u"&&!n.includes(ha)&&n.push(ha),typeof window<"u")for(let i of[hs,$r])n.includes(i)||n.push(i);return n.includes(la)||n.push(la),n}var oy=class{constructor(){this.providerId="phone",this._delegate=new _c(_G(be.auth()))}static credential(e,n){return _c.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}};oy.PHONE_SIGN_IN_METHOD=_c.PHONE_SIGN_IN_METHOD;oy.PROVIDER_ID=_c.PROVIDER_ID;var Rhe=Q,fk=class{constructor(e,n,i=be.app()){var r;Rhe((r=i.options)===null||r===void 0?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new vh(i.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}};var Nhe="auth-compat";function Fhe(t){t.INTERNAL.registerComponent(new Ni(Nhe,e=>{let n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new hG(n,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ua.EMAIL_SIGNIN,PASSWORD_RESET:ua.PASSWORD_RESET,RECOVER_EMAIL:ua.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ua.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ua.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ua.VERIFY_EMAIL}},EmailAuthProvider:bh,FacebookAuthProvider:Fm,GithubAuthProvider:Lm,GoogleAuthProvider:Yl,OAuthProvider:Gl,SAMLAuthProvider:gh,PhoneAuthProvider:oy,PhoneMultiFactorGenerator:Jw,RecaptchaVerifier:fk,TwitterAuthProvider:Vm,Auth:hG,AuthCredential:So,Error:Gn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(vhe,yhe)}Fhe(be);var CG=Tq(bG());var pn={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};pn=function(){"use strict";var t=[],e=[],n="mdlComponentConfigInternal_";function i(S,D){for(var O=0;O<t.length;O++)if(t[O].className===S)return typeof D<"u"&&(t[O]=D),t[O];return!1}function r(S){var D=S.getAttribute("data-upgraded");return D===null?[""]:D.split(",")}function o(S,D){var O=r(S);return O.indexOf(D)!==-1}function a(S,D,O){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(S,{bubbles:D,cancelable:O});var V=document.createEvent("Events");return V.initEvent(S,D,O),V}function l(S,D){if(typeof S>"u"&&typeof D>"u")for(var O=0;O<t.length;O++)l(t[O].className,t[O].cssClass);else{var V=S;if(typeof D>"u"){var $=i(V);$&&(D=$.cssClass)}for(var x=document.querySelectorAll("."+D),te=0;te<x.length;te++)d(x[te],V)}}function d(S,D){if(!(typeof S=="object"&&S instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var O=a("mdl-componentupgrading",!0,!0);if(S.dispatchEvent(O),!O.defaultPrevented){var V=r(S),$=[];if(D)o(S,D)||$.push(i(D));else{var x=S.classList;t.forEach(function($e){x.contains($e.cssClass)&&$.indexOf($e)===-1&&!o(S,$e.className)&&$.push($e)})}for(var te=0,U=$.length,oe;te<U;te++){if(oe=$[te],oe){V.push(oe.className),S.setAttribute("data-upgraded",V.join(","));var Ee=new oe.classConstructor(S);Ee[n]=oe,e.push(Ee);for(var Ge=0,Ze=oe.callbacks.length;Ge<Ze;Ge++)oe.callbacks[Ge](S);oe.widget&&(S[oe.className]=Ee)}else throw new Error("Unable to find a registered component for the given class.");var Ie=a("mdl-componentupgraded",!0,!1);S.dispatchEvent(Ie)}}}function h(S){Array.isArray(S)||(S instanceof Element?S=[S]:S=Array.prototype.slice.call(S));for(var D=0,O=S.length,V;D<O;D++)V=S[D],V instanceof HTMLElement&&(d(V),V.children.length>0&&h(V.children))}function m(S){var D=typeof S.widget>"u"&&typeof S.widget>"u",O=!0;D||(O=S.widget||S.widget);var V={classConstructor:S.constructor||S.constructor,className:S.classAsString||S.classAsString,cssClass:S.cssClass||S.cssClass,widget:O,callbacks:[]};if(t.forEach(function(x){if(x.cssClass===V.cssClass)throw new Error("The provided cssClass has already been registered: "+x.cssClass);if(x.className===V.className)throw new Error("The provided className has already been registered")}),S.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");var $=i(S.classAsString,V);$||t.push(V)}function v(S,D){var O=i(S);O&&O.callbacks.push(D)}function y(){for(var S=0;S<t.length;S++)l(t[S].className)}function E(S){if(S){var D=e.indexOf(S);e.splice(D,1);var O=S.element_.getAttribute("data-upgraded").split(","),V=O.indexOf(S[n].classAsString);O.splice(V,1),S.element_.setAttribute("data-upgraded",O.join(","));var $=a("mdl-componentdowngraded",!0,!1);S.element_.dispatchEvent($)}}function w(S){var D=function(V){e.filter(function($){return $.element_===V}).forEach(E)};if(S instanceof Array||S instanceof NodeList)for(var O=0;O<S.length;O++)D(S[O]);else if(S instanceof Node)D(S);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:l,upgradeElement:d,upgradeElements:h,upgradeAllRegistered:y,registerUpgradedCallback:v,register:m,downgradeElements:w}}();pn.ComponentConfigPublic;pn.ComponentConfig;pn.Component;pn.upgradeDom=pn.upgradeDom;pn.upgradeElement=pn.upgradeElement;pn.upgradeElements=pn.upgradeElements;pn.upgradeAllRegistered=pn.upgradeAllRegistered;pn.registerUpgradedCallback=pn.registerUpgradedCallback;pn.register=pn.register;pn.downgradeElements=pn.downgradeElements;window.componentHandler=pn;window.componentHandler=pn;window.addEventListener("load",function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),pn.upgradeAllRegistered()):(pn.upgradeElement=function(){},pn.register=function(){})});(function(){"use strict";var t=function(n){this.element_=n,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(e){e&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})})();(function(){"use strict";var t=function(n){this.element_=n,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})})();(function(){"use strict";var t=function(n){this.element_=n,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(e){var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),o.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var a=[i,r,o],l=0;l<a.length;l++){var d=document.createElement("div");d.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),a[l].appendChild(d)}n.appendChild(i),n.appendChild(r),n.appendChild(o),this.element_.appendChild(n)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})})();(function(){"use strict";var t=function(n){this.element_=n,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(e){var n=e.target.value.split(`
`).length;e.keyCode===13&&n>=this.maxRows&&e.preventDefault()},t.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(e){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})})();(function(){(function(){var t,e=typeof Object.create=="function"?Object.create:function(s){function c(){}return c.prototype=s,new c},n;if(typeof Object.setPrototypeOf=="function")n=Object.setPrototypeOf;else{var i;e:{var r={xb:!0},o={};try{o.__proto__=r,i=o.xb;break e}catch{}i=!1}n=i?function(s,c){if(s.__proto__=c,s.__proto__!==c)throw new TypeError(s+" is not extensible");return s}:null}var a=n;function l(s,c){if(s.prototype=e(c.prototype),s.prototype.constructor=s,a)a(s,c);else for(var u in c)if(u!="prototype")if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(c,u);f&&Object.defineProperty(s,u,f)}else s[u]=c[u];s.K=c.prototype}var d=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,c,u){s!=Array.prototype&&s!=Object.prototype&&(s[c]=u.value)},h=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function m(s,c){if(c){var u=h;s=s.split(".");for(var f=0;f<s.length-1;f++){var p=s[f];p in u||(u[p]={}),u=u[p]}s=s[s.length-1],f=u[s],c=c(f),c!=f&&c!=null&&d(u,s,{configurable:!0,writable:!0,value:c})}}m("Object.is",function(s){return s||function(c,u){return c===u?c!==0||1/c===1/u:c!==c&&u!==u}}),m("Array.prototype.includes",function(s){return s||function(c,u){var f=this;f instanceof String&&(f=String(f));var p=f.length;for(u=u||0,0>u&&(u=Math.max(u+p,0));u<p;u++){var g=f[u];if(g===c||Object.is(g,c))return!0}return!1}});var v=this;function y(s){return s!==void 0}function E(s){return typeof s=="string"}var w=/^[\w+/_-]+[=]{0,2}$/,S=null;function D(){}function O(s){s.W=void 0,s.Xa=function(){return s.W?s.W:s.W=new s}}function V(s){var c=typeof s;if(c=="object")if(s){if(s instanceof Array)return"array";if(s instanceof Object)return c;var u=Object.prototype.toString.call(s);if(u=="[object Window]")return"object";if(u=="[object Array]"||typeof s.length=="number"&&typeof s.splice<"u"&&typeof s.propertyIsEnumerable<"u"&&!s.propertyIsEnumerable("splice"))return"array";if(u=="[object Function]"||typeof s.call<"u"&&typeof s.propertyIsEnumerable<"u"&&!s.propertyIsEnumerable("call"))return"function"}else return"null";else if(c=="function"&&typeof s.call>"u")return"object";return c}function $(s){return V(s)=="array"}function x(s){var c=V(s);return c=="array"||c=="object"&&typeof s.length=="number"}function te(s){return V(s)=="function"}function U(s){var c=typeof s;return c=="object"&&s!=null||c=="function"}var oe="closure_uid_"+(1e9*Math.random()>>>0),Ee=0;function Ge(s,c,u){return s.call.apply(s.bind,arguments)}function Ze(s,c,u){if(!s)throw Error();if(2<arguments.length){var f=Array.prototype.slice.call(arguments,2);return function(){var p=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(p,f),s.apply(c,p)}}return function(){return s.apply(c,arguments)}}function Ie(s,c,u){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ie=Ge:Ie=Ze,Ie.apply(null,arguments)}function $e(s,c){var u=Array.prototype.slice.call(arguments,1);return function(){var f=u.slice();return f.push.apply(f,arguments),s.apply(this,f)}}function Te(s,c){for(var u in c)s[u]=c[u]}var sn=Date.now||function(){return+new Date};function Qe(s,c){s=s.split(".");var u=v;s[0]in u||typeof u.execScript>"u"||u.execScript("var "+s[0]);for(var f;s.length&&(f=s.shift());)!s.length&&y(c)?u[f]=c:u[f]&&u[f]!==Object.prototype[f]?u=u[f]:u=u[f]={}}function H(s,c){function u(){}u.prototype=c.prototype,s.K=c.prototype,s.prototype=new u,s.prototype.constructor=s,s.vc=function(f,p,g){for(var _=Array(arguments.length-2),A=2;A<arguments.length;A++)_[A-2]=arguments[A];return c.prototype[p].apply(f,_)}}function ie(s){if(Error.captureStackTrace)Error.captureStackTrace(this,ie);else{var c=Error().stack;c&&(this.stack=c)}s&&(this.message=String(s))}H(ie,Error),ie.prototype.name="CustomError";var he;function Pe(s,c){s=s.split("%s");for(var u="",f=s.length-1,p=0;p<f;p++)u+=s[p]+(p<c.length?c[p]:"%s");ie.call(this,u+s[f])}H(Pe,ie),Pe.prototype.name="AssertionError";function rt(s,c){throw new Pe("Failure"+(s?": "+s:""),Array.prototype.slice.call(arguments,1))}var xn=Array.prototype.indexOf?function(s,c){return Array.prototype.indexOf.call(s,c,void 0)}:function(s,c){if(E(s))return E(c)&&c.length==1?s.indexOf(c,0):-1;for(var u=0;u<s.length;u++)if(u in s&&s[u]===c)return u;return-1},Rt=Array.prototype.forEach?function(s,c,u){Array.prototype.forEach.call(s,c,u)}:function(s,c,u){for(var f=s.length,p=E(s)?s.split(""):s,g=0;g<f;g++)g in p&&c.call(u,p[g],g,s)};function ii(s,c){for(var u=E(s)?s.split(""):s,f=s.length-1;0<=f;--f)f in u&&c.call(void 0,u[f],f,s)}var vt=Array.prototype.filter?function(s,c){return Array.prototype.filter.call(s,c,void 0)}:function(s,c){for(var u=s.length,f=[],p=0,g=E(s)?s.split(""):s,_=0;_<u;_++)if(_ in g){var A=g[_];c.call(void 0,A,_,s)&&(f[p++]=A)}return f},Ai=Array.prototype.map?function(s,c){return Array.prototype.map.call(s,c,void 0)}:function(s,c){for(var u=s.length,f=Array(u),p=E(s)?s.split(""):s,g=0;g<u;g++)g in p&&(f[g]=c.call(void 0,p[g],g,s));return f},hr=Array.prototype.some?function(s,c){return Array.prototype.some.call(s,c,void 0)}:function(s,c){for(var u=s.length,f=E(s)?s.split(""):s,p=0;p<u;p++)if(p in f&&c.call(void 0,f[p],p,s))return!0;return!1};function pt(s,c){return 0<=xn(s,c)}function Vn(s,c){c=xn(s,c);var u;return(u=0<=c)&&an(s,c),u}function an(s,c){return Array.prototype.splice.call(s,c,1).length==1}function $i(s,c){e:{for(var u=s.length,f=E(s)?s.split(""):s,p=0;p<u;p++)if(p in f&&c.call(void 0,f[p],p,s)){c=p;break e}c=-1}0<=c&&an(s,c)}function Or(s,c){var u=0;ii(s,function(f,p){c.call(void 0,f,p,s)&&an(s,p)&&u++})}function Bc(s){return Array.prototype.concat.apply([],arguments)}function Ca(s){var c=s.length;if(0<c){for(var u=Array(c),f=0;f<c;f++)u[f]=s[f];return u}return[]}function Lu(s,c,u){return 2>=arguments.length?Array.prototype.slice.call(s,c):Array.prototype.slice.call(s,c,u)}var ri=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]},$c=/&/g,Hc=/</g,Vu=/>/g,ju=/"/g,no=/'/g,jo=/\x00/g,Gc=/[\x00&<>"']/;function io(s,c){return s<c?-1:s>c?1:0}function kr(s){return Gc.test(s)&&(s.indexOf("&")!=-1&&(s=s.replace($c,"&amp;")),s.indexOf("<")!=-1&&(s=s.replace(Hc,"&lt;")),s.indexOf(">")!=-1&&(s=s.replace(Vu,"&gt;")),s.indexOf('"')!=-1&&(s=s.replace(ju,"&quot;")),s.indexOf("'")!=-1&&(s=s.replace(no,"&#39;")),s.indexOf("\0")!=-1&&(s=s.replace(jo,"&#0;"))),s}function zc(s,c,u){for(var f in s)c.call(u,s[f],f,s)}function Ea(s){var c={},u;for(u in s)c[u]=s[u];return c}var qc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rs(s,c){for(var u,f,p=1;p<arguments.length;p++){f=arguments[p];for(u in f)s[u]=f[u];for(var g=0;g<qc.length;g++)u=qc[g],Object.prototype.hasOwnProperty.call(f,u)&&(s[u]=f[u])}}var Ia="StopIteration"in v?v.StopIteration:{message:"StopIteration",stack:""};function Ns(){}Ns.prototype.next=function(){throw Ia},Ns.prototype.ha=function(){return this};function sy(s){if(s instanceof Ns)return s;if(typeof s.ha=="function")return s.ha(!1);if(x(s)){var c=0,u=new Ns;return u.next=function(){for(;;){if(c>=s.length)throw Ia;if(c in s)return s[c++];c++}},u}throw Error("Not implemented")}function IE(s,c){if(x(s))try{Rt(s,c,void 0)}catch(u){if(u!==Ia)throw u}else{s=sy(s);try{for(;;)c.call(void 0,s.next(),void 0,s)}catch(u){if(u!==Ia)throw u}}}function SE(s){if(x(s))return Ca(s);s=sy(s);var c=[];return IE(s,function(u){c.push(u)}),c}function B(s,c){this.g={},this.a=[],this.j=this.h=0;var u=arguments.length;if(1<u){if(u%2)throw Error("Uneven number of arguments");for(var f=0;f<u;f+=2)this.set(arguments[f],arguments[f+1])}else if(s)if(s instanceof B)for(u=s.ja(),f=0;f<u.length;f++)this.set(u[f],s.get(u[f]));else for(f in s)this.set(f,s[f])}t=B.prototype,t.la=function(){ge(this);for(var s=[],c=0;c<this.a.length;c++)s.push(this.g[this.a[c]]);return s},t.ja=function(){return ge(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0};function ge(s){if(s.h!=s.a.length){for(var c=0,u=0;c<s.a.length;){var f=s.a[c];Se(s.g,f)&&(s.a[u++]=f),c++}s.a.length=u}if(s.h!=s.a.length){var p={};for(u=c=0;c<s.a.length;)f=s.a[c],Se(p,f)||(s.a[u++]=f,p[f]=1),c++;s.a.length=u}}t.get=function(s,c){return Se(this.g,s)?this.g[s]:c},t.set=function(s,c){Se(this.g,s)||(this.h++,this.a.push(s),this.j++),this.g[s]=c},t.forEach=function(s,c){for(var u=this.ja(),f=0;f<u.length;f++){var p=u[f],g=this.get(p);s.call(c,g,p,this)}},t.ha=function(s){ge(this);var c=0,u=this.j,f=this,p=new Ns;return p.next=function(){if(u!=f.j)throw Error("The map has changed since the iterator was created");if(c>=f.a.length)throw Ia;var g=f.a[c++];return s?g:f.g[g]},p};function Se(s,c){return Object.prototype.hasOwnProperty.call(s,c)}var Mt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function yt(s,c){if(s){s=s.split("&");for(var u=0;u<s.length;u++){var f=s[u].indexOf("="),p=null;if(0<=f){var g=s[u].substring(0,f);p=s[u].substring(f+1)}else g=s[u];c(g,p?decodeURIComponent(p.replace(/\+/g," ")):"")}}}function oi(s,c,u,f){for(var p=u.length;0<=(c=s.indexOf(u,c))&&c<f;){var g=s.charCodeAt(c-1);if((g==38||g==63)&&(g=s.charCodeAt(c+p),!g||g==61||g==38||g==35))return c;c+=p+1}return-1}var Hi=/#|$/;function ro(s,c){var u=s.search(Hi),f=oi(s,0,c,u);if(0>f)return null;var p=s.indexOf("&",f);return(0>p||p>u)&&(p=u),f+=c.length+1,decodeURIComponent(s.substr(f,p-f).replace(/\+/g," "))}var ay=/[?&]($|#)/;function Mi(s,c){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var u;s instanceof Mi?(this.i=y(c)?c:s.i,Wc(this,s.j),this.A=s.A,this.h=s.h,Sa(this,s.C),this.g=s.g,Uo(this,bk(s.a)),this.s=s.s):s&&(u=String(s).match(Mt))?(this.i=!!c,Wc(this,u[1]||"",!0),this.A=Fs(u[2]||""),this.h=Fs(u[3]||"",!0),Sa(this,u[4]),this.g=Fs(u[5]||"",!0),Uo(this,u[6]||"",!0),this.s=Fs(u[7]||"")):(this.i=!!c,this.a=new Ff(null,this.i))}Mi.prototype.toString=function(){var s=[],c=this.j;c&&s.push(Bo(c,_k,!0),":");var u=this.h;return(u||c=="file")&&(s.push("//"),(c=this.A)&&s.push(Bo(c,_k,!0),"@"),s.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.C,u!=null&&s.push(":",String(u))),(u=this.g)&&(this.h&&u.charAt(0)!="/"&&s.push("/"),s.push(Bo(u,u.charAt(0)=="/"?JG:QG,!0))),(u=this.a.toString())&&s.push("?",u),(u=this.s)&&s.push("#",Bo(u,ZG)),s.join("")};function Wc(s,c,u){s.j=u?Fs(c,!0):c,s.j&&(s.j=s.j.replace(/:$/,""))}function Sa(s,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);s.C=c}else s.C=null}function Uo(s,c,u){c instanceof Ff?(s.a=c,ez(s.a,s.i)):(u||(c=Bo(c,XG)),s.a=new Ff(c,s.i))}function Nf(s){return s instanceof Mi?new Mi(s):new Mi(s,void 0)}function Fs(s,c){return s?c?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Bo(s,c,u){return E(s)?(s=encodeURI(s).replace(c,YG),u&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function YG(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var _k=/[#\/\?@]/g,QG=/[#\?:]/g,JG=/[#\?]/g,XG=/[#\?@]/g,ZG=/#/g;function Ff(s,c){this.g=this.a=null,this.h=s||null,this.j=!!c}function Ta(s){s.a||(s.a=new B,s.g=0,s.h&&yt(s.h,function(c,u){s.add(decodeURIComponent(c.replace(/\+/g," ")),u)}))}t=Ff.prototype,t.add=function(s,c){Ta(this),this.h=null,s=Uu(this,s);var u=this.a.get(s);return u||this.a.set(s,u=[]),u.push(c),this.g+=1,this};function Kc(s,c){Ta(s),c=Uu(s,c),Se(s.a.g,c)&&(s.h=null,s.g-=s.a.get(c).length,s=s.a,Se(s.g,c)&&(delete s.g[c],s.h--,s.j++,s.a.length>2*s.h&&ge(s)))}t.clear=function(){this.a=this.h=null,this.g=0};function wk(s,c){return Ta(s),c=Uu(s,c),Se(s.a.g,c)}t.forEach=function(s,c){Ta(this),this.a.forEach(function(u,f){Rt(u,function(p){s.call(c,p,f,this)},this)},this)},t.ja=function(){Ta(this);for(var s=this.a.la(),c=this.a.ja(),u=[],f=0;f<c.length;f++)for(var p=s[f],g=0;g<p.length;g++)u.push(c[f]);return u},t.la=function(s){Ta(this);var c=[];if(E(s))wk(this,s)&&(c=Bc(c,this.a.get(Uu(this,s))));else{s=this.a.la();for(var u=0;u<s.length;u++)c=Bc(c,s[u])}return c},t.set=function(s,c){return Ta(this),this.h=null,s=Uu(this,s),wk(this,s)&&(this.g-=this.a.get(s).length),this.a.set(s,[c]),this.g+=1,this},t.get=function(s,c){return s?(s=this.la(s),0<s.length?String(s[0]):c):c},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var s=[],c=this.a.ja(),u=0;u<c.length;u++){var f=c[u],p=encodeURIComponent(String(f));f=this.la(f);for(var g=0;g<f.length;g++){var _=p;f[g]!==""&&(_+="="+encodeURIComponent(String(f[g]))),s.push(_)}}return this.h=s.join("&")};function bk(s){var c=new Ff;return c.h=s.h,s.a&&(c.a=new B(s.a),c.g=s.g),c}function Uu(s,c){return c=String(c),s.j&&(c=c.toLowerCase()),c}function ez(s,c){c&&!s.j&&(Ta(s),s.h=null,s.a.forEach(function(u,f){var p=f.toLowerCase();f!=p&&(Kc(this,f),Kc(this,p),0<u.length&&(this.h=null,this.a.set(Uu(this,p),Ca(u)),this.g+=u.length))},s)),s.j=c}function Yc(s){this.a=Nf(s)}function tz(s,c){c?s.a.a.set(jn.Sa,c):Kc(s.a.a,jn.Sa)}function nz(s,c){c!==null?s.a.a.set(jn.Qa,c?"1":"0"):Kc(s.a.a,jn.Qa)}function Ck(s){return s.a.a.get(jn.Pa)||null}function Ek(s,c){c?s.a.a.set(jn.PROVIDER_ID,c):Kc(s.a.a,jn.PROVIDER_ID)}Yc.prototype.toString=function(){return this.a.toString()};var jn={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},Bu;e:{var Ik=v.navigator;if(Ik){var Sk=Ik.userAgent;if(Sk){Bu=Sk;break e}}Bu=""}function ct(s){return Bu.indexOf(s)!=-1}function Tk(){return(ct("Chrome")||ct("CriOS"))&&!ct("Edge")}function TE(s){return TE[" "](s),s}TE[" "]=D;function iz(s,c){var u=sz;return Object.prototype.hasOwnProperty.call(u,s)?u[s]:u[s]=c(s)}var Dk=ct("Opera"),mn=ct("Trident")||ct("MSIE"),Da=ct("Edge"),rz=Da||mn,oo=ct("Gecko")&&!(Bu.toLowerCase().indexOf("webkit")!=-1&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),Gi=Bu.toLowerCase().indexOf("webkit")!=-1&&!ct("Edge"),oz=Gi&&ct("Mobile"),xa=ct("Macintosh");function xk(){var s=v.document;return s?s.documentMode:void 0}var cy;e:{var DE="",xE=function(){var s=Bu;if(oo)return/rv:([^\);]+)(\)|;)/.exec(s);if(Da)return/Edge\/([\d\.]+)/.exec(s);if(mn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s);if(Gi)return/WebKit\/(\S+)/.exec(s);if(Dk)return/(?:Version)[ \/]?(\S+)/.exec(s)}();if(xE&&(DE=xE?xE[1]:""),mn){var AE=xk();if(AE!=null&&AE>parseFloat(DE)){cy=String(AE);break e}}cy=DE}var sz={};function Qc(s){return iz(s,function(){for(var c=0,u=ri(String(cy)).split("."),f=ri(String(s)).split("."),p=Math.max(u.length,f.length),g=0;c==0&&g<p;g++){var _=u[g]||"",A=f[g]||"";do{if(_=/(\d*)(\D*)(.*)/.exec(_)||["","","",""],A=/(\d*)(\D*)(.*)/.exec(A)||["","","",""],_[0].length==0&&A[0].length==0)break;c=io(_[1].length==0?0:parseInt(_[1],10),A[1].length==0?0:parseInt(A[1],10))||io(_[2].length==0,A[2].length==0)||io(_[2],A[2]),_=_[3],A=A[3]}while(c==0)}return 0<=c})}var Lf,Ak=v.document;Lf=Ak&&mn?xk()||(Ak.compatMode=="CSS1Compat"?parseInt(cy,10):5):void 0;function $u(s,c){this.a=s===Pk&&c||"",this.g=Mk}$u.prototype.ma=!0,$u.prototype.ka=function(){return this.a},$u.prototype.toString=function(){return"Const{"+this.a+"}"};var Mk={},Pk={};function Jc(){this.a="",this.h=kk}Jc.prototype.ma=!0,Jc.prototype.ka=function(){return this.a.toString()},Jc.prototype.g=function(){return 1},Jc.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Ok(s){return s instanceof Jc&&s.constructor===Jc&&s.h===kk?s.a:(rt("expected object of type TrustedResourceUrl, got '"+s+"' of type "+V(s)),"type_error:TrustedResourceUrl")}function az(){var s=Jz;s instanceof $u&&s.constructor===$u&&s.g===Mk?s=s.a:(rt("expected object of type Const, got '"+s+"'"),s="type_error:Const");var c=new Jc;return c.a=s,c}var kk={};function fr(){this.a="",this.h=Fk}fr.prototype.ma=!0,fr.prototype.ka=function(){return this.a.toString()},fr.prototype.g=function(){return 1},fr.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Aa(s){return s instanceof fr&&s.constructor===fr&&s.h===Fk?s.a:(rt("expected object of type SafeUrl, got '"+s+"' of type "+V(s)),"type_error:SafeUrl")}var Rk=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function ly(s){return s instanceof fr?s:(s=typeof s=="object"&&s.ma?s.ka():String(s),Rk.test(s)||(s="about:invalid#zClosurez"),ME(s))}function Nk(s){return s instanceof fr?s:(s=typeof s=="object"&&s.ma?s.ka():String(s),Rk.test(s)||(s="about:invalid#zClosurez"),ME(s))}var Fk={};function ME(s){var c=new fr;return c.a=s,c}ME("about:blank");function Hu(){this.a="",this.g=Lk}Hu.prototype.ma=!0;var Lk={};Hu.prototype.ka=function(){return this.a},Hu.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function Ma(){this.a="",this.j=Vk,this.h=null}Ma.prototype.g=function(){return this.h},Ma.prototype.ma=!0,Ma.prototype.ka=function(){return this.a.toString()},Ma.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function uy(s){return s instanceof Ma&&s.constructor===Ma&&s.j===Vk?s.a:(rt("expected object of type SafeHtml, got '"+s+"' of type "+V(s)),"type_error:SafeHtml")}var Vk={};function Vf(s,c){var u=new Ma;return u.a=s,u.h=c,u}Vf("<!DOCTYPE html>",0);var cz=Vf("",0);Vf("<br>",0);var lz=function(s){var c=!1,u;return function(){return c||(u=s(),c=!0),u}}(function(){if(typeof document>"u")return!1;var s=document.createElement("div"),c=document.createElement("div");return c.appendChild(document.createElement("div")),s.appendChild(c),s.firstChild?(c=s.firstChild.firstChild,s.innerHTML=uy(cz),!c.parentElement):!1});function uz(s,c){if(s.src=Ok(c),S===null)e:{if(c=v.document,(c=c.querySelector&&c.querySelector("script[nonce]"))&&(c=c.nonce||c.getAttribute("nonce"))&&w.test(c)){S=c;break e}S=""}c=S,c&&s.setAttribute("nonce",c)}function Gu(s,c){c=c instanceof fr?c:Nk(c),s.assign(Aa(c))}function Pa(s,c){this.a=y(s)?s:0,this.g=y(c)?c:0}Pa.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Pa.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Pa.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Pa.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function PE(s,c){this.width=s,this.height=c}t=PE.prototype,t.toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function dy(s){return s?new NE(jf(s)):he||(he=new NE)}function OE(s,c){var u=c||document;return u.querySelectorAll&&u.querySelector?u.querySelectorAll("."+s):jk(document,s,c)}function kE(s,c){var u=c||document;if(u.getElementsByClassName)s=u.getElementsByClassName(s)[0];else{u=document;var f=c||u;s=f.querySelectorAll&&f.querySelector&&s?f.querySelector(s?"."+s:""):jk(u,s,c)[0]||null}return s||null}function jk(s,c,u){var f;if(s=u||s,s.querySelectorAll&&s.querySelector&&c)return s.querySelectorAll(c?"."+c:"");if(c&&s.getElementsByClassName){var p=s.getElementsByClassName(c);return p}if(p=s.getElementsByTagName("*"),c){var g={};for(u=f=0;s=p[u];u++){var _=s.className;typeof _.split=="function"&&pt(_.split(/\s+/),c)&&(g[f++]=s)}return g.length=f,g}return p}function dz(s,c){zc(c,function(u,f){u&&typeof u=="object"&&u.ma&&(u=u.ka()),f=="style"?s.style.cssText=u:f=="class"?s.className=u:f=="for"?s.htmlFor=u:Uk.hasOwnProperty(f)?s.setAttribute(Uk[f],u):f.lastIndexOf("aria-",0)==0||f.lastIndexOf("data-",0)==0?s.setAttribute(f,u):s[f]=u})}var Uk={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function hy(s){return s.scrollingElement?s.scrollingElement:(Gi||s.compatMode!="CSS1Compat")&&s.body||s.documentElement}function Xc(s){s&&s.parentNode&&s.parentNode.removeChild(s)}function jf(s){return s.nodeType==9?s:s.ownerDocument||s.document}function RE(s,c){if("textContent"in s)s.textContent=c;else if(s.nodeType==3)s.data=String(c);else if(s.firstChild&&s.firstChild.nodeType==3){for(;s.lastChild!=s.firstChild;)s.removeChild(s.lastChild);s.firstChild.data=String(c)}else{for(var u;u=s.firstChild;)s.removeChild(u);s.appendChild(jf(s).createTextNode(String(c)))}}function Bk(s,c){return c?hz(s,function(u){return!c||E(u.className)&&pt(u.className.split(/\s+/),c)}):null}function hz(s,c){for(var u=0;s;){if(c(s))return s;s=s.parentNode,u++}return null}function NE(s){this.a=s||v.document||document}NE.prototype.N=function(){return E(void 0)?this.a.getElementById(void 0):void 0};var fy={Fc:!0},$k={Hc:!0},fz={Ec:!0},Hk={Gc:!0};function Oa(){throw Error("Do not instantiate directly")}Oa.prototype.va=null,Oa.prototype.toString=function(){return this.content};function Uf(s,c,u,f){if(s=s(c||gz,void 0,u),f=(f||dy()).a.createElement("DIV"),s=pz(s),s.match(mz),s=Vf(s,null),lz())for(;f.lastChild;)f.removeChild(f.lastChild);return f.innerHTML=uy(s),f.childNodes.length==1&&(s=f.firstChild,s.nodeType==1&&(f=s)),f}function pz(s){if(!U(s))return kr(String(s));if(s instanceof Oa){if(s.fa===fy)return s.content;if(s.fa===Hk)return kr(s.content)}return rt("Soy template output is unsafe for use as HTML: "+s),"zSoyz"}var mz=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,gz={};function vz(s){if(s!=null)switch(s.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function py(){Oa.call(this)}H(py,Oa),py.prototype.fa=fy;function Oe(s){return s!=null&&s.fa===fy?s:s instanceof Ma?fe(uy(s).toString(),s.g()):fe(kr(String(String(s))),vz(s))}function my(){Oa.call(this)}H(my,Oa),my.prototype.fa=$k,my.prototype.va=1;function gy(s,c){this.content=String(s),this.va=c??null}H(gy,Oa),gy.prototype.fa=Hk;function Dt(s){return new gy(s,void 0)}var fe=function(s){function c(u){this.content=u}return c.prototype=s.prototype,function(u,f){return u=new c(String(u)),f!==void 0&&(u.va=f),u}}(py),yz=function(s){function c(u){this.content=u}return c.prototype=s.prototype,function(u){return new c(String(u))}}(my);function _z(s){function c(){}var u={label:gn("New password")};c.prototype=s,s=new c;for(var f in u)s[f]=u[f];return s}function gn(s){return(s=String(s))?new gy(s,void 0):""}var Gk=function(s){function c(u){this.content=u}return c.prototype=s.prototype,function(u,f){return u=String(u),u?(u=new c(u),f!==void 0&&(u.va=f),u):""}}(py);function zi(s){return s!=null&&s.fa===fy?String(String(s.content).replace(Tz,"").replace(Dz,"&lt;")).replace(Ez,bz):kr(String(s))}function Zc(s){return s!=null&&s.fa===$k?s=String(s).replace(LE,FE):s instanceof fr?s=String(Aa(s).toString()).replace(LE,FE):(s=String(s),Sz.test(s)?s=s.replace(LE,FE):(rt("Bad value `%s` for |filterNormalizeUri",[s]),s="#zSoyz")),s}function zk(s){return s!=null&&s.fa===fz?s=s.content:s==null?s="":s instanceof Hu?s instanceof Hu&&s.constructor===Hu&&s.g===Lk?s=s.a:(rt("expected object of type SafeStyle, got '"+s+"' of type "+V(s)),s="type_error:SafeStyle"):(s=String(s),Iz.test(s)||(rt("Bad value `%s` for |filterCssValue",[s]),s="zSoyz")),s}var wz={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","\x85":"&#133;","\xA0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function bz(s){return wz[s]}var Cz={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\x7F":"%7F","\x85":"%C2%85","\xA0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uFF01":"%EF%BC%81","\uFF03":"%EF%BC%83","\uFF04":"%EF%BC%84","\uFF06":"%EF%BC%86","\uFF07":"%EF%BC%87","\uFF08":"%EF%BC%88","\uFF09":"%EF%BC%89","\uFF0A":"%EF%BC%8A","\uFF0B":"%EF%BC%8B","\uFF0C":"%EF%BC%8C","\uFF0F":"%EF%BC%8F","\uFF1A":"%EF%BC%9A","\uFF1B":"%EF%BC%9B","\uFF1D":"%EF%BC%9D","\uFF1F":"%EF%BC%9F","\uFF20":"%EF%BC%A0","\uFF3B":"%EF%BC%BB","\uFF3D":"%EF%BC%BD"};function FE(s){return Cz[s]}var Ez=/[\x00\x22\x27\x3c\x3e]/g,LE=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,Iz=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,Sz=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,Tz=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,Dz=/</g;function VE(){return Dt("Enter a valid phone number")}function qk(){return Dt("Unable to send password reset code to specified email")}function Wk(){return Dt("Something went wrong. Please try again.")}function Kk(){return Dt("This email already exists without any means of sign-in. Please reset the password to recover.")}function Yk(s){s=s||{};var c="";switch(s.code){case"invalid-argument":c+="Client specified an invalid argument.";break;case"invalid-configuration":c+="Client specified an invalid project configuration.";break;case"failed-precondition":c+="Request can not be executed in the current system state.";break;case"out-of-range":c+="Client specified an invalid range.";break;case"unauthenticated":c+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":c+="Client does not have sufficient permission.";break;case"not-found":c+="Specified resource is not found.";break;case"aborted":c+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":c+="The resource that a client tried to create already exists.";break;case"resource-exhausted":c+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":c+="Request cancelled by the client.";break;case"data-loss":c+="Unrecoverable data loss or data corruption.";break;case"unknown":c+="Unknown server error.";break;case"internal":c+="Internal server error.";break;case"not-implemented":c+="API method not implemented by the server.";break;case"unavailable":c+="Service unavailable.";break;case"deadline-exceeded":c+="Request deadline exceeded.";break;case"auth/user-disabled":c+="The user account has been disabled by an administrator.";break;case"auth/timeout":c+="The operation has timed out.";break;case"auth/too-many-requests":c+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":c+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":c+="A network error has occurred. Try again later.";break;case"restart-process":c+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":c+="No sign-in provider is available for the given email, please try with a different email."}return Dt(c)}function Qk(){return Dt("Please login again to perform this operation")}function Bf(s,c,u){var f=Error.call(this);if(this.message=f.message,"stack"in f&&(this.stack=f.stack),this.code=xz+s,!(s=c)){switch(s="",this.code){case"firebaseui/merge-conflict":s+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:s+=Wk()}s=Dt(s).toString()}this.message=s||"",this.credential=u||null}l(Bf,Error),Bf.prototype.toJSON=function(){return{code:this.code,message:this.message}};var xz="firebaseui/";function el(){jE!=0&&(Jk[this[oe]||(this[oe]=++Ee)]=this),this.T=this.T,this.C=this.C}var jE=0,Jk={};el.prototype.T=!1,el.prototype.m=function(){if(!this.T&&(this.T=!0,this.o(),jE!=0)){var s=this[oe]||(this[oe]=++Ee);if(jE!=0&&this.C&&0<this.C.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Jk[s]}};function $f(s,c){s.T?y(void 0)?c.call(void 0):c():(s.C||(s.C=[]),s.C.push(y(void 0)?Ie(c,void 0):c))}el.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Hf(s){s&&typeof s.m=="function"&&s.m()}var Az=Object.freeze||function(s){return s},Xk=!mn||9<=Number(Lf),Mz=mn&&!Qc("9"),Pz=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var s=!1,c=Object.defineProperty({},"passive",{get:function(){s=!0}});try{v.addEventListener("test",D,c),v.removeEventListener("test",D,c)}catch{}return s}();function Ls(s,c){this.type=s,this.g=this.target=c,this.h=!1,this.qb=!0}Ls.prototype.stopPropagation=function(){this.h=!0},Ls.prototype.preventDefault=function(){this.qb=!1};function qi(s,c){if(Ls.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,s){var u=this.type=s.type,f=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=c,c=s.relatedTarget){if(oo){e:{try{TE(c.nodeName);var p=!0;break e}catch{}p=!1}p||(c=null)}}else u=="mouseover"?c=s.fromElement:u=="mouseout"&&(c=s.toElement);this.relatedTarget=c,f?(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.keyCode=s.keyCode||0,this.key=s.key||"",this.j=s.charCode||(u=="keypress"?s.keyCode:0),this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=E(s.pointerType)?s.pointerType:Oz[s.pointerType]||"",this.a=s,s.defaultPrevented&&this.preventDefault()}}H(qi,Ls);var Oz=Az({2:"touch",3:"pen",4:"mouse"});qi.prototype.stopPropagation=function(){qi.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},qi.prototype.preventDefault=function(){qi.K.preventDefault.call(this);var s=this.a;if(s.preventDefault)s.preventDefault();else if(s.returnValue=!1,Mz)try{(s.ctrlKey||112<=s.keyCode&&123>=s.keyCode)&&(s.keyCode=-1)}catch{}};var Gf="closure_listenable_"+(1e6*Math.random()|0),kz=0;function Rz(s,c,u,f,p){this.listener=s,this.proxy=null,this.src=c,this.type=u,this.capture=!!f,this.La=p,this.key=++kz,this.sa=this.Ia=!1}function vy(s){s.sa=!0,s.listener=null,s.proxy=null,s.src=null,s.La=null}function yy(s){this.src=s,this.a={},this.g=0}yy.prototype.add=function(s,c,u,f,p){var g=s.toString();s=this.a[g],s||(s=this.a[g]=[],this.g++);var _=BE(s,c,f,p);return-1<_?(c=s[_],u||(c.Ia=!1)):(c=new Rz(c,this.src,g,!!f,p),c.Ia=u,s.push(c)),c};function UE(s,c){var u=c.type;u in s.a&&Vn(s.a[u],c)&&(vy(c),s.a[u].length==0&&(delete s.a[u],s.g--))}function BE(s,c,u,f){for(var p=0;p<s.length;++p){var g=s[p];if(!g.sa&&g.listener==c&&g.capture==!!u&&g.La==f)return p}return-1}var $E="closure_lm_"+(1e6*Math.random()|0),HE={},Zk=0;function so(s,c,u,f,p){if(f&&f.once)return zf(s,c,u,f,p);if($(c)){for(var g=0;g<c.length;g++)so(s,c[g],u,f,p);return null}return u=zE(u),s&&s[Gf]?s.J.add(String(c),u,!1,U(f)?!!f.capture:!!f,p):eR(s,c,u,!1,f,p)}function eR(s,c,u,f,p,g){if(!c)throw Error("Invalid event type");var _=U(p)?!!p.capture:!!p,A=_y(s);if(A||(s[$E]=A=new yy(s)),u=A.add(c,u,f,_,g),u.proxy)return u;if(f=Nz(),u.proxy=f,f.src=s,f.listener=u,s.addEventListener)Pz||(p=_),p===void 0&&(p=!1),s.addEventListener(c.toString(),f,p);else if(s.attachEvent)s.attachEvent(tR(c.toString()),f);else if(s.addListener&&s.removeListener)s.addListener(f);else throw Error("addEventListener and attachEvent are unavailable.");return Zk++,u}function Nz(){var s=Fz,c=Xk?function(u){return s.call(c.src,c.listener,u)}:function(u){if(u=s.call(c.src,c.listener,u),!u)return u};return c}function zf(s,c,u,f,p){if($(c)){for(var g=0;g<c.length;g++)zf(s,c[g],u,f,p);return null}return u=zE(u),s&&s[Gf]?s.J.add(String(c),u,!0,U(f)?!!f.capture:!!f,p):eR(s,c,u,!0,f,p)}function tl(s,c,u,f,p){if($(c))for(var g=0;g<c.length;g++)tl(s,c[g],u,f,p);else f=U(f)?!!f.capture:!!f,u=zE(u),s&&s[Gf]?(s=s.J,c=String(c).toString(),c in s.a&&(g=s.a[c],u=BE(g,u,f,p),-1<u&&(vy(g[u]),an(g,u),g.length==0&&(delete s.a[c],s.g--)))):s&&(s=_y(s))&&(c=s.a[c.toString()],s=-1,c&&(s=BE(c,u,f,p)),(u=-1<s?c[s]:null)&&ka(u))}function ka(s){if(typeof s!="number"&&s&&!s.sa){var c=s.src;if(c&&c[Gf])UE(c.J,s);else{var u=s.type,f=s.proxy;c.removeEventListener?c.removeEventListener(u,f,s.capture):c.detachEvent?c.detachEvent(tR(u),f):c.addListener&&c.removeListener&&c.removeListener(f),Zk--,(u=_y(c))?(UE(u,s),u.g==0&&(u.src=null,c[$E]=null)):vy(s)}}}function tR(s){return s in HE?HE[s]:HE[s]="on"+s}function nR(s,c,u,f){var p=!0;if((s=_y(s))&&(c=s.a[c.toString()]))for(c=c.concat(),s=0;s<c.length;s++){var g=c[s];g&&g.capture==u&&!g.sa&&(g=iR(g,f),p=p&&g!==!1)}return p}function iR(s,c){var u=s.listener,f=s.La||s.src;return s.Ia&&ka(s),u.call(f,c)}function Fz(s,c){if(s.sa)return!0;if(!Xk){if(!c)e:{c=["window","event"];for(var u=v,f=0;f<c.length;f++)if(u=u[c[f]],u==null){c=null;break e}c=u}if(f=c,c=new qi(f,this),u=!0,!(0>f.keyCode||f.returnValue!=null)){e:{var p=!1;if(f.keyCode==0)try{f.keyCode=-1;break e}catch{p=!0}(p||f.returnValue==null)&&(f.returnValue=!0)}for(f=[],p=c.g;p;p=p.parentNode)f.push(p);for(s=s.type,p=f.length-1;!c.h&&0<=p;p--){c.g=f[p];var g=nR(f[p],s,!0,c);u=u&&g}for(p=0;!c.h&&p<f.length;p++)c.g=f[p],g=nR(f[p],s,!1,c),u=u&&g}return u}return iR(s,new qi(c,this))}function _y(s){return s=s[$E],s instanceof yy?s:null}var GE="__closure_events_fn_"+(1e9*Math.random()>>>0);function zE(s){return te(s)?s:(s[GE]||(s[GE]=function(c){return s.handleEvent(c)}),s[GE])}function Un(){el.call(this),this.J=new yy(this),this.wb=this,this.Ha=null}H(Un,el),Un.prototype[Gf]=!0,Un.prototype.Za=function(s){this.Ha=s},Un.prototype.removeEventListener=function(s,c,u,f){tl(this,s,c,u,f)};function Ra(s,c){var u,f=s.Ha;if(f)for(u=[];f;f=f.Ha)u.push(f);if(s=s.wb,f=c.type||c,E(c))c=new Ls(c,s);else if(c instanceof Ls)c.target=c.target||s;else{var p=c;c=new Ls(f,s),Rs(c,p)}if(p=!0,u)for(var g=u.length-1;!c.h&&0<=g;g--){var _=c.g=u[g];p=wy(_,f,!0,c)&&p}if(c.h||(_=c.g=s,p=wy(_,f,!0,c)&&p,c.h||(p=wy(_,f,!1,c)&&p)),u)for(g=0;!c.h&&g<u.length;g++)_=c.g=u[g],p=wy(_,f,!1,c)&&p;return p}Un.prototype.o=function(){if(Un.K.o.call(this),this.J){var s=this.J,c=0,u;for(u in s.a){for(var f=s.a[u],p=0;p<f.length;p++)++c,vy(f[p]);delete s.a[u],s.g--}}this.Ha=null};function wy(s,c,u,f){if(c=s.J.a[String(c)],!c)return!0;c=c.concat();for(var p=!0,g=0;g<c.length;++g){var _=c[g];if(_&&!_.sa&&_.capture==u){var A=_.listener,j=_.La||_.src;_.Ia&&UE(s.J,_),p=A.call(j,f)!==!1&&p}}return p&&f.qb!=0}var pr={},rR=0;function oR(s,c){if(!s)throw Error("Event target element must be provided!");if(s=qE(s),pr[s]&&pr[s].length)for(var u=0;u<pr[s].length;u++)Ra(pr[s][u],c)}function Lz(s){var c=qE(s.N());pr[c]&&pr[c].length&&($i(pr[c],function(u){return u==s}),pr[c].length||delete pr[c])}function qE(s){return typeof s.a>"u"&&(s.a=rR,rR++),s.a}function by(s){if(!s)throw Error("Event target element must be provided!");Un.call(this),this.a=s}l(by,Un),by.prototype.N=function(){return this.a},by.prototype.register=function(){var s=qE(this.N());pr[s]?pt(pr[s],this)||pr[s].push(this):pr[s]=[this]};function sR(s){if(!s)return!1;try{return!!s.$goog_Thenable}catch{return!1}}function WE(s,c){this.h=s,this.j=c,this.g=0,this.a=null}WE.prototype.get=function(){if(0<this.g){this.g--;var s=this.a;this.a=s.next,s.next=null}else s=this.h();return s};function aR(s,c){s.j(c),100>s.g&&(s.g++,c.next=s.a,s.a=c)}function cR(){this.g=this.a=null}var lR=new WE(function(){return new KE},function(s){s.reset()});cR.prototype.add=function(s,c){var u=lR.get();u.set(s,c),this.g?this.g.next=u:this.a=u,this.g=u};function Vz(){var s=dR,c=null;return s.a&&(c=s.a,s.a=s.a.next,s.a||(s.g=null),c.next=null),c}function KE(){this.next=this.g=this.a=null}KE.prototype.set=function(s,c){this.a=s,this.g=c,this.next=null},KE.prototype.reset=function(){this.next=this.g=this.a=null};function uR(s){v.setTimeout(function(){throw s},0)}var YE;function jz(){var s=v.MessageChannel;if(typeof s>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(s=function(){var p=document.createElement("IFRAME");p.style.display="none",p.src="",document.documentElement.appendChild(p);var g=p.contentWindow;p=g.document,p.open(),p.write(""),p.close();var _="callImmediate"+Math.random(),A=g.location.protocol=="file:"?"*":g.location.protocol+"//"+g.location.host;p=Ie(function(j){(A=="*"||j.origin==A)&&j.data==_&&this.port1.onmessage()},this),g.addEventListener("message",p,!1),this.port1={},this.port2={postMessage:function(){g.postMessage(_,A)}}}),typeof s<"u"&&!ct("Trident")&&!ct("MSIE")){var c=new s,u={},f=u;return c.port1.onmessage=function(){if(y(u.next)){u=u.next;var p=u.gb;u.gb=null,p()}},function(p){f.next={gb:p},f=f.next,c.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(p){var g=document.createElement("SCRIPT");g.onreadystatechange=function(){g.onreadystatechange=null,g.parentNode.removeChild(g),g=null,p(),p=null},document.documentElement.appendChild(g)}:function(p){v.setTimeout(p,0)}}function QE(s,c){Cy||Uz(),JE||(Cy(),JE=!0),dR.add(s,c)}var Cy;function Uz(){if(v.Promise&&v.Promise.resolve){var s=v.Promise.resolve(void 0);Cy=function(){s.then(hR)}}else Cy=function(){var c=hR;!te(v.setImmediate)||v.Window&&v.Window.prototype&&!ct("Edge")&&v.Window.prototype.setImmediate==v.setImmediate?(YE||(YE=jz()),YE(c)):v.setImmediate(c)}}var JE=!1,dR=new cR;function hR(){for(var s;s=Vz();){try{s.a.call(s.g)}catch(c){uR(c)}aR(lR,s)}JE=!1}function Bn(s){if(this.a=nl,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,s!=D)try{var c=this;s.call(void 0,function(u){il(c,qf,u)},function(u){if(!(u instanceof qu))try{throw u instanceof Error?u:Error("Promise rejected.")}catch{}il(c,Vs,u)})}catch(u){il(this,Vs,u)}}var nl=0,qf=2,Vs=3;function fR(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}fR.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var pR=new WE(function(){return new fR},function(s){s.reset()});function XE(s,c,u){var f=pR.get();return f.s=s,f.g=c,f.j=u,f}function vn(s){if(s instanceof Bn)return s;var c=new Bn(D);return il(c,qf,s),c}function zu(s){return new Bn(function(c,u){u(s)})}Bn.prototype.then=function(s,c,u){return gR(this,te(s)?s:null,te(c)?c:null,u)},Bn.prototype.$goog_Thenable=!0,t=Bn.prototype,t.fc=function(s,c){return s=XE(s,s,c),s.h=!0,ZE(this,s),this},t.Ca=function(s,c){return gR(this,null,s,c)},t.cancel=function(s){this.a==nl&&QE(function(){var c=new qu(s);mR(this,c)},this)};function mR(s,c){if(s.a==nl)if(s.h){var u=s.h;if(u.g){for(var f=0,p=null,g=null,_=u.g;_&&(_.h||(f++,_.a==s&&(p=_),!(p&&1<f)));_=_.next)p||(g=_);p&&(u.a==nl&&f==1?mR(u,c):(g?(f=g,f.next==u.j&&(u.j=f),f.next=f.next.next):yR(u),_R(u,p,Vs,c)))}s.h=null}else il(s,Vs,c)}function ZE(s,c){s.g||s.a!=qf&&s.a!=Vs||vR(s),s.j?s.j.next=c:s.g=c,s.j=c}function gR(s,c,u,f){var p=XE(null,null,null);return p.a=new Bn(function(g,_){p.s=c?function(A){try{var j=c.call(f,A);g(j)}catch(Y){_(Y)}}:g,p.g=u?function(A){try{var j=u.call(f,A);!y(j)&&A instanceof qu?_(A):g(j)}catch(Y){_(Y)}}:_}),p.a.h=s,ZE(s,p),p.a}t.hc=function(s){this.a=nl,il(this,qf,s)},t.ic=function(s){this.a=nl,il(this,Vs,s)};function il(s,c,u){if(s.a==nl){s===u&&(c=Vs,u=new TypeError("Promise cannot resolve to itself")),s.a=1;e:{var f=u,p=s.hc,g=s.ic;if(f instanceof Bn){ZE(f,XE(p||D,g||null,s));var _=!0}else if(sR(f))f.then(p,g,s),_=!0;else{if(U(f))try{var A=f.then;if(te(A)){Bz(f,A,p,g,s),_=!0;break e}}catch(j){g.call(s,j),_=!0;break e}_=!1}}_||(s.A=u,s.a=c,s.h=null,vR(s),c!=Vs||u instanceof qu||$z(s,u))}}function Bz(s,c,u,f,p){function g(j){A||(A=!0,f.call(p,j))}function _(j){A||(A=!0,u.call(p,j))}var A=!1;try{c.call(s,_,g)}catch(j){g(j)}}function vR(s){s.i||(s.i=!0,QE(s.Hb,s))}function yR(s){var c=null;return s.g&&(c=s.g,s.g=c.next,c.next=null),s.g||(s.j=null),c}t.Hb=function(){for(var s;s=yR(this);)_R(this,s,this.a,this.A);this.i=!1};function _R(s,c,u,f){if(u==Vs&&c.g&&!c.h)for(;s&&s.s;s=s.h)s.s=!1;if(c.a)c.a.h=null,wR(c,u,f);else try{c.h?c.s.call(c.j):wR(c,u,f)}catch(p){bR.call(null,p)}aR(pR,c)}function wR(s,c,u){c==qf?s.s.call(s.j,u):s.g&&s.g.call(s.j,u)}function $z(s,c){s.s=!0,QE(function(){s.s&&bR.call(null,c)})}var bR=uR;function qu(s){ie.call(this,s)}H(qu,ie),qu.prototype.name="cancel";function CR(s,c,u){c||(c={}),u=u||window;var f=s instanceof fr?s:ly(typeof s.href<"u"?s.href:String(s));s=c.target||s.target;var p=[];for(g in c)switch(g){case"width":case"height":case"top":case"left":p.push(g+"="+c[g]);break;case"target":case"noopener":case"noreferrer":break;default:p.push(g+"="+(c[g]?1:0))}var g=p.join(",");return(ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&u.navigator&&u.navigator.standalone&&s&&s!="_self"?(g=u.document.createElement("A"),f=f instanceof fr?f:Nk(f),g.href=Aa(f),g.setAttribute("target",s),c.noreferrer&&g.setAttribute("rel","noreferrer"),c=document.createEvent("MouseEvent"),c.initMouseEvent("click",!0,!0,u,1),g.dispatchEvent(c),u={}):c.noreferrer?(u=u.open("",s,g),c=Aa(f).toString(),u&&(rz&&c.indexOf(";")!=-1&&(c="'"+c.replace(/'/g,"%27")+"'"),u.opener=null,c=Vf('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+kr(c)+'">',null),u.document.write(uy(c)),u.document.close())):(u=u.open(Aa(f).toString(),s,g))&&c.noopener&&(u.opener=null),u}function ER(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function Wu(s){CR(s,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function Ey(s,c){if(s=U(s)&&s.nodeType==1?s:document.querySelector(String(s)),s==null)throw Error(c||"Cannot find element.");return s}function js(){return window.location.href}function Hz(){var s=null;return new Bn(function(c){v.document.readyState=="complete"?c():(s=function(){c()},zf(window,"load",s))}).Ca(function(c){throw tl(window,"load",s),c})}function Gz(){for(var s=32,c=[];0<s;)c.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return c.join("")}function zz(s,c,u){return u=u===void 0?{}:u,Object.keys(s).filter(function(f){return c.includes(f)}).reduce(function(f,p){return f[p]=s[p],f},u)}function Na(s){var c=Kz;this.s=[],this.T=c,this.O=s||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}Na.prototype.cancel=function(s){if(this.a)this.h instanceof Na&&this.h.cancel();else{if(this.g){var c=this.g;delete this.g,s?c.cancel(s):(c.C--,0>=c.C&&c.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(s=new Kf(this),Iy(this),Wf(this,!1,s))}},Na.prototype.L=function(s,c){this.A=!1,Wf(this,s,c)};function Wf(s,c,u){s.a=!0,s.h=u,s.j=!c,TR(s)}function Iy(s){if(s.a){if(!s.J)throw new Sy(s);s.J=!1}}Na.prototype.callback=function(s){Iy(this),Wf(this,!0,s)};function IR(s,c,u){s.s.push([c,u,void 0]),s.a&&TR(s)}Na.prototype.then=function(s,c,u){var f,p,g=new Bn(function(_,A){f=_,p=A});return IR(this,f,function(_){_ instanceof Kf?g.cancel():p(_)}),g.then(s,c,u)},Na.prototype.$goog_Thenable=!0;function SR(s){return hr(s.s,function(c){return te(c[1])})}function TR(s){if(s.i&&s.a&&SR(s)){var c=s.i,u=Ty[c];u&&(v.clearTimeout(u.a),delete Ty[c]),s.i=0}s.g&&(s.g.C--,delete s.g),c=s.h;for(var f=u=!1;s.s.length&&!s.A;){var p=s.s.shift(),g=p[0],_=p[1];if(p=p[2],g=s.j?_:g)try{var A=g.call(p||s.O,c);y(A)&&(s.j=s.j&&(A==c||A instanceof Error),s.h=c=A),(sR(c)||typeof v.Promise=="function"&&c instanceof v.Promise)&&(f=!0,s.A=!0)}catch(j){c=j,s.j=!0,SR(s)||(u=!0)}}s.h=c,f&&(A=Ie(s.L,s,!0),f=Ie(s.L,s,!1),c instanceof Na?(IR(c,A,f),c.l=!0):c.then(A,f)),u&&(c=new DR(c),Ty[c.a]=c,s.i=c.a)}function Sy(){ie.call(this)}H(Sy,ie),Sy.prototype.message="Deferred has already fired",Sy.prototype.name="AlreadyCalledError";function Kf(){ie.call(this)}H(Kf,ie),Kf.prototype.message="Deferred was canceled",Kf.prototype.name="CanceledError";function DR(s){this.a=v.setTimeout(Ie(this.h,this),0),this.g=s}DR.prototype.h=function(){throw delete Ty[this.a],this.g};var Ty={};function qz(s){var c={},u=c.document||document,f=Ok(s).toString(),p=document.createElement("SCRIPT"),g={rb:p,sb:void 0},_=new Na(g),A=null,j=c.timeout!=null?c.timeout:5e3;return 0<j&&(A=window.setTimeout(function(){Dy(p,!0);var Y=new eI(Qz,"Timeout reached for loading script "+f);Iy(_),Wf(_,!1,Y)},j),g.sb=A),p.onload=p.onreadystatechange=function(){p.readyState&&p.readyState!="loaded"&&p.readyState!="complete"||(Dy(p,c.xc||!1,A),_.callback(null))},p.onerror=function(){Dy(p,!0,A);var Y=new eI(Yz,"Error while loading script "+f);Iy(_),Wf(_,!1,Y)},g=c.attributes||{},Rs(g,{type:"text/javascript",charset:"UTF-8"}),dz(p,g),uz(p,s),Wz(u).appendChild(p),_}function Wz(s){var c=(s||document).getElementsByTagName("HEAD");return c&&c.length!=0?c[0]:s.documentElement}function Kz(){if(this&&this.rb){var s=this.rb;s&&s.tagName=="SCRIPT"&&Dy(s,!0,this.sb)}}function Dy(s,c,u){u!=null&&v.clearTimeout(u),s.onload=D,s.onerror=D,s.onreadystatechange=D,c&&window.setTimeout(function(){Xc(s)},0)}var Yz=0,Qz=1;function eI(s,c){var u="Jsloader error (code #"+s+")";c&&(u+=": "+c),ie.call(this,u),this.code=s}H(eI,ie);function Yf(){return v.google&&v.google.accounts&&v.google.accounts.id||null}function tI(s){this.a=s||Yf(),this.h=!1,this.g=null}tI.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function xR(s,c,u){if(s.a&&c)return function(){return s.h=!0,new Bn(function(p){s.g=p,s.a.initialize({client_id:c,callback:p,auto_select:!u}),s.a.prompt()})}();if(c){var f=nI.Xa().load().then(function(){return s.a=Yf(),xR(s,c,u)}).Ca(function(){return null});return vn(f)}return vn(null)}O(tI);var Jz=new $u(Pk,"https://accounts.google.com/gsi/client");function nI(){this.a=null}nI.prototype.load=function(){var s=this;if(this.a)return this.a;var c=az();return Yf()?vn():this.a=Hz().then(function(){if(!Yf())return new Bn(function(u,f){var p=setTimeout(function(){s.a=null,f(Error("Network error!"))},1e4);v.onGoogleLibraryLoad=function(){clearTimeout(p),u()},vn(qz(c)).then(function(){Yf()&&u()}).Ca(function(g){clearTimeout(p),s.a=null,f(g)})})})},O(nI);function iI(s,c){this.a=s,this.g=c||function(u){throw u}}iI.prototype.confirm=function(s){return vn(this.a.confirm(s)).Ca(this.g)};function rI(s,c,u){this.reset(s,c,u,void 0,void 0)}rI.prototype.a=null;var Xz=0;rI.prototype.reset=function(s,c,u,f,p){typeof p=="number"||Xz++,this.h=f||sn(),this.j=s,this.s=c,this.g=u,delete this.a};function oI(s){this.s=s,this.a=this.h=this.j=this.g=null}function xy(s,c){this.name=s,this.value=c}xy.prototype.toString=function(){return this.name};var AR=new xy("SEVERE",1e3),MR=new xy("WARNING",900),PR=new xy("CONFIG",700);function OR(s){return s.j?s.j:s.g?OR(s.g):(rt("Root logger has no level set."),null)}oI.prototype.log=function(s,c,u){if(s.value>=OR(this).value)for(te(c)&&(c=c()),s=new rI(s,String(c),this.s),u&&(s.a=u),u=this;u;){var f=u,p=s;if(f.a)for(var g=0;c=f.a[g];g++)c(p);u=u.g}};var sI={},Qf=null;function kR(){Qf||(Qf=new oI(""),sI[""]=Qf,Qf.j=PR)}function RR(s){kR();var c;if(!(c=sI[s])){c=new oI(s);var u=s.lastIndexOf("."),f=s.substr(u+1);u=RR(s.substr(0,u)),u.h||(u.h={}),u.h[f]=c,c.g=u,sI[s]=c}return c}function Ay(){this.a=sn()}var aI=null;Ay.prototype.set=function(s){this.a=s},Ay.prototype.reset=function(){this.set(sn())},Ay.prototype.get=function(){return this.a};function Jf(s){this.j=s||"",aI||(aI=new Ay),this.s=aI}Jf.prototype.a=!0,Jf.prototype.g=!0,Jf.prototype.h=!1;function rl(s){return 10>s?"0"+s:String(s)}function Zz(s,c){s=(s.h-c)/1e3,c=s.toFixed(3);var u=0;if(1>s)u=2;else for(;100>s;)u++,s*=10;for(;0<u--;)c=" "+c;return c}function NR(s){Jf.call(this,s)}H(NR,Jf);function e8(s,c){var u=[];if(u.push(s.j," "),s.g){var f=new Date(c.h);u.push("[",rl(f.getFullYear()-2e3)+rl(f.getMonth()+1)+rl(f.getDate())+" "+rl(f.getHours())+":"+rl(f.getMinutes())+":"+rl(f.getSeconds())+"."+rl(Math.floor(f.getMilliseconds()/10)),"] ")}return u.push("[",Zz(c,s.s.get()),"s] "),u.push("[",c.g,"] "),u.push(c.s),s.h&&(c=c.a)&&u.push(`
`,c instanceof Error?c.message:c.toString()),s.a&&u.push(`
`),u.join("")}function FR(){this.s=Ie(this.h,this),this.a=new NR,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}FR.prototype.h=function(s){function c(g){if(g){if(g.value>=AR.value)return"error";if(g.value>=MR.value)return"warn";if(g.value>=PR.value)return"log"}return"debug"}if(!this.j[s.g]){var u=e8(this.a,s),f=t8;if(f){var p=c(s.j);n8(f,p,u,s.a)}}};var t8=v.console;function n8(s,c,u,f){s[c]?s[c](u,f||""):s.log(u,f||"")}function mr(s,c){var u=cI;u&&u.log(AR,s,c)}var cI;cI=RR("firebaseui");var lI=new FR;if(lI.g!=1){var My;kR(),My=Qf;var i8=lI.s;My.a||(My.a=[]),My.a.push(i8),lI.g=!0}function Fa(s){var c=cI;c&&c.log(MR,s,void 0)}function LR(){this.a=(typeof document>"u"?null:document)||{cookie:""}}t=LR.prototype,t.set=function(s,c,u,f,p,g){if(/[;=\s]/.test(s))throw Error('Invalid cookie name "'+s+'"');if(/[;\r\n]/.test(c))throw Error('Invalid cookie value "'+c+'"');y(u)||(u=-1),p=p?";domain="+p:"",f=f?";path="+f:"",g=g?";secure":"",u=0>u?"":u==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(sn()+1e3*u).toUTCString(),this.a.cookie=s+"="+c+p+f+u+g},t.get=function(s,c){for(var u=s+"=",f=(this.a.cookie||"").split(";"),p=0,g;p<f.length;p++){if(g=ri(f[p]),g.lastIndexOf(u,0)==0)return g.substr(u.length);if(g==s)return""}return c},t.ja=function(){return uI(this).keys},t.la=function(){return uI(this).values},t.clear=function(){for(var s=uI(this).keys,c=s.length-1;0<=c;c--){var u=s[c];this.get(u),this.set(u,"",0,void 0,void 0)}};function uI(s){s=(s.a.cookie||"").split(";");for(var c=[],u=[],f,p,g=0;g<s.length;g++)p=ri(s[g]),f=p.indexOf("="),f==-1?(c.push(""),u.push(p)):(c.push(p.substring(0,f)),u.push(p.substring(f+1)));return{keys:c,values:u}}var Py=new LR;function VR(){}function Ku(s,c,u,f){this.h=typeof s<"u"&&s!==null?s:-1,this.g=c||null,this.a=u||null,this.j=!!f}l(Ku,VR),Ku.prototype.set=function(s,c){Py.set(s,c,this.h,this.g,this.a,this.j)},Ku.prototype.get=function(s){return Py.get(s)||null},Ku.prototype.ra=function(s){var c=this.g,u=this.a;Py.get(s),Py.set(s,"",0,c,u)};function dI(s,c){this.g=s,this.a=c||null}function jR(s){return{email:s.g,credential:s.a&&s.a.toJSON()}}function UR(s){if(s&&s.email){var c=s.credential&&be.auth.AuthCredential.fromJSON(s.credential);return new dI(s.email,c)}return null}function BR(s){this.a=s||null}function $R(s){for(var c=[],u=0,f=0;f<s.length;f++){var p=s.charCodeAt(f);255<p&&(c[u++]=p&255,p>>=8),c[u++]=p}return c}function r8(s){return Ai(s,function(c){return c=c.toString(16),1<c.length?c:"0"+c}).join("")}function Oy(s){for(this.i=s,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(Yu*(this.j+1)),s=0;s<this.g;s++)this.a[s]=[this.i[4*s],this.i[4*s+1],this.i[4*s+2],this.i[4*s+3]];var c=Array(4);for(s=this.g;s<Yu*(this.j+1);s++){if(c[0]=this.a[s-1][0],c[1]=this.a[s-1][1],c[2]=this.a[s-1][2],c[3]=this.a[s-1][3],s%this.g==0){var u=c,f=u[0];u[0]=u[1],u[1]=u[2],u[2]=u[3],u[3]=f,WR(c),c[0]^=Ry[s/this.g][0],c[1]^=Ry[s/this.g][1],c[2]^=Ry[s/this.g][2],c[3]^=Ry[s/this.g][3]}else 6<this.g&&s%this.g==4&&WR(c);this.a[s]=Array(4),this.a[s][0]=this.a[s-this.g][0]^c[0],this.a[s][1]=this.a[s-this.g][1]^c[1],this.a[s][2]=this.a[s-this.g][2]^c[2],this.a[s][3]=this.a[s-this.g][3]^c[3]}}Oy.prototype.A=16;var Yu=Oy.prototype.A/4;function HR(s,c){for(var u,f=0;f<Yu;f++)for(var p=0;4>p;p++)u=4*p+f,u=c[u],s.h[f][p]=u}function GR(s){for(var c=[],u=0;u<Yu;u++)for(var f=0;4>f;f++)c[4*f+u]=s.h[u][f];return c}function Qu(s,c){for(var u=0;4>u;u++)for(var f=0;4>f;f++)s.h[u][f]^=s.a[4*c+f][u]}function ky(s,c){for(var u=0;4>u;u++)for(var f=0;4>f;f++)s.h[u][f]=c[s.h[u][f]]}function zR(s){for(var c=1;4>c;c++)for(var u=0;4>u;u++)s.s[c][u]=s.h[c][u];for(c=1;4>c;c++)for(u=0;4>u;u++)s.h[c][u]=s.s[c][(u+c)%Yu]}function qR(s){for(var c=1;4>c;c++)for(var u=0;4>u;u++)s.s[c][(u+c)%Yu]=s.h[c][u];for(c=1;4>c;c++)for(u=0;4>u;u++)s.h[c][u]=s.s[c][u]}function WR(s){s[0]=Ju[s[0]],s[1]=Ju[s[1]],s[2]=Ju[s[2]],s[3]=Ju[s[3]]}var Ju=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],KR=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Ry=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Ny=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],Fy=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],Ly=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],Vy=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],jy=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],Uy=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function YR(s,c){s=new Oy(JR(s)),c=$R(c);for(var u=c.splice(0,16),f="",p;u.length;){p=16-u.length;for(var g=0;g<p;g++)u.push(0);for(p=s,HR(p,u),Qu(p,0),u=1;u<p.j;++u){ky(p,Ju),zR(p),g=p.h;for(var _=p.s[0],A=0;4>A;A++)_[0]=g[0][A],_[1]=g[1][A],_[2]=g[2][A],_[3]=g[3][A],g[0][A]=Ny[_[0]]^Fy[_[1]]^_[2]^_[3],g[1][A]=_[0]^Ny[_[1]]^Fy[_[2]]^_[3],g[2][A]=_[0]^_[1]^Ny[_[2]]^Fy[_[3]],g[3][A]=Fy[_[0]]^_[1]^_[2]^Ny[_[3]];Qu(p,u)}ky(p,Ju),zR(p),Qu(p,p.j),f+=r8(GR(p)),u=c.splice(0,16)}return f}function QR(s,c){s=new Oy(JR(s));for(var u=[],f=0;f<c.length;f+=2)u.push(parseInt(c.substring(f,f+2),16));var p=u.splice(0,16);for(c="";p.length;){for(f=s,HR(f,p),Qu(f,f.j),p=1;p<f.j;++p){qR(f),ky(f,KR),Qu(f,f.j-p);for(var g=f.h,_=f.s[0],A=0;4>A;A++)_[0]=g[0][A],_[1]=g[1][A],_[2]=g[2][A],_[3]=g[3][A],g[0][A]=Uy[_[0]]^Vy[_[1]]^jy[_[2]]^Ly[_[3]],g[1][A]=Ly[_[0]]^Uy[_[1]]^Vy[_[2]]^jy[_[3]],g[2][A]=jy[_[0]]^Ly[_[1]]^Uy[_[2]]^Vy[_[3]],g[3][A]=Vy[_[0]]^jy[_[1]]^Ly[_[2]]^Uy[_[3]]}if(qR(f),ky(f,KR),Qu(f,0),f=GR(f),8192>=f.length)f=String.fromCharCode.apply(null,f);else{for(p="",g=0;g<f.length;g+=8192)p+=String.fromCharCode.apply(null,Lu(f,g,g+8192));f=p}c+=f,p=u.splice(0,16)}return c.replace(/(\x00)+$/,"")}function JR(s){s=$R(s.substring(0,32));for(var c=32-s.length,u=0;u<c;u++)s.push(0);return s}function XR(s){var c=[];return hI(new o8,s,c),c.join("")}function o8(){}function hI(s,c,u){if(c==null)u.push("null");else{if(typeof c=="object"){if($(c)){var f=c;c=f.length,u.push("[");for(var p="",g=0;g<c;g++)u.push(p),hI(s,f[g],u),p=",";u.push("]");return}if(c instanceof String||c instanceof Number||c instanceof Boolean)c=c.valueOf();else{u.push("{"),p="";for(f in c)Object.prototype.hasOwnProperty.call(c,f)&&(g=c[f],typeof g!="function"&&(u.push(p),eN(f,u),u.push(":"),hI(s,g,u),p=","));u.push("}");return}}switch(typeof c){case"string":eN(c,u);break;case"number":u.push(isFinite(c)&&!isNaN(c)?String(c):"null");break;case"boolean":u.push(String(c));break;case"function":u.push("null");break;default:throw Error("Unknown type: "+typeof c)}}}var ZR={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},s8=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function eN(s,c){c.push('"',s.replace(s8,function(u){var f=ZR[u];return f||(f="\\u"+(u.charCodeAt(0)|65536).toString(16).substr(1),ZR[u]=f),f}),'"')}function Xf(s){this.a=s}Xf.prototype.set=function(s,c){y(c)?this.a.set(s,XR(c)):this.a.ra(s)},Xf.prototype.get=function(s){try{var c=this.a.get(s)}catch{return}if(c!==null)try{return JSON.parse(c)}catch{throw"Storage: Invalid value was encountered"}};function By(){}H(By,VR),By.prototype.clear=function(){var s=SE(this.ha(!0)),c=this;Rt(s,function(u){c.ra(u)})};function $y(s){this.a=s}H($y,By);function Hy(s){if(!s.a)return!1;try{return s.a.setItem("__sak","1"),s.a.removeItem("__sak"),!0}catch{return!1}}t=$y.prototype,t.set=function(s,c){try{this.a.setItem(s,c)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},t.get=function(s){if(s=this.a.getItem(s),!E(s)&&s!==null)throw"Storage mechanism: Invalid value was encountered";return s},t.ra=function(s){this.a.removeItem(s)},t.ha=function(s){var c=0,u=this.a,f=new Ns;return f.next=function(){if(c>=u.length)throw Ia;var p=u.key(c++);if(s)return p;if(p=u.getItem(p),!E(p))throw"Storage mechanism: Invalid value was encountered";return p},f},t.clear=function(){this.a.clear()},t.key=function(s){return this.a.key(s)};function fI(){var s=null;try{s=window.localStorage||null}catch{}this.a=s}H(fI,$y);function pI(){var s=null;try{s=window.sessionStorage||null}catch{}this.a=s}H(pI,$y);function Xu(s,c){this.g=s,this.a=c+"::"}H(Xu,By),Xu.prototype.set=function(s,c){this.g.set(this.a+s,c)},Xu.prototype.get=function(s){return this.g.get(this.a+s)},Xu.prototype.ra=function(s){this.g.ra(this.a+s)},Xu.prototype.ha=function(s){var c=this.g.ha(!0),u=this,f=new Ns;return f.next=function(){for(var p=c.next();p.substr(0,u.a.length)!=u.a;)p=c.next();return s?p.substr(u.a.length):u.g.get(p)},f},Hy(new fI);var tN,nN=new pI;tN=Hy(nN)?new Xu(nN,"firebaseui"):null;var mI=new Xf(tN),gI={name:"pendingEmailCredential",storage:mI},ol={name:"redirectStatus",storage:mI},Zf={name:"redirectUrl",storage:mI},Zu={name:"emailForSignIn",storage:new Xf(new Ku(3600,"/"))},ep={name:"pendingEncryptedCredential",storage:new Xf(new Ku(3600,"/"))};function ed(s,c){return s.storage.get(c?s.name+":"+c:s.name)}function or(s,c){s.storage.a.ra(c?s.name+":"+c:s.name)}function td(s,c,u){s.storage.set(u?s.name+":"+u:s.name,c)}function iN(s){return ed(Zf,s)||null}function $o(s){return s=ed(gI,s)||null,UR(s)}function Ho(s){or(gI,s)}function rN(s,c){td(gI,jR(s),c)}function vI(s){return(s=ed(ol,s)||null)&&typeof s.tenantId<"u"?new BR(s.tenantId):null}function a8(s,c){td(ol,{tenantId:s.a},c)}function c8(s,c){c=ed(Zu,c);var u=null;if(c)try{var f=QR(s,c),p=JSON.parse(f);u=p&&p.email||null}catch{}return u}function l8(s,c){c=ed(ep,c);var u=null;if(c)try{var f=QR(s,c);u=JSON.parse(f)}catch{}return UR(u||null)}function u8(s,c,u){td(ep,YR(s,JSON.stringify(jR(c))),u)}function yI(){this.W={}}function An(s,c,u){if(c.toLowerCase()in s.W)throw Error("Configuration "+c+" has already been defined.");s.W[c.toLowerCase()]=u}function _I(s,c,u){if(!(c.toLowerCase()in s.W))throw Error("Configuration "+c+" is not defined.");s.W[c.toLowerCase()]=u}yI.prototype.get=function(s){if(!(s.toLowerCase()in this.W))throw Error("Configuration "+s+" is not defined.");return this.W[s.toLowerCase()]};function wI(s,c){if(s=s.get(c),!s)throw Error("Configuration "+c+" is required.");return s}function bI(){this.g=void 0,this.a={}}t=bI.prototype,t.set=function(s,c){oN(this,s,c,!1)},t.add=function(s,c){oN(this,s,c,!0)};function oN(s,c,u,f){for(var p=0;p<c.length;p++){var g=c.charAt(p);s.a[g]||(s.a[g]=new bI),s=s.a[g]}if(f&&s.g!==void 0)throw Error('The collection already contains the key "'+c+'"');s.g=u}t.get=function(s){e:{for(var c=this,u=0;u<s.length;u++)if(c=c.a[s.charAt(u)],!c){s=void 0;break e}s=c}return s?s.g:void 0},t.la=function(){var s=[];return sN(this,s),s};function sN(s,c){s.g!==void 0&&c.push(s.g);for(var u in s.a)sN(s.a[u],c)}t.ja=function(){var s=[];return aN(this,"",s),s};function aN(s,c,u){s.g!==void 0&&u.push(c);for(var f in s.a)aN(s.a[f],c+f,u)}t.clear=function(){this.a={},this.g=void 0};function cN(s){for(this.a=s,this.g=new bI,s=0;s<this.a.length;s++){var c=this.g.get("+"+this.a[s].b);c?c.push(this.a[s]):this.g.add("+"+this.a[s].b,[this.a[s]])}}function Gy(s,c){s=s.g;var u={},f=0;for(s.g!==void 0&&(u[f]=s.g);f<c.length;f++){var p=c.charAt(f);if(!(p in s.a))break;s=s.a[p],s.g!==void 0&&(u[f]=s.g)}for(var g in u)if(u.hasOwnProperty(g))return u[g];return[]}function sl(s){for(var c=0;c<Wi.length;c++)if(Wi[c].c===s)return Wi[c];return null}function lN(s){s=s.toUpperCase();for(var c=[],u=0;u<Wi.length;u++)Wi[u].f===s&&c.push(Wi[u]);return c}function uN(s){if(0<s.length&&s.charAt(0)=="+"){s=s.substring(1);for(var c=[],u=0;u<Wi.length;u++)Wi[u].b==s&&c.push(Wi[u]);s=c}else s=lN(s);return s}function dN(s){s.sort(function(c,u){return c.name.localeCompare(u.name,"en")})}var Wi=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"\xC5land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"C\xF4te d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Cura\xE7ao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"R\xE9union",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barth\xE9lemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"S\xE3o Tom\xE9 and Pr\xEDncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];dN(Wi);var tp=new cN(Wi);function hN(s,c){this.a=s,this.Aa=c}function fN(s){s=ri(s);var c=Gy(tp,s);return 0<c.length?new hN(c[0].b=="1"?"1-US-0":c[0].c,ri(s.substr(c[0].b.length+1))):null}function CI(s){var c=sl(s.a);if(!c)throw Error("Country ID "+s.a+" not found.");return"+"+c.b+s.Aa}function pN(s,c){for(var u=0;u<s.length;u++)if(!pt(mN,s[u])&&(nd!==null&&s[u]in nd||pt(c,s[u])))return s[u];return null}var mN=["emailLink","password","phone"],nd={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function d8(){this.a=new yI,An(this.a,"autoUpgradeAnonymousUsers"),An(this.a,"callbacks"),An(this.a,"credentialHelper",Wy),An(this.a,"immediateFederatedRedirect",!1),An(this.a,"popupMode",!1),An(this.a,"privacyPolicyUrl"),An(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),An(this.a,"queryParameterForWidgetMode","mode"),An(this.a,"signInFlow"),An(this.a,"signInOptions"),An(this.a,"signInSuccessUrl"),An(this.a,"siteName"),An(this.a,"tosUrl"),An(this.a,"widgetUrl"),An(this.a,"adminRestrictedOperation")}function zy(s){var c=!!s.a.get("autoUpgradeAnonymousUsers");return c&&!SN(s)&&mr('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),c}function qy(s){s=s.a.get("signInOptions")||[];for(var c=[],u=0;u<s.length;u++){var f=s[u];f=U(f)?f:{provider:f},f.provider&&c.push(f)}return c}function gr(s,c){s=qy(s);for(var u=0;u<s.length;u++)if(s[u].provider===c)return s[u];return null}function id(s){return qy(s).map(function(c){return c.provider})}function np(s,c){s=gN(s);for(var u=0;u<s.length;u++)if(s[u].providerId===c)return s[u];return null}function gN(s){return qy(s).map(function(c){if(nd[c.provider]||pt(b8,c.provider)){c={providerId:c.provider,S:c.providerName||null,V:c.fullLabel||null,ta:c.buttonColor||null,za:c.iconUrl?Aa(ly(c.iconUrl)).toString():null};for(var u in c)c[u]===null&&delete c[u];return c}return{providerId:c.provider,S:c.providerName||null,V:c.fullLabel||null,ta:c.buttonColor||null,za:c.iconUrl?Aa(ly(c.iconUrl)).toString():null,Ob:c.loginHintKey||null}})}function vN(s){var c=gr(s,be.auth.GoogleAuthProvider.PROVIDER_ID),u;if(u=c&&c.clientId){e:{if((window.location&&window.location.protocol)==="http:"||(window.location&&window.location.protocol)==="https:"){for(f in s=s.a.get("credentialHelper"),DI)if(DI[f]===s){var f=DI[f];break e}}f=Wy}u=f===TI}return u&&c.clientId||null}function yN(s){return s=gr(s,be.auth.EmailAuthProvider.PROVIDER_ID),!!(s&&s.disableSignUp&&s.disableSignUp.status)}function al(s){return s=s.a.get("adminRestrictedOperation")||null,!(!s||!s.status)}function h8(s){var c=null;if(qy(s).forEach(function(f){f.provider==be.auth.PhoneAuthProvider.PROVIDER_ID&&U(f.recaptchaParameters)&&!Array.isArray(f.recaptchaParameters)&&(c=Ea(f.recaptchaParameters))}),c){var u=[];C8.forEach(function(f){typeof c[f]<"u"&&(u.push(f),delete c[f])}),u.length&&Fa('The following provided "recaptchaParameters" keys are not allowed: '+u.join(", "))}return c}function f8(s){return(s=s.a.get("adminRestrictedOperation"))&&s.adminEmail?s.adminEmail:null}function p8(s){if(s=s.a.get("adminRestrictedOperation")||null){var c=s.helpLink||null;if(c&&typeof c=="string")return function(){Wu(c)}}return null}function m8(s){return(s=gr(s,be.auth.EmailAuthProvider.PROVIDER_ID))&&s.disableSignUp&&s.disableSignUp.adminEmail||null}function g8(s){if((s=gr(s,be.auth.EmailAuthProvider.PROVIDER_ID))&&s.disableSignUp){var c=s.disableSignUp.helpLink||null;if(c&&typeof c=="string")return function(){Wu(c)}}return null}function _N(s,c){return s=(s=gr(s,c))&&s.scopes,Array.isArray(s)?s:[]}function wN(s,c){return s=(s=gr(s,c))&&s.customParameters,U(s)?(s=Ea(s),c===be.auth.GoogleAuthProvider.PROVIDER_ID&&delete s.login_hint,c===be.auth.GithubAuthProvider.PROVIDER_ID&&delete s.login,s):null}function v8(s){s=gr(s,be.auth.PhoneAuthProvider.PROVIDER_ID);var c=null;return s&&typeof s.loginHint=="string"&&(c=fN(s.loginHint)),s&&s.defaultNationalNumber||c&&c.Aa||null}function y8(s){var c=(s=gr(s,be.auth.PhoneAuthProvider.PROVIDER_ID))&&s.defaultCountry||null;c=c&&lN(c);var u=null;return s&&typeof s.loginHint=="string"&&(u=fN(s.loginHint)),c&&c[0]||u&&sl(u.a)||null}function EI(s){if(s=gr(s,be.auth.PhoneAuthProvider.PROVIDER_ID),!s)return null;var c=s.whitelistedCountries,u=s.blacklistedCountries;if(typeof c<"u"&&(!Array.isArray(c)||c.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof u<"u"&&!Array.isArray(u))throw Error("BlacklistedCountries must be an array.");if(c&&u)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!c&&!u)return Wi;if(s=[],c){u={};for(var f=0;f<c.length;f++)for(var p=uN(c[f]),g=0;g<p.length;g++)u[p[g].c]=p[g];for(var _ in u)u.hasOwnProperty(_)&&s.push(u[_])}else{for(_={},c=0;c<u.length;c++)for(p=uN(u[c]),f=0;f<p.length;f++)_[p[f].c]=p[f];for(p=0;p<Wi.length;p++)_!==null&&Wi[p].c in _||s.push(Wi[p])}return s}function bN(s){return wI(s.a,"queryParameterForWidgetMode")}function Mn(s){var c=s.a.get("tosUrl")||null;if(s=s.a.get("privacyPolicyUrl")||null,c&&!s&&Fa("Privacy Policy URL is missing, the link will not be displayed."),c&&s){if(typeof c=="function")return c;if(typeof c=="string")return function(){Wu(c)}}return null}function Pn(s){var c=s.a.get("tosUrl")||null,u=s.a.get("privacyPolicyUrl")||null;if(u&&!c&&Fa("Term of Service URL is missing, the link will not be displayed."),c&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){Wu(u)}}return null}function CN(s){return(s=gr(s,be.auth.EmailAuthProvider.PROVIDER_ID))&&typeof s.requireDisplayName<"u"?!!s.requireDisplayName:!0}function rd(s){return s=gr(s,be.auth.EmailAuthProvider.PROVIDER_ID),!(!s||s.signInMethod!==be.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function _8(s){return s=gr(s,be.auth.EmailAuthProvider.PROVIDER_ID),!(!s||!s.forceSameDevice)}function w8(s){if(rd(s)){var c={url:js(),handleCodeInApp:!0};(s=gr(s,be.auth.EmailAuthProvider.PROVIDER_ID))&&typeof s.emailLinkSignIn=="function"&&Rs(c,s.emailLinkSignIn()),s=c.url;var u=js();u instanceof Mi||(u=Nf(u)),s instanceof Mi||(s=Nf(s));var f=u;u=new Mi(f);var p=!!s.j;p?Wc(u,s.j):p=!!s.A,p?u.A=s.A:p=!!s.h,p?u.h=s.h:p=s.C!=null;var g=s.g;if(p)Sa(u,s.C);else if(p=!!s.g){if(g.charAt(0)!="/"&&(f.h&&!f.g?g="/"+g:(f=u.g.lastIndexOf("/"),f!=-1&&(g=u.g.substr(0,f+1)+g))),g==".."||g==".")g="";else if(g.indexOf("./")!=-1||g.indexOf("/.")!=-1){f=g.lastIndexOf("/",0)==0,g=g.split("/");for(var _=[],A=0;A<g.length;){var j=g[A++];j=="."?f&&A==g.length&&_.push(""):j==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),f&&A==g.length&&_.push("")):(_.push(j),f=!0)}g=_.join("/")}}return p?u.g=g:p=s.a.toString()!=="",p?Uo(u,bk(s.a)):p=!!s.s,p&&(u.s=s.s),c.url=u.toString(),c}return null}function II(s){var c=!!s.a.get("immediateFederatedRedirect"),u=id(s);return s=EN(s),c&&u.length==1&&!pt(mN,u[0])&&s==Ky}function EN(s){s=s.a.get("signInFlow");for(var c in xI)if(xI[c]==s)return xI[c];return Ky}function SI(s){return ip(s).signInSuccess||null}function IN(s){return ip(s).signInSuccessWithAuthResult||null}function SN(s){return ip(s).signInFailure||null}function ip(s){return s.a.get("callbacks")||{}}var TI="googleyolo",Wy="none",DI={nc:TI,NONE:Wy},Ky="redirect",xI={qc:"popup",rc:Ky},AI={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},b8=["anonymous"],C8=["sitekey","tabindex","callback","expired-callback"],rp,od,MI,TN,Pt={};function ye(s,c,u,f){Pt[s].apply(null,Array.prototype.slice.call(arguments,1))}function DN(s){return s.classList?s.classList:(s=s.className,E(s)&&s.match(/\S+/g)||[])}function op(s,c){return s.classList?s.classList.contains(c):pt(DN(s),c)}function Go(s,c){s.classList?s.classList.add(c):op(s,c)||(s.className+=0<s.className.length?" "+c:c)}function zo(s,c){s.classList?s.classList.remove(c):op(s,c)&&(s.className=vt(DN(s),function(u){return u!=c}).join(" "))}function si(s){var c=s.type;switch(E(c)&&c.toLowerCase()){case"checkbox":case"radio":return s.checked?s.value:null;case"select-one":return c=s.selectedIndex,0<=c?s.options[c].value:null;case"select-multiple":c=[];for(var u,f=0;u=s.options[f];f++)u.selected&&c.push(u.value);return c.length?c:null;default:return s.value!=null?s.value:null}}function xN(s,c){var u=s.type;switch(E(u)&&u.toLowerCase()){case"checkbox":case"radio":s.checked=c;break;case"select-one":if(s.selectedIndex=-1,E(c)){for(var f=0;u=s.options[f];f++)if(u.value==c){u.selected=!0;break}}break;case"select-multiple":for(E(c)&&(c=[c]),f=0;u=s.options[f];f++)if(u.selected=!1,c)for(var p,g=0;p=c[g];g++)u.value==p&&(u.selected=!0);break;default:s.value=c??""}}function E8(s){if(s.altKey&&!s.ctrlKey||s.metaKey||112<=s.keyCode&&123>=s.keyCode)return!1;if(sp(s.keyCode))return!0;switch(s.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!oo;default:return 166>s.keyCode||183<s.keyCode}}function AN(s,c,u,f,p,g){if(Gi&&!Qc("525"))return!0;if(xa&&p)return sp(s);if(p&&!f)return!1;if(!oo){typeof c=="number"&&(c=PI(c));var _=c==17||c==18||xa&&c==91;if((!u||xa)&&_||xa&&c==16&&(f||g))return!1}if((Gi||Da)&&f&&u)switch(s){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(mn&&f&&c==s)return!1;switch(s){case 13:return oo?g||p?!1:!(u&&f):!0;case 27:return!(Gi||Da||oo)}return oo&&(f||p||g)?!1:sp(s)}function sp(s){if(48<=s&&57>=s||96<=s&&106>=s||65<=s&&90>=s||(Gi||Da)&&s==0)return!0;switch(s){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return oo;default:return!1}}function PI(s){if(oo)s=I8(s);else if(xa&&Gi)switch(s){case 93:s=91}return s}function I8(s){switch(s){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return s}}function sd(s){Un.call(this),this.a=s,so(s,"keydown",this.g,!1,this),so(s,"click",this.h,!1,this)}H(sd,Un),sd.prototype.g=function(s){(s.keyCode==13||Gi&&s.keyCode==3)&&MN(this,s)},sd.prototype.h=function(s){MN(this,s)};function MN(s,c){var u=new ON(c);if(Ra(s,u)){u=new PN(c);try{Ra(s,u)}finally{c.stopPropagation()}}}sd.prototype.o=function(){sd.K.o.call(this),tl(this.a,"keydown",this.g,!1,this),tl(this.a,"click",this.h,!1,this),delete this.a};function PN(s){qi.call(this,s.a),this.type="action"}H(PN,qi);function ON(s){qi.call(this,s.a),this.type="beforeaction"}H(ON,qi);function ad(s){Un.call(this),this.a=s,s=mn?"focusout":"blur",this.g=so(this.a,mn?"focusin":"focus",this,!mn),this.h=so(this.a,s,this,!mn)}H(ad,Un),ad.prototype.handleEvent=function(s){var c=new qi(s.a);c.type=s.type=="focusin"||s.type=="focus"?"focusin":"focusout",Ra(this,c)},ad.prototype.o=function(){ad.K.o.call(this),ka(this.g),ka(this.h),delete this.a};function Yy(s,c){Un.call(this),this.g=s||1,this.a=c||v,this.h=Ie(this.gc,this),this.j=sn()}H(Yy,Un),t=Yy.prototype,t.Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var s=sn()-this.j;0<s&&s<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-s):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),Ra(this,"tick"),this.Ka&&(Qy(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=sn())};function Qy(s){s.Ka=!1,s.aa&&(s.a.clearTimeout(s.aa),s.aa=null)}t.o=function(){Yy.K.o.call(this),Qy(this),delete this.a};function S8(s,c){if(te(s))c&&(s=Ie(s,c));else if(s&&typeof s.handleEvent=="function")s=Ie(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<0?-1:v.setTimeout(s,0)}function cd(s){el.call(this),this.g=s,this.a={}}H(cd,el);var kN=[];function ld(s,c,u,f){$(u)||(u&&(kN[0]=u.toString()),u=kN);for(var p=0;p<u.length;p++){var g=so(c,u[p],f||s.handleEvent,!1,s.g||s);if(!g)break;s.a[g.key]=g}}function RN(s){zc(s.a,function(c,u){this.a.hasOwnProperty(u)&&ka(c)},s),s.a={}}cd.prototype.o=function(){cd.K.o.call(this),RN(this)},cd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ap(s){Un.call(this),this.a=null,this.g=s,s=mn||Da||Gi&&!Qc("531")&&s.tagName=="TEXTAREA",this.h=new cd(this),ld(this.h,this.g,s?["keydown","paste","cut","drop","input"]:"input",this)}H(ap,Un),ap.prototype.handleEvent=function(s){if(s.type=="input")mn&&Qc(10)&&s.keyCode==0&&s.j==0||(OI(this),Ra(this,NN(s)));else if(s.type!="keydown"||E8(s)){var c=s.type=="keydown"?this.g.value:null;mn&&s.keyCode==229&&(c=null);var u=NN(s);OI(this),this.a=S8(function(){this.a=null,this.g.value!=c&&Ra(this,u)},this)}};function OI(s){s.a!=null&&(v.clearTimeout(s.a),s.a=null)}function NN(s){return s=new qi(s.a),s.type="input",s}ap.prototype.o=function(){ap.K.o.call(this),this.h.m(),OI(this),delete this.g};function cp(s,c){Un.call(this),s&&(this.Oa&&UN(this),this.qa=s,this.Na=so(this.qa,"keypress",this,c),this.Ya=so(this.qa,"keydown",this.Jb,c,this),this.Oa=so(this.qa,"keyup",this.Kb,c,this))}H(cp,Un),t=cp.prototype,t.qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var FN={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},LN={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},VN=!Gi||Qc("525"),jN=xa&&oo;t=cp.prototype,t.Jb=function(s){(Gi||Da)&&(this.R==17&&!s.ctrlKey||this.R==18&&!s.altKey||xa&&this.R==91&&!s.metaKey)&&(this.X=this.R=-1),this.R==-1&&(s.ctrlKey&&s.keyCode!=17?this.R=17:s.altKey&&s.keyCode!=18?this.R=18:s.metaKey&&s.keyCode!=91&&(this.R=91)),VN&&!AN(s.keyCode,this.R,s.shiftKey,s.ctrlKey,s.altKey,s.metaKey)?this.handleEvent(s):(this.X=PI(s.keyCode),jN&&(this.Ua=s.altKey))},t.Kb=function(s){this.X=this.R=-1,this.Ua=s.altKey},t.handleEvent=function(s){var c=s.a,u=c.altKey;if(mn&&s.type=="keypress")var f=this.X,p=f!=13&&f!=27?c.keyCode:0;else(Gi||Da)&&s.type=="keypress"?(f=this.X,p=0<=c.charCode&&63232>c.charCode&&sp(f)?c.charCode:0):Dk&&!Gi?(f=this.X,p=sp(f)?c.keyCode:0):(s.type=="keypress"?(jN&&(u=this.Ua),c.keyCode==c.charCode?32>c.keyCode?(f=c.keyCode,p=0):(f=this.X,p=c.charCode):(f=c.keyCode||this.X,p=c.charCode||0)):(f=c.keyCode||this.X,p=c.charCode||0),xa&&p==63&&f==224&&(f=191));var g=f=PI(f);f?63232<=f&&f in FN?g=FN[f]:f==25&&s.shiftKey&&(g=9):c.keyIdentifier&&c.keyIdentifier in LN&&(g=LN[c.keyIdentifier]),oo&&VN&&s.type=="keypress"&&!AN(g,this.R,s.shiftKey,s.ctrlKey,u,s.metaKey)||(s=g==this.R,this.R=g,c=new BN(g,p,s,c),c.altKey=u,Ra(this,c))},t.N=function(){return this.qa};function UN(s){s.Na&&(ka(s.Na),ka(s.Ya),ka(s.Oa),s.Na=null,s.Ya=null,s.Oa=null),s.qa=null,s.R=-1,s.X=-1}t.o=function(){cp.K.o.call(this),UN(this)};function BN(s,c,u,f){qi.call(this,f),this.type="key",this.keyCode=s,this.j=c,this.repeat=u}H(BN,qi);function ud(s,c,u,f){this.top=s,this.right=c,this.bottom=u,this.left=f}ud.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},ud.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},ud.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},ud.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function Jy(s,c){var u=jf(s);return u.defaultView&&u.defaultView.getComputedStyle&&(s=u.defaultView.getComputedStyle(s,null))&&(s[c]||s.getPropertyValue(c))||""}function $N(s){try{var c=s.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return mn&&s.ownerDocument.body&&(s=s.ownerDocument,c.left-=s.documentElement.clientLeft+s.body.clientLeft,c.top-=s.documentElement.clientTop+s.body.clientTop),c}function T8(s,c){c=c||hy(document);var u=c||hy(document),f=HN(s),p=HN(u);if(!mn||9<=Number(Lf)){_=Jy(u,"borderLeftWidth");var g=Jy(u,"borderRightWidth");A=Jy(u,"borderTopWidth"),j=Jy(u,"borderBottomWidth"),g=new ud(parseFloat(A),parseFloat(g),parseFloat(j),parseFloat(_))}else{var _=Xy(u,"borderLeft");g=Xy(u,"borderRight");var A=Xy(u,"borderTop"),j=Xy(u,"borderBottom");g=new ud(A,g,j,_)}u==hy(document)?(_=f.a-u.scrollLeft,f=f.g-u.scrollTop,!mn||10<=Number(Lf)||(_+=g.left,f+=g.top)):(_=f.a-p.a-g.left,f=f.g-p.g-g.top),p=s.offsetWidth,g=s.offsetHeight,A=Gi&&!p&&!g,y(p)&&!A||!s.getBoundingClientRect?s=new PE(p,g):(s=$N(s),s=new PE(s.right-s.left,s.bottom-s.top)),p=u.clientHeight-s.height,g=u.scrollLeft,A=u.scrollTop,g+=Math.min(_,Math.max(_-(u.clientWidth-s.width),0)),A+=Math.min(f,Math.max(f-p,0)),u=new Pa(g,A),c.scrollLeft=u.a,c.scrollTop=u.g}function HN(s){var c=jf(s),u=new Pa(0,0),f=c?jf(c):document;return f=!mn||9<=Number(Lf)||dy(f).a.compatMode=="CSS1Compat"?f.documentElement:f.body,s==f||(s=$N(s),f=dy(c).a,c=hy(f),f=f.parentWindow||f.defaultView,c=mn&&Qc("10")&&f.pageYOffset!=c.scrollTop?new Pa(c.scrollLeft,c.scrollTop):new Pa(f.pageXOffset||c.scrollLeft,f.pageYOffset||c.scrollTop),u.a=s.left+c.a,u.g=s.top+c.g),u}var GN={thin:2,medium:4,thick:6};function Xy(s,c){if((s.currentStyle?s.currentStyle[c+"Style"]:null)=="none")return 0;var u=s.currentStyle?s.currentStyle[c+"Width"]:null;if(u in GN)s=GN[u];else if(/^\d+px?$/.test(u))s=parseInt(u,10);else{c=s.style.left;var f=s.runtimeStyle.left;s.runtimeStyle.left=s.currentStyle.left,s.style.left=u,u=s.style.pixelLeft,s.style.left=c,s.runtimeStyle.left=f,s=+u}return s}function kI(){}O(kI),kI.prototype.a=0;function cl(s){Un.call(this),this.s=s||dy(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}H(cl,Un),t=cl.prototype,t.Lb=kI.Xa(),t.N=function(){return this.g};function _t(s,c){return s.g?kE(c,s.g||s.s.a):null}function lp(s){return s.L||(s.L=new cd(s)),s.L}t.Za=function(s){if(this.Y&&this.Y!=s)throw Error("Method not supported");cl.K.Za.call(this,s)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(s){if(this.na)throw Error("Component already rendered");this.g||this.kb(),s?s.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,RI(this,function(s){!s.na&&s.N()&&s.v()})},t.ya=function(){RI(this,function(s){s.na&&s.ya()}),this.L&&RN(this.L),this.na=!1},t.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),RI(this,function(s){s.m()}),this.g&&Xc(this.g),this.Y=this.g=this.oa=this.Ea=null,cl.K.o.call(this)};function RI(s,c){s.Ea&&Rt(s.Ea,c,void 0)}t.removeChild=function(s,c){if(s){var u=E(s)?s:s.cb||(s.cb=":"+(s.Lb.a++).toString(36));if(this.oa&&u?(s=this.oa,s=(s!==null&&u in s?s[u]:void 0)||null):s=null,u&&s){var f=this.oa;if(u in f&&delete f[u],Vn(this.Ea,s),c&&(s.ya(),s.g&&Xc(s.g)),c=s,c==null)throw Error("Unable to set parent component");c.Y=null,cl.K.Za.call(c,null)}}if(!s)throw Error("Child is not in parent component");return s};function yn(s,c){var u=Bk(s,"firebaseui-textfield");c?(zo(s,"firebaseui-input-invalid"),Go(s,"firebaseui-input"),u&&zo(u,"firebaseui-textfield-invalid")):(zo(s,"firebaseui-input"),Go(s,"firebaseui-input-invalid"),u&&Go(u,"firebaseui-textfield-invalid"))}function dd(s,c,u){c=new ap(c),$f(s,$e(Hf,c)),ld(lp(s),c,"input",u)}function up(s,c,u){c=new cp(c),$f(s,$e(Hf,c)),ld(lp(s),c,"key",function(f){f.keyCode==13&&(f.stopPropagation(),f.preventDefault(),u(f))})}function D8(s,c,u){c=new ad(c),$f(s,$e(Hf,c)),ld(lp(s),c,"focusin",u)}function x8(s,c,u){c=new ad(c),$f(s,$e(Hf,c)),ld(lp(s),c,"focusout",u)}function fn(s,c,u){c=new sd(c),$f(s,$e(Hf,c)),ld(lp(s),c,"action",function(f){f.stopPropagation(),f.preventDefault(),u(f)})}function vr(s){Go(s,"firebaseui-hidden")}function ai(s,c){c&&RE(s,c),zo(s,"firebaseui-hidden")}function hd(s){return!op(s,"firebaseui-hidden")&&s.style.display!="none"}function fd(s){s=s||{};var c=s.email,u=s.disabled,f='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return f=s.wc?f+"Enter new email address":f+"Email",f+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+zi(c??"")+'"'+(u?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',fe(f)}function sr(s){s=s||{},s=s.label;var c='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return c=s?c+Oe(s):c+"Next",fe(c+"</button>")}function NI(){var s=""+sr({label:gn("Sign In")});return fe(s)}function zN(){var s=""+sr({label:gn("Save")});return fe(s)}function ao(){var s=""+sr({label:gn("Continue")});return fe(s)}function qN(s){s=s||{},s=s.label;var c='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return c=s?c+Oe(s):c+"Choose password",fe(c+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function WN(){var s={},c='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return c=s.current?c+"Current password":c+"Password",fe(c+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function KN(){return fe('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function yr(s){s=s||{},s=s.label;var c='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return c=s?c+Oe(s):c+"Cancel",fe(c+"</button>")}function wi(s){var c="";return s.F&&s.D&&(c+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),fe(c)}function pd(s){var c="";return s.F&&s.D&&(c+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),fe(c)}function YN(s){return s='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+Oe(s.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',fe(s)}YN.a="firebaseui.auth.soy2.element.infoBar";function QN(s){var c=s.content;return s=s.Ab,fe('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(s?" "+zi(s):"")+'">'+Oe(c)+"</dialog>")}function JN(s){var c=s.message;return fe(QN({content:Gk('<div class="firebaseui-dialog-icon-wrapper"><div class="'+zi(s.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+Oe(c)+"</div>")}))}JN.a="firebaseui.auth.soy2.element.progressDialog";function XN(s){var c='<div class="firebaseui-list-box-actions">';s=s.items;for(var u=s.length,f=0;f<u;f++){var p=s[f];c+='<button type="button" data-listboxid="'+zi(p.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(p.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+zi(p.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+Oe(p.label)+"</div></button>"}return c=""+QN({Ab:gn("firebaseui-list-box-dialog"),content:Gk(c+"</div>")}),fe(c)}XN.a="firebaseui.auth.soy2.element.listBoxDialog";function Zy(s){return s=s||{},fe(s.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}Zy.a="firebaseui.auth.soy2.element.busyIndicator";function La(s,c){return s=s||{},s=s.ga,Dt(s.S?s.S:c.hb[s.providerId]?""+c.hb[s.providerId]:s.providerId&&s.providerId.indexOf("saml.")==0||s.providerId&&s.providerId.indexOf("oidc.")==0?s.providerId.substring(5):""+s.providerId)}function FI(s){ZN(s,"upgradeElement")}function LI(s){ZN(s,"downgradeElements")}var A8=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function ZN(s,c){s&&window.componentHandler&&window.componentHandler[c]&&A8.forEach(function(u){op(s,u)&&window.componentHandler[c](s),Rt(OE(u,s),function(f){window.componentHandler[c](f)})})}function eF(s,c,u){if(e_.call(this),document.body.appendChild(s),s.showModal||window.dialogPolyfill.registerDialog(s),s.showModal(),FI(s),c&&fn(this,s,function(g){var _=s.getBoundingClientRect();(g.clientX<_.left||_.left+_.width<g.clientX||g.clientY<_.top||_.top+_.height<g.clientY)&&e_.call(this)}),!u){var f=this.N().parentElement||this.N().parentNode;if(f){var p=this;this.da=function(){if(s.open){var g=s.getBoundingClientRect().height,_=f.getBoundingClientRect().height,A=f.getBoundingClientRect().top-document.body.getBoundingClientRect().top,j=f.getBoundingClientRect().left-document.body.getBoundingClientRect().left,Y=s.getBoundingClientRect().width,_e=f.getBoundingClientRect().width;s.style.top=(A+(_-g)/2).toString()+"px",g=j+(_e-Y)/2,s.style.left=g.toString()+"px",s.style.right=(document.body.getBoundingClientRect().width-g-Y).toString()+"px"}else window.removeEventListener("resize",p.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function e_(){var s=VI.call(this);s&&(LI(s),s.open&&s.close(),Xc(s),this.da&&window.removeEventListener("resize",this.da))}function VI(){return kE("firebaseui-id-dialog")}function tF(){Xc(nF.call(this))}function nF(){return _t(this,"firebaseui-id-info-bar")}function iF(){return _t(this,"firebaseui-id-dismiss-info-bar")}var M8={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function jI(s,c,u){Ls.call(this,s,c);for(var f in u)this[f]=u[f]}H(jI,Ls);function z(s,c,u,f,p){cl.call(this,u),this.fb=s,this.eb=c,this.Fa=!1,this.Ga=f||null,this.A=this.ca=null,this.Z=Ea(M8),Rs(this.Z,p||{})}H(z,cl),t=z.prototype,t.kb=function(){var s=Uf(this.fb,this.eb,this.Z,this.s);FI(s),this.g=s},t.v=function(){if(z.K.v.call(this),oR(cn(this),new jI("pageEnter",cn(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var s=this.Z.F;fn(this,this.bb(),function(){s()})}if(this.ab()&&this.Z.D){var c=this.Z.D;fn(this,this.ab(),function(){c()})}},t.ya=function(){oR(cn(this),new jI("pageExit",cn(this),{pageId:this.Ga})),z.K.ya.call(this)},t.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,LI(this.N()),z.K.o.call(this)};function P8(s){s.Fa=!0;var c=op(s.N(),"firebaseui-use-spinner");s.ca=window.setTimeout(function(){s.N()&&s.A===null&&(s.A=Uf(Zy,{tb:c},null,s.s),s.N().appendChild(s.A),FI(s.A))},500)}t.I=function(s,c,u,f){function p(){if(g.T)return null;g.Fa=!1,window.clearTimeout(g.ca),g.ca=null,g.A&&(LI(g.A),Xc(g.A),g.A=null)}var g=this;return g.Fa?null:(P8(g),s.apply(null,c).then(u,f).then(p,p))};function cn(s){return s.N().parentElement||s.N().parentNode}function dp(s,c,u){up(s,c,function(){u.focus()})}function md(s,c,u){up(s,c,function(){u()})}Te(z.prototype,{a:function(s){tF.call(this);var c=Uf(YN,{message:s},null,this.s);this.N().appendChild(c),fn(this,iF.call(this),function(){Xc(c)})},yc:tF,Ac:nF,zc:iF,$:function(s,c){s=Uf(JN,{Ma:s,message:c},null,this.s),eF.call(this,s)},h:e_,Cb:VI,Cc:function(){return _t(this,"firebaseui-tos")},bb:function(){return _t(this,"firebaseui-tos-link")},ab:function(){return _t(this,"firebaseui-pp-link")},Dc:function(){return _t(this,"firebaseui-tos-list")}});function rF(s,c,u){s=s||{},c=s.Va;var f=s.ia;return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+fd(s)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?yr(null):"")+sr(null)+'</div></div><div class="firebaseui-card-footer">'+(f?pd(u):wi(u))+"</div></form></div>",fe(s)}rF.a="firebaseui.auth.soy2.page.signIn";function oF(s,c,u){return s=s||{},c=s.ia,s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+fd(s)+WN()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+KN()+'</div><div class="firebaseui-form-actions">'+NI()+'</div></div><div class="firebaseui-card-footer">'+(c?pd(u):wi(u))+"</div></form></div>",fe(s)}oF.a="firebaseui.auth.soy2.page.passwordSignIn";function sF(s,c,u){s=s||{};var f=s.Tb;c=s.Ta;var p=s.ia,g='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+fd(s);return f?(s=s||{},s=s.name,s='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+zi(s??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',s=fe(s)):s="",u=g+s+qN(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?yr(null):"")+zN()+'</div></div><div class="firebaseui-card-footer">'+(p?pd(u):wi(u))+"</div></form></div>",fe(u)}sF.a="firebaseui.auth.soy2.page.passwordSignUp";function aF(s,c,u){return s=s||{},c=s.Ta,s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+fd(s)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?yr(null):"")+sr({label:gn("Send")})+'</div></div><div class="firebaseui-card-footer">'+wi(u)+"</div></form></div>",fe(s)}aF.a="firebaseui.auth.soy2.page.passwordRecovery";function cF(s,c,u){c=s.G;var f="";return s="Follow the instructions sent to <strong>"+(Oe(s.email)+"</strong> to recover your password"),f+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions">',c&&(f+='<div class="firebaseui-form-actions">'+sr({label:gn("Done")})+"</div>"),f+='</div><div class="firebaseui-card-footer">'+wi(u)+"</div></div>",fe(f)}cF.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function lF(s,c,u){return fe('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+Zy(null,null,u)+"</div></div>")}lF.a="firebaseui.auth.soy2.page.callback";function uF(s,c,u){return fe('<div class="firebaseui-container firebaseui-id-page-spinner">'+Zy({tb:!0},null,u)+"</div>")}uF.a="firebaseui.auth.soy2.page.spinner";function dF(){return fe('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}dF.a="firebaseui.auth.soy2.page.blank";function hF(s,c,u){c="",s="A sign-in email with additional instructions was sent to <strong>"+(Oe(s.email)+"</strong>. Check your email to complete sign-in.");var f=fe('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+f+'</div><div class="firebaseui-form-actions">'+yr({label:gn("Back")})+'</div></div><div class="firebaseui-card-footer">'+wi(u)+"</div></form></div>",fe(c)}hF.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function fF(s,c,u){return s=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+fe('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+yr({label:gn("Back")})+'</div></div><div class="firebaseui-card-footer">'+wi(u)+"</div></form></div>",fe(s)}fF.a="firebaseui.auth.soy2.page.emailNotReceived";function pF(s,c,u){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+fd(s)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+yr(null)+sr(null)+'</div></div><div class="firebaseui-card-footer">'+wi(u)+"</div></form></div>",fe(s)}pF.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function mF(){var s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+yr({label:gn("Dismiss")})+"</div></div></div>";return fe(s)}mF.a="firebaseui.auth.soy2.page.differentDeviceError";function gF(){var s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+yr({label:gn("Dismiss")})+"</div></div></div>";return fe(s)}gF.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function vF(s,c,u){return c="",s="You\u2019ve already used <strong>"+(Oe(s.email)+"</strong> to sign in. Enter your password for that account."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+s+"</p>"+WN()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+KN()+'</div><div class="firebaseui-form-actions">'+NI()+'</div></div><div class="firebaseui-card-footer">'+wi(u)+"</div></form></div>",fe(c)}vF.a="firebaseui.auth.soy2.page.passwordLinking";function yF(s,c,u){var f=s.email;return c="",s=""+La(s,u),s=gn(s),f="You\u2019ve already used <strong>"+(Oe(f)+("</strong>. You can connect your <strong>"+(Oe(s)+("</strong> account with <strong>"+(Oe(f)+"</strong> by signing in with email link below."))))),s="For this flow to successfully connect your "+(Oe(s)+" account with this email, you have to open the link on the same device or browser."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+f+'<p class="firebaseui-text firebaseui-text-justify">'+s+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+NI()+'</div></div><div class="firebaseui-card-footer">'+wi(u)+"</div></form></div>",fe(c)}yF.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function _F(s,c,u){c="";var f=""+La(s,u);return f=gn(f),s="You originally intended to connect <strong>"+(Oe(f)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),f="If you still want to connect your <strong>"+(Oe(f)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+s+'</p><p class="firebaseui-text firebaseui-text-justify">'+f+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ao()+'</div></div><div class="firebaseui-card-footer">'+wi(u)+"</div></form></div>",fe(c)}_F.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function wF(s,c,u){var f=s.email;return c="",s=""+La(s,u),s=gn(s),f="You\u2019ve already used <strong>"+(Oe(f)+("</strong>. Sign in with "+(Oe(s)+" to continue."))),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+f+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+sr({label:gn("Sign in with "+s)})+'</div></div><div class="firebaseui-card-footer">'+wi(u)+"</div></form></div>",fe(c)}wF.a="firebaseui.auth.soy2.page.federatedLinking";function bF(s,c,u){s=s||{};var f=s.kc;c=s.yb,s=s.Eb;var p='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return f?(f="<strong>"+(Oe(f)+"</strong> is not authorized to view the requested page."),p+=f):p+="User is not authorized to view the requested page.",p+="</p>",c&&(c="Please contact <strong>"+(Oe(c)+"</strong> for authorization."),p+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+c+"</p>"),p+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',s&&(p+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),p+='</div><div class="firebaseui-form-actions">'+yr({label:gn("Back")})+'</div></div><div class="firebaseui-card-footer">'+wi(u)+"</div></form></div>",fe(p)}bF.a="firebaseui.auth.soy2.page.unauthorizedUser";function CF(s,c,u){return c="",s="To continue sign in with <strong>"+(Oe(s.email)+"</strong> on this device, you have to recover the password."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+yr(null)+sr({label:gn("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+wi(u)+"</div></form></div>",fe(c)}CF.a="firebaseui.auth.soy2.page.unsupportedProvider";function EF(s){var c="",u='<p class="firebaseui-text">for <strong>'+(Oe(s.email)+"</strong></p>");return c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+u+qN(_z(s))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+zN()+"</div></div></form></div>",fe(c)}EF.a="firebaseui.auth.soy2.page.passwordReset";function IF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></div>",fe(s)}IF.a="firebaseui.auth.soy2.page.passwordResetSuccess";function SF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></div>",fe(s)}SF.a="firebaseui.auth.soy2.page.passwordResetFailure";function TF(s){var c=s.G,u="";return s="Your sign-in email address has been changed back to <strong>"+(Oe(s.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p><p class="firebaseui-text">If you didn\u2019t ask to change your sign-in email, it\u2019s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(c?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></form></div>",fe(u)}TF.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function DF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can\u2019t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></div>",fe(s)}DF.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function xF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></div>",fe(s)}xF.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function AF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></div>",fe(s)}AF.a="firebaseui.auth.soy2.page.emailVerificationFailure";function MF(s){var c=s.G,u="";return s="You can now sign in with your new email <strong>"+(Oe(s.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions">'+(c?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></div>",fe(u)}MF.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function PF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></div>",fe(s)}PF.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function OF(s){var c=s.factorId,u=s.phoneNumber;s=s.G;var f='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(c){case"phone":c="The <strong>"+(Oe(c)+(" "+(Oe(u)+"</strong> was removed as a second authentication step."))),f+=c;break;default:f+="The device or app was removed as a second authentication step."}return f+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(s?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></form></div>",fe(f)}OF.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function kF(s){return s=s||{},s=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(s.G?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></div>",fe(s)}kF.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function RF(s){var c=s.zb;return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Oe(s.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',c&&(s+=sr({label:gn("Retry")})),fe(s+"</div></div></div>")}RF.a="firebaseui.auth.soy2.page.recoverableError";function NF(s){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Oe(s.errorMessage)+"</p></div></div>",fe(s)}NF.a="firebaseui.auth.soy2.page.unrecoverableError";function FF(s,c,u){var f=s.Qb;return c="",s="Continue with "+(Oe(s.jc)+"?"),f="You originally wanted to sign in with "+Oe(f),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+s+'</h2><p class="firebaseui-text">'+f+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+yr(null)+sr({label:gn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+wi(u)+"</div></form></div>",fe(c)}FF.a="firebaseui.auth.soy2.page.emailMismatch";function LF(s,c,u){var f='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';s=s.Sb,c=s.length;for(var p=0;p<c;p++){var g={ga:s[p]},_=u;g=g||{};var A=g.ga,j=g;j=j||{};var Y="";switch(j.ga.providerId){case"google.com":Y+="firebaseui-idp-google";break;case"github.com":Y+="firebaseui-idp-github";break;case"facebook.com":Y+="firebaseui-idp-facebook";break;case"twitter.com":Y+="firebaseui-idp-twitter";break;case"phone":Y+="firebaseui-idp-phone";break;case"anonymous":Y+="firebaseui-idp-anonymous";break;case"password":Y+="firebaseui-idp-password";break;default:Y+="firebaseui-idp-generic"}j='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+zi(Dt(Y))+' firebaseui-id-idp-button" data-provider-id="'+zi(A.providerId)+'" style="background-color:',Y=(Y=g)||{},Y=Y.ga,j=j+zi(zk(Dt(Y.ta?Y.ta:_.wa[Y.providerId]?""+_.wa[Y.providerId]:Y.providerId.indexOf("saml.")==0?""+_.wa.saml:Y.providerId.indexOf("oidc.")==0?""+_.wa.oidc:""+_.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var _e=g;Y=_,_e=_e||{},_e=_e.ga,Y=yz(_e.za?Zc(_e.za):Y.xa[_e.providerId]?Zc(Y.xa[_e.providerId]):_e.providerId.indexOf("saml.")==0?Zc(Y.xa.saml):_e.providerId.indexOf("oidc.")==0?Zc(Y.xa.oidc):Zc(Y.xa.password)),j=j+zi(Zc(Y))+'"></span>',A.providerId=="password"?(j+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',A.V?j+=Oe(A.V):A.S?(g="Sign in with "+Oe(La(g,_)),j+=g):j+="Sign in with email",j+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',j=A.S?j+Oe(A.S):j+"Email",j+="</span>"):A.providerId=="phone"?(j+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',A.V?j+=Oe(A.V):A.S?(g="Sign in with "+Oe(La(g,_)),j+=g):j+="Sign in with phone",j+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',j=A.S?j+Oe(A.S):j+"Phone",j+="</span>"):A.providerId=="anonymous"?(j+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',A.V?j+=Oe(A.V):A.S?(g="Sign in with "+Oe(La(g,_)),j+=g):j+="Continue as guest",j+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',j=A.S?j+Oe(A.S):j+"Guest",j+="</span>"):(j+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',A.V?j+=Oe(A.V):(Y="Sign in with "+Oe(La(g,_)),j+=Y),j+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(A.S?Oe(A.S):Oe(La(g,_)))+"</span>"),A=fe(j+"</button>"),f+='<li class="firebaseui-list-item">'+A+"</li>"}return f+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+pd(u)+"</div></div>",fe(f)}LF.a="firebaseui.auth.soy2.page.providerSignIn";function VF(s,c,u){s=s||{};var f=s.Gb,p=s.Va;c=s.ia,s=s||{},s=s.Aa,s='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+zi(s??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+fe(s);var g;return f?g=fe('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):g="",g=s+g+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(p?yr(null):"")+sr({label:gn("Verify")})+'</div></div><div class="firebaseui-card-footer">',c?(c='<p class="firebaseui-tos firebaseui-phone-tos">',c=u.F&&u.D?c+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':c+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",u=fe(c+"</p>")):u=fe('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+wi(u),fe(g+u+"</div></form></div>")}VF.a="firebaseui.auth.soy2.page.phoneSignInStart";function jF(s,c,u){s=s||{},c=s.phoneNumber;var f="";return s='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(Oe(c)+"</a>"),Oe(c),c=f,f=fe('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),u='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+"</p>"+f+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+yr(null)+sr({label:gn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+wi(u)+"</div></form>",s=fe('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),fe(c+(u+s+"</div>"))}jF.a="firebaseui.auth.soy2.page.phoneSignInFinish";function UF(){return fe('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}UF.a="firebaseui.auth.soy2.page.signOut";function BF(s,c,u){var f='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';s=s.ec,c=s.length;for(var p=0;p<c;p++){var g=s[p],_="",A=Oe(g.displayName),j=g.tenantId?g.tenantId:"top-level-project";j=gn(j),_+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+zi(j)+' firebaseui-id-tenant-selection-button"'+(g.tenantId?'data-tenant-id="'+zi(g.tenantId)+'"':"")+'style="background-color:'+zi(zk(g.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+zi(Zc(g.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',g.V?_+=Oe(g.V):(g="Sign in to "+Oe(g.displayName),_+=g),_=fe(_+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+A+"</span></button>")),f+='<li class="firebaseui-list-item">'+_+"</li>"}return f+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+pd(u)+"</div></div>",fe(f)}BF.a="firebaseui.auth.soy2.page.selectTenant";function $F(s,c,u){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+fd(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+sr(null)+'</div></div><div class="firebaseui-card-footer">'+pd(u)+"</div></form></div>",fe(s)}$F.a="firebaseui.auth.soy2.page.providerMatchByEmail";function Qn(){return _t(this,"firebaseui-id-submit")}function $n(){return _t(this,"firebaseui-id-secondary-link")}function ci(s,c){fn(this,Qn.call(this),function(f){s(f)});var u=$n.call(this);u&&c&&fn(this,u,function(f){c(f)})}function t_(){return _t(this,"firebaseui-id-password")}function n_(){return _t(this,"firebaseui-id-password-error")}function HF(){var s=t_.call(this),c=n_.call(this);dd(this,s,function(){hd(c)&&(yn(s,!0),vr(c))})}function GF(){var s=t_.call(this),c=n_.call(this);return si(s)?(yn(s,!0),vr(c),c=!0):(yn(s,!1),ai(c,Dt("Enter your password").toString()),c=!1),c?si(s):null}function gd(s,c,u,f,p,g){z.call(this,vF,{email:s},g,"passwordLinking",{F:f,D:p}),this.w=c,this.H=u}l(gd,z),gd.prototype.v=function(){this.P(),this.M(this.w,this.H),md(this,this.i(),this.w),this.i().focus(),z.prototype.v.call(this)},gd.prototype.o=function(){this.w=null,z.prototype.o.call(this)},gd.prototype.j=function(){return si(_t(this,"firebaseui-id-email"))},Te(gd.prototype,{i:t_,B:n_,P:HF,u:GF,ea:Qn,ba:$n,M:ci});var O8=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Us(){return _t(this,"firebaseui-id-email")}function Va(){return _t(this,"firebaseui-id-email-error")}function vd(s){var c=Us.call(this),u=Va.call(this);dd(this,c,function(){hd(u)&&(yn(c,!0),vr(u))}),s&&up(this,c,function(){s()})}function yd(){return ri(si(Us.call(this))||"")}function _d(){var s=Us.call(this),c=Va.call(this),u=si(s)||"";return u?O8.test(u)?(yn(s,!0),vr(c),c=!0):(yn(s,!1),ai(c,Dt("That email address isn't correct").toString()),c=!1):(yn(s,!1),ai(c,Dt("Enter your email address to continue").toString()),c=!1),c?ri(si(s)):null}function hp(s,c,u,f,p,g,_){z.call(this,oF,{email:u,ia:!!g},_,"passwordSignIn",{F:f,D:p}),this.w=s,this.H=c}l(hp,z),hp.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),dp(this,this.l(),this.i()),md(this,this.i(),this.w),si(this.l())?this.i().focus():this.l().focus(),z.prototype.v.call(this)},hp.prototype.o=function(){this.H=this.w=null,z.prototype.o.call(this)},Te(hp.prototype,{l:Us,U:Va,P:vd,M:yd,j:_d,i:t_,B:n_,ea:HF,u:GF,ua:Qn,pa:$n,ba:ci});function Nt(s,c,u,f,p,g){z.call(this,s,c,f,p||"notice",g),this.i=u||null}H(Nt,z),Nt.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),Nt.K.v.call(this)},Nt.prototype.o=function(){this.i=null,Nt.K.o.call(this)},Te(Nt.prototype,{l:Qn,w:$n,u:ci});function i_(s,c,u,f,p){Nt.call(this,cF,{email:s,G:!!c},c,p,"passwordRecoveryEmailSent",{F:u,D:f})}H(i_,Nt);function zF(s,c){Nt.call(this,xF,{G:!!s},s,c,"emailVerificationSuccess")}H(zF,Nt);function qF(s,c){Nt.call(this,AF,{G:!!s},s,c,"emailVerificationFailure")}H(qF,Nt);function WF(s,c,u){Nt.call(this,MF,{email:s,G:!!c},c,u,"verifyAndChangeEmailSuccess")}H(WF,Nt);function KF(s,c){Nt.call(this,PF,{G:!!s},s,c,"verifyAndChangeEmailFailure")}H(KF,Nt);function YF(s,c){Nt.call(this,kF,{G:!!s},s,c,"revertSecondFactorAdditionFailure")}H(YF,Nt);function QF(s){Nt.call(this,UF,void 0,void 0,s,"signOut")}H(QF,Nt);function JF(s,c){Nt.call(this,IF,{G:!!s},s,c,"passwordResetSuccess")}H(JF,Nt);function XF(s,c){Nt.call(this,SF,{G:!!s},s,c,"passwordResetFailure")}H(XF,Nt);function ZF(s,c){Nt.call(this,DF,{G:!!s},s,c,"emailChangeRevokeFailure")}H(ZF,Nt);function e2(s,c,u){Nt.call(this,RF,{errorMessage:s,zb:!!c},c,u,"recoverableError")}H(e2,Nt);function t2(s,c){Nt.call(this,NF,{errorMessage:s},void 0,c,"unrecoverableError")}H(t2,Nt);function fp(s){if(s.code==="auth/invalid-credential"&&s.message&&s.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(s.message&&s.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var c=JSON.parse(s.message.substring(s.message.indexOf("{"),s.message.lastIndexOf("}")+1));return{code:s.code,message:c&&c.error&&c.error.message||s.message}}return s}function Bs(s,c,u,f){function p(_){if(!_.name||_.name!="cancel"){e:{var A=_.message;try{var j=((JSON.parse(A).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(j&&j.length){var Y=!0;break e}}catch{}Y=!1}if(Y)_=cn(c),c.m(),Gt(s,_,void 0,Dt("Your sign-in session has expired. Please try again.").toString());else{if(Y=_&&_.message||"",_.code){if(_.code=="auth/email-already-in-use"||_.code=="auth/credential-already-in-use")return;Y=jt(_)}c.a(Y)}}}if(E2(s),f)return n2(s,u),vn();if(!u.credential)throw Error("No credential found!");if(!lt(s).currentUser&&!u.user)throw Error("User not logged in.");try{var g=uq(s,u)}catch(_){return mr(_.code||_.message,_),c.a(_.code||_.message),vn()}return u=g.then(function(_){n2(s,_)},p).then(void 0,p),ze(s,g),vn(u)}function n2(s,c){if(!c.user)throw Error("No user found");var u=IN(q(s));if(SI(q(s))&&u&&Fa("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),u){u=IN(q(s));var f=iN(Me(s))||void 0;or(Zf,Me(s));var p=!1;ER()?((!u||u(c,f))&&(p=!0,Gu(window.opener.location,r_(s,f))),u||window.close()):(!u||u(c,f))&&(p=!0,Gu(window.location,r_(s,f))),p||s.reset()}else{u=c.user,c=c.credential,f=SI(q(s)),p=iN(Me(s))||void 0,or(Zf,Me(s));var g=!1;ER()?((!f||f(u,c,p))&&(g=!0,Gu(window.opener.location,r_(s,p))),f||window.close()):(!f||f(u,c,p))&&(g=!0,Gu(window.location,r_(s,p))),g||s.reset()}}function r_(s,c){if(s=c||q(s).a.get("signInSuccessUrl"),!s)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return s}function jt(s){var c={code:s.code};c=c||{};var u="";switch(c.code){case"auth/email-already-in-use":u+="The email address is already used by another account";break;case"auth/requires-recent-login":u+=Qk();break;case"auth/too-many-requests":u+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":u+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":u+="That email address doesn't match an existing account";break;case"auth/user-token-expired":u+=Qk();break;case"auth/weak-password":u+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":u+="The email and password you entered don't match";break;case"auth/network-request-failed":u+="A network error has occurred";break;case"auth/invalid-phone-number":u+=VE();break;case"auth/invalid-verification-code":u+=Dt("Wrong code. Try again.");break;case"auth/code-expired":u+="This code is no longer valid";break;case"auth/expired-action-code":u+="This code has expired.";break;case"auth/invalid-action-code":u+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(c=Dt(u).toString())return c;try{return JSON.parse(s.message),mr("Internal error: "+s.message,void 0),Wk().toString()}catch{return s.message}}function k8(s,c,u){var f=nd[c]&&be.auth[nd[c]]?new be.auth[nd[c]]:c.indexOf("saml.")==0?new be.auth.SAMLAuthProvider(c):new be.auth.OAuthProvider(c);if(!f)throw Error("Invalid Firebase Auth provider!");var p=_N(q(s),c);if(f.addScope)for(var g=0;g<p.length;g++)f.addScope(p[g]);return p=wN(q(s),c)||{},u&&(c==be.auth.GoogleAuthProvider.PROVIDER_ID?s="login_hint":c==be.auth.GithubAuthProvider.PROVIDER_ID?s="login":s=(s=np(q(s),c))&&s.Ob,s&&(p[s]=u)),f.setCustomParameters&&f.setCustomParameters(p),f}function pp(s,c,u,f){function p(){a8(new BR(s.h.tenantId||null),Me(s)),ze(s,c.I(Ie(s.dc,s),[j],function(){if((window.location&&window.location.protocol)==="file:")return ze(s,y2(s).then(function(Y){c.m(),or(ol,Me(s)),ye("callback",s,A,vn(Y))},g))},_))}function g(Y){if(or(ol,Me(s)),!Y.name||Y.name!="cancel")switch(Y=fp(Y),Y.code){case"auth/popup-blocked":p();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":c.a(jt(Y));break;case"auth/admin-restricted-operation":c.m(),al(q(s))?ye("handleUnauthorizedUser",s,A,null,u):ye("callback",s,A,zu(Y));break;default:c.m(),ye("callback",s,A,zu(Y))}}function _(Y){or(ol,Me(s)),Y.name&&Y.name=="cancel"||(mr("signInWithRedirect: "+Y.code,void 0),Y=jt(Y),c.Ga=="blank"&&II(q(s))?(c.m(),ye("providerSignIn",s,A,Y)):c.a(Y))}var A=cn(c),j=k8(s,u,f);EN(q(s))==Ky?p():ze(s,lq(s,j).then(function(Y){c.m(),ye("callback",s,A,vn(Y))},g))}function R8(s,c){ze(s,c.I(Ie(s.$b,s),[],function(u){return c.m(),Bs(s,c,u,!0)},function(u){u.name&&u.name=="cancel"||(mr("ContinueAsGuest: "+u.code,void 0),u=jt(u),c.a(u))}))}function N8(s,c,u){function f(g){var _=!1;return g=c.I(Ie(s.ac,s),[g],function(A){var j=cn(c);c.m(),ye("callback",s,j,vn(A)),_=!0},function(A){if((!A.name||A.name!="cancel")&&(!A||A.code!="auth/credential-already-in-use"))if(A&&A.code=="auth/email-already-in-use"&&A.email&&A.credential){var j=cn(c);c.m(),ye("callback",s,j,zu(A))}else A&&A.code=="auth/admin-restricted-operation"&&al(q(s))?(A=cn(c),c.m(),ye("handleUnauthorizedUser",s,A,null,be.auth.GoogleAuthProvider.PROVIDER_ID)):(A=jt(A),c.a(A))}),ze(s,g),g.then(function(){return _},function(){return!1})}if(u&&u.credential&&u.clientId===vN(q(s))){if(_N(q(s),be.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var p=JSON.parse(atob(u.credential.split(".")[1])).email}catch{}return pp(s,c,be.auth.GoogleAuthProvider.PROVIDER_ID,p),vn(!0)}return f(be.auth.GoogleAuthProvider.credential(u.credential))}return u&&c.a(Dt("The selected credential for the authentication provider is not supported!").toString()),vn(!1)}function F8(s,c){var u=c.j(),f=c.u();if(u)if(f){var p=be.auth.EmailAuthProvider.credential(u,f);ze(s,c.I(Ie(s.bc,s),[u,f],function(g){return Bs(s,c,{user:g.user,credential:p,operationType:g.operationType,additionalUserInfo:g.additionalUserInfo})},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/email-already-in-use":break;case"auth/email-exists":yn(c.l(),!1),ai(c.U(),jt(g));break;case"auth/too-many-requests":case"auth/wrong-password":yn(c.i(),!1),ai(c.B(),jt(g));break;default:mr("verifyPassword: "+g.message,void 0),c.a(jt(g))}}))}else c.i().focus();else c.l().focus()}function o_(s){return s=id(q(s)),s.length==1&&s[0]==be.auth.EmailAuthProvider.PROVIDER_ID}function i2(s){return s=id(q(s)),s.length==1&&s[0]==be.auth.PhoneAuthProvider.PROVIDER_ID}function Gt(s,c,u,f){o_(s)?f?ye("signIn",s,c,u,f):BI(s,c,u):s&&i2(s)&&!f?ye("phoneSignInStart",s,c):s&&II(q(s))&&!f?ye("federatedRedirect",s,c,u):ye("providerSignIn",s,c,f,u)}function r2(s,c,u,f){var p=cn(c);ze(s,c.I(Ie(lt(s).fetchSignInMethodsForEmail,lt(s)),[u],function(g){c.m(),o2(s,p,g,u,f)},function(g){g=jt(g),c.a(g)}))}function o2(s,c,u,f,p,g){u.length||rd(q(s))&&!rd(q(s))?pt(u,be.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ye("passwordSignIn",s,c,f,g):u.length==1&&u[0]===be.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?rd(q(s))?ye("sendEmailLinkForSignIn",s,c,f,function(){ye("signIn",s,c)}):ye("unsupportedProvider",s,c,f):(u=pN(u,id(q(s))))?(rN(new dI(f),Me(s)),ye("federatedSignIn",s,c,f,u,p)):ye("unsupportedProvider",s,c,f):yN(q(s))?ye("handleUnauthorizedUser",s,c,f,be.auth.EmailAuthProvider.PROVIDER_ID):rd(q(s))?ye("sendEmailLinkForSignIn",s,c,f,function(){ye("signIn",s,c)}):ye("passwordSignUp",s,c,f,void 0,void 0,g)}function UI(s,c,u,f,p,g){var _=cn(c);ze(s,c.I(Ie(s.Ib,s),[u,g],function(){c.m(),ye("emailLinkSignInSent",s,_,u,f,g)},p))}function BI(s,c,u){u?ye("prefilledEmailSignIn",s,c,u):ye("signIn",s,c)}function mp(){return ro(js(),"oobCode")}function $I(){var s=ro(js(),"continueUrl");return s?function(){Gu(window.location,s)}:null}function gp(s,c){z.call(this,gF,void 0,c,"anonymousUserMismatch"),this.i=s}l(gp,z),gp.prototype.v=function(){var s=this;fn(this,this.l(),function(){s.i()}),this.l().focus(),z.prototype.v.call(this)},gp.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(gp.prototype,{l:$n}),Pt.anonymousUserMismatch=function(s,c){var u=new gp(function(){u.m(),Gt(s,c)});u.render(c),et(s,u)};function s_(s){z.call(this,lF,void 0,s,"callback")}l(s_,z),s_.prototype.I=function(s,c,u,f){return s.apply(null,c).then(u,f)};function s2(s,c,u){if(u.user){var f={user:u.user,credential:u.credential,operationType:u.operationType,additionalUserInfo:u.additionalUserInfo},p=$o(Me(s)),g=p&&p.g;if(g&&!V8(u.user,g))L8(s,c,f);else{var _=p&&p.a;_?ze(s,u.user.linkWithCredential(_).then(function(A){f={user:A.user,credential:_,operationType:A.operationType,additionalUserInfo:A.additionalUserInfo},a2(s,c,f)},function(A){a_(s,c,A)})):a2(s,c,f)}}else u=cn(c),c.m(),Ho(Me(s)),Gt(s,u)}function a2(s,c,u){Ho(Me(s)),Bs(s,c,u)}function a_(s,c,u){var f=cn(c);Ho(Me(s)),u=jt(u),c.m(),Gt(s,f,void 0,u)}function c2(s,c,u,f){var p=cn(c);ze(s,lt(s).fetchSignInMethodsForEmail(u).then(function(g){c.m(),g.length?pt(g,be.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ye("passwordLinking",s,p,u):g.length==1&&g[0]===be.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ye("emailLinkSignInLinking",s,p,u):(g=pN(g,id(q(s))))?ye("federatedLinking",s,p,u,g,f):(Ho(Me(s)),ye("unsupportedProvider",s,p,u)):(Ho(Me(s)),ye("passwordRecovery",s,p,u,!1,Kk().toString()))},function(g){a_(s,c,g)}))}function L8(s,c,u){var f=cn(c);ze(s,ja(s).then(function(){c.m(),ye("emailMismatch",s,f,u)},function(p){p.name&&p.name=="cancel"||(p=jt(p.code),c.a(p))}))}function V8(s,c){if(c==s.email)return!0;if(s.providerData){for(var u=0;u<s.providerData.length;u++)if(c==s.providerData[u].email)return!0}return!1}Pt.callback=function(s,c,u){var f=new s_;f.render(c),et(s,f),u=u||y2(s),ze(s,u.then(function(p){s2(s,f,p)},function(p){if((p=fp(p))&&(p.code=="auth/account-exists-with-different-credential"||p.code=="auth/email-already-in-use")&&p.email&&p.credential)rN(new dI(p.email,p.credential),Me(s)),c2(s,f,p.email);else if(p&&p.code=="auth/user-cancelled"){var g=$o(Me(s)),_=jt(p);g&&g.a?c2(s,f,g.g,_):g?r2(s,f,g.g,_):a_(s,f,p)}else p&&p.code=="auth/credential-already-in-use"||(p&&p.code=="auth/operation-not-supported-in-this-environment"&&o_(s)?s2(s,f,{user:null,credential:null}):p&&p.code=="auth/admin-restricted-operation"&&al(q(s))?(f.m(),Ho(Me(s)),ye("handleUnauthorizedUser",s,c,null,null)):a_(s,f,p))}))};function vp(s,c){z.call(this,mF,void 0,c,"differentDeviceError"),this.i=s}l(vp,z),vp.prototype.v=function(){var s=this;fn(this,this.l(),function(){s.i()}),this.l().focus(),z.prototype.v.call(this)},vp.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(vp.prototype,{l:$n}),Pt.differentDeviceError=function(s,c){var u=new vp(function(){u.m(),Gt(s,c)});u.render(c),et(s,u)};function yp(s,c,u,f){z.call(this,TF,{email:s,G:!!u},f,"emailChangeRevoke"),this.l=c,this.i=u||null}l(yp,z),yp.prototype.v=function(){var s=this;fn(this,_t(this,"firebaseui-id-reset-password-link"),function(){s.l()}),this.i&&(this.w(this.i),this.u().focus()),z.prototype.v.call(this)},yp.prototype.o=function(){this.l=this.i=null,z.prototype.o.call(this)},Te(yp.prototype,{u:Qn,B:$n,w:ci});function _p(){return _t(this,"firebaseui-id-new-password")}function c_(){return _t(this,"firebaseui-id-password-toggle")}function j8(){this.Ra=!this.Ra;var s=c_.call(this),c=_p.call(this);this.Ra?(c.type="text",Go(s,"firebaseui-input-toggle-off"),zo(s,"firebaseui-input-toggle-on")):(c.type="password",Go(s,"firebaseui-input-toggle-on"),zo(s,"firebaseui-input-toggle-off")),c.focus()}function l_(){return _t(this,"firebaseui-id-new-password-error")}function l2(){this.Ra=!1;var s=_p.call(this);s.type="password";var c=l_.call(this);dd(this,s,function(){hd(c)&&(yn(s,!0),vr(c))});var u=c_.call(this);Go(u,"firebaseui-input-toggle-on"),zo(u,"firebaseui-input-toggle-off"),D8(this,s,function(){Go(u,"firebaseui-input-toggle-focus"),zo(u,"firebaseui-input-toggle-blur")}),x8(this,s,function(){Go(u,"firebaseui-input-toggle-blur"),zo(u,"firebaseui-input-toggle-focus")}),fn(this,u,Ie(j8,this))}function u2(){var s=_p.call(this),c=l_.call(this);return si(s)?(yn(s,!0),vr(c),c=!0):(yn(s,!1),ai(c,Dt("Enter your password").toString()),c=!1),c?si(s):null}function wp(s,c,u){z.call(this,EF,{email:s},u,"passwordReset"),this.l=c}l(wp,z),wp.prototype.v=function(){this.H(),this.B(this.l),md(this,this.i(),this.l),this.i().focus(),z.prototype.v.call(this)},wp.prototype.o=function(){this.l=null,z.prototype.o.call(this)},Te(wp.prototype,{i:_p,w:l_,M:c_,H:l2,u:u2,U:Qn,P:$n,B:ci});function bp(s,c,u,f,p){z.call(this,OF,{factorId:s,phoneNumber:u||null,G:!!f},p,"revertSecondFactorAdditionSuccess"),this.l=c,this.i=f||null}l(bp,z),bp.prototype.v=function(){var s=this;fn(this,_t(this,"firebaseui-id-reset-password-link"),function(){s.l()}),this.i&&(this.w(this.i),this.u().focus()),z.prototype.v.call(this)},bp.prototype.o=function(){this.l=this.i=null,z.prototype.o.call(this)},Te(bp.prototype,{u:Qn,B:$n,w:ci});function U8(s,c,u,f,p){var g=u.u();g&&ze(s,u.I(Ie(lt(s).confirmPasswordReset,lt(s)),[f,g],function(){u.m();var _=new JF(p);_.render(c),et(s,_)},function(_){d2(s,c,u,_)}))}function d2(s,c,u,f){(f&&f.code)=="auth/weak-password"?(s=jt(f),yn(u.i(),!1),ai(u.w(),s),u.i().focus()):(u&&u.m(),u=new XF,u.render(c),et(s,u))}function B8(s,c,u){var f=new yp(u,function(){ze(s,f.I(Ie(lt(s).sendPasswordResetEmail,lt(s)),[u],function(){f.m(),f=new i_(u,void 0,Mn(q(s)),Pn(q(s))),f.render(c),et(s,f)},function(){f.a(qk().toString())}))});f.render(c),et(s,f)}function $8(s,c,u,f){var p=new bp(f.factorId,function(){p.I(Ie(lt(s).sendPasswordResetEmail,lt(s)),[u],function(){p.m(),p=new i_(u,void 0,Mn(q(s)),Pn(q(s))),p.render(c),et(s,p)},function(){p.a(qk().toString())})},f.phoneNumber);p.render(c),et(s,p)}Pt.passwordReset=function(s,c,u,f){ze(s,lt(s).verifyPasswordResetCode(u).then(function(p){var g=new wp(p,function(){U8(s,c,g,u,f)});g.render(c),et(s,g)},function(){d2(s,c)}))},Pt.emailChangeRevocation=function(s,c,u){var f=null;ze(s,lt(s).checkActionCode(u).then(function(p){return f=p.data.email,lt(s).applyActionCode(u)}).then(function(){B8(s,c,f)},function(){var p=new ZF;p.render(c),et(s,p)}))},Pt.emailVerification=function(s,c,u,f){ze(s,lt(s).applyActionCode(u).then(function(){var p=new zF(f);p.render(c),et(s,p)},function(){var p=new qF;p.render(c),et(s,p)}))},Pt.revertSecondFactorAddition=function(s,c,u){var f=null,p=null;ze(s,lt(s).checkActionCode(u).then(function(g){return f=g.data.email,p=g.data.multiFactorInfo,lt(s).applyActionCode(u)}).then(function(){$8(s,c,f,p)},function(){var g=new YF;g.render(c),et(s,g)}))},Pt.verifyAndChangeEmail=function(s,c,u,f){var p=null;ze(s,lt(s).checkActionCode(u).then(function(g){return p=g.data.email,lt(s).applyActionCode(u)}).then(function(){var g=new WF(p,f);g.render(c),et(s,g)},function(){var g=new KF;g.render(c),et(s,g)}))};function u_(s,c){try{var u=typeof s.selectionStart=="number"}catch{u=!1}u?(s.selectionStart=c,s.selectionEnd=c):mn&&!Qc("9")&&(s.type=="textarea"&&(c=s.value.substring(0,c).replace(/(\r\n|\r|\n)/g,`
`).length),s=s.createTextRange(),s.collapse(!0),s.move("character",c),s.select())}function Cp(s,c,u,f,p,g){z.call(this,pF,{email:u},g,"emailLinkSignInConfirmation",{F:f,D:p}),this.l=s,this.u=c}l(Cp,z),Cp.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),u_(this.i(),(this.i().value||"").length),z.prototype.v.call(this)},Cp.prototype.o=function(){this.u=this.l=null,z.prototype.o.call(this)},Te(Cp.prototype,{i:Us,M:Va,w:vd,H:yd,j:_d,U:Qn,P:$n,B:ci}),Pt.emailLinkConfirmation=function(s,c,u,f,p,g){var _=new Cp(function(){var A=_.j();A?(_.m(),f(s,c,A,u)):_.i().focus()},function(){_.m(),Gt(s,c,p||void 0)},p||void 0,Mn(q(s)),Pn(q(s)));_.render(c),et(s,_),g&&_.a(g)};function Ep(s,c,u,f,p){z.call(this,_F,{ga:s},p,"emailLinkSignInLinkingDifferentDevice",{F:u,D:f}),this.i=c}l(Ep,z),Ep.prototype.v=function(){this.u(this.i),this.l().focus(),z.prototype.v.call(this)},Ep.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(Ep.prototype,{l:Qn,u:ci}),Pt.emailLinkNewDeviceLinking=function(s,c,u,f){var p=new Yc(u);if(u=p.a.a.get(jn.PROVIDER_ID)||null,Ek(p,null),u){var g=new Ep(np(q(s),u),function(){g.m(),f(s,c,p.toString())},Mn(q(s)),Pn(q(s)));g.render(c),et(s,g)}else Gt(s,c)};function d_(s){z.call(this,dF,void 0,s,"blank")}l(d_,z);function HI(s,c,u,f,p){var g=new d_,_=new Yc(u),A=_.a.a.get(jn.$a)||"",j=_.a.a.get(jn.Sa)||"",Y=_.a.a.get(jn.Qa)==="1",_e=Ck(_),Ft=_.a.a.get(jn.PROVIDER_ID)||null;_=_.a.a.get(jn.vb)||null,I2(s,_);var uo=!ed(Zu,Me(s)),A2=f||c8(j,Me(s)),Fp=(f=l8(j,Me(s)))&&f.a;Ft&&Fp&&Fp.providerId!==Ft&&(Fp=null),g.render(c),et(s,g),ze(s,g.I(function(){var Rr=vn(null);Rr=_e&&uo||uo&&Y?zu(Error("anonymous-user-not-found")):sq(s,u).then(function(eS){if(Ft&&!Fp)throw Error("pending-credential-not-found");return eS});var Lp=null;return Rr.then(function(eS){return Lp=eS,p?null:lt(s).checkActionCode(A)}).then(function(){return Lp})},[],function(Rr){A2?G8(s,g,A2,u,Fp,Rr):Y?(g.m(),ye("differentDeviceError",s,c)):(g.m(),ye("emailLinkConfirmation",s,c,u,h2))},function(Rr){var Lp=void 0;if(!Rr||!Rr.name||Rr.name!="cancel")switch(g.m(),Rr&&Rr.message){case"anonymous-user-not-found":ye("differentDeviceError",s,c);break;case"anonymous-user-mismatch":ye("anonymousUserMismatch",s,c);break;case"pending-credential-not-found":ye("emailLinkNewDeviceLinking",s,c,u,H8);break;default:Rr&&(Lp=jt(Rr)),Gt(s,c,void 0,Lp)}}))}function h2(s,c,u,f){HI(s,c,f,u,!0)}function H8(s,c,u){HI(s,c,u)}function G8(s,c,u,f,p,g){var _=cn(c);c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Dt("Signing in...").toString());var A=null;p=(g?aq(s,g,u,f,p):cq(s,u,f,p)).then(function(j){or(ep,Me(s)),or(Zu,Me(s)),c.h(),c.$("firebaseui-icon-done",Dt("Signed in!").toString()),A=setTimeout(function(){c.h(),Bs(s,c,j,!0)},1e3),ze(s,function(){c&&(c.h(),c.m()),clearTimeout(A)})},function(j){if(c.h(),c.m(),!j.name||j.name!="cancel"){j=fp(j);var Y=jt(j);j.code=="auth/email-already-in-use"||j.code=="auth/credential-already-in-use"?(or(ep,Me(s)),or(Zu,Me(s))):j.code=="auth/invalid-email"?(Y=Dt("The email provided does not match the current sign-in session.").toString(),ye("emailLinkConfirmation",s,_,f,h2,null,Y)):Gt(s,_,u,Y)}}),ze(s,p)}Pt.emailLinkSignInCallback=HI;function Ip(s,c,u,f,p,g){z.call(this,yF,{email:s,ga:c},g,"emailLinkSignInLinking",{F:f,D:p}),this.i=u}l(Ip,z),Ip.prototype.v=function(){this.u(this.i),this.l().focus(),z.prototype.v.call(this)},Ip.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(Ip.prototype,{l:Qn,u:ci});function z8(s,c,u,f){var p=cn(c);UI(s,c,u,function(){Gt(s,p,u)},function(g){if(!g.name||g.name!="cancel"){var _=jt(g);g&&g.code=="auth/network-request-failed"?c.a(_):(c.m(),Gt(s,p,u,_))}},f)}Pt.emailLinkSignInLinking=function(s,c,u){var f=$o(Me(s));if(Ho(Me(s)),f){var p=f.a.providerId,g=new Ip(u,np(q(s),p),function(){z8(s,g,u,f)},Mn(q(s)),Pn(q(s)));g.render(c),et(s,g)}else Gt(s,c)};function Sp(s,c,u,f,p,g){z.call(this,hF,{email:s},g,"emailLinkSignInSent",{F:f,D:p}),this.u=c,this.i=u}l(Sp,z),Sp.prototype.v=function(){var s=this;fn(this,this.l(),function(){s.i()}),fn(this,_t(this,"firebaseui-id-trouble-getting-email-link"),function(){s.u()}),this.l().focus(),z.prototype.v.call(this)},Sp.prototype.o=function(){this.i=this.u=null,z.prototype.o.call(this)},Te(Sp.prototype,{l:$n}),Pt.emailLinkSignInSent=function(s,c,u,f,p){var g=new Sp(u,function(){g.m(),ye("emailNotReceived",s,c,u,f,p)},function(){g.m(),f()},Mn(q(s)),Pn(q(s)));g.render(c),et(s,g)};function Tp(s,c,u,f,p,g,_){z.call(this,FF,{jc:s,Qb:c},_,"emailMismatch",{F:p,D:g}),this.l=u,this.i=f}l(Tp,z),Tp.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),z.prototype.v.call(this)},Tp.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(Tp.prototype,{u:Qn,B:$n,w:ci}),Pt.emailMismatch=function(s,c,u){var f=$o(Me(s));if(f){var p=new Tp(u.user.email,f.g,function(){var g=p;Ho(Me(s)),Bs(s,g,u)},function(){var g=u.credential.providerId,_=cn(p);p.m(),f.a?ye("federatedLinking",s,_,f.g,g):ye("federatedSignIn",s,_,f.g,g)},Mn(q(s)),Pn(q(s)));p.render(c),et(s,p)}else Gt(s,c)};function wd(s,c,u,f,p){z.call(this,fF,void 0,p,"emailNotReceived",{F:u,D:f}),this.l=s,this.i=c}l(wd,z),wd.prototype.v=function(){var s=this;fn(this,this.u(),function(){s.i()}),fn(this,this.Da(),function(){s.l()}),this.u().focus(),z.prototype.v.call(this)},wd.prototype.Da=function(){return _t(this,"firebaseui-id-resend-email-link")},wd.prototype.o=function(){this.i=this.l=null,z.prototype.o.call(this)},Te(wd.prototype,{u:$n}),Pt.emailNotReceived=function(s,c,u,f,p){var g=new wd(function(){UI(s,g,u,f,function(_){_=jt(_),g.a(_)},p)},function(){g.m(),Gt(s,c,u)},Mn(q(s)),Pn(q(s)));g.render(c),et(s,g)};function bd(s,c,u,f,p,g){z.call(this,wF,{email:s,ga:c},g,"federatedLinking",{F:f,D:p}),this.i=u}l(bd,z),bd.prototype.v=function(){this.u(this.i),this.l().focus(),z.prototype.v.call(this)},bd.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(bd.prototype,{l:Qn,u:ci}),Pt.federatedLinking=function(s,c,u,f,p){var g=$o(Me(s));if(g&&g.a){var _=new bd(u,np(q(s),f),function(){pp(s,_,f,u)},Mn(q(s)),Pn(q(s)));_.render(c),et(s,_),p&&_.a(p)}else Gt(s,c)},Pt.federatedRedirect=function(s,c,u){var f=new d_;f.render(c),et(s,f),c=id(q(s))[0],pp(s,f,c,u)},Pt.federatedSignIn=function(s,c,u,f,p){var g=new bd(u,np(q(s),f),function(){pp(s,g,f,u)},Mn(q(s)),Pn(q(s)));g.render(c),et(s,g),p&&g.a(p)};function q8(s,c,u,f){var p=c.u();p?ze(s,c.I(Ie(s.Xb,s),[u,p],function(g){return g=g.user.linkWithCredential(f).then(function(_){return Bs(s,c,{user:_.user,credential:f,operationType:_.operationType,additionalUserInfo:_.additionalUserInfo})}),ze(s,g),g},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/wrong-password":yn(c.i(),!1),ai(c.B(),jt(g));break;case"auth/too-many-requests":c.a(jt(g));break;default:mr("signInWithEmailAndPassword: "+g.message,void 0),c.a(jt(g))}})):c.i().focus()}Pt.passwordLinking=function(s,c,u){var f=$o(Me(s));Ho(Me(s));var p=f&&f.a;if(p){var g=new gd(u,function(){q8(s,g,u,p)},function(){g.m(),ye("passwordRecovery",s,c,u)},Mn(q(s)),Pn(q(s)));g.render(c),et(s,g)}else Gt(s,c)};function Dp(s,c,u,f,p,g){z.call(this,aF,{email:u,Ta:!!c},g,"passwordRecovery",{F:f,D:p}),this.l=s,this.u=c}l(Dp,z),Dp.prototype.v=function(){this.B(),this.H(this.l,this.u),si(this.i())||this.i().focus(),md(this,this.i(),this.l),z.prototype.v.call(this)},Dp.prototype.o=function(){this.u=this.l=null,z.prototype.o.call(this)},Te(Dp.prototype,{i:Us,w:Va,B:vd,M:yd,j:_d,U:Qn,P:$n,H:ci});function W8(s,c){var u=c.j();if(u){var f=cn(c);ze(s,c.I(Ie(lt(s).sendPasswordResetEmail,lt(s)),[u],function(){c.m();var p=new i_(u,function(){p.m(),Gt(s,f)},Mn(q(s)),Pn(q(s)));p.render(f),et(s,p)},function(p){yn(c.i(),!1),ai(c.w(),jt(p))}))}else c.i().focus()}Pt.passwordRecovery=function(s,c,u,f,p){var g=new Dp(function(){W8(s,g)},f?void 0:function(){g.m(),Gt(s,c)},u,Mn(q(s)),Pn(q(s)));g.render(c),et(s,g),p&&g.a(p)},Pt.passwordSignIn=function(s,c,u,f){var p=new hp(function(){F8(s,p)},function(){var g=p.M();p.m(),ye("passwordRecovery",s,c,g)},u,Mn(q(s)),Pn(q(s)),f);p.render(c),et(s,p)};function GI(){return _t(this,"firebaseui-id-name")}function zI(){return _t(this,"firebaseui-id-name-error")}function xp(s,c,u,f,p,g,_,A,j){z.call(this,sF,{email:f,Tb:s,name:p,Ta:!!u,ia:!!A},j,"passwordSignUp",{F:g,D:_}),this.w=c,this.H=u,this.B=s}l(xp,z),xp.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(dp(this,this.i(),this.u()),dp(this,this.u(),this.l())):dp(this,this.i(),this.l()),this.w&&md(this,this.l(),this.w),si(this.i())?this.B&&!si(this.u())?this.u().focus():this.l().focus():this.i().focus(),z.prototype.v.call(this)},xp.prototype.o=function(){this.H=this.w=null,z.prototype.o.call(this)},Te(xp.prototype,{i:Us,U:Va,ea:vd,jb:yd,j:_d,u:GI,Bc:zI,Ja:function(){var s=GI.call(this),c=zI.call(this);dd(this,s,function(){hd(c)&&(yn(s,!0),vr(c))})},M:function(){var s=GI.call(this),c=zI.call(this),u=si(s);return u=!/^[\s\xa0]*$/.test(u==null?"":String(u)),yn(s,u),u?(vr(c),c=!0):(ai(c,Dt("Enter your account name").toString()),c=!1),c?ri(si(s)):null},l:_p,ba:l_,lb:c_,ua:l2,P:u2,Nb:Qn,Mb:$n,pa:ci});function K8(s,c){var u=CN(q(s)),f=c.j(),p=null;u&&(p=c.M());var g=c.P();if(f){if(u)if(p)p=kr(p);else{c.u().focus();return}if(g){var _=be.auth.EmailAuthProvider.credential(f,g);ze(s,c.I(Ie(s.Yb,s),[f,g],function(A){var j={user:A.user,credential:_,operationType:A.operationType,additionalUserInfo:A.additionalUserInfo};return u?(A=A.user.updateProfile({displayName:p}).then(function(){return Bs(s,c,j)}),ze(s,A),A):Bs(s,c,j)},function(A){if(!A.name||A.name!="cancel"){var j=fp(A);switch(A=jt(j),j.code){case"auth/email-already-in-use":return Y8(s,c,f,j);case"auth/too-many-requests":A=Dt("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":yn(c.l(),!1),ai(c.ba(),A);break;case"auth/admin-restricted-operation":al(q(s))?(A=cn(c),c.m(),ye("handleUnauthorizedUser",s,A,f,be.auth.EmailAuthProvider.PROVIDER_ID)):c.a(A);break;default:j="setAccountInfo: "+XR(j),mr(j,void 0),c.a(A)}}}))}else c.l().focus()}else c.i().focus()}function Y8(s,c,u,f){function p(){var _=jt(f);yn(c.i(),!1),ai(c.U(),_),c.i().focus()}var g=lt(s).fetchSignInMethodsForEmail(u).then(function(_){_.length?p():(_=cn(c),c.m(),ye("passwordRecovery",s,_,u,!1,Kk().toString()))},function(){p()});return ze(s,g),g}Pt.passwordSignUp=function(s,c,u,f,p,g){function _(){A.m(),Gt(s,c)}var A=new xp(CN(q(s)),function(){K8(s,A)},p?void 0:_,u,f,Mn(q(s)),Pn(q(s)),g);A.render(c),et(s,A)};function qI(){return _t(this,"firebaseui-id-phone-confirmation-code")}function f2(){return _t(this,"firebaseui-id-phone-confirmation-code-error")}function p2(){return _t(this,"firebaseui-id-resend-countdown")}function Cd(s,c,u,f,p,g,_,A,j){z.call(this,jF,{phoneNumber:p},j,"phoneSignInFinish",{F:_,D:A}),this.jb=g,this.i=new Yy(1e3),this.B=g,this.P=s,this.l=c,this.H=u,this.M=f}l(Cd,z),Cd.prototype.v=function(){var s=this;this.U(this.jb),so(this.i,"tick",this.w,!1,this),this.i.start(),fn(this,_t(this,"firebaseui-id-change-phone-number-link"),function(){s.P()}),fn(this,this.Da(),function(){s.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),z.prototype.v.call(this)},Cd.prototype.o=function(){this.M=this.H=this.l=this.P=null,Qy(this.i),tl(this.i,"tick",this.w),this.i=null,z.prototype.o.call(this)},Cd.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(Qy(this.i),tl(this.i,"tick",this.w),this.ua(),this.lb())},Te(Cd.prototype,{u:qI,pa:f2,Ja:function(s){var c=qI.call(this),u=f2.call(this);dd(this,c,function(){hd(u)&&(yn(c,!0),vr(u))}),s&&up(this,c,function(){s()})},ba:function(){var s=ri(si(qI.call(this))||"");return/^\d{6}$/.test(s)?s:null},Fb:p2,U:function(s){RE(p2.call(this),Dt("Resend code in "+((9<s?"0:":"0:0")+s)).toString())},ua:function(){vr(this.Fb())},Da:function(){return _t(this,"firebaseui-id-resend-link")},lb:function(){ai(this.Da())},Nb:Qn,Mb:$n,ea:ci});function Q8(s,c,u,f){function p(_){c.u().focus(),yn(c.u(),!1),ai(c.pa(),_)}var g=c.ba();g?(c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Dt("Verifying...").toString()),ze(s,c.I(Ie(f.confirm,f),[g],function(_){c.h(),c.$("firebaseui-icon-done",Dt("Verified!").toString());var A=setTimeout(function(){c.h(),c.m();var j={user:co(s).currentUser,credential:null,operationType:_.operationType,additionalUserInfo:_.additionalUserInfo};Bs(s,c,j,!0)},1e3);ze(s,function(){c&&c.h(),clearTimeout(A)})},function(_){if(_.name&&_.name=="cancel")c.h();else{var A=fp(_);switch(_=jt(A),A.code){case"auth/credential-already-in-use":c.h();break;case"auth/code-expired":A=cn(c),c.h(),c.m(),ye("phoneSignInStart",s,A,u,_);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":c.h(),p(_);break;default:c.h(),c.a(_)}}}))):p(Dt("Wrong code. Try again.").toString())}Pt.phoneSignInFinish=function(s,c,u,f,p,g){var _=new Cd(function(){_.m(),ye("phoneSignInStart",s,c,u)},function(){Q8(s,_,u,p)},function(){_.m(),Gt(s,c)},function(){_.m(),ye("phoneSignInStart",s,c,u)},CI(u),f,Mn(q(s)),Pn(q(s)));_.render(c),et(s,_),g&&_.a(g)};var J8=!mn&&!(ct("Safari")&&!(Tk()||ct("Coast")||ct("Opera")||ct("Edge")||ct("Firefox")||ct("FxiOS")||ct("Silk")||ct("Android")));function h_(s,c){return/-[a-z]/.test(c)?null:J8&&s.dataset?!ct("Android")||Tk()||ct("Firefox")||ct("FxiOS")||ct("Opera")||ct("Silk")||c in s.dataset?(s=s.dataset[c],s===void 0?null:s):null:s.getAttribute("data-"+String(c).replace(/([A-Z])/g,"-$1").toLowerCase())}function X8(s,c,u){var f=this;s=Uf(XN,{items:s},null,this.s),eF.call(this,s,!0,!0),u&&(u=Z8(s,u))&&(u.focus(),T8(u,s)),fn(this,s,function(p){(p=(p=Bk(p.target,"firebaseui-id-list-box-dialog-button"))&&h_(p,"listboxid"))&&(e_.call(f),c(p))})}function Z8(s,c){s=(s||document).getElementsByTagName("BUTTON");for(var u=0;u<s.length;u++)if(h_(s[u],"listboxid")===c)return s[u];return null}function ll(){return _t(this,"firebaseui-id-phone-number")}function m2(){return _t(this,"firebaseui-id-country-selector")}function WI(){return _t(this,"firebaseui-id-phone-number-error")}function eq(s,c){var u=s.a,f=KI("1-US-0",u),p=null;if(c&&KI(c,u)?p=c:f?p="1-US-0":p=0<u.length?u[0].c:null,!p)throw Error("No available default country");f_.call(this,p,s)}function KI(s,c){return s=sl(s),!(!s||!pt(c,s))}function tq(s){return s.map(function(c){return{id:c.c,Ma:"firebaseui-flag "+YI(c),label:c.name+" "+("\u200E+"+c.b)}})}function YI(s){return"firebaseui-flag-"+s.f}function nq(s){var c=this;X8.call(this,tq(s.a),function(u){f_.call(c,u,s,!0),c.O().focus()},this.Ba)}function f_(s,c,u){var f=sl(s);f&&(u&&(u=ri(si(ll.call(this))||""),c=Gy(c,u),c.length&&c[0].b!=f.b&&(u="+"+f.b+u.substr(c[0].b.length+1),xN(ll.call(this),u))),c=sl(this.Ba),this.Ba=s,s=_t(this,"firebaseui-id-country-selector-flag"),c&&zo(s,YI(c)),Go(s,YI(f)),RE(_t(this,"firebaseui-id-country-selector-code"),"\u200E+"+f.b))}function Ap(s,c,u,f,p,g,_,A,j,Y){z.call(this,VF,{Gb:c,Aa:j||null,Va:!!u,ia:!!g},Y,"phoneSignInStart",{F:f,D:p}),this.H=A||null,this.M=c,this.l=s,this.w=u||null,this.pa=_||null}l(Ap,z),Ap.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||dp(this,this.O(),this.i()),md(this,this.i(),this.l),this.O().focus(),u_(this.O(),(this.O().value||"").length),z.prototype.v.call(this)},Ap.prototype.o=function(){this.w=this.l=null,z.prototype.o.call(this)},Te(Ap.prototype,{Cb:VI,O:ll,B:WI,ea:function(s,c,u){var f=this,p=ll.call(this),g=m2.call(this),_=WI.call(this),A=s||tp,j=A.a;if(j.length==0)throw Error("No available countries provided.");eq.call(f,A,c),fn(this,g,function(){nq.call(f,A)}),dd(this,p,function(){hd(_)&&(yn(p,!0),vr(_));var Y=ri(si(p)||""),_e=sl(this.Ba),Ft=Gy(A,Y);Y=KI("1-US-0",j),Ft.length&&Ft[0].b!=_e.b&&(_e=Ft[0],f_.call(f,_e.b=="1"&&Y?"1-US-0":_e.c,A))}),u&&up(this,p,function(){u()})},U:function(s){var c=ri(si(ll.call(this))||"");s=s||tp;var u=s.a,f=Gy(tp,c);if(f.length&&!pt(u,f[0]))throw xN(ll.call(this)),ll.call(this).focus(),ai(WI.call(this),Dt("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return u=sl(this.Ba),f.length&&f[0].b!=u.b&&f_.call(this,f[0].c,s),f.length&&(c=c.substr(f[0].b.length+1)),c?new hN(this.Ba,c):null},Ja:m2,ba:function(){return _t(this,"firebaseui-recaptcha-container")},u:function(){return _t(this,"firebaseui-id-recaptcha-error")},i:Qn,ua:$n,P:ci});function g2(s,c,u,f){try{var p=c.U(MI)}catch{return}p?rp?(c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Dt("Verifying...").toString()),ze(s,c.I(Ie(s.cc,s),[CI(p),u],function(g){var _=cn(c);c.$("firebaseui-icon-done",Dt("Code sent!").toString());var A=setTimeout(function(){c.h(),c.m(),ye("phoneSignInFinish",s,_,p,15,g)},1e3);ze(s,function(){c&&c.h(),clearTimeout(A)})},function(g){if(c.h(),!g.name||g.name!="cancel"){grecaptcha.reset(TN),rp=null;var _=g&&g.message||"";if(g.code)switch(g.code){case"auth/too-many-requests":_=Dt("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":c.O().focus(),ai(c.B(),VE().toString());return;case"auth/admin-restricted-operation":if(al(q(s))){g=cn(c),c.m(),ye("handleUnauthorizedUser",s,g,CI(p),be.auth.PhoneAuthProvider.PROVIDER_ID);return}_=jt(g);break;default:_=jt(g)}c.a(_)}}))):od?ai(c.u(),Dt("Solve the reCAPTCHA").toString()):!od&&f&&c.i().click():(c.O().focus(),ai(c.B(),VE().toString()))}Pt.phoneSignInStart=function(s,c,u,f){var p=h8(q(s))||{};rp=null,od=!(p&&p.size==="invisible");var g=i2(s),_=y8(q(s)),A=g?v8(q(s)):null;_=u&&u.a||_&&_.c||null,u=u&&u.Aa||A,(A=EI(q(s)))&&dN(A),MI=A?new cN(EI(q(s))):tp;var j=new Ap(function(_e){g2(s,j,Y,!(!_e||!_e.keyCode))},od,g?null:function(){Y.clear(),j.m(),Gt(s,c)},Mn(q(s)),Pn(q(s)),g,MI,_,u);j.render(c),et(s,j),f&&j.a(f),p.callback=function(_e){j.u()&&vr(j.u()),rp=_e,od||g2(s,j,Y)},p["expired-callback"]=function(){rp=null};var Y=new be.auth.RecaptchaVerifier(od?j.ba():j.i(),p,co(s).app);ze(s,j.I(Ie(Y.render,Y),[],function(_e){TN=_e},function(_e){_e.name&&_e.name=="cancel"||(_e=jt(_e),j.m(),Gt(s,c,void 0,_e))}))},Pt.prefilledEmailSignIn=function(s,c,u){var f=new d_;f.render(c),et(s,f),ze(s,f.I(Ie(lt(s).fetchSignInMethodsForEmail,lt(s)),[u],function(p){f.m();var g=!(!o_(s)||!_2(s));o2(s,c,p,u,void 0,g)},function(p){p=jt(p),f.m(),ye("signIn",s,c,u,p)}))};function Mp(s,c,u,f,p){z.call(this,LF,{Sb:c},p,"providerSignIn",{F:u,D:f}),this.i=s}l(Mp,z),Mp.prototype.v=function(){this.l(this.i),z.prototype.v.call(this)},Mp.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(Mp.prototype,{l:function(s){function c(_){s(_)}for(var u=this.g?OE("firebaseui-id-idp-button",this.g||this.s.a):[],f=0;f<u.length;f++){var p=u[f],g=h_(p,"providerId");fn(this,p,$e(c,g))}}}),Pt.providerSignIn=function(s,c,u,f){var p=new Mp(function(g){g==be.auth.EmailAuthProvider.PROVIDER_ID?(p.m(),BI(s,c,f)):g==be.auth.PhoneAuthProvider.PROVIDER_ID?(p.m(),ye("phoneSignInStart",s,c)):g=="anonymous"?R8(s,p):pp(s,p,g,f),wt(s),s.l.cancel()},gN(q(s)),Mn(q(s)),Pn(q(s)));p.render(c),et(s,p),u&&p.a(u),oq(s)},Pt.sendEmailLinkForSignIn=function(s,c,u,f){var p=new s_;p.render(c),et(s,p),UI(s,p,u,f,function(g){p.m(),g&&g.code=="auth/admin-restricted-operation"&&al(q(s))?ye("handleUnauthorizedUser",s,c,u,be.auth.EmailAuthProvider.PROVIDER_ID):(g=jt(g),ye("signIn",s,c,u,g))})};function Pp(s,c,u,f,p,g,_){z.call(this,rF,{email:u,Va:!!c,ia:!!g},_,"signIn",{F:f,D:p}),this.i=s,this.u=c}l(Pp,z),Pp.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),u_(this.l(),(this.l().value||"").length),z.prototype.v.call(this)},Pp.prototype.o=function(){this.u=this.i=null,z.prototype.o.call(this)},Te(Pp.prototype,{l:Us,M:Va,w:vd,H:yd,j:_d,U:Qn,P:$n,B:ci}),Pt.signIn=function(s,c,u,f){var p=o_(s),g=new Pp(function(){var _=g,A=_.j()||"";A&&r2(s,_,A)},p?null:function(){g.m(),Gt(s,c,u)},u,Mn(q(s)),Pn(q(s)),p);g.render(c),et(s,g),f&&g.a(f)};function Op(s,c,u,f,p,g,_){z.call(this,bF,{kc:s,yb:u,Eb:!!f},_,"unauthorizedUser",{F:p,D:g}),this.l=c,this.i=f}l(Op,z),Op.prototype.v=function(){var s=this,c=_t(this,"firebaseui-id-unauthorized-user-help-link");this.i&&c&&fn(this,c,function(){s.i()}),fn(this,this.u(),function(){s.l()}),this.u().focus(),z.prototype.v.call(this)},Op.prototype.o=function(){this.i=this.l=null,z.prototype.o.call(this)},Te(Op.prototype,{u:$n}),Pt.handleUnauthorizedUser=function(s,c,u,f){function p(){Gt(s,c)}f===be.auth.EmailAuthProvider.PROVIDER_ID?p=function(){BI(s,c)}:f===be.auth.PhoneAuthProvider.PROVIDER_ID&&(p=function(){ye("phoneSignInStart",s,c)});var g=null,_=null;f===be.auth.EmailAuthProvider.PROVIDER_ID&&yN(q(s))?(g=m8(q(s)),_=g8(q(s))):al(q(s))&&(g=f8(q(s)),_=p8(q(s)));var A=new Op(u,function(){A.m(),p()},g,_,Mn(q(s)),Pn(q(s)));A.render(c),et(s,A)};function kp(s,c,u,f,p,g){z.call(this,CF,{email:s},g,"unsupportedProvider",{F:f,D:p}),this.l=c,this.i=u}l(kp,z),kp.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),z.prototype.v.call(this)},kp.prototype.o=function(){this.i=this.l=null,z.prototype.o.call(this)},Te(kp.prototype,{u:Qn,B:$n,w:ci}),Pt.unsupportedProvider=function(s,c,u){var f=new kp(u,function(){f.m(),ye("passwordRecovery",s,c,u)},function(){f.m(),Gt(s,c,u)},Mn(q(s)),Pn(q(s)));f.render(c),et(s,f)};function qo(s,c){this.$=!1;var u=QI(c);if(Rp[u])throw Error('An AuthUI instance already exists for the key "'+u+'"');Rp[u]=this,this.a=s,this.u=null,this.Y=!1,v2(this.a),this.h=be.initializeApp({apiKey:s.app.options.apiKey,authDomain:s.app.options.authDomain},s.app.name+"-firebaseui-temp").auth(),(s=s.emulatorConfig)&&(u=s.port,this.h.useEmulator(s.protocol+"://"+s.host+(u===null?"":":"+u),s.options)),v2(this.h),this.h.setPersistence&&this.h.setPersistence(be.auth.Auth.Persistence.SESSION),this.oa=c,this.ca=new d8,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=tI.Xa(),this.j=this.C=null,this.da=this.A=!1}function v2(s){s&&s.INTERNAL&&s.INTERNAL.logFramework&&s.INTERNAL.logFramework("FirebaseUI-web")}var Rp={};function QI(s){return s||"[DEFAULT]"}function y2(s){return wt(s),s.i||(s.i=$s(s,function(c){return c&&!$o(Me(s))?vn(co(s).getRedirectResult().then(function(u){return u},function(u){if(u&&u.code=="auth/email-already-in-use"&&u.email&&u.credential)throw u;return Ua(s,u)})):vn(lt(s).getRedirectResult().then(function(u){return zy(q(s))&&!u.user&&s.j&&!s.j.isAnonymous?co(s).getRedirectResult():u}))})),s.i}function et(s,c){wt(s),s.g=c}var Ed=null;function lt(s){return wt(s),s.h}function co(s){return wt(s),s.a}function Me(s){return wt(s),s.oa}function _2(s){return wt(s),s.O?s.O.emailHint:void 0}t=qo.prototype,t.nb=function(){return wt(this),!!vI(Me(this))||w2(js())};function w2(s){return s=new Yc(s),(s.a.a.get(jn.ub)||null)==="signIn"&&!!s.a.a.get(jn.$a)}t.start=function(s,c){b2(this,s,c)};function b2(s,c,u,f){wt(s),typeof s.a.languageCode<"u"&&(s.u=s.a.languageCode);var p="en".replace(/_/g,"-");s.a.languageCode=p,s.h.languageCode=p,s.Y=!0,typeof s.a.tenantId<"u"&&(s.h.tenantId=s.a.tenantId),s.ib(u),s.O=f||null;var g=v.document;s.C?s.C.then(function(){g.readyState=="complete"?p_(s,c):zf(window,"load",function(){p_(s,c)})}):g.readyState=="complete"?p_(s,c):zf(window,"load",function(){p_(s,c)})}function p_(s,c){var u=Ey(c,"Could not find the FirebaseUI widget element on the page.");if(u.setAttribute("lang","en".replace(/_/g,"-")),Ed){var f=Ed;wt(f),$o(Me(f))&&Fa("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),Ed.reset()}if(Ed=s,s.T=u,rq(s,u),Hy(new fI)&&Hy(new pI)){c=Ey(c,"Could not find the FirebaseUI widget element on the page."),u=js(),f=wI(q(s).a,"queryParameterForSignInSuccessUrl"),u=(u=ro(u,f))?Aa(ly(u)).toString():null;e:{f=js();var p=bN(q(s));f=ro(f,p)||"";for(g in AI)if(AI[g].toLowerCase()==f.toLowerCase()){var g=AI[g];break e}g="callback"}switch(g){case"callback":u&&(g=Me(s),td(Zf,u,g)),s.nb()?ye("callback",s,c):Gt(s,c,_2(s));break;case"resetPassword":ye("passwordReset",s,c,mp(),$I());break;case"recoverEmail":ye("emailChangeRevocation",s,c,mp());break;case"revertSecondFactorAddition":ye("revertSecondFactorAddition",s,c,mp());break;case"verifyEmail":ye("emailVerification",s,c,mp(),$I());break;case"verifyAndChangeEmail":ye("verifyAndChangeEmail",s,c,mp(),$I());break;case"signIn":ye("emailLinkSignInCallback",s,c,js()),S2();break;case"select":u&&(g=Me(s),td(Zf,u,g)),Gt(s,c);break;default:throw Error("Unhandled widget operation.")}c=q(s),(c=ip(c).uiShown||null)&&c()}else c=Ey(c,"Could not find the FirebaseUI widget element on the page."),g=new t2(Dt("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),g.render(c),et(s,g);c=s.g&&s.g.Ga=="blank"&&II(q(s)),vI(Me(s))&&!c&&(c=vI(Me(s)),I2(s,c.a),or(ol,Me(s)))}function $s(s,c){if(s.A)return c(C2(s));if(ze(s,function(){s.A=!1}),zy(q(s))){var u=new Bn(function(f){ze(s,s.a.onAuthStateChanged(function(p){s.j=p,s.A||(s.A=!0,f(c(C2(s))))}))});return ze(s,u),u}return s.A=!0,c(null)}function C2(s){return wt(s),zy(q(s))&&s.j&&s.j.isAnonymous?s.j:null}function ze(s,c){if(wt(s),c){s.s.push(c);var u=function(){Or(s.s,function(f){return f==c})};typeof c!="function"&&c.then(u,u)}}t.Db=function(){wt(this),this.Z=!0};function iq(s){wt(s);var c;return(c=s.Z)||(s=q(s),s=wN(s,be.auth.GoogleAuthProvider.PROVIDER_ID),c=!(!s||s.prompt!=="select_account")),c}function E2(s){typeof s.a.languageCode<"u"&&s.Y&&(s.Y=!1,s.a.languageCode=s.u)}function I2(s,c){s.a.tenantId=c,s.h.tenantId=c}t.reset=function(){wt(this);var s=this;this.T&&this.T.removeAttribute("lang"),this.J&&Lz(this.J),E2(this),this.O=null,S2(),or(ol,Me(this)),wt(this),this.l.cancel(),this.i=vn({user:null,credential:null}),Ed==this&&(Ed=null),this.T=null;for(var c=0;c<this.s.length;c++)typeof this.s[c]=="function"?this.s[c]():this.s[c].cancel&&this.s[c].cancel();this.s=[],Ho(Me(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=ja(this).then(function(){s.C=null},function(){s.C=null}))};function rq(s,c){s.L=null,s.J=new by(c),s.J.register(),so(s.J,"pageEnter",function(u){if(u=u&&u.pageId,s.L!=u){var f=q(s);(f=ip(f).uiChanged||null)&&f(s.L,u),s.L=u}})}t.ib=function(s){wt(this);var c=this.ca,u;for(u in s)try{_I(c.a,u,s[u])}catch{mr('Invalid config: "'+u+'"',void 0)}oz&&_I(c.a,"popupMode",!1),EI(c),!this.da&&SI(q(this))&&(Fa("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function q(s){return wt(s),s.ca}t.Wb=function(){wt(this);var s=q(this),c=wI(s.a,"widgetUrl");s=bN(s);for(var u=c.search(Hi),f=0,p,g=[];0<=(p=oi(c,f,s,u));)g.push(c.substring(f,p)),f=Math.min(c.indexOf("&",p)+1||u,u);g.push(c.substr(f)),c=g.join("").replace(ay,"$1"),u="="+encodeURIComponent("select"),(s+=u)?(u=c.indexOf("#"),0>u&&(u=c.length),f=c.indexOf("?"),0>f||f>u?(f=u,p=""):p=c.substring(f+1,u),c=[c.substr(0,f),p,c.substr(u)],u=c[1],c[1]=s?u?u+"&"+s:s:u,u=c[0]+(c[1]?"?"+c[1]:"")+c[2]):u=c,q(this).a.get("popupMode")?(s=(window.screen.availHeight-600)/2,c=(window.screen.availWidth-500)/2,u=u||"about:blank",s={width:500,height:600,top:0<s?s:0,left:0<c?c:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},s.target=s.target||u.target||"google_popup",s.width=s.width||690,s.height=s.height||500,(s=CR(u,s))&&s.focus()):Gu(window.location,u)};function wt(s){if(s.$)throw Error("AuthUI instance is deleted!")}t.Wa=function(){var s=this;return wt(this),this.h.app.delete().then(function(){var c=QI(Me(s));delete Rp[c],s.reset(),s.$=!0})};function oq(s){wt(s);try{xR(s.l,vN(q(s)),iq(s)).then(function(c){return s.g?N8(s,s.g,c):!1})}catch{}}t.Ib=function(s,c){wt(this);var u=this,f=Gz();if(!rd(q(this)))return zu(Error("Email link sign-in should be enabled to trigger email sending."));var p=w8(q(this)),g=new Yc(p.url);return tz(g,f),c&&c.a&&(u8(f,c,Me(this)),Ek(g,c.a.providerId)),nz(g,_8(q(this))),$s(this,function(_){return _&&((_=_.uid)?g.a.a.set(jn.Pa,_):Kc(g.a.a,jn.Pa)),p.url=g.toString(),lt(u).sendSignInLinkToEmail(s,p)}).then(function(){var _=Me(u),A={};A.email=s,td(Zu,YR(f,JSON.stringify(A)),_)},function(_){throw or(ep,Me(u)),or(Zu,Me(u)),_})};function sq(s,c){var u=Ck(new Yc(c));return u?(c=new Bn(function(f,p){var g=co(s).onAuthStateChanged(function(_){g(),_&&_.isAnonymous&&_.uid===u?f(_):_&&_.isAnonymous&&_.uid!==u?p(Error("anonymous-user-mismatch")):p(Error("anonymous-user-not-found"))});ze(s,g)}),ze(s,c),c):vn(null)}function aq(s,c,u,f,p){wt(s);var g=p||null,_=be.auth.EmailAuthProvider.credentialWithLink(u,f);return u=g?lt(s).signInWithEmailLink(u,f).then(function(A){return A.user.linkWithCredential(g)}).then(function(){return ja(s)}).then(function(){return Ua(s,{code:"auth/email-already-in-use"},g)}):lt(s).fetchSignInMethodsForEmail(u).then(function(A){return A.length?Ua(s,{code:"auth/email-already-in-use"},_):c.linkWithCredential(_)}),ze(s,u),u}function cq(s,c,u,f){wt(s);var p=f||null,g;return c=lt(s).signInWithEmailLink(c,u).then(function(_){if(g={user:_.user,credential:null,operationType:_.operationType,additionalUserInfo:_.additionalUserInfo},p)return _.user.linkWithCredential(p).then(function(A){g={user:A.user,credential:p,operationType:g.operationType,additionalUserInfo:A.additionalUserInfo}})}).then(function(){ja(s)}).then(function(){return co(s).updateCurrentUser(g.user)}).then(function(){return g.user=co(s).currentUser,g}),ze(s,c),c}function S2(){var s=js();if(w2(s)){s=new Yc(s);for(var c in jn)jn.hasOwnProperty(c)&&Kc(s.a.a,jn[c]);c={state:"signIn",mode:"emailLink",operation:"clear"};var u=v.document.title;v.history&&v.history.replaceState&&v.history.replaceState(c,u,s.toString())}}t.bc=function(s,c){wt(this);var u=this;return lt(this).signInWithEmailAndPassword(s,c).then(function(f){return $s(u,function(p){return p?ja(u).then(function(){return Ua(u,{code:"auth/email-already-in-use"},be.auth.EmailAuthProvider.credential(s,c))}):f})})},t.Yb=function(s,c){wt(this);var u=this;return $s(this,function(f){if(f){var p=be.auth.EmailAuthProvider.credential(s,c);return f.linkWithCredential(p)}return lt(u).createUserWithEmailAndPassword(s,c)})},t.ac=function(s){wt(this);var c=this;return $s(this,function(u){return u?u.linkWithCredential(s).then(function(f){return f},function(f){if(f&&f.code=="auth/email-already-in-use"&&f.email&&f.credential)throw f;return Ua(c,f,s)}):lt(c).signInWithCredential(s)})};function lq(s,c){return wt(s),$s(s,function(u){return u&&!$o(Me(s))?u.linkWithPopup(c).then(function(f){return f},function(f){if(f&&f.code=="auth/email-already-in-use"&&f.email&&f.credential)throw f;return Ua(s,f)}):lt(s).signInWithPopup(c)})}t.dc=function(s){wt(this);var c=this,u=this.i;return this.i=null,$s(this,function(f){return f&&!$o(Me(c))?f.linkWithRedirect(s):lt(c).signInWithRedirect(s)}).then(function(){},function(f){throw c.i=u,f})},t.cc=function(s,c){wt(this);var u=this;return $s(this,function(f){return f?f.linkWithPhoneNumber(s,c).then(function(p){return new iI(p,function(g){if(g.code=="auth/credential-already-in-use")return Ua(u,g);throw g})}):co(u).signInWithPhoneNumber(s,c).then(function(p){return new iI(p)})})},t.$b=function(){return wt(this),co(this).signInAnonymously()};function uq(s,c){return wt(s),$s(s,function(u){if(s.j&&!s.j.isAnonymous&&zy(q(s))&&!lt(s).currentUser)return ja(s).then(function(){return c.credential.providerId=="password"&&(c.credential=null),c});if(u)return ja(s).then(function(){return u.linkWithCredential(c.credential)}).then(function(f){return c.user=f.user,c.credential=f.credential,c.operationType=f.operationType,c.additionalUserInfo=f.additionalUserInfo,c},function(f){if(f&&f.code=="auth/email-already-in-use"&&f.email&&f.credential)throw f;return Ua(s,f,c.credential)});if(!c.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return ja(s).then(function(){return co(s).updateCurrentUser(c.user)}).then(function(){return c.user=co(s).currentUser,c.operationType="signIn",c.credential&&c.credential.providerId&&c.credential.providerId=="password"&&(c.credential=null),c})})}t.Xb=function(s,c){return wt(this),lt(this).signInWithEmailAndPassword(s,c)};function ja(s){return wt(s),lt(s).signOut()}function Ua(s,c,u){if(wt(s),c&&c.code&&(c.code=="auth/email-already-in-use"||c.code=="auth/credential-already-in-use")){var f=SN(q(s));return vn().then(function(){return f(new Bf("anonymous-upgrade-merge-conflict",null,u||c.credential))}).then(function(){throw s.g&&(s.g.m(),s.g=null),c})}return zu(c)}function Np(s,c,u,f){z.call(this,$F,void 0,f,"providerMatchByEmail",{F:c,D:u}),this.i=s}l(Np,z),Np.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),u_(this.l(),(this.l().value||"").length),z.prototype.v.call(this)},Np.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(Np.prototype,{l:Us,H:Va,u:vd,B:yd,j:_d,M:Qn,w:ci});function m_(s,c,u,f,p){z.call(this,BF,{ec:c},p,"selectTenant",{F:u,D:f}),this.i=s}l(m_,z),m_.prototype.v=function(){dq(this,this.i),z.prototype.v.call(this)},m_.prototype.o=function(){this.i=null,z.prototype.o.call(this)};function dq(s,c){function u(A){c(A)}for(var f=s.g?OE("firebaseui-id-tenant-selection-button",s.g||s.s.a):[],p=0;p<f.length;p++){var g=f[p],_=h_(g,"tenantId");fn(s,g,$e(u,_))}}function JI(s){z.call(this,uF,void 0,s,"spinner")}l(JI,z);function hq(s){this.a=new yI,An(this.a,"authDomain"),An(this.a,"displayMode",v_),An(this.a,"tenants"),An(this.a,"callbacks"),An(this.a,"tosUrl"),An(this.a,"privacyPolicyUrl");for(var c in s)if(s.hasOwnProperty(c))try{_I(this.a,c,s[c])}catch{mr('Invalid config: "'+c+'"',void 0)}}function fq(s){s=s.a.get("displayMode");for(var c in ZI)if(ZI[c]===s)return ZI[c];return v_}function g_(s){return s.a.get("callbacks")||{}}function T2(s){var c=s.a.get("tosUrl")||null;if(s=s.a.get("privacyPolicyUrl")||null,c&&!s&&Fa("Privacy Policy URL is missing, the link will not be displayed."),c&&s){if(typeof c=="function")return c;if(typeof c=="string")return function(){Wu(c)}}return null}function D2(s){var c=s.a.get("tosUrl")||null,u=s.a.get("privacyPolicyUrl")||null;if(u&&!c&&Fa("Terms of Service URL is missing, the link will not be displayed."),c&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){Wu(u)}}return null}function XI(s,c){if(s=s.a.get("tenants"),!s||!s.hasOwnProperty(c)&&!s.hasOwnProperty(y_))throw Error("Invalid tenant configuration!")}function x2(s,c,u){if(s=s.a.get("tenants"),!s)throw Error("Invalid tenant configuration!");var f=[];if(s=s[c]||s[y_],!s)return mr("Invalid tenant configuration: "+(c+" is not configured!"),void 0),f;if(c=s.signInOptions,!c)throw Error("Invalid tenant configuration: signInOptions are invalid!");return c.forEach(function(p){if(typeof p=="string")f.push(p);else if(typeof p.provider=="string"){var g=p.hd;g&&u?(g instanceof RegExp?g:new RegExp("@"+g.replace(".","\\.")+"$")).test(u)&&f.push(p.provider):f.push(p.provider)}else p="Invalid tenant configuration: signInOption "+(JSON.stringify(p)+" is invalid!"),mr(p,void 0)}),f}function pq(s,c,u){return s=mq(s,c),(c=s.signInOptions)&&u&&(c=c.filter(function(f){return typeof f=="string"?u.includes(f):u.includes(f.provider)}),s.signInOptions=c),s}function mq(s,c){var u=gq,f=f===void 0?{}:f;return XI(s,c),s=s.a.get("tenants"),zz(s[c]||s[y_],u,f)}var gq=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],v_="optionFirst",ZI={pc:v_,oc:"identifierFirst"},y_="*";function lo(s,c){var u=this;this.s=Ey(s),this.a={},Object.keys(c).forEach(function(f){u.a[f]=new hq(c[f])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(f){this.ob=f||null},enumerable:!1})}t=lo.prototype,t.Ub=function(s,c){var u=this;Ba(this);var f=s.apiKey;return new Bn(function(p,g){if(u.a.hasOwnProperty(f)){var _=g_(u.a[f]).selectTenantUiHidden||null;if(fq(u.a[f])===v_){var A=[];c.forEach(function(_e){_e=_e||"_";var Ft=u.a[f].a.get("tenants");if(!Ft)throw Error("Invalid tenant configuration!");(Ft=Ft[_e]||Ft[y_])?_e={tenantId:_e!=="_"?_e:null,V:Ft.fullLabel||null,displayName:Ft.displayName,za:Ft.iconUrl,ta:Ft.buttonColor}:(mr("Invalid tenant configuration: "+(_e+" is not configured!"),void 0),_e=null),_e&&A.push(_e)});var j=function(_e){_e={tenantId:_e,providerIds:x2(u.a[f],_e||"_")},p(_e)};if(A.length===1){j(A[0].tenantId);return}u.g=new m_(function(_e){Ba(u),_&&_(),j(_e)},A,T2(u.a[f]),D2(u.a[f]))}else u.g=new Np(function(){var _e=u.g.j();if(_e){for(var Ft=0;Ft<c.length;Ft++){var uo=x2(u.a[f],c[Ft]||"_",_e);if(uo.length!==0){_e={tenantId:c[Ft],providerIds:uo,email:_e},Ba(u),_&&_(),p(_e);return}}u.g.a(Yk({code:"no-matching-tenant-for-email"}).toString())}},T2(u.a[f]),D2(u.a[f]));u.g.render(u.s),(g=g_(u.a[f]).selectTenantUiShown||null)&&g()}else{var Y=Error("Invalid project configuration: API key is invalid!");Y.code="invalid-configuration",u.pb(Y),g(Y)}})},t.Pb=function(s,c){if(!this.a.hasOwnProperty(s))throw Error("Invalid project configuration: API key is invalid!");var u=c||void 0;XI(this.a[s],c||"_");try{this.i=be.app(u).auth()}catch{var f=this.a[s].a.get("authDomain");if(!f)throw Error("Invalid project configuration: authDomain is required!");s=be.initializeApp({apiKey:s,authDomain:f},u),s.auth().tenantId=c,this.i=s.auth()}return this.i},t.Zb=function(s,c){var u=this;return new Bn(function(f,p){function g(Ft,uo){u.j=new qo(s),b2(u.j,u.s,Ft,uo)}var _=s.app.options.apiKey;u.a.hasOwnProperty(_)||p(Error("Invalid project configuration: API key is invalid!"));var A=pq(u.a[_],s.tenantId||"_",c&&c.providerIds);Ba(u),p={signInSuccessWithAuthResult:function(Ft){return f(Ft),!1}};var j=g_(u.a[_]).signInUiShown||null,Y=!1;p.uiChanged=function(Ft,uo){Ft===null&&uo==="callback"?((Ft=kE("firebaseui-id-page-callback",u.s))&&vr(Ft),u.h=new JI,u.h.render(u.s)):Y||Ft===null&&uo==="spinner"||uo==="blank"||(u.h&&(u.h.m(),u.h=null),Y=!0,j&&j(s.tenantId))},A.callbacks=p,A.credentialHelper="none";var _e;c&&c.email&&(_e={emailHint:c.email}),u.j?u.j.Wa().then(function(){g(A,_e)}):g(A,_e)})},t.reset=function(){var s=this;return vn().then(function(){s.j&&s.j.Wa()}).then(function(){s.j=null,Ba(s)})},t.Vb=function(){var s=this;this.h||this.A||(this.A=window.setTimeout(function(){Ba(s),s.h=new JI,s.g=s.h,s.h.render(s.s),s.A=null},500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},t.Bb=function(){return Ba(this),this.g=new QF,this.g.render(this.s),vn()};function Ba(s){s.j&&s.j.reset(),s.mb(),s.g&&s.g.m()}t.pb=function(s){var c=this,u=Yk({code:s.code}).toString()||s.message;Ba(this);var f;s.retry&&typeof s.retry=="function"&&(f=function(){c.reset(),s.retry()}),this.g=new e2(u,f),this.g.render(this.s)},t.Rb=function(s){var c=this;return vn().then(function(){var u=c.i&&c.i.app.options.apiKey;if(!c.a.hasOwnProperty(u))throw Error("Invalid project configuration: API key is invalid!");if(XI(c.a[u],s.tenantId||"_"),!c.i.currentUser||c.i.currentUser.uid!==s.uid)throw Error("The user being processed does not match the signed in user!");return(u=g_(c.a[u]).beforeSignInSuccess||null)?u(s):s}).then(function(u){if(u.uid!==s.uid)throw Error("User with mismatching UID returned.");return u})},Qe("firebaseui.auth.FirebaseUiHandler",lo),Qe("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",lo.prototype.Ub),Qe("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",lo.prototype.Pb),Qe("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",lo.prototype.Zb),Qe("firebaseui.auth.FirebaseUiHandler.prototype.reset",lo.prototype.reset),Qe("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",lo.prototype.Vb),Qe("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",lo.prototype.mb),Qe("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",lo.prototype.Bb),Qe("firebaseui.auth.FirebaseUiHandler.prototype.handleError",lo.prototype.pb),Qe("firebaseui.auth.FirebaseUiHandler.prototype.processUser",lo.prototype.Rb),Qe("firebaseui.auth.AuthUI",qo),Qe("firebaseui.auth.AuthUI.getInstance",function(s){return s=QI(s),Rp[s]?Rp[s]:null}),Qe("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",qo.prototype.Db),Qe("firebaseui.auth.AuthUI.prototype.start",qo.prototype.start),Qe("firebaseui.auth.AuthUI.prototype.setConfig",qo.prototype.ib),Qe("firebaseui.auth.AuthUI.prototype.signIn",qo.prototype.Wb),Qe("firebaseui.auth.AuthUI.prototype.reset",qo.prototype.reset),Qe("firebaseui.auth.AuthUI.prototype.delete",qo.prototype.Wa),Qe("firebaseui.auth.AuthUI.prototype.isPendingRedirect",qo.prototype.nb),Qe("firebaseui.auth.AuthUIError",Bf),Qe("firebaseui.auth.AuthUIError.prototype.toJSON",Bf.prototype.toJSON),Qe("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",TI),Qe("firebaseui.auth.CredentialHelper.NONE",Wy),Qe("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Bn.prototype.catch=Bn.prototype.Ca,Bn.prototype.finally=Bn.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=CG.default);var mk=firebaseui.auth;var kf=(()=>{let e=class e{constructor(i){this.auth=i,this.localStorageKeyUser="firebase-user",this.userS=sc(JSON.parse(localStorage.getItem(this.localStorageKeyUser))),this.auth.setPersistence(hs),this.auth.onAuthStateChanged(r=>this.userS.set(r))}logout(){localStorage.removeItem(this.localStorageKeyUser),this.auth.signOut()}createButton(i,r,o,a){(mk.AuthUI.getInstance()||new mk.AuthUI(this.auth)).start(i,{callbacks:{uiShown:a,signInSuccessWithAuthResult:l=>(localStorage.setItem(this.localStorageKeyUser,JSON.stringify(l.user)),o&&o(l),!!r)},signInFlow:"popup",signInSuccessUrl:r,signInOptions:[Yl.PROVIDER_ID]})}awaitUser(){return I(this,null,function*(){return yield this.auth.authStateReady(),this.auth.currentUser})}};e.\u0275fac=function(r){return new(r||e)(se(Zl))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Vhe(t,e){if(t&1){let n=re();b(0,"div",6),k("onCreate",function(r){N(n);let o=M();return F(o.createAuthButton(r))}),C()}}function jhe(t,e){if(t&1&&(b(0,"div",13)(1,"span",14),L(2),C(),b(3,"span",15),L(4),C()()),t&2){let n=e.$implicit,i=e.index;T(2),ue(i+1+". "+n.text),T(2),ue(n.description)}}function Uhe(t,e){if(t&1){let n=re();dt(0),ee(1,"div",7),b(2,"span"),L(3,"Pravidl\xE1"),C(),G(4,jhe,5,2,"div",8),ee(5,"div",7),b(6,"div",9),k("click",function(){N(n);let r=M();return F(r.consent=!r.consent)}),ee(7,"i",10),b(8,"span",11),L(9,"S\xFAhlas\xEDm s pravidlami a budem ich dodr\u017Eiava\u0165"),C()(),b(10,"div",9),k("click",function(){N(n);let r=M();return F(r.agreeToPay=!r.agreeToPay)}),ee(11,"i",10),b(12,"span",11),L(13,"Rozumiem, \u017Ee prihl\xE1\u0161ka je platn\xE1 a\u017E po zaplaten\xED"),C()(),ee(14,"div",7),b(15,"div",12),k("click",function(){N(n);let r=M();return F(r.apply())}),L(16,"Potvrdi\u0165"),C(),ht()}if(t&2){let n=M();T(4),P("ngForOf",n.rules),T(3),P("ngClass",n.consent?"fa-regular fa-square-check":"fa-regular fa-square"),T(4),P("ngClass",n.agreeToPay?"fa-regular fa-square-check":"fa-regular fa-square"),T(4),He("disabled",!n.consent)}}var EG=(()=>{let e=class e{constructor(i,r,o,a,l){this.router=i,this.firestoreService=r,this.eventManagerService=o,this.route=a,this.authService=l,this.rules=rG,this.consent=!1,this.agreeToPay=!1}ngOnInit(){this.event=this.eventManagerService.event}createAuthButton(i){this.authService.createButton(i.nativeElement)}apply(){this.consent&&console.log("applied")}};e.\u0275fac=function(r){return new(r||e)(R(Kn),R(Pf),R(Os),R(nr),R(kf))},e.\u0275cmp=de({type:e,selectors:[["app-event-application"]],standalone:!0,features:[pe],decls:8,vars:3,consts:[[1,"auth-container"],[1,"auth-header"],[1,"auth-text"],[1,"user-name"],["class","auth-button auth-ui-button",3,"onCreate",4,"ngIf"],[4,"ngIf"],[1,"auth-button","auth-ui-button",3,"onCreate"],[1,"h-separator"],["class","rules-container",4,"ngFor","ngForOf"],[1,"consent-checkbox-container",3,"click"],[1,"consent-checkbox-icon",3,"ngClass"],[1,"consent-checkbox-label"],[1,"button","button-apply",3,"click"],[1,"rules-container"],[1,"rule-text"],[1,"rule-description"]],template:function(r,o){if(r&1&&(b(0,"div",0)(1,"div",1)(2,"span",2),L(3,"Prihl\xE1\u0161ka"),C(),b(4,"span",3),L(5),C()(),G(6,Vhe,1,0,"div",4)(7,Uhe,17,5,"ng-container",5),C()),r&2){let a;T(5),ue((a=o.authService.userS())==null?null:a.displayName),T(),P("ngIf",!o.authService.userS()),T(),P("ngIf",o.authService.userS())}},dependencies:[ve,Ri,qe,nt,Ps],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.6666666666rem 0}@media screen and (min-width: 1000px){[_nghost-%COMP%]{max-width:50%}}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.6666666666rem;gap:.6666666666rem}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-self:center}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   .auth-text[_ngcontent-%COMP%]{font-size:24px}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]{width:100%;height:auto;gap:.5rem;padding:.3333333333rem .6666666666rem}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .rules-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .rules-container[_ngcontent-%COMP%]   .rule-text[_ngcontent-%COMP%]{padding-left:1rem}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .rules-container[_ngcontent-%COMP%]   .rule-description[_ngcontent-%COMP%]{font-size:14px;text-align:justify}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .consent-checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3333333333rem;cursor:pointer;align-self:flex-start}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .button-apply[_ngcontent-%COMP%]{height:auto;padding:.3333333333rem .6666666666rem;gap:.5rem;align-self:center}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .button-apply[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}"]});let t=e;return t})();var IG=(()=>{let e=class e{constructor(i){this.elementRef=i}ngOnInit(){this.updateVisibility(window.innerWidth)}onResize(i){this.updateVisibility(i.target.innerWidth)}updateVisibility(i){i>1e3?this.elementRef.nativeElement.style.display="":this.elementRef.nativeElement.style.display="none"}};e.\u0275fac=function(r){return new(r||e)(R(nn))},e.\u0275dir=At({type:e,selectors:[["","largescreen",""]],hostBindings:function(r,o){r&1&&k("resize",function(l){return o.onResize(l)},!1,Bt)},standalone:!0});let t=e;return t})();var SG=(()=>{let e=class e{constructor(i){this.elementRef=i}ngOnInit(){this.updateVisibility(window.innerWidth)}onResize(i){this.updateVisibility(i.target.innerWidth)}updateVisibility(i){i<=1e3?this.elementRef.nativeElement.style.display="":this.elementRef.nativeElement.style.display="none"}};e.\u0275fac=function(r){return new(r||e)(R(nn))},e.\u0275dir=At({type:e,selectors:[["","smallscreen",""]],hostBindings:function(r,o){r&1&&k("resize",function(l){return o.onResize(l)},!1,Bt)},standalone:!0});let t=e;return t})();var TG={id:"2024-splav",title:"Splav 2024",questions:[{id:"termin",active:!0,title:"Ktor\xE9 v\xEDkendy m\xF4\u017Ee\u0161?",description:"Fakt vyber pros\xEDm \u010Do najviac, aby sme sa mali \u0161ancu zhodn\xFA\u0165. Nie \u017Ee kedy sa ti chce.",type:"checkbox",choices:[{id:"termin1",text:"15. - 16. J\xFAn",description:"Rock for People",selected:!0},{id:"termin2",text:"22. - 23. J\xFAn",selected:!0},{id:"termin3",text:"29. - 30. J\xFAn",selected:!0},{id:"termin4",text:"06. - 07. J\xFAl",selected:!0},{id:"termin5",text:"13. - 14. J\xFAl",description:"Pohoda",selected:!0},{id:"termin6",text:"20. - 21. J\xFAl",description:"Colours of Ostrava",selected:!0},{id:"termin7",text:"27. - 28. J\xFAl",selected:!0},{id:"termin8",text:"03. - 04. Aug",selected:!0},{id:"termin9",text:"10. - 11. Aug",description:"Grape, Sziget",selected:!0},{id:"termin10",text:"17. - 18. Aug",description:"Lovestream",selected:!0}]},{id:"nocivkempoch",active:!0,title:"Ko\u013Eko noc\xED chce\u0161 by\u0165 v kempoch?",description:"Chod\xEDme iba raz za rok a 3 noci s\xFA viac srandy ako 2. Ten posledn\xFD de\u0148 v\u0161ak b\xFDva dos\u0165 n\xE1ro\u010Dn\xFD.",type:"radio",dontcare:"true",choices:[{id:"3noci",text:"3 noci",description:"Streda ve\u010Der pr\xEDdeme na ubytov\u0148u, \u0160tvrtok r\xE1no \u0161tart, Nede\u013Ea ve\u010Der doma."},{id:"2noci",text:"2 noci",description:"\u0160tvrtok ve\u010Der pr\xEDdeme na ubytov\u0148u, Piatok r\xE1no \u0161tart, Nede\u013Ea ve\u010Der doma."}]},{id:"splavovatajposlednyden",active:!0,title:"Chce\u0161 aj v Nede\u013Eu e\u0161te splavova\u0165?",description:"Posledn\xFD de\u0148 b\xFDva dos\u0165 n\xE1ro\u010Dn\xFD.",type:"radio",dontcare:"true",choices:[{id:"ano",text:"\xC1no",description:"Jasn\xE9, pohodi\u010Dka."},{id:"nie",text:"Nie",description:"Posledn\xFD de\u0148 si chcem sadn\xFA\u0165 do auta a \xEDs\u0165 domov."}]}].map(t=>(t.dontcare&&t.choices.push({id:"dontcare",text:"Je mi to jedno",selected:!t.choices.some(e=>e.selected)}),t))};var DG=[TG];function Bhe(t,e){if(t&1&&(b(0,"a",17),L(1),C()),t&2){let n=e.$implicit;P("routerLink",n.urlTree),T(),ue(n.text)}}function $he(t,e){if(t&1){let n=re();dt(0),b(1,"span",18),k("click",function(){N(n);let r=M(2);return F(r.authService.logout())}),L(2,"Odhl\xE1si\u0165 sa"),C(),ht()}}function Hhe(t,e){if(t&1){let n=re();b(0,"div",10)(1,"div",11)(2,"div",1)(3,"span"),L(4),C()(),b(5,"div",2)(6,"i",12),k("click",function(){N(n);let r=M();return F(r.sidebarVisible=!1)}),C()()(),b(7,"div",13)(8,"div",14),k("click",function(){N(n);let r=M();return F(r.sidebarVisible=!1)}),G(9,Bhe,2,2,"a",15),C(),b(10,"div",16),k("click",function(){N(n);let r=M();return F(r.sidebarVisible=!1)}),G(11,$he,3,0,"ng-container",8),C()()()}if(t&2){let n=M();P("@fade",void 0),T(4),ue(n.event.title),T(5),P("ngForOf",n.getActiveMenus()),T(2),P("ngIf",n.authService.userS())}}var Ghe=()=>["currentRoute"],zhe=()=>({exact:!0});function qhe(t,e){if(t&1&&(b(0,"a",19),L(1),C()),t&2){let n=e.$implicit;P("routerLink",n.urlTree)("routerLinkActive",Al(4,Ghe))("routerLinkActiveOptions",Al(5,zhe)),T(),ue(n.text)}}function Whe(t,e){if(t&1){let n=re();dt(0),b(1,"div",20)(2,"span",21),k("click",function(){N(n);let r=M();return F(r.authService.logout())}),L(3,"Odhl\xE1si\u0165 sa"),C(),b(4,"span",22),L(5),C()(),ht()}if(t&2){let n=M();T(5),ue(n.authService.userS().displayName)}}var xG=(()=>{let e=class e{constructor(i,r,o){this.route=i,this.authService=r,this.eventManagerService=o,this.skip=!0,this.sidebarVisible=window.innerWidth<=1e3,this.menus=[{text:"Prihl\xE1\u0161ka",urlTree:["prihlaska"],active:!1},{text:"Hlasovanie",urlTree:["hlasovanie"],active:!0},{text:"V\xFDsledky",urlTree:["hlasovanie","vysledky"],active:!0}]}ngOnInit(){this.route.params.subscribe(i=>{this.event=JSON.parse(JSON.stringify(DG.find(r=>r.id==i.id))),this.eventManagerService.event=this.event})}getActiveMenus(){return this.menus.filter(i=>i.active)}};e.\u0275fac=function(r){return new(r||e)(R(nr),R(kf),R(Os))},e.\u0275cmp=de({type:e,selectors:[["app-event-manager"]],hostVars:1,hostBindings:function(r,o){r&2&&xl("@skip",o.skip)},standalone:!0,features:[pe],decls:17,vars:5,consts:[["smallscreen","",1,"header"],[1,"header-left"],[1,"header-right"],[1,"fa-solid","fa-bars",3,"click"],["class","sidebar","smallscreen","",4,"ngIf"],["largescreen","",1,"header"],[1,"v-separator","margins"],["class","header-item",3,"routerLink","routerLinkActive","routerLinkActiveOptions",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"content"],["smallscreen","",1,"sidebar"],[1,"sidebar-header"],[1,"fa-solid","fa-xmark",3,"click"],[1,"sidebar-content"],[1,"sidebar-content-top",3,"click"],["class","sidebar-item",3,"routerLink",4,"ngFor","ngForOf"],[1,"sidebar-content-bottom",3,"click"],[1,"sidebar-item",3,"routerLink"],[1,"sidebar-item",3,"click"],[1,"header-item",3,"routerLink","routerLinkActive","routerLinkActiveOptions"],[1,"header-item","hover-container"],[1,"hover-visible",3,"click"],[1,"hover-hidden"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"span"),L(3),C()(),b(4,"div",2)(5,"i",3),k("click",function(){return o.sidebarVisible=!0}),C()()(),G(6,Hhe,12,4,"div",4),b(7,"div",5)(8,"div",1)(9,"span"),L(10),C(),ee(11,"div",6),G(12,qhe,2,6,"a",7),C(),b(13,"div",2),G(14,Whe,6,1,"ng-container",8),C()(),b(15,"div",9),ee(16,"router-outlet"),C()),r&2&&(T(3),ue(o.event.title),T(3),P("ngIf",o.sidebarVisible),T(4),ue(o.event.title),T(2),P("ngForOf",o.getActiveMenus()),T(2),P("ngIf",o.authService.userS()))},dependencies:[ve,qe,nt,St,pf,w9,Rv,IG,SG],styles:["[_nghost-%COMP%]{flex:1;min-height:100vh;display:flex;flex-direction:column}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{position:sticky;top:0;height:40px;display:flex;gap:1.6666666665rem;border-bottom:1px solid var(--color-border);box-sizing:border-box;background-color:var(--color-background-primary);z-index:1;justify-content:space-between}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{padding:0 .6666666666rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{padding:0 1.6666666665rem}}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{gap:.6666666666rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{gap:1.6666666665rem}}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]{min-width:40px;justify-content:center;display:flex;align-items:center;cursor:pointer;height:100%;box-sizing:border-box;padding-top:3px;border-bottom:3px solid transparent}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-item.currentRoute[_ngcontent-%COMP%]{padding-bottom:2px;border-bottom-width:1px;border-bottom-color:var(--color-primary)}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]:hover{padding-bottom:0;color:var(--color-text-hover);border-bottom-width:3px;border-bottom-color:var(--color-primary)}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:100vw;height:100vh;background-color:var(--color-background-primary);position:absolute;z-index:1;display:flex;flex-direction:column}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{position:sticky;top:0;height:40px;display:flex;gap:1.6666666665rem;border-bottom:1px solid var(--color-border);box-sizing:border-box;justify-content:space-between}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:0 .6666666666rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:0 1.6666666665rem}}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;gap:1.6666666665rem;align-items:center}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]{min-width:40px;justify-content:center;display:flex;align-items:center;cursor:pointer;height:100%;box-sizing:border-box;padding-top:3px;border-bottom:3px solid transparent;transition-property:color,border-color;transition-duration:.25s}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]:hover{color:var(--color-text-hover);border-bottom-color:var(--color-primary)}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{margin:.6666666666rem;display:flex;flex-direction:column;gap:.6666666666rem;flex:1;justify-content:space-between}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .sidebar-content-top[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .sidebar-content-bottom[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6666666666rem}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .sidebar-item[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;align-items:center;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.6666666666rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;flex:1}"],data:{animation:[Fc,aE]}});let t=e;return t})();var AG=(()=>{let e=class e{constructor(i){this.eventManagerService=i}ngOnInit(){this.event=this.eventManagerService.event}};e.\u0275fac=function(r){return new(r||e)(R(Os))},e.\u0275cmp=de({type:e,selectors:[["app-rules"]],standalone:!0,features:[pe],decls:8,vars:0,template:function(r,o){r&1&&(b(0,"span"),L(1,"V z\xE1ujme ment\xE1lneho zdravia, dobr\xFDch vz\u0165ahov a pohody som vymyslel p\xE1r pravidiel."),C(),b(2,"span"),L(3,"Nie je ich ve\u013Ea, o to viac v\u0161ak budem trva\u0165 na tom, aby sme ich v\u0161etci dodr\u017Eiavali."),C(),b(4,"span"),L(5,"1. Ka\u017Ed\xE9 r\xE1no vyr\xE1\u017Eame na\u010Das"),C(),b(6,"span"),L(7,"2. Po\u010Das splavovania sa dr\u017E\xEDme pohromade"),C())},dependencies:[ve],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.6666666666rem 0}"]});let t=e;return t})();function Khe(t,e){if(t&1&&(b(0,"td",9)(1,"span"),L(2),C()()),t&2){let n=e.$implicit,i=M().$implicit;os("width",100/i.options.length,"%"),T(2),ue(n.text)}}function Yhe(t,e){t&1&&ee(0,"i",12)}function Qhe(t,e){if(t&1&&(b(0,"td"),G(1,Yhe,1,0,"i",11),C()),t&2){let n=e.$implicit,i=M().$implicit;T(),P("ngIf",n.people.includes(i.userDisplayName))}}function Jhe(t,e){if(t&1&&(b(0,"tr")(1,"td",10),L(2),C(),G(3,Qhe,2,1,"td",8),C()),t&2){let n=e.$implicit,i=M().$implicit,r=M(2);T(2),ue(r.getShortName(n.userDisplayName)),T(),P("ngForOf",i.options)}}function Xhe(t,e){if(t&1){let n=re();b(0,"div",3),k("click",function(){let o=N(n).$implicit,a=M(2);return F(a.open(o))}),b(1,"span",4),L(2),C(),b(3,"div",5)(4,"table")(5,"tr"),ee(6,"td",6),G(7,Khe,3,3,"td",7),C(),G(8,Jhe,4,2,"tr",8),C()()()}if(t&2){let n=e.$implicit,i=M(2);He("closed",!n.open),T(2),ue(n.title),T(),He("closed",!n.open),P("@drawer2",n.open),T(4),P("ngForOf",n.options),T(),P("ngForOf",i.userEntries)}}function Zhe(t,e){if(t&1&&(b(0,"div",1),G(1,Xhe,9,8,"div",2),C()),t&2){let n=M();T(),P("ngForOf",n.statistics)}}var MG=(()=>{let e=class e{constructor(i,r){this.firestoreService=i,this.eventManagerService=r}ngOnInit(){this.event=this.eventManagerService.event,this.requestResults()}requestResults(){this.firestoreService.read(this.event.id).then(i=>{this.userEntries=i.sort((r,o)=>o.submitDate.localeCompare(r.submitDate)),this.statistics=this.event.questions.map(r=>({id:r.id,title:r.title,votes:i.filter(o=>!o.choices[r.id]?.includes("dontcare")).length,open:this.event.questions.indexOf(r)==0,options:r.choices?.map(o=>({id:o.id,text:o.text,description:o.description,hyperlink:o.hyperlink,people:i.filter(a=>a.choices[r.id]?.includes(o.id)).map(a=>a.userDisplayName),count:i.filter(a=>!a.choices[r.id]?.includes("dontcare")&&a.choices[r.id]?.includes(o.id)).length})).sort((o,a)=>a.count-o.count)}))})}open(i){this.statistics.forEach(r=>r.open=!1),i.open=!0}getShortName(i){if(window.innerWidth>1e3)return i;{let[r,o]=i.split(" ");return r.substring(0,10)+" "+o[0]}}};e.\u0275fac=function(r){return new(r||e)(R(Pf),R(Os))},e.\u0275cmp=de({type:e,selectors:[["app-survey-results"]],standalone:!0,features:[pe],decls:1,vars:1,consts:[["class","results",4,"ngIf"],[1,"results"],["class","result-container",3,"closed","click",4,"ngFor","ngForOf"],[1,"result-container",3,"click"],[1,"result-title"],[1,"result-options"],[1,"first-column","first-row"],["class","first-row",3,"width",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"first-row"],[1,"first-column"],["class","fa-solid fa-check",4,"ngIf"],[1,"fa-solid","fa-check"]],template:function(r,o){r&1&&G(0,Zhe,2,1,"div",0),r&2&&P("ngIf",o.statistics)},dependencies:[ve,qe,nt,St],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.6666666666rem 0}@media screen and (max-width: 1000px){[_nghost-%COMP%]{width:calc(100vw - 1.3333333332rem);max-width:calc(100vw - 1.3333333332rem);padding:.6666666666rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]{padding:.6666666666rem 0}}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6666666666rem;max-width:100%}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:block;text-align:center;font-size:2rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]{border:1px solid var(--color-border);border-radius:.3333333333rem;display:flex;flex-direction:column;background-color:var(--color-background-secondary);padding:.6666666666rem;transition-property:gap;transition-duration:.5s}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container.closed[_ngcontent-%COMP%]{cursor:pointer;gap:0}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-title[_ngcontent-%COMP%]{font-size:24px;text-align:center}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-description[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem;width:100%;overflow-x:auto;overflow-y:hidden}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--color-border)}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;width:fit-content;padding:.5rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.first-column[_ngcontent-%COMP%]{width:0;white-space:nowrap;background-color:var(--color-background-secondary)}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.first-column[_ngcontent-%COMP%]{position:sticky;left:0}}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(.first-column){text-align:center}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.first-row[_ngcontent-%COMP%]{white-space:nowrap}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.first-row[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{writing-mode:tb}}"],data:{animation:[lE]}});let t=e;return t})();var vk=()=>["vysledky"];function efe(t,e){t&1&&(dt(0),b(1,"div",2)(2,"span"),L(3,"Hlasovanie teraz nie je akt\xEDvne"),C(),b(4,"a",3),ee(5,"i",4),L(6,"V\xFDsledky"),C()(),ht()),t&2&&(T(4),P("routerLink",Al(1,vk)))}function tfe(t,e){if(t&1){let n=re();b(0,"div",17),k("onCreate",function(r){N(n);let o=M(4);return F(o.createAuthButton(r))}),C()}}function nfe(t,e){if(t&1){let n=re();b(0,"div",18),k("click",function(){N(n);let r=M(4);return F(r.updateVote())}),L(1,"Zmeni\u0165 hlasovanie"),C()}}function ife(t,e){if(t&1&&(b(0,"div",9)(1,"div",10)(2,"span",11),L(3,"Hlasovanie"),C()(),b(4,"div",12),G(5,tfe,1,0,"div",13)(6,nfe,2,0,"div",14),b(7,"span",15),L(8,"alebo"),C(),b(9,"a",16),ee(10,"i",4),L(11,"V\xFDsledky"),C()()()),t&2){let n=M(3);T(5),P("ngIf",!n.authService.userS()),T(),P("ngIf",n.authService.userS()&&!n.canVote),T(3),P("routerLink",Al(3,vk))}}function rfe(t,e){if(t&1&&(b(0,"span",33),L(1),C()),t&2){let n=M().$implicit;T(),ue(n.description)}}function ofe(t,e){if(t&1&&ee(0,"i",41),t&2){let n=M().$implicit;P("ngClass",n.selected?"fa-regular fa-square-check":"fa-regular fa-square")}}function sfe(t,e){if(t&1&&ee(0,"i",41),t&2){let n=M().$implicit;P("ngClass",n.selected?"fa-regular fa-circle-check":"fa-regular fa-circle")}}function afe(t,e){if(t&1&&(dt(0),ee(1,"div",42),b(2,"a",43),k("click",function(i){return i.stopImmediatePropagation()}),ee(3,"i",44),C(),ht()),t&2){let n=M().$implicit;T(2),P("href",n.hyperlink,fi)}}function cfe(t,e){if(t&1&&(dt(0),ee(1,"div",42),b(2,"span",45),L(3),C(),ht()),t&2){let n=M().$implicit;T(3),ue(n.description)}}function lfe(t,e){if(t&1){let n=re();b(0,"div",36),k("click",function(){let o=N(n).$implicit,a=M(2).$implicit,l=M(4);return F(l.onChoiceClick(a,o))}),G(1,ofe,1,1,"i",37)(2,sfe,1,1,"i",37),b(3,"div",38)(4,"span",39),L(5),C(),G(6,afe,4,1,"ng-container",40)(7,cfe,4,1,"ng-container",40),C()()}if(t&2){let n=e.$implicit,i=M(2).$implicit;He("disabled",n.disabled)("selected",n.selected),T(),P("ngIf",i.type=="checkbox"),T(),P("ngIf",i.type=="radio"),T(3),ue(n.text),T(),P("ngIf",n.hyperlink),T(),P("ngIf",n.description)}}function ufe(t,e){if(t&1&&(b(0,"div",34),G(1,lfe,8,9,"div",35),C()),t&2){let n=M().$implicit;T(),P("ngForOf",n.choices)}}function dfe(t,e){if(t&1&&(b(0,"div",29)(1,"span",30),L(2),C(),G(3,rfe,2,1,"span",31)(4,ufe,2,1,"div",32),C()),t&2){let n=e.$implicit,i=e.index,r=M(4);P("@drawer2",i==r.questionIndex),T(2),ue(n.title),T(),P("ngIf",n.description),T(),P("ngIf",n.choices)}}function hfe(t,e){t&1&&(b(0,"a",3),ee(1,"i",4),L(2,"V\xFDsledky"),C()),t&2&&P("@crossfade",void 0)("routerLink",Al(2,vk))}function ffe(t,e){if(t&1){let n=re();b(0,"div",46),k("click",function(){N(n);let r=M(4);return F(r.back())}),L(1,"Sp\xE4\u0165"),C()}t&2&&P("@crossfade",void 0)}function pfe(t,e){if(t&1){let n=re();b(0,"div",46),k("click",function(){N(n);let r=M(4);return F(r.next())}),L(1,"\u010Ealej"),C()}t&2&&P("@crossfade",void 0)}function mfe(t,e){if(t&1){let n=re();b(0,"div",46),k("click",function(){N(n);let r=M(4);return F(r.submit())}),L(1,"Hlasova\u0165"),C()}if(t&2){let n=M(4);He("disabled",!n.authService.userS()),P("@crossfade",void 0)}}function gfe(t,e){if(t&1&&(b(0,"div",19)(1,"div",20),G(2,dfe,5,4,"div",21),C(),b(3,"div",22)(4,"div",23),G(5,hfe,3,3,"a",24)(6,ffe,2,1,"div",25),C(),b(7,"div",23)(8,"div",26),L(9,"\xA0"),C()(),b(10,"div",23),G(11,pfe,2,1,"div",25)(12,mfe,2,3,"div",27),C()(),b(13,"span",28),L(14),C()()),t&2){let n=M(3);T(),P("@skip",void 0),T(),P("ngForOf",n.activeQuestions),T(2),P("@skip",void 0),T(),P("ngIf",n.questionIndex==0),T(),P("ngIf",n.questionIndex!=0),T(4),P("@skip",void 0),T(),P("ngIf",n.questionIndex<n.activeQuestions.length-1),T(),P("ngIf",n.questionIndex==n.activeQuestions.length-1),T(2),ue(n.questionIndex+1+" / "+n.activeQuestions.length)}}function vfe(t,e){if(t&1&&(b(0,"div",6),G(1,ife,12,4,"div",7)(2,gfe,15,9,"div",8),C()),t&2){let n=M(2);T(),P("ngIf",!n.authService.userS()||!n.canVote),T(),P("ngIf",n.authService.userS()&&n.canVote)}}function yfe(t,e){if(t&1&&G(0,vfe,3,2,"div",5),t&2){let n=M();P("ngIf",!n.loading)}}var PG=(()=>{let e=class e{constructor(i,r,o,a,l){this.router=i,this.firestoreService=r,this.eventManagerService=o,this.route=a,this.authService=l,this.questionIndex=0,this.loading=!0}ngOnInit(){this.event=this.eventManagerService.event,this.activeQuestions=this.event.questions.filter(o=>o.active);let i=this.authService.awaitUser(),r=this.firestoreService.read(this.event.id,!0);Promise.all([i,r]).then(([o,a])=>{this.canVote=!a.some(l=>l.userId==o?.uid),this.loading=!1})}onChoiceClick(i,r){i.type=="checkbox"?i.dontcare?r.id=="dontcare"?(i.choices.forEach(o=>o.selected=!1),r.selected=!0):(i.choices.find(o=>o.id=="dontcare").selected=!1,r.selected=!r.selected):r.selected=!r.selected:i.type=="radio"&&(i.choices.forEach(o=>o.selected=!1),r.selected=!0)}back(){this.questionIndex>0&&this.questionIndex--}next(){this.questionIndex<this.event.questions.length-1&&this.questionIndex++}submit(){let i=this.authService.userS();if(i){let r={userId:i.uid,userDisplayName:i.displayName,submitDate:new Date().toISOString(),choices:{}};this.event.questions.filter(o=>o.choices).forEach(o=>{r.choices[o.id]=o.choices.filter(a=>a.selected).map(a=>a.id)}),this.firestoreService.write(this.event.id,i.uid,r).then(()=>{this.router.navigate(["./vysledky"],{relativeTo:this.route})})}}updateVote(){this.firestoreService.read(this.event.id).then(i=>{let r=i.find(o=>o.userId==this.authService.userS().uid);r&&this.event.questions.forEach(o=>{o.choices.forEach(a=>{r.choices&&r.choices[o.id]&&(a.selected=r.choices[o.id].includes(a.id))})}),this.canVote=!0})}createAuthButton(i){this.authService.createButton(i.nativeElement,null,r=>{r?.user&&this.firestoreService.read(this.event.id,!0).then(o=>{this.canVote=!o.some(a=>a.userId==r.user.uid)})})}};e.\u0275fac=function(r){return new(r||e)(R(Kn),R(Pf),R(Os),R(nr),R(kf))},e.\u0275cmp=de({type:e,selectors:[["app-survey"]],standalone:!0,features:[pe],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["hasActiveQuestions",""],[1,"no-questions-container"],[1,"button",3,"routerLink"],[1,"fa-solid","fa-chart-simple"],["class","content-container",4,"ngIf"],[1,"content-container"],["class","auth-container",4,"ngIf"],["class","questions",4,"ngIf"],[1,"auth-container"],[1,"auth-header"],[1,"auth-text"],[1,"auth-buttons"],["class","auth-button auth-ui-button",3,"onCreate",4,"ngIf"],["class","auth-button button",3,"click",4,"ngIf"],[1,"auth-or"],[1,"auth-button","button",3,"routerLink"],[1,"auth-button","auth-ui-button",3,"onCreate"],[1,"auth-button","button",3,"click"],[1,"questions"],[1,"question-container"],["class","question-animation-container",4,"ngFor","ngForOf"],[1,"buttons"],[1,"button-container"],["class","button",3,"routerLink",4,"ngIf"],["class","button",3,"click",4,"ngIf"],[1,"button","transparent"],["class","button",3,"disabled","click",4,"ngIf"],[1,"question-progress"],[1,"question-animation-container"],[1,"question-title"],["class","question-description",4,"ngIf"],["class","question-choices",4,"ngIf"],[1,"question-description"],[1,"question-choices"],["class","question-choice",3,"disabled","selected","click",4,"ngFor","ngForOf"],[1,"question-choice",3,"click"],["class","question-selection-icon",3,"ngClass",4,"ngIf"],[1,"choice-labels"],[1,"choice-text"],[4,"ngIf"],[1,"question-selection-icon",3,"ngClass"],[1,"v-separator"],["target","_blank","rel","noopener noreferrer",1,"choice-hyperlink",3,"href","click"],[1,"fa-solid","fa-arrow-up-right-from-square"],[1,"choice-description"],[1,"button",3,"click"]],template:function(r,o){if(r&1&&G(0,efe,7,2,"ng-container",0)(1,yfe,1,1,"ng-template",null,1,Oj),r&2){let a=ew(2);P("ngIf",o.activeQuestions.length==0)("ngIfElse",a)}},dependencies:[ve,Ri,qe,nt,St,pf,Ps],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}@media screen and (max-width: 1000px){[_nghost-%COMP%]{width:calc(100% - 1.3333333332rem);padding:.6666666666rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]{padding:1.3333333332rem 0}}[_nghost-%COMP%]   .no-questions-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.6666666666rem;gap:.6666666666rem;align-items:center}[_nghost-%COMP%]   .no-questions-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:auto;gap:.5rem;padding:.3333333333rem .6666666666rem}[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.6666666666rem;gap:.6666666666rem}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   .auth-text[_ngcontent-%COMP%]{font-size:24px;text-align:center}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   .auth-description[_ngcontent-%COMP%]{font-size:16px;text-align:center}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{display:grid;align-items:center}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{grid-template-columns:auto;justify-items:center;gap:.3333333333rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{grid-template-columns:1fr auto 1fr;gap:.6666666666rem}}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .auth-button.auth-ui-button[_ngcontent-%COMP%]{padding:0;border-radius:.3333333333rem;overflow:hidden}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .auth-or[_ngcontent-%COMP%]{font-size:14px}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]{width:100%;height:auto;align-self:center;gap:.5rem;padding:.3333333333rem .6666666666rem}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6666666666rem;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.6666666666rem;position:relative;width:100%}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse!important}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-description[_ngcontent-%COMP%]{margin-top:.1666666667rem;font-size:14px}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:.6666666666rem;align-self:start;gap:.5rem;width:100%}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;padding:.5rem;border:1px solid var(--color-border);border-radius:.3333333333rem;transition:.25s}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice.selected[_ngcontent-%COMP%]{background-color:var(--color-secondary)}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3333333333rem}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]   .choice-hyperlink[_ngcontent-%COMP%]{cursor:pointer;font-size:12px}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]   .choice-text[_ngcontent-%COMP%]{min-width:fit-content}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]   .choice-description[_ngcontent-%COMP%]{font-size:14px}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:.6666666666rem;justify-content:space-between;position:relative}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex:1}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]:first-child{justify-content:flex-start}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]:last-child{justify-content:flex-end}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{height:auto;padding:.3333333333rem .6666666666rem;gap:.5rem}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}[_nghost-%COMP%]   .question-progress[_ngcontent-%COMP%]{position:absolute;right:0;top:0;padding:.6666666666rem;font-size:12px}"],data:{animation:[cE,lE,Fc,aE]}});let t=e;return t})();function _fe(t,e){if(t&1){let n=re();b(0,"span",6),k("click",function(){let o=N(n).$implicit,a=M(2);return F(a.onDataFileClick(o))}),L(1),C()}if(t&2){let n=e.$implicit;T(),ue(n.name.substring(0,n.name.length-10))}}function wfe(t,e){if(t&1){let n=re();b(0,"span",6),k("click",function(){let o=N(n).$implicit,a=M(2);return F(a.onFolderClick(o))}),L(1),C()}if(t&2){let n=e.$implicit;T(),ue(n.name)}}function bfe(t,e){if(t&1&&(b(0,"div",4),G(1,_fe,2,1,"span",5)(2,wfe,2,1,"span",5),C()),t&2){let n=M();T(),P("ngForOf",n.dataFiles),T(),P("ngForOf",n.folders)}}var OG=(()=>{let e=class e{constructor(i,r,o){this.router=i,this.googleService=r,this.applicationService=o,this.applicationService.loading.next(!0)}ngOnInit(){this.googleService.getFolderMetadata().then(i=>{this.dataFiles=i.filter(o=>o.name.endsWith(".tagallery"));let r=this.dataFiles.map(o=>o.name.substring(0,o.name.indexOf(".tagallery")));this.folders=i.filter(o=>Zr.isFolder(o)&&!r.includes(o.name))}).finally(()=>{this.applicationService.loading.next(!1)})}onDataFileClick(i){this.applicationService.loading.next(!0),this.googleService.fileId=i.id,this.router.navigate(["/gallery"])}onFolderClick(i){this.applicationService.loading.next(!0),this.googleService.createDataFile(i.name).then(r=>{this.googleService.fileId=r.id,this.googleService.updateContent(r.id,{rootFolderId:i.id,imageProperties:[],groupProperties:[],tagGroups:[],heartsFilter:0,bookmarksFilter:0,groupSizeFilterMin:0,groupSizeFilterMax:999}).then(()=>{this.router.navigate(["/gallery"])})})}};e.\u0275fac=function(r){return new(r||e)(R(Kn),R(Df),R(Dn))},e.\u0275cmp=de({type:e,selectors:[["app-folder-picker"]],standalone:!0,features:[pe],decls:4,vars:4,consts:[[1,"container"],["class","folders-container",4,"ngIf"],[1,"buttons-container"],["tp","Toggle Low Bandwidth Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"folders-container"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(r,o){r&1&&(b(0,"div",0),G(1,bfe,3,2,"div",1),b(2,"div",2)(3,"i",3),k("click",function(){return o.applicationService.reduceBandwidth=!o.applicationService.reduceBandwidth}),C()()()),r&2&&(He("opacity-1",!o.applicationService.loading.value),T(),P("ngIf",!0),T(2),P("ngClass",o.applicationService.reduceBandwidth?"fa-signal":"fa-wifi"))},dependencies:[ve,Ri,qe,nt],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--color-text);gap:.3333333333rem;opacity:0;transition-property:opacity;transition-duration:.5s}.folders-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-text);border-radius:.3333333333rem;width:300px}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.3333333333rem;border-bottom:1px solid var(--color-text);cursor:pointer;-webkit-user-select:none;user-select:none}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{border:0}.buttons-container[_ngcontent-%COMP%]{display:flex}"]});let t=e;return t})();function Cfe(t,e){if(t&1){let n=re();b(0,"i",16),k("click",function(){N(n);let r=M(2);return F(r.stateService.setRandomGroupTarget())}),C()}}function Efe(t,e){if(t&1&&ee(0,"iframe",20),t&2){let n=M().$implicit;J0("max-width:"+n.videoMediaMetadata.width+"px;max-height:"+n.videoMediaMetadata.height+"px;"),P("src",n.contentLink,d1)}}function Ife(t,e){if(t&1){let n=re();b(0,"img",22),k("load",function(){N(n);let r=M(4);return F(r.loadingC=!1)}),C()}if(t&2){let n=M(2).$implicit;P("src",n.contentLink,fi)}}function Sfe(t,e){if(t&1){let n=re();dt(0),b(1,"img",21),k("click",function(){N(n);let r=M().$implicit,o=M(2);return F(o.onImageClick(r))}),C(),b(2,"img",22),k("load",function(){N(n);let r=M(3);return F(r.loadingT=!1)}),C(),G(3,Ife,1,1,"img",23),ht()}if(t&2){let n=M().$implicit,i=M(2);T(),P("src",i.getSrc(n),fi),T(),P("src",n.thumbnailLink,fi),T(),P("ngIf",n.contentLink)}}function Tfe(t,e){if(t&1&&(b(0,"div",17),G(1,Efe,1,3,"iframe",18)(2,Sfe,4,3,"ng-container",19),C()),t&2){let n=M(2);P("@fade",void 0),T(),P("ngIf",n.video),T(),P("ngIf",!n.video)}}function Dfe(t,e){if(t&1){let n=re();b(0,"div",1)(1,"div",2)(2,"div")(3,"i",3),k("click",function(){N(n);let r=M();return F(r.stateService.fullscreenVisible.set(!1))}),C(),b(4,"i",4),k("click",function(){N(n);let r=M();return F(r.dialogService.openSettings())}),C()(),b(5,"div")(6,"i",5),k("click",function(){let o=N(n).ngVar,a=M();return F(a.stateService.toggleHeart(o))}),C(),b(7,"i",6),k("click",function(){let o=N(n).ngVar,a=M();return F(a.stateService.toggleBookmark(o))}),C(),b(8,"span",7),k("click",function(){let o=N(n).ngVar,a=M();return F(a.stateService.like(o))})("contextmenu",function(r){let a=N(n).ngVar,l=M();return r.preventDefault(),F(l.stateService.dislike(a))}),L(9),C()()(),b(10,"div",8)(11,"div",9)(12,"i",10),k("click",function(){N(n);let r=M();return F(r.stateService.moveTargetToTrash())}),C()(),ee(13,"div",11),b(14,"div",12),G(15,Cfe,1,0,"i",13),b(16,"i",14),k("click",function(){N(n);let r=M();return F(r.stateService.setRandomTarget())}),C()()(),G(17,Tfe,3,3,"div",15),C()}if(t&2){let n=e.ngVar,i=M();He("transparent",!i.stateService.fullscreenVisible()),T(6),P("ngClass",n!=null&&n.heart?"fa-solid":"fa-regular"),T(),P("ngClass",n!=null&&n.bookmark?"fa-solid":"fa-regular"),T(2),ue(n==null?null:n.likes),T(6),P("ngIf",n==null?null:n.hasGroup()),T(2),P("ngForOf",i.crossfadeHelper)}}var kG=(()=>{let e=class e{constructor(i,r,o){this.applicationService=i,this.stateService=r,this.dialogService=o,this.crossfadeHelper=[],this.loadingT=!0,this.loadingC=!0,this.video=!1,ac(()=>{this.stateService.fullscreenVisible()?this.update(this.stateService.target()):this.crossfadeHelper.length=0})}update(i){this.crossfadeHelper[0]!=i&&(this.crossfadeHelper[0]=i,Zr.isVideo(i)?this.video=!0:(this.video=!1,this.loadingT=!0,this.loadingC=!0))}getSrc(i){if(!this.loadingC)return i.contentLink;if(!this.loadingT)return i.thumbnailLink}onImageClick(i){this.applicationService.reduceBandwidth&&(i.thumbnailLink=i.thumbnailLink.replace("=s220","=s440"))}snapshot(){let i=document.getElementById("video-element");if(i){let r=document.createElement("canvas");r.width=i.videoWidth,r.height=i.videoHeight,r.getContext("2d").drawImage(i,0,0),window.open("about:blank","Video Snapshot").document.write("<img src='"+r.toDataURL("image/png")+"' alt='from canvas'/>")}}};e.\u0275fac=function(r){return new(r||e)(R(Dn),R(Bi),R(Zt))},e.\u0275cmp=de({type:e,selectors:[["app-fullscreen"]],standalone:!0,features:[pe],decls:1,vars:1,consts:[["class","fullscreen-container",3,"transparent",4,"ngVar"],[1,"fullscreen-container"],[1,"fullscreen-header"],[1,"icon-button","fa-solid","fa-arrow-left",3,"click"],["tp","Settings",1,"icon-button","fa-solid","fa-gear",3,"click"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],["tp","Like",1,"icon-button",3,"click","contextmenu"],[1,"fullscreen-footer"],[2,"justify-content","start"],["tp","Trash",1,"icon-button","fa-solid","fa-trash",3,"click"],[2,"justify-content","center"],[2,"justify-content","end"],["class","icon-button fa-solid fa-arrows-spin",3,"click",4,"ngIf"],[1,"icon-button","fa-solid","fa-shuffle",3,"click"],["class","fullscreen-crossfade",4,"ngFor","ngForOf"],[1,"icon-button","fa-solid","fa-arrows-spin",3,"click"],[1,"fullscreen-crossfade"],["class","fullscreen-content","frameborder","0","allowfullscreen","",3,"src","style",4,"ngIf"],[4,"ngIf"],["frameborder","0","allowfullscreen","",1,"fullscreen-content",3,"src"],[1,"fullscreen-content",3,"src","click"],[2,"display","none",3,"src","load"],["style","display: none;",3,"src","load",4,"ngIf"]],template:function(r,o){r&1&&G(0,Dfe,18,7,"div",0),r&2&&P("ngVar",o.stateService.target())},dependencies:[ve,Ri,qe,nt,Af],styles:['.fullscreen-container[_ngcontent-%COMP%]{width:100%;height:100%;top:0;left:0;position:absolute;background-color:#000000e6;overflow:hidden;z-index:20;transition:.5s}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-header[_ngcontent-%COMP%]{padding:.3333333333rem;position:absolute;right:0;display:flex;justify-content:space-between;top:0;left:0;pointer-events:none;z-index:30}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-header[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:all}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]{padding:.3333333333rem;position:absolute;right:0;display:flex;justify-content:space-between;bottom:0;left:0;pointer-events:none;z-index:30;align-items:flex-end}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:all}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]{width:100%;height:100%;padding:.3333333333rem;display:flex;align-items:center;justify-content:center;position:absolute;box-sizing:border-box}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]{width:100%;height:100%;outline:none;object-fit:contain;transition-property:opacity;transition-duration:.5s}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]   .fullscreen-content[src=""][_ngcontent-%COMP%]{opacity:0}'],data:{animation:[Fc]}});let t=e;return t})();function xfe(t,e){if(t&1){let n=re();dt(0),b(1,"i",14),k("click",function(r){N(n);let o=M(2).$implicit,a=M(3);return F(a.onGroupToggleClick(r,o))}),C(),ht()}if(t&2){let n=M(2).$implicit;T(),P("ngClass",n.group.open?"fa-square-minus":"fa-square-plus")("tp",n.group.open?"Collapse Group":"Expand Group")}}function Afe(t,e){if(t&1){let n=re();b(0,"div",10)(1,"i",11),k("click",function(r){N(n);let o=M().$implicit,a=M(3);return F(a.onHeartClick(r,o))}),C(),b(2,"i",12),k("click",function(r){N(n);let o=M().$implicit,a=M(3);return F(a.onBookmarkClick(r,o))}),C(),b(3,"span",13),k("click",function(r){N(n);let o=M().$implicit,a=M(3);return F(a.onLikeClick(r,o))})("contextmenu",function(r){N(n);let o=M().$implicit,a=M(3);return F(a.onDislikeClick(r,o))}),L(4),C(),G(5,xfe,2,2,"ng-container",0),C()}if(t&2){let n=M().$implicit;T(),P("ngClass",n.heart?"fa-solid active":"fa-regular"),T(),P("ngClass",n.bookmark?"fa-solid active":"fa-regular"),T(2),ue(n.likes),T(),P("ngIf",n.hasGroup())}}function Mfe(t,e){if(t&1){let n=re();b(0,"div",5),k("click",function(){let o=N(n).$implicit,a=M(3);return F(a.onImageClick(o))}),b(1,"div",6)(2,"img",7,8),k("onCreate",function(r){let a=N(n).$implicit,l=M(3);return F(l.onBrickCreate(r,a))})("load",function(){N(n);let r=ew(3);return F(r.style.opacity="1")}),C()(),G(4,Afe,6,4,"div",9),C()}if(t&2){let n=e.$implicit,i=M(3);J0("width: "+n.width+"px; height: "+n.height+"px; top: "+n.top+"px; left: "+n.left+"px; "),He("modifying-group",i.stateService.modifyingGroup==null?null:i.stateService.modifyingGroup.includes(n)),P("@leave",void 0),T(2),P("src",n.thumbnailLink,fi),T(2),P("ngIf",!i.stateService.modifyingGroup)}}function Pfe(t,e){if(t&1){let n=re();b(0,"div",3),k("onCreate",function(r){N(n);let o=M(2);return F(o.onMasonryContainerCreate(r))}),G(1,Mfe,5,7,"div",4),C()}if(t&2){let n=M(2);T(),P("ngForOf",n.stateService.filter())}}function Ofe(t,e){if(t&1&&(dt(0),b(1,"div",1),G(2,Pfe,2,1,"div",2),C(),ht()),t&2){let n=M();T(2),P("ngIf",n.stateService.filter)}}var RG=(()=>{let e=class e{constructor(i,r){this.applicationService=i,this.stateService=r,this.bricks={},ac(()=>this.scrollToTarget()),ac(()=>this.updateLayout())}scrollToTarget(){let i=this.stateService.target();if(i){let r=i.hasGroup()?this.stateService.getGroupRepresent(i):i,o=this.bricks[r?.id];if(o&&!Xt.isElementVisible(o)){let a=document.getElementsByClassName("masonry-scroll-container")[0],l=r.top-(a.clientHeight-o.height)/2;a.scrollTo({top:l,behavior:"smooth"})}}}updateLayout(){if(this.masonryContainer){let i=this.stateService.filter();if(i.length==0)return;let r=Xt.isLargeScreen()?200:150,o=6,a=this.masonryContainer.clientWidth,l=Math.floor(a/r),d=(a-o*(l-1))/l,h=[],m=[];for(let v=0;v<l;v++)h[v]=0,m[v]=v*(d+o);for(let v of i)v.width!=d&&(v.width=d,v.height=d/v.aspectRatio);for(let v of i)if(v.hasGroup()&&v.group.open){if(v==v.group.images[0]){let y=[this.getShortestColumnIndex(h)],E=[];for(let w=0;w<l;w++)E.push({top:0,bottom:0});for(let w of v.getGroupImages()){let S=[...y],D=Math.min(...y);if(D>0){let $=h[D-1]+w.height*.5;$>E[D].top&&$<E[D].bottom&&S.push(D-1)}let O=Math.max(...y);if(O<l-1){let $=h[O+1]+w.height*.5;$>E[O].top&&$<E[O].bottom&&S.push(O+1)}let V=this.getShortestColumnIndex(h.map(($,x)=>S.includes(x)?$:999999999));ae.push(y,V),w.top=h[V],w.left=m[V],h[V]+=w.height+o,E[V].top==0?(E[V].top=w.top,E[V].bottom=w.top+w.height):E[V].bottom+=o+w.height}}}else{let y=this.getShortestColumnIndex(h);v.left=m[y],v.top=h[y],h[y]=h[y]+v.height+o}}}getShortestColumnIndex(i){return i.indexOf(Math.min(...i))}onImageClick(i){if(this.stateService.modifyingGroup){let r=this.stateService.target();if(i.hasGroup()&&r.hasGroup()&&!r.group.images.includes(i))return;ae.toggle(this.stateService.modifyingGroup,i);return}Xt.isLargeScreen()&&i==this.stateService.target()&&this.stateService.fullscreenVisible.set(!0),this.stateService.target.set(i),this.stateService.sidebarVisible=!0}onHeartClick(i,r){Xt.isLargeScreen()&&(i.stopPropagation(),this.stateService.toggleHeart(r))}onBookmarkClick(i,r){Xt.isLargeScreen()&&(i.stopPropagation(),this.stateService.toggleBookmark(r))}onLikeClick(i,r){Xt.isLargeScreen()&&(i.stopPropagation(),this.stateService.like(r))}onDislikeClick(i,r){Xt.isLargeScreen()&&(i.preventDefault(),this.stateService.dislike(r))}onGroupToggleClick(i,r){Xt.isLargeScreen()&&(i.stopPropagation(),r.hasGroup()&&(r.group.open=!r.group.open,this.stateService.refreshFilter()))}onBrickCreate(i,r){this.bricks[r.id]=i.nativeElement}onMasonryContainerCreate(i){this.masonryContainer=i.nativeElement,this.updateLayout()}onResize(){this.updateLayout()}};e.\u0275fac=function(r){return new(r||e)(R(Dn),R(Bi))},e.\u0275cmp=de({type:e,selectors:[["app-masonry"]],hostBindings:function(r,o){r&1&&k("resize",function(){return o.onResize()},!1,Bt)},standalone:!0,features:[pe],decls:1,vars:1,consts:[[4,"ngIf"],[1,"masonry-scroll-container"],["class","masonry-container",3,"onCreate",4,"ngIf"],[1,"masonry-container",3,"onCreate"],["class","masonry-brick",3,"style","modifying-group","click",4,"ngFor","ngForOf"],[1,"masonry-brick",3,"click"],[1,"brick-container"],[3,"src","onCreate","load"],["imageElement",""],["class","brick-header",4,"ngIf"],[1,"brick-header"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],["tp","Like",1,"icon-button",3,"click","contextmenu"],[1,"icon-button","fa-solid","active",3,"ngClass","tp","click"]],template:function(r,o){r&1&&G(0,Ofe,3,1,"ng-container",0),r&2&&P("ngIf",!o.applicationService.reduceBandwidth)},dependencies:[ve,Ri,qe,nt,Ps,Cf],styles:["[_nghost-%COMP%]{height:100%;display:flex}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:scroll;background-color:var(--color-background-primary);width:100%;padding:.3333333333rem}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{border-right:1px solid var(--color-border)}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]{position:absolute;transition-property:top,left;transition-duration:.5s;padding-bottom:.3333333333rem}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick.modifying-group[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]{outline-color:var(--color-border);background-color:var(--color-background-secondary)}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick.modifying-group[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:.3333333333rem}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]{border-radius:.3333333333rem;width:100%;height:100%;display:flex;transition-property:outline,background-color;transition-duration:.5s;outline:1px solid transparent}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;-webkit-user-select:none;user-select:none;border-radius:.3333333333rem;contain:size;opacity:0;transition-property:opacity,margin;transition-duration:.5s}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]:hover   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:1;pointer-events:all}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;display:flex;padding:.3333333333rem;box-sizing:border-box;-webkit-user-select:none;user-select:none;justify-content:center;align-items:center}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:0;pointer-events:none}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.no-hover[_ngcontent-%COMP%]{cursor:default!important;border-color:transparent!important;background-color:transparent!important}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%]{opacity:1;pointer-events:all}"],data:{animation:[vH]}});let t=e;return t})();var CE=(()=>{let e=class e extends Vt{constructor(i,r){super(),this.dialogService=i,this.stateService=r,this.configuration={title:"Tag Group Editor",buttons:[{text:()=>this.group.name.length>0?"Save":"Create",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Delete",hidden:()=>!this.canDelete,click:()=>this.deleteGroup()}]}}ngOnInit(){this.group||(this.group={name:"",state:0,tags:[]}),this.groupName=this.group.name,this.canDelete=this.stateService.tagGroups.includes(this.group)}deleteGroup(){this.canDelete&&this.dialogService.createConfirmation("Delete Group",['Do you really want to delete tag group "'+this.group.name+'"?'],"Yes","No").then(i=>{if(i){let r=this.group.tags.map(o=>o.id);for(let o of this.stateService.images)ae.remove(o.tags,r);this.stateService.updateData(),this.resolve(null)}})}canSubmit(){return Tt.isEmpty(this.groupName)?!1:this.groupName==this.group.name?!0:this.stateService.tagGroups.find(i=>this.groupName==i.name)==null}submit(){this.canSubmit()&&(this.group.name=this.groupName,this.stateService.tagGroups.includes(this.group)||this.stateService.tagGroups.push(this.group),this.stateService.tagGroups.sort((i,r)=>i.name.localeCompare(r.name)),this.stateService.updateData(),this.resolve(this.group))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(R(Zt),R(Bi))},e.\u0275cmp=de({type:e,selectors:[["app-gallery-tag-group-editor"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.submit(l)},!1,Bt)},inputs:{group:"group"},standalone:!0,features:[ut,pe],decls:3,vars:1,consts:[[1,"element-label"],[1,"element",3,"ngModel","ngModelChange"]],template:function(r,o){r&1&&(b(0,"span",0),L(1,"Group Name"),C(),b(2,"input",1),Le("ngModelChange",function(l){return je(o.groupName,l)||(o.groupName=l),l}),C()),r&2&&(T(2),Fe("ngModel",o.groupName))},dependencies:[ve,St,Ht,en,Kt],styles:["[_nghost-%COMP%]{flex:1;display:flex;align-items:center;row-gap:.3333333333rem;column-gap:.3333333333rem;padding:.9999999999rem}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{flex:1;height:2rem;box-sizing:border-box}"]});let t=e;return t})();function kfe(t,e){if(t&1&&(b(0,"option",7),L(1),C()),t&2){let n=e.$implicit;P("ngValue",n),T(),ue(n.name)}}var NG=(()=>{let e=class e extends Vt{constructor(i,r){super(),this.dialogService=i,this.stateService=r,this.configuration={title:"Tag Editor",buttons:[{text:()=>this.group.name.length>0?"Save":"Create",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Delete",hidden:()=>!this.canDelete,click:()=>this.deleteTag()}]}}ngOnInit(){this.group?this.currentGroup=this.group:this.group={name:"",state:0,tags:[]},this.tag||(this.tag={id:ey(),name:"",state:0}),this.tagName=this.tag.name,this.canDelete=this.group.tags.includes(this.tag)}editGroup(i){this.dialogService.create(CE,{group:i}).then(r=>{r?this.currentGroup.name=r.name:i&&!this.stateService.tagGroups.includes(i)&&this.resolve(null)})}deleteTag(){this.canDelete&&this.dialogService.createConfirmation("Delete Tag",['Do you really want to delete tag "'+this.tag.name+'"?'],"Yes","No").then(i=>{if(i){for(let r of this.stateService.images)ae.remove(r.tags,this.tag.id);for(let r of this.stateService.tagGroups)ae.remove(r.tags,this.tag);this.stateService.updateData(),this.resolve(null)}})}canSubmit(){return Tt.isEmpty(this.tagName)?!1:this.tagName==this.tag.name?!0:this.currentGroup?.tags.find(i=>this.tagName==i.name)==null}submit(){this.canSubmit()&&(this.tag.name=this.tagName,this.currentGroup!=this.group&&ae.remove(this.group.tags,this.tag),this.currentGroup.tags.includes(this.tag)||(this.currentGroup.tags.push(this.tag),this.stateService.tagCounts[this.tag.id]=this.stateService.images.filter(i=>i.tags.includes(this.tag.id)).length),this.currentGroup.tags.sort((i,r)=>i.name.localeCompare(r.name)),this.stateService.updateData(),this.resolve(this.tag))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(R(Zt),R(Bi))},e.\u0275cmp=de({type:e,selectors:[["app-gallery-tag-editor"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.submit(l)},!1,Bt)},inputs:{group:"group",tag:"tag"},standalone:!0,features:[ut,pe],decls:12,vars:5,consts:[[1,"element-label"],[1,"element-container"],[1,"element",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"flex"],["tp","Edit Group",1,"icon-button","fa-solid","fa-edit",3,"click"],["tp","Create Group",1,"icon-button","fa-solid","fa-plus",3,"click"],[3,"ngValue"]],template:function(r,o){r&1&&(b(0,"span",0),L(1,"Group"),C(),b(2,"div",1)(3,"select",2),Le("ngModelChange",function(l){return je(o.currentGroup,l)||(o.currentGroup=l),l}),G(4,kfe,2,2,"option",3),C(),b(5,"div",4)(6,"i",5),k("click",function(){return o.editGroup(o.currentGroup)}),C(),b(7,"i",6),k("click",function(){return o.editGroup()}),C()()(),b(8,"span",0),L(9,"Name"),C(),b(10,"div",1)(11,"input",2),Le("ngModelChange",function(l){return je(o.tagName,l)||(o.tagName=l),l}),C()()),r&2&&(T(3),Fe("ngModel",o.currentGroup),T(),P("ngForOf",o.stateService.tagGroups),T(2),He("disabled",!o.currentGroup),T(5),Fe("ngModel",o.tagName))},dependencies:[ve,qe,St,As,Ms,Ht,eo,en,Kt],styles:["[_nghost-%COMP%]{display:grid;align-content:center;grid-template-columns:auto 1fr;grid-auto-rows:min-content;row-gap:.3333333333rem;column-gap:.3333333333rem;padding:.9999999999rem}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .element-container[_ngcontent-%COMP%]{height:2rem;display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .element-container[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{flex:1;height:2rem;box-sizing:border-box}"]});let t=e;return t})();var FG=(()=>{let e=class e extends Vt{constructor(i){super(),this.stateService=i,this.configuration={title:"Group Size Filter Editor",buttons:[{text:()=>"Submit",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Close",click:()=>this.close()}]}}ngOnInit(){this.min=this.stateService.groupSizeFilterMin,this.max=this.stateService.groupSizeFilterMax}canSubmit(){return this.min!=null&&this.max!=null&&this.min<=this.max}submit(){this.canSubmit()&&(this.stateService.groupSizeFilterMin=this.min,this.stateService.groupSizeFilterMax=this.max,this.resolve(!0))}close(){this.resolve(!1)}};e.\u0275fac=function(r){return new(r||e)(R(Bi))},e.\u0275cmp=de({type:e,selectors:[["app-group-size-filter-editor"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.submit(l)},!1,Bt)},standalone:!0,features:[ut,pe],decls:6,vars:2,consts:[[1,"element-label"],["min","2","max","999",1,"element",3,"ngModel","ngModelChange"]],template:function(r,o){r&1&&(b(0,"span",0),L(1,"Min Group Size"),C(),b(2,"input",1),Le("ngModelChange",function(l){return je(o.min,l)||(o.min=l),l}),C(),b(3,"span",0),L(4,"Max Group Size"),C(),b(5,"input",1),Le("ngModelChange",function(l){return je(o.max,l)||(o.max=l),l}),C()),r&2&&(T(2),Fe("ngModel",o.min),T(3),Fe("ngModel",o.max))},dependencies:[ve,St,Ht,en,Kt],styles:["[_nghost-%COMP%]{width:max-content;display:grid;align-content:center;grid-template-columns:auto 1fr;grid-auto-rows:min-content;row-gap:.3333333333rem;column-gap:.3333333333rem;padding:.9999999999rem}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{flex:1;height:2rem;box-sizing:border-box}"]});let t=e;return t})();function Rfe(t,e){if(t&1){let n=re();b(0,"img",40),k("onCreate",function(r){let a=N(n).$implicit,l=M(2);return F(l.onGroupPreviewCreate(r,a))})("load",function(){let o=N(n).$implicit,a=M(2);return F(a.onGroupPreviewLoad(o))})("click",function(r){let a=N(n).$implicit,l=M(2);return F(l.onGroupPreviewClick(r,a))})("dblclick",function(r){let a=N(n).$implicit,l=M(2);return F(l.onGroupPreviewDoubleClick(r,a))}),C()}if(t&2){let n=e.$implicit;os("aspect-ratio",n.aspectRatio),P("src",n.thumbnailLink,fi)("draggable",!1)}}function Nfe(t,e){if(t&1){let n=re();b(0,"i",41),k("click",function(){N(n);let r=M(2);return F(r.stateService.sidebarVisible=!1)}),C()}}function Ffe(t,e){if(t&1){let n=re();b(0,"i",42),k("click",function(){N(n);let r=M(2);return F(r.stateService.setRandomGroupTarget())}),C()}}function Lfe(t,e){if(t&1){let n=re();b(0,"div",31)(1,"app-switch",45),k("stateChange",function(r){let a=N(n).$implicit,l=M(3);return F(l.onFilterStateChange(a,r))}),C(),b(2,"span",49),k("click",function(r){let a=N(n).$implicit,l=M().$implicit,d=M(2);return F(d.openTagEditor(r,l,a))}),L(3),C(),b(4,"app-switch",50),k("stateChange",function(){let o=N(n).$implicit,a=M(2).ngVar,l=M();return F(l.stateService.toggleTag(a,o.id))}),C()()}if(t&2){let n=e.$implicit,i=M(2).ngVar,r=M();T(),P("tri",!0)("state",n.state)("tp","Filter: "+n.name),T(2),ue(n.name+" ("+(r.stateService.tagCounts[n.id]||0)+")"),T(),P("state",i!=null&&i.tags.includes(n.id)?1:-1)("tp","Image: "+n.name)}}function Vfe(t,e){if(t&1){let n=re();b(0,"div",43),ee(1,"div",44),b(2,"div",31)(3,"app-switch",45),k("stateChange",function(r){let a=N(n).$implicit,l=M(2);return F(l.onFilterStateChange(a,r))}),C(),b(4,"span",46),k("click",function(r){let a=N(n).$implicit,l=M(2);return F(l.openGroupEditor(r,a))}),L(5),C(),ee(6,"app-switch",47),C(),G(7,Lfe,5,6,"div",48),C()}if(t&2){let n=e.$implicit;T(3),P("tri",!0)("state",n.state)("tp","Filter: "+n.name),T(2),ue(n.name),T(),P("state",0),T(),P("ngForOf",n.tags)}}function jfe(t,e){if(t&1){let n=re();b(0,"div",2)(1,"div",3)(2,"div",4)(3,"img",5),k("click",function(){N(n);let r=M();return F(r.onPreviewClick())}),C()(),b(4,"div",6)(5,"div",7)(6,"div",8),G(7,Rfe,1,4,"img",9),C()()(),b(8,"div",10),G(9,Nfe,1,0,"i",11),b(10,"i",12),k("click",function(){N(n);let r=M();return F(r.dialogService.openSettings())}),C()(),b(11,"div",13)(12,"i",14),k("click",function(){let o=N(n).ngVar,a=M();return F(a.stateService.toggleHeart(o))}),C(),b(13,"i",15),k("click",function(){let o=N(n).ngVar,a=M();return F(a.stateService.toggleBookmark(o))}),C(),b(14,"span",16),k("click",function(){let o=N(n).ngVar,a=M();return F(a.stateService.like(o))})("contextmenu",function(r){let a=N(n).ngVar,l=M();return r.preventDefault(),F(l.stateService.dislike(a))}),L(15),C()(),b(16,"div",17)(17,"i",18),k("click",function(){N(n);let r=M();return F(r.stateService.moveTargetToTrash())}),C()(),ee(18,"div",19),C(),b(19,"div",20)(20,"div",21)(21,"div",22)(22,"i",23),k("click",function(){N(n);let r=M();return F(r.openGroupSizeFilterDialog())}),C()(),b(23,"div",24),G(24,Ffe,1,0,"i",25),b(25,"i",26),k("click",function(){N(n);let r=M();return F(r.stateService.setRandomTarget())}),C()(),b(26,"div",27)(27,"i",28),k("click",function(){N(n);let r=M();return F(r.openTagEditor())}),C()()(),b(28,"div",29)(29,"div",30)(30,"div",31)(31,"app-switch",32),k("stateChange",function(r){N(n);let o=M();return F(o.onLikesStateChange(r))}),C(),b(32,"div"),ee(33,"i",33),b(34,"span",34),L(35),C()(),b(36,"app-switch",35),k("stateChange",function(){let o=N(n).ngVar,a=M();return F(a.stateService.toggleHeart(o))}),C()(),b(37,"div",31)(38,"app-switch",36),k("stateChange",function(r){N(n);let o=M();return F(o.onBookmarksStateChange(r))}),C(),b(39,"div"),ee(40,"i",37),b(41,"span",34),L(42),C()(),b(43,"app-switch",38),k("stateChange",function(){let o=N(n).ngVar,a=M();return F(a.stateService.toggleBookmark(o))}),C()(),G(44,Vfe,8,6,"div",39),C()()()()}if(t&2){let n=e.ngVar,i=M();T(3),P("src",n==null?null:n.thumbnailLink,fi),T(),He("display-none",!(n!=null&&n.hasGroup())),T(3),P("ngForOf",n==null?null:n.getGroupImages()),T(2),P("ngIf",!i.applicationService.reduceBandwidth),T(3),P("ngClass",n!=null&&n.heart?"fa-solid":"fa-regular"),T(),P("ngClass",n!=null&&n.bookmark?"fa-solid":"fa-regular"),T(2),ue(n==null?null:n.likes),T(9),P("ngIf",n==null?null:n.hasGroup()),T(7),P("tri",!0)("state",i.stateService.heartsFilter),T(4),ue(" ("+(i.stateService.tagCounts._heart||0)+")"),T(),P("state",n!=null&&n.heart?1:-1),T(2),P("tri",!0)("state",i.stateService.bookmarksFilter),T(4),ue(" ("+(i.stateService.tagCounts._bookmark||0)+")"),T(),P("state",n!=null&&n.bookmark?1:-1),T(),P("ngForOf",i.stateService.tagGroups)}}var LG=(()=>{let e=class e{constructor(i,r,o){this.applicationService=i,this.stateService=r,this.dialogService=o,this.groupPreviews={},this.sidebarGroupPreviewsLoaded=0;let a;ac(l=>{l(()=>a=d),this.sidebarGroupPreviewsLoaded=0;let d=this.stateService.target();d?.hasGroup()&&a&&d.getGroupImages().includes(a)&&this.moveTargetGroupPreviewIntoView(!0)})}ngAfterViewInit(){this.setupTagListMouseDragEvents(),this.setupGroupPreviewMouseDragEvents()}setupTagListMouseDragEvents(){if(Xt.isLargeScreen()){let i,r,o=document.getElementsByClassName("taglist-scrollbar-container")[0];o.addEventListener("mousemove",a=>{if(r){a.preventDefault();let d=(a.pageY-o.offsetTop-this.tagListClickY)*2;o.scrollTop=i-d}}),window.addEventListener("mousedown",a=>{r=!0,i=o.scrollTop,this.tagListClickY=a.pageY-o.offsetTop}),window.addEventListener("mouseup",()=>{r=!1})}}setupGroupPreviewMouseDragEvents(){if(Xt.isLargeScreen()){let i,r,o,a=document.getElementsByClassName("sidebar-preview-group-scroll-container")[0],l=()=>{a.classList.remove("hovering"),clearTimeout(i),i=null,this.moveTargetGroupPreviewIntoView(!0)};a.addEventListener("mouseenter",()=>{i||(i=setTimeout(()=>{a.classList.add("hovering")},250))}),a.addEventListener("mouseleave",()=>{o||l()});let d=h=>{h.preventDefault();let v=h.pageX+a.offsetLeft-this.groupPreviewClickX;a.scrollLeft=r-v};a.addEventListener("mousedown",h=>{o=!0,r=a.scrollLeft,this.groupPreviewContainerOffsetLeft=a.offsetLeft,this.groupPreviewClickX=h.pageX+a.offsetLeft,window.addEventListener("mousemove",d)}),window.addEventListener("mouseup",h=>{o=!1,window.removeEventListener("mousemove",d),document.elementsFromPoint(h.x,h.y).includes(a)||l()})}}onGroupPreviewCreate(i,r){this.groupPreviews[r.id]=i.nativeElement}onGroupPreviewLoad(i){this.sidebarGroupPreviewsLoaded++,this.sidebarGroupPreviewsLoaded==i.getGroupImages().length&&this.moveTargetGroupPreviewIntoView(!1)}moveTargetGroupPreviewIntoView(i){let r=this.stateService.target();if(r){let o=this.groupPreviews[r.id],a=document.getElementsByClassName("sidebar-preview-group-scroll-container")[0];if(o&&!a.classList.contains("hovering")&&!Xt.isElementVisible(o,a)){let l=o.offsetLeft-(a.clientWidth-o.clientWidth)/2;a.scrollTo({left:l,behavior:i?"smooth":"auto"})}}}openTagEditor(i,r,o){(!i||!this.tagListClickY||Math.abs(i.pageY-this.tagListClickY-36)<Xt.MOUSE_MOVEMENT_TOLERANCE)&&this.dialogService.create(NG,{group:r,tag:o})}openGroupEditor(i,r){(!i||!this.tagListClickY||Math.abs(i.pageY-this.tagListClickY-36)<Xt.MOUSE_MOVEMENT_TOLERANCE)&&this.dialogService.create(CE,{group:r})}openGroupSizeFilterDialog(){this.dialogService.create(FG).then(i=>{i&&(this.stateService.refreshFilter(),this.stateService.updateData())})}onFilterStateChange(i,r){i.state=r.state,this.stateService.refreshFilter(),this.stateService.updateData()}onLikesStateChange(i){this.stateService.heartsFilter=i.state,this.stateService.refreshFilter(),this.stateService.updateData()}onBookmarksStateChange(i){this.stateService.bookmarksFilter=i.state,this.stateService.refreshFilter(),this.stateService.updateData()}onPreviewClick(){this.stateService.fullscreenVisible.set(!0)}onGroupPreviewClick(i,r){Math.abs(i.pageX+this.groupPreviewContainerOffsetLeft-this.groupPreviewClickX)<Xt.MOUSE_MOVEMENT_TOLERANCE&&this.stateService.target.set(r)}onGroupPreviewDoubleClick(i,r){Math.abs(i.pageX+this.groupPreviewContainerOffsetLeft-this.groupPreviewClickX)<Xt.MOUSE_MOVEMENT_TOLERANCE&&this.stateService.fullscreenVisible.set(!0)}};e.\u0275fac=function(r){return new(r||e)(R(Dn),R(Bi),R(Zt))},e.\u0275cmp=de({type:e,selectors:[["app-sidebar"]],standalone:!0,features:[pe],decls:2,vars:3,consts:[[1,"sidebar-visibility-container"],["class","sidebar-content",4,"ngVar"],[1,"sidebar-content"],[1,"sidebar-half","sidebar-half-top"],[1,"sidebar-preview-container"],[1,"sidebar-preview",3,"src","click"],[1,"sidebar-preview-group-container"],[1,"sidebar-preview-group-scroll-container"],[1,"sidebar-preview-group-border-container"],["class","sidebar-preview-group-image",3,"aspect-ratio","src","draggable","onCreate","load","click","dblclick",4,"ngFor","ngForOf"],[1,"absolute","top","left"],["class","icon-button fa-solid fa-arrow-left desktop-hidden",3,"click",4,"ngIf"],["tp","Settings",1,"icon-button","fa-solid","fa-gear",3,"click"],[1,"absolute","top","right"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],["tp","Like",1,"icon-button",3,"click","contextmenu"],[1,"absolute","bottom","left"],["tp","Trash",1,"icon-button","fa-solid","fa-trash",3,"click"],[1,"absolute","bottom","right"],[1,"sidebar-half",2,"position","relative"],[1,"sidebar-filter-header"],[1,"flex",2,"justify-content","start"],["tp","Group Size Filter Configuration",1,"icon-button","fa-solid","fa-hashtag",3,"click"],[1,"flex",2,"justify-content","center"],["class","icon-button fa-solid fa-arrows-spin","tp","Random Group Target",3,"click",4,"ngIf"],["tp","Random Target",1,"icon-button","fa-solid","fa-shuffle",3,"click"],[1,"flex",2,"justify-content","end"],["tp","Tag Editor",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"taglist-scrollbar-container"],[1,"sidebar-filter-list"],[1,"sidebar-item"],["tp","Filter: Heart",3,"tri","state","stateChange"],[1,"fa-solid","fa-heart"],[1,"sidebar-item-label"],["tp","Image: Heart",3,"state","stateChange"],["tp","Filter: Bookmark",3,"tri","state","stateChange"],[1,"fa-solid","fa-bookmark"],["tp","Image: Bookmark",3,"state","stateChange"],["class","sidebar-group",4,"ngFor","ngForOf"],[1,"sidebar-preview-group-image",3,"src","draggable","onCreate","load","click","dblclick"],[1,"icon-button","fa-solid","fa-arrow-left","desktop-hidden",3,"click"],["tp","Random Group Target",1,"icon-button","fa-solid","fa-arrows-spin",3,"click"],[1,"sidebar-group"],[1,"h-separator"],[3,"tri","state","tp","stateChange"],[1,"sidebar-group-header","sidebar-item-label",3,"click"],[2,"visibility","hidden",3,"state"],["class","sidebar-item",4,"ngFor","ngForOf"],[1,"sidebar-item-label",3,"click"],[3,"state","tp","stateChange"]],template:function(r,o){r&1&&(b(0,"div",0),G(1,jfe,45,18,"div",1),C()),r&2&&(He("visible",o.stateService.sidebarVisible),T(),P("ngVar",o.stateService.target()))},dependencies:[ve,Ri,qe,nt,uE,Ps,Af,Cf],styles:[".sidebar-visibility-container[_ngcontent-%COMP%]{height:100%;display:flex;z-index:10}@media screen and (min-width: 768px){.sidebar-visibility-container[_ngcontent-%COMP%]:not(.visible){display:none}}@media screen and (max-width: 768px){.sidebar-visibility-container[_ngcontent-%COMP%]{width:100%;position:absolute;transition:.5s}.sidebar-visibility-container[_ngcontent-%COMP%]:not(.visible){position:absolute;opacity:0;visibility:hidden;pointer-events:none}}.sidebar-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media screen and (min-width: 768px){.sidebar-content[_ngcontent-%COMP%]{width:300px;min-width:300px}}@media screen and (max-width: 768px){.sidebar-content[_ngcontent-%COMP%]{width:100%;min-width:initial;background-color:#000000e6;transition:.5s}}.sidebar-half[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;flex:1;min-height:0}.sidebar-half.sidebar-half-top[_ngcontent-%COMP%]{position:relative;margin:.3333333333rem}@media screen and (min-width: 768px){.sidebar-half.sidebar-half-top[_ngcontent-%COMP%]{gap:0}}.sidebar-preview-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:0;flex:1}.sidebar-preview[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:.3333333333rem;object-fit:contain}.sidebar-preview-group-container[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:hidden;min-height:110px;margin:.3333333333rem -.3333333333rem 0}@media screen and (min-width: 768px){.sidebar-preview-group-container[_ngcontent-%COMP%]{overflow:hidden;min-height:calc(110px + .6666666666rem);margin:0 -.3333333333rem -.3333333333rem}}.sidebar-preview-group-container[_ngcontent-%COMP%]   .sidebar-preview-group-scroll-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem;box-sizing:border-box;border-radius:.5rem;max-width:100vw}@media screen and (min-width: 768px){.sidebar-preview-group-container[_ngcontent-%COMP%]   .sidebar-preview-group-scroll-container[_ngcontent-%COMP%]{overflow:hidden}}.sidebar-preview-group-container[_ngcontent-%COMP%]   .sidebar-preview-group-scroll-container.hovering[_ngcontent-%COMP%]{position:absolute;z-index:21;padding-left:calc(100vw - 300px);right:-.3333333333rem;bottom:-.3333333333rem}.sidebar-preview-group-border-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem;padding:0 .3333333333rem}@media screen and (min-width: 768px){.sidebar-preview-group-border-container[_ngcontent-%COMP%]{background-color:var(--color-background-primary);padding:.3333333333rem;border-radius:.5rem}}.sidebar-preview-group-image[_ngcontent-%COMP%]{height:110px;border-radius:.3333333333rem}.sidebar-preset-filters[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.sidebar-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.1666666667rem}.sidebar-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;gap:.1666666667rem;border-radius:.6666666666rem}.sidebar-item[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--color-background-secondary)}.sidebar-item[_ngcontent-%COMP%]:hover{background-color:#ffffff26}.sidebar-group-header[_ngcontent-%COMP%]{font-size:18px;text-decoration:underline}.sidebar-item-label[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:text}.sidebar-filter-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;gap:.3333333333rem;padding:0 .3333333333rem}.sidebar-filter-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:-webkit-fill-available;height:2rem;padding:0 .3333333333rem;border-radius:.3333333333rem;box-sizing:border-box;border:0}.sidebar-filter-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{outline:initial}.taglist-scrollbar-container[_ngcontent-%COMP%]{flex:1;overflow:auto;padding:.3333333333rem}.taglist-scrollbar-container[_ngcontent-%COMP%]   .sidebar-filter-list[_ngcontent-%COMP%]{font-size:16px;display:flex;flex-direction:column;gap:.1666666667rem}"]});let t=e;return t})();var VG=(()=>{let e=class e{constructor(i,r,o){this.dialogService=i,this.applicationService=r,this.stateService=o,this.applicationService.loading.next(!0)}ngOnInit(){this.initKeybinds(),this.stateService.processData().then(i=>I(this,null,function*(){i.settings||(this.stateService.settings={},yield this.dialogService.openSettings()),this.stateService.processImages(i)}))}initKeybinds(){document.addEventListener("keyup",i=>{if(["BODY","VIDEO"].includes(document.activeElement.nodeName))switch(i.code){case"KeyF":this.stateService.fullscreenVisible.update(r=>!r);break;case"KeyR":this.stateService.setRandomTarget();break;case"KeyG":this.stateService.setRandomGroupTarget();break;case"KeyW":case"ArrowUp":this.stateService.target.set(Xr.getNearestImageUp(this.stateService.target(),this.stateService.filter()));break;case"KeyD":case"ArrowRight":this.stateService.target.set(Xr.getNearestImageRight(this.stateService.target(),this.stateService.filter()));break;case"KeyS":case"ArrowDown":this.stateService.target.set(Xr.getNearestImageDown(this.stateService.target(),this.stateService.filter()));break;case"KeyA":case"ArrowLeft":this.stateService.target.set(Xr.getNearestImageLeft(this.stateService.target(),this.stateService.filter()));break}})}};e.\u0275fac=function(r){return new(r||e)(R(Zt),R(Dn),R(Bi))},e.\u0275cmp=de({type:e,selectors:[["app-gallery"]],standalone:!0,features:[pe],decls:4,vars:2,consts:[[1,"content-container"]],template:function(r,o){r&1&&(b(0,"div",0),ee(1,"app-masonry")(2,"app-fullscreen"),C(),ee(3,"app-sidebar")),r&2&&(T(),P("@enter",void 0),T(2),P("@enter",void 0))},dependencies:[ve,RG,kG,LG],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden;position:relative}@media screen and (min-width: 768px){[_nghost-%COMP%]{display:flex}}[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]{width:100%}@media screen and (max-width: 768px){[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]{position:absolute;height:100%}}"],data:{animation:[gH]}});let t=e;return t})();var jG="https://mazacik.github.io",yk={production:!0,baseUrl:jG,redirectUrl:jG+"/login"};var Rf=(()=>{let e=class e{constructor(i){this.http=i,this.CLIENT_ID="692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com",this.CLIENT_SECRET="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"}getAccessToken(){return this.accessToken}startAuthentication(){let a="https://accounts.google.com/o/oauth2/v2/auth?redirect_uri="+yk.redirectUrl+"&prompt=consent&response_type=code&client_id="+"692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com"+"&scope="+"https://www.googleapis.com/auth/drive"+"&access_type=offline";window.location=a}requestTokens(i){return I(this,null,function*(){let r="https://accounts.google.com/o/oauth2/token",o={"content-type":"form-data",grant_type:"authorization_code",code:i,client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET,redirect_uri:yk.redirectUrl,plugin_name:"TagalleryWeb"};yield z_(this.http.post(r,o)).then(a=>{a&&(this.accessToken=a.access_token,this.refreshToken=a.refresh_token,window.localStorage.setItem("googleRefreshToken",this.refreshToken))}).catch(a=>a)})}requestAccessToken(){return I(this,null,function*(){let i="https://accounts.google.com/o/oauth2/token",r={grant_type:"refresh_token",refresh_token:this.getRefreshToken(),client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET};return yield z_(this.http.post(i,r)).then(o=>{o&&(this.accessToken=o.access_token)}).catch(o=>o),this.accessToken})}getRefreshToken(){return this.refreshToken||(this.refreshToken=window.localStorage.getItem("googleRefreshToken")),this.refreshToken}};e.\u0275fac=function(r){return new(r||e)(se(Ol))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var UG=(()=>{let e=class e{constructor(i,r,o){this.route=i,this.router=r,this.authenticationService=o}ngAfterViewInit(){this.route.queryParams.subscribe(i=>{let r=i.code;r&&this.authenticationService.requestTokens(r).finally(()=>{this.router.navigate([sessionStorage.getItem("appId")||""])})})}signIn(){this.authenticationService.startAuthentication()}};e.\u0275fac=function(r){return new(r||e)(R(nr),R(Kn),R(Rf))},e.\u0275cmp=de({type:e,selectors:[["app-login"]],decls:4,vars:0,consts:[[1,"sign-in-button",3,"click"],["src","assets/google-logo.svg"],[1,"sign-in-text"]],template:function(r,o){r&1&&(b(0,"div",0),k("click",function(){return o.signIn()}),ee(1,"img",1),b(2,"span",2),L(3,"Sign in with Google"),C()())},styles:["[_nghost-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]{width:18px;height:18px}.sign-in-button[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;gap:8px;padding:0 12px;cursor:pointer;background-color:#fff;border:1px solid #dadce0;border-radius:4px;-webkit-user-select:none;user-select:none}.sign-in-button[_ngcontent-%COMP%]:hover{background:#f8faff;border-color:#d2e3fc}.sign-in-text[_ngcontent-%COMP%]{color:#3c4043;font-family:Google Sans,arial,sans-serif;font-size:14px;letter-spacing:.25px}"]});let t=e;return t})();var EE=(t,e)=>I(void 0,null,function*(){sessionStorage.setItem("appId",t.url.join("")),console.log("guard: start");let n=J(Kn),i=J(Rf);if(i.getAccessToken())return console.log("guard: has access token, return true"),!0;if(console.log("guard: no access token"),i.getRefreshToken()){if(console.log("guard: has refresh token"),yield i.requestAccessToken())return console.log("guard: got access token from refresh token, return true"),!0;console.log("guard: could not get access token from refresh token")}return console.log("guard: return false"),n.navigate(["login"])});var BG=(t,e)=>{let n=J(Kn),i=sessionStorage.getItem("dataFileId");return Tt.isEmpty(i)?n.createUrlTree(["/folder-picker"]):!0};var $G=(t,e)=>{for(let n of["FB_IAB","FBAN","FBAV","FB4A","MESSENGER"])if(navigator.userAgent.includes(n))return J(Kn).createUrlTree(["/messenger-browser"]);return!0};var HG=(t,e)=>{for(let n of["FB_IAB","FBAN","FBAV","FB4A","MESSENGER"])if(navigator.userAgent.includes(n))return!0;return J(Kn).createUrlTree([""])};var GG=(()=>{let e=class e{constructor(){this.crossfade=!0,this.userAgent=window.navigator.userAgent}ngOnInit(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=de({type:e,selectors:[["app-fuck-messenger-browser"]],hostVars:1,hostBindings:function(r,o){r&2&&xl("@crossfade",o.crossfade)},standalone:!0,features:[pe],decls:7,vars:1,consts:[[1,"user-agent"],["src","/assets/fuck-messenger-browser.jpg",1,"picture"]],template:function(r,o){r&1&&(b(0,"span",0),L(1),C(),b(2,"span"),L(3,"Prehliada\u010D v aplik\xE1cii Messenger nesp\u013A\u0148a modern\xE9 \u0161tandardy a ned\xE1 sa v \u0148om prihl\xE1si\u0165 do \xFA\u010Dtu Google."),C(),b(4,"span"),L(5,"Vpravo hore by malo by\u0165 tla\u010D\xEDtko, ktor\xE9 ti str\xE1nku otvor\xED v norm\xE1lnom prehliada\u010Di."),C(),ee(6,"img",1)),r&2&&(T(),ue(o.userAgent))},dependencies:[ve,St],styles:["[_nghost-%COMP%]{height:100vh;width:100vw;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1.3333333332rem 0;text-align:center;gap:2rem;margin:0 .6666666666rem;position:relative;box-sizing:border-box}[_nghost-%COMP%]   .user-agent[_ngcontent-%COMP%]{font-size:.667rem;position:absolute;top:.667rem}[_nghost-%COMP%]   .picture[_ngcontent-%COMP%]{max-width:100%}"],data:{animation:[cE]}});let t=e;return t})();function Bfe(t,e){if(t&1){let n=re();b(0,"span",4),k("click",function(){N(n);let r=M();return F(r.parseText())}),L(1,"Parse"),C()}}function $fe(t,e){if(t&1){let n=re();b(0,"div",6)(1,"span",4),k("click",function(){N(n);let r=M(2);return F(r.onEntryClick(r.tournament.comparison[0],r.tournament.comparison[1]))}),L(2),C(),b(3,"span",4),k("click",function(){N(n);let r=M(2);return F(r.onEntryClick(r.tournament.comparison[1],r.tournament.comparison[0]))}),L(4),C()()}if(t&2){let n=M(2);T(2),ue(n.tournament.comparison[0]),T(2),ue(n.tournament.comparison[1])}}function Hfe(t,e){if(t&1&&(dt(0),G(1,$fe,5,2,"div",5),ht()),t&2){let n=M();T(),P("ngIf",n.tournament.comparison)}}var zG=(()=>{let e=class e{constructor(){this.text=`01
02
03
04
05
06
07
08
`,this.entries=[],this.result=[]}ngOnInit(){}parseText(){this.entries=this.text.split(`
`).filter(i=>i?.length>0),this.tournament=new Sf(this.entries,i=>i),this.text=""}onEntryClick(i,r){this.tournament.addComparisonResult(i,r),this.text=this.tournament.outcome.join(`
`)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=de({type:e,selectors:[["app-tournament"]],standalone:!0,features:[pe],decls:4,vars:5,consts:[[1,"input-container"],[3,"placeholder","ngModel","readOnly","ngModelChange"],["class","button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"button",3,"click"],["class","comparison",4,"ngIf"],[1,"comparison"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"textarea",1),Le("ngModelChange",function(l){return je(o.text,l)||(o.text=l),l}),C(),G(2,Bfe,2,0,"span",2),C(),G(3,Hfe,2,1,"ng-container",3)),r&2&&(T(),P("placeholder",o.tournament?"Leaderboard":"Entries"),Fe("ngModel",o.text),P("readOnly",o.tournament),T(),P("ngIf",!o.tournament),T(),P("ngIf",o.tournament))},dependencies:[ve,nt,St,Ht,en,Kt],styles:["[_nghost-%COMP%]{display:flex;overflow-x:hidden;height:100%}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]{width:25%;display:flex;flex-direction:column;gap:.3333333333rem;margin:.3333333333rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;color:var(--color-text);overflow-wrap:anywhere;border-radius:.1666666667rem;box-sizing:border-box;border:1px solid var(--color-border);font-family:inherit;font-size:inherit;min-width:50px;background-color:transparent;resize:none;padding:.1666666667rem .3333333333rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus-visible{outline:initial}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex:3;overflow:hidden;gap:.3333333333rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{aspect-ratio:2}}"]});let t=e;return t})();var qG=[{path:"messenger-browser",canActivate:[HG],component:GG},{path:"login",component:UG},{path:"adventure",canActivate:[EE],component:iG},{path:"folder-picker",canActivate:[EE],component:OG},{path:"gallery",canActivate:[EE,BG],component:VG},{path:"tournament",component:zG},{path:"event/:id",component:xG,children:[{path:"hlasovanie/vysledky",component:MG},{path:"hlasovanie",canActivate:[$G],component:PG},{path:"prihlaska",component:EG},{path:"pravidla",component:AG},{path:"**",redirectTo:"hlasovanie"}]},{path:"**",redirectTo:"event/2024-splav"}];var WG=(t,e)=>{let n=J(Rf);return e(KG(n,t)).pipe(Ko(i=>Gfe(n,i,t,e)))},KG=(t,e)=>e.url.includes("googleapis.com")?e.clone({headers:e.headers.set("authorization","Bearer "+t.getAccessToken())}):e,Gfe=(t,e,n,i)=>I(void 0,null,function*(){if(!e.url.includes("accounts.google.com")&&(yield t.requestAccessToken()))return i(KG(t,n))});a$(SH,{providers:[U$(),b9(qG,C9({paramsInheritanceStrategy:"always"})),aU(lU(),cU([WG])),rm(LU(()=>VU({apiKey:"AIzaSyDOAks7IYxZn0CfhQfDYp06r5rP9B-4Jc8",authDomain:"mazacik-69cda.firebaseapp.com",projectId:"mazacik-69cda",storageBucket:"mazacik-69cda.appspot.com",messagingSenderId:"43148772573",appId:"1:43148772573:web:86c8a9749dd20d99260734"}))),rm(Y5(()=>Z5())),rm(BB(()=>$B())),mH({defaultVariation:"tooltip",variations:{tooltip:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!1,offset:[0,6]}}})]}).catch(t=>console.error(t));
