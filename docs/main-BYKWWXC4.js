var UP=Object.defineProperty,BP=Object.defineProperties;var $P=Object.getOwnPropertyDescriptors;var wu=Object.getOwnPropertySymbols,zP=Object.getPrototypeOf,tE=Object.prototype.hasOwnProperty,nE=Object.prototype.propertyIsEnumerable,HP=Reflect.get;var eE=(t,e,n)=>e in t?UP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V=(t,e)=>{for(var n in e||={})tE.call(e,n)&&eE(t,n,e[n]);if(wu)for(var n of wu(e))nE.call(e,n)&&eE(t,n,e[n]);return t},Se=(t,e)=>BP(t,$P(e));var Sp=(t,e)=>{var n={};for(var r in t)tE.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&wu)for(var r of wu(t))e.indexOf(r)<0&&nE.call(t,r)&&(n[r]=t[r]);return n};var xi=(t,e,n)=>HP(zP(t),n,e);var E=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function rE(t,e){return Object.is(t,e)}var Dt=null,ec=!1,Eu=1,_r=Symbol("SIGNAL");function Re(t){let e=Dt;return Dt=t,e}function qP(){return ec}var nc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Mp(t){if(ec)throw new Error("");if(Dt===null)return;Dt.consumerOnSignalRead(t);let e=Dt.nextProducerIndex++;if(xs(Dt),e<Dt.producerNode.length&&Dt.producerNode[e]!==t&&tc(Dt)){let n=Dt.producerNode[e];Su(n,Dt.producerIndexOfThis[e])}Dt.producerNode[e]!==t&&(Dt.producerNode[e]=t,Dt.producerIndexOfThis[e]=tc(Dt)?cE(t,Dt,e):0),Dt.producerLastReadVersion[e]=t.version}function GP(){Eu++}function iE(t){if(!(tc(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Eu)){if(!t.producerMustRecompute(t)&&!Tu(t)){t.dirty=!1,t.lastCleanEpoch=Eu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Eu}}function oE(t){if(t.liveConsumerNode===void 0)return;let e=ec;ec=!0;try{for(let n of t.liveConsumerNode)n.dirty||aE(n)}finally{ec=e}}function sE(){return Dt?.consumerAllowSignalWrites!==!1}function aE(t){t.dirty=!0,oE(t),t.consumerMarkedDirty?.(t)}function Iu(t){return t&&(t.nextProducerIndex=0),Re(t)}function bu(t,e){if(Re(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(tc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Su(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Tu(t){xs(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(iE(n),r!==n.version))return!0}return!1}function Pp(t){if(xs(t),tc(t))for(let e=0;e<t.producerNode.length;e++)Su(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function cE(t,e,n){if(lE(t),xs(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=cE(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Su(t,e){if(lE(t),xs(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Su(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];xs(i),i.producerIndexOfThis[r]=e}}function tc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function xs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function lE(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function uE(t){let e=Object.create(WP);e.computation=t;let n=()=>{if(iE(e),Mp(e),e.value===Cu)throw e.error;return e.value};return n[_r]=e,n}var Dp=Symbol("UNSET"),Ap=Symbol("COMPUTING"),Cu=Symbol("ERRORED"),WP=Se(V({},nc),{value:Dp,dirty:!0,error:null,equal:rE,producerMustRecompute(t){return t.value===Dp||t.value===Ap},producerRecomputeValue(t){if(t.value===Ap)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Ap;let n=Iu(t),r;try{r=t.computation()}catch(i){r=Cu,t.error=i}finally{bu(t,n)}if(e!==Dp&&e!==Cu&&r!==Cu&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function KP(){throw new Error}var dE=KP;function hE(){dE()}function fE(t){dE=t}var QP=null;function pE(t){let e=Object.create(gE);e.value=t;let n=()=>(Mp(e),e.value);return n[_r]=e,n}function Op(t,e){sE()||hE(),t.equal(t.value,e)||(t.value=e,YP(t))}function mE(t,e){sE()||hE(),Op(t,e(t.value))}var gE=Se(V({},nc),{equal:rE,value:void 0});function YP(t){t.version++,GP(),oE(t),QP?.()}function vE(t,e,n){let r=Object.create(XP);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=c=>{r.cleanupFn=c};function o(c){return c.fn===null&&c.schedule===null}function s(c){o(c)||(Pp(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=xp)}let a=()=>{if(r.fn===null)return;if(qP())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!Tu(r))return;r.hasRun=!0;let c=Iu(r);try{r.cleanupFn(),r.cleanupFn=xp,r.fn(i)}finally{bu(r,c)}};return r.ref={notify:()=>aE(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[_r]:r},r.ref}var xp=()=>{},XP=Se(V({},nc),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:xp});function te(t){return typeof t=="function"}function Ms(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Du=Ms(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function bo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var lt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(o){e=o instanceof Du?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{yE(o)}catch(s){e=e??[],s instanceof Du?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Du(e)}}add(e){var n;if(e&&e!==this)if(this.closed)yE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&bo(n,e)}remove(e){let{_finalizers:n}=this;n&&bo(n,e),e instanceof t&&e._removeParent(this)}};lt.EMPTY=(()=>{let t=new lt;return t.closed=!0,t})();var Rp=lt.EMPTY;function Au(t){return t instanceof lt||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function yE(t){te(t)?t():t.unsubscribe()}var Zn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ps={setTimeout(t,e,...n){let{delegate:r}=Ps;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ps;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function xu(t){Ps.setTimeout(()=>{let{onUnhandledError:e}=Zn;if(e)e(t);else throw t})}function rc(){}var _E=kp("C",void 0,void 0);function wE(t){return kp("E",void 0,t)}function EE(t){return kp("N",t,void 0)}function kp(t,e,n){return{kind:t,value:e,error:n}}var To=null;function Os(t){if(Zn.useDeprecatedSynchronousErrorHandling){let e=!To;if(e&&(To={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=To;if(To=null,n)throw r}}else t()}function CE(t){Zn.useDeprecatedSynchronousErrorHandling&&To&&(To.errorThrown=!0,To.error=t)}var So=class extends lt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Au(e)&&e.add(this)):this.destination=eO}static create(e,n,r){return new Mi(e,n,r)}next(e){this.isStopped?Fp(EE(e),this):this._next(e)}error(e){this.isStopped?Fp(wE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Fp(_E,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},JP=Function.prototype.bind;function Np(t,e){return JP.call(t,e)}var Vp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Mu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Mu(r)}else Mu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Mu(n)}}},Mi=class extends So{constructor(e,n,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Zn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Np(e.next,o),error:e.error&&Np(e.error,o),complete:e.complete&&Np(e.complete,o)}):i=e}this.destination=new Vp(i)}};function Mu(t){Zn.useDeprecatedSynchronousErrorHandling?CE(t):xu(t)}function ZP(t){throw t}function Fp(t,e){let{onStoppedNotification:n}=Zn;n&&Ps.setTimeout(()=>n(t,e))}var eO={closed:!0,next:rc,error:ZP,complete:rc};var Rs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function An(t){return t}function Lp(...t){return jp(t)}function jp(t){return t.length===0?An:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ae=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=nO(n)?n:new Mi(n,r,i);return Os(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=IE(r),new r((i,o)=>{let s=new Mi({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Rs](){return this}pipe(...n){return jp(n)(this)}toPromise(n){return n=IE(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function IE(t){var e;return(e=t??Zn.Promise)!==null&&e!==void 0?e:Promise}function tO(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}function nO(t){return t&&t instanceof So||tO(t)&&Au(t)}function Up(t){return te(t?.lift)}function Ie(t){return e=>{if(Up(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(t,e,n,r,i){return new Bp(t,e,n,r,i)}var Bp=class extends So{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ks(){return Ie((t,e)=>{let n=null;t._refCount++;let r=ye(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ns=class extends ae{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Up(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new lt;let n=this.getSubject();e.add(this.source.subscribe(ye(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=lt.EMPTY)}return e}refCount(){return ks()(this)}};var bE=Ms(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var jt=(()=>{class t extends ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Pu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new bE}next(n){Os(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Os(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Os(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Rp:(this.currentObservers=null,o.push(n),new lt(()=>{this.currentObservers=null,bo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ae;return n.source=this,n}}return t.create=(e,n)=>new Pu(e,n),t})(),Pu=class extends jt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Rp}};var Ut=class extends jt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var $p={now(){return($p.delegate||Date).now()},delegate:void 0};var Ou=class extends lt{constructor(e,n){super()}schedule(e,n=0){return this}};var ic={setInterval(t,e,...n){let{delegate:r}=ic;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ic;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Fs=class extends Ou{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ic.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ic.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,bo(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Vs=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Vs.now=$p.now;var Ls=class extends Vs{constructor(e,n=Vs.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var js=new Ls(Fs),zp=js;var Ru=class extends Fs{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ku=class extends Ls{};var Hp=new ku(Ru);var gn=new ae(t=>t.complete());function Nu(t){return t&&te(t.schedule)}function qp(t){return t[t.length-1]}function Fu(t){return te(qp(t))?t.pop():void 0}function wr(t){return Nu(qp(t))?t.pop():void 0}function TE(t,e){return typeof qp(t)=="number"?t.pop():e}function Gp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function DE(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function SE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Do(t){return this instanceof Do?(this.v=t,this):new Do(t)}function AE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(m){return new Promise(function(w,b){o.push([h,m,w,b])>1||a(h,m)})})}function a(h,m){try{c(r[h](m))}catch(w){d(o[0][3],w)}}function c(h){h.value instanceof Do?Promise.resolve(h.value.v).then(l,u):d(o[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,m){h(m),o.shift(),o.length&&a(o[0][0],o[0][1])}}function xE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof SE=="function"?SE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Us=t=>t&&typeof t.length=="number"&&typeof t!="function";function Vu(t){return te(t?.then)}function Lu(t){return te(t[Rs])}function ju(t){return Symbol.asyncIterator&&te(t?.[Symbol.asyncIterator])}function Uu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function rO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Bu=rO();function $u(t){return te(t?.[Bu])}function zu(t){return AE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Do(n.read());if(i)return yield Do(void 0);yield yield Do(r)}}finally{n.releaseLock()}})}function Hu(t){return te(t?.getReader)}function qe(t){if(t instanceof ae)return t;if(t!=null){if(Lu(t))return iO(t);if(Us(t))return oO(t);if(Vu(t))return sO(t);if(ju(t))return ME(t);if($u(t))return aO(t);if(Hu(t))return cO(t)}throw Uu(t)}function iO(t){return new ae(e=>{let n=t[Rs]();if(te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function oO(t){return new ae(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function sO(t){return new ae(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,xu)})}function aO(t){return new ae(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function ME(t){return new ae(e=>{lO(t,e).catch(n=>e.error(n))})}function cO(t){return ME(zu(t))}function lO(t,e){var n,r,i,o;return DE(this,void 0,void 0,function*(){try{for(n=xE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function vn(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Pi(t,e=0){return Ie((n,r)=>{n.subscribe(ye(r,i=>vn(r,t,()=>r.next(i),e),()=>vn(r,t,()=>r.complete(),e),i=>vn(r,t,()=>r.error(i),e)))})}function Oi(t,e=0){return Ie((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function PE(t,e){return qe(t).pipe(Oi(e),Pi(e))}function OE(t,e){return qe(t).pipe(Oi(e),Pi(e))}function RE(t,e){return new ae(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function kE(t,e){return new ae(n=>{let r;return vn(n,e,()=>{r=t[Bu](),vn(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function qu(t,e){if(!t)throw new Error("Iterable cannot be null");return new ae(n=>{vn(n,e,()=>{let r=t[Symbol.asyncIterator]();vn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function NE(t,e){return qu(zu(t),e)}function FE(t,e){if(t!=null){if(Lu(t))return PE(t,e);if(Us(t))return RE(t,e);if(Vu(t))return OE(t,e);if(ju(t))return qu(t,e);if($u(t))return kE(t,e);if(Hu(t))return NE(t,e)}throw Uu(t)}function ze(t,e){return e?FE(t,e):qe(t)}function ce(...t){let e=wr(t);return ze(t,e)}function Ri(t,e){let n=te(t)?t:()=>t,r=i=>i.error(n());return new ae(e?i=>e.schedule(r,0,i):r)}function Wp(t){return!!t&&(t instanceof ae||te(t.lift)&&te(t.subscribe))}var xn=Ms(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function yn(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=!1,s;t.subscribe({next:a=>{s=a,o=!0},error:i,complete:()=>{o?r(s):n?r(e.defaultValue):i(new xn)}})})}function Gu(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=new Mi({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new xn)}});t.subscribe(o)})}function VE(t){return t instanceof Date&&!isNaN(t)}function ie(t,e){return Ie((n,r)=>{let i=0;n.subscribe(ye(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:uO}=Array;function dO(t,e){return uO(e)?t(...e):t(e)}function Bs(t){return ie(e=>dO(t,e))}var{isArray:hO}=Array,{getPrototypeOf:fO,prototype:pO,keys:mO}=Object;function Wu(t){if(t.length===1){let e=t[0];if(hO(e))return{args:e,keys:null};if(gO(e)){let n=mO(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function gO(t){return t&&typeof t=="object"&&fO(t)===pO}function Ku(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Qu(...t){let e=wr(t),n=Fu(t),{args:r,keys:i}=Wu(t);if(r.length===0)return ze([],e);let o=new ae(vO(r,e,i?s=>Ku(i,s):An));return n?o.pipe(Bs(n)):o}function vO(t,e,n=An){return r=>{LE(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)LE(e,()=>{let l=ze(t[c],e),u=!1;l.subscribe(ye(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function LE(t,e,n){t?vn(n,t,e):e()}function jE(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},m=b=>l<r?w(b):c.push(b),w=b=>{o&&e.next(b),l++;let A=!1;qe(n(b,u++)).subscribe(ye(e,x=>{i?.(x),o?m(x):e.next(x)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;c.length&&l<r;){let x=c.shift();s?vn(e,s,()=>w(x)):w(x)}h()}catch(x){e.error(x)}}))};return t.subscribe(ye(e,m,()=>{d=!0,h()})),()=>{a?.()}}function ut(t,e,n=1/0){return te(e)?ut((r,i)=>ie((o,s)=>e(r,o,i,s))(qe(t(r,i))),n):(typeof e=="number"&&(n=e),Ie((r,i)=>jE(r,i,t,n)))}function oc(t=1/0){return ut(An,t)}function UE(){return oc(1)}function $s(...t){return UE()(ze(t,wr(t)))}function Yu(t){return new ae(e=>{qe(t()).subscribe(e)})}function Kp(...t){let e=Fu(t),{args:n,keys:r}=Wu(t),i=new ae(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;qe(n[u]).subscribe(ye(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Ku(r,a):a),o.complete())}))}});return e?i.pipe(Bs(e)):i}var yO=["addListener","removeListener"],_O=["addEventListener","removeEventListener"],wO=["on","off"];function zs(t,e,n,r){if(te(n)&&(r=n,n=void 0),r)return zs(t,e,n).pipe(Bs(r));let[i,o]=IO(t)?_O.map(s=>a=>t[s](e,a,n)):EO(t)?yO.map(BE(t,e)):CO(t)?wO.map(BE(t,e)):[];if(!i&&Us(t))return ut(s=>zs(s,e,n))(qe(t));if(!i)throw new TypeError("Invalid event target");return new ae(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function BE(t,e){return n=>r=>t[n](e,r)}function EO(t){return te(t.addListener)&&te(t.removeListener)}function CO(t){return te(t.on)&&te(t.off)}function IO(t){return te(t.addEventListener)&&te(t.removeEventListener)}function $E(t=0,e,n=zp){let r=-1;return e!=null&&(Nu(e)?n=e:r=e),new ae(i=>{let o=VE(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function sc(...t){let e=wr(t),n=TE(t,1/0),r=t;return r.length?r.length===1?qe(r[0]):oc(n)(ze(r,e)):gn}function tn(t,e){return Ie((n,r)=>{let i=0;n.subscribe(ye(r,o=>t.call(e,o,i++)&&r.next(o)))})}function zE(t){return Ie((e,n)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,n.next(l)}s&&n.complete()},c=()=>{o=null,s&&n.complete()};e.subscribe(ye(n,l=>{r=!0,i=l,o||qe(t(l)).subscribe(o=ye(n,a,c))},()=>{s=!0,(!r||!o||o.closed)&&n.complete()}))})}function Qp(t,e=js){return zE(()=>$E(t,e))}function er(t){return Ie((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ye(n,void 0,void 0,s=>{o=qe(t(s,er(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function HE(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(ye(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function ki(t,e){return te(e)?ut(t,e,1):ut(t,1)}function Ni(t){return Ie((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Xr(t){return t<=0?()=>gn:Ie((e,n)=>{let r=0;e.subscribe(ye(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Yp(t){return ie(()=>t)}function Xu(t=bO){return Ie((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function bO(){return new xn}function Ao(t){return Ie((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Er(t,e){let n=arguments.length>=2;return r=>r.pipe(t?tn((i,o)=>t(i,o,r)):An,Xr(1),n?Ni(e):Xu(()=>new xn))}function Hs(t){return t<=0?()=>gn:Ie((e,n)=>{let r=[];e.subscribe(ye(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Xp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?tn((i,o)=>t(i,o,r)):An,Hs(1),n?Ni(e):Xu(()=>new xn))}function Jp(t,e){return Ie(HE(t,e,arguments.length>=2,!0))}function Zp(...t){let e=wr(t);return Ie((n,r)=>{(e?$s(t,n,e):$s(t,n)).subscribe(r)})}function At(t,e){return Ie((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ye(r,c=>{i?.unsubscribe();let l=0,u=o++;qe(t(c,u)).subscribe(i=ye(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function tr(t){return Ie((e,n)=>{qe(t).subscribe(ye(n,()=>n.complete(),rc)),!n.closed&&e.subscribe(n)})}function dt(t,e,n){let r=te(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ie((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ye(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):An}var DC="https://g.co/ng/security#xss",L=class extends Error{constructor(e,n){super(xd(e,n)),this.code=e}};function xd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var mm=class extends jt{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=Re(null);try{super.next(e)}finally{Re(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=em(o),i&&(i=em(i)),s&&(s=em(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof lt&&e.add(a),a}};function em(t){return e=>{setTimeout(t,void 0,e)}}var it=mm;var we=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(we||{});function cn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(cn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function gm(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var AC=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(AC||{}),br=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(br||{});function _c(t){return{toString:t}.toString()}var xo=globalThis;var Ys={},_n=[];function He(t){for(let e in t)if(t[e]===He)return e;throw Error("Could not find renamed property on target object.")}function TO(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var SO=He({\u0275cmp:He}),DO=He({\u0275dir:He}),AO=He({\u0275pipe:He}),xO=He({\u0275mod:He}),ud=He({\u0275fac:He}),ac=He({__NG_ELEMENT_ID__:He}),qE=He({__NG_ENV_ID__:He}),re=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(re||{});function xC(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function vm(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];PO(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function MO(t){return t===3||t===4||t===6}function PO(t){return t.charCodeAt(0)===64}function cc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?GE(t,n,i,null,e[++r]):GE(t,n,i,null,null))}}return t}function GE(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var MC="ng-template";function OO(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if(typeof o=="string"&&i){let s=t[r++];if(n&&o==="class"&&xC(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;r<t.length&&typeof(o=t[r++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function PC(t){return t.type===4&&t.value!==MC}function RO(t,e,n){let r=t.type===4&&!n?MC:t.value;return e===r}function kO(t,e,n){let r=4,i=t.attrs||[],o=VO(i),s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!nr(r)&&!nr(c))return!1;if(s&&nr(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!RO(t,c,n)||c===""&&e.length===1){if(nr(r))return!1;s=!0}}else{let l=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!OO(t.attrs,l,n)){if(nr(r))return!1;s=!0}continue}let u=r&8?"class":c,d=NO(u,i,PC(t),n);if(d===-1){if(nr(r))return!1;s=!0;continue}if(l!==""){let h;d>o?h="":h=i[d+1].toLowerCase();let m=r&8?h:null;if(m&&xC(m,l,0)!==-1||r&2&&l!==h){if(nr(r))return!1;s=!0}}}}return nr(r)||s}function nr(t){return(t&1)===0}function NO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return LO(e,t)}function FO(t,e,n=!1){for(let r=0;r<e.length;r++)if(kO(t,e[r],n))return!0;return!1}function VO(t){for(let e=0;e<t.length;e++){let n=t[e];if(MO(n))return e}return t.length}function LO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function WE(t,e){return t?":not("+e.trim()+")":e}function jO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!nr(s)&&(e+=WE(o,i),i=""),r=s,o=o||!nr(r);n++}return i!==""&&(e+=WE(o,i)),e}function UO(t){return t.map(jO).join(",")}function BO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!nr(i))break;i=o}r++}return{attrs:e,classes:n}}function G(t){return _c(()=>{let e=FC(t),n=Se(V({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===AC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||br.Emulated,styles:t.styles||_n,_:null,schemas:t.schemas||null,tView:null,id:""});VC(n);let r=t.dependencies;return n.directiveDefs=QE(r,!1),n.pipeDefs=QE(r,!0),n.id=HO(n),n})}function $O(t){return Li(t)||OC(t)}function zO(t){return t!==null}function ln(t){return _c(()=>({type:t.type,bootstrap:t.bootstrap||_n,declarations:t.declarations||_n,imports:t.imports||_n,exports:t.exports||_n,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function KE(t,e){if(t==null)return Ys;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=re.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==re.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ke(t){return _c(()=>{let e=FC(t);return VC(e),e})}function Li(t){return t[SO]||null}function OC(t){return t[DO]||null}function RC(t){return t[AO]||null}function kC(t){let e=Li(t)||OC(t)||RC(t);return e!==null?e.standalone:!1}function NC(t,e){let n=t[xO]||null;if(!n&&e===!0)throw new Error(`Type ${cn(t)} does not have '\u0275mod' property.`);return n}function FC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ys,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||_n,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:KE(t.inputs,e),outputs:KE(t.outputs),debugInfo:null}}function VC(t){t.features?.forEach(e=>e(t))}function QE(t,e){if(!t)return null;let n=e?RC:$O;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(zO)}function HO(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var xr=0,pe=1,ne=2,Bt=3,ir=4,sr=5,dd=6,lc=7,Ln=8,Xs=9,Jr=10,ht=11,uc=12,YE=13,oa=14,Tr=15,wc=16,qs=17,Zr=18,Md=19,LC=20,Vi=21,rd=22,Oo=23,jn=25,yg=1;var Ro=7,hd=8,Js=9,wn=10,_g=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(_g||{});function Mo(t){return Array.isArray(t)&&typeof t[yg]=="object"}function ii(t){return Array.isArray(t)&&t[yg]===!0}function wg(t){return(t.flags&4)!==0}function Pd(t){return t.componentOffset>-1}function Od(t){return(t.flags&1)===1}function ei(t){return!!t.template}function qO(t){return(t[ne]&512)!==0}var GO="svg",WO="math",KO=!1;function QO(){return KO}function Sr(t){for(;Array.isArray(t);)t=t[xr];return t}function YO(t){for(;Array.isArray(t);){if(typeof t[yg]=="object")return t;t=t[xr]}return null}function jC(t,e){return Sr(e[t])}function ar(t,e){return Sr(e[t.index])}function Eg(t,e){return t.data[e]}function XO(t,e){return t[e]}function Bi(t,e){let n=e[t];return Mo(n)?n:n[xr]}function JO(t){return(t[ne]&4)===4}function Cg(t){return(t[ne]&128)===128}function ZO(t){return ii(t[Bt])}function Zs(t,e){return e==null?null:t[e]}function UC(t){t[qs]=0}function eR(t){t[ne]&1024||(t[ne]|=1024,Cg(t)&&dc(t))}function tR(t,e){for(;t>0;)e=e[oa],t--;return e}function Ig(t){return!!(t[ne]&9216||t[Oo]?.dirty)}function ym(t){Ig(t)?dc(t):t[ne]&64&&(QO()?(t[ne]|=1024,dc(t)):t[Jr].changeDetectionScheduler?.notify())}function dc(t){t[Jr].changeDetectionScheduler?.notify();let e=hc(t);for(;e!==null&&!(e[ne]&8192||(e[ne]|=8192,!Cg(e)));)e=hc(e)}function BC(t,e){if((t[ne]&256)===256)throw new L(911,!1);t[Vi]===null&&(t[Vi]=[]),t[Vi].push(e)}function nR(t,e){if(t[Vi]===null)return;let n=t[Vi].indexOf(e);n!==-1&&t[Vi].splice(n,1)}function hc(t){let e=t[Bt];return ii(e)?e[Bt]:e}var ge={lFrame:YC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function rR(){return ge.lFrame.elementDepthCount}function iR(){ge.lFrame.elementDepthCount++}function oR(){ge.lFrame.elementDepthCount--}function $C(){return ge.bindingsEnabled}function sR(){return ge.skipHydrationRootTNode!==null}function aR(t){return ge.skipHydrationRootTNode===t}function cR(){ge.skipHydrationRootTNode=null}function Ae(){return ge.lFrame.lView}function Mt(){return ge.lFrame.tView}function T(t){return ge.lFrame.contextLView=t,t[Ln]}function S(t){return ge.lFrame.contextLView=null,t}function En(){let t=zC();for(;t!==null&&t.type===64;)t=t.parent;return t}function zC(){return ge.lFrame.currentTNode}function lR(){let t=ge.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Uo(t,e){let n=ge.lFrame;n.currentTNode=t,n.isParent=e}function bg(){return ge.lFrame.isParent}function HC(){ge.lFrame.isParent=!1}function uR(){return ge.lFrame.contextLView}function qC(){let t=ge.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function dR(){return ge.lFrame.bindingIndex}function hR(t){return ge.lFrame.bindingIndex=t}function Ec(){return ge.lFrame.bindingIndex++}function Tg(t){let e=ge.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function fR(){return ge.lFrame.inI18n}function pR(t,e){let n=ge.lFrame;n.bindingIndex=n.bindingRootIndex=t,_m(e)}function mR(){return ge.lFrame.currentDirectiveIndex}function _m(t){ge.lFrame.currentDirectiveIndex=t}function GC(t){let e=ge.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function WC(){return ge.lFrame.currentQueryIndex}function Sg(t){ge.lFrame.currentQueryIndex=t}function gR(t){let e=t[pe];return e.type===2?e.declTNode:e.type===1?t[sr]:null}function KC(t,e,n){if(n&we.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&we.Host);)if(i=gR(o),i===null||(o=o[oa],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ge.lFrame=QC();return r.currentTNode=e,r.lView=t,!0}function Dg(t){let e=QC(),n=t[pe];ge.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function QC(){let t=ge.lFrame,e=t===null?null:t.child;return e===null?YC(t):e}function YC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function XC(){let t=ge.lFrame;return ge.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var JC=XC;function Ag(){let t=XC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function vR(t){return(ge.lFrame.contextLView=tR(t,ge.lFrame.contextLView))[Ln]}function $i(){return ge.lFrame.selectedIndex}function ko(t){ge.lFrame.selectedIndex=t}function xg(){let t=ge.lFrame;return Eg(t.tView,t.selectedIndex)}function yR(){return ge.lFrame.currentNamespace}var ZC=!0;function Rd(){return ZC}function kd(t){ZC=t}function _R(){return sa(En(),Ae())}function sa(t,e){return new tt(ar(t,e))}var tt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=_R;let t=e;return t})();function wR(t){return t instanceof tt?t.nativeElement:t}function ER(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function CR(t){return t.flat(Number.POSITIVE_INFINITY)}function Mg(t,e){t.forEach(n=>Array.isArray(n)?Mg(n,e):e(n))}function eI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function fd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function IR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Pg(t,e,n){let r=Cc(t,e);return r>=0?t[r|1]=n:(r=~r,IR(t,r,e,n)),r}function tm(t,e){let n=Cc(t,e);if(n>=0)return t[n|1]}function Cc(t,e){return bR(t,e,1)}function bR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}function TR(){return this._results[Symbol.iterator]()}var wm=class t{get changes(){return this._changes??=new it}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=TR)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=CR(e);(this._changesDetected=!ER(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function tI(t){return(t.flags&128)===128}var Em;function nI(t){Em=t}function SR(){if(Em!==void 0)return Em;if(typeof document<"u")return document;throw new L(210,!1)}function F(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function un(t){return{providers:t.providers||[],imports:t.imports||[]}}function Nd(t){return XE(t,iI)||XE(t,oI)}function rI(t){return Nd(t)!==null}function XE(t,e){return t.hasOwnProperty(e)?t[e]:null}function DR(t){let e=t&&(t[iI]||t[oI]);return e||null}function JE(t){return t&&(t.hasOwnProperty(ZE)||t.hasOwnProperty(AR))?t[ZE]:null}var iI=He({\u0275prov:He}),ZE=He({\u0275inj:He}),oI=He({ngInjectableDef:He}),AR=He({ngInjectorDef:He}),Y=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=F({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},Og=new Y("",{providedIn:"root",factory:()=>xR}),xR="ng",Rg=new Y(""),Un=new Y("",{providedIn:"platform",factory:()=>"unknown"});var kg=new Y(""),Ng=new Y("",{providedIn:"root",factory:()=>SR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var MR=He({__forward_ref__:He});function Bo(t){return t.__forward_ref__=Bo,t.toString=function(){return cn(this())},t}function an(t){return sI(t)?t():t}function sI(t){return typeof t=="function"&&t.hasOwnProperty(MR)&&t.__forward_ref__===Bo}function aI(t){return t&&!!t.\u0275providers}function fc(t){return typeof t=="string"?t:t==null?"":String(t)}function PR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():fc(t)}function OR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new L(-200,t)}function Fg(t,e){throw new L(-201,!1)}var Cm;function cI(){return Cm}function Vn(t){let e=Cm;return Cm=t,e}function lI(t,e,n){let r=Nd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&we.Optional)return null;if(e!==void 0)return e;Fg(t,"Injector")}var RR={},pc=RR,Im="__NG_DI_FLAG__",pd="ngTempTokenPath",kR="ngTokenPath",NR=/\n/gm,FR="\u0275",eC="__source",Ks;function VR(){return Ks}function Fi(t){let e=Ks;return Ks=t,e}function LR(t,e=we.Default){if(Ks===void 0)throw new L(-203,!1);return Ks===null?lI(t,void 0,e):Ks.get(t,e&we.Optional?null:void 0,e)}function R(t,e=we.Default){return(cI()||LR)(an(t),e)}function j(t,e=we.Default){return R(t,Fd(e))}function Fd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function bm(t){let e=[];for(let n=0;n<t.length;n++){let r=an(t[n]);if(Array.isArray(r)){if(r.length===0)throw new L(900,!1);let i,o=we.Default;for(let s=0;s<r.length;s++){let a=r[s],c=jR(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(R(i,o))}else e.push(R(r))}return e}function uI(t,e){return t[Im]=e,t.prototype[Im]=e,t}function jR(t){return t[Im]}function UR(t,e,n,r){let i=t[pd];throw e[eC]&&i.unshift(e[eC]),t.message=BR(`
`+t.message,i,n,r),t[kR]=i,t[pd]=null,t}function BR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==FR?t.slice(2):t;let i=cn(e);if(Array.isArray(e))i=e.map(cn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):cn(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(NR,`
  `)}`}var $R="h",zR="b";var HR=()=>null;function Vg(t,e,n=!1){return HR(t,e,n)}var Ju="__parameters__";function qR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function dI(t,e,n){return _c(()=>{let r=qR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Ju)?c[Ju]:Object.defineProperty(c,Ju,{value:[]})[Ju];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var dn=uI(dI("Optional"),8);var hI=uI(dI("SkipSelf"),4);function ea(t,e){let n=t.hasOwnProperty(ud);return n?t[ud]:null}var ta=new Y(""),fI=new Y("",-1),pI=new Y(""),md=class{get(e,n=pc){if(n===pc){let r=new Error(`NullInjectorError: No provider for ${cn(e)}!`);throw r.name="NullInjectorError",r}return n}};function zi(t){return{\u0275providers:t}}function Ic(...t){return{\u0275providers:mI(!0,t),\u0275fromNgModule:!0}}function mI(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Mg(e,s=>{let a=s;Tm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&gI(i,o),n}function gI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Lg(i,o=>{e(o,r)})}}function Tm(t,e,n,r){if(t=an(t),!t)return!1;let i=null,o=JE(t),s=!o&&Li(t);if(!o&&!s){let c=t.ngModule;if(o=JE(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Tm(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Mg(o.imports,u=>{Tm(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&gI(l,e)}if(!a){let l=ea(i)||(()=>new i);e({provide:i,useFactory:l,deps:_n},i),e({provide:pI,useValue:i,multi:!0},i),e({provide:ta,useValue:()=>R(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Lg(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Lg(t,e){for(let n of t)aI(n)&&(n=n.\u0275providers),Array.isArray(n)?Lg(n,e):e(n)}var GR=He({provide:String,useValue:He});function vI(t){return t!==null&&typeof t=="object"&&GR in t}function WR(t){return!!(t&&t.useExisting)}function KR(t){return!!(t&&t.useFactory)}function na(t){return typeof t=="function"}function QR(t){return!!t.useClass}var Vd=new Y(""),id={},YR={},nm;function Ld(){return nm===void 0&&(nm=new md),nm}var xt=class{},mc=class extends xt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dm(e,s=>this.processProvider(s)),this.records.set(fI,Gs(void 0,this)),i.has("environment")&&this.records.set(xt,Gs(void 0,this));let o=this.records.get(Vd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(pI,_n,we.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Re(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Re(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Fi(this),r=Vn(void 0),i;try{return e()}finally{Fi(n),Vn(r)}}get(e,n=pc,r=we.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(qE))return e[qE](this);r=Fd(r);let i,o=Fi(this),s=Vn(void 0);try{if(!(r&we.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=t1(e)&&Nd(e);l&&this.injectableDefInScope(l)?c=Gs(Sm(e),id):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&we.Self?Ld():this.parent;return n=r&we.Optional&&n===pc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[pd]=a[pd]||[]).unshift(cn(e)),o)throw a;return UR(a,e,"R3InjectorError",this.source)}else throw a}finally{Vn(s),Fi(o)}}resolveInjectorInitializers(){let e=Re(null),n=Fi(this),r=Vn(void 0),i;try{let o=this.get(ta,_n,we.Self);for(let s of o)s()}finally{Fi(n),Vn(r),Re(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(cn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new L(205,!1)}processProvider(e){e=an(e);let n=na(e)?e:an(e&&e.provide),r=JR(e);if(!na(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Gs(void 0,id,!0),i.factory=()=>bm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Re(null);try{return n.value===id&&(n.value=YR,n.value=n.factory()),typeof n.value=="object"&&n.value&&e1(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Re(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=an(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Sm(t){let e=Nd(t),n=e!==null?e.factory:ea(t);if(n!==null)return n;if(t instanceof Y)throw new L(204,!1);if(t instanceof Function)return XR(t);throw new L(204,!1)}function XR(t){if(t.length>0)throw new L(204,!1);let n=DR(t);return n!==null?()=>n.factory(t):()=>new t}function JR(t){if(vI(t))return Gs(void 0,t.useValue);{let e=yI(t);return Gs(e,id)}}function yI(t,e,n){let r;if(na(t)){let i=an(t);return ea(i)||Sm(i)}else if(vI(t))r=()=>an(t.useValue);else if(KR(t))r=()=>t.useFactory(...bm(t.deps||[]));else if(WR(t))r=()=>R(an(t.useExisting));else{let i=an(t&&(t.useClass||t.provide));if(ZR(t))r=()=>new i(...bm(t.deps));else return ea(i)||Sm(i)}return r}function Gs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ZR(t){return!!t.deps}function e1(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function t1(t){return typeof t=="function"||typeof t=="object"&&t instanceof Y}function Dm(t,e){for(let n of t)Array.isArray(n)?Dm(n,e):n&&aI(n)?Dm(n.\u0275providers,e):e(n)}function oi(t,e){t instanceof mc&&t.assertNotDestroyed();let n,r=Fi(t),i=Vn(void 0);try{return e()}finally{Fi(r),Vn(i)}}function n1(t){if(!cI()&&!VR())throw new L(-203,!1)}function r1(t){return typeof t=="function"}var Am=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function _I(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function si(){return wI}function wI(t){return t.type.prototype.ngOnChanges&&(t.setInput=o1),i1}si.ngInherit=!0;function i1(){let t=CI(this),e=t?.current;if(e){let n=t.previous;if(n===Ys)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function o1(t,e,n,r,i){let o=this.declaredInputs[r],s=CI(t)||s1(t,{previous:Ys,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Am(l&&l.currentValue,n,c===Ys),_I(t,e,i,n)}var EI="__ngSimpleChanges__";function CI(t){return t[EI]||null}function s1(t,e){return t[EI]=e}var tC=null;var Cr=function(t,e,n){tC?.(t,e,n)};function a1(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=wI(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function jd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function od(t,e,n){II(t,e,3,n)}function sd(t,e,n,r){(t[ne]&3)===n&&II(t,e,n,r)}function rm(t,e){let n=t[ne];(n&3)===e&&(n&=16383,n+=1,t[ne]=n)}function II(t,e,n,r){let i=r!==void 0?t[qs]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[qs]+=65536),(a<o||o==-1)&&(c1(t,n,e,c),t[qs]=(t[qs]&4294901760)+c+2),c++}function nC(t,e){Cr(4,t,e);let n=Re(null);try{e.call(t)}finally{Re(n),Cr(5,t,e)}}function c1(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ne]>>14<t[qs]>>16&&(t[ne]&3)===e&&(t[ne]+=16384,nC(a,o)):nC(a,o)}var Qs=-1,No=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function l1(t){return t instanceof No}function u1(t){return(t.flags&8)!==0}function d1(t){return(t.flags&16)!==0}function bI(t){return t!==Qs}function gd(t){return t&32767}function h1(t){return t>>16}function vd(t,e){let n=h1(t),r=e;for(;n>0;)r=r[oa],n--;return r}var xm=!0;function rC(t){let e=xm;return xm=t,e}var f1=256,TI=f1-1,SI=5,p1=0,Ir={};function m1(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ac)&&(r=n[ac]),r==null&&(r=n[ac]=p1++);let i=r&TI,o=1<<i;e.data[t+(i>>SI)]|=o}function yd(t,e){let n=DI(t,e);if(n!==-1)return n;let r=e[pe];r.firstCreatePass&&(t.injectorIndex=e.length,im(r.data,t),im(e,null),im(r.blueprint,null));let i=jg(t,e),o=t.injectorIndex;if(bI(i)){let s=gd(i),a=vd(i,e),c=a[pe].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function im(t,e){t.push(0,0,0,0,0,0,0,0,e)}function DI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function jg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=OI(i),r===null)return Qs;if(n++,i=i[oa],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Qs}function Mm(t,e,n){m1(t,e,n)}function AI(t,e,n){if(n&we.Optional||t!==void 0)return t;Fg(e,"NodeInjector")}function xI(t,e,n,r){if(n&we.Optional&&r===void 0&&(r=null),!(n&(we.Self|we.Host))){let i=t[Xs],o=Vn(void 0);try{return i?i.get(e,r,n&we.Optional):lI(e,r,n&we.Optional)}finally{Vn(o)}}return AI(r,e,n)}function MI(t,e,n,r=we.Default,i){if(t!==null){if(e[ne]&2048&&!(r&we.Self)){let s=_1(t,e,n,r,Ir);if(s!==Ir)return s}let o=PI(t,e,n,r,Ir);if(o!==Ir)return o}return xI(e,n,r,i)}function PI(t,e,n,r,i){let o=v1(n);if(typeof o=="function"){if(!KC(e,t,r))return r&we.Host?AI(i,n,r):xI(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&we.Optional))Fg(n);else return s}finally{JC()}}else if(typeof o=="number"){let s=null,a=DI(t,e),c=Qs,l=r&we.Host?e[Tr][sr]:null;for((a===-1||r&we.SkipSelf)&&(c=a===-1?jg(t,e):e[a+8],c===Qs||!oC(r,!1)?a=-1:(s=e[pe],a=gd(c),e=vd(c,e)));a!==-1;){let u=e[pe];if(iC(o,a,u.data)){let d=g1(a,e,n,s,r,l);if(d!==Ir)return d}c=e[a+8],c!==Qs&&oC(r,e[pe].data[a+8]===l)&&iC(o,a,e)?(s=u,a=gd(c),e=vd(c,e)):a=-1}}return i}function g1(t,e,n,r,i,o){let s=e[pe],a=s.data[t+8],c=r==null?Pd(a)&&xm:r!=s&&(a.type&3)!==0,l=i&we.Host&&o===a,u=ad(a,s,n,c,l);return u!==null?Fo(e,s,u,a):Ir}function ad(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,h=i?a+u:l;for(let m=d;m<h;m++){let w=s[m];if(m<c&&n===w||m>=c&&w.type===n)return m}if(i){let m=s[c];if(m&&ei(m)&&m.type===n)return c}return null}function Fo(t,e,n,r){let i=t[n],o=e.data;if(l1(i)){let s=i;s.resolving&&OR(PR(o[n]));let a=rC(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Vn(s.injectImpl):null,u=KC(t,r,we.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&a1(n,o[n],e)}finally{l!==null&&Vn(l),rC(a),s.resolving=!1,JC()}}return i}function v1(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ac)?t[ac]:void 0;return typeof e=="number"?e>=0?e&TI:y1:e}function iC(t,e,n){let r=1<<t;return!!(n[e+(t>>SI)]&r)}function oC(t,e){return!(t&we.Self)&&!(t&we.Host&&e)}var Po=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return MI(this._tNode,this._lView,e,Fd(r),n)}};function y1(){return new Po(En(),Ae())}function $t(t){return _c(()=>{let e=t.prototype.constructor,n=e[ud]||Pm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[ud]||Pm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Pm(t){return sI(t)?()=>{let e=Pm(an(t));return e&&e()}:ea(t)}function _1(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ne]&2048&&!(s[ne]&512);){let a=PI(o,s,n,r|we.Self,Ir);if(a!==Ir)return a;let c=o.parent;if(!c){let l=s[LC];if(l){let u=l.get(n,Ir,r);if(u!==Ir)return u}c=OI(s),s=s[oa]}o=c}return i}function OI(t){let e=t[pe],n=e.type;return n===2?e.declTNode:n===1?t[sr]:null}function sC(t,e=null,n=null,r){let i=RI(t,e,n,r);return i.resolveInjectorInitializers(),i}function RI(t,e=null,n=null,r,i=new Set){let o=[n||_n,Ic(t)];return r=r||(typeof t=="object"?void 0:cn(t)),new mc(o,e||Ld(),r||null,i)}var Ge=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return sC({name:""},i,r,"");{let o=r.name??"";return sC({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=pc,e.NULL=new md,e.\u0275prov=F({token:e,providedIn:"any",factory:()=>R(fI)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),w1="ngOriginalError";function om(t){return t[w1]}var Dr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&om(e);for(;n&&om(n);)n=om(n);return n||null}},kI=new Y("",{providedIn:"root",factory:()=>j(Dr).handleError.bind(void 0)});var NI=!1,E1=new Y("",{providedIn:"root",factory:()=>NI}),Zu;function C1(){if(Zu===void 0&&(Zu=null,xo.trustedTypes))try{Zu=xo.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Zu}function Ud(t){return C1()?.createHTML(t)||t}var ti=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${DC})`}},Om=class extends ti{getTypeName(){return"HTML"}},Rm=class extends ti{getTypeName(){return"Style"}},km=class extends ti{getTypeName(){return"Script"}},Nm=class extends ti{getTypeName(){return"URL"}},Fm=class extends ti{getTypeName(){return"ResourceURL"}};function Mr(t){return t instanceof ti?t.changingThisBreaksApplicationSecurity:t}function $o(t,e){let n=I1(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${DC})`)}return n===e}function I1(t){return t instanceof ti&&t.getTypeName()||null}function FI(t){return new Om(t)}function VI(t){return new Rm(t)}function LI(t){return new km(t)}function jI(t){return new Nm(t)}function UI(t){return new Fm(t)}function b1(t){let e=new Lm(t);return T1()?new Vm(e):e}var Vm=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Ud(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},Lm=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Ud(e),n}};function T1(){try{return!!new window.DOMParser().parseFromString(Ud(""),"text/html")}catch{return!1}}var S1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Bd(t){return t=String(t),t.match(S1)?t:"unsafe:"+t}function ai(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function bc(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var BI=ai("area,br,col,hr,img,wbr"),$I=ai("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zI=ai("rp,rt"),D1=bc(zI,$I),A1=bc($I,ai("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),x1=bc(zI,ai("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),aC=bc(BI,A1,x1,D1),HI=ai("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),M1=ai("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),P1=ai("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),O1=bc(HI,M1,P1),R1=ai("script,style,template"),jm=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!aC.hasOwnProperty(n))return this.sanitizedSomething=!0,!R1.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!O1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;HI[a]&&(c=Bd(c)),this.buf.push(" ",s,'="',cC(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();aC.hasOwnProperty(n)&&!BI.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(cC(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},k1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,N1=/([^\#-~ |!])/g;function cC(t){return t.replace(/&/g,"&amp;").replace(k1,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(N1,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var ed;function qI(t,e){let n=null;try{ed=ed||b1(t);let r=e?String(e):"";n=ed.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ed.getInertBodyElement(r)}while(r!==o);let a=new jm().sanitizeChildren(lC(n)||n);return Ud(a)}finally{if(n){let r=lC(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function lC(t){return"content"in t&&F1(t)?t.content:null}function F1(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var ci=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ci||{});function Pr(t){let e=V1();return e?e.sanitize(ci.URL,t)||"":$o(t,"URL")?Mr(t):Bd(fc(t))}function V1(){let t=Ae();return t&&t[Jr].sanitizer}var L1=/^>|^->|<!--|-->|--!>|<!-$/g,j1=/(<|>)/g,U1="\u200B$1\u200B";function B1(t){return t.replace(L1,e=>e.replace(j1,U1))}var GI=new Map,$1=0;function z1(){return $1++}function H1(t){GI.set(t[Md],t)}function q1(t){GI.delete(t[Md])}var uC="__ngContext__";function ji(t,e){Mo(e)?(t[uC]=e[Md],H1(e)):t[uC]=e}function $d(t){return t.ownerDocument.defaultView}function Ug(t){return t.ownerDocument}function WI(t){return t instanceof Function?t():t}var ni=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ni||{}),G1;function Bg(t,e){return G1(t,e)}function Ws(t,e,n,r,i){if(r!=null){let o,s=!1;ii(r)?o=r:Mo(r)&&(s=!0,r=r[xr]);let a=Sr(r);t===0&&n!==null?i==null?XI(e,n,a):wd(e,n,a,i||null,!0):t===1&&n!==null?wd(e,n,a,i||null,!0):t===2?uk(e,a,s):t===3&&e.destroyNode(a),o!=null&&hk(e,t,o,n,i)}}function W1(t,e){return t.createText(e)}function K1(t,e,n){t.setValue(e,n)}function Q1(t,e){return t.createComment(B1(e))}function KI(t,e,n){return t.createElement(e,n)}function Y1(t,e){QI(t,e),e[xr]=null,e[sr]=null}function X1(t,e,n,r,i,o){r[xr]=i,r[sr]=e,Hd(t,r,n,1,i,o)}function QI(t,e){Hd(t,e,e[ht],2,null,null)}function J1(t){let e=t[uc];if(!e)return sm(t[pe],t);for(;e;){let n=null;if(Mo(e))n=e[uc];else{let r=e[wn];r&&(n=r)}if(!n){for(;e&&!e[ir]&&e!==t;)Mo(e)&&sm(e[pe],e),e=e[Bt];e===null&&(e=t),Mo(e)&&sm(e[pe],e),n=e&&e[ir]}e=n}}function Z1(t,e,n,r){let i=wn+r,o=n.length;r>0&&(n[i-1][ir]=e),r<o-wn?(e[ir]=n[i],eI(n,wn+r,e)):(n.push(e),e[ir]=null),e[Bt]=n;let s=e[wc];s!==null&&n!==s&&ek(s,e);let a=e[Zr];a!==null&&a.insertView(t),ym(e),e[ne]|=128}function ek(t,e){let n=t[Js],i=e[Bt][Bt][Tr];e[Tr]!==i&&(t[ne]|=_g.HasTransplantedViews),n===null?t[Js]=[e]:n.push(e)}function YI(t,e){let n=t[Js],r=n.indexOf(e);n.splice(r,1)}function _d(t,e){if(t.length<=wn)return;let n=wn+e,r=t[n];if(r){let i=r[wc];i!==null&&i!==t&&YI(i,r),e>0&&(t[n-1][ir]=r[ir]);let o=fd(t,wn+e);Y1(r[pe],r);let s=o[Zr];s!==null&&s.detachView(o[pe]),r[Bt]=null,r[ir]=null,r[ne]&=-129}return r}function $g(t,e){if(!(e[ne]&256)){let n=e[ht];n.destroyNode&&Hd(t,e,n,3,null,null),J1(e)}}function sm(t,e){if(e[ne]&256)return;let n=Re(null);try{e[ne]&=-129,e[ne]|=256,e[Oo]&&Pp(e[Oo]),nk(t,e),tk(t,e),e[pe].type===1&&e[ht].destroy();let r=e[wc];if(r!==null&&ii(e[Bt])){r!==e[Bt]&&YI(r,e);let i=e[Zr];i!==null&&i.detachView(t)}q1(e)}finally{Re(n)}}function tk(t,e){let n=t.cleanup,r=e[lc];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[lc]=null);let i=e[Vi];if(i!==null){e[Vi]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function nk(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof No)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Cr(4,a,c);try{c.call(a)}finally{Cr(5,a,c)}}else{Cr(4,i,o);try{o.call(i)}finally{Cr(5,i,o)}}}}}function rk(t,e,n){return ik(t,e.parent,n)}function ik(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[xr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===br.None||o===br.Emulated)return null}return ar(r,n)}}function wd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function XI(t,e,n){t.appendChild(e,n)}function dC(t,e,n,r,i){r!==null?wd(t,e,n,r,i):XI(t,e,n)}function ok(t,e,n,r){t.removeChild(e,n,r)}function zg(t,e){return t.parentNode(e)}function sk(t,e){return t.nextSibling(e)}function ak(t,e,n){return lk(t,e,n)}function ck(t,e,n){return t.type&40?ar(t,n):null}var lk=ck,hC;function zd(t,e,n,r){let i=rk(t,r,e),o=e[ht],s=r.parent||e[sr],a=ak(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)dC(o,i,n[c],a,!1);else dC(o,i,n,a,!1);hC!==void 0&&hC(o,r,e,n,i)}function cd(t,e){if(e!==null){let n=e.type;if(n&3)return ar(e,t);if(n&4)return Um(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return cd(t,r);{let i=t[e.index];return ii(i)?Um(-1,i):Sr(i)}}else{if(n&32)return Bg(e,t)()||Sr(t[e.index]);{let r=JI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=hc(t[Tr]);return cd(i,r)}else return cd(t,e.next)}}}return null}function JI(t,e){if(e!==null){let r=t[Tr][sr],i=e.projection;return r.projection[i]}return null}function Um(t,e){let n=wn+t+1;if(n<e.length){let r=e[n],i=r[pe].firstChild;if(i!==null)return cd(r,i)}return e[Ro]}function uk(t,e,n){let r=zg(t,e);r&&ok(t,r,e,n)}function Hg(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&ji(Sr(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Hg(t,e,n.child,r,i,o,!1),Ws(e,t,i,a,o);else if(c&32){let l=Bg(n,r),u;for(;u=l();)Ws(e,t,i,u,o);Ws(e,t,i,a,o)}else c&16?dk(t,e,r,n,i,o):Ws(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Hd(t,e,n,r,i,o){Hg(n,r,t.firstChild,e,i,o,!1)}function dk(t,e,n,r,i,o){let s=n[Tr],c=s[sr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Ws(e,t,i,u,o)}else{let l=c,u=s[Bt];tI(r)&&(l.flags|=128),Hg(t,e,l,u,i,o,!0)}}function hk(t,e,n,r,i){let o=n[Ro],s=Sr(n);o!==s&&Ws(e,t,r,o,i);for(let a=wn;a<n.length;a++){let c=n[a];Hd(c[pe],c,t,e,r,o)}}function fk(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:ni.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ni.Important),t.setStyle(n,r,i,o))}}function pk(t,e,n){t.setAttribute(e,"style",n)}function ZI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function eb(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&vm(t,e,r),i!==null&&ZI(t,e,i),o!==null&&pk(t,e,o)}var Bn={};function v(t=1){tb(Mt(),Ae(),$i()+t,!1)}function tb(t,e,n,r){if(!r)if((e[ne]&3)===3){let o=t.preOrderCheckHooks;o!==null&&od(e,o,n)}else{let o=t.preOrderHooks;o!==null&&sd(e,o,0,n)}ko(n)}function I(t,e=we.Default){let n=Ae();if(n===null)return R(t,e);let r=En();return MI(r,n,an(t),e)}function nb(t,e,n,r,i,o){let s=Re(null);try{let a=null;i&re.SignalBased&&(a=e[r][_r]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&re.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):_I(e,a,r,o)}finally{Re(s)}}function mk(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ko(~i);else{let o=i,s=n[++r],a=n[++r];pR(s,o);let c=e[o];a(2,c)}}}finally{ko(-1)}}function qd(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[xr]=i,d[ne]=r|4|128|8|64,(l!==null||t&&t[ne]&2048)&&(d[ne]|=2048),UC(d),d[Bt]=d[oa]=t,d[Ln]=n,d[Jr]=s||t&&t[Jr],d[ht]=a||t&&t[ht],d[Xs]=c||t&&t[Xs]||null,d[sr]=o,d[Md]=z1(),d[dd]=u,d[LC]=l,d[Tr]=e.type==2?t[Tr]:d,d}function Tc(t,e,n,r,i){let o=t.data[e];if(o===null)o=gk(t,e,n,r,i),fR()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=lR();o.injectorIndex=s===null?-1:s.injectorIndex}return Uo(o,!0),o}function gk(t,e,n,r,i){let o=zC(),s=bg(),a=s?o:o&&o.parent,c=t.data[e]=Ck(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function rb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ib(t,e,n,r,i){let o=$i(),s=r&2;try{ko(-1),s&&e.length>jn&&tb(t,e,jn,!1),Cr(s?2:0,i),n(r,i)}finally{ko(o),Cr(s?3:1,i)}}function qg(t,e,n){if(wg(e)){let r=Re(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{Re(r)}}}function Gg(t,e,n){$C()&&(Ak(t,e,n,ar(n,e)),(n.flags&64)===64&&ab(t,e,n))}function Wg(t,e,n=ar){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function ob(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Kg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Kg(t,e,n,r,i,o,s,a,c,l,u){let d=jn+r,h=d+i,m=vk(d,h),w=typeof l=="function"?l():l;return m[pe]={type:t,blueprint:m,template:n,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:w,incompleteFirstPass:!1,ssrId:u}}function vk(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Bn);return n}function yk(t,e,n,r){let o=r.get(E1,NI)||n===br.ShadowDom,s=t.selectRootElement(e,o);return _k(s),s}function _k(t){wk(t)}var wk=()=>null;function Ek(t,e,n,r){let i=ub(e);i.push(n),t.firstCreatePass&&db(t).push(r,i.length-1)}function Ck(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return sR()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function fC(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=re.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?pC(r,n,l,a,c):pC(r,n,l,a)}return r}function pC(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function Ik(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],h=n?n.get(d):null,m=h?h.inputs:null,w=h?h.outputs:null;c=fC(0,d.inputs,u,c,m),l=fC(1,d.outputs,u,l,w);let b=c!==null&&s!==null&&!PC(e)?Vk(c,u,s):null;a.push(b)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function bk(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Qg(t,e,n,r,i,o,s,a){let c=ar(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Xg(t,n,u,r,i),Pd(e)&&Tk(n,e.index)):e.type&3?(r=bk(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function Tk(t,e){let n=Bi(e,t);n[ne]&16||(n[ne]|=64)}function Yg(t,e,n,r){if($C()){let i=r===null?null:{"":-1},o=Mk(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&sb(t,e,n,s,i,a),i&&Pk(n,r,i)}n.mergedAttrs=cc(n.mergedAttrs,n.attrs)}function sb(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Mm(yd(n,e),t,r[l].type);Rk(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=rb(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=cc(n.mergedAttrs,u.hostAttrs),kk(t,n,e,c,u),Ok(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}Ik(t,n,o)}function Sk(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;Dk(s)!=a&&s.push(a),s.push(n,r,o)}}function Dk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Ak(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Pd(n)&&Nk(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||yd(n,e),ji(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=Fo(e,t,a,n);if(ji(l,e),s!==null&&Fk(e,a-i,l,c,n,s),ei(c)){let u=Bi(n.index,e);u[Ln]=Fo(e,t,a,n)}}}function ab(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=mR();try{ko(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];_m(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&xk(c,l)}}finally{ko(-1),_m(s)}}function xk(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Mk(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(FO(e,s.selectors,!1))if(r||(r=[]),ei(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Bm(t,e,c)}else r.unshift(s),Bm(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Bm(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Pk(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new L(-301,!1);r.push(e[i],o)}}}function Ok(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ei(e)&&(n[""]=t)}}function Rk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function kk(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ea(i.type,!0)),s=new No(o,ei(i),I);t.blueprint[r]=s,n[r]=s,Sk(t,e,r,rb(t,n,i.hostVars,Bn),i)}function Nk(t,e,n){let r=ar(e,t),i=ob(n),o=t[Jr].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Gd(t,qd(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function Fk(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];nb(r,n,c,l,u,d)}}function Vk(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function cb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function lb(t,e){let n=t.contentQueries;if(n!==null){let r=Re(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Sg(o),a.contentQueries(2,e[s],s)}}}finally{Re(r)}}}function Gd(t,e){return t[uc]?t[YE][ir]=e:t[uc]=e,t[YE]=e,e}function $m(t,e,n){Sg(0);let r=Re(null);try{e(t,n)}finally{Re(r)}}function ub(t){return t[lc]||(t[lc]=[])}function db(t){return t.cleanup||(t.cleanup=[])}function Lk(t,e,n){return(t===null||ei(t))&&(n=YO(n[e.index])),n[ht]}function hb(t,e){let n=t[Xs],r=n?n.get(Dr,null):null;r&&r.handleError(e)}function Xg(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];nb(u,l,r,a,c,i)}}function fb(t,e,n){let r=jC(e,t);K1(t[ht],r,n)}function jk(t,e){let n=Bi(e,t),r=n[pe];Uk(r,n);let i=n[xr];i!==null&&n[dd]===null&&(n[dd]=Vg(i,n[Xs])),Jg(r,n,n[Ln])}function Uk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Jg(t,e,n){Dg(e);try{let r=t.viewQuery;r!==null&&$m(1,r,n);let i=t.template;i!==null&&ib(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Zr]?.finishViewCreation(t),t.staticContentQueries&&lb(t,e),t.staticViewQueries&&$m(2,t.viewQuery,n);let o=t.components;o!==null&&Bk(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ne]&=-5,Ag()}}function Bk(t,e){for(let n=0;n<e.length;n++)jk(t,e[n])}function pb(t,e,n,r){let i=Re(null);try{let o=e.tView,a=t[ne]&4096?4096:16,c=qd(t,o,n,a,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),l=t[e.index];c[wc]=l;let u=t[Zr];return u!==null&&(c[Zr]=u.createEmbeddedView(o)),Jg(o,c,n),c}finally{Re(i)}}function $k(t,e){let n=wn+e;if(n<t.length)return t[n]}function zm(t,e){return!e||e.firstChild===null||tI(t)}function mb(t,e,n,r=!0){let i=e[pe];if(Z1(i,e,t,n),r){let s=Um(n,t),a=e[ht],c=zg(a,t[Ro]);c!==null&&X1(i,t[sr],a,e,c,s)}let o=e[dd];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function zk(t,e){let n=_d(t,e);return n!==void 0&&$g(n[pe],n),n}function Ed(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(Sr(o)),ii(o)&&Hk(o,r);let s=n.type;if(s&8)Ed(t,e,n.child,r);else if(s&32){let a=Bg(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=JI(e,n);if(Array.isArray(a))r.push(...a);else{let c=hc(e[Tr]);Ed(c[pe],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Hk(t,e){for(let n=wn;n<t.length;n++){let r=t[n],i=r[pe].firstChild;i!==null&&Ed(r[pe],r,i,e)}t[Ro]!==t[xr]&&e.push(t[Ro])}var gb=[];function qk(t){return t[Oo]??Gk(t)}function Gk(t){let e=gb.pop()??Object.create(Kk);return e.lView=t,e}function Wk(t){t.lView[Oo]!==t&&(t.lView=null,gb.push(t))}var Kk=Se(V({},nc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{dc(t.lView)},consumerOnSignalRead(){this.lView[Oo]=this}});function vb(t){return _b(t[uc])}function yb(t){return _b(t[ir])}function _b(t){for(;t!==null&&!ii(t);)t=t[ir];return t}var wb=100;function Eb(t,e=!0,n=0){let r=t[Jr],i=r.rendererFactory,o=!1;o||i.begin?.();try{Qk(t,n)}catch(s){throw e&&hb(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Qk(t,e){Hm(t,e);let n=0;for(;Ig(t);){if(n===wb)throw new L(103,!1);n++,Hm(t,1)}}function Yk(t,e,n,r){let i=e[ne];if((i&256)===256)return;let o=!1;!o&&e[Jr].inlineEffectRunner?.flush(),Dg(e);let s=null,a=null;!o&&Xk(t)&&(a=qk(e),s=Iu(a));try{UC(e),hR(t.bindingStartIndex),n!==null&&ib(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&od(e,d,null)}else{let d=t.preOrderHooks;d!==null&&sd(e,d,0,null),rm(e,0)}if(Jk(e),Cb(e,0),t.contentQueries!==null&&lb(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&od(e,d)}else{let d=t.contentHooks;d!==null&&sd(e,d,1),rm(e,1)}mk(t,e);let l=t.components;l!==null&&bb(e,l,0);let u=t.viewQuery;if(u!==null&&$m(2,u,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&od(e,d)}else{let d=t.viewHooks;d!==null&&sd(e,d,2),rm(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[rd]){for(let d of e[rd])d();e[rd]=null}o||(e[ne]&=-73)}catch(c){throw dc(e),c}finally{a!==null&&(bu(a,s),Wk(a)),Ag()}}function Xk(t){return t.type!==2}function Cb(t,e){for(let n=vb(t);n!==null;n=yb(n))for(let r=wn;r<n.length;r++){let i=n[r];Ib(i,e)}}function Jk(t){for(let e=vb(t);e!==null;e=yb(e)){if(!(e[ne]&_g.HasTransplantedViews))continue;let n=e[Js];for(let r=0;r<n.length;r++){let i=n[r],o=i[Bt];eR(i)}}}function Zk(t,e,n){let r=Bi(e,t);Ib(r,n)}function Ib(t,e){Cg(t)&&Hm(t,e)}function Hm(t,e){let r=t[pe],i=t[ne],o=t[Oo],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Tu(o)),o&&(o.dirty=!1),t[ne]&=-9217,s)Yk(r,t,r.template,t[Ln]);else if(i&8192){Cb(t,1);let a=r.components;a!==null&&bb(t,a,1)}}function bb(t,e,n){for(let r=0;r<e.length;r++)Zk(t,e[r],n)}function Zg(t){for(t[Jr].changeDetectionScheduler?.notify();t;){t[ne]|=64;let e=hc(t);if(qO(t)&&!e)return t;t=e}return null}var Vo=class{get rootNodes(){let e=this._lView,n=e[pe];return Ed(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ln]}set context(e){this._lView[Ln]=e}get destroyed(){return(this._lView[ne]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Bt];if(ii(e)){let n=e[hd],r=n?n.indexOf(this):-1;r>-1&&(_d(e,r),fd(n,r))}this._attachedToViewContainer=!1}$g(this._lView[pe],this._lView)}onDestroy(e){BC(this._lView,e)}markForCheck(){Zg(this._cdRefInjectingView||this._lView)}detach(){this._lView[ne]&=-129}reattach(){ym(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,Eb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,QI(this._lView[pe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e,ym(this._lView)}},or=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=nN;let t=e;return t})(),eN=or,tN=class extends eN{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=pb(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Vo(i)}};function nN(){return ev(En(),Ae())}function ev(t,e){return t.type&4?new tN(e,t,sa(t,e)):null}var CQ=new RegExp(`^(\\d+)*(${zR}|${$R})*(.*)`);var rN=()=>null;function qm(t,e){return rN(t,e)}var gc=class{},Gm=class{},Cd=class{};function iN(t){let e=Error(`No component factory found for ${cn(t)}.`);return e[oN]=t,e}var oN="ngComponent";var Wm=class{resolveComponentFactory(e){throw iN(e)}},Wd=(()=>{let e=class e{};e.NULL=new Wm;let t=e;return t})(),Lo=class{},li=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>sN();let t=e;return t})();function sN(){let t=Ae(),e=En(),n=Bi(e.index,t);return(Mo(n)?n:t)[ht]}var aN=(()=>{let e=class e{};e.\u0275prov=F({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),am={},Tb=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=cN,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Km=class extends Tb{constructor(e){super(),this._lView=e}onDestroy(e){return BC(this._lView,e),()=>nR(this._lView,e)}};function cN(){return new Km(Ae())}var mC=new Set;function ui(t){mC.has(t)||(mC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function gC(...t){}function lN(){let t=typeof xo.requestAnimationFrame=="function",e=xo[t?"requestAnimationFrame":"setTimeout"],n=xo[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var De=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new it(!1),this.onMicrotaskEmpty=new it(!1),this.onStable=new it(!1),this.onError=new it(!1),typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=lN().nativeRequestAnimationFrame,hN(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new L(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,uN,gC,gC);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},uN={};function tv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function dN(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(xo,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Qm(t),t.isCheckStableRunning=!0,tv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Qm(t))}function hN(t){let e=()=>{dN(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(fN(a))return n.invokeTask(i,o,s,a);try{return vC(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),yC(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return vC(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),yC(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Qm(t),tv(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Qm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function vC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yC(t){t._nesting--,tv(t)}function fN(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Sb=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=F({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Id(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=gm(i,a);else if(o==2){let c=a,l=e[++s];r=gm(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var bd=class extends Wd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Li(e);return new ra(n,this.ngModule)}};function _C(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function pN(t){let e=t.toLowerCase();return e==="svg"?GO:e==="math"?WO:null}var Ym=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Fd(r);let i=this.injector.get(e,am,r);return i!==am||n===am?i:this.parentInjector.get(e,n,r)}},ra=class extends Cd{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=_C(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return _C(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=UO(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Re(null);try{i=i||this.ngModule;let s=i instanceof xt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Ym(e,s):e,c=a.get(Lo,null);if(c===null)throw new L(407,!1);let l=a.get(aN,null),u=a.get(Sb,null),d=a.get(gc,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},m=c.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",b=r?yk(m,r,this.componentDef.encapsulation,a):KI(m,w,pN(w)),A=512;this.componentDef.signals?A|=4096:this.componentDef.onPush||(A|=16);let x=null;b!==null&&(x=Vg(b,a,!0));let z=Kg(0,null,null,1,0,null,null,null,null,null,null),q=qd(null,z,null,A,null,null,h,m,a,null,x);Dg(q);let g,ee;try{let O=this.componentDef,X,de=null;O.findHostDirectiveDefs?(X=[],de=new Map,O.findHostDirectiveDefs(O,X,de),X.push(O)):X=[O];let Te=mN(q,b),Me=gN(Te,b,O,X,q,h,m);ee=Eg(z,jn),b&&_N(m,O,b,r),n!==void 0&&wN(ee,this.ngContentSelectors,n),g=yN(Me,O,X,de,q,[EN]),Jg(z,q,null)}finally{Ag()}return new Xm(this.componentType,g,sa(ee,q),q,ee)}finally{Re(o)}}},Xm=class extends Gm{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Vo(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Xg(o[pe],o,i,e,n),this.previousInputValues.set(e,n);let s=Bi(this._tNode.index,o);Zg(s)}}get injector(){return new Po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function mN(t,e){let n=t[pe],r=jn;return t[r]=e,Tc(n,r,2,"#host",null)}function gN(t,e,n,r,i,o,s){let a=i[pe];vN(r,t,e,s);let c=null;e!==null&&(c=Vg(e,i[Xs]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=qd(i,ob(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Bm(a,t,r.length-1),Gd(i,d),i[t.index]=d}function vN(t,e,n,r){for(let i of t)e.mergedAttrs=cc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Id(e,e.mergedAttrs,!0),n!==null&&eb(r,n,e))}function yN(t,e,n,r,i,o){let s=En(),a=i[pe],c=ar(s,i);sb(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,h=Fo(i,a,d,s);ji(h,i)}ab(a,i,s),c&&ji(c,i);let l=Fo(i,a,s.directiveStart+s.componentOffset,s);if(t[Ln]=i[Ln]=l,o!==null)for(let u of o)u(l,e);return qg(a,s,i),l}function _N(t,e,n,r){if(r)vm(t,n,["ng-version","17.2.4"]);else{let{attrs:i,classes:o}=BO(e.selectors[0]);i&&vm(t,n,i),o&&o.length>0&&ZI(t,n,o.join(" "))}}function wN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function EN(){let t=En();jd(Ae()[pe],t)}var zt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=CN;let t=e;return t})();function CN(){let t=En();return Ab(t,Ae())}var IN=zt,Db=class extends IN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return sa(this._hostTNode,this._hostLView)}get injector(){return new Po(this._hostTNode,this._hostLView)}get parentInjector(){let e=jg(this._hostTNode,this._hostLView);if(bI(e)){let n=vd(e,this._hostLView),r=gd(e),i=n[pe].data[r+8];return new Po(i,n)}else return new Po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=wC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-wn}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=qm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,zm(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!r1(e),a;if(s)a=n;else{let w=n||{};a=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let c=s?e:new ra(Li(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let b=(s?l:this.parentInjector).get(xt,null);b&&(o=b)}let u=Li(c.componentType??{}),d=qm(this._lContainer,u?.id??null),h=d?.firstChild??null,m=c.create(l,i,h,o);return this.insertImpl(m.hostView,a,zm(this._hostTNode,d)),m}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(ZO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Bt],l=new Db(c,c[sr],c[Bt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return mb(s,i,o,r),e.attachToViewContainerRef(),eI(cm(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=wC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=_d(this._lContainer,n);r&&(fd(cm(this._lContainer),n),$g(r[pe],r))}detach(e){let n=this._adjustIndex(e,-1),r=_d(this._lContainer,n);return r&&fd(cm(this._lContainer),n)!=null?new Vo(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function wC(t){return t[hd]}function cm(t){return t[hd]||(t[hd]=[])}function Ab(t,e){let n,r=e[t.index];return ii(r)?n=r:(n=cb(r,e,null,t),e[t.index]=n,Gd(e,n)),TN(n,e,t,r),new Db(n,t,e)}function bN(t,e){let n=t[ht],r=n.createComment(""),i=ar(e,t),o=zg(n,i);return wd(n,o,r,sk(n,i),!1),r}var TN=AN,SN=()=>!1;function DN(t,e,n){return SN(t,e,n)}function AN(t,e,n,r){if(t[Ro])return;let i;n.type&8?i=Sr(r):i=bN(e,n),t[Ro]=i}var Jm=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Zm=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)nv(e,n).matches!==null&&this.queries[n].setDirty()}},eg=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=FN(e):this.predicate=e}},tg=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},ng=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,xN(n,o)),this.matchTNodeWithReadOption(e,n,ad(n,e,o,!1,!1))}else r===or?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,ad(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===tt||i===zt||i===or&&n.type&4)this.addMatch(n.index,-2);else{let o=ad(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function xN(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function MN(t,e){return t.type&11?sa(t,e):t.type&4?ev(t,e):null}function PN(t,e,n,r){return n===-1?MN(e,t):n===-2?ON(t,e,r):Fo(t,t[pe],n,e)}function ON(t,e,n){if(n===tt)return sa(e,t);if(n===or)return ev(e,t);if(n===zt)return Ab(e,t)}function xb(t,e,n,r){let i=e[Zr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(PN(e,u,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function rg(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=xb(t,e,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=wn;d<u.length;d++){let h=u[d];h[wc]===h[Bt]&&rg(h[pe],h,l,r)}if(u[Js]!==null){let d=u[Js];for(let h=0;h<d.length;h++){let m=d[h];rg(m[pe],m,l,r)}}}}}return r}function RN(t,e){return t[Zr].queries[e].queryList}function kN(t,e,n){let r=new wm((n&4)===4);return Ek(t,e,r,r.destroy),(e[Zr]??=new Zm).queries.push(new Jm(r))-1}function NN(t,e,n){let r=Mt();return r.firstCreatePass&&(VN(r,new eg(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),kN(r,Ae(),e)}function FN(t){return t.split(",").map(e=>e.trim())}function VN(t,e,n){t.queries===null&&(t.queries=new tg),t.queries.track(new ng(e,n))}function nv(t,e){return t.queries.getByIndex(e)}function LN(t,e){let n=t[pe],r=nv(n,e);return r.crossesNgTemplate?rg(n,t,e,[]):xb(n,t,r,e)}function jN(t){return typeof t=="function"&&t[_r]!==void 0}function Or(t,e){ui("NgSignals");let n=pE(t),r=n[_r];return e?.equal&&(r.equal=e.equal),n.set=i=>Op(r,i),n.update=i=>mE(r,i),n.asReadonly=UN.bind(n),n}function UN(){let t=this[_r];if(t.readonlyFn===void 0){let e=()=>this();e[_r]=t,t.readonlyFn=e}return t.readonlyFn}function Mb(t){return jN(t)&&typeof t.set=="function"}function BN(t){return Object.getPrototypeOf(t.prototype).constructor}function We(t){let e=BN(t.type),n=!0,r=[t];for(;e;){let i;if(ei(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=td(t.inputs),s.inputTransforms=td(t.inputTransforms),s.declaredInputs=td(t.declaredInputs),s.outputs=td(t.outputs);let a=i.hostBindings;a&&GN(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&HN(t,c),l&&qN(t,l),$N(t,i),TO(t.outputs,i.outputs),ei(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===We&&(n=!1)}}e=Object.getPrototypeOf(e)}zN(r)}function $N(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function zN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=cc(i.hostAttrs,n=cc(n,i.hostAttrs))}}function td(t){return t===Ys?{}:t===_n?[]:t}function HN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function qN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function GN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Kd(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Ui=class{},vc=class{};var ig=class extends Ui{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new bd(this);let i=NC(e);this._bootstrapComponents=WI(i.bootstrap),this._r3Injector=RI(e,n,[{provide:Ui,useValue:this},{provide:Wd,useValue:this.componentFactoryResolver},...r],cn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},og=class extends vc{constructor(e){super(),this.moduleType=e}create(e){return new ig(this.moduleType,e,[])}};var Td=class extends Ui{constructor(e){super(),this.componentFactoryResolver=new bd(this),this.instance=null;let n=new mc([...e.providers,{provide:Ui,useValue:this},{provide:Wd,useValue:this.componentFactoryResolver}],e.parent||Ld(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function rv(t,e,n=null){return new Td({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var zo=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ut(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Pb(t){return KN(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function WN(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function KN(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Ob(t,e,n){return t[e]=n}function QN(t,e){return t[e]}function Ar(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function YN(t,e,n,r){let i=Ar(t,e,n);return Ar(t,e+1,r)||i}function XN(t,e,n,r,i,o,s,a,c){let l=e.consts,u=Tc(e,t,4,s||null,Zs(l,a));Yg(e,n,u,Zs(l,c)),jd(e,u);let d=u.tView=Kg(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function P(t,e,n,r,i,o,s,a){let c=Ae(),l=Mt(),u=t+jn,d=l.firstCreatePass?XN(u,l,c,e,n,r,i,o,s):l.data[u];Uo(d,!1);let h=JN(l,c,d,t);Rd()&&zd(l,c,h,d),ji(h,c);let m=cb(h,c,h,d);return c[u]=m,Gd(c,m),DN(m,d,c),Od(d)&&Gg(l,c,d),s!=null&&Wg(c,d,a),P}var JN=ZN;function ZN(t,e,n,r){return kd(!0),e[ht].createComment("")}function eF(t,e,n,r){return Ar(t,Ec(),n)?e+fc(n)+r:Bn}function tF(t,e,n,r,i,o){let s=dR(),a=YN(t,s,n,i);return Tg(2),a?e+fc(n)+r+fc(i)+o:Bn}function nd(t,e){return t<<17|e<<2}function jo(t){return t>>17&32767}function nF(t){return(t&2)==2}function rF(t,e){return t&131071|e<<17}function sg(t){return t|2}function ia(t){return(t&131068)>>2}function lm(t,e){return t&-131069|e<<2}function iF(t){return(t&1)===1}function ag(t){return t|1}function oF(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=jo(s),c=ia(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Cc(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let h=jo(t[a+1]);t[r+1]=nd(h,a),h!==0&&(t[h+1]=lm(t[h+1],r)),t[a+1]=rF(t[a+1],r)}else t[r+1]=nd(a,0),a!==0&&(t[a+1]=lm(t[a+1],r)),a=r;else t[r+1]=nd(c,0),a===0?a=r:t[c+1]=lm(t[c+1],r),c=r;l&&(t[r+1]=sg(t[r+1])),EC(t,u,r,!0),EC(t,u,r,!1),sF(e,u,t,r,o),s=nd(a,c),o?e.classBindings=s:e.styleBindings=s}function sF(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Cc(o,e)>=0&&(n[r+1]=ag(n[r+1]))}function EC(t,e,n,r){let i=t[n+1],o=e===null,s=r?jo(i):ia(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];aF(c,e)&&(a=!0,t[s+1]=r?ag(l):sg(l)),s=r?jo(l):ia(l)}a&&(t[n+1]=r?sg(i):ag(i))}function aF(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Cc(t,e)>=0:!1}var rr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cF(t){return t.substring(rr.key,rr.keyEnd)}function lF(t){return uF(t),Rb(t,kb(t,0,rr.textEnd))}function Rb(t,e){let n=rr.textEnd;return n===e?-1:(e=rr.keyEnd=dF(t,rr.key=e,n),kb(t,e,n))}function uF(t){rr.key=0,rr.keyEnd=0,rr.value=0,rr.valueEnd=0,rr.textEnd=t.length}function kb(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function dF(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function _(t,e,n){let r=Ae(),i=Ec();if(Ar(r,i,e)){let o=Mt(),s=xg();Qg(o,s,r,t,e,r[ht],n,!1)}return _}function cg(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Xg(t,n,o[s],s,r)}function Ht(t,e,n){return Fb(t,e,n,!1),Ht}function se(t,e){return Fb(t,e,null,!0),se}function Nb(t){fF(_F,hF,t,!0)}function hF(t,e){for(let n=lF(e);n>=0;n=Rb(e,n))Pg(t,cF(e),!0)}function Fb(t,e,n,r){let i=Ae(),o=Mt(),s=Tg(2);if(o.firstUpdatePass&&Lb(o,t,s,r),e!==Bn&&Ar(i,s,e)){let a=o.data[$i()];jb(o,a,i,i[ht],t,i[s+1]=EF(e,n),r,s)}}function fF(t,e,n,r){let i=Mt(),o=Tg(2);i.firstUpdatePass&&Lb(i,null,o,r);let s=Ae();if(n!==Bn&&Ar(s,o,n)){let a=i.data[$i()];if(Ub(a,r)&&!Vb(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=gm(c,n||"")),cg(i,a,s,n,r)}else wF(i,a,s,s[ht],s[o+1],s[o+1]=yF(t,e,n),r,o)}}function Vb(t,e){return e>=t.expandoStartIndex}function Lb(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[$i()],s=Vb(t,n);Ub(o,r)&&e===null&&!s&&(e=!1),e=pF(i,o,e,r),oF(i,o,e,n,s,r)}}function pF(t,e,n,r){let i=GC(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=um(null,t,e,n,r),n=yc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=um(i,t,e,n,r),o===null){let c=mF(t,e,r);c!==void 0&&Array.isArray(c)&&(c=um(null,t,e,c[1],r),c=yc(c,e.attrs,r),gF(t,e,r,c))}else o=vF(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function mF(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ia(r)!==0)return t[jo(r)]}function gF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[jo(i)]=r}function vF(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=yc(r,s,n)}return yc(r,e.attrs,n)}function um(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=yc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function yc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Pg(t,s,n?!0:e[++o]))}return t===void 0?null:t}function yF(t,e,n){if(n==null||n==="")return _n;let r=[],i=Mr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function _F(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Pg(t,r,n)}function wF(t,e,n,r,i,o,s,a){i===Bn&&(i=_n);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let h=c<i.length?i[c+1]:void 0,m=l<o.length?o[l+1]:void 0,w=null,b;u===d?(c+=2,l+=2,h!==m&&(w=d,b=m)):d===null||u!==null&&u<d?(c+=2,w=u):(l+=2,w=d,b=m),w!==null&&jb(t,e,n,r,w,b,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function jb(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=iF(l)?CC(c,e,n,i,ia(l),s):void 0;if(!Sd(u)){Sd(o)||nF(l)&&(o=CC(c,null,n,i,a,s));let d=jC($i(),n);fk(r,s,d,i,o)}}function CC(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[i+1];h===Bn&&(h=d?_n:void 0);let m=d?tm(h,r):u===r?h:void 0;if(l&&!Sd(m)&&(m=tm(c,r)),Sd(m)&&(a=m,s))return a;let w=t[i+1];i=s?jo(w):ia(w)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=tm(c,r))}return a}function Sd(t){return t!==void 0}function EF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=cn(Mr(t)))),t}function Ub(t,e){return(t.flags&(e?8:16))!==0}function aa(t,e,n){ui("NgControlFlow");let r=Ae(),i=Ec(),o=CF(r,jn+t),s=0;if(Ar(r,i,e)){let a=Re(null);try{if(zk(o,s),e!==-1){let c=IF(r[pe],jn+e),l=qm(o,c.tView.ssrId),u=pb(r,c,n,{dehydratedView:l});mb(o,u,s,zm(c,l))}}finally{Re(a)}}else{let a=$k(o,s);a!==void 0&&(a[Ln]=n)}}function CF(t,e){return t[e]}function IF(t,e){return Eg(t,e)}function bF(t,e,n,r,i,o){let s=e.consts,a=Zs(s,i),c=Tc(e,t,2,r,a);return Yg(e,n,c,Zs(s,o)),c.attrs!==null&&Id(c,c.attrs,!1),c.mergedAttrs!==null&&Id(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function f(t,e,n,r){let i=Ae(),o=Mt(),s=jn+t,a=i[ht],c=o.firstCreatePass?bF(s,o,i,e,n,r):o.data[s],l=TF(o,i,c,a,e,t);i[s]=l;let u=Od(c);return Uo(c,!0),eb(a,l,c),(c.flags&32)!==32&&Rd()&&zd(o,i,l,c),rR()===0&&ji(l,i),iR(),u&&(Gg(o,i,c),qg(o,c,i)),r!==null&&Wg(i,c),f}function p(){let t=En();bg()?HC():(t=t.parent,Uo(t,!1));let e=t;aR(e)&&cR(),oR();let n=Mt();return n.firstCreatePass&&(jd(n,t),wg(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&u1(e)&&cg(n,e,Ae(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&d1(e)&&cg(n,e,Ae(),e.stylesWithoutHost,!1),p}function N(t,e,n,r){return f(t,e,n,r),p(),N}var TF=(t,e,n,r,i,o)=>(kd(!0),KI(r,i,yR()));function SF(t,e,n,r,i){let o=e.consts,s=Zs(o,r),a=Tc(e,t,8,"ng-container",s);s!==null&&Id(a,s,!0);let c=Zs(o,i);return Yg(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Ee(t,e,n){let r=Ae(),i=Mt(),o=t+jn,s=i.firstCreatePass?SF(o,i,r,e,n):i.data[o];Uo(s,!0);let a=DF(i,r,s,t);return r[o]=a,Rd()&&zd(i,r,a,s),ji(a,r),Od(s)&&(Gg(i,r,s),qg(i,s,r)),n!=null&&Wg(r,s),Ee}function Ce(){let t=En(),e=Mt();return bg()?HC():(t=t.parent,Uo(t,!1)),e.firstCreatePass&&(jd(e,t),wg(t)&&e.queries.elementEnd(t)),Ce}function iv(t,e,n){return Ee(t,e,n),Ce(),iv}var DF=(t,e,n,r)=>(kd(!0),Q1(e[ht],""));function W(){return Ae()}function ov(t,e,n){let r=Ae(),i=Ec();if(Ar(r,i,e)){let o=Mt(),s=xg(),a=GC(o.data),c=Lk(a,s,r);Qg(o,s,r,t,e,c,n,!0)}return ov}var Dd="en-US";var AF=Dd;function xF(t){typeof t=="string"&&(AF=t.toLowerCase().replace(/_/g,"-"))}function C(t,e,n,r){let i=Ae(),o=Mt(),s=En();return Bb(o,i,i[ht],s,t,e,r),C}function MF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[lc],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Bb(t,e,n,r,i,o,s){let a=Od(r),l=t.firstCreatePass&&db(t),u=e[Ln],d=ub(e),h=!0;if(r.type&3||s){let b=ar(r,e),A=s?s(b):b,x=d.length,z=s?g=>s(Sr(g[r.index])):r.index,q=null;if(!s&&a&&(q=MF(t,e,i,r.index)),q!==null){let g=q.__ngLastListenerFn__||q;g.__ngNextListenerFn__=o,q.__ngLastListenerFn__=o,h=!1}else{o=bC(r,e,u,o,!1);let g=n.listen(A,i,o);d.push(o,g),l&&l.push(i,z,x,x+1)}}else o=bC(r,e,u,o,!1);let m=r.outputs,w;if(h&&m!==null&&(w=m[i])){let b=w.length;if(b)for(let A=0;A<b;A+=2){let x=w[A],z=w[A+1],ee=e[x][z].subscribe(o),O=d.length;if(d.push(o,ee),l){let X=typeof ee=="function"?O+1:-(O+1);l.push(i,r.index,O,X)}}}}function IC(t,e,n,r){let i=Re(null);try{return Cr(6,e,n),n(r)!==!1}catch(o){return hb(t,o),!1}finally{Cr(7,e,n),Re(i)}}function bC(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Bi(t.index,e):e;Zg(a);let c=IC(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=IC(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function y(t=1){return vR(t)}function $b(t,e,n){NN(t,e,n)}function sv(t){let e=Ae(),n=Mt(),r=WC();Sg(r+1);let i=nv(n,r);if(t.dirty&&JO(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=LN(e,r);t.reset(o,wR),t.notifyOnChanges()}return!0}return!1}function av(){return RN(Ae(),WC())}function nt(t){let e=uR();return XO(e,jn+t)}function M(t,e=""){let n=Ae(),r=Mt(),i=t+jn,o=r.firstCreatePass?Tc(r,i,1,e,null):r.data[i],s=PF(r,n,o,e,t);n[i]=s,Rd()&&zd(r,n,s,o),Uo(o,!1)}var PF=(t,e,n,r,i)=>(kd(!0),W1(e[ht],r));function _e(t){return Qd("",t,""),_e}function Qd(t,e,n){let r=Ae(),i=eF(r,t,e,n);return i!==Bn&&fb(r,$i(),i),Qd}function cr(t,e,n,r,i){let o=Ae(),s=tF(o,t,e,n,r,i);return s!==Bn&&fb(o,$i(),s),cr}function di(t,e,n){Mb(e)&&(e=e());let r=Ae(),i=Ec();if(Ar(r,i,e)){let o=Mt(),s=xg();Qg(o,s,r,t,e,r[ht],n,!1)}return di}function Hi(t,e){let n=Mb(t);return n&&t.set(e),n}function hi(t,e){let n=Ae(),r=Mt(),i=En();return Bb(r,n,n[ht],i,t,e),hi}function OF(t,e,n){let r=Mt();if(r.firstCreatePass){let i=ei(t);lg(n,r.data,r.blueprint,i,!0),lg(e,r.data,r.blueprint,i,!1)}}function lg(t,e,n,r,i){if(t=an(t),Array.isArray(t))for(let o=0;o<t.length;o++)lg(t[o],e,n,r,i);else{let o=Mt(),s=Ae(),a=En(),c=na(t)?t:an(t.provide),l=yI(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(na(t)||!t.multi){let m=new No(l,i,I),w=hm(c,e,i?u:u+h,d);w===-1?(Mm(yd(a,s),o,c),dm(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(m),s.push(m)):(n[w]=m,s[w]=m)}else{let m=hm(c,e,u+h,d),w=hm(c,e,u,u+h),b=m>=0&&n[m],A=w>=0&&n[w];if(i&&!A||!i&&!b){Mm(yd(a,s),o,c);let x=NF(i?kF:RF,n.length,i,r,l);!i&&A&&(n[w].providerFactory=x),dm(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(x),s.push(x)}else{let x=zb(n[i?w:m],l,!i&&r);dm(o,t,m>-1?m:w,x)}!i&&r&&A&&n[w].componentProviders++}}}function dm(t,e,n,r){let i=na(e),o=QR(e);if(i||o){let c=(o?an(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function zb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function hm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function RF(t,e,n,r){return ug(this.multi,[])}function kF(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Fo(n,n[pe],this.providerFactory.index,r);o=a.slice(0,s),ug(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],ug(i,o);return o}function ug(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function NF(t,e,n,r,i){let o=new No(t,n,I);return o.multi=[],o.index=e,o.componentProviders=0,zb(o,i,r&&!n),o}function Sc(t,e=[]){return n=>{n.providersResolver=(r,i)=>OF(r,i?i(t):t,e)}}var FF=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=mI(!1,r.type),o=i.length>0?rv([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=F({token:e,providedIn:"environment",factory:()=>new e(R(xt))});let t=e;return t})();function K(t){ui("NgStandalone"),t.getStandaloneInjector=e=>e.get(FF).getOrCreateStandaloneInjector(t)}function Yd(t,e,n){let r=qC()+t,i=Ae();return i[r]===Bn?Ob(i,r,n?e.call(n):e()):QN(i,r)}function Xd(t,e,n,r){return LF(Ae(),qC(),t,e,n,r)}function VF(t,e){let n=t[e];return n===Bn?void 0:n}function LF(t,e,n,r,i,o){let s=e+n;return Ar(t,s,i)?Ob(t,s+1,o?r.call(o,i):r(i)):VF(t,s+1)}var ri=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Hb=new ri("17.2.4"),Jd=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var qb=new Y("");function Ho(t){return!!t&&typeof t.then=="function"}function Gb(t){return!!t&&typeof t.subscribe=="function"}var Wb=new Y(""),Kb=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=j(Wb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Ho(s))r.push(s);else if(Gb(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Zd=new Y("");function jF(){fE(()=>{throw new L(600,!1)})}function UF(t){return t.isBoundToModule}function BF(t,e,n){try{let r=n();return Ho(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Rr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=j(kI),this.afterRenderEffectManager=j(Sb),this.componentTypes=[],this.components=[],this.isStable=j(zo).hasPendingTasks.pipe(ie(r=>!r)),this._injector=j(xt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Cd;if(!this._injector.get(Kb).done){let m=!o&&kC(r),w=!1;throw new L(405,w)}let a;o?a=r:a=this._injector.get(Wd).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=UF(a)?void 0:this._injector.get(Ui),l=i||a.selector,u=a.create(Ge.NULL,[],l,c),d=u.location.nativeElement,h=u.injector.get(qb,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),fm(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new L(101,!1);let r=Re(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Re(r)}}detectChangesInAttachedViews(){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===wb)throw new L(103,!1);let o=r===0;for(let{_lView:s,notifyErrorHandler:a}of this._views)!o&&!pm(s)||this.detectChangesInView(s,a,o);if(r++,i.executeInternalCallbacks(),!this._views.some(({_lView:s})=>pm(s))&&(i.execute(),!this._views.some(({_lView:s})=>pm(s))))break}}detectChangesInView(r,i,o){let s;o?(s=0,r[ne]|=1024):r[ne]&64?s=0:s=1,Eb(r,i,s)}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;fm(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Zd,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>fm(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new L(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fm(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function pm(t){return Ig(t)}var dg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},cv=(()=>{let e=class e{compileModuleSync(r){return new og(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=NC(r),s=WI(o.declarations).reduce((a,c)=>{let l=Li(c);return l&&a.push(new ra(l)),a},[]);return new dg(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $F=(()=>{let e=class e{constructor(){this.zone=j(De),this.applicationRef=j(Rr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function zF(t){return[{provide:De,useFactory:t},{provide:ta,multi:!0,useFactory:()=>{let e=j($F,{optional:!0});return()=>e.initialize()}},{provide:ta,multi:!0,useFactory:()=>{let e=j(WF);return()=>{e.initialize()}}},{provide:kI,useFactory:HF}]}function HF(){let t=j(De),e=j(Dr);return n=>t.runOutsideAngular(()=>e.handleError(n))}function qF(t){let e=zF(()=>new De(GF(t)));return zi([[],e])}function GF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var WF=(()=>{let e=class e{constructor(){this.subscription=new lt,this.initialized=!1,this.zone=j(De),this.pendingTasks=j(zo)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function KF(){return typeof $localize<"u"&&$localize.locale||Dd}var lv=new Y("",{providedIn:"root",factory:()=>j(lv,we.Optional|we.SkipSelf)||KF()});var Qb=new Y("");var ld=null;function QF(t=[],e){return Ge.create({name:e,providers:[{provide:Vd,useValue:"platform"},{provide:Qb,useValue:new Set([()=>ld=null])},...t]})}function YF(t=[]){if(ld)return ld;let e=QF(t);return ld=e,jF(),XF(e),e}function XF(t){t.get(Rg,null)?.forEach(n=>n())}var kr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=JF;let t=e;return t})();function JF(t){return ZF(En(),Ae(),(t&16)===16)}function ZF(t,e,n){if(Pd(t)&&!n){let r=Bi(t.index,e);return new Vo(r,r)}else if(t.type&47){let r=e[Tr];return new Vo(r,e)}return null}var hg=class{constructor(){}supports(e){return Pb(e)}create(e){return new fg(e)}},eV=(t,e)=>e,fg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||eV}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<TC(r,i,o)?n:r,a=TC(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){let m=h<o.length?o[h]:o[h]=0,w=m+h;u<=w&&w<l&&(o[h]=m+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Pb(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,WN(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new pg(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ad),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ad),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},pg=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},mg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ad=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new mg,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function TC(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function SC(){return new uv([new hg])}var uv=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||SC()),deps:[[e,new hI,new dn]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new L(901,!1)}};e.\u0275prov=F({token:e,providedIn:"root",factory:SC});let t=e;return t})();function Yb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=YF(r),o=[qF(),...n||[]],a=new Td({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(De);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(Dr,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:m=>{l.handleError(m)}})});let d=()=>a.destroy(),h=i.get(Qb);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),BF(l,c,()=>{let m=a.get(Kb);return m.runInitializers(),m.donePromise.then(()=>{let w=a.get(lv,Dd);xF(w||Dd);let b=a.get(Rr);return e!==void 0&&b.bootstrap(e),b})})})}catch(e){return Promise.reject(e)}}function $n(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Xb(t,e){ui("NgSignals");let n=uE(t);return e?.equal&&(n[_r].equal=e.equal),n}var tV=new Y("",{providedIn:"root",factory:()=>j(nV)}),nV=(()=>{let e=class e{};e.\u0275prov=F({token:e,providedIn:"root",factory:()=>new gg});let t=e;return t})(),gg=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=j(zo),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},vg=class{constructor(e,n,r,i,o,s){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=o,this.watcher=vE(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(Dr,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function fi(t,e){ui("NgSignals"),!e?.injector&&n1(fi);let n=e?.injector??j(Ge),r=e?.manualCleanup!==!0?n.get(Tb):null,i=new vg(n.get(tV),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),o=n.get(kr,null,{optional:!0});return!o||!(o._lView[ne]&8)?i.watcher.notify():(o._lView[rd]??=[]).push(i.watcher.notify),i}function eh(t,e){let n=Li(t),r=e.elementInjector||Ld();return new ra(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}var rT=null;function pi(){return rT}function iT(t){rT??=t}var th=class{};var qt=new Y(""),oT=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>j(iV),providedIn:"platform"});let t=e;return t})();var iV=(()=>{let e=class e extends oT{constructor(){super(),this._doc=j(qt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pi().getBaseHref(this._doc)}onPopState(r){let i=pi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=pi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function sT(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Jb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function qo(t){return t&&t[0]!=="?"?"?"+t:t}var nh=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>j(aT),providedIn:"root"});let t=e;return t})(),oV=new Y(""),aT=(()=>{let e=class e extends nh{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??j(qt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return sT(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+qo(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+qo(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+qo(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(R(oT),R(oV,8))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Dc=(()=>{let e=class e{constructor(r){this._subject=new it,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=cV(Jb(Zb(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+qo(i))}normalize(r){return e.stripTrailingSlash(aV(this._basePath,Zb(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+qo(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+qo(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=qo,e.joinWithSlash=sT,e.stripTrailingSlash=Jb,e.\u0275fac=function(i){return new(i||e)(R(nh))},e.\u0275prov=F({token:e,factory:()=>sV(),providedIn:"root"});let t=e;return t})();function sV(){return new Dc(R(nh))}function aV(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Zb(t){return t.replace(/\/index.html$/,"")}function cV(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function rh(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var dv=/\s+/,eT=[],vt=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=eT,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(dv):eT}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(dv):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(dv).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(I(tt),I(li))},e.\u0275dir=Ke({type:e,selectors:[["","ngClass",""]],inputs:{klass:[re.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var hv=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ke=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new hv(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),tT(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);tT(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(I(zt),I(or),I(uv))},e.\u0275dir=Ke({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function tT(t,e){t.context.$implicit=e.item}var be=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new fv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){nT("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){nT("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(I(zt),I(or))},e.\u0275dir=Ke({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),fv=class{constructor(){this.$implicit=null,this.ngIf=null}};function nT(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${cn(e)}'.`)}var Z=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ln({type:e}),e.\u0275inj=un({});let t=e;return t})(),cT="browser",lV="server";function Ac(t){return t===lV}var ca=class{};var Mc=class{},Pc=class{},mi=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var gv=class{encodeKey(e){return lT(e)}encodeValue(e){return lT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function hV(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var fV=/%(\d[a-f0-9])/gi,pV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lT(t){return encodeURIComponent(t).replace(fV,(e,n)=>pV[n]??e)}function ih(t){return`${t}`}var Gi=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new gv,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=hV(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(ih):[ih(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(ih(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(ih(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var vv=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function mV(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function uT(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function dT(t){return typeof Blob<"u"&&t instanceof Blob}function hT(t){return typeof FormData<"u"&&t instanceof FormData}function gV(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var xc=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(mV(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new mi,this.context??=new vv,!this.params)this.params=new Gi,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:uT(this.body)||dT(this.body)||hT(this.body)||gV(this.body)||typeof this.body=="string"?this.body:this.body instanceof Gi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||hT(this.body)?null:dT(this.body)?this.body.type||null:uT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Gi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,s=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,l=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),l)),new t(n,r,o,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:s})}},Wi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Wi||{}),Oc=class{constructor(e,n=kc.Ok,r="OK"){this.headers=e.headers||new mi,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},oh=class t extends Oc{constructor(e={}){super(e),this.type=Wi.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Rc=class t extends Oc{constructor(e={}){super(e),this.type=Wi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},qi=class extends Oc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},kc=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(kc||{});function pv(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Go=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof xc)s=r;else{let l;o.headers instanceof mi?l=o.headers:l=new mi(o.headers);let u;o.params&&(o.params instanceof Gi?u=o.params:u=new Gi({fromObject:o.params})),s=new xc(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=ce(s).pipe(ki(l=>this.handler.handle(l)));if(r instanceof xc||o.observe==="events")return a;let c=a.pipe(tn(l=>l instanceof Rc));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(ie(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(ie(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(ie(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(ie(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Gi().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,pv(o,i))}post(r,i,o={}){return this.request("POST",r,pv(o,i))}put(r,i,o={}){return this.request("PUT",r,pv(o,i))}};e.\u0275fac=function(i){return new(i||e)(R(Mc))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),vV=/^\)\]\}',?\n/,yV="X-Request-URL";function fT(t){if(t.url)return t.url;let e=yV.toLocaleLowerCase();return t.headers.get(e)}var mv=(()=>{let e=class e{constructor(){this.fetchImpl=j(yv,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=j(De)}handle(r){return new ae(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then(_v,s=>i.error(new qi({error:s}))),()=>o.abort()})}doRequest(r,i,o){return E(this,null,function*(){let s=this.createRequestInit(r),a;try{let w=this.fetchImpl(r.urlWithParams,V({signal:i},s));_V(w),o.next({type:Wi.Sent}),a=yield w}catch(w){o.error(new qi({error:w,status:w.status??0,statusText:w.statusText,url:r.urlWithParams,headers:w.headers}));return}let c=new mi(a.headers),l=a.statusText,u=fT(a)??r.urlWithParams,d=a.status,h=null;if(r.reportProgress&&o.next(new oh({headers:c,status:d,statusText:l,url:u})),a.body){let w=a.headers.get("content-length"),b=[],A=a.body.getReader(),x=0,z,q,g=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>E(this,null,function*(){for(;;){let{done:O,value:X}=yield A.read();if(O)break;if(b.push(X),x+=X.length,r.reportProgress){q=r.responseType==="text"?(q??"")+(z??=new TextDecoder).decode(X,{stream:!0}):void 0;let de=()=>o.next({type:Wi.DownloadProgress,total:w?+w:void 0,loaded:x,partialText:q});g?g.run(de):de()}}}));let ee=this.concatChunks(b,x);try{let O=a.headers.get("Content-Type")??"";h=this.parseBody(r,ee,O)}catch(O){o.error(new qi({error:O,headers:new mi(a.headers),status:a.status,statusText:a.statusText,url:fT(a)??r.urlWithParams}));return}}d===0&&(d=h?kc.Ok:0),d>=200&&d<300?(o.next(new Rc({body:h,headers:c,status:d,statusText:l,url:u})),o.complete()):o.error(new qi({error:h,headers:c,status:d,statusText:l,url:u}))})}parseBody(r,i,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(i).replace(vV,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>i[s]=a.join(",")),i.Accept??="application/json, text/plain, */*",!i["Content-Type"]){let s=r.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),yv=class{};function _v(){}function _V(t){t.then(_v,_v)}function wV(t,e){return e(t)}function EV(t,e,n){return(r,i)=>oi(n,()=>e(r,o=>t(o,i)))}var wv=new Y(""),CV=new Y(""),gT=new Y("");var pT=(()=>{let e=class e extends Mc{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=j(zo);let o=j(gT,{optional:!0});this.backend=o??r}handle(r){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(wv),...this.injector.get(CV,[])]));this.chain=o.reduceRight((s,a)=>EV(s,a,this.injector),wV)}let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(Ao(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(R(Pc),R(xt))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})();var IV=/^\)\]\}',?\n/;function bV(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var mT=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new L(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ze(i.\u0275loadImpl()):ce(null)).pipe(At(()=>new ae(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((A,x)=>a.setRequestHeader(A,x.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let A=r.detectContentTypeHeader();A!==null&&a.setRequestHeader("Content-Type",A)}if(r.responseType){let A=r.responseType.toLowerCase();a.responseType=A!=="json"?A:"text"}let c=r.serializeBody(),l=null,u=()=>{if(l!==null)return l;let A=a.statusText||"OK",x=new mi(a.getAllResponseHeaders()),z=bV(a)||r.url;return l=new oh({headers:x,status:a.status,statusText:A,url:z}),l},d=()=>{let{headers:A,status:x,statusText:z,url:q}=u(),g=null;x!==kc.NoContent&&(g=typeof a.response>"u"?a.responseText:a.response),x===0&&(x=g?kc.Ok:0);let ee=x>=200&&x<300;if(r.responseType==="json"&&typeof g=="string"){let O=g;g=g.replace(IV,"");try{g=g!==""?JSON.parse(g):null}catch(X){g=O,ee&&(ee=!1,g={error:X,text:g})}}ee?(s.next(new Rc({body:g,headers:A,status:x,statusText:z,url:q||void 0})),s.complete()):s.error(new qi({error:g,headers:A,status:x,statusText:z,url:q||void 0}))},h=A=>{let{url:x}=u(),z=new qi({error:A,status:a.status||0,statusText:a.statusText||"Unknown Error",url:x||void 0});s.error(z)},m=!1,w=A=>{m||(s.next(u()),m=!0);let x={type:Wi.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(x.total=A.total),r.responseType==="text"&&a.responseText&&(x.partialText=a.responseText),s.next(x)},b=A=>{let x={type:Wi.UploadProgress,loaded:A.loaded};A.lengthComputable&&(x.total=A.total),s.next(x)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",w),c!==null&&a.upload&&a.upload.addEventListener("progress",b)),a.send(c),s.next({type:Wi.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",w),c!==null&&a.upload&&a.upload.removeEventListener("progress",b)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(R(ca))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),vT=new Y(""),TV="XSRF-TOKEN",SV=new Y("",{providedIn:"root",factory:()=>TV}),DV="X-XSRF-TOKEN",AV=new Y("",{providedIn:"root",factory:()=>DV}),sh=class{},xV=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=rh(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(R(qt),R(Un),R(SV))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})();function MV(t,e){let n=t.url.toLowerCase();if(!j(vT)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=j(sh).getToken(),i=j(AV);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Ev=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Ev||{});function yT(t,e){return{\u0275kind:t,\u0275providers:e}}function _T(...t){let e=[Go,mT,pT,{provide:Mc,useExisting:pT},{provide:Pc,useExisting:mT},{provide:wv,useValue:MV,multi:!0},{provide:vT,useValue:!0},{provide:sh,useClass:xV}];for(let n of t)e.push(...n.\u0275providers);return zi(e)}function wT(t){return yT(Ev.Interceptors,t.map(e=>({provide:wv,useValue:e,multi:!0})))}function ET(){return yT(Ev.Fetch,[mv,{provide:Pc,useExisting:mv},{provide:gT,useExisting:mv}])}var IT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},PV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},bT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|l>>6,m=l&63;c||(m=64,s||(h=64)),r.push(n[u],n[d],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(IT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new bv;let h=o<<2|a>>4;if(r.push(h),l!==64){let m=a<<4&240|l>>2;if(r.push(m),d!==64){let w=l<<6&192|d;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},bv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},OV=function(t){let e=IT(t);return bT.encodeByteArray(e,!0)},Nc=function(t){return OV(t).replace(/\./g,"")},Sv=function(t){try{return bT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function RV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var kV=()=>RV().__FIREBASE_DEFAULTS__,NV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Sv(t[1]);return e&&JSON.parse(e)},Dv=()=>{try{return kV()||NV()||FV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Av=t=>{var e,n;return(n=(e=Dv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},TT=t=>{let e=Av(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xv=()=>{var t;return(t=Dv())===null||t===void 0?void 0:t.config},Mv=t=>{var e;return(e=Dv())===null||e===void 0?void 0:e[`_${t}`]};var ah=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function ST(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Nc(JSON.stringify(n)),Nc(JSON.stringify(s)),""].join(".")}function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function AT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MT(){let t=Pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Pv(){try{return typeof indexedDB=="object"}catch{return!1}}function PT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var VV="FirebaseError",Mn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=VV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gi.prototype.create)}},gi=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?LV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Mn(i,a,r)}};function LV(t,e){return t.replace(jV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var jV=/\{\$([^}]+)}/g;function OT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(CT(o)&&CT(s)){if(!Wo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function CT(t){return t!==null&&typeof t=="object"}function Fc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function RT(t,e){let n=new Tv(t,e);return n.subscribe.bind(n)}var Tv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Iv),i.error===void 0&&(i.error=Iv),i.complete===void 0&&(i.complete=Iv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function UV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Iv(){}var aY=4*60*60*1e3;function Ki(t){return t&&t._delegate?t._delegate:t}var zn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ko="[DEFAULT]";var Ov=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new ah;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($V(e))try{this.getOrInitializeService({instanceIdentifier:Ko})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ko){return this.instances.has(e)}getOptions(e=Ko){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ko){return this.component?this.component.multipleInstances?e:Ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function BV(t){return t===Ko?void 0:t}function $V(t){return t.instantiationMode==="EAGER"}var ch=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Ov(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var zV=[],Ne=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ne||{}),HV={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},qV=Ne.INFO,GV={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},WV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=GV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Qi=class{constructor(e){this.name=e,this._logLevel=qV,this._logHandler=WV,this._userLogHandler=null,zV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}};var KV=(t,e)=>e.some(n=>t instanceof n),kT,NT;function QV(){return kT||(kT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YV(){return NT||(NT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var FT=new WeakMap,kv=new WeakMap,VT=new WeakMap,Rv=new WeakMap,Fv=new WeakMap;function XV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Nr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&FT.set(n,t)}).catch(()=>{}),Fv.set(e,t),e}function JV(t){if(kv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});kv.set(t,e)}var Nv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LT(t){Nv=t(Nv)}function ZV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(lh(this),e,...n);return VT.set(r,e.sort?e.sort():[e]),Nr(r)}:YV().includes(t)?function(...e){return t.apply(lh(this),e),Nr(FT.get(this))}:function(...e){return Nr(t.apply(lh(this),e))}}function eL(t){return typeof t=="function"?ZV(t):(t instanceof IDBTransaction&&JV(t),KV(t,QV())?new Proxy(t,Nv):t)}function Nr(t){if(t instanceof IDBRequest)return XV(t);if(Rv.has(t))return Rv.get(t);let e=eL(t);return e!==t&&(Rv.set(t,e),Fv.set(e,t)),e}var lh=t=>Fv.get(t);function UT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Nr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Nr(s.result),c.oldVersion,c.newVersion,Nr(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var tL=["get","getKey","getAll","getAllKeys","count"],nL=["put","add","delete","clear"],Vv=new Map;function jT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vv.get(e))return Vv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=nL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tL.includes(n)))return;let o=function(s,...a){return E(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Vv.set(e,o),o}LT(t=>Se(V({},t),{get:(e,n,r)=>jT(e,n)||t.get(e,n,r),has:(e,n)=>!!jT(e,n)||t.has(e,n)}));var jv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function rL(t){let e=t.getComponent();return e?.type==="VERSION"}var Uv="@firebase/app",BT="0.9.28";var Qo=new Qi("@firebase/app"),iL="@firebase/app-compat",oL="@firebase/analytics-compat",sL="@firebase/analytics",aL="@firebase/app-check-compat",cL="@firebase/app-check",lL="@firebase/auth",uL="@firebase/auth-compat",dL="@firebase/database",hL="@firebase/database-compat",fL="@firebase/functions",pL="@firebase/functions-compat",mL="@firebase/installations",gL="@firebase/installations-compat",vL="@firebase/messaging",yL="@firebase/messaging-compat",_L="@firebase/performance",wL="@firebase/performance-compat",EL="@firebase/remote-config",CL="@firebase/remote-config-compat",IL="@firebase/storage",bL="@firebase/storage-compat",TL="@firebase/firestore",SL="@firebase/firestore-compat",DL="firebase",AL="10.8.1";var Bv="[DEFAULT]",xL={[Uv]:"fire-core",[iL]:"fire-core-compat",[sL]:"fire-analytics",[oL]:"fire-analytics-compat",[cL]:"fire-app-check",[aL]:"fire-app-check-compat",[lL]:"fire-auth",[uL]:"fire-auth-compat",[dL]:"fire-rtdb",[hL]:"fire-rtdb-compat",[fL]:"fire-fn",[pL]:"fire-fn-compat",[mL]:"fire-iid",[gL]:"fire-iid-compat",[vL]:"fire-fcm",[yL]:"fire-fcm-compat",[_L]:"fire-perf",[wL]:"fire-perf-compat",[EL]:"fire-rc",[CL]:"fire-rc-compat",[IL]:"fire-gcs",[bL]:"fire-gcs-compat",[TL]:"fire-fst",[SL]:"fire-fst-compat","fire-js":"fire-js",[DL]:"fire-js-all"};var Vc=new Map,$v=new Map;function ML(t,e){try{t.container.addComponent(e)}catch(n){Qo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xi(t){let e=t.name;if($v.has(e))return Qo.debug(`There were multiple attempts to register component ${e}.`),!1;$v.set(e,t);for(let n of Vc.values())ML(n,t);return!0}function jc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var PL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Yi=new gi("app","Firebase",PL);var zv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}};var Ji=AL;function Gv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Bv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Yi.create("bad-app-name",{appName:String(i)});if(n||(n=xv()),!n)throw Yi.create("no-options");let o=Vc.get(i);if(o){if(Wo(n,o.options)&&Wo(r,o.config))return o;throw Yi.create("duplicate-app",{appName:i})}let s=new ch(i);for(let c of $v.values())s.addComponent(c);let a=new zv(n,r,s);return Vc.set(i,a),a}function la(t=Bv){let e=Vc.get(t);if(!e&&t===Bv&&xv())return Gv();if(!e)throw Yi.create("no-app",{appName:t});return e}function uh(){return Array.from(Vc.values())}function Et(t,e,n){var r;let i=(r=xL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qo.warn(a.join(" "));return}Xi(new zn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var OL="firebase-heartbeat-database",RL=1,Lc="firebase-heartbeat-store",Lv=null;function qT(){return Lv||(Lv=UT(OL,RL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yi.create("idb-open",{originalErrorMessage:t.message})})),Lv}function kL(t){return E(this,null,function*(){try{let n=(yield qT()).transaction(Lc),r=yield n.objectStore(Lc).get(GT(t));return yield n.done,r}catch(e){if(e instanceof Mn)Qo.warn(e.message);else{let n=Yi.create("idb-get",{originalErrorMessage:e?.message});Qo.warn(n.message)}}})}function $T(t,e){return E(this,null,function*(){try{let r=(yield qT()).transaction(Lc,"readwrite");yield r.objectStore(Lc).put(e,GT(t)),yield r.done}catch(n){if(n instanceof Mn)Qo.warn(n.message);else{let r=Yi.create("idb-set",{originalErrorMessage:n?.message});Qo.warn(r.message)}}})}function GT(t){return`${t.name}!${t.options.appId}`}var NL=1024,FL=30*24*60*60*1e3,Hv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new qv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return E(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=zT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=FL}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return E(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=zT(),{heartbeatsToSend:r,unsentEntries:i}=VL(this._heartbeatsCache.heartbeats),o=Nc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function zT(){return new Date().toISOString().substring(0,10)}function VL(t,e=NL){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),HT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),HT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var qv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return Pv()?PT().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield kL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return $T(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return $T(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function HT(t){return Nc(JSON.stringify({version:2,heartbeats:t})).length}function LL(t){Xi(new zn("platform-logger",e=>new jv(e),"PRIVATE")),Xi(new zn("heartbeat",e=>new Hv(e),"PRIVATE")),Et(Uv,BT,t),Et(Uv,BT,"esm2017"),Et("fire-js","")}LL("");var jL="firebase",UL="10.8.1";Et(jL,UL,"app");var Xo=new ri("ANGULARFIRE2_VERSION");function hh(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Uc=(t,e)=>{let n=e?[e]:uh(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},da=class{constructor(){return Uc(BL)}},BL="app-check";function ua(){}var dh=class{zone;delegate;constructor(e,n=Hp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Wv=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ua,{},ua,ua)),n.pipe(dt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ha=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new dh(Zone.current)),this.insideAngular=n.run(()=>new dh(Zone.current,js)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(R(De))};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fh(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function $L(t){return fh().ngZone.runOutsideAngular(()=>t())}function Yo(t){return fh().ngZone.run(()=>t())}function zL(t){return HL(fh())(t)}function HL(t){return function(n){return n=n.lift(new Wv(t.ngZone)),n.pipe(Oi(t.outsideAngular),Pi(t.insideAngular))}}var qL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Yo(()=>t.apply(void 0,r))},fa=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Yo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ua,{},ua,ua))),r[o]=qL(r[o],n));let i=$L(()=>t.apply(this,r));if(!e)if(i instanceof ae){let o=fh();return i.pipe(Oi(o.outsideAngular),Pi(o.insideAngular))}else return Yo(()=>i);return i instanceof ae?i.pipe(zL):i instanceof Promise?Yo(()=>new Promise((o,s)=>i.then(a=>Yo(()=>o(a)),a=>Yo(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Yo(()=>i)};var vi=class{constructor(e){return e}},Jo=class{constructor(){return uh()}};function GL(t){return t&&t.length===1?t[0]:new vi(la())}var Kv=new Y("angularfire2._apps"),WL={provide:vi,useFactory:GL,deps:[[new dn,Kv]]},KL={provide:Jo,deps:[[new dn,Kv]]};function QL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new vi(r)}}var YL=(()=>{class t{constructor(n){Et("angularfire",Xo.full,"core"),Et("angularfire",Xo.full,"app"),Et("angular",Hb.full,n.toString())}static \u0275fac=function(r){return new(r||t)(R(Un))};static \u0275mod=ln({type:t});static \u0275inj=un({providers:[WL,KL]})}return t})();function WT(t,...e){return{ngModule:YL,providers:[{provide:Kv,useFactory:QL(t),multi:!0,deps:[De,Ge,ha,...e]}]}}var KT=fa(Gv,!0);function cS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var lS=cS,uS=new gi("auth","Firebase",cS());var _h=new Qi("@firebase/auth");function XL(t,...e){_h.logLevel<=Ne.WARN&&_h.warn(`Auth (${Ji}): ${t}`,...e)}function mh(t,...e){_h.logLevel<=Ne.ERROR&&_h.error(`Auth (${Ji}): ${t}`,...e)}function eo(t,...e){throw py(t,...e)}function Zo(t,...e){return py(t,...e)}function JL(t,e,n){let r=Object.assign(Object.assign({},lS()),{[e]:n});return new gi("auth","Firebase",r).create(e,{appName:t.name})}function py(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uS.create(t,...e)}function he(t,e,...n){if(!t)throw py(e,...n)}function yi(t){let e="INTERNAL ASSERTION FAILED: "+t;throw mh(e),new Error(e)}function to(t,e){t||yi(e)}function Jv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ZL(){return QT()==="http:"||QT()==="https:"}function QT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function e2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZL()||AT()||"connection"in navigator)?navigator.onLine:!0}function t2(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var es=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,to(n>e,"Short delay should be less than long delay!"),this.isMobile=DT()||xT()}get(){return e2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function my(t,e){to(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var wh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var n2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var r2=new es(3e4,6e4);function gy(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function pa(o,s,a,c){return E(this,arguments,function*(t,e,n,r,i={}){return dS(t,i,()=>E(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=Fc(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),wh.fetch()(hS(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},l))}))})}function dS(t,e,n){return E(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},n2),e);try{let i=new Zv(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw ph(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ph(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw ph(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw ph(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw JL(t,u,l);eo(t,u)}}catch(i){if(i instanceof Mn)throw i;eo(t,"network-request-failed",{message:String(i)})}})}function i2(o,s,a,c){return E(this,arguments,function*(t,e,n,r,i={}){let l=yield pa(t,e,n,r,i);return"mfaPendingCredential"in l&&eo(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function hS(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?my(t.config,i):`${t.config.apiScheme}://${i}`}var Zv=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zo(this.auth,"network-request-failed")),r2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ph(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Zo(t,e,r);return i.customData._tokenResponse=n,i}function o2(t,e){return E(this,null,function*(){return pa(t,"POST","/v1/accounts:delete",e)})}function s2(t,e){return E(this,null,function*(){return pa(t,"POST","/v1/accounts:lookup",e)})}function Bc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function vy(t,e=!1){return E(this,null,function*(){let n=Ki(t),r=yield n.getIdToken(e),i=yy(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Bc(Qv(i.auth_time)),issuedAtTime:Bc(Qv(i.iat)),expirationTime:Bc(Qv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Qv(t){return Number(t)*1e3}function yy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Sv(n);return i?JSON.parse(i):(mh("Failed to decode base64 JWT payload"),null)}catch(i){return mh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function a2(t){let e=yy(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function $c(t,e,n=!1){return E(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Mn&&c2(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function c2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var ey=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),n)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Eh=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bc(this.lastLoginAt),this.creationTime=Bc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ch(t){return E(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield $c(t,s2(n,{idToken:r}));he(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?u2(o.providerUserInfo):[],a=l2(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Eh(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function _y(t){return E(this,null,function*(){let e=Ki(t);yield Ch(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function l2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function u2(t){return t.map(e=>{var{providerId:n}=e,r=Gp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function d2(t,e){return E(this,null,function*(){let n=yield dS(t,{},()=>E(this,null,function*(){let r=Fc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=hS(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",wh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function h2(t,e){return E(this,null,function*(){return pa(t,"POST","/v2/accounts:revokeToken",gy(t,e))})}var Ih=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return E(this,null,function*(){return he(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return E(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield d2(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(he(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(he(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return yi("not implemented")}};function Zi(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var zc=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Gp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ey(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Eh(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let n=yield $c(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return vy(this,e)}reload(){return _y(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return E(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Ch(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){let e=yield this.getIdToken();return yield $c(this,o2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=n.photoURL)!==null&&s!==void 0?s:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,x=(l=n.createdAt)!==null&&l!==void 0?l:void 0,z=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:q,emailVerified:g,isAnonymous:ee,providerData:O,stsTokenManager:X}=n;he(q&&X,e,"internal-error");let de=Ih.fromJSON(this.name,X);he(typeof q=="string",e,"internal-error"),Zi(d,e.name),Zi(h,e.name),he(typeof g=="boolean",e,"internal-error"),he(typeof ee=="boolean",e,"internal-error"),Zi(m,e.name),Zi(w,e.name),Zi(b,e.name),Zi(A,e.name),Zi(x,e.name),Zi(z,e.name);let Te=new t({uid:q,auth:e,email:h,emailVerified:g,displayName:d,isAnonymous:ee,photoURL:w,phoneNumber:m,tenantId:b,stsTokenManager:de,createdAt:x,lastLoginAt:z});return O&&Array.isArray(O)&&(Te.providerData=O.map(Me=>Object.assign({},Me))),A&&(Te._redirectEventId=A),Te}static _fromIdTokenResponse(e,n,r=!1){return E(this,null,function*(){let i=new Ih;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ch(o),o})}};var YT=new Map;function _i(t){to(t instanceof Function,"Expected a class definition");let e=YT.get(t);return e?(to(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,YT.set(t,e),e)}var f2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(n,r){return E(this,null,function*(){this.storage[n]=r})}_get(n){return E(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return E(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),ty=f2;function gh(t,e,n){return`firebase:${t}:${e}:${n}`}var bh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=gh(this.userKey,i.apiKey,o),this.fullPersistenceKey=gh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?zc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return E(this,null,function*(){if(!n.length)return new t(_i(ty),e,r);let i=(yield Promise.all(n.map(l=>E(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||_i(ty),s=gh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=zc._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>E(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function XT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vS(e))return"Blackberry";if(yS(e))return"Webos";if(wy(e))return"Safari";if((e.includes("chrome/")||pS(e))&&!e.includes("edge/"))return"Chrome";if(gS(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function fS(t=Pt()){return/firefox\//i.test(t)}function wy(t=Pt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pS(t=Pt()){return/crios\//i.test(t)}function mS(t=Pt()){return/iemobile/i.test(t)}function gS(t=Pt()){return/android/i.test(t)}function vS(t=Pt()){return/blackberry/i.test(t)}function yS(t=Pt()){return/webos/i.test(t)}function Oh(t=Pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function p2(t=Pt()){var e;return Oh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function m2(){return MT()&&document.documentMode===10}function _S(t=Pt()){return Oh(t)||gS(t)||yS(t)||vS(t)||/windows phone/i.test(t)||mS(t)}function g2(){try{return!!(window&&window!==window.top)}catch{return!1}}function wS(t,e=[]){let n;switch(t){case"Browser":n=XT(Pt());break;case"Worker":n=`${XT(Pt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ji}/${r}`}var ny=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function v2(n){return E(this,arguments,function*(t,e={}){return pa(t,"GET","/v2/passwordPolicy",gy(t,e))})}var y2=6,ry=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:y2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var iy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Th(this),this.idTokenSubscription=new Th(this),this.beforeStateQueue=new ny(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_i(n)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield bh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return E(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return E(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield Ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=t2()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){let n=e?Ki(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return E(this,null,function*(){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(_i(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield v2(this),n=new ry(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield h2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return E(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&_i(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=yield bh.create(this,[_i(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return E(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&XL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Ey(t){return Ki(t)}var Th=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=RT(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Cy={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _2(t){Cy=t}function w2(t){return Cy.loadJS(t)}function E2(){return Cy.gapiScript}function ES(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Iy(t,e){let n=jc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Wo(o,e??{}))return i;eo(i,"already-initialized")}return n.initialize({options:e})}function C2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(_i);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function by(t,e,n){let r=Ey(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=CS(e),{host:s,port:a}=I2(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||b2()}function CS(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function I2(t){let e=CS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:JT(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:JT(s)}}}function JT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function b2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Sh=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,n){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}};function Yv(t,e){return E(this,null,function*(){return i2(t,"POST","/v1/accounts:signInWithIdp",gy(t,e))})}var Dh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var oy=class extends Dh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Hc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return E(this,null,function*(){let o=yield zc._fromIdTokenResponse(e,r,i),s=ZT(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return E(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=ZT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function ZT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var sy=class t extends Mn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function IS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?sy._fromErrorAndOperation(t,o,e,r):o})}function T2(t,e,n=!1){return E(this,null,function*(){let r=yield $c(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Hc._forOperation(t,"link",r)})}function S2(t,e,n=!1){return E(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let o=yield $c(t,IS(r,i,e,t),n);he(o.idToken,r,"internal-error");let s=yy(o.idToken);he(s,r,"internal-error");let{sub:a}=s;return he(t.uid===a,r,"user-mismatch"),Hc._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&eo(r,"user-mismatch"),o}})}function D2(t,e,n=!1){return E(this,null,function*(){let r="signIn",i=yield IS(t,r,e),o=yield Hc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Ty(t,e,n,r){return Ki(t).onIdTokenChanged(e,n,r)}function Sy(t,e,n){return Ki(t).beforeAuthStateChanged(e,n)}var Ah="__sak";var xh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function A2(){let t=Pt();return wy(t)||Oh(t)}var x2=1e3,M2=10,P2=(()=>{class t extends xh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=A2()&&g2(),this.fallbackToPolling=_S(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);m2()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,M2):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},x2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return E(this,null,function*(){yield xi(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return E(this,null,function*(){let r=yield xi(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return E(this,null,function*(){yield xi(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),bS=P2;var O2=(()=>{class t extends xh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Dy=O2;function R2(t){return Promise.all(t.map(e=>E(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var k2=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return E(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>E(this,null,function*(){return u(r.origin,s)})),l=yield R2(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function TS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var ay=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return E(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=TS("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Fr(){return window}function N2(t){Fr().location.href=t}function SS(){return typeof Fr().WorkerGlobalScope<"u"&&typeof Fr().importScripts=="function"}function F2(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function V2(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function L2(){return SS()?self:null}var DS="firebaseLocalStorageDb",j2=1,Mh="firebaseLocalStorage",AS="fbase_key",ts=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Rh(t,e){return t.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function U2(){let t=indexedDB.deleteDatabase(DS);return new ts(t).toPromise()}function cy(){let t=indexedDB.open(DS,j2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Mh,{keyPath:AS})}catch(i){n(i)}}),t.addEventListener("success",()=>E(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Mh)?e(r):(r.close(),yield U2(),e(yield cy()))}))})}function eS(t,e,n){return E(this,null,function*(){let r=Rh(t,!0).put({[AS]:e,value:n});return new ts(r).toPromise()})}function B2(t,e){return E(this,null,function*(){let n=Rh(t,!1).get(e),r=yield new ts(n).toPromise();return r===void 0?null:r.value})}function tS(t,e){let n=Rh(t,!0).delete(e);return new ts(n).toPromise()}var $2=800,z2=3,H2=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield cy(),this.db)})}_withRetries(n){return E(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>z2)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return SS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=k2._getInstance(L2()),this.receiver._subscribe("keyChanged",(n,r)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var n,r;if(this.activeServiceWorker=yield F2(),!this.activeServiceWorker)return;this.sender=new ay(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||V2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let n=yield cy();return yield eS(n,Ah,"1"),yield tS(n,Ah),!0}catch{}return!1})}_withPendingWrite(n){return E(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>eS(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return E(this,null,function*(){let r=yield this._withRetries(i=>B2(i,n));return this.localCache[n]=r,r})}_remove(n){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>tS(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return E(this,null,function*(){let n=yield this._withRetries(o=>{let s=Rh(o,!1).getAll();return new ts(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),$2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),xS=H2;var ZY=ES("rcb"),eX=new es(3e4,6e4);function q2(t,e){return e?_i(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var qc=class extends Sh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yv(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yv(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yv(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function G2(t){return D2(t.auth,new qc(t),t.bypassAuthState)}function W2(t){let{auth:e,user:n}=t;return he(n,e,"internal-error"),S2(n,new qc(t),t.bypassAuthState)}function K2(t){return E(this,null,function*(){let{auth:e,user:n}=t;return he(n,e,"internal-error"),T2(n,new qc(t),t.bypassAuthState)})}var ly=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G2;case"linkViaPopup":case"linkViaRedirect":return K2;case"reauthViaPopup":case"reauthViaRedirect":return W2;default:eo(this.auth,"internal-error")}}resolve(e){to(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){to(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var tX=new es(2e3,1e4);var Q2="pendingRedirect",vh=new Map,uy=class t extends ly{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return E(this,null,function*(){let e=vh.get(this.auth._key());if(!e){try{let r=(yield Y2(this.resolver,this.auth))?yield xi(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return xi(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,xi(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function Y2(t,e){return E(this,null,function*(){let n=Z2(e),r=J2(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function X2(t,e){vh.set(t._key(),e)}function J2(t){return _i(t._redirectPersistence)}function Z2(t){return gh(Q2,t.config.apiKey,t.name)}function ej(t,e,n=!1){return E(this,null,function*(){let r=Ey(t),i=q2(r,e),s=yield new uy(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var tj=10*60*1e3,dy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!MS(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tj&&this.cachedEventUids.clear(),this.cachedEventUids.has(nS(e))}saveEventToCache(e){this.cachedEventUids.add(nS(e)),this.lastProcessedEventTime=Date.now()}};function nS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function nj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MS(t);default:return!1}}function rj(n){return E(this,arguments,function*(t,e={}){return pa(t,"GET","/v1/projects",e)})}var ij=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oj=/^https?/;function sj(t){return E(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield rj(t);for(let n of e)try{if(aj(n))return}catch{}eo(t,"unauthorized-domain")})}function aj(t){let e=Jv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!oj.test(n))return!1;if(ij.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var cj=new es(3e4,6e4);function rS(){let t=Fr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function lj(t){return new Promise((e,n)=>{var r,i,o;function s(){rS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rS(),n(Zo(t,"network-request-failed"))},timeout:cj.get()})}if(!((i=(r=Fr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Fr().gapi)===null||o===void 0)&&o.load)s();else{let a=ES("iframefcb");return Fr()[a]=()=>{gapi.load?s():n(Zo(t,"network-request-failed"))},w2(`${E2()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw yh=null,e})}var yh=null;function uj(t){return yh=yh||lj(t),yh}var dj=new es(5e3,15e3),hj="__/auth/iframe",fj="emulator/auth/iframe",pj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gj(t){let e=t.config;he(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?my(e,fj):`https://${t.config.authDomain}/${hj}`,r={apiKey:e.apiKey,appName:t.name,v:Ji},i=mj.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Fc(r).slice(1)}`}function vj(t){return E(this,null,function*(){let e=yield uj(t),n=Fr().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:gj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pj,dontclear:!0},r=>new Promise((i,o)=>E(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Zo(t,"network-request-failed"),a=Fr().setTimeout(()=>{o(s)},dj.get());function c(){Fr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var yj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_j=500,wj=600,Ej="_blank",Cj="http://localhost",Ph=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Ij(t,e,n,r=_j,i=wj){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},yj),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Pt().toLowerCase();n&&(a=pS(l)?Ej:n),fS(l)&&(e=e||Cj,c.scrollbars="yes");let u=Object.entries(c).reduce((h,[m,w])=>`${h}${m}=${w},`,"");if(p2(l)&&a!=="_self")return bj(e||"",a),new Ph(null);let d=window.open(e||"",a,u);he(d,t,"popup-blocked");try{d.focus()}catch{}return new Ph(d)}function bj(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Tj="__/auth/handler",Sj="emulator/auth/handler",Dj=encodeURIComponent("fac");function iS(t,e,n,r,i,o){return E(this,null,function*(){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ji,eventId:i};if(e instanceof Dh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",OT(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof oy){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${Dj}=${encodeURIComponent(c)}`:"";return`${Aj(t)}?${Fc(a).slice(1)}${l}`})}function Aj({config:t}){return t.emulator?my(t,Sj):`https://${t.authDomain}/${Tj}`}var Xv="webStorageSupport",hy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dy,this._completeRedirectFn=ej,this._overrideRedirectResult=X2}_openPopup(e,n,r,i){return E(this,null,function*(){var o;to((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield iS(e,n,r,Jv(),i);return Ij(e,s,TS())})}_openRedirect(e,n,r,i){return E(this,null,function*(){yield this._originValidation(e);let o=yield iS(e,n,r,Jv(),i);return N2(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(to(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return E(this,null,function*(){let n=yield vj(e),r=new dy(e);return n.register("authEvent",i=>(he(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xv,{type:Xv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Xv];s!==void 0&&n(!!s),eo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _S()||wy()||Oh()}},PS=hy;var oS="@firebase/auth",sS="1.6.1";var fy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function xj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Mj(t){Xi(new zn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;he(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wS(t)},l=new iy(r,i,o,c);return C2(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xi(new zn("auth-internal",e=>{let n=Ey(e.getProvider("auth").getImmediate());return(r=>new fy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Et(oS,sS,xj(t)),Et(oS,sS,"esm2017")}var Pj=5*60,Oj=Mv("authIdTokenMaxAge")||Pj,aS=null,Rj=t=>e=>E(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Oj)return;let i=n?.token;aS!==i&&(aS=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ay(t=la()){let e=jc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Iy(t,{popupRedirectResolver:PS,persistence:[xS,bS,Dy]}),r=Mv("authTokenSyncURL");if(r){let o=Rj(r);Sy(n,o,()=>o(n.currentUser)),Ty(n,s=>o(s))}let i=Av("auth");return i&&by(n,`http://${i}`),n}function kj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}_2({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Zo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",kj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Mj("Browser");var OS="auth",Gc=class{constructor(e){return e}},Wc=class{constructor(){return Uc(OS)}};var xy=new Y("angularfire2.auth-instances");function A3(t,e){let n=hh(OS,t,e);return n&&new Gc(n)}function x3(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Gc(r)}}var M3={provide:Wc,deps:[[new dn,xy]]},P3={provide:Gc,useFactory:A3,deps:[[new dn,xy],vi]},O3=(()=>{class t{constructor(){Et("angularfire",Xo.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ln({type:t});static \u0275inj=un({providers:[P3,M3]})}return t})();function RS(t,...e){return{ngModule:O3,providers:[{provide:xy,useFactory:x3(t),multi:!0,deps:[De,Ge,ha,Jo,[new dn,da],...e]}]}}var kS=fa(Ay,!0);var R3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ur={},B,Xy=Xy||{},le=R3||self;function Wh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function al(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function k3(t){return Object.prototype.hasOwnProperty.call(t,My)&&t[My]||(t[My]=++N3)}var My="closure_uid_"+(1e9*Math.random()>>>0),N3=0;function F3(t,e,n){return t.call.apply(t.bind,arguments)}function V3(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function nn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?nn=F3:nn=V3,nn.apply(null,arguments)}function kh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Rt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function no(){this.s=this.s,this.o=this.o}var L3=0;no.prototype.s=!1;no.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),L3!=0)&&k3(this)};no.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var WS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Jy(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function NS(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Wh(r)){let i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function rn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}rn.prototype.h=function(){this.defaultPrevented=!0};var j3=function(){if(!le.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};le.addEventListener("test",n,e),le.removeEventListener("test",n,e)}catch{}return t}();function Zc(t){return/^[\s\xa0]*$/.test(t)}function Kh(){var t=le.navigator;return t&&(t=t.userAgent)?t:""}function Vr(t){return Kh().indexOf(t)!=-1}function Zy(t){return Zy[" "](t),t}Zy[" "]=function(){};function U3(t,e){var n=AU;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var B3=Vr("Opera"),ya=Vr("Trident")||Vr("MSIE"),KS=Vr("Edge"),Ny=KS||ya,QS=Vr("Gecko")&&!(Kh().toLowerCase().indexOf("webkit")!=-1&&!Vr("Edge"))&&!(Vr("Trident")||Vr("MSIE"))&&!Vr("Edge"),$3=Kh().toLowerCase().indexOf("webkit")!=-1&&!Vr("Edge");function YS(){var t=le.document;return t?t.documentMode:void 0}var Fy;e:{if(Nh="",Fh=function(){var t=Kh();if(QS)return/rv:([^\);]+)(\)|;)/.exec(t);if(KS)return/Edge\/([\d\.]+)/.exec(t);if(ya)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if($3)return/WebKit\/(\S+)/.exec(t);if(B3)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Fh&&(Nh=Fh?Fh[1]:""),ya&&(Vh=YS(),Vh!=null&&Vh>parseFloat(Nh))){Fy=String(Vh);break e}Fy=Nh}var Nh,Fh,Vh,Vy;le.document&&ya?(Py=YS(),Vy=Py||parseInt(Fy,10)||void 0):Vy=void 0;var Py,z3=Vy;function el(t,e){if(rn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(QS){e:{try{Zy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:H3[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&el.$.h.call(this)}}Rt(el,rn);var H3={2:"touch",3:"pen",4:"mouse"};el.prototype.h=function(){el.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var cl="closure_listenable_"+(1e6*Math.random()|0),q3=0;function G3(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++q3,this.fa=this.ia=!1}function Qh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function e_(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function W3(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function XS(t){let e={};for(let n in t)e[n]=t[n];return e}var FS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function JS(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<FS.length;o++)n=FS[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Yh(t){this.src=t,this.g={},this.h=0}Yh.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=jy(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new G3(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Ly(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=WS(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Qh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function jy(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var t_="closure_lm_"+(1e6*Math.random()|0),Oy={};function ZS(t,e,n,r,i){if(r&&r.once)return tD(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ZS(t,e[o],n,r,i);return null}return n=i_(n),t&&t[cl]?t.O(e,n,al(r)?!!r.capture:!!r,i):eD(t,e,n,!1,r,i)}function eD(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=al(i)?!!i.capture:!!i,a=r_(t);if(a||(t[t_]=a=new Yh(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=K3(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)j3||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(rD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function K3(){function t(n){return e.call(t.src,t.listener,n)}let e=Q3;return t}function tD(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)tD(t,e[o],n,r,i);return null}return n=i_(n),t&&t[cl]?t.P(e,n,al(r)?!!r.capture:!!r,i):eD(t,e,n,!0,r,i)}function nD(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)nD(t,e[o],n,r,i);else r=al(r)?!!r.capture:!!r,n=i_(n),t&&t[cl]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=jy(o,n,r,i),-1<n&&(Qh(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=r_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=jy(e,n,r,i)),(n=-1<t?e[t]:null)&&n_(n))}function n_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[cl])Ly(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(rD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=r_(e))?(Ly(n,t),n.h==0&&(n.src=null,e[t_]=null)):Qh(t)}}}function rD(t){return t in Oy?Oy[t]:Oy[t]="on"+t}function Q3(t,e){if(t.fa)t=!0;else{e=new el(e,this);var n=t.listener,r=t.la||t.src;t.ia&&n_(t),t=n.call(r,e)}return t}function r_(t){return t=t[t_],t instanceof Yh?t:null}var Ry="__closure_events_fn_"+(1e9*Math.random()>>>0);function i_(t){return typeof t=="function"?t:(t[Ry]||(t[Ry]=function(e){return t.handleEvent(e)}),t[Ry])}function Ot(){no.call(this),this.i=new Yh(this),this.S=this,this.J=null}Rt(Ot,no);Ot.prototype[cl]=!0;Ot.prototype.removeEventListener=function(t,e,n,r){nD(this,t,e,n,r)};function Wt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new rn(e,t);else if(e instanceof rn)e.target=e.target||t;else{var i=e;e=new rn(r,t),JS(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Lh(s,r,!0,e)&&i}if(s=e.g=t,i=Lh(s,r,!0,e)&&i,i=Lh(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Lh(s,r,!1,e)&&i}Ot.prototype.N=function(){if(Ot.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Qh(n[r]);delete t.g[e],t.h--}}this.J=null};Ot.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ot.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Lh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&Ly(t.i,s),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var o_=le.JSON.stringify,Uy=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function Y3(){var t=s_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var By=class{constructor(){this.h=this.g=null}add(e,n){let r=iD.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},iD=new Uy(()=>new $y,t=>t.reset()),$y=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function X3(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function J3(t){le.setTimeout(()=>{throw t},0)}var tl,nl=!1,s_=new By,oD=()=>{let t=le.Promise.resolve(void 0);tl=()=>{t.then(Z3)}},Z3=()=>{for(var t;t=Y3();){try{t.h.call(t.g)}catch(n){J3(n)}var e=iD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}nl=!1};function Xh(t,e){Ot.call(this),this.h=t||1,this.g=e||le,this.j=nn(this.qb,this),this.l=Date.now()}Rt(Xh,Ot);B=Xh.prototype;B.ga=!1;B.T=null;B.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wt(this,"tick"),this.ga&&(a_(this),this.start()))}};B.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function a_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}B.N=function(){Xh.$.N.call(this),a_(this),delete this.g};function c_(t,e,n){if(typeof t=="function")n&&(t=nn(t,n));else if(t&&typeof t.handleEvent=="function")t=nn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:le.setTimeout(t,e||0)}function sD(t){t.g=c_(()=>{t.g=null,t.i&&(t.i=!1,sD(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var zy=class extends no{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:sD(this)}N(){super.N(),this.g&&(le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function rl(t){no.call(this),this.h=t,this.g={}}Rt(rl,no);var VS=[];function aD(t,e,n,r){Array.isArray(n)||(n&&(VS[0]=n.toString()),n=VS);for(var i=0;i<n.length;i++){var o=ZS(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function cD(t){e_(t.g,function(e,n){this.g.hasOwnProperty(n)&&n_(e)},t),t.g={}}rl.prototype.N=function(){rl.$.N.call(this),cD(this)};rl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Jh(){this.g=!0}Jh.prototype.Ea=function(){this.g=!1};function eU(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&d[1]=="type"?s+(u+"="+l+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function tU(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function ga(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+rU(t,n)+(r?" "+r:"")})}function nU(t,e){t.info(function(){return"TIMEOUT: "+e})}Jh.prototype.info=function(){};function rU(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return o_(n)}catch{return e}}var os={},LS=null;function Zh(){return LS=LS||new Ot}os.Ta="serverreachability";function lD(t){rn.call(this,os.Ta,t)}Rt(lD,rn);function il(t){let e=Zh();Wt(e,new lD(e))}os.STAT_EVENT="statevent";function uD(t,e){rn.call(this,os.STAT_EVENT,t),this.stat=e}Rt(uD,rn);function hn(t){let e=Zh();Wt(e,new uD(e,t))}os.Ua="timingevent";function dD(t,e){rn.call(this,os.Ua,t),this.size=e}Rt(dD,rn);function ll(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return le.setTimeout(function(){t()},e)}var ef={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},hD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function l_(){}l_.prototype.h=null;function jS(t){return t.h||(t.h=t.i())}function fD(){}var ul={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function u_(){rn.call(this,"d")}Rt(u_,rn);function d_(){rn.call(this,"c")}Rt(d_,rn);var Hy;function tf(){}Rt(tf,l_);tf.prototype.g=function(){return new XMLHttpRequest};tf.prototype.i=function(){return{}};Hy=new tf;function dl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new rl(this),this.P=iU,t=Ny?125:void 0,this.V=new Xh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new pD}function pD(){this.i=null,this.g="",this.h=!1}var iU=45e3,mD={},qy={};B=dl.prototype;B.setTimeout=function(t){this.P=t};function Gy(t,e,n){t.L=1,t.A=rf(Ei(e)),t.u=n,t.S=!0,gD(t,null)}function gD(t,e){t.G=Date.now(),hl(t),t.B=Ei(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),bD(n.i,"t",r),t.o=0,n=t.l.J,t.h=new pD,t.g=qD(t.l,n?e:null,!t.u),0<t.O&&(t.M=new zy(nn(t.Pa,t,t.g),t.O)),aD(t.U,t.g,"readystatechange",t.nb),e=t.I?XS(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),il(),eU(t.j,t.v,t.B,t.m,t.W,t.u)}B.nb=function(t){t=t.target;let e=this.M;e&&Lr(t)==3?e.l():this.Pa(t)};B.Pa=function(t){try{if(t==this.g)e:{let u=Lr(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>u)&&(u!=3||Ny||this.g&&(this.h.h||this.g.ja()||zS(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?il(3):il(2)),nf(this);var n=this.g.da();this.ca=n;t:if(vD(this)){var r=zS(this.g);t="";var i=r.length,o=Lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ns(this),Jc(this);var s="";break t}this.h.i=new le.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,tU(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zc(a)){var l=a;break t}}l=null}if(n=l)ga(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wy(this,n);else{this.i=!1,this.s=3,hn(12),ns(this),Jc(this);break e}}this.S?(yD(this,u,s),Ny&&this.i&&u==3&&(aD(this.U,this.V,"tick",this.mb),this.V.start())):(ga(this.j,this.m,s,null),Wy(this,s)),u==4&&ns(this),this.i&&!this.J&&(u==4?BD(this.l,this):(this.i=!1,hl(this)))}else TU(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,hn(12)):(this.s=0,hn(13)),ns(this),Jc(this)}}}catch{}finally{}};function vD(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function yD(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=oU(t,n),i==qy){e==4&&(t.s=4,hn(14),r=!1),ga(t.j,t.m,null,"[Incomplete Response]");break}else if(i==mD){t.s=4,hn(15),ga(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ga(t.j,t.m,i,null),Wy(t,i);vD(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,hn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),v_(e),e.M=!0,hn(11))):(ga(t.j,t.m,n,"[Invalid Chunked Response]"),ns(t),Jc(t))}B.mb=function(){if(this.g){var t=Lr(this.g),e=this.g.ja();this.o<e.length&&(nf(this),yD(this,t,e),this.i&&t!=4&&hl(this))}};function oU(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?qy:(n=Number(e.substring(n,r)),isNaN(n)?mD:(r+=1,r+n>e.length?qy:(e=e.slice(r,r+n),t.o=r+n,e)))}B.cancel=function(){this.J=!0,ns(this)};function hl(t){t.Y=Date.now()+t.P,_D(t,t.P)}function _D(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ll(nn(t.lb,t),e)}function nf(t){t.C&&(le.clearTimeout(t.C),t.C=null)}B.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(nU(this.j,this.B),this.L!=2&&(il(),hn(17)),ns(this),this.s=2,Jc(this)):_D(this,this.Y-t)};function Jc(t){t.l.H==0||t.J||BD(t.l,t)}function ns(t){nf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,a_(t.V),cD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Wy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ky(n.i,t))){if(!t.K&&Ky(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)zh(n),af(n);else break e;g_(n),hn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ll(nn(n.ib,n),6e3));if(1>=DD(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else rs(n,11)}else if((t.K||n.g==t)&&zh(n),!Zc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=l[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let m=t.g;if(m){let w=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var o=r.i;o.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(h_(o,o.h),o.h=null))}if(r.F){let b=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(r.Da=b,Qe(r.I,r.F,b))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=HD(r,r.J?r.pa:null,r.Y),s.K){AD(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&(nf(a),hl(a)),r.g=s}else jD(r);0<n.j.length&&cf(n)}else l[0]!="stop"&&l[0]!="close"||rs(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?rs(n,7):m_(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}il(4)}catch{}}function sU(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Wh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function aU(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Wh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function wD(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Wh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=aU(t),r=sU(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var ED=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cU(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function is(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof is){this.h=t.h,Bh(this,t.j),this.s=t.s,this.g=t.g,$h(this,t.m),this.l=t.l;var e=t.i,n=new ol;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),US(this,n),this.o=t.o}else t&&(e=String(t).match(ED))?(this.h=!1,Bh(this,e[1]||"",!0),this.s=Yc(e[2]||""),this.g=Yc(e[3]||"",!0),$h(this,e[4]),this.l=Yc(e[5]||"",!0),US(this,e[6]||"",!0),this.o=Yc(e[7]||"")):(this.h=!1,this.i=new ol(null,this.h))}is.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Xc(e,BS,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Xc(e,BS,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Xc(n,n.charAt(0)=="/"?dU:uU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Xc(n,fU)),t.join("")};function Ei(t){return new is(t)}function Bh(t,e,n){t.j=n?Yc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function $h(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function US(t,e,n){e instanceof ol?(t.i=e,pU(t.i,t.h)):(n||(e=Xc(e,hU)),t.i=new ol(e,t.h))}function Qe(t,e,n){t.i.set(e,n)}function rf(t){return Qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Yc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Xc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,lU),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function lU(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var BS=/[#\/\?@]/g,uU=/[#\?:]/g,dU=/[#\?]/g,hU=/[#\?@]/g,fU=/#/g;function ol(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ro(t){t.g||(t.g=new Map,t.h=0,t.i&&cU(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}B=ol.prototype;B.add=function(t,e){ro(this),this.i=null,t=_a(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function CD(t,e){ro(t),e=_a(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function ID(t,e){return ro(t),e=_a(t,e),t.g.has(e)}B.forEach=function(t,e){ro(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};B.ta=function(){ro(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};B.Z=function(t){ro(this);let e=[];if(typeof t=="string")ID(this,t)&&(e=e.concat(this.g.get(_a(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};B.set=function(t,e){return ro(this),this.i=null,t=_a(this,t),ID(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};B.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function bD(t,e,n){CD(t,e),0<n.length&&(t.i=null,t.g.set(_a(t,e),Jy(n)),t.h+=n.length)}B.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function _a(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function pU(t,e){e&&!t.j&&(ro(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(CD(this,r),bD(this,i,n))},t)),t.j=e}var mU=class{constructor(t,e){this.g=t,this.map=e}};function TD(t){this.l=t||gU,le.PerformanceNavigationTiming?(t=le.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(le.g&&le.g.Ka&&le.g.Ka()&&le.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var gU=10;function SD(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function DD(t){return t.h?1:t.g?t.g.size:0}function Ky(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function h_(t,e){t.g?t.g.add(e):t.h=e}function AD(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}TD.prototype.cancel=function(){if(this.i=xD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function xD(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Jy(t.i)}var vU=class{stringify(t){return le.JSON.stringify(t,void 0)}parse(t){return le.JSON.parse(t,void 0)}};function yU(){this.g=new vU}function _U(t,e,n){let r=n||"";try{wD(t,function(i,o){let s=i;al(i)&&(s=o_(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wU(t,e){let n=new Jh;if(le.Image){let r=new Image;r.onload=kh(jh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=kh(jh,n,r,"TestLoadImage: error",!1,e),r.onabort=kh(jh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=kh(jh,n,r,"TestLoadImage: timeout",!1,e),le.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function jh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function fl(t){this.l=t.ec||null,this.j=t.ob||!1}Rt(fl,l_);fl.prototype.g=function(){return new of(this.l,this.j)};fl.prototype.i=function(t){return function(){return t}}({});function of(t,e){Ot.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=f_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Rt(of,Ot);var f_=0;B=of.prototype;B.open=function(t,e){if(this.readyState!=f_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,sl(this)};B.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||le).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pl(this)),this.readyState=f_};B.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,sl(this)),this.g&&(this.readyState=3,sl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof le.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;MD(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function MD(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}B.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?pl(this):sl(this),this.readyState==3&&MD(this)}};B.Za=function(t){this.g&&(this.response=this.responseText=t,pl(this))};B.Ya=function(t){this.g&&(this.response=t,pl(this))};B.ka=function(){this.g&&pl(this)};function pl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,sl(t)}B.setRequestHeader=function(t,e){this.v.append(t,e)};B.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};B.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function sl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(of.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var EU=le.JSON.parse;function ot(t){Ot.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=PD,this.L=this.M=!1}Rt(ot,Ot);var PD="",CU=/^https?$/i,IU=["POST","PUT"];B=ot.prototype;B.Oa=function(t){this.M=t};B.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Hy.g(),this.C=this.u?jS(this.u):jS(Hy),this.g.onreadystatechange=nn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){$S(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=le.FormData&&t instanceof le.FormData,!(0<=WS(IU,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{kD(this),0<this.B&&((this.L=bU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nn(this.ua,this)):this.A=c_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){$S(this,o)}};function bU(t){return ya&&typeof t.timeout=="number"&&t.ontimeout!==void 0}B.ua=function(){typeof Xy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wt(this,"timeout"),this.abort(8))};function $S(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,OD(t),sf(t)}function OD(t){t.F||(t.F=!0,Wt(t,"complete"),Wt(t,"error"))}B.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Wt(this,"complete"),Wt(this,"abort"),sf(this))};B.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sf(this,!0)),ot.$.N.call(this)};B.La=function(){this.s||(this.G||this.v||this.l?RD(this):this.kb())};B.kb=function(){RD(this)};function RD(t){if(t.h&&typeof Xy<"u"&&(!t.C[1]||Lr(t)!=4||t.da()!=2)){if(t.v&&Lr(t)==4)c_(t.La,0,t);else if(Wt(t,"readystatechange"),Lr(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(ED)[1]||null;!i&&le.self&&le.self.location&&(i=le.self.location.protocol.slice(0,-1)),r=!CU.test(i?i.toLowerCase():"")}n=r}if(n)Wt(t,"complete"),Wt(t,"success");else{t.m=6;try{var o=2<Lr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",OD(t)}}finally{sf(t)}}}}function sf(t,e){if(t.g){kD(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Wt(t,"ready");try{n.onreadystatechange=r}catch{}}}function kD(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(le.clearTimeout(t.A),t.A=null)}B.isActive=function(){return!!this.g};function Lr(t){return t.g?t.g.readyState:0}B.da=function(){try{return 2<Lr(this)?this.g.status:-1}catch{return-1}};B.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};B.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),EU(e)}};function zS(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case PD:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function TU(t){let e={};t=(t.g&&2<=Lr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Zc(t[r]))continue;var n=X3(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[i]||[];e[i]=o,o.push(n)}W3(e,function(r){return r.join(", ")})}B.Ia=function(){return this.m};B.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function ND(t){let e="";return e_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function p_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ND(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Qe(t,e,n))}function Kc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function FD(t){this.Ga=0,this.j=[],this.l=new Jh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Kc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Kc("baseRetryDelayMs",5e3,t),this.hb=Kc("retryDelaySeedMs",1e4,t),this.eb=Kc("forwardChannelMaxRetries",2,t),this.xa=Kc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new TD(t&&t.concurrentRequestLimit),this.Ja=new yU,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}B=FD.prototype;B.ra=8;B.H=1;function m_(t){if(VD(t),t.H==3){var e=t.W++,n=Ei(t.I);if(Qe(n,"SID",t.K),Qe(n,"RID",e),Qe(n,"TYPE","terminate"),ml(t,n),e=new dl(t,t.l,e),e.L=2,e.A=rf(Ei(n)),n=!1,le.navigator&&le.navigator.sendBeacon)try{n=le.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&le.Image&&(new Image().src=e.A,n=!0),n||(e.g=qD(e.l,null),e.g.ha(e.A)),e.G=Date.now(),hl(e)}zD(t)}function af(t){t.g&&(v_(t),t.g.cancel(),t.g=null)}function VD(t){af(t),t.u&&(le.clearTimeout(t.u),t.u=null),zh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&le.clearTimeout(t.m),t.m=null)}function cf(t){if(!SD(t.i)&&!t.m){t.m=!0;var e=t.Na;tl||oD(),nl||(tl(),nl=!0),s_.add(e,t),t.C=0}}function SU(t,e){return DD(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ll(nn(t.Na,t,e),$D(t,t.C)),t.C++,!0)}B.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new dl(this,this.l,t),o=this.s;if(this.U&&(o?(o=XS(o),JS(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=LD(this,i,e),n=Ei(this.I),Qe(n,"RID",t),Qe(n,"CVER",22),this.F&&Qe(n,"X-HTTP-Session-Id",this.F),ml(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(ND(o)))+"&"+e:this.o&&p_(n,this.o,o)),h_(this.i,i),this.bb&&Qe(n,"TYPE","init"),this.P?(Qe(n,"$req",e),Qe(n,"SID","null"),i.aa=!0,Gy(i,n,null)):Gy(i,n,e),this.H=2}}else this.H==3&&(t?HS(this,t):this.j.length==0||SD(this.i)||HS(this))};function HS(t,e){var n;e?n=e.m:n=t.W++;let r=Ei(t.I);Qe(r,"SID",t.K),Qe(r,"RID",n),Qe(r,"AID",t.V),ml(t,r),t.o&&t.s&&p_(r,t.o,t.s),n=new dl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=LD(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),h_(t.i,n),Gy(n,r,e)}function ml(t,e){t.na&&e_(t.na,function(n,r){Qe(e,r,n)}),t.h&&wD({},function(n,r){Qe(e,r,n)})}function LD(t,e,n){n=Math.min(t.j.length,n);var r=t.h?nn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=i[c].g,u=i[c].map;if(l-=o,0>l)o=Math.max(0,i[c].g-100),a=!1;else try{_U(u,s,"req"+l+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function jD(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;tl||oD(),nl||(tl(),nl=!0),s_.add(e,t),t.A=0}}function g_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ll(nn(t.Ma,t),$D(t,t.A)),t.A++,!0)}B.Ma=function(){if(this.u=null,UD(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ll(nn(this.jb,this),t)}};B.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,hn(10),af(this),UD(this))};function v_(t){t.B!=null&&(le.clearTimeout(t.B),t.B=null)}function UD(t){t.g=new dl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ei(t.wa);Qe(e,"RID","rpc"),Qe(e,"SID",t.K),Qe(e,"AID",t.V),Qe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Qe(e,"TO",t.qa),Qe(e,"TYPE","xmlhttp"),ml(t,e),t.o&&t.s&&p_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=rf(Ei(e)),n.u=null,n.S=!0,gD(n,t)}B.ib=function(){this.v!=null&&(this.v=null,af(this),g_(this),hn(19))};function zh(t){t.v!=null&&(le.clearTimeout(t.v),t.v=null)}function BD(t,e){var n=null;if(t.g==e){zh(t),v_(t),t.g=null;var r=2}else if(Ky(t.i,e))n=e.F,AD(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Zh(),Wt(r,new dD(r,n)),cf(t)}else jD(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&SU(t,e)||r==2&&g_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:rs(t,5);break;case 4:rs(t,10);break;case 3:rs(t,6);break;default:rs(t,2)}}}function $D(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function rs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=nn(t.pb,t);n||(n=new is("//www.google.com/images/cleardot.gif"),le.location&&le.location.protocol=="http"||Bh(n,"https"),rf(n)),wU(n.toString(),r)}else hn(2);t.H=0,t.h&&t.h.za(e),zD(t),VD(t)}B.pb=function(t){t?(this.l.info("Successfully pinged google.com"),hn(2)):(this.l.info("Failed to ping google.com"),hn(1))};function zD(t){if(t.H=0,t.ma=[],t.h){let e=xD(t.i);(e.length!=0||t.j.length!=0)&&(NS(t.ma,e),NS(t.ma,t.j),t.i.i.length=0,Jy(t.j),t.j.length=0),t.h.ya()}}function HD(t,e,n){var r=n instanceof is?Ei(n):new is(n);if(r.g!="")e&&(r.g=e+"."+r.g),$h(r,r.m);else{var i=le.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new is(null);r&&Bh(o,r),e&&(o.g=e),i&&$h(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Qe(r,n,e),Qe(r,"VER",t.ra),ml(t,r),r}function qD(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ot(new fl({ob:n})):new ot(t.va),e.Oa(t.J),e}B.isActive=function(){return!!this.h&&this.h.isActive(this)};function GD(){}B=GD.prototype;B.Ba=function(){};B.Aa=function(){};B.za=function(){};B.ya=function(){};B.isActive=function(){return!0};B.Va=function(){};function Hh(){if(ya&&!(10<=Number(z3)))throw Error("Environmental error: no available transport.")}Hh.prototype.g=function(t,e){return new Pn(t,e)};function Pn(t,e){Ot.call(this),this.g=new FD(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Zc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new wa(this)}Rt(Pn,Ot);Pn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;hn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=HD(t,null,t.Y),cf(t)};Pn.prototype.close=function(){m_(this.g)};Pn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=o_(t),t=n);e.j.push(new mU(e.fb++,t)),e.H==3&&cf(e)};Pn.prototype.N=function(){this.g.h=null,delete this.j,m_(this.g),delete this.g,Pn.$.N.call(this)};function WD(t){u_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Rt(WD,u_);function KD(){d_.call(this),this.status=1}Rt(KD,d_);function wa(t){this.g=t}Rt(wa,GD);wa.prototype.Ba=function(){Wt(this.g,"a")};wa.prototype.Aa=function(t){Wt(this.g,new WD(t))};wa.prototype.za=function(t){Wt(this.g,new KD)};wa.prototype.ya=function(){Wt(this.g,"b")};function DU(){this.blockSize=-1}function lr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Rt(lr,DU);lr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ky(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}lr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)ky(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){ky(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){ky(this,r),i=0;break}}this.h=i,this.i+=e};lr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Be(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var AU={};function y_(t){return-128<=t&&128>t?U3(t,function(e){return new Be([e|0],0>e?-1:0)}):new Be([t|0],0>t?-1:0)}function jr(t){if(isNaN(t)||!isFinite(t))return va;if(0>t)return Gt(jr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Qy;return new Be(e,0)}function QD(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Gt(QD(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=jr(Math.pow(e,8)),r=va,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=jr(Math.pow(e,o)),r=r.R(o).add(jr(s))):(r=r.R(n),r=r.add(jr(s)))}return r}var Qy=4294967296,va=y_(0),Yy=y_(1),qS=y_(16777216);B=Be.prototype;B.ea=function(){if(Hn(this))return-Gt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Qy+r)*e,e*=Qy}return t};B.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(wi(this))return"0";if(Hn(this))return"-"+Gt(this).toString(t);for(var e=jr(Math.pow(t,6)),n=this,r="";;){var i=Gh(n,e).g;n=qh(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,wi(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};B.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function wi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Hn(t){return t.h==-1}B.X=function(t){return t=qh(this,t),Hn(t)?-1:wi(t)?0:1};function Gt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Be(n,~t.h).add(Yy)}B.abs=function(){return Hn(this)?Gt(this):this};B.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Be(n,n[n.length-1]&-2147483648?-1:0)};function qh(t,e){return t.add(Gt(e))}B.R=function(t){if(wi(this)||wi(t))return va;if(Hn(this))return Hn(t)?Gt(this).R(Gt(t)):Gt(Gt(this).R(t));if(Hn(t))return Gt(this.R(Gt(t)));if(0>this.X(qS)&&0>t.X(qS))return jr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=s*c,Uh(n,2*r+2*i),n[2*r+2*i+1]+=o*c,Uh(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Uh(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Uh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Be(n,0)};function Uh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Qc(t,e){this.g=t,this.h=e}function Gh(t,e){if(wi(e))throw Error("division by zero");if(wi(t))return new Qc(va,va);if(Hn(t))return e=Gh(Gt(t),e),new Qc(Gt(e.g),Gt(e.h));if(Hn(e))return e=Gh(t,Gt(e)),new Qc(Gt(e.g),e.h);if(30<t.g.length){if(Hn(t)||Hn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Yy,r=e;0>=r.X(t);)n=GS(n),r=GS(r);var i=ma(n,1),o=ma(r,1);for(r=ma(r,2),n=ma(n,2);!wi(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=ma(r,1),n=ma(n,1)}return e=qh(t,i.R(e)),new Qc(i,e)}for(i=va;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=jr(n),s=o.R(e);Hn(s)||0<s.X(t);)n-=r,o=jr(n),s=o.R(e);wi(o)&&(o=Yy),i=i.add(o),t=qh(t,s)}return new Qc(i,t)}B.gb=function(t){return Gh(this,t).h};B.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Be(n,this.h&t.h)};B.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Be(n,this.h|t.h)};B.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Be(n,this.h^t.h)};function GS(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Be(n,t.h)}function ma(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Be(i,t.h)}Hh.prototype.createWebChannel=Hh.prototype.g;Pn.prototype.send=Pn.prototype.u;Pn.prototype.open=Pn.prototype.m;Pn.prototype.close=Pn.prototype.close;ef.NO_ERROR=0;ef.TIMEOUT=8;ef.HTTP_ERROR=6;hD.COMPLETE="complete";fD.EventType=ul;ul.OPEN="a";ul.CLOSE="b";ul.ERROR="c";ul.MESSAGE="d";Ot.prototype.listen=Ot.prototype.O;ot.prototype.listenOnce=ot.prototype.P;ot.prototype.getLastError=ot.prototype.Sa;ot.prototype.getLastErrorCode=ot.prototype.Ia;ot.prototype.getStatus=ot.prototype.da;ot.prototype.getResponseJson=ot.prototype.Wa;ot.prototype.getResponseText=ot.prototype.ja;ot.prototype.send=ot.prototype.ha;ot.prototype.setWithCredentials=ot.prototype.Oa;lr.prototype.digest=lr.prototype.l;lr.prototype.reset=lr.prototype.reset;lr.prototype.update=lr.prototype.j;Be.prototype.add=Be.prototype.add;Be.prototype.multiply=Be.prototype.R;Be.prototype.modulo=Be.prototype.gb;Be.prototype.compare=Be.prototype.X;Be.prototype.toNumber=Be.prototype.ea;Be.prototype.toString=Be.prototype.toString;Be.prototype.getBits=Be.prototype.D;Be.fromNumber=jr;Be.fromString=QD;var xU=ur.createWebChannelTransport=function(){return new Hh},MU=ur.getStatEventTarget=function(){return Zh()},PU=ur.ErrorCode=ef,OU=ur.EventType=hD,RU=ur.Event=os,kU=ur.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},zX=ur.FetchXmlHttpFactory=fl,NU=ur.WebChannel=fD,FU=ur.XhrIo=ot,VU=ur.Md5=lr,YD=ur.Integer=Be;var XD="@firebase/firestore";var kt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");var gl="10.8.1";var Ca=new Qi("@firebase/firestore");function On(t,...e){if(Ca.logLevel<=Ne.DEBUG){let n=e.map(U_);Ca.debug(`Firestore (${gl}): ${t}`,...n)}}function j_(t,...e){if(Ca.logLevel<=Ne.ERROR){let n=e.map(U_);Ca.error(`Firestore (${gl}): ${t}`,...n)}}function LU(t,...e){if(Ca.logLevel<=Ne.WARN){let n=e.map(U_);Ca.warn(`Firestore (${gl}): ${t}`,...n)}}function U_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Cn(t="Unexpected state"){let e=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: `+t;throw j_(e),new Error(e)}function w_(t,e){t||Cn()}var Kt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ct=class extends Mn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var oo=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var lf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},E_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}},C_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},I_=class{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new oo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new oo,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>E(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{On("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(On("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new oo)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(On("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(w_(typeof r.accessToken=="string"),new lf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return w_(e===null||typeof e=="string"),new kt(e)}},b_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},T_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new b_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},S_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},D_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&On("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,On("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{On("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):On("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(w_(typeof n.token=="string"),this.R=n.token,new S_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function jU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var A_=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=jU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function tA(t,e){return t<e?-1:t>e?1:0}var x_=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Cn(),r===void 0?r=e.length-n:r>e.length-n&&Cn(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},io=class t extends x_{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new Ct(Kt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}};var ss=class t{constructor(e){this.path=e}static fromPath(e){return new t(io.fromString(e))}static fromName(e){return new t(io.fromString(e).popFirst(5))}static empty(){return new t(io.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&io.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return io.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new io(e.slice()))}};var M_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};M_.UNKNOWN_ID=-1;function nA(t){return t.name==="IndexedDbTransactionError"}function UU(t){return t===0&&1/t==-1/0}var BU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],eJ=[...BU,"documentOverlays"],$U=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zU=$U,tJ=[...zU,"indexConfiguration","indexState","indexEntries"];var Ia=class t{constructor(e,n){this.comparator=e,this.root=n||Br.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Br.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Br.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ea(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ea(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ea(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ea(this.root,e,this.comparator,!0)}},Ea=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Br=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Cn();let e=this.left.check();if(e!==this.right.check())throw Cn();return e+(this.isRed()?0:1)}};Br.EMPTY=null,Br.RED=!0,Br.BLACK=!1;Br.EMPTY=new class{constructor(){this.size=0}get key(){throw Cn()}get value(){throw Cn()}get color(){throw Cn()}get left(){throw Cn()}get right(){throw Cn()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Br(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var uf=class t{constructor(e){this.comparator=e,this.data=new Ia(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new df(this.data.getIterator())}getIteratorFrom(e){return new df(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},df=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var P_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ba=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new P_("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tA(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ba.EMPTY_BYTE_STRING=new ba("");var rJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function JD(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function HU(t){return typeof t=="string"?ba.fromBase64String(t):ba.fromUint8Array(t)}var O_=class{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},R_=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function qU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var iJ=new Ia(ss.comparator);var oJ=new Ia(ss.comparator);var sJ=new Ia(ss.comparator),aJ=new uf(ss.comparator);var cJ=new uf(tA);var ZD,xe;(xe=ZD||(ZD={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";var lJ=new YD([4294967295,4294967295],0);var hf=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(JD(e.integerValue));else if("doubleValue"in e){let r=JD(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),UU(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(HU(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?qU(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Cn()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),ss.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};hf.bt=new hf;var uJ=new Uint8Array(0);var Ur=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Ur.DEFAULT_COLLECTION_PERCENTILE=10,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ur.DEFAULT=new Ur(41943040,Ur.DEFAULT_COLLECTION_PERCENTILE,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ur.DISABLED=new Ur(-1,0,0);function __(){return typeof document<"u"?document:null}var k_=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&On("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var N_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new oo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(Kt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function GU(t,e){if(j_("AsyncQueue",`${e}: ${t}`),nA(t))return new Ct(Kt.UNAVAILABLE,`${e}: ${t}`);throw t}var F_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=A_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>E(this,null,function*(){On("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(On("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ct(Kt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new oo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=GU(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function rA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var eA=new Map;function WU(t,e,n,r){if(e===!0&&r===!0)throw new Ct(Kt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KU(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Cn()}function QU(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ct(Kt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=KU(t);throw new Ct(Kt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var ff=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ct(Kt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ct(Kt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ct(Kt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ct(Kt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ct(Kt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},pf=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ff({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ct(Kt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ct(Kt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ff(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new E_;switch(r.type){case"firstParty":return new T_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ct(Kt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=eA.get(n);r&&(On("ComponentProvider","Removing Datastore"),eA.delete(n),r.terminate())}(this),Promise.resolve()}};function iA(t,e,n,r={}){var i;let o=(t=QU(t,pf))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&LU("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=kt.MOCK_USER;else{a=ST(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Ct(Kt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new kt(l)}t._authCredentials=new C_(new lf(a,c))}}var V_=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new k_(this,"async_queue_retry"),this._u=()=>{let n=__();n&&On("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=__();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=__();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new oo;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return E(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!nA(e))throw e;On("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw j_("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);let i=N_.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&Cn()}verifyOperationInProgress(){}hu(){return E(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};var L_=class extends pf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new V_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||YU(this),this._firestoreClient.terminate()}};function oA(t,e){let n=typeof t=="object"?t:la(),r=typeof t=="string"?t:e||"(default)",i=jc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=TT("firestore");o&&iA(i,...o)}return i}function YU(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,l,u){return new O_(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,rA(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new F_(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var dJ=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(i){gl=i})(Ji),Xi(new zn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new L_(new I_(r.getProvider("auth-internal")),new D_(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Ct(Kt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new R_(l.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Et(XD,"4.4.3",e),Et(XD,"4.4.3","esm2017")})();var vl=class{constructor(e){return e}},sA="firestore",B_=class{constructor(){return Uc(sA)}};var $_=new Y("angularfire2.firestore-instances");function XU(t,e){let n=hh(sA,t,e);return n&&new vl(n)}function JU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new vl(r)}}var ZU={provide:B_,deps:[[new dn,$_]]},eB={provide:vl,useFactory:XU,deps:[[new dn,$_],vi]},tB=(()=>{class t{constructor(){Et("angularfire",Xo.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ln({type:t});static \u0275inj=un({providers:[eB,ZU]})}return t})();function aA(t,...e){return{ngModule:tB,providers:[{provide:$_,useFactory:JU(t),multi:!0,deps:[De,Ge,ha,Jo,[new dn,Wc],[new dn,da],...e]}]}}var cA=fa(oA,!0);var q_=class extends th{constructor(){super(...arguments),this.supportsDOMEvents=!0}},G_=class t extends q_{static makeCurrent(){iT(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=nB();return n==null?null:rB(n)}resetBaseElement(){yl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return rh(document.cookie,e)}},yl=null;function nB(){return yl=yl||document.querySelector("base"),yl?yl.getAttribute("href"):null}function rB(t){return new URL(t,document.baseURI).pathname}var iB=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),W_=new Y(""),dA=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new L(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(R(W_),R(De))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),mf=class{constructor(e){this._doc=e}},z_="ng-app-id",hA=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ac(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${z_}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(z_),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(z_,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(R(qt),R(Og),R(Ng,8),R(Un))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),H_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Q_=/%COMP%/g,fA="%COMP%",oB=`_nghost-${fA}`,sB=`_ngcontent-${fA}`,aB=!0,cB=new Y("",{providedIn:"root",factory:()=>aB});function lB(t){return sB.replace(Q_,t)}function uB(t){return oB.replace(Q_,t)}function pA(t,e){return e.map(n=>n.replace(Q_,t))}var gf=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Ac(c),this.defaultRenderer=new _l(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===br.ShadowDom&&(i=Se(V({},i),{encapsulation:br.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof vf?o.applyToHost(r):o instanceof wl&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case br.Emulated:s=new vf(l,u,i,this.appId,d,a,c,h);break;case br.ShadowDom:return new K_(l,u,r,i,a,c,this.nonce,h);default:s=new wl(l,u,i,d,a,c,h);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(R(dA),R(hA),R(Og),R(cB),R(qt),R(Un),R(De),R(Ng))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),_l=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(H_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(lA(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(lA(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=H_[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=H_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ni.DashCase|ni.Important)?e.style.setProperty(n,r,i&ni.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ni.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=pi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function lA(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var K_=class extends _l{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=pA(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},wl=class extends _l{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?pA(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},vf=class extends wl{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=lB(l),this.hostAttr=uB(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},dB=(()=>{let e=class e extends mf{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(R(qt))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),uA=["alt","control","meta","shift"],hB={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fB={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},pB=(()=>{let e=class e extends mf{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pi().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),uA.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=hB[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),uA.forEach(a=>{if(a!==o){let c=fB[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(R(qt))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})();function mA(t,e){return Yb(V({rootComponent:t},mB(e)))}function mB(t){return{appProviders:[...wB,...t?.providers??[]],platformProviders:_B}}function gB(){G_.makeCurrent()}function vB(){return new Dr}function yB(){return nI(document),document}var _B=[{provide:Un,useValue:cT},{provide:Rg,useValue:gB,multi:!0},{provide:qt,useFactory:yB,deps:[]}];var wB=[{provide:Vd,useValue:"root"},{provide:Dr,useFactory:vB,deps:[]},{provide:W_,useClass:dB,multi:!0,deps:[qt,De,Un]},{provide:W_,useClass:pB,multi:!0,deps:[qt]},gf,hA,dA,{provide:Lo,useExisting:gf},{provide:ca,useClass:iB,deps:[]},[]];var gA=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(R(qt))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Y_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:function(i){let o=null;return i?o=new(i||e):o=R(EB),o},providedIn:"root"});let t=e;return t})(),EB=(()=>{let e=class e extends Y_{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case ci.NONE:return i;case ci.HTML:return $o(i,"HTML")?Mr(i):qI(this._doc,String(i)).toString();case ci.STYLE:return $o(i,"Style")?Mr(i):i;case ci.SCRIPT:if($o(i,"Script"))return Mr(i);throw new L(5200,!1);case ci.URL:return $o(i,"URL")?Mr(i):Bd(String(i));case ci.RESOURCE_URL:if($o(i,"ResourceURL"))return Mr(i);throw new L(5201,!1);default:throw new L(5202,!1)}}bypassSecurityTrustHtml(r){return FI(r)}bypassSecurityTrustStyle(r){return VI(r)}bypassSecurityTrustScript(r){return LI(r)}bypassSecurityTrustUrl(r){return jI(r)}bypassSecurityTrustResourceUrl(r){return UI(r)}};e.\u0275fac=function(i){return new(i||e)(R(qt))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fe=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(fe||{}),$r="*";function qn(t,e){return{type:fe.Trigger,name:t,definitions:e,options:{}}}function It(t,e=null){return{type:fe.Animate,styles:e,timings:t}}function yA(t,e=null){return{type:fe.Sequence,steps:t,options:e}}function ve(t){return{type:fe.Style,styles:t,offset:null}}function _A(t,e,n){return{type:fe.State,name:t,styles:e,options:n}}function ft(t,e,n=null){return{type:fe.Transition,expr:t,animation:e,options:n}}var so=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},El=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},yf="!";function wA(t){return new L(3e3,!1)}function CB(){return new L(3100,!1)}function IB(){return new L(3101,!1)}function bB(t){return new L(3001,!1)}function TB(t){return new L(3003,!1)}function SB(t){return new L(3004,!1)}function DB(t,e){return new L(3005,!1)}function AB(){return new L(3006,!1)}function xB(){return new L(3007,!1)}function MB(t,e){return new L(3008,!1)}function PB(t){return new L(3002,!1)}function OB(t,e,n,r,i){return new L(3010,!1)}function RB(){return new L(3011,!1)}function kB(){return new L(3012,!1)}function NB(){return new L(3200,!1)}function FB(){return new L(3202,!1)}function VB(){return new L(3013,!1)}function LB(t){return new L(3014,!1)}function jB(t){return new L(3015,!1)}function UB(t){return new L(3016,!1)}function BB(t,e){return new L(3404,!1)}function $B(t){return new L(3502,!1)}function zB(t){return new L(3503,!1)}function HB(){return new L(3300,!1)}function qB(t){return new L(3504,!1)}function GB(t){return new L(3301,!1)}function WB(t,e){return new L(3302,!1)}function KB(t){return new L(3303,!1)}function QB(t,e){return new L(3400,!1)}function YB(t){return new L(3401,!1)}function XB(t){return new L(3402,!1)}function JB(t,e){return new L(3505,!1)}function ao(t){switch(t.length){case 0:return new so;case 1:return t[0];default:return new El(t)}}function kA(t,e,n=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((h,m)=>{let w=m,b=h;if(m!=="offset")switch(w=t.normalizePropertyName(w,i),b){case yf:b=n.get(m);break;case $r:b=r.get(m);break;default:b=t.normalizeStyleValue(m,w,b,i);break}d.set(w,b)}),u||o.push(d),a=d,s=l}),i.length)throw $B(i);return o}function _0(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&X_(n,"start",t)));break;case"done":t.onDone(()=>r(n&&X_(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&X_(n,"destroy",t)));break}}function X_(t,e,n){let r=n.totalTime,i=!!n.disabled,o=w0(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),s=t._data;return s!=null&&(o._data=s),o}function w0(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function kn(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function EA(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var ZB=typeof document>"u"?null:document.documentElement;function E0(t){let e=t.parentNode||t.host||null;return e===ZB?null:e}function e$(t){return t.substring(1,6)=="ebkit"}var as=null,CA=!1;function t$(t){as||(as=n$()||{},CA=as.style?"WebkitAppearance"in as.style:!1);let e=!0;return as.style&&!e$(t)&&(e=t in as.style,!e&&CA&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in as.style)),e}function n$(){return typeof document<"u"?document.body:null}function NA(t,e){for(;e;){if(e===t)return!0;e=E0(e)}return!1}function FA(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var C0=(()=>{let e=class e{validateStyleProperty(r){return t$(r)}matchesElement(r,i){return!1}containsElement(r,i){return NA(r,i)}getParentElement(r){return E0(r)}query(r,i,o){return FA(r,i,o)}computeStyle(r,i,o){return o||""}animate(r,i,o,s,a,c=[],l){return new so(o,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),S0=class S0{};S0.NOOP=new C0;var us=S0,ds=class{};var r$=1e3,VA="{{",i$="}}",LA="ng-enter",r0="ng-leave",_f="ng-trigger",bf=".ng-trigger",IA="ng-animating",i0=".ng-animating";function Ci(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:o0(parseFloat(e[1]),e[2])}function o0(t,e){switch(e){case"s":return t*r$;default:return t}}function Tf(t,e,n){return t.hasOwnProperty("duration")?t:o$(t,e,n)}function o$(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(wA(t)),{duration:0,delay:0,easing:""};i=o0(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=o0(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=t;if(!n){let a=!1,c=e.length;i<0&&(e.push(CB()),a=!0),o<0&&(e.push(IB()),a=!0),a&&e.splice(c,0,wA(t))}return{duration:i,delay:o,easing:s}}function s$(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function zr(t,e,n){e.forEach((r,i)=>{let o=I0(i);n&&!n.has(i)&&n.set(i,t.style[o]),t.style[o]=r})}function ls(t,e){e.forEach((n,r)=>{let i=I0(r);t.style[i]=""})}function Cl(t){return Array.isArray(t)?t.length==1?t[0]:yA(t):t}function a$(t,e,n){let r=e.params||{},i=jA(t);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||n.push(bB(o))})}var s0=new RegExp(`${VA}\\s*(.+?)\\s*${i$}`,"g");function jA(t){let e=[];if(typeof t=="string"){let n;for(;n=s0.exec(t);)e.push(n[1]);s0.lastIndex=0}return e}function bl(t,e,n){let r=`${t}`,i=r.replace(s0,(o,s)=>{let a=e[s];return a==null&&(n.push(TB(s)),a=""),a.toString()});return i==r?t:i}var c$=/-+([a-z0-9])/g;function I0(t){return t.replace(c$,(...e)=>e[1].toUpperCase())}function l$(t,e){return t===0||e===0}function u$(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,b0(t,a)))}}return e}function Rn(t,e,n){switch(e.type){case fe.Trigger:return t.visitTrigger(e,n);case fe.State:return t.visitState(e,n);case fe.Transition:return t.visitTransition(e,n);case fe.Sequence:return t.visitSequence(e,n);case fe.Group:return t.visitGroup(e,n);case fe.Animate:return t.visitAnimate(e,n);case fe.Keyframes:return t.visitKeyframes(e,n);case fe.Style:return t.visitStyle(e,n);case fe.Reference:return t.visitReference(e,n);case fe.AnimateChild:return t.visitAnimateChild(e,n);case fe.AnimateRef:return t.visitAnimateRef(e,n);case fe.Query:return t.visitQuery(e,n);case fe.Stagger:return t.visitStagger(e,n);default:throw SB(e.type)}}function b0(t,e){return window.getComputedStyle(t)[e]}var d$=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Sf=class extends ds{normalizePropertyName(e,n){return I0(e)}normalizeStyleValue(e,n,r,i){let o="",s=r.toString().trim();if(d$.has(n)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(DB(e,r))}return s+o}};var Df="*";function h$(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>f$(r,n,e)):n.push(t),n}function f$(t,e,n){if(t[0]==":"){let c=p$(t,n);if(typeof c=="function"){e.push(c);return}t=c}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(jB(t)),e;let i=r[1],o=r[2],s=r[3];e.push(bA(i,s));let a=i==Df&&s==Df;o[0]=="<"&&!a&&e.push(bA(s,i))}function p$(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(UB(t)),"* => *"}}var wf=new Set(["true","1"]),Ef=new Set(["false","0"]);function bA(t,e){let n=wf.has(t)||Ef.has(t),r=wf.has(e)||Ef.has(e);return(i,o)=>{let s=t==Df||t==i,a=e==Df||e==o;return!s&&n&&typeof i=="boolean"&&(s=i?wf.has(t):Ef.has(t)),!a&&r&&typeof o=="boolean"&&(a=o?wf.has(e):Ef.has(e)),s&&a}}var UA=":self",m$=new RegExp(`s*${UA}s*,?`,"g");function BA(t,e,n,r){return new a0(t).build(e,n,r)}var TA="",a0=class{constructor(e){this._driver=e}build(e,n,r){let i=new c0(n);return this._resetContextStyleTimingState(i),Rn(this,Cl(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=TA,e.collectedStyles=new Map,e.collectedStyles.set(TA,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&n.errors.push(AB()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==fe.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,n))}),c.name=l}else if(a.type==fe.Transition){let c=this.visitTransition(a,n);r+=c.queryCount,i+=c.depCount,s.push(c)}else n.errors.push(xB())}),{type:fe.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{jA(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&n.errors.push(MB(e.name,[...o.values()]))}return{type:fe.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=Rn(this,Cl(e.animation),n),i=h$(e.expr,n.errors);return{type:fe.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:cs(e.options)}}visitSequence(e,n){return{type:fe.Sequence,steps:e.steps.map(r=>Rn(this,r,n)),options:cs(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,o=e.steps.map(s=>{n.currentTime=r;let a=Rn(this,s,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:fe.Group,steps:o,options:cs(e.options)}}visitAnimate(e,n){let r=_$(e.timings,n.errors);n.currentAnimateTimings=r;let i,o=e.styles?e.styles:ve({});if(o.type==fe.Keyframes)i=this.visitKeyframes(o,n);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=ve(l)}n.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,n);c.isEmptyStep=a,i=c}return n.currentAnimateTimings=null,{type:fe.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===$r?r.push(a):n.errors.push(PB(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(VA)>=0){o=!0;break}}}),{type:fe.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,o=n.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=n.collectedStyles.get(n.currentQuerySelector),u=l.get(c),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(n.errors.push(OB(c,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),n.options&&a$(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:fe.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(RB()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,u=e.steps.map(x=>{let z=this._makeStyleAst(x,n),q=z.offset!=null?z.offset:y$(z.styles),g=0;return q!=null&&(o++,g=z.offset=q),c=c||g<0||g>1,a=a||g<l,l=g,s.push(g),z});c&&n.errors.push(kB()),a&&n.errors.push(NB());let d=e.steps.length,h=0;o>0&&o<d?n.errors.push(FB()):o==0&&(h=i/(d-1));let m=d-1,w=n.currentTime,b=n.currentAnimateTimings,A=b.duration;return u.forEach((x,z)=>{let q=h>0?z==m?1:h*z:s[z],g=q*A;n.currentTime=w+b.delay+g,b.duration=g,this._validateStyleAst(x,n),x.offset=q,r.styles.push(x)}),r}visitReference(e,n){return{type:fe.Reference,animation:Rn(this,Cl(e.animation),n),options:cs(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:fe.AnimateChild,options:cs(e.options)}}visitAnimateRef(e,n){return{type:fe.AnimateRef,animation:this.visitReference(e.animation,n),options:cs(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[o,s]=g$(e.selector);n.currentQuerySelector=r.length?r+" "+o:o,kn(n.collectedStyles,n.currentQuerySelector,new Map);let a=Rn(this,Cl(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:fe.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:cs(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(VB());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Tf(e.timings,n.errors,!0);return{type:fe.Stagger,animation:Rn(this,Cl(e.animation),n),timings:r,options:null}}};function g$(t){let e=!!t.split(/\s*,\s*/).find(n=>n==UA);return e&&(t=t.replace(m$,"")),t=t.replace(/@\*/g,bf).replace(/@\w+/g,n=>bf+"-"+n.slice(1)).replace(/:animating/g,i0),[t,e]}function v$(t){return t?V({},t):null}var c0=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function y$(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function _$(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=Tf(t,e).duration;return J_(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=J_(0,0,"");return o.dynamic=!0,o.strValue=n,o}let i=Tf(n,e);return J_(i.duration,i.delay,i.easing)}function cs(t){return t?(t=V({},t),t.params&&(t.params=v$(t.params))):t={},t}function J_(t,e,n){return{duration:t,delay:e,easing:n}}function T0(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var Tl=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},w$=1,E$=":enter",C$=new RegExp(E$,"g"),I$=":leave",b$=new RegExp(I$,"g");function $A(t,e,n,r,i,o=new Map,s=new Map,a,c,l=[]){return new l0().buildKeyframes(t,e,n,r,i,o,s,a,c,l)}var l0=class{buildKeyframes(e,n,r,i,o,s,a,c,l,u=[]){l=l||new Tl;let d=new u0(e,n,l,i,o,u,[]);d.options=c;let h=c.delay?Ci(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,c),Rn(this,r,d);let m=d.timelines.filter(w=>w.containsAnimation());if(m.length&&a.size){let w;for(let b=m.length-1;b>=0;b--){let A=m[b];if(A.element===n){w=A;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,d.errors,c)}return m.length?m.map(w=>w.buildKeyframes()):[T0(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Ci(bl(o,i?.params??{},n.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,n,r){let o=n.currentTimeline.currentTime,s=r.duration!=null?Ci(r.duration):null,a=r.delay!=null?Ci(r.delay):null;return s!==0&&e.forEach(c=>{let l=n.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),Rn(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,o=e.options;if(o&&(o.params||o.delay)&&(i=n.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==fe.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Af);let s=Ci(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Rn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,o=e.options&&e.options.delay?Ci(e.options.delay):0;e.steps.forEach(s=>{let a=n.createSubContext(e.options);o&&a.delayNextStep(o),Rn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?bl(r,n.params,n.errors):r;return Tf(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==fe.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(r.duration),this.visitStyle(o,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,o=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+o),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},o=i.delay?Ci(i.delay):0;o&&(n.previousNode.type===fe.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Af);let s=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(e.options,l);o&&d.delayNextStep(o),l===n.element&&(c=d.currentTimeline),Rn(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;s=Math.max(s,h)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1),c=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let u=n.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;Rn(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},Af={},u0=class t{constructor(e,n,r,i,o,s,a,c){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Af,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new xf(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Ci(r.duration)),r.delay!=null&&(i.delay=Ci(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=bl(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Af,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new d0(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(C$,"."+this._enterClassName),e=e.replace(b$,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(LB(n)),a}},xf=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=w$,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||$r),this._currentKeyframe.set(n,$r);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let o=i&&i.params||{},s=T$(e,this._globalTimelineStyles);for(let[a,c]of s){let l=bl(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??$r),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===yf?e.add(d):u===$r&&n.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...n.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return T0(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},d0=class extends xf{constructor(e,n,r,i,o,s,a=!1){super(e,n,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],s=r+n,a=n/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",SA(a)),o.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]),m=h.get("offset"),w=n+m*r;h.set("offset",SA(w/s)),o.push(h)}r=s,n=0,i="",e=o}return T0(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function SA(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function T$(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)n.set(o,$r)}else for(let[o,s]of i)n.set(o,s)}),n}function DA(t,e,n,r,i,o,s,a,c,l,u,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}var Z_={},Mf=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return S$(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,o,s,a,c,l,u){let d=[],h=this.ast.options&&this.ast.options.params||Z_,m=a&&a.params||Z_,w=this.buildStyles(r,m,d),b=c&&c.params||Z_,A=this.buildStyles(i,b,d),x=new Set,z=new Map,q=new Map,g=i==="void",ee={params:zA(b,h),delay:this.ast.options?.delay},O=u?[]:$A(e,n,this.ast.animation,o,s,w,A,ee,l,d),X=0;return O.forEach(de=>{X=Math.max(de.duration+de.delay,X)}),d.length?DA(n,this._triggerName,r,i,g,w,A,[],[],z,q,X,d):(O.forEach(de=>{let Te=de.element,Me=kn(z,Te,new Set);de.preStyleProps.forEach(Ve=>Me.add(Ve));let rt=kn(q,Te,new Set);de.postStyleProps.forEach(Ve=>rt.add(Ve)),Te!==n&&x.add(Te)}),DA(n,this._triggerName,r,i,g,w,A,O,[...x.values()],z,q,X))}};function S$(t,e,n,r,i){return t.some(o=>o(e,n,r,i))}function zA(t,e){let n=V({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var h0=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=zA(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=bl(s,i,n));let c=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,c,s,n),r.set(a,s)})}),r}};function D$(t,e,n){return new f0(t,e,n)}var f0=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new h0(i.style,o,r))}),AA(this.states,"true","1"),AA(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new Mf(e,i,this.states))}),this.fallbackTransition=A$(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(s=>s.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function A$(t,e,n){let r=[(s,a)=>!0],i={type:fe.Sequence,steps:[],options:null},o={type:fe.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Mf(t,o,e)}function AA(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var x$=new Tl,p0=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],o=BA(this._driver,n,r,i);if(r.length)throw zB(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,n,r){let i=e.element,o=kA(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=$A(this._driver,n,o,LA,r0,new Map,new Map,r,x$,i),s.forEach(u=>{let d=kn(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(HB()),s=[]),i.length)throw qB(i);a.forEach((u,d)=>{u.forEach((h,m)=>{u.set(m,this._driver.computeStyle(d,m,$r))})});let c=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=ao(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw GB(e);return n}listen(e,n,r,i){let o=w0(n,"","","");return _0(this._getPlayer(e),r,o,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,n,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},xA="ng-animate-queued",M$=".ng-animate-queued",e0="ng-animate-disabled",P$=".ng-animate-disabled",O$="ng-star-inserted",R$=".ng-star-inserted",k$=[],HA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},N$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},dr="__ng_removed",Sl=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=V$(i),r){let o=e,{value:s}=o,a=Sp(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},Il="void",t0=new Sl(Il),m0=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Gn(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw WB(r,n);if(r==null||r.length==0)throw KB(n);if(!L$(r))throw QB(r,n);let o=kn(this._elementListeners,e,[]),s={name:n,phase:r,callback:i};o.push(s);let a=kn(this._engine.statesByElement,e,new Map);return a.has(n)||(Gn(e,_f),Gn(e,_f+"-"+n),a.set(n,t0)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw YB(e);return n}trigger(e,n,r,i=!0){let o=this._getTrigger(n),s=new Dl(this.id,n,e),a=this._engine.statesByElement.get(e);a||(Gn(e,_f),Gn(e,_f+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),l=new Sl(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(n,l),c||(c=t0),!(l.value===Il)&&c.value===l.value){if(!B$(c.params,l.params)){let b=[],A=o.matchStyles(c.value,c.params,b),x=o.matchStyles(l.value,l.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{ls(e,A),zr(e,x)})}return}let h=kn(this._engine.playersByElement,e,[]);h.forEach(b=>{b.namespaceId==this.id&&b.triggerName==n&&b.queued&&b.destroy()});let m=o.matchTransition(c.value,l.value,e,l.params),w=!1;if(!m){if(!i)return;m=o.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:m,fromState:c,toState:l,player:s,isFallbackTransition:w}),w||(Gn(e,xA),s.onStart(()=>{Ta(e,xA)})),s.onDone(()=>{let b=this.players.indexOf(s);b>=0&&this.players.splice(b,1);let A=this._engine.playersByElement.get(e);if(A){let x=A.indexOf(s);x>=0&&A.splice(x,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,bf,!0);r.forEach(i=>{if(i[dr])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,Il,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),r&&ao(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||t0,u=new Sl(Il),d=new Dl(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let o=e[dr];(!o||o===HA)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Gn(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=w0(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,_0(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},g0=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r,i){this.bodyNode=e,this.driver=n,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new m0(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&n.add(o)}}return n}trigger(e,n,r,i){if(Cf(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!Cf(n))return;let o=n[dr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Gn(e,e0)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ta(e,e0))}removeNode(e,n,r){if(Cf(n)){this.scheduler?.notify();let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,o){this.collectedLeaveElements.push(n),n[dr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,r,i,o){return Cf(n)?this._fetchNamespace(e).listen(n,r,i,o):()=>{}}_buildInstruction(e,n,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,bf,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,i0,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ao(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[dr];if(n&&n.setForRemoval){if(e[dr]=HA,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(e0)&&this.markElementAsDisabled(e,!1),this.driver.query(e,P$,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Gn(i,O$)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?ao(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw XB(e)}_flushAnimations(e,n){let r=new Tl,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(U=>{u.add(U);let $=this.driver.query(U,M$,!0);for(let H=0;H<$.length;H++)u.add($[H])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),m=OA(h,this.collectedEnterElements),w=new Map,b=0;m.forEach((U,$)=>{let H=LA+b++;w.set($,H),U.forEach(ue=>Gn(ue,H))});let A=[],x=new Set,z=new Set;for(let U=0;U<this.collectedLeaveElements.length;U++){let $=this.collectedLeaveElements[U],H=$[dr];H&&H.setForRemoval&&(A.push($),x.add($),H.hasAnimation?this.driver.query($,R$,!0).forEach(ue=>x.add(ue)):z.add($))}let q=new Map,g=OA(h,Array.from(x));g.forEach((U,$)=>{let H=r0+b++;q.set($,H),U.forEach(ue=>Gn(ue,H))}),e.push(()=>{m.forEach((U,$)=>{let H=w.get($);U.forEach(ue=>Ta(ue,H))}),g.forEach((U,$)=>{let H=q.get($);U.forEach(ue=>Ta(ue,H))}),A.forEach(U=>{this.processLeaveNode(U)})});let ee=[],O=[];for(let U=this._namespaceList.length-1;U>=0;U--)this._namespaceList[U].drainQueuedTransitions(n).forEach(H=>{let ue=H.player,je=H.element;if(ee.push(ue),this.collectedEnterElements.length){let et=je[dr];if(et&&et.setForMove){if(et.previousTriggersValues&&et.previousTriggersValues.has(H.triggerName)){let Lt=et.previousTriggersValues.get(H.triggerName),wt=this.statesByElement.get(H.element);if(wt&&wt.has(H.triggerName)){let Dn=wt.get(H.triggerName);Dn.value=Lt,wt.set(H.triggerName,Dn)}}ue.destroy();return}}let St=!d||!this.driver.containsElement(d,je),Ye=q.get(je),en=w.get(je),Pe=this._buildInstruction(H,r,en,Ye,St);if(Pe.errors&&Pe.errors.length){O.push(Pe);return}if(St){ue.onStart(()=>ls(je,Pe.fromStyles)),ue.onDestroy(()=>zr(je,Pe.toStyles)),i.push(ue);return}if(H.isFallbackTransition){ue.onStart(()=>ls(je,Pe.fromStyles)),ue.onDestroy(()=>zr(je,Pe.toStyles)),i.push(ue);return}let mn=[];Pe.timelines.forEach(et=>{et.stretchStartingKeyframe=!0,this.disabledNodes.has(et.element)||mn.push(et)}),Pe.timelines=mn,r.append(je,Pe.timelines);let Jn={instruction:Pe,player:ue,element:je};s.push(Jn),Pe.queriedElements.forEach(et=>kn(a,et,[]).push(ue)),Pe.preStyleProps.forEach((et,Lt)=>{if(et.size){let wt=c.get(Lt);wt||c.set(Lt,wt=new Set),et.forEach((Dn,yr)=>wt.add(yr))}}),Pe.postStyleProps.forEach((et,Lt)=>{let wt=l.get(Lt);wt||l.set(Lt,wt=new Set),et.forEach((Dn,yr)=>wt.add(yr))})});if(O.length){let U=[];O.forEach($=>{U.push(JB($.triggerName,$.errors))}),ee.forEach($=>$.destroy()),this.reportError(U)}let X=new Map,de=new Map;s.forEach(U=>{let $=U.element;r.has($)&&(de.set($,$),this._beforeAnimationBuild(U.player.namespaceId,U.instruction,X))}),i.forEach(U=>{let $=U.element;this._getPreviousPlayers($,!1,U.namespaceId,U.triggerName,null).forEach(ue=>{kn(X,$,[]).push(ue),ue.destroy()})});let Te=A.filter(U=>RA(U,c,l)),Me=new Map;PA(Me,this.driver,z,l,$r).forEach(U=>{RA(U,c,l)&&Te.push(U)});let Ve=new Map;m.forEach((U,$)=>{PA(Ve,this.driver,new Set(U),c,yf)}),Te.forEach(U=>{let $=Me.get(U),H=Ve.get(U);Me.set(U,new Map([...$?.entries()??[],...H?.entries()??[]]))});let $e=[],Jt=[],Zt={};s.forEach(U=>{let{element:$,player:H,instruction:ue}=U;if(r.has($)){if(u.has($)){H.onDestroy(()=>zr($,ue.toStyles)),H.disabled=!0,H.overrideTotalTime(ue.totalTime),i.push(H);return}let je=Zt;if(de.size>1){let Ye=$,en=[];for(;Ye=Ye.parentNode;){let Pe=de.get(Ye);if(Pe){je=Pe;break}en.push(Ye)}en.forEach(Pe=>de.set(Pe,je))}let St=this._buildAnimation(H.namespaceId,ue,X,o,Ve,Me);if(H.setRealPlayer(St),je===Zt)$e.push(H);else{let Ye=this.playersByElement.get(je);Ye&&Ye.length&&(H.parentPlayer=ao(Ye)),i.push(H)}}else ls($,ue.fromStyles),H.onDestroy(()=>zr($,ue.toStyles)),Jt.push(H),u.has($)&&i.push(H)}),Jt.forEach(U=>{let $=o.get(U.element);if($&&$.length){let H=ao($);U.setRealPlayer(H)}}),i.forEach(U=>{U.parentPlayer?U.syncPlayerEvents(U.parentPlayer):U.destroy()});for(let U=0;U<A.length;U++){let $=A[U],H=$[dr];if(Ta($,r0),H&&H.hasAnimation)continue;let ue=[];if(a.size){let St=a.get($);St&&St.length&&ue.push(...St);let Ye=this.driver.query($,i0,!0);for(let en=0;en<Ye.length;en++){let Pe=a.get(Ye[en]);Pe&&Pe.length&&ue.push(...Pe)}}let je=ue.filter(St=>!St.destroyed);je.length?j$(this,$,je):this.processLeaveNode($)}return A.length=0,$e.forEach(U=>{this.players.push(U),U.onDone(()=>{U.destroy();let $=this.players.indexOf(U);this.players.splice($,1)}),U.play()}),$e}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,o){let s=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==Il;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,n,r){let i=n.triggerName,o=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let c of n.timelines){let l=c.element,u=l!==o,d=kn(r,l,[]);this._getPreviousPlayers(l,u,s,a,n.toState).forEach(m=>{let w=m.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),m.destroy(),d.push(m)})}ls(o,n.fromStyles)}_buildAnimation(e,n,r,i,o,s){let a=n.triggerName,c=n.element,l=[],u=new Set,d=new Set,h=n.timelines.map(w=>{let b=w.element;u.add(b);let A=b[dr];if(A&&A.removedBeforeQueried)return new so(w.duration,w.delay);let x=b!==c,z=U$((r.get(b)||k$).map(X=>X.getRealPlayer())).filter(X=>{let de=X;return de.element?de.element===b:!1}),q=o.get(b),g=s.get(b),ee=kA(this._normalizer,w.keyframes,q,g),O=this._buildPlayer(w,ee,z);if(w.subTimeline&&i&&d.add(b),x){let X=new Dl(e,a,b);X.setRealPlayer(O),l.push(X)}return O});l.forEach(w=>{kn(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>F$(this.playersByQueriedElement,w.element,w))}),u.forEach(w=>Gn(w,IA));let m=ao(h);return m.onDestroy(()=>{u.forEach(w=>Ta(w,IA)),zr(c,n.toStyles)}),d.forEach(w=>{kn(i,w,[]).push(m)}),m}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new so(e.duration,e.delay)}},Dl=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new so,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>_0(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){kn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function F$(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function V$(t){return t??null}function Cf(t){return t&&t.nodeType===1}function L$(t){return t=="start"||t=="done"}function MA(t,e){let n=t.style.display;return t.style.display=e??"none",n}function PA(t,e,n,r,i){let o=[];n.forEach(c=>o.push(MA(c)));let s=[];r.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let h=e.computeStyle(l,d,i);u.set(d,h),(!h||h.length==0)&&(l[dr]=N$,s.push(l))}),t.set(l,u)});let a=0;return n.forEach(c=>MA(c,o[a++])),s}function OA(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return n.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&n.get(c).push(a)}),n}function Gn(t,e){t.classList?.add(e)}function Ta(t,e){t.classList?.remove(e)}function j$(t,e,n){ao(n).onDone(()=>t.processLeaveNode(e))}function U$(t){let e=[];return qA(t,e),e}function qA(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof El?qA(r.players,e):e.push(r)}}function B$(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function RA(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(o=>i.add(o)):e.set(t,r),n.delete(t),!0}var Da=class{constructor(e,n,r,i){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new g0(e.body,n,r,i),this._timelineEngine=new p0(e.body,n,r),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,n,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],u=BA(this._driver,o,c,l);if(c.length)throw BB(i,c);l.length&&void 0,a=D$(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[o,s]=EA(r),a=i;this._timelineEngine.command(o,n,s,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,o){if(r.charAt(0)=="@"){let[s,a]=EA(r);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(e,n,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function $$(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=n0(e[0]),e.length>1&&(r=n0(e[e.length-1]))):e instanceof Map&&(n=n0(e)),n||r?new v0(t,n,r):null}var Sa=class Sa{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=Sa.initialStylesByElement.get(e);i||Sa.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&zr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(zr(this._element,this._initialStyles),this._endStyles&&(zr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Sa.initialStylesByElement.delete(this._element),this._startStyles&&(ls(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ls(this._element,this._endStyles),this._endStyles=null),zr(this._element,this._initialStyles),this._state=3)}};Sa.initialStylesByElement=new WeakMap;var v0=Sa;function n0(t){let e=null;return t.forEach((n,r)=>{z$(r)&&(e=e||new Map,e.set(r,n))}),e}function z$(t){return t==="display"||t==="position"}var Pf=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:b0(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Of=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return NA(e,n)}getParentElement(e){return E0(e)}query(e,n,r){return FA(e,n,r)}computeStyle(e,n,r){return b0(e,n)}animate(e,n,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,u=s.filter(m=>m instanceof Pf);l$(r,i)&&u.forEach(m=>{m.currentSnapshot.forEach((w,b)=>l.set(b,w))});let d=s$(n).map(m=>new Map(m));d=u$(e,d,l);let h=$$(e,d);return new Pf(e,d,c,h)}};var If="@",GA="@.disabled",Rf=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==If&&n==GA?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},y0=class extends Rf{constructor(e,n,r,i,o){super(n,r,i,o),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==If?n.charAt(1)=="."&&n==GA?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==If){let i=H$(e),o=n.slice(1),s="";return o.charAt(0)!=If&&([o,s]=q$(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,n,r)}};function H$(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function q$(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var kf=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,o)=>{let s=o?.parentNode(i);s&&o.removeChild(s,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let d=()=>l.delete(i);u=new Rf(r,i,this.engine,d),l.set(i,u)}return u}let o=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return n.data.animation.forEach(a),new y0(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var W$=(()=>{let e=class e extends Da{constructor(r,i,o){super(r,i,o,j(gc,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(R(qt),R(us),R(ds))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})();function K$(){return new Sf}function Q$(t,e,n){return new kf(t,e,n)}var WA=[{provide:ds,useFactory:K$},{provide:Da,useClass:W$},{provide:Lo,useFactory:Q$,deps:[gf,Da,De]}],Y$=[{provide:us,useFactory:()=>new Of},{provide:kg,useValue:"BrowserAnimations"},...WA],hee=[{provide:us,useClass:C0},{provide:kg,useValue:"NoopAnimations"},...WA];function KA(){return ui("NgEagerAnimations"),[...Y$]}var me="primary",$l=Symbol("RouteTitle"),P0=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Oa(t){return new P0(t)}function J$(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Z$(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Hr(t[n],e[n]))return!1;return!0}function Hr(t,e){let n=t?O0(t):void 0,r=e?O0(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!ex(t[i],e[i]))return!1;return!0}function O0(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ex(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function tx(t){return t.length>0?t[t.length-1]:null}function ho(t){return Wp(t)?t:Ho(t)?ze(Promise.resolve(t)):ce(t)}var e4={exact:rx,subset:ix},nx={exact:t4,subset:n4,ignored:()=>!0};function QA(t,e,n){return e4[n.paths](t.root,e.root,n.matrixParams)&&nx[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function t4(t,e){return Hr(t,e)}function rx(t,e,n){if(!fs(t.segments,e.segments)||!Vf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!rx(t.children[r],e.children[r],n))return!1;return!0}function n4(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ex(t[n],e[n]))}function ix(t,e,n){return ox(t,e,e.segments,n)}function ox(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!fs(i,n)||e.hasChildren()||!Vf(i,n,r))}else if(t.segments.length===n.length){if(!fs(t.segments,n)||!Vf(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!ix(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!fs(t.segments,i)||!Vf(t.segments,i,r)||!t.children[me]?!1:ox(t.children[me],e,o,r)}}function Vf(t,e,n){return e.every((r,i)=>nx[n](t[i].parameters,r.parameters))}var co=class{constructor(e=new Le([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Oa(this.queryParams),this._queryParamMap}toString(){return o4.serialize(this)}},Le=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lf(this)}},hs=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Oa(this.parameters),this._parameterMap}toString(){return ax(this)}};function r4(t,e){return fs(t,e)&&t.every((n,r)=>Hr(n.parameters,e[r].parameters))}function fs(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function i4(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===me&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==me&&(n=n.concat(e(i,r)))}),n}var iw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>new Uf,providedIn:"root"});let t=e;return t})(),Uf=class{parse(e){let n=new k0(e);return new co(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Al(e.root,!0)}`,r=c4(e.queryParams),i=typeof e.fragment=="string"?`#${s4(e.fragment)}`:"";return`${n}${r}${i}`}},o4=new Uf;function Lf(t){return t.segments.map(e=>ax(e)).join("/")}function Al(t,e){if(!t.hasChildren())return Lf(t);if(e){let n=t.children[me]?Al(t.children[me],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==me&&r.push(`${i}:${Al(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=i4(t,(r,i)=>i===me?[Al(t.children[me],!1)]:[`${i}:${Al(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[me]!=null?`${Lf(t)}/${n[0]}`:`${Lf(t)}/(${n.join("//")})`}}function sx(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nf(t){return sx(t).replace(/%3B/gi,";")}function s4(t){return encodeURI(t)}function R0(t){return sx(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jf(t){return decodeURIComponent(t)}function YA(t){return jf(t.replace(/\+/g,"%20"))}function ax(t){return`${R0(t.path)}${a4(t.parameters)}`}function a4(t){return Object.entries(t).map(([e,n])=>`;${R0(e)}=${R0(n)}`).join("")}function c4(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Nf(n)}=${Nf(i)}`).join("&"):`${Nf(n)}=${Nf(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var l4=/^[^\/()?;#]+/;function D0(t){let e=t.match(l4);return e?e[0]:""}var u4=/^[^\/()?;=#]+/;function d4(t){let e=t.match(u4);return e?e[0]:""}var h4=/^[^=?&#]+/;function f4(t){let e=t.match(h4);return e?e[0]:""}var p4=/^[^&#]+/;function m4(t){let e=t.match(p4);return e?e[0]:""}var k0=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Le([],{}):new Le([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[me]=new Le(e,n)),r}parseSegment(){let e=D0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new hs(jf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=d4(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=D0(this.remaining);i&&(r=i,this.capture(r))}e[jf(n)]=jf(r)}parseQueryParam(e){let n=f4(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=m4(this.remaining);s&&(r=s,this.capture(r))}let i=YA(n),o=YA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=D0(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new L(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=me);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[me]:new Le([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function cx(t){return t.segments.length>0?new Le([],{[me]:t}):t}function lx(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=lx(i);if(r===me&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Le(t.segments,e);return g4(n)}function g4(t){if(t.numberOfChildren===1&&t.children[me]){let e=t.children[me];return new Le(t.segments.concat(e.segments),e.children)}return t}function Ra(t){return t instanceof co}function v4(t,e,n=null,r=null){let i=ux(t);return dx(i,e,n,r)}function ux(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Le(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=cx(r);return e??i}function dx(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return A0(i,i,i,n,r);let o=y4(e);if(o.toRoot())return A0(i,i,new Le([],{}),n,r);let s=_4(o,i,t),a=s.processChildren?Pl(s.segmentGroup,s.index,o.commands):fx(s.segmentGroup,s.index,o.commands);return A0(i,s.segmentGroup,a,n,r)}function Bf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function kl(t){return typeof t=="object"&&t!=null&&t.outlets}function A0(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=hx(t,e,n);let a=cx(lx(s));return new co(a,o,i)}function hx(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=hx(o,e,n)}),new Le(t.segments,r)}var $f=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Bf(r[0]))throw new L(4003,!1);let i=r.find(kl);if(i&&i!==tx(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function y4(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new $f(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new $f(n,e,r)}var Ma=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function _4(t,e,n){if(t.isAbsolute)return new Ma(e,!0,0);if(!n)return new Ma(e,!1,NaN);if(n.parent===null)return new Ma(n,!0,0);let r=Bf(t.commands[0])?0:1,i=n.segments.length-1+r;return w4(n,i,t.numberOfDoubleDots)}function w4(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new Ma(r,!1,i-o)}function E4(t){return kl(t[0])?t[0].outlets:{[me]:t}}function fx(t,e,n){if(t??=new Le([],{}),t.segments.length===0&&t.hasChildren())return Pl(t,e,n);let r=C4(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Le(t.segments.slice(0,r.pathIndex),{});return o.children[me]=new Le(t.segments.slice(r.pathIndex),t.children),Pl(o,0,i)}else return r.match&&i.length===0?new Le(t.segments,{}):r.match&&!t.hasChildren()?N0(t,e,n):r.match?Pl(t,0,i):N0(t,e,n)}function Pl(t,e,n){if(n.length===0)return new Le(t.segments,{});{let r=E4(n),i={};if(Object.keys(r).some(o=>o!==me)&&t.children[me]&&t.numberOfChildren===1&&t.children[me].segments.length===0){let o=Pl(t.children[me],e,n);return new Le(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=fx(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Le(t.segments,i)}}function C4(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(kl(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!JA(c,l,s))return o;r+=2}else{if(!JA(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function N0(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(kl(o)){let c=I4(o.outlets);return new Le(r,c)}if(i===0&&Bf(n[0])){let c=t.segments[e];r.push(new hs(c.path,XA(n[0]))),i++;continue}let s=kl(o)?o.outlets[me]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Bf(a)?(r.push(new hs(s,XA(a))),i+=2):(r.push(new hs(s,{})),i++)}return new Le(r,{})}function I4(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=N0(new Le([],{}),0,r))}),e}function XA(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function JA(t,e,n){return t==n.path&&Hr(e,n.parameters)}var Ol="imperative",Qt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Qt||{}),Kn=class{constructor(e,n){this.id=e,this.url=n}},Nl=class extends Kn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Qt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ps=class extends Kn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Qt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Wn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Wn||{}),F0=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(F0||{}),lo=class extends Kn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Qt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ms=class extends Kn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Qt.NavigationSkipped}},Fl=class extends Kn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Qt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},zf=class extends Kn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},V0=class extends Kn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},L0=class extends Kn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Qt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},j0=class extends Kn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},U0=class extends Kn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},B0=class{constructor(e){this.route=e,this.type=Qt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},$0=class{constructor(e){this.route=e,this.type=Qt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},z0=class{constructor(e){this.snapshot=e,this.type=Qt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},H0=class{constructor(e){this.snapshot=e,this.type=Qt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},q0=class{constructor(e){this.snapshot=e,this.type=Qt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},G0=class{constructor(e){this.snapshot=e,this.type=Qt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Vl=class{},Ll=class{constructor(e){this.url=e}};var W0=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Qf,this.attachRef=null}},Qf=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new W0,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Hf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=K0(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=K0(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Q0(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Q0(e,this._root).map(n=>n.value)}};function K0(t,e){if(t===e.value)return e;for(let n of e.children){let r=K0(t,n);if(r)return r}return null}function Q0(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Q0(t,n);if(r.length)return r.unshift(e),r}return[]}var Nn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function xa(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var qf=class extends Hf{constructor(e,n){super(e),this.snapshot=n,sw(this,e)}toString(){return this.snapshot.toString()}};function px(t){let e=b4(t),n=new Ut([new hs("",{})]),r=new Ut({}),i=new Ut({}),o=new Ut({}),s=new Ut(""),a=new uo(n,r,o,s,i,me,t,e.root);return a.snapshot=e.root,new qf(new Nn(a,[]),e)}function b4(t){let e={},n={},r={},i="",o=new jl([],e,r,i,n,me,t,null,{});return new Gf("",new Nn(o,[]))}var uo=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ie(l=>l[$l]))??ce(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>Oa(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>Oa(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ow(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),t.params),data:V(V({},e.data),t.data),resolve:V(V(V(V({},t.data),e.data),i?.data),t._resolvedData)}:r={params:V({},t.params),data:V({},t.data),resolve:V(V({},t.data),t._resolvedData??{})},i&&gx(i)&&(r.resolve[$l]=i.title),r}var jl=class{get title(){return this.data?.[$l]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Oa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Oa(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Gf=class extends Hf{constructor(e,n){super(n),this.url=e,sw(this,n)}toString(){return mx(this._root)}};function sw(t,e){e.value._routerState=t,e.children.forEach(n=>sw(t,n))}function mx(t){let e=t.children.length>0?` { ${t.children.map(mx).join(", ")} } `:"";return`${t.value}${e}`}function x0(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Hr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Hr(e.params,n.params)||t.paramsSubject.next(n.params),Z$(e.url,n.url)||t.urlSubject.next(n.url),Hr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Y0(t,e){let n=Hr(t.params,e.params)&&r4(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Y0(t.parent,e.parent))}function gx(t){return typeof t.title=="string"||t.title===null}var aw=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=me,this.activateEvents=new it,this.deactivateEvents=new it,this.attachEvents=new it,this.detachEvents=new it,this.parentContexts=j(Qf),this.location=j(zt),this.changeDetector=j(kr),this.environmentInjector=j(xt),this.inputBinder=j(cw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new X0(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ke({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[si]});let t=e;return t})(),X0=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===uo?this.route:e===Qf?this.childContexts:this.parent.get(e,n)}},cw=new Y("");function T4(t,e,n){let r=Ul(t,e._root,n?n._root:void 0);return new qf(r,e)}function Ul(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=S4(t,e,n);return new Nn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ul(t,a)),s}}let r=D4(e.value),i=e.children.map(o=>Ul(t,o));return new Nn(r,i)}}function S4(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ul(t,r,i);return Ul(t,r)})}function D4(t){return new uo(new Ut(t.url),new Ut(t.params),new Ut(t.queryParams),new Ut(t.fragment),new Ut(t.data),t.outlet,t.component,t)}var vx="ngNavigationCancelingError";function yx(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ra(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=_x(!1,Wn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function _x(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[vx]=!0,n.cancellationCode=e,n}function A4(t){return wx(t)&&Ra(t.url)}function wx(t){return!!t&&t[vx]}var x4=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["ng-component"]],standalone:!0,features:[K],decls:1,vars:0,template:function(i,o){i&1&&N(0,"router-outlet")},dependencies:[aw],encapsulation:2});let t=e;return t})();function M4(t,e){return t.providers&&!t._injector&&(t._injector=rv(t.providers,e,`Route: ${t.path}`)),t._injector??e}function lw(t){let e=t.children&&t.children.map(lw),n=e?Se(V({},t),{children:e}):V({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==me&&(n.component=x4),n}function qr(t){return t.outlet||me}function P4(t,e){let n=t.filter(r=>qr(r)===e);return n.push(...t.filter(r=>qr(r)!==e)),n}function zl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var O4=(t,e,n,r)=>ie(i=>(new J0(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),J0=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),x0(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=xa(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=xa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=xa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=xa(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new G0(o.value.snapshot))}),e.children.length&&this.forwardEvent(new H0(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(x0(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),x0(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=zl(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Wf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Pa=class{constructor(e,n){this.component=e,this.route=n}};function R4(t,e,n){let r=t._root,i=e?e._root:null;return xl(r,i,n,[r.value])}function k4(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Na(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!rI(t)?t:e.get(t):r}function xl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=xa(e);return t.children.forEach(s=>{N4(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Rl(a,n.getContext(s),i)),i}function N4(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=F4(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Wf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?xl(t,e,a?a.children:null,r,i):xl(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Pa(a.outlet.component,s))}else s&&Rl(e,a,i),i.canActivateChecks.push(new Wf(r)),o.component?xl(t,null,a?a.children:null,r,i):xl(t,null,n,r,i);return i}function F4(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!fs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!fs(t.url,e.url)||!Hr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Y0(t,e)||!Hr(t.queryParams,e.queryParams);case"paramsChange":default:return!Y0(t,e)}}function Rl(t,e,n){let r=xa(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Rl(s,e.children.getContext(o),n):Rl(s,null,n):Rl(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Pa(e.outlet.component,i)):n.canDeactivateChecks.push(new Pa(null,i)):n.canDeactivateChecks.push(new Pa(null,i))}function Hl(t){return typeof t=="function"}function V4(t){return typeof t=="boolean"}function L4(t){return t&&Hl(t.canLoad)}function j4(t){return t&&Hl(t.canActivate)}function U4(t){return t&&Hl(t.canActivateChild)}function B4(t){return t&&Hl(t.canDeactivate)}function $4(t){return t&&Hl(t.canMatch)}function Ex(t){return t instanceof xn||t?.name==="EmptyError"}var Ff=Symbol("INITIAL_VALUE");function ka(){return At(t=>Qu(t.map(e=>e.pipe(Xr(1),Zp(Ff)))).pipe(ie(e=>{for(let n of e)if(n!==!0){if(n===Ff)return Ff;if(n===!1||n instanceof co)return n}return!0}),tn(e=>e!==Ff),Xr(1)))}function z4(t,e){return ut(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ce(Se(V({},n),{guardsResult:!0})):H4(s,r,i,t).pipe(ut(a=>a&&V4(a)?q4(r,o,t,e):ce(a)),ie(a=>Se(V({},n),{guardsResult:a})))})}function H4(t,e,n,r){return ze(t).pipe(ut(i=>Y4(i.component,i.route,n,e,r)),Er(i=>i!==!0,!0))}function q4(t,e,n,r){return ze(e).pipe(ki(i=>$s(W4(i.route.parent,r),G4(i.route,r),Q4(t,i.path,n),K4(t,i.route,n))),Er(i=>i!==!0,!0))}function G4(t,e){return t!==null&&e&&e(new q0(t)),ce(!0)}function W4(t,e){return t!==null&&e&&e(new z0(t)),ce(!0)}function K4(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ce(!0);let i=r.map(o=>Yu(()=>{let s=zl(e)??n,a=Na(o,s),c=j4(a)?a.canActivate(e,t):oi(s,()=>a(e,t));return ho(c).pipe(Er())}));return ce(i).pipe(ka())}function Q4(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>k4(s)).filter(s=>s!==null).map(s=>Yu(()=>{let a=s.guards.map(c=>{let l=zl(s.node)??n,u=Na(c,l),d=U4(u)?u.canActivateChild(r,t):oi(l,()=>u(r,t));return ho(d).pipe(Er())});return ce(a).pipe(ka())}));return ce(o).pipe(ka())}function Y4(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ce(!0);let s=o.map(a=>{let c=zl(e)??i,l=Na(a,c),u=B4(l)?l.canDeactivate(t,e,n,r):oi(c,()=>l(t,e,n,r));return ho(u).pipe(Er())});return ce(s).pipe(ka())}function X4(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ce(!0);let o=i.map(s=>{let a=Na(s,t),c=L4(a)?a.canLoad(e,n):oi(t,()=>a(e,n));return ho(c)});return ce(o).pipe(ka(),Cx(r))}function Cx(t){return Lp(dt(e=>{if(Ra(e))throw yx(t,e)}),ie(e=>e===!0))}function J4(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ce(!0);let o=i.map(s=>{let a=Na(s,t),c=$4(a)?a.canMatch(e,n):oi(t,()=>a(e,n));return ho(c)});return ce(o).pipe(ka(),Cx(r))}var Bl=class{constructor(e){this.segmentGroup=e||null}},Kf=class extends Error{constructor(e){super(),this.urlTree=e}};function Aa(t){return Ri(new Bl(t))}function Z4(t){return Ri(new L(4e3,!1))}function ez(t){return Ri(_x(!1,Wn.GuardRejected))}var Z0=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ce(r);if(i.numberOfChildren>1||!i.children[me])return Z4(e.redirectTo);i=i.children[me]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Kf(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new co(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Le(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},ew={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tz(t,e,n,r,i){let o=uw(t,e,n);return o.matched?(r=M4(e,r),J4(r,e,n,i).pipe(ie(s=>s===!0?o:V({},ew)))):ce(o)}function uw(t,e,n){if(e.path==="**")return nz(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?V({},ew):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||J$)(n,t,e);if(!i)return V({},ew);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function nz(t){return{matched:!0,parameters:t.length>0?tx(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ZA(t,e,n,r){return n.length>0&&oz(t,n,r)?{segmentGroup:new Le(e,iz(r,new Le(n,t.children))),slicedSegments:[]}:n.length===0&&sz(t,n,r)?{segmentGroup:new Le(t.segments,rz(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Le(t.segments,t.children),slicedSegments:n}}function rz(t,e,n,r){let i={};for(let o of n)if(Yf(t,e,o)&&!r[qr(o)]){let s=new Le([],{});i[qr(o)]=s}return V(V({},r),i)}function iz(t,e){let n={};n[me]=e;for(let r of t)if(r.path===""&&qr(r)!==me){let i=new Le([],{});n[qr(r)]=i}return n}function oz(t,e,n){return n.some(r=>Yf(t,e,r)&&qr(r)!==me)}function sz(t,e,n){return n.some(r=>Yf(t,e,r))}function Yf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function az(t,e,n,r){return qr(t)!==r&&(r===me||!Yf(e,n,t))?!1:uw(e,t,n).matched}function cz(t,e,n){return e.length===0&&!t.children[n]}var tw=class{};function lz(t,e,n,r,i,o,s="emptyOnly"){return new nw(t,e,n,r,i,s,o).recognize()}var uz=31,nw=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Z0(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}recognize(){let e=ZA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(n=>{let r=new jl([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,{},me,this.rootComponentType,null,{}),i=new Nn(r,n),o=new Gf("",i),s=v4(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,me).pipe(er(r=>{if(r instanceof Kf)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Bl?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=ow(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(ie(o=>o instanceof Nn?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return ze(i).pipe(ki(o=>{let s=r.children[o],a=P4(n,o);return this.processSegmentGroup(e,a,s,o)}),Jp((o,s)=>(o.push(...s),o)),Ni(null),Xp(),ut(o=>{if(o===null)return Aa(r);let s=Ix(o);return dz(s),ce(s)}))}processSegment(e,n,r,i,o,s){return ze(n).pipe(ki(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(er(c=>{if(c instanceof Bl)return ce(null);throw c}))),Er(a=>!!a),er(a=>{if(Ex(a))return cz(r,i,o)?ce(new tw):Aa(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return az(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Aa(i):Aa(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=uw(n,i,o);if(!a)return Aa(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>uz&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(ut(h=>this.processSegment(e,r,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=tz(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(At(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(At(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,m=new jl(u,h,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,fz(r),qr(r),r.component??r._loadedComponent??null,r,pz(r)),{segmentGroup:w,slicedSegments:b}=ZA(n,u,d,c);if(b.length===0&&w.hasChildren())return this.processChildren(l,c,w).pipe(ie(x=>x===null?null:new Nn(m,x)));if(c.length===0&&b.length===0)return ce(new Nn(m,[]));let A=qr(r)===o;return this.processSegment(l,c,w,b,A?me:o,!0).pipe(ie(x=>new Nn(m,x instanceof Nn?[x]:[])))}))):Aa(n)))}getChildConfig(e,n,r){return n.children?ce({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ce({routes:n._loadedRoutes,injector:n._loadedInjector}):X4(e,n,r,this.urlSerializer).pipe(ut(i=>i?this.configLoader.loadChildren(e,n).pipe(dt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):ez(n))):ce({routes:[],injector:e})}};function dz(t){t.sort((e,n)=>e.value.outlet===me?-1:n.value.outlet===me?1:e.value.outlet.localeCompare(n.value.outlet))}function hz(t){let e=t.value.routeConfig;return e&&e.path===""}function Ix(t){let e=[],n=new Set;for(let r of t){if(!hz(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Ix(r.children);e.push(new Nn(r.value,i))}return e.filter(r=>!n.has(r))}function fz(t){return t.data||{}}function pz(t){return t.resolve||{}}function mz(t,e,n,r,i,o){return ut(s=>lz(t,e,n,r,s.extractedUrl,i,o).pipe(ie(({state:a,tree:c})=>Se(V({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function gz(t,e){return ut(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ce(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of bx(c))s.add(l);let a=0;return ze(s).pipe(ki(c=>o.has(c)?vz(c,r,t,e):(c.data=ow(c,c.parent,t).resolve,ce(void 0))),dt(()=>a++),Hs(1),ut(c=>a===s.size?ce(n):gn))})}function bx(t){let e=t.children.map(n=>bx(n)).flat();return[t,...e]}function vz(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!gx(i)&&(o[$l]=i.title),yz(o,t,e,r).pipe(ie(s=>(t._resolvedData=s,t.data=ow(t,t.parent,n).resolve,null)))}function yz(t,e,n,r){let i=O0(t);if(i.length===0)return ce({});let o={};return ze(i).pipe(ut(s=>_z(t[s],e,n,r).pipe(Er(),dt(a=>{o[s]=a}))),Hs(1),Yp(o),er(s=>Ex(s)?gn:Ri(s)))}function _z(t,e,n,r){let i=zl(e)??r,o=Na(t,i),s=o.resolve?o.resolve(e,n):oi(i,()=>o(e,n));return ho(s)}function M0(t){return At(e=>{let n=t(e);return n?ze(n).pipe(ie(()=>e)):ce(e)})}var Tx=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===me);return i}getResolvedTitleForRoute(r){return r.data[$l]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>j(wz),providedIn:"root"});let t=e;return t})(),wz=(()=>{let e=class e extends Tx{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(R(gA))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Xf=new Y("",{providedIn:"root",factory:()=>({})}),dw=new Y(""),Ez=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=j(cv)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ce(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ho(r.loadComponent()).pipe(ie(Sx),dt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Ao(()=>{this.componentLoaders.delete(r)})),o=new Ns(i,()=>new jt).pipe(ks());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ce({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=Cz(i,this.compiler,r,this.onLoadEndListener).pipe(Ao(()=>{this.childrenLoaders.delete(i)})),a=new Ns(s,()=>new jt).pipe(ks());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Cz(t,e,n,r){return ho(t.loadChildren()).pipe(ie(Sx),ut(i=>i instanceof vc||Array.isArray(i)?ce(i):ze(e.compileModuleAsync(i))),ie(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(dw,[],{optional:!0,self:!0}).flat()),{routes:s.map(lw),injector:o}}))}function Iz(t){return t&&typeof t=="object"&&"default"in t}function Sx(t){return Iz(t)?t.default:t}var hw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>j(bz),providedIn:"root"});let t=e;return t})(),bz=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Tz=new Y("");var Sz=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new jt,this.transitionAbortSubject=new jt,this.configLoader=j(Ez),this.environmentInjector=j(xt),this.urlSerializer=j(iw),this.rootContexts=j(Qf),this.location=j(Dc),this.inputBindingEnabled=j(cw,{optional:!0})!==null,this.titleStrategy=j(Tx),this.options=j(Xf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=j(hw),this.createViewTransition=j(Tz,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ce(void 0),this.rootComponentType=null;let r=o=>this.events.next(new B0(o)),i=o=>this.events.next(new $0(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Se(V(V({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Ut({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ol,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(tn(s=>s.id!==0),ie(s=>Se(V({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),At(s=>{this.currentTransition=s;let a=!1,c=!1;return ce(s).pipe(dt(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Se(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),At(l=>{let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new ms(l.id,this.urlSerializer.serialize(l.rawUrl),h,F0.IgnoredSameUrlNavigation)),l.resolve(null),gn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ce(l).pipe(At(h=>{let m=this.transitions?.getValue();return this.events.next(new Nl(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),m!==this.transitions?.getValue()?gn:Promise.resolve(h)}),mz(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),dt(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=Se(V({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let m=new zf(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:m,source:w,restoredState:b,extras:A}=l,x=new Nl(h,this.urlSerializer.serialize(m),w,b);this.events.next(x);let z=px(this.rootComponentType).snapshot;return this.currentTransition=s=Se(V({},l),{targetSnapshot:z,urlAfterRedirects:m,extras:Se(V({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,ce(s)}else{let h="";return this.events.next(new ms(l.id,this.urlSerializer.serialize(l.extractedUrl),h,F0.IgnoredByUrlHandlingStrategy)),l.resolve(null),gn}}),dt(l=>{let u=new V0(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),ie(l=>(this.currentTransition=s=Se(V({},l),{guards:R4(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),z4(this.environmentInjector,l=>this.events.next(l)),dt(l=>{if(s.guardsResult=l.guardsResult,Ra(l.guardsResult))throw yx(this.urlSerializer,l.guardsResult);let u=new L0(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),tn(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Wn.GuardRejected),!1)),M0(l=>{if(l.guards.canActivateChecks.length)return ce(l).pipe(dt(u=>{let d=new j0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),At(u=>{let d=!1;return ce(u).pipe(gz(this.paramsInheritanceStrategy,this.environmentInjector),dt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Wn.NoDataFromResolver)}}))}),dt(u=>{let d=new U0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),M0(l=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(dt(m=>{d.component=m}),ie(()=>{})));for(let m of d.children)h.push(...u(m));return h};return Qu(u(l.targetSnapshot.root)).pipe(Ni(null),Xr(1))}),M0(()=>this.afterPreactivation()),At(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?ze(d).pipe(ie(()=>s)):ce(s)}),ie(l=>{let u=T4(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Se(V({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),dt(()=>{this.events.next(new Vl)}),O4(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Xr(1),dt({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ps(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),tr(this.transitionAbortSubject.pipe(dt(l=>{throw l}))),Ao(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",Wn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),er(l=>{if(c=!0,wx(l))this.events.next(new lo(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),A4(l)?this.events.next(new Ll(l.url)):s.resolve(!1);else{this.events.next(new Fl(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return gn}))}))}cancelNavigationTransition(r,i,o){let s=new lo(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Dz(t){return t!==Ol}var Az=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>j(xz),providedIn:"root"});let t=e;return t})(),rw=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},xz=(()=>{let e=class e extends rw{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=$t(e)))(o||e)}})(),e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Dx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>j(Mz),providedIn:"root"});let t=e;return t})(),Mz=(()=>{let e=class e extends Dx{constructor(){super(...arguments),this.location=j(Dc),this.urlSerializer=j(iw),this.options=j(Xf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=j(hw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new co,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=px(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Nl)this.stateMemento=this.createStateMemento();else if(r instanceof ms)this.rawUrlTree=i.initialUrl;else if(r instanceof zf){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Vl?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof lo&&(r.code===Wn.GuardRejected||r.code===Wn.NoDataFromResolver)?this.restoreHistory(i):r instanceof Fl?this.restoreHistory(i,!0):r instanceof ps&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=V(V({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=V(V({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=$t(e)))(o||e)}})(),e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ml=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ml||{});function Pz(t,e){t.events.pipe(tn(n=>n instanceof ps||n instanceof lo||n instanceof Fl||n instanceof ms),ie(n=>n instanceof ps||n instanceof ms?Ml.COMPLETE:(n instanceof lo?n.code===Wn.Redirect||n.code===Wn.SupersededByNewNavigation:!1)?Ml.REDIRECTING:Ml.FAILED),tn(n=>n!==Ml.REDIRECTING),Xr(1)).subscribe(()=>{e()})}function Oz(t){throw t}var Rz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},In=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=j(Jd),this.stateManager=j(Dx),this.options=j(Xf,{optional:!0})||{},this.pendingTasks=j(zo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=j(Sz),this.urlSerializer=j(iw),this.location=j(Dc),this.urlHandlingStrategy=j(hw),this._events=new jt,this.errorHandler=this.options.errorHandler||Oz,this.navigated=!1,this.routeReuseStrategy=j(Az),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=j(dw,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!j(cw,{optional:!0}),this.eventsSubscription=new lt,this.isNgZoneEnabled=j(De)instanceof De&&De.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof lo&&i.code!==Wn.Redirect&&i.code!==Wn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ps)this.navigated=!0;else if(i instanceof Ll){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Dz(o.source)};this.scheduleNavigation(a,Ol,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Fz(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ol,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=V({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(lw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=V(V({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let m=o?o.snapshot:this.routerState.snapshot.root;h=ux(m)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return dx(h,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Ra(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Ol,null,i)}navigate(r,i={skipLocationChange:!1}){return Nz(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=V({},Rz):i===!1?o=V({},kz):o=i,Ra(r))return QA(this.currentUrlTree,r,o);let s=this.parseUrl(r);return QA(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((h,m)=>{c=h,l=m});let d=this.pendingTasks.add();return Pz(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Nz(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new L(4008,!1)}function Fz(t){return!(t instanceof Vl)&&!(t instanceof Ll)}var Vz=new Y("");function Ax(t,...e){return zi([{provide:dw,multi:!0,useValue:t},[],{provide:uo,useFactory:Lz,deps:[In]},{provide:Zd,multi:!0,useFactory:Uz},e.map(n=>n.\u0275providers)])}function Lz(t){return t.routerState.root}function jz(t,e){return{\u0275kind:t,\u0275providers:e}}function Uz(){let t=j(Ge);return e=>{let n=t.get(Rr);if(e!==n.components[0])return;let r=t.get(In),i=t.get(Bz);t.get($z)===1&&r.initialNavigation(),t.get(zz,null,we.Optional)?.setUpPreloading(),t.get(Vz,null,we.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Bz=new Y("",{factory:()=>new jt}),$z=new Y("",{providedIn:"root",factory:()=>1});var zz=new Y("");function xx(t){return jz(5,[{provide:Xf,useValue:t}])}var st="top",bt="bottom",yt="right",pt="left",Jf="auto",fo=[st,bt,yt,pt],Ii="start",gs="end",Mx="clippingParents",Zf="viewport",Fa="popper",Px="reference",pw=fo.reduce(function(t,e){return t.concat([e+"-"+Ii,e+"-"+gs])},[]),ep=[].concat(fo,[Jf]).reduce(function(t,e){return t.concat([e,e+"-"+Ii,e+"-"+gs])},[]),Hz="beforeRead",qz="read",Gz="afterRead",Wz="beforeMain",Kz="main",Qz="afterMain",Yz="beforeWrite",Xz="write",Jz="afterWrite",Ox=[Hz,qz,Gz,Wz,Kz,Qz,Yz,Xz,Jz];function Nt(t){return t?(t.nodeName||"").toLowerCase():null}function Je(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Qn(t){var e=Je(t).Element;return t instanceof e||t instanceof Element}function Tt(t){var e=Je(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Va(t){if(typeof ShadowRoot>"u")return!1;var e=Je(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Zz(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!Tt(o)||!Nt(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function eH(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(c,l){return c[l]="",c},{});!Tt(i)||!Nt(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(c){i.removeAttribute(c)}))})}}var ql={name:"applyStyles",enabled:!0,phase:"write",fn:Zz,effect:eH,requires:["computeStyles"]};function Ft(t){return t.split("-")[0]}var hr=Math.max,vs=Math.min,bi=Math.round;function La(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Gl(){return!/^((?!chrome|android).)*safari/i.test(La())}function Yn(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&Tt(t)&&(i=t.offsetWidth>0&&bi(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&bi(r.height)/t.offsetHeight||1);var s=Qn(t)?Je(t):window,a=s.visualViewport,c=!Gl()&&n,l=(r.left+(c&&a?a.offsetLeft:0))/i,u=(r.top+(c&&a?a.offsetTop:0))/o,d=r.width/i,h=r.height/o;return{width:d,height:h,top:u,right:l+d,bottom:u+h,left:l,x:l,y:u}}function ys(t){var e=Yn(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Wl(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Va(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function fn(t){return Je(t).getComputedStyle(t)}function mw(t){return["table","td","th"].indexOf(Nt(t))>=0}function Yt(t){return((Qn(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ti(t){return Nt(t)==="html"?t:t.assignedSlot||t.parentNode||(Va(t)?t.host:null)||Yt(t)}function Rx(t){return!Tt(t)||fn(t).position==="fixed"?null:t.offsetParent}function tH(t){var e=/firefox/i.test(La()),n=/Trident/i.test(La());if(n&&Tt(t)){var r=fn(t);if(r.position==="fixed")return null}var i=Ti(t);for(Va(i)&&(i=i.host);Tt(i)&&["html","body"].indexOf(Nt(i))<0;){var o=fn(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function fr(t){for(var e=Je(t),n=Rx(t);n&&mw(n)&&fn(n).position==="static";)n=Rx(n);return n&&(Nt(n)==="html"||Nt(n)==="body"&&fn(n).position==="static")?e:n||tH(t)||e}function _s(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ws(t,e,n){return hr(t,vs(e,n))}function kx(t,e,n){var r=ws(t,e,n);return r>n?n:r}function Kl(){return{top:0,right:0,bottom:0,left:0}}function Ql(t){return Object.assign({},Kl(),t)}function Yl(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var nH=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Ql(typeof e!="number"?e:Yl(e,fo))};function rH(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Ft(n.placement),c=_s(a),l=[pt,yt].indexOf(a)>=0,u=l?"height":"width";if(!(!o||!s)){var d=nH(i.padding,n),h=ys(o),m=c==="y"?st:pt,w=c==="y"?bt:yt,b=n.rects.reference[u]+n.rects.reference[c]-s[c]-n.rects.popper[u],A=s[c]-n.rects.reference[c],x=fr(o),z=x?c==="y"?x.clientHeight||0:x.clientWidth||0:0,q=b/2-A/2,g=d[m],ee=z-h[u]-d[w],O=z/2-h[u]/2+q,X=ws(g,O,ee),de=c;n.modifiersData[r]=(e={},e[de]=X,e.centerOffset=X-O,e)}}function iH(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Wl(e.elements.popper,i)&&(e.elements.arrow=i))}var Nx={name:"arrow",enabled:!0,phase:"main",fn:rH,effect:iH,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xn(t){return t.split("-")[1]}var oH={top:"auto",right:"auto",bottom:"auto",left:"auto"};function sH(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:bi(n*i)/i||0,y:bi(r*i)/i||0}}function Fx(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,c=t.gpuAcceleration,l=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=s.x,m=h===void 0?0:h,w=s.y,b=w===void 0?0:w,A=typeof u=="function"?u({x:m,y:b}):{x:m,y:b};m=A.x,b=A.y;var x=s.hasOwnProperty("x"),z=s.hasOwnProperty("y"),q=pt,g=st,ee=window;if(l){var O=fr(n),X="clientHeight",de="clientWidth";if(O===Je(n)&&(O=Yt(n),fn(O).position!=="static"&&a==="absolute"&&(X="scrollHeight",de="scrollWidth")),O=O,i===st||(i===pt||i===yt)&&o===gs){g=bt;var Te=d&&O===ee&&ee.visualViewport?ee.visualViewport.height:O[X];b-=Te-r.height,b*=c?1:-1}if(i===pt||(i===st||i===bt)&&o===gs){q=yt;var Me=d&&O===ee&&ee.visualViewport?ee.visualViewport.width:O[de];m-=Me-r.width,m*=c?1:-1}}var rt=Object.assign({position:a},l&&oH),Ve=u===!0?sH({x:m,y:b},Je(n)):{x:m,y:b};if(m=Ve.x,b=Ve.y,c){var $e;return Object.assign({},rt,($e={},$e[g]=z?"0":"",$e[q]=x?"0":"",$e.transform=(ee.devicePixelRatio||1)<=1?"translate("+m+"px, "+b+"px)":"translate3d("+m+"px, "+b+"px, 0)",$e))}return Object.assign({},rt,(e={},e[g]=z?b+"px":"",e[q]=x?m+"px":"",e.transform="",e))}function aH(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,c=a===void 0?!0:a,l={placement:Ft(e.placement),variation:Xn(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Fx(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Fx(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Vx={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:aH,data:{}};var tp={passive:!0};function cH(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,c=Je(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&l.forEach(function(u){u.addEventListener("scroll",n.update,tp)}),a&&c.addEventListener("resize",n.update,tp),function(){o&&l.forEach(function(u){u.removeEventListener("scroll",n.update,tp)}),a&&c.removeEventListener("resize",n.update,tp)}}var Lx={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:cH,data:{}};var lH={left:"right",right:"left",bottom:"top",top:"bottom"};function ja(t){return t.replace(/left|right|bottom|top/g,function(e){return lH[e]})}var uH={start:"end",end:"start"};function np(t){return t.replace(/start|end/g,function(e){return uH[e]})}function Es(t){var e=Je(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Cs(t){return Yn(Yt(t)).left+Es(t).scrollLeft}function gw(t,e){var n=Je(t),r=Yt(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;var l=Gl();(l||!l&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a+Cs(t),y:c}}function vw(t){var e,n=Yt(t),r=Es(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=hr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=hr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Cs(t),c=-r.scrollTop;return fn(i||n).direction==="rtl"&&(a+=hr(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:c}}function Is(t){var e=fn(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function rp(t){return["html","body","#document"].indexOf(Nt(t))>=0?t.ownerDocument.body:Tt(t)&&Is(t)?t:rp(Ti(t))}function po(t,e){var n;e===void 0&&(e=[]);var r=rp(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Je(r),s=i?[o].concat(o.visualViewport||[],Is(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(po(Ti(s)))}function Ua(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function dH(t,e){var n=Yn(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function jx(t,e,n){return e===Zf?Ua(gw(t,n)):Qn(e)?dH(e,n):Ua(vw(Yt(t)))}function hH(t){var e=po(Ti(t)),n=["absolute","fixed"].indexOf(fn(t).position)>=0,r=n&&Tt(t)?fr(t):t;return Qn(r)?e.filter(function(i){return Qn(i)&&Wl(i,r)&&Nt(i)!=="body"}):[]}function yw(t,e,n,r){var i=e==="clippingParents"?hH(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(c,l){var u=jx(t,l,r);return c.top=hr(u.top,c.top),c.right=vs(u.right,c.right),c.bottom=vs(u.bottom,c.bottom),c.left=hr(u.left,c.left),c},jx(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Xl(t){var e=t.reference,n=t.element,r=t.placement,i=r?Ft(r):null,o=r?Xn(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,c;switch(i){case st:c={x:s,y:e.y-n.height};break;case bt:c={x:s,y:e.y+e.height};break;case yt:c={x:e.x+e.width,y:a};break;case pt:c={x:e.x-n.width,y:a};break;default:c={x:e.x,y:e.y}}var l=i?_s(i):null;if(l!=null){var u=l==="y"?"height":"width";switch(o){case Ii:c[l]=c[l]-(e[u]/2-n[u]/2);break;case gs:c[l]=c[l]+(e[u]/2-n[u]/2);break;default:}}return c}function pr(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,c=a===void 0?Mx:a,l=n.rootBoundary,u=l===void 0?Zf:l,d=n.elementContext,h=d===void 0?Fa:d,m=n.altBoundary,w=m===void 0?!1:m,b=n.padding,A=b===void 0?0:b,x=Ql(typeof A!="number"?A:Yl(A,fo)),z=h===Fa?Px:Fa,q=t.rects.popper,g=t.elements[w?z:h],ee=yw(Qn(g)?g:g.contextElement||Yt(t.elements.popper),c,u,s),O=Yn(t.elements.reference),X=Xl({reference:O,element:q,strategy:"absolute",placement:i}),de=Ua(Object.assign({},q,X)),Te=h===Fa?de:O,Me={top:ee.top-Te.top+x.top,bottom:Te.bottom-ee.bottom+x.bottom,left:ee.left-Te.left+x.left,right:Te.right-ee.right+x.right},rt=t.modifiersData.offset;if(h===Fa&&rt){var Ve=rt[i];Object.keys(Me).forEach(function($e){var Jt=[yt,bt].indexOf($e)>=0?1:-1,Zt=[st,bt].indexOf($e)>=0?"y":"x";Me[$e]+=Ve[Zt]*Jt})}return Me}function _w(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,l=c===void 0?ep:c,u=Xn(r),d=u?a?pw:pw.filter(function(w){return Xn(w)===u}):fo,h=d.filter(function(w){return l.indexOf(w)>=0});h.length===0&&(h=d);var m=h.reduce(function(w,b){return w[b]=pr(t,{placement:b,boundary:i,rootBoundary:o,padding:s})[Ft(b)],w},{});return Object.keys(m).sort(function(w,b){return m[w]-m[b]})}function fH(t){if(Ft(t)===Jf)return[];var e=ja(t);return[np(t),e,np(e)]}function pH(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,m=n.flipVariations,w=m===void 0?!0:m,b=n.allowedAutoPlacements,A=e.options.placement,x=Ft(A),z=x===A,q=c||(z||!w?[ja(A)]:fH(A)),g=[A].concat(q).reduce(function(Pe,mn){return Pe.concat(Ft(mn)===Jf?_w(e,{placement:mn,boundary:u,rootBoundary:d,padding:l,flipVariations:w,allowedAutoPlacements:b}):mn)},[]),ee=e.rects.reference,O=e.rects.popper,X=new Map,de=!0,Te=g[0],Me=0;Me<g.length;Me++){var rt=g[Me],Ve=Ft(rt),$e=Xn(rt)===Ii,Jt=[st,bt].indexOf(Ve)>=0,Zt=Jt?"width":"height",U=pr(e,{placement:rt,boundary:u,rootBoundary:d,altBoundary:h,padding:l}),$=Jt?$e?yt:pt:$e?bt:st;ee[Zt]>O[Zt]&&($=ja($));var H=ja($),ue=[];if(o&&ue.push(U[Ve]<=0),a&&ue.push(U[$]<=0,U[H]<=0),ue.every(function(Pe){return Pe})){Te=rt,de=!1;break}X.set(rt,ue)}if(de)for(var je=w?3:1,St=function(mn){var Jn=g.find(function(et){var Lt=X.get(et);if(Lt)return Lt.slice(0,mn).every(function(wt){return wt})});if(Jn)return Te=Jn,"break"},Ye=je;Ye>0;Ye--){var en=St(Ye);if(en==="break")break}e.placement!==Te&&(e.modifiersData[r]._skip=!0,e.placement=Te,e.reset=!0)}}var Ux={name:"flip",enabled:!0,phase:"main",fn:pH,requiresIfExists:["offset"],data:{_skip:!1}};function Bx(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function $x(t){return[st,yt,bt,pt].some(function(e){return t[e]>=0})}function mH(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=pr(e,{elementContext:"reference"}),a=pr(e,{altBoundary:!0}),c=Bx(s,r),l=Bx(a,i,o),u=$x(c),d=$x(l);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var zx={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:mH};function gH(t,e,n){var r=Ft(t),i=[pt,st].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[pt,yt].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function vH(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=ep.reduce(function(u,d){return u[d]=gH(d,e.rects,o),u},{}),a=s[e.placement],c=a.x,l=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=s}var Hx={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:vH};function yH(t){var e=t.state,n=t.name;e.modifiersData[n]=Xl({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var qx={name:"popperOffsets",enabled:!0,phase:"read",fn:yH,data:{}};function ww(t){return t==="x"?"y":"x"}function _H(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,m=h===void 0?!0:h,w=n.tetherOffset,b=w===void 0?0:w,A=pr(e,{boundary:c,rootBoundary:l,padding:d,altBoundary:u}),x=Ft(e.placement),z=Xn(e.placement),q=!z,g=_s(x),ee=ww(g),O=e.modifiersData.popperOffsets,X=e.rects.reference,de=e.rects.popper,Te=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,Me=typeof Te=="number"?{mainAxis:Te,altAxis:Te}:Object.assign({mainAxis:0,altAxis:0},Te),rt=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Ve={x:0,y:0};if(O){if(o){var $e,Jt=g==="y"?st:pt,Zt=g==="y"?bt:yt,U=g==="y"?"height":"width",$=O[g],H=$+A[Jt],ue=$-A[Zt],je=m?-de[U]/2:0,St=z===Ii?X[U]:de[U],Ye=z===Ii?-de[U]:-X[U],en=e.elements.arrow,Pe=m&&en?ys(en):{width:0,height:0},mn=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Kl(),Jn=mn[Jt],et=mn[Zt],Lt=ws(0,X[U],Pe[U]),wt=q?X[U]/2-je-Lt-Jn-Me.mainAxis:St-Lt-Jn-Me.mainAxis,Dn=q?-X[U]/2+je+Lt+et+Me.mainAxis:Ye+Lt+et+Me.mainAxis,yr=e.elements.arrow&&fr(e.elements.arrow),lu=yr?g==="y"?yr.clientTop||0:yr.clientLeft||0:0,Qa=($e=rt?.[g])!=null?$e:0,uu=$+wt-Qa-lu,du=$+Dn-Qa,Ya=ws(m?vs(H,uu):H,$,m?hr(ue,du):ue);O[g]=Ya,Ve[g]=Ya-$}if(a){var Xa,hu=g==="x"?st:pt,fu=g==="x"?bt:yt,Yr=O[ee],Ai=ee==="y"?"height":"width",Ja=Yr+A[hu],Co=Yr-A[fu],Za=[st,pt].indexOf(x)!==-1,pu=(Xa=rt?.[ee])!=null?Xa:0,mu=Za?Ja:Yr-X[Ai]-de[Ai]-pu+Me.altAxis,gu=Za?Yr+X[Ai]+de[Ai]-pu-Me.altAxis:Co,vu=m&&Za?kx(mu,Yr,gu):ws(m?mu:Ja,Yr,m?gu:Co);O[ee]=vu,Ve[ee]=vu-Yr}e.modifiersData[r]=Ve}}var Gx={name:"preventOverflow",enabled:!0,phase:"main",fn:_H,requiresIfExists:["offset"]};function Ew(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Cw(t){return t===Je(t)||!Tt(t)?Es(t):Ew(t)}function wH(t){var e=t.getBoundingClientRect(),n=bi(e.width)/t.offsetWidth||1,r=bi(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Iw(t,e,n){n===void 0&&(n=!1);var r=Tt(e),i=Tt(e)&&wH(e),o=Yt(e),s=Yn(t,i,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Nt(e)!=="body"||Is(o))&&(a=Cw(e)),Tt(e)?(c=Yn(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):o&&(c.x=Cs(o))),{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function EH(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var c=e.get(a);c&&i(c)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function bw(t){var e=EH(t);return Ox.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Tw(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Sw(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Wx={placement:"bottom",modifiers:[],strategy:"absolute"};function Kx(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Qx(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?Wx:i;return function(a,c,l){l===void 0&&(l=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Wx,o),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},d=[],h=!1,m={state:u,setOptions:function(x){var z=typeof x=="function"?x(u.options):x;b(),u.options=Object.assign({},o,u.options,z),u.scrollParents={reference:Qn(a)?po(a):a.contextElement?po(a.contextElement):[],popper:po(c)};var q=bw(Sw([].concat(r,u.options.modifiers)));return u.orderedModifiers=q.filter(function(g){return g.enabled}),w(),m.update()},forceUpdate:function(){if(!h){var x=u.elements,z=x.reference,q=x.popper;if(Kx(z,q)){u.rects={reference:Iw(z,fr(q),u.options.strategy==="fixed"),popper:ys(q)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(Me){return u.modifiersData[Me.name]=Object.assign({},Me.data)});for(var g=0;g<u.orderedModifiers.length;g++){if(u.reset===!0){u.reset=!1,g=-1;continue}var ee=u.orderedModifiers[g],O=ee.fn,X=ee.options,de=X===void 0?{}:X,Te=ee.name;typeof O=="function"&&(u=O({state:u,options:de,name:Te,instance:m})||u)}}}},update:Tw(function(){return new Promise(function(A){m.forceUpdate(),A(u)})}),destroy:function(){b(),h=!0}};if(!Kx(a,c))return m;m.setOptions(l).then(function(A){!h&&l.onFirstUpdate&&l.onFirstUpdate(A)});function w(){u.orderedModifiers.forEach(function(A){var x=A.name,z=A.options,q=z===void 0?{}:z,g=A.effect;if(typeof g=="function"){var ee=g({state:u,name:x,instance:m,options:q}),O=function(){};d.push(ee||O)}})}function b(){d.forEach(function(A){return A()}),d=[]}return m}}var CH=[Lx,qx,Vx,ql,Hx,Ux,Gx,Nx,zx],Dw=Qx({defaultModifiers:CH});var IH="tippy-box",oM="tippy-content",bH="tippy-backdrop",sM="tippy-arrow",aM="tippy-svg-arrow",bs={passive:!0,capture:!0},cM=function(){return document.body};function Aw(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function kw(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function lM(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Yx(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function TH(t){return t.split(/\s+/).filter(Boolean)}function Ba(t){return[].concat(t)}function Xx(t,e){t.indexOf(e)===-1&&t.push(e)}function SH(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function DH(t){return t.split("-")[0]}function op(t){return[].slice.call(t)}function Jx(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Jl(){return document.createElement("div")}function sp(t){return["Element","Fragment"].some(function(e){return kw(t,e)})}function AH(t){return kw(t,"NodeList")}function xH(t){return kw(t,"MouseEvent")}function MH(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function PH(t){return sp(t)?[t]:AH(t)?op(t):Array.isArray(t)?t:op(document.querySelectorAll(t))}function xw(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function Zx(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function OH(t){var e,n=Ba(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function RH(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var o=i.popperRect,s=i.popperState,a=i.props,c=a.interactiveBorder,l=DH(s.placement),u=s.modifiersData.offset;if(!u)return!0;var d=l==="bottom"?u.top.y:0,h=l==="top"?u.bottom.y:0,m=l==="right"?u.left.x:0,w=l==="left"?u.right.x:0,b=o.top-r+d>c,A=r-o.bottom-h>c,x=o.left-n+m>c,z=n-o.right-w>c;return b||A||x||z})}function Mw(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function eM(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Gr={isTouch:!1},tM=0;function kH(){Gr.isTouch||(Gr.isTouch=!0,window.performance&&document.addEventListener("mousemove",uM))}function uM(){var t=performance.now();t-tM<20&&(Gr.isTouch=!1,document.removeEventListener("mousemove",uM)),tM=t}function NH(){var t=document.activeElement;if(MH(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function FH(){document.addEventListener("touchstart",kH,bs),window.addEventListener("blur",NH)}var VH=typeof window<"u"&&typeof document<"u",LH=VH?!!window.msCrypto:!1;var jH={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},UH={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},mr=Object.assign({appendTo:cM,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},jH,UH),BH=Object.keys(mr),$H=function(e){var n=Object.keys(e);n.forEach(function(r){mr[r]=e[r]})};function dM(t){var e=t.plugins||[],n=e.reduce(function(r,i){var o=i.name,s=i.defaultValue;if(o){var a;r[o]=t[o]!==void 0?t[o]:(a=mr[o])!=null?a:s}return r},{});return Object.assign({},t,n)}function zH(t,e){var n=e?Object.keys(dM(Object.assign({},mr,{plugins:e}))):BH,r=n.reduce(function(i,o){var s=(t.getAttribute("data-tippy-"+o)||"").trim();if(!s)return i;if(o==="content")i[o]=s;else try{i[o]=JSON.parse(s)}catch{i[o]=s}return i},{});return r}function nM(t,e){var n=Object.assign({},e,{content:lM(e.content,[t])},e.ignoreAttributes?{}:zH(t,e.plugins));return n.aria=Object.assign({},mr.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var HH=function(){return"innerHTML"};function Ow(t,e){t[HH()]=e}function rM(t){var e=Jl();return t===!0?e.className=sM:(e.className=aM,sp(t)?e.appendChild(t):Ow(e,t)),e}function iM(t,e){sp(e.content)?(Ow(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Ow(t,e.content):t.textContent=e.content)}function Rw(t){var e=t.firstElementChild,n=op(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(oM)}),arrow:n.find(function(r){return r.classList.contains(sM)||r.classList.contains(aM)}),backdrop:n.find(function(r){return r.classList.contains(bH)})}}function hM(t){var e=Jl(),n=Jl();n.className=IH,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Jl();r.className=oM,r.setAttribute("data-state","hidden"),iM(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(o,s){var a=Rw(e),c=a.box,l=a.content,u=a.arrow;s.theme?c.setAttribute("data-theme",s.theme):c.removeAttribute("data-theme"),typeof s.animation=="string"?c.setAttribute("data-animation",s.animation):c.removeAttribute("data-animation"),s.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?c.setAttribute("role",s.role):c.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&iM(l,t.props),s.arrow?u?o.arrow!==s.arrow&&(c.removeChild(u),c.appendChild(rM(s.arrow))):c.appendChild(rM(s.arrow)):u&&c.removeChild(u)}return{popper:e,onUpdate:i}}hM.$$tippy=!0;var qH=1,ip=[],Pw=[];function GH(t,e){var n=nM(t,Object.assign({},mr,dM(Jx(e)))),r,i,o,s=!1,a=!1,c=!1,l=!1,u,d,h,m=[],w=Yx(uu,n.interactiveDebounce),b,A=qH++,x=null,z=SH(n.plugins),q={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},g={id:A,reference:t,popper:Jl(),popperInstance:x,props:n,state:q,plugins:z,clearDelayTimeouts:mu,setProps:gu,setContent:vu,show:kP,hide:NP,hideWithInteractivity:FP,enable:Za,disable:pu,unmount:VP,destroy:LP};if(!n.render)return g;var ee=n.render(g),O=ee.popper,X=ee.onUpdate;O.setAttribute("data-tippy-root",""),O.id="tippy-"+g.id,g.popper=O,t._tippy=g,O._tippy=g;var de=z.map(function(D){return D.fn(g)}),Te=t.hasAttribute("aria-expanded");return yr(),je(),$(),H("onCreate",[g]),n.showOnCreate&&Ja(),O.addEventListener("mouseenter",function(){g.props.interactive&&g.state.isVisible&&g.clearDelayTimeouts()}),O.addEventListener("mouseleave",function(){g.props.interactive&&g.props.trigger.indexOf("mouseenter")>=0&&Jt().addEventListener("mousemove",w)}),g;function Me(){var D=g.props.touch;return Array.isArray(D)?D:[D,0]}function rt(){return Me()[0]==="hold"}function Ve(){var D;return!!((D=g.props.render)!=null&&D.$$tippy)}function $e(){return b||t}function Jt(){var D=$e().parentNode;return D?OH(D):document}function Zt(){return Rw(O)}function U(D){return g.state.isMounted&&!g.state.isVisible||Gr.isTouch||u&&u.type==="focus"?0:Aw(g.props.delay,D?0:1,mr.delay)}function $(D){D===void 0&&(D=!1),O.style.pointerEvents=g.props.interactive&&!D?"":"none",O.style.zIndex=""+g.props.zIndex}function H(D,Q,oe){if(oe===void 0&&(oe=!0),de.forEach(function(Oe){Oe[D]&&Oe[D].apply(Oe,Q)}),oe){var Ue;(Ue=g.props)[D].apply(Ue,Q)}}function ue(){var D=g.props.aria;if(D.content){var Q="aria-"+D.content,oe=O.id,Ue=Ba(g.props.triggerTarget||t);Ue.forEach(function(Oe){var sn=Oe.getAttribute(Q);if(g.state.isVisible)Oe.setAttribute(Q,sn?sn+" "+oe:oe);else{var Fn=sn&&sn.replace(oe,"").trim();Fn?Oe.setAttribute(Q,Fn):Oe.removeAttribute(Q)}})}}function je(){if(!(Te||!g.props.aria.expanded)){var D=Ba(g.props.triggerTarget||t);D.forEach(function(Q){g.props.interactive?Q.setAttribute("aria-expanded",g.state.isVisible&&Q===$e()?"true":"false"):Q.removeAttribute("aria-expanded")})}}function St(){Jt().removeEventListener("mousemove",w),ip=ip.filter(function(D){return D!==w})}function Ye(D){if(!(Gr.isTouch&&(c||D.type==="mousedown"))){var Q=D.composedPath&&D.composedPath()[0]||D.target;if(!(g.props.interactive&&eM(O,Q))){if(Ba(g.props.triggerTarget||t).some(function(oe){return eM(oe,Q)})){if(Gr.isTouch||g.state.isVisible&&g.props.trigger.indexOf("click")>=0)return}else H("onClickOutside",[g,D]);g.props.hideOnClick===!0&&(g.clearDelayTimeouts(),g.hide(),a=!0,setTimeout(function(){a=!1}),g.state.isMounted||Jn())}}}function en(){c=!0}function Pe(){c=!1}function mn(){var D=Jt();D.addEventListener("mousedown",Ye,!0),D.addEventListener("touchend",Ye,bs),D.addEventListener("touchstart",Pe,bs),D.addEventListener("touchmove",en,bs)}function Jn(){var D=Jt();D.removeEventListener("mousedown",Ye,!0),D.removeEventListener("touchend",Ye,bs),D.removeEventListener("touchstart",Pe,bs),D.removeEventListener("touchmove",en,bs)}function et(D,Q){wt(D,function(){!g.state.isVisible&&O.parentNode&&O.parentNode.contains(O)&&Q()})}function Lt(D,Q){wt(D,Q)}function wt(D,Q){var oe=Zt().box;function Ue(Oe){Oe.target===oe&&(Mw(oe,"remove",Ue),Q())}if(D===0)return Q();Mw(oe,"remove",d),Mw(oe,"add",Ue),d=Ue}function Dn(D,Q,oe){oe===void 0&&(oe=!1);var Ue=Ba(g.props.triggerTarget||t);Ue.forEach(function(Oe){Oe.addEventListener(D,Q,oe),m.push({node:Oe,eventType:D,handler:Q,options:oe})})}function yr(){rt()&&(Dn("touchstart",Qa,{passive:!0}),Dn("touchend",du,{passive:!0})),TH(g.props.trigger).forEach(function(D){if(D!=="manual")switch(Dn(D,Qa),D){case"mouseenter":Dn("mouseleave",du);break;case"focus":Dn(LH?"focusout":"blur",Ya);break;case"focusin":Dn("focusout",Ya);break}})}function lu(){m.forEach(function(D){var Q=D.node,oe=D.eventType,Ue=D.handler,Oe=D.options;Q.removeEventListener(oe,Ue,Oe)}),m=[]}function Qa(D){var Q,oe=!1;if(!(!g.state.isEnabled||Xa(D)||a)){var Ue=((Q=u)==null?void 0:Q.type)==="focus";u=D,b=D.currentTarget,je(),!g.state.isVisible&&xH(D)&&ip.forEach(function(Oe){return Oe(D)}),D.type==="click"&&(g.props.trigger.indexOf("mouseenter")<0||s)&&g.props.hideOnClick!==!1&&g.state.isVisible?oe=!0:Ja(D),D.type==="click"&&(s=!oe),oe&&!Ue&&Co(D)}}function uu(D){var Q=D.target,oe=$e().contains(Q)||O.contains(Q);if(!(D.type==="mousemove"&&oe)){var Ue=Ai().concat(O).map(function(Oe){var sn,Fn=Oe._tippy,Ds=(sn=Fn.popperInstance)==null?void 0:sn.state;return Ds?{popperRect:Oe.getBoundingClientRect(),popperState:Ds,props:n}:null}).filter(Boolean);RH(Ue,D)&&(St(),Co(D))}}function du(D){var Q=Xa(D)||g.props.trigger.indexOf("click")>=0&&s;if(!Q){if(g.props.interactive){g.hideWithInteractivity(D);return}Co(D)}}function Ya(D){g.props.trigger.indexOf("focusin")<0&&D.target!==$e()||g.props.interactive&&D.relatedTarget&&O.contains(D.relatedTarget)||Co(D)}function Xa(D){return Gr.isTouch?rt()!==D.type.indexOf("touch")>=0:!1}function hu(){fu();var D=g.props,Q=D.popperOptions,oe=D.placement,Ue=D.offset,Oe=D.getReferenceClientRect,sn=D.moveTransition,Fn=Ve()?Rw(O).arrow:null,Ds=Oe?{getBoundingClientRect:Oe,contextElement:Oe.contextElement||$e()}:t,Zw={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(yu){var As=yu.state;if(Ve()){var jP=Zt(),Tp=jP.box;["placement","reference-hidden","escaped"].forEach(function(_u){_u==="placement"?Tp.setAttribute("data-placement",As.placement):As.attributes.popper["data-popper-"+_u]?Tp.setAttribute("data-"+_u,""):Tp.removeAttribute("data-"+_u)}),As.attributes.popper={}}}},Io=[{name:"offset",options:{offset:Ue}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!sn}},Zw];Ve()&&Fn&&Io.push({name:"arrow",options:{element:Fn,padding:3}}),Io.push.apply(Io,Q?.modifiers||[]),g.popperInstance=Dw(Ds,O,Object.assign({},Q,{placement:oe,onFirstUpdate:h,modifiers:Io}))}function fu(){g.popperInstance&&(g.popperInstance.destroy(),g.popperInstance=null)}function Yr(){var D=g.props.appendTo,Q,oe=$e();g.props.interactive&&D===cM||D==="parent"?Q=oe.parentNode:Q=lM(D,[oe]),Q.contains(O)||Q.appendChild(O),g.state.isMounted=!0,hu()}function Ai(){return op(O.querySelectorAll("[data-tippy-root]"))}function Ja(D){g.clearDelayTimeouts(),D&&H("onTrigger",[g,D]),mn();var Q=U(!0),oe=Me(),Ue=oe[0],Oe=oe[1];Gr.isTouch&&Ue==="hold"&&Oe&&(Q=Oe),Q?r=setTimeout(function(){g.show()},Q):g.show()}function Co(D){if(g.clearDelayTimeouts(),H("onUntrigger",[g,D]),!g.state.isVisible){Jn();return}if(!(g.props.trigger.indexOf("mouseenter")>=0&&g.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(D.type)>=0&&s)){var Q=U(!1);Q?i=setTimeout(function(){g.state.isVisible&&g.hide()},Q):o=requestAnimationFrame(function(){g.hide()})}}function Za(){g.state.isEnabled=!0}function pu(){g.hide(),g.state.isEnabled=!1}function mu(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function gu(D){if(!g.state.isDestroyed){H("onBeforeUpdate",[g,D]),lu();var Q=g.props,oe=nM(t,Object.assign({},Q,Jx(D),{ignoreAttributes:!0}));g.props=oe,yr(),Q.interactiveDebounce!==oe.interactiveDebounce&&(St(),w=Yx(uu,oe.interactiveDebounce)),Q.triggerTarget&&!oe.triggerTarget?Ba(Q.triggerTarget).forEach(function(Ue){Ue.removeAttribute("aria-expanded")}):oe.triggerTarget&&t.removeAttribute("aria-expanded"),je(),$(),X&&X(Q,oe),g.popperInstance&&(hu(),Ai().forEach(function(Ue){requestAnimationFrame(Ue._tippy.popperInstance.forceUpdate)})),H("onAfterUpdate",[g,D])}}function vu(D){g.setProps({content:D})}function kP(){var D=g.state.isVisible,Q=g.state.isDestroyed,oe=!g.state.isEnabled,Ue=Gr.isTouch&&!g.props.touch,Oe=Aw(g.props.duration,0,mr.duration);if(!(D||Q||oe||Ue)&&!$e().hasAttribute("disabled")&&(H("onShow",[g],!1),g.props.onShow(g)!==!1)){if(g.state.isVisible=!0,Ve()&&(O.style.visibility="visible"),$(),mn(),g.state.isMounted||(O.style.transition="none"),Ve()){var sn=Zt(),Fn=sn.box,Ds=sn.content;xw([Fn,Ds],0)}h=function(){var Io;if(!(!g.state.isVisible||l)){if(l=!0,O.offsetHeight,O.style.transition=g.props.moveTransition,Ve()&&g.props.animation){var bp=Zt(),yu=bp.box,As=bp.content;xw([yu,As],Oe),Zx([yu,As],"visible")}ue(),je(),Xx(Pw,g),(Io=g.popperInstance)==null||Io.forceUpdate(),H("onMount",[g]),g.props.animation&&Ve()&&Lt(Oe,function(){g.state.isShown=!0,H("onShown",[g])})}},Yr()}}function NP(){var D=!g.state.isVisible,Q=g.state.isDestroyed,oe=!g.state.isEnabled,Ue=Aw(g.props.duration,1,mr.duration);if(!(D||Q||oe)&&(H("onHide",[g],!1),g.props.onHide(g)!==!1)){if(g.state.isVisible=!1,g.state.isShown=!1,l=!1,s=!1,Ve()&&(O.style.visibility="hidden"),St(),Jn(),$(!0),Ve()){var Oe=Zt(),sn=Oe.box,Fn=Oe.content;g.props.animation&&(xw([sn,Fn],Ue),Zx([sn,Fn],"hidden"))}ue(),je(),g.props.animation?Ve()&&et(Ue,g.unmount):g.unmount()}}function FP(D){Jt().addEventListener("mousemove",w),Xx(ip,w),w(D)}function VP(){g.state.isVisible&&g.hide(),g.state.isMounted&&(fu(),Ai().forEach(function(D){D._tippy.unmount()}),O.parentNode&&O.parentNode.removeChild(O),Pw=Pw.filter(function(D){return D!==g}),g.state.isMounted=!1,H("onHidden",[g]))}function LP(){g.state.isDestroyed||(g.clearDelayTimeouts(),g.unmount(),lu(),delete t._tippy,g.state.isDestroyed=!0,H("onDestroy",[g]))}}function Zl(t,e){e===void 0&&(e={});var n=mr.plugins.concat(e.plugins||[]);FH();var r=Object.assign({},e,{plugins:n}),i=PH(t);if(0)var o,s;var a=i.reduce(function(c,l){var u=l&&GH(l,r);return u&&c.push(u),c},[]);return sp(t)?a[0]:a}Zl.defaultProps=mr;Zl.setDefaultProps=$H;Zl.currentInput=Gr;var Nie=Object.assign({},ql,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});Zl.setDefaultProps({render:hM});var Nw=Zl;var Fw=class{constructor(e){this.options=e,e.vcr?this.ref=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector}):(this.ref=eh(e.component,{elementInjector:e.injector,environmentInjector:e.environmentInjector}),e.appRef.attachView(this.ref.hostView))}setInput(e,n){return this.ref.setInput(e,n),this}setInputs(e){return Object.keys(e).forEach(n=>{this.ref.setInput(n,e[n])}),this}detectChanges(){return this.ref.hostView.detectChanges(),this}updateContext(e){return this.options.contextSignal?.set(e),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.ref.location.nativeElement}destroy(){this.ref.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.ref.hostView),this.ref=null}};function ap(t){return t instanceof or}function eu(t){return typeof t=="function"}function tu(t){return typeof t=="string"}var Vw=class{constructor(e){this.args=e,this.args.vcr?(this.ref=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{},{injector:e.injector}),this.ref.detectChanges()):(this.ref=this.args.tpl.createEmbeddedView(this.args.context||{},e.injector),this.ref.detectChanges(),this.args.appRef.attachView(this.ref))}detectChanges(){return this.ref.detectChanges(),this}getElement(){let e=this.ref.rootNodes;return e.length===1&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){this.ref.rootNodes[0]!==1&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.ref),this.ref.destroy(),this.ref=null}updateContext(e){return Object.assign(this.ref.context,e),this}},Lw=class{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){return this}updateContext(){return this}destroy(){}},WH=new Y("Component context"),jw=(()=>{let e=class e{constructor(){this.injector=j(Ge),this.appRef=j(Rr),this.environmentInjector=j(xt)}createComponent(r,i={}){let o=i.injector??this.injector,s;return i.context&&(s=Or(i.context),o=Ge.create({providers:[{provide:WH,useValue:s.asReadonly()}],parent:o})),new Fw({component:r,vcr:i.vcr,injector:o,appRef:this.appRef,environmentInjector:i.environmentInjector||this.environmentInjector,contextSignal:s})}createTemplate(r,i={}){return new Vw({vcr:i.vcr,appRef:this.appRef,tpl:r,context:i.context,injector:i.injector})}createView(r,i={}){if(ap(r))return this.createTemplate(r,i);if(eu(r))return this.createComponent(r,i);if(tu(r))return new Lw(r);throw"Type of content is not supported"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var pM=!1,mM=!1;typeof window<"u"&&(pM="IntersectionObserver"in window,mM="ResizeObserver"in window);function fM(t,e={root:null,threshold:.3}){let n=_M(t);return new ae(r=>{if(!pM){r.next(),r.complete();return}let i=new IntersectionObserver(o=>{o[o.length-1].isIntersecting&&(r.next(),r.complete())},e);return i.observe(n),()=>i.disconnect()})}function gM(t){let e=t.offsetWidth;return e>t.parentElement.offsetWidth||e<t.scrollWidth}function QH(t){let e=_M(t);return vM(e).pipe(Qp(150),ie(()=>gM(e)))}function vM(t){return YH(t)}function YH(t){return new ae(e=>{if(!mM){e.next(),e.complete();return}let n=new ResizeObserver(()=>e.next(!0));return n.observe(t),()=>n.disconnect()})}function nu(t){let e={},n=["useTextContent","variations","useHostWidth","defaultVariation","beforeRender","isLazy","variation","isEnabled","className","onlyTextOverflow","data","content","context","hideOnEscape","customHost","injector","preserveView","vcr","popperWidth","zIndexGetter","staticWidthHost"],r=["onShow","onHidden","onCreate"];return Object.keys(t).forEach(i=>{!n.includes(i)&&!r.includes(i)&&(e[i]=t[i])}),e}function yM(t){return(JH(t)?t.split(" "):t).map(n=>n?.trim()).filter(Boolean)}function XH(t){return ZH(t)?"":typeof t=="string"?t:`${t}px`}function JH(t){return typeof t=="string"}function ZH(t){return t==null}function _M(t){return t instanceof tt?t.nativeElement:t}var Uw,Bw=new WeakMap;function eq(t,e){return Uw??=new IntersectionObserver(n=>{n.forEach(r=>{r.isIntersecting||Bw.get(r.target)()})}),Bw.set(t,e),Uw.observe(t),()=>{Bw.delete(t),Uw.unobserve(t)}}var $w=new Y("Tippy config",{providedIn:"root",factory(){return{}}}),wM=new Y("TIPPY_REF"),Vt=(()=>{let e=class e{set appendTo(r){this.updateProps({appendTo:r})}constructor(r,i,o,s,a,c,l){this.platformId=r,this.globalConfig=i,this.injector=o,this.viewService=s,this.vcr=a,this.zone=c,this.hostRef=l,this.onlyTextOverflow=!1,this.staticWidthHost=!1,this.useHostWidth=!1,this.hideOnEscape=!1,this.detectChangesComponent=!0,this.isVisible=!1,this.visible=new it,this.destroyed=new jt,this.enabled=!0,this.variationDefined=!1,this.visibleInternal=new jt,this.contentChanged=new jt}ngOnChanges(r){if(this.isServerSide)return;let i=Object.keys(r).reduce((s,a)=>(a==="isVisible"||(s[a]=r[a].currentValue),s),{}),o;cp("content",r)&&this.contentChanged.next(),cp("variation",r)?(o=r.variation.currentValue,this.variationDefined=!0):this.variationDefined||(o=this.globalConfig.defaultVariation,this.variationDefined=!0),o&&(i=V(V({},this.globalConfig.variations[o]),i)),cp("isEnabled",r)&&(this.enabled=r.isEnabled.currentValue,this.setStatus()),cp("isVisible",r)&&(this.isVisible?this.show():this.hide()),this.updateProps(i)}ngOnInit(){this.useHostWidth&&(this.props.maxWidth=this.hostWidth)}ngAfterViewInit(){this.isServerSide||this.zone.runOutsideAngular(()=>{this.isLazy?this.onlyTextOverflow?fM(this.host).pipe(At(()=>this.isOverflowing$()),tr(this.destroyed)).subscribe(r=>{this.checkOverflow(r)}):fM(this.host).pipe(tr(this.destroyed)).subscribe(()=>{this.createInstance()}):this.onlyTextOverflow?this.isOverflowing$().pipe(tr(this.destroyed)).subscribe(r=>{this.checkOverflow(r)}):this.createInstance()})}ngOnDestroy(){this.destroyed.next(),this.instance?.destroy(),this.destroyView(),this.visibilityObserverCleanup?.()}destroyView(){this.viewOptions$=null,this.viewRef?.destroy(),this.viewRef=null}observeHostVisibility(){if(!this.isServerSide&&this.props.appendTo&&this.props.appendTo!==document.body)return this.visibilityObserverCleanup?.(),this.visibleInternal.asObservable().pipe(tr(this.destroyed)).subscribe(r=>{r?this.zone.runOutsideAngular(()=>{this.visibilityObserverCleanup=eq(this.instance.reference,()=>{this.hide(),this.props.animation&&this.onHidden()})}):this.visibilityObserverCleanup?.()})}show(){this.instance?.show()}hide(){this.instance?.hide()}enable(){this.instance?.enable()}disable(){this.instance?.disable()}updateProps(r){this.setProps(V(V({},this.props),r))}setProps(r){this.props=r,this.instance?.setProps(nu(r))}setStatus(){this.enabled?this.instance?.enable():this.instance?.disable()}get host(){return this.customHost||this.hostRef.nativeElement}get hostWidth(){return this.host.getBoundingClientRect().width}createInstance(){!this.content&&!this.useTextContent||this.zone.runOutsideAngular(()=>{this.instance=Nw(this.host,Se(V(V(V({allowHTML:!0,appendTo:document.body},this.globalConfig.zIndexGetter?{zIndex:this.globalConfig.zIndexGetter()}:{}),nu(this.globalConfig)),nu(this.props)),{onMount:r=>{this.isVisible=!0,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.useHostWidth&&this.listenToHostResize(),this.globalConfig.onMount?.(r)},onCreate:r=>{if(r.popper.classList.add(`tippy-variation-${this.variation||this.globalConfig.defaultVariation}`),this.className)for(let i of yM(this.className))r.popper.classList.add(i);this.globalConfig.onCreate?.(r),this.isVisible===!0&&r.show()},onShow:r=>{r.reference.setAttribute("data-tippy-open",""),this.zone.run(()=>{let i=this.resolveContent(r);tu(i)&&(r.setProps({allowHTML:!1}),i?.trim()?this.enable():this.disable()),r.setContent(i),this.hideOnEscape&&this.handleEscapeButton()}),this.useHostWidth?this.setInstanceWidth(r,this.hostWidth):this.popperWidth&&this.setInstanceWidth(r,this.popperWidth),this.globalConfig.onShow?.(r)},onHide(r){r.reference.removeAttribute("data-tippy-open")},onHidden:r=>{this.onHidden(r)}})),this.setStatus(),this.setProps(this.props),this.variation==="contextMenu"&&this.handleContextMenu()})}resolveContent(r){if(!this.viewOptions$&&!tu(this.content)){let o=Ge.create({providers:[{provide:wM,useValue:this.instance}],parent:this.injector});eu(this.content)?(this.instance.data=this.data,this.viewOptions$={injector:o}):ap(this.content)&&(this.viewOptions$={injector:o,context:{$implicit:this.hide.bind(this),data:this.data}})}this.viewRef=this.viewService.createView(this.content,V({vcr:this.vcr},this.viewOptions$)),this.detectChangesComponent&&eu(this.content)&&this.viewRef.detectChanges();let i=this.viewRef.getElement();return this.useTextContent&&(i=r.reference.textContent),tu(i)&&this.globalConfig.beforeRender&&(i=this.globalConfig.beforeRender(i)),i}handleContextMenu(){zs(this.host,"contextmenu").pipe(tr(this.destroyed)).subscribe(r=>{r.preventDefault(),this.instance.setProps({getReferenceClientRect:()=>({width:0,height:0,top:r.clientY,bottom:r.clientY,left:r.clientX,right:r.clientX})}),this.instance.show()})}handleEscapeButton(){this.zone.runOutsideAngular(()=>{zs(document.body,"keydown").pipe(tn(({code:r})=>r==="Escape"),tr(sc(this.destroyed,this.visibleInternal.pipe(tn(r=>!r))))).subscribe(()=>this.hide())})}checkOverflow(r){r?this.instance?this.instance.enable():this.createInstance():this.instance?.disable()}listenToHostResize(){vM(this.host).pipe(tr(sc(this.destroyed,this.visibleInternal))).subscribe(()=>{this.setInstanceWidth(this.instance,this.hostWidth)})}setInstanceWidth(r,i){let o=XH(i);r.popper.style.width=o,r.popper.style.maxWidth=o,r.popper.firstElementChild.style.maxWidth=o}get isServerSide(){return Ac(this.platformId)}onHidden(r=this.instance){this.destroyView(),this.isVisible=!1,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.globalConfig.onHidden?.(r)}isOverflowing$(){let r=[QH(this.host)];return this.staticWidthHost&&r.push(this.contentChanged.asObservable().pipe(At(()=>new ae(i=>{let o=window.requestAnimationFrame(()=>{i.next(),i.complete()});return()=>cancelAnimationFrame(o)})),ie(()=>gM(this.host)))),sc(...r)}};e.\u0275fac=function(i){return new(i||e)(I(Un),I($w),I(Ge),I(jw),I(zt),I(De),I(tt))},e.\u0275dir=Ke({type:e,selectors:[["","tp",""]],inputs:{appendTo:[re.None,"tpAppendTo","appendTo"],content:[re.None,"tp","content"],delay:[re.None,"tpDelay","delay"],duration:[re.None,"tpDuration","duration"],hideOnClick:[re.None,"tpHideOnClick","hideOnClick"],interactive:[re.None,"tpInteractive","interactive"],interactiveBorder:[re.None,"tpInteractiveBorder","interactiveBorder"],maxWidth:[re.None,"tpMaxWidth","maxWidth"],offset:[re.None,"tpOffset","offset"],placement:[re.None,"tpPlacement","placement"],popperOptions:[re.None,"tpPopperOptions","popperOptions"],showOnCreate:[re.None,"tpShowOnCreate","showOnCreate"],trigger:[re.None,"tpTrigger","trigger"],triggerTarget:[re.None,"tpTriggerTarget","triggerTarget"],zIndex:[re.None,"tpZIndex","zIndex"],animation:[re.None,"tpAnimation","animation"],useTextContent:[re.HasDecoratorInputTransform,"tpUseTextContent","useTextContent",$n],isLazy:[re.HasDecoratorInputTransform,"tpIsLazy","isLazy",$n],variation:[re.None,"tpVariation","variation"],isEnabled:[re.None,"tpIsEnabled","isEnabled"],className:[re.None,"tpClassName","className"],onlyTextOverflow:[re.HasDecoratorInputTransform,"tpOnlyTextOverflow","onlyTextOverflow",$n],staticWidthHost:[re.HasDecoratorInputTransform,"tpStaticWidthHost","staticWidthHost",$n],data:[re.None,"tpData","data"],useHostWidth:[re.HasDecoratorInputTransform,"tpUseHostWidth","useHostWidth",$n],hideOnEscape:[re.HasDecoratorInputTransform,"tpHideOnEscape","hideOnEscape",$n],detectChangesComponent:[re.None,"tpDetectChangesComponent","detectChangesComponent"],popperWidth:[re.None,"tpPopperWidth","popperWidth"],customHost:[re.None,"tpHost","customHost"],isVisible:[re.HasDecoratorInputTransform,"tpIsVisible","isVisible",$n]},outputs:{visible:"tpVisible"},exportAs:["tippy"],standalone:!0,features:[Kd,si]});let t=e;return t})();function cp(t,e){return t in e}var EM=(()=>{let e=class e{constructor(r,i,o){this.globalConfig=r,this.view=i,this.injector=o}create(r,i,o={}){let s=o.variation||this.globalConfig.defaultVariation,a=Se(V(V(V({onShow:c=>{if(r.setAttribute("data-tippy-open",""),!c.$viewOptions){c.$viewOptions={};let l=Ge.create({providers:[{provide:wM,useValue:c}],parent:o.injector||this.injector});c.$viewOptions.injector=l,ap(i)?c.$viewOptions.context=V({$implicit:c.hide.bind(c)},o.context):eu(i)&&(c.context=o.context,c.data=o.data)}c.view||(c.view=this.view.createView(i,V(V({},o),c.$viewOptions))),c.setContent(c.view.getElement()),o?.onShow?.(c)},onHidden:c=>{r.removeAttribute("data-tippy-open"),o.preserveView||(c.view.destroy(),c.view=null),o?.onHidden?.(c)}},nu(this.globalConfig)),this.globalConfig.variations[s]),nu(o)),{onCreate:c=>{if(c.popper.classList.add(`tippy-variation-${s}`),o.className)for(let l of yM(o.className))c.popper.classList.add(l);this.globalConfig.onCreate?.(c),o.onCreate?.(c)}});return Nw(r,a)}};e.\u0275fac=function(i){return new(i||e)(R($w),R(jw),R(Ge))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function CM(t={}){return zi([{provide:$w,useValue:t}])}var Wr=class{constructor(e,n){this.length=e,n&&n>e&&(this.maxLength=n)}restart(e){clearTimeout(this.timeout),this.runnable=e,this.timeout=setTimeout(()=>{e&&e(),this.timeout=null,this.maxLengthTimeout&&(clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null)},this.length),this.maxLength&&!this.maxLengthTimeout&&(this.maxLengthTimeout=setTimeout(()=>{e&&e(),this.maxLengthTimeout=null,clearTimeout(this.timeout),this.timeout=null},this.maxLength))}abort(){clearTimeout(this.timeout),this.timeout=null,clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null}complete(){this.abort(),this.runnable&&this.runnable()}isActive(){return this.timeout!=null}};var nq=500,pn=nq+"ms ease",roe=qn("skip",[ft(":enter",[])]),$a=qn("fade",[ft(":enter",[ve({opacity:0}),It(pn,ve({opacity:1}))]),ft(":leave",[ve({opacity:1,"pointer-events":"none"}),It(pn,ve({opacity:0}))])]),ioe=qn("scalefade",[ft(":enter",[ve({opacity:0,width:0,"min-width":0,height:0,"min-height":0}),It(pn,ve({opacity:"*",width:"*","min-width":"*",height:"*","min-height":"*"}))]),ft(":leave",[ve({opacity:"*","pointer-events":"none",width:"*","min-width":"*",height:"*","min-height":"*"}),It(pn,ve({opacity:0,width:0,"min-width":0,height:0,"min-height":0}))])]),IM=qn("crossfade",[ft(":enter",[ve({opacity:0}),It(pn,ve({opacity:1}))]),ft(":leave",[ve({opacity:1,"pointer-events":"none",position:"absolute"}),It(pn,ve({opacity:0}))])]),bM=qn("enter",[ft(":enter",[ve({opacity:0}),It(pn,ve({opacity:1}))])]),ooe=qn("leave",[ft(":leave",[ve({opacity:1}),It(pn,ve({opacity:0}))])]),soe=qn("hidden",[ft("* => true",[ve({opacity:"*"}),It(pn,ve({opacity:0}))]),ft("true => *",[ve({opacity:0}),It(pn,ve({opacity:"*"}))])]),mo=qn("drawer2",[_A("0",ve({height:0})),ft("1 => void",[]),ft("1 => *",[ve({height:"*"}),It(pn,ve({height:0}))]),ft("0 => void",[ve({height:0}),It(pn,ve({height:0}))]),ft("0 => *",[ve({height:0}),It(pn,ve({height:"*"}))])]),TM=qn("drawer",[ft(":enter",[ve({height:0,opacity:0}),It(pn,ve({height:"*",opacity:"*"}))]),ft(":leave",[ve({height:"*",opacity:"*"}),It(pn,ve({height:0,opacity:0}))])]);var k=class t{static isEmpty(e){return!e||!Array.isArray(e)||e.length==0}static includes(e,n,r){if(!this.isEmpty(e)&&n)return r?e.map(i=>r(i)).includes(r(n)):e.includes(n)}static push(e,n){if(Array.isArray(e))if(Array.isArray(n))for(let r of n)r!=null&&!e.includes(r)&&e.push(r);else n!=null&&!e.includes(n)&&e.push(n)}static remove(e,n,r){if(!this.isEmpty(e)&&n){let i=e.length;if(Array.isArray(n)){if(n.length>0)if(r){let o=e.map(s=>r(s));for(let s of n.map(a=>r(a)))this._remove(e,s,o)}else for(let o of n)this._remove(e,o)}else r?this._remove(e,r(n),e.map(o=>r(o))):this._remove(e,n);return i!=e.length}}static _remove(e,n,r){let i=(r||e).indexOf(n);i!=-1&&(r?.splice(i,1),e.splice(i,1))}static toggle(e,n,r=!1){Array.isArray(e)&&n!=null&&(e.includes(n)?this._remove(e,n):r?e.unshift(n):e.push(n))}static distinct(e,n){if(!this.isEmpty(e)){let r=[],i=new Map,o;for(let s of e)o=n(s),i.has(o)||(i.set(o,!0),r.push(s));return r}return[]}static intersection(e,n){return t.isEmpty(e)?[]:t.isEmpty(n)?[]:e.filter(r=>n.includes(r))}static getFirst(e){if(!this.isEmpty(e))return e[0]}static isFirst(e,n){if(!this.isEmpty(e)&&n)return n==e[0]}static makeFirst(e,n){e&&n&&(this._remove(e,n),e.unshift(n))}static getLast(e){if(!this.isEmpty(e))return e[e.length-1]}static isLast(e,n){if(!this.isEmpty(e)&&n)return n==e[e.length-1]}static makeLast(e,n){e&&n&&(this._remove(e,n),e.push(n))}static getPrevious(e,n,r=!1){if(!this.isEmpty(e))return e[e.indexOf(n)-1]||(r?e[e.length-1]:void 0)}static findPrevious(e,n,r,i=!1){if(!this.isEmpty(e)){let o=e.indexOf(n),s=o;for(;s>0;)if(r(e[--s]))return e[s];if(i){for(s=e.length-1;s>o;)if(r(e[--s]))return e[s]}return}}static getNext(e,n,r=!1){if(!this.isEmpty(e))return e[e.indexOf(n)+1]||(r?e[0]:void 0)}static findNext(e,n,r,i=!1){if(!this.isEmpty(e)){let o=e.indexOf(n),s=o;for(;s<e.length-1;)if(r(e[++s]))return e[s];if(i){for(s=0;s<o;)if(r(e[++s]))return e[s]}return}}static findClosest(e,n,r){if(!this.isEmpty(e)){let i=e.indexOf(n),o=0,s,a=!0,c=!0;for(;a||c;)if(o++,c&&(s=e[i+o],s||(c=!1),s&&(!r||r(s)))||a&&(s=e[i-o],s||(a=!1),s&&(!r||r(s))))return s;return}}static getRandom(e,n){return this.isEmpty(e)?null:e.length==1?e[0]:(e=e.slice(),this.remove(e,n),e[Math.floor(Math.random()*e.length)])}static nearestRightFirst(e,n,r){if(n+1<e.length){for(let i=n+1;i<e.length;i++)if(!r||r(e[i]))return e[i]}if(n>0){for(let i=n-1;i>-1;i--)if(!r||r(e[i]))return e[i]}return null}static shuffle(e){let n=e.length,r;for(;n!=0;)r=Math.floor(Math.random()*n),n--,[e[n],e[r]]=[e[r],e[n]];return e}static except(e,...n){return e||(e=[]),e.filter(r=>!n.includes(r))}};var za=(()=>{let e=class e{constructor(){this.stack=[]}register(r){k.makeFirst(this.stack,r)}unregister(r){k.remove(this.stack,r)}next(r){let i=r.target.nodeName;if(!["BODY","VIDEO"].includes(i))switch(r.key){case"Enter":k.getFirst(this.stack)?.processKeyboardShortcut(r);break;case"Escape":document.activeElement.blur();break}else k.getFirst(this.stack)?.processKeyboardShortcut(r)}requestFocus(r){k.makeFirst(this.stack,r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var at=(()=>{let e=class e{constructor(){this.darkTheme=!0,this.loading=Or(void 0),this.changes=Or(void 0),this.errors=Or(void 0),this.darkTheme?(document.body.classList.add("dark-theme"),document.body.style.colorScheme="dark"):(document.body.classList.add("light-theme"),document.body.style.colorScheme="light")}isDarkTheme(){return this.darkTheme}toggleTheme(){this.darkTheme?(this.darkTheme=!1,document.body.classList.toggle("dark-theme",!1),document.body.classList.toggle("light-theme",!0),document.body.style.colorScheme="light"):(this.darkTheme=!0,document.body.classList.toggle("dark-theme",!0),document.body.classList.toggle("light-theme",!1),document.body.style.colorScheme="dark")}get reduceBandwidth(){return window.localStorage.getItem("REDUCE_BANDWIDTH")=="1"}set reduceBandwidth(r){window.localStorage.setItem("REDUCE_BANDWIDTH",r?"1":"0")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mt=class{constructor(){}static isLargeScreen(){return window.innerWidth>1e3}static isElementVisible(e,n){if(e){let r=e.getBoundingClientRect();return r.top>=0&&r.left>=0&&r.bottom<=(n?n.clientHeight:window.innerHeight)&&r.right<=(n?n.clientWidth:window.innerWidth)}}};var rq=["content"];function iq(t,e){if(t&1){let n=W();f(0,"div",6,7),C("click",function(){T(n);let i=y(2);return S(i.overlayClick())}),p()}}function oq(t,e){if(t&1){let n=W();f(0,"i",13),C("click",function(){T(n);let i=y(3);return S(i.contentComponentInstance.close())}),p()}}function sq(t,e){if(t&1){let n=W();f(0,"div",8,9),C("mousedown",function(i){T(n);let o=nt(1),s=y(2);return S(s.onHeaderMouseDown(i,o))}),f(2,"span",10),M(3),p(),f(4,"div",11),P(5,oq,1,0,"i",12),p()()}if(t&2){let n=y(2);v(3),_e(n.getTitle()),v(2),_("ngIf",!n.contentComponentInstance.configuration.hideHeaderCloseButton)}}function aq(t,e){if(t&1&&(Ee(0),N(1,"div",3),P(2,iq,2,0,"div",4)(3,sq,6,2,"div",5),Ce()),t&2){let n=y();v(2),_("ngIf",!n.contentComponentInstance.configuration.hideClickOverlay),v(),_("ngIf",n.contentComponentInstance.configuration.title)}}function cq(t,e){t&1&&(f(0,"div",14),iv(1,null,15),p())}function lq(t,e){if(t&1){let n=W();f(0,"i",20),C("click",function(){T(n);let i=y(2).$implicit;return S(i.click&&i.click())}),p()}if(t&2){let n=y(2).$implicit,r=y(2);Nb("icon-button "+r.getButtonIconClass(n)),se("disabled",r.isDisabled(n))}}function uq(t,e){if(t&1){let n=W();f(0,"div",21),C("click",function(){T(n);let i=y(2).$implicit;return S(i.click&&i.click())}),M(1),p()}if(t&2){let n=y(2).$implicit,r=y(2);se("disabled",r.isDisabled(n)),v(),_e(r.getButtonText(n))}}function dq(t,e){if(t&1&&(Ee(0),P(1,lq,1,4,"i",18)(2,uq,2,3,"div",19),Ce()),t&2){let n=y().$implicit;v(),_("ngIf",n.iconClass),v(),_("ngIf",n.text)}}function hq(t,e){if(t&1&&(Ee(0),P(1,dq,3,2,"ng-container",0),Ce()),t&2){let n=e.$implicit,r=y(2);v(),_("ngIf",!r.isHidden(n))}}function fq(t,e){if(t&1&&(f(0,"div",16),P(1,hq,2,1,"ng-container",17),p()),t&2){let n=y();v(),_("ngForOf",n.contentComponentInstance.configuration.buttons)}}var SM=(()=>{let e=class e{constructor(r,i,o){this.elementRef=r,this.dialogService=i,this.keyboardShortcutService=o,this.borderWarning=!1,this.isMouseDown=!1,this.result=new Promise(s=>this.resolve=s)}ngAfterViewInit(){mt.isLargeScreen()&&(this.top||(this.top=Number.parseInt(window.localStorage.getItem(this.contentComponentType.name+".top"))),this.left||(this.left=Number.parseInt(window.localStorage.getItem(this.contentComponentType.name+".left"))));let r=this.containerRef.createComponent(this.contentComponentType);this.contentComponentInstance=r.instance,this.contentComponentInstance.inputs=this.inputs,this.contentComponentInstance.resolve=this.resolve,this.keyboardShortcutService.register(this.contentComponentInstance),this.result.finally(()=>{this.keyboardShortcutService.unregister(this.contentComponentInstance),r.destroy()}),r.changeDetectorRef.detectChanges()}isHidden(r){return r.hidden&&r.hidden()}isDisabled(r){return r.disabled&&r.disabled()}getTitle(){let r=this.contentComponentInstance.configuration;return typeof r.title=="function"?r.title():r.title}getButtonText(r){return typeof r.text=="function"?r.text():r.text}getButtonIconClass(r){return typeof r.iconClass=="function"?r.iconClass():r.iconClass}onHeaderMouseDown(r,i){if(r.buttons==1&&r.target==i){if(this.isMouseDown=!0,this.mouseDownOffsetX=r.offsetX,this.mouseDownOffsetY=r.offsetY,(this.top||this.top===0)&&(this.left||this.left===0))return;let o=this.elementRef.nativeElement.getBoundingClientRect();this.top=o.top,this.left=o.left,localStorage.setItem(this.contentComponentType.name+".top",this.top.toString()),localStorage.setItem(this.contentComponentType.name+".left",this.left.toString())}}onHeaderMouseUp(){this.isMouseDown=!1,this.top!==void 0&&localStorage.setItem(this.contentComponentType.name+".top",this.top?.toString()),this.left!==void 0&&localStorage.setItem(this.contentComponentType.name+".left",this.left?.toString())}onHeaderMouseMove(r){if(r.preventDefault(),this.isMouseDown){let i=this.elementRef.nativeElement.getBoundingClientRect(),o=r.clientX-i.left;r.movementX<0&&o<this.mouseDownOffsetX?(this.left=this.left+r.movementX,this.left<0&&(this.left=0)):r.movementX>0&&o>this.mouseDownOffsetX&&(this.left=this.left+r.movementX,this.left+i.width>window.innerWidth+1&&(this.left=window.innerWidth-i.width+1));let s=r.clientY-i.top;r.movementY<0&&s<this.mouseDownOffsetY?(this.top=this.top+r.movementY,this.top<0&&(this.top=0)):r.movementY>0&&s>this.mouseDownOffsetY&&(this.top=this.top+r.movementY,this.top+i.height>window.innerHeight+2&&(this.top=window.innerHeight-i.height+2))}}overlayClick(){let r=this.dialogService.containerComponentInstances.indexOf(this);for(let i=r;i<this.dialogService.containerComponentInstances.length;i++){let o=this.dialogService.containerComponentInstances[i];o.borderWarning=!0,setTimeout(()=>o.borderWarning=!1,500)}}onScreenResize(r){mt.isLargeScreen()||(this.top=null,this.left=null)}onClick(r){this.keyboardShortcutService.requestFocus(this.contentComponentInstance)}};e.\u0275fac=function(i){return new(i||e)(I(tt),I(ct),I(za))},e.\u0275cmp=G({type:e,selectors:[["app-dialog-container"]],viewQuery:function(i,o){if(i&1&&$b(rq,5,zt),i&2){let s;sv(s=av())&&(o.containerRef=s.first)}},hostVars:6,hostBindings:function(i,o){i&1&&C("mouseup",function(a){return o.onHeaderMouseUp(a)},!1,Ug)("mousemove",function(a){return o.onHeaderMouseMove(a)},!1,Ug)("resize",function(a){return o.onScreenResize(a)},!1,$d)("click",function(a){return o.onClick(a)}),i&2&&(Ht("top",o.top,"px")("left",o.left,"px"),se("border-warning",o.borderWarning))},standalone:!0,features:[K],decls:3,vars:3,consts:[[4,"ngIf"],["class","content",4,"ngIf"],["class","buttons",4,"ngIf"],[1,"glass-effect"],["class","overlay-effect",3,"click",4,"ngIf"],["class","header",3,"mousedown",4,"ngIf"],[1,"overlay-effect",3,"click"],["overlay",""],[1,"header",3,"mousedown"],["header",""],[1,"header-title"],[1,"flex","gap"],["class","icon-button fa-solid fa-times",3,"click",4,"ngIf"],[1,"icon-button","fa-solid","fa-times",3,"click"],[1,"content"],["content",""],[1,"buttons"],[4,"ngFor","ngForOf"],[3,"class","disabled","click",4,"ngIf"],["class","button",3,"disabled","click",4,"ngIf"],[3,"click"],[1,"button",3,"click"]],template:function(i,o){i&1&&P(0,aq,4,2,"ng-container",0)(1,cq,3,0,"div",1)(2,fq,2,1,"div",2),i&2&&(_("ngIf",o.contentComponentInstance),v(),_("ngIf",o.contentComponentType),v(),_("ngIf",o.contentComponentInstance))},dependencies:[Z,ke,be],styles:["[_nghost-%COMP%]{border:1px solid var(--color-border);position:fixed;border-radius:.5rem;overflow:hidden;z-index:200;min-width:300px}@media screen and (max-width: 768px){[_nghost-%COMP%]{max-width:calc(100% - .9999999999rem);max-height:calc(100% - .9999999999rem)}}@media screen and (min-width: 768px){[_nghost-%COMP%]{max-width:80%;max-height:80%}}.border-warning[_nghost-%COMP%]{border-color:var(--color-negative)}[_nghost-%COMP%]:not(.border-warning){transition:border-color .5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{overflow:auto;border-top:1px solid var(--color-border);border-bottom:1px solid var(--color-border)}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;-webkit-user-select:none;user-select:none;padding:1rem;gap:.3333333333rem}.header[_ngcontent-%COMP%]:has(i){padding:.3333333333rem .3333333333rem .3333333333rem 1rem}.header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{pointer-events:none}.buttons[_ngcontent-%COMP%]{gap:.3333333333rem;padding:.3333333333rem;height:3rem;display:flex;align-items:center;justify-content:space-evenly}.button[_ngcontent-%COMP%]{flex:1;transition:.5s;white-space:nowrap;min-width:auto}.glass-effect[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:-1;background-color:var(--color-background-dialog);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.overlay-effect[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:-2;-webkit-user-select:none;user-select:none}"]});let t=e;return t})();var _t=class{submit(){this.close()}processKeyboardShortcut(e){switch(e.key){case"Enter":this.submit();return;case"Escape":this.close();return}}};function pq(t,e){if(t&1&&(f(0,"span"),M(1),p()),t&2){let n=e.$implicit;v(),_e(n)}}var DM=(()=>{let e=class e extends _t{ngOnInit(){this.configuration={title:this.inputs.title,buttons:[{text:()=>this.inputs.positiveButtonText||"Yes",click:()=>this.resolve(!0)},{text:()=>this.inputs.negativeButtonText||"No",click:()=>this.resolve(!1)}]}}submit(){this.resolve(!0)}close(){this.resolve(!1)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=$t(e)))(o||e)}})(),e.\u0275cmp=G({type:e,selectors:[["app-confirmation-dialog"]],standalone:!0,features:[We,K],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(f(0,"div",0),P(1,pq,2,1,"span",1),p()),i&2&&(v(),_("ngForOf",o.inputs.messages))},dependencies:[Z,ke],styles:[".container[_ngcontent-%COMP%]{padding:.9999999999rem}"]});let t=e;return t})();var FM=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(I(li),I(tt))},e.\u0275dir=Ke({type:e});let t=e;return t})(),Kw=(()=>{let e=class e extends FM{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=$t(e)))(o||e)}})(),e.\u0275dir=Ke({type:e,features:[We]});let t=e;return t})(),hp=new Y("");var mq={provide:hp,useExisting:Bo(()=>go),multi:!0};function gq(){let t=pi()?pi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var vq=new Y(""),go=(()=>{let e=class e extends FM{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!gq())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(I(li),I(tt),I(vq,8))},e.\u0275dir=Ke({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&C("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Sc([mq]),We]});let t=e;return t})();var yq=new Y(""),_q=new Y("");function VM(t){return t!=null}function LM(t){return Ho(t)?ze(t):t}function jM(t){let e={};return t.forEach(n=>{e=n!=null?V(V({},e),n):e}),Object.keys(e).length===0?null:e}function UM(t,e){return e.map(n=>n(t))}function wq(t){return!t.validate}function BM(t){return t.map(e=>wq(e)?e:n=>e.validate(n))}function Eq(t){if(!t)return null;let e=t.filter(VM);return e.length==0?null:function(n){return jM(UM(n,e))}}function $M(t){return t!=null?Eq(BM(t)):null}function Cq(t){if(!t)return null;let e=t.filter(VM);return e.length==0?null:function(n){let r=UM(n,e).map(LM);return Kp(r).pipe(ie(jM))}}function zM(t){return t!=null?Cq(BM(t)):null}function AM(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Iq(t){return t._rawValidators}function bq(t){return t._rawAsyncValidators}function Hw(t){return t?Array.isArray(t)?t:[t]:[]}function up(t,e){return Array.isArray(t)?t.includes(e):t===e}function xM(t,e){let n=Hw(e);return Hw(t).forEach(i=>{up(n,i)||n.push(i)}),n}function MM(t,e){return Hw(e).filter(n=>!up(t,n))}var dp=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=$M(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},qw=class extends dp{get formDirective(){return null}get path(){return null}},ou=class extends dp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Gw=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Tq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Uoe=Se(V({},Tq),{"[class.ng-submitted]":"isSubmitted"}),vo=(()=>{let e=class e extends Gw{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(I(ou,2))},e.\u0275dir=Ke({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&se("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[We]});let t=e;return t})();var ru="VALID",lp="INVALID",Ha="PENDING",iu="DISABLED";function Sq(t){return(fp(t)?t.validators:t)||null}function Dq(t){return Array.isArray(t)?$M(t):t||null}function Aq(t,e){return(fp(e)?e.asyncValidators:t)||null}function xq(t){return Array.isArray(t)?zM(t):t||null}function fp(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var Ww=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ru}get invalid(){return this.status===lp}get pending(){return this.status==Ha}get disabled(){return this.status===iu}get enabled(){return this.status!==iu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(xM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(xM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(MM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(MM(e,this._rawAsyncValidators))}hasValidator(e){return up(this._rawValidators,e)}hasAsyncValidator(e){return up(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ha,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=iu,this.errors=null,this._forEachChild(r=>{r.disable(Se(V({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Se(V({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ru,this._forEachChild(r=>{r.enable(Se(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Se(V({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ru||this.status===Ha)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?iu:ru}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ha,this._hasOwnPendingAsyncValidator=!0;let n=LM(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new it,this.statusChanges=new it}_calculateStatus(){return this._allControlsDisabled()?iu:this.errors?lp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ha)?Ha:this._anyControlsHaveStatus(lp)?lp:ru}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){fp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Dq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=xq(this._rawAsyncValidators)}};var HM=new Y("CallSetDisabledState",{providedIn:"root",factory:()=>Qw}),Qw="always";function Mq(t,e){return[...e.path,t]}function Pq(t,e,n=Qw){Rq(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),kq(t,e),Fq(t,e),Nq(t,e),Oq(t,e)}function PM(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Oq(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Rq(t,e){let n=Iq(t);e.validator!==null?t.setValidators(AM(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=bq(t);e.asyncValidator!==null?t.setAsyncValidators(AM(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();PM(e._rawValidators,i),PM(e._rawAsyncValidators,i)}function kq(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&qM(t,e)})}function Nq(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&qM(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function qM(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Fq(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Vq(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Lq(t){return Object.getPrototypeOf(t.constructor)===Kw}function jq(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===go?n=o:Lq(o)?r=o:i=o}),i||r||n||null}function OM(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function RM(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Uq=class extends Ww{constructor(e=null,n,r){super(Sq(n),Aq(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(RM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){OM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){OM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){RM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Bq={provide:ou,useExisting:Bo(()=>Si)},kM=Promise.resolve(),Si=(()=>{let e=class e extends ou{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new Uq,this._registered=!1,this.name="",this.update=new it,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=jq(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),Vq(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Pq(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){kM.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&$n(i);kM.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?Mq(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(I(qw,9),I(yq,10),I(_q,10),I(hp,10),I(kr,8),I(HM,8))},e.\u0275dir=Ke({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[re.None,"disabled","isDisabled"],model:[re.None,"ngModel","model"],options:[re.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Sc([Bq]),We,si]});let t=e;return t})();var $q={provide:hp,useExisting:Bo(()=>pp),multi:!0};function GM(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function zq(t){return t.split(":")[0]}var pp=(()=>{let e=class e extends Kw{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=GM(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=zq(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=$t(e)))(o||e)}})(),e.\u0275dir=Ke({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&C("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Sc([$q]),We]});let t=e;return t})(),WM=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(GM(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(I(tt),I(li),I(pp,9))},e.\u0275dir=Ke({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),Hq={provide:hp,useExisting:Bo(()=>KM),multi:!0};function NM(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function qq(t){return t.split(":")[0]}var KM=(()=>{let e=class e extends Kw{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let c=0;c<a.length;c++){let l=a[c],u=this._getOptionValue(l.value);o.push(u)}}else{let a=i.options;for(let c=0;c<a.length;c++){let l=a[c];if(l.selected){let u=this._getOptionValue(l.value);o.push(u)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=qq(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=$t(e)))(o||e)}})(),e.\u0275dir=Ke({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&C("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Sc([Hq]),We]});let t=e;return t})(),QM=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(NM(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(NM(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(I(tt),I(li),I(KM,9))},e.\u0275dir=Ke({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var Gq=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ln({type:e}),e.\u0275inj=un({});let t=e;return t})();var bn=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:HM,useValue:r.callSetDisabledState??Qw}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ln({type:e}),e.\u0275inj=un({imports:[Gq]});let t=e;return t})();var gt=class{static format(e,...n){do e=e.replace("%s",n.shift()||"");while(e.includes("%s"));return e}static capitalize(e){if(!this.isEmpty(e))return e.substring(0,1).toUpperCase()+e.substring(1)}static isEmpty(e){return!e||typeof e!="string"||e.trim().length<=0}static getWordCount(e){return e.split(new RegExp(`[^ /
]+`,"g")).length-1}static encryptSimple(e){return e.split("").reverse().join("")}};var YM=(()=>{let e=class e extends _t{ngOnInit(){this.value=this.inputs.defaultValue,this.configuration={title:this.inputs.title,buttons:[{text:()=>"Cancel",click:()=>this.resolve(void 0)},{text:()=>this.inputs.positiveButtonText||"Submit",disabled:()=>!this.canSubmit(),click:()=>this.submit()}]}}canSubmit(){return!(gt.isEmpty(this.value)||this.inputs.validationFn&&!this.inputs.validationFn(this.value))}submit(){this.canSubmit()&&this.resolve(this.value)}close(){this.resolve(void 0)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=$t(e)))(o||e)}})(),e.\u0275cmp=G({type:e,selectors:[["app-input-dialog"]],standalone:!0,features:[We,K],decls:1,vars:2,consts:[["autofocus","",3,"ngModel","placeholder","ngModelChange"]],template:function(i,o){i&1&&(f(0,"input",0),hi("ngModelChange",function(a){return Hi(o.value,a)||(o.value=a),a}),p()),i&2&&(di("ngModel",o.value),_("placeholder",o.inputs.placeholder))},dependencies:[Z,bn,go,vo,Si],styles:["[_nghost-%COMP%]{display:block;width:650px;padding:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}"]});let t=e;return t})();function Wq(t,e){if(t&1&&(f(0,"span"),M(1),p()),t&2){let n=e.$implicit;v(),_e(n)}}var XM=(()=>{let e=class e extends _t{ngOnInit(){this.configuration={title:this.inputs.title,buttons:[{text:()=>"OK",click:()=>this.resolve()}]}}close(){this.resolve()}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=$t(e)))(o||e)}})(),e.\u0275cmp=G({type:e,selectors:[["app-message-dialog"]],standalone:!0,features:[We,K],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(f(0,"div",0),P(1,Wq,2,1,"span",1),p()),i&2&&(v(),_("ngForOf",o.inputs.messages))},dependencies:[Z,ke],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.9999999999rem}"]});let t=e;return t})();function Kq(t,e){if(t&1){let n=W();f(0,"div",7),C("click",function(){let o=T(n).$implicit,s=y();return S(s.toggle(o))}),N(1,"i",8),f(2,"span"),M(3),p(),N(4,"i",9),p()}if(t&2){let n=e.$implicit,r=y();v(3),_e(r.getText(n))}}function Qq(t,e){t&1&&N(0,"div",10)}function Yq(t,e){if(t&1){let n=W();f(0,"div",7),C("click",function(){let o=T(n).$implicit,s=y();return S(s.toggle(o))}),N(1,"i",9),f(2,"span"),M(3),p(),N(4,"i",9),p()}if(t&2){let n=e.$implicit,r=y();se("disabled",r.inputs.disableFn&&r.inputs.disableFn(n,r.selection))("unavailable",!r.isAvailable(n)),v(3),_e(r.getText(n))}}var JM=(()=>{let e=class e extends _t{constructor(){super(...arguments),this.query="",this.selection=[]}ngOnInit(){this.selection=this.inputs.defaultSelection?[...this.inputs.defaultSelection]:[],this.configuration={title:this.inputs.title,buttons:[{text:"Cancel",click:()=>this.resolve(void 0)},{text:()=>{let r;return this.inputs.positiveButtonText?typeof this.inputs.positiveButtonText=="string"?r=this.inputs.positiveButtonText:r=this.inputs.positiveButtonText():r="Submit",r+" ("+this.selection.length+")"},disabled:()=>!this.canSubmit(),click:()=>this.submit()}]}}isAvailable(r){return this.getText(r).toLocaleLowerCase().includes(this.query.toLocaleLowerCase())}getText(r){return this.inputs.getText?this.inputs.getText(r):r}toggle(r){k.toggle(this.selection,r,!0),this.inputs.onSelectionChange&&this.inputs.onSelectionChange(this.selection,r)}canSubmit(){return!0}submit(){this.canSubmit()&&this.resolve(this.selection)}close(){this.resolve(void 0)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=$t(e)))(o||e)}})(),e.\u0275cmp=G({type:e,selectors:[["app-multi-select-dialog"]],standalone:!0,features:[We,K],decls:7,vars:4,consts:[["placeholder","Search","autofocus","",3,"ngModel","ngModelChange"],[1,"content-container"],[1,"y-scrollbar-container","selection-container"],["class","flex-1 flex gap align-items-center cursor-pointer hover-brighten",3,"click",4,"ngFor","ngForOf"],["class","h-separator",4,"ngIf"],[1,"y-scrollbar-container","options-container"],["class","flex-1 flex gap align-items-center cursor-pointer hover-brighten",3,"disabled","unavailable","click",4,"ngFor","ngForOf"],[1,"flex-1","flex","gap","align-items-center","cursor-pointer","hover-brighten",3,"click"],[1,"fa-solid","fa-check",2,"margin-top","1px"],[1,"fa-solid","fa-check","opacity-0"],[1,"h-separator"]],template:function(i,o){i&1&&(f(0,"input",0),hi("ngModelChange",function(a){return Hi(o.query,a)||(o.query=a),a}),p(),f(1,"div",1)(2,"div",2),P(3,Kq,5,1,"div",3),p(),P(4,Qq,1,0,"div",4),f(5,"div",5),P(6,Yq,5,5,"div",6),p()()),i&2&&(di("ngModel",o.query),v(3),_("ngForOf",o.selection),v(),_("ngIf",o.selection.length),v(2),_("ngForOf",o.inputs.options))},dependencies:[Z,ke,be,bn,go,vo,Si],styles:["[_nghost-%COMP%]{display:block;padding:.3333333333rem .3333333333rem 0;line-height:24px;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media screen and (min-width: 768px){[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]{height:50vh}}[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]   .selection-container[_ngcontent-%COMP%]{max-height:50%}[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .unavailable[_ngcontent-%COMP%]{height:0;opacity:0;pointer-events:none}"]});let t=e;return t})();function Xq(t,e){if(t&1&&(f(0,"option",3),M(1),p()),t&2){let n=y();_("ngValue",null)("selected",!n.value),v(),Qd("== ",n.inputs.nullOption," ==")}}function Jq(t,e){if(t&1&&(f(0,"option",3),M(1),p()),t&2){let n=e.$implicit,r=y();_("ngValue",n)("selected",r.value===n),v(),_e(r.inputs.getText(n))}}var ZM=(()=>{let e=class e extends _t{ngOnInit(){this.value=this.inputs.defaultValue,this.configuration={title:this.inputs.title,buttons:[{text:()=>"Cancel",click:()=>this.resolve(void 0)},{text:()=>this.inputs.positiveButtonText||"Submit",disabled:()=>!this.canSubmit(),click:()=>this.submit()}]}}canSubmit(){return this.inputs.nullOption!=null||this.value!=null}submit(){this.canSubmit()&&this.resolve(this.value)}close(){this.resolve(void 0)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=$t(e)))(o||e)}})(),e.\u0275cmp=G({type:e,selectors:[["app-select-dialog"]],standalone:!0,features:[We,K],decls:3,vars:3,consts:[[3,"ngModel","ngModelChange"],[3,"ngValue","selected",4,"ngIf"],[3,"ngValue","selected",4,"ngFor","ngForOf"],[3,"ngValue","selected"]],template:function(i,o){i&1&&(f(0,"select",0),hi("ngModelChange",function(a){return Hi(o.value,a)||(o.value=a),a}),P(1,Xq,2,3,"option",1)(2,Jq,2,3,"option",2),p()),i&2&&(di("ngModel",o.value),v(),_("ngIf",o.inputs.nullOption),v(),_("ngForOf",o.inputs.options))},dependencies:[Z,ke,be,bn,WM,QM,pp,vo,Si],styles:["[_nghost-%COMP%]{display:block;padding:.3333333333rem}"]});let t=e;return t})();var ct=(()=>{let e=class e{constructor(r,i){this.applicationRef=r,this.injector=i,this.containerComponentInstances=[]}createMessage(r){return this.create(XM,r)}createConfirmation(r){return this.create(DM,r)}createInput(r){return this.create(YM,r)}createSelect(r){return this.create(ZM,r)}createMultiSelect(r){return this.create(JM,r)}create(r,i){let o=k.getLast(this.containerComponentInstances.filter(c=>c.contentComponentType==r));if(o&&!o.contentComponentInstance.configuration.allowMultiple)return;let s=eh(SM,{environmentInjector:this.injector}),a=s.instance;return a.contentComponentType=r,a.inputs=i,a.result.finally(()=>{k.remove(this.containerComponentInstances,a),this.applicationRef.detachView(s.hostView),s.destroy()}),o&&(a.top=o.top+10,a.left=o.left+10),this.containerComponentInstances.push(a),this.applicationRef.attachView(s.hostView),document.body.firstElementChild.appendChild(s.location.nativeElement),s.changeDetectorRef.detectChanges(),a.result}};e.\u0275fac=function(i){return new(i||e)(R(Rr),R(xt))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Zq(t,e){t&1&&N(0,"div",3),t&2&&_("@fade",void 0)}function eG(t,e){t&1&&N(0,"span",4),t&2&&_("@fade",void 0)}var eP=(()=>{let e=class e{constructor(r,i,o){this.keyboardShortcutService=r,this.applicationService=i,this.dialogService=o,this.hideLoadingBarDelay=new Wr(1500),fi(()=>{this.applicationService.changes()!==void 0&&this.hideLoadingBarDelay.restart()})}isBlurOverlayVisible(){return this.applicationService.loading()}getLoadingBarColor(){return this.applicationService.changes()?"orange":this.applicationService.errors()?"red":this.hideLoadingBarDelay.isActive()?"limegreen":"transparent"}onKeyDown(r){this.keyboardShortcutService.next(r)}};e.\u0275fac=function(i){return new(i||e)(I(za),I(at),I(ct))},e.\u0275cmp=G({type:e,selectors:[["app-root"]],hostBindings:function(i,o){i&1&&C("keydown",function(a){return o.onKeyDown(a)},!1,$d)},standalone:!0,features:[K],decls:4,vars:4,consts:[["class","overlay-blur",4,"ngIf"],[1,"overlay-loading-bar"],["class","loading-spinner",4,"ngIf"],[1,"overlay-blur"],[1,"loading-spinner"]],template:function(i,o){i&1&&(P(0,Zq,1,1,"div",0),N(1,"div",1),P(2,eG,1,1,"span",2),N(3,"router-outlet")),i&2&&(_("ngIf",o.isBlurOverlayVisible()),v(),Ht("background-color",o.getLoadingBarColor()),v(),_("ngIf",o.applicationService.loading()))},dependencies:[Z,be,aw],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:var(--color-text);background-color:var(--color-background-primary)}.overlay-blur[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);z-index:100;position:absolute}.overlay-loading-bar[_ngcontent-%COMP%]{width:100%;height:1px;align-self:start;pointer-events:none;z-index:100;position:absolute;background-color:transparent;transition-property:background-color;transition-duration:.5s}"],data:{animation:[$a]}});let t=e;return t})();var Tn=class{static isImage(e){return e.mimeType.includes("image")&&e.thumbnailLink!=null}static isVideo(e){return e.mimeType.includes("video")&&e.thumbnailLink!=null}static isFolder(e){return e.mimeType=="application/vnd.google-apps.folder"}};var qa=class{constructor(e){this.http=e,this.API_KEY="AIzaSyBLAfLb8QHSIqXPFTh2YJEMfMoW8EhJpRU"}createFile(e,n,r){let i="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return yn(this.http.post(i,{name:e,parents:n,mimeType:r}))}createFolder(e,n){let r="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return yn(this.http.post(r,{name:e,mimeType:"application/vnd.google-apps.folder",parents:[n]}))}getFolderMetadata(e="root"){let r="https://content.googleapis.com/drive/v3/files?pageSize=1000&q="+("'"+e+"' in parents and trashed=false")+"&fields=files("+this.FIELDS+")&key="+this.API_KEY;return this.getFileArrayPromise(r)}getEntityMetadata(e){let n="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return yn(this.http.get(n))}getContent(e){let n="https://www.googleapis.com/drive/v3/files/"+e;return yn(this.http.get(n,{params:{alt:"media"},responseType:"json"}))}updateContent(e,n){let r="https://www.googleapis.com/upload/drive/v3/files/"+e+"?uploadType=media";return yn(this.http.patch(r,n))}move(e,n,r){let i="https://www.googleapis.com/drive/v3/files/"+e+"?removeParents="+n+"&addParents="+r+"&key="+this.API_KEY;return yn(this.http.patch(i,{}))}trash(e){return this.updateMetadata(e,{trashed:!0})}updateProperty(e,n,r){return this.updateMetadata(e,{appProperties:{[n]:r}})}updateProperties(e,n){return this.updateMetadata(e,{appProperties:n})}download(e){return E(this,null,function*(){let n="https://www.googleapis.com/drive/v3/files/"+e.id,r=yield yn(this.http.get(n,{params:{alt:"media"},responseType:"blob"})),i=URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download=e.name,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)})}openFolderById(e){let n="https://drive.google.com/drive/folders/"+e;window.open(n,"_blank")}openSearch(e){let n="https://drive.google.com/drive/search?q="+e+"%20title:"+e;window.open(n,"_blank")}updateMetadata(e,n){let r="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return yn(this.http.patch(r,n))}getFileArrayPromise(e,n){return n?yn(this.http.post(e,n).pipe(ie(r=>r?r.files:[]))):yn(this.http.get(e).pipe(ie(r=>r?r.files:[])))}};var Kr=(()=>{let e=class e extends qa{constructor(r){super(r),this.http=r,this.FIELDS="id,name,mimeType,thumbnailLink,imageMediaMetadata,videoMediaMetadata"}get dataFileId(){if(!this._fileId){let r=sessionStorage.getItem("dataFileId");r&&(this._fileId=r)}return this._fileId}set dataFileId(r){this._fileId=r,sessionStorage.setItem("dataFileId",r)}getData(){return E(this,null,function*(){let r="https://www.googleapis.com/drive/v3/files/"+this.dataFileId;return yield yn(this.http.get(r,{params:{alt:"media"},responseType:"json"})).catch(i=>i)})}getBase64(r){return E(this,null,function*(){return new Promise(i=>{let o="https://www.googleapis.com/drive/v3/files/"+r;this.http.get(o,{params:{alt:"media"},responseType:"blob"}).subscribe(s=>{let a=new FileReader;a.onload=c=>i(c.target.result),a.readAsDataURL(s)})})})}};e.\u0275fac=function(i){return new(i||e)(R(Go))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tG(t,e){if(t&1){let n=W();f(0,"span",6),C("click",function(){let o=T(n).$implicit,s=y(2);return S(s.onDataFileClick(o))}),M(1),p()}if(t&2){let n=e.$implicit;v(),_e(n.name.substring(0,n.name.length-10))}}function nG(t,e){if(t&1){let n=W();f(0,"span",6),C("click",function(){let o=T(n).$implicit,s=y(2);return S(s.onFolderClick(o))}),M(1),p()}if(t&2){let n=e.$implicit;v(),_e(n.name)}}function rG(t,e){if(t&1&&(f(0,"div",4),P(1,tG,2,1,"span",5)(2,nG,2,1,"span",5),p()),t&2){let n=y();v(),_("ngForOf",n.dataFiles),v(),_("ngForOf",n.folders)}}var tP=(()=>{let e=class e{constructor(r,i,o){this.router=r,this.googleService=i,this.applicationService=o,this.FOLDER_ROOT="root",this.FOLDER_GALLERY_DATA="gallerydata",this.SUFFIX_DATA_FILE="-data.json",this.SUFFIX_ARCHIVE_FOLDER="-archive",this.applicationService.loading.set(!0)}ngOnInit(){return E(this,null,function*(){let r=yield this.googleService.getFolderMetadata();this.dataFolder=r.find(s=>s.name==this.FOLDER_GALLERY_DATA),this.dataFolder||(this.dataFolder=yield this.googleService.createFolder(this.FOLDER_GALLERY_DATA,this.FOLDER_ROOT));let i=yield this.googleService.getFolderMetadata(this.dataFolder.id);this.dataFiles=i.filter(s=>s.name.endsWith(this.SUFFIX_DATA_FILE));let o=this.dataFiles.map(s=>s.name.substring(0,s.name.indexOf(this.SUFFIX_DATA_FILE)));this.folders=r.filter(s=>Tn.isFolder(s)&&!o.includes(s.name)&&s.name!=this.FOLDER_GALLERY_DATA),this.applicationService.loading.set(!1)})}onDataFileClick(r){this.applicationService.loading.set(!0),this.googleService.dataFileId=r.id,this.router.navigate(["/gallery"])}onFolderClick(r){return E(this,null,function*(){this.applicationService.loading.set(!0);let i=yield this.googleService.createFile(r.name+this.SUFFIX_DATA_FILE,[this.dataFolder.id],"application/json"),o=yield this.googleService.createFolder(r.name+this.SUFFIX_ARCHIVE_FOLDER,this.dataFolder.id);this.googleService.dataFileId=i.id,this.googleService.updateContent(i.id,{dataFolderId:r.id,archiveFolderId:o.id}).then(()=>{this.router.navigate(["/gallery"])})})}};e.\u0275fac=function(i){return new(i||e)(I(In),I(Kr),I(at))},e.\u0275cmp=G({type:e,selectors:[["app-folder-picker"]],standalone:!0,features:[K],decls:4,vars:4,consts:[[1,"container"],["class","folders-container",4,"ngIf"],[1,"buttons-container"],["tp","Toggle Low Bandwidth Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"folders-container"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(i,o){i&1&&(f(0,"div",0),P(1,rG,3,2,"div",1),f(2,"div",2)(3,"i",3),C("click",function(){return o.applicationService.reduceBandwidth=!o.applicationService.reduceBandwidth}),p()()()),i&2&&(se("opacity-100",!o.applicationService.loading()),v(),_("ngIf",!0),v(2),_("ngClass",o.applicationService.reduceBandwidth?"fa-signal":"fa-wifi"))},dependencies:[Z,vt,ke,be],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--color-text);gap:.3333333333rem;opacity:0;transition-property:opacity;transition-duration:.5s}.folders-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-text);border-radius:.3333333333rem;width:300px}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.3333333333rem;border-bottom:1px solid var(--color-text);cursor:pointer;-webkit-user-select:none;user-select:none}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background-color:var(--color-background-hover)}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{border:0}.buttons-container[_ngcontent-%COMP%]{display:flex}"]});let t=e;return t})();var Ga=(()=>{let e=class e{set ngVar(r){this.context.ngVar=r}static ngTemplateContextGuard(r,i){return!0}constructor(r,i){this.containerRef=r,this.templateRef=i,this.context=new Yw,this.containerRef.createEmbeddedView(this.templateRef,this.context)}};e.\u0275fac=function(i){return new(i||e)(I(zt),I(or))},e.\u0275dir=Ke({type:e,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"},standalone:!0});let t=e;return t})(),Yw=class{};var Fe=(()=>{let e=class e{constructor(){this.images=[],this.imageGroups=[],this.fullscreenImage=Or(null),this.filterVisible=mt.isLargeScreen(),this.taggerVisible=mt.isLargeScreen()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var au=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var Di=class{get pseudo(){return!this.group&&this.children.length!=0}getNameWithParents(e=" / "){return this.collectParents().concat(this).map(n=>n.name).join(e)}getCount(e){return this.group?null:this.pseudo?e.filter(n=>k.intersection(n.tags,this.children).length).length:e.filter(n=>n.tags.includes(this)).length}collectParents(){return this._collectParents(this,[])}_collectParents(e,n){return e.parent&&(n.unshift(e.parent),this._collectParents(e.parent,n)),n}collectChildren(){return this._collectChildren(this,[])}_collectChildren(e,n){if(e.group)for(let r of e.children)n.push(r),this._collectChildren(r,n);return n}};var gp=class{};var vp=class{};var yp=class extends vp{};var nP=(()=>{let e=class e{constructor(){this.valueChange=new it}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-checkbox"]],inputs:{value:"value"},outputs:{valueChange:"valueChange"},standalone:!0,features:[K],decls:1,vars:1,consts:[[1,"cursor-pointer","fa-regular",3,"ngClass","click"]],template:function(i,o){i&1&&(f(0,"i",0),C("click",function(){return o.value=!o.value,o.valueChange.emit(o.value)}),p()),i&2&&_("ngClass",o.value?"fa-circle-check":"fa-circle")},dependencies:[Z,vt]});let t=e;return t})();function iG(t,e){if(t&1){let n=W();Ee(0),f(1,"div",1)(2,"span",2),M(3,"Dark Mode"),p(),f(4,"app-checkbox",3),C("valueChange",function(){T(n);let i=y();return S(i.applicationService.toggleTheme())}),p()(),N(5,"div",4),f(6,"div",1)(7,"span",2),M(8,"Show Tag Count"),p(),f(9,"app-checkbox",3),C("valueChange",function(i){T(n);let o=y();return S(o.onShowTagCountValueChange(i))}),p()(),N(10,"div",4),f(11,"div",1)(12,"span",2),M(13,"Show Videos"),p(),f(14,"app-checkbox",3),C("valueChange",function(i){T(n);let o=y();return S(o.onShowVideosValueChange(i))}),p()(),N(15,"div",4),f(16,"div",1)(17,"span",2),M(18,"Auto Bookmark"),p(),f(19,"app-checkbox",3),C("valueChange",function(i){T(n);let o=y();return S(o.onAutoBookmarkValueChange(i))}),p()(),N(20,"div",4),f(21,"div",5),C("click",function(){T(n);let i=y();return S(i.bookmarkImages())}),M(22,"Bookmark All Images"),p(),f(23,"div",5),C("click",function(){T(n);let i=y();return S(i.resetDialogPositions())}),M(24,"Reset Dialog Positions"),p(),Ce()}if(t&2){let n=y();v(4),_("value",n.applicationService.isDarkTheme()),v(5),_("value",n.stateService.settings.showTagCount),v(5),_("value",n.stateService.settings.showVideos),v(5),_("value",n.stateService.settings.autoBookmark)}}var _p=(()=>{let e=class e extends _t{constructor(r,i,o,s,a){super(),this.serializationService=r,this.dialogService=i,this.filterService=o,this.applicationService=s,this.stateService=a,this.configuration={title:"Settings",buttons:[{text:()=>"Save",click:()=>this.submit()}],hideHeaderCloseButton:!0},this.needsFilterRefresh=!1,this.needsDataUpdate=!1}ngOnInit(){this.stateService.settings||(this.stateService.settings={})}onShowTagCountValueChange(r){this.needsDataUpdate=!0,this.stateService.settings.showTagCount=r}onShowVideosValueChange(r){this.needsDataUpdate=!0,this.needsFilterRefresh=!0,this.stateService.settings.showVideos=r}onAutoBookmarkValueChange(r){this.needsDataUpdate=!0,this.stateService.settings.autoBookmark=r}bookmarkImages(){this.dialogService.createConfirmation({title:"Confirmation: Bookmark All Images",messages:["Are you sure you want to bookmark all images?"]}).then(r=>{r&&(this.stateService.images.forEach(i=>i.bookmark=!0),this.filterService.updateFilters(),this.serializationService.save())})}resetDialogPositions(){this.dialogService.containerComponentInstances.forEach(r=>{r.top=null,r.left=null});for(let r=0;r<localStorage.length;r++){let i=localStorage.key(r);(i.endsWith(".top")||i.endsWith(".left"))&&localStorage.removeItem(i)}}close(){this.stateService.images&&(this.needsFilterRefresh&&this.filterService.updateFilters(),this.needsDataUpdate&&this.serializationService.save()),this.resolve(!0)}};e.\u0275fac=function(i){return new(i||e)(I(on),I(ct),I(Ze),I(at),I(Fe))},e.\u0275cmp=G({type:e,selectors:[["app-gallery-settings"]],standalone:!0,features:[We,K],decls:1,vars:1,consts:[[4,"ngIf"],[1,"option-container"],[1,"nowrap","user-select-none"],[3,"value","valueChange"],[1,"h-separator"],[1,"button","action-button",3,"click"]],template:function(i,o){i&1&&P(0,iG,25,4,"ng-container",0),i&2&&_("ngIf",o.stateService.settings)},dependencies:[Z,be,nP],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem;padding:.3333333333rem}[_nghost-%COMP%] > .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%] > .button.action-button[_ngcontent-%COMP%]{min-height:initial;padding:.3333333333rem 0}[_nghost-%COMP%] > .option-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:.3333333333rem}"]});let t=e;return t})();var on=(()=>{let e=class e{constructor(r,i,o,s,a){this.injector=r,this.sanitizer=i,this.applicationService=o,this.dialogService=s,this.googleService=a,this.saveDelay=new Wr(5e3)}processData(){return E(this,null,function*(){let r=this.injector.get(Fe),i=yield this.googleService.getData();r.dataFolderId=i.dataFolderId,r.archiveFolderId=i.archiveFolderId,r.comparison=i.comparison;let o=this.injector.get(Ze);o.filterFavorites.state=i.heartsFilter||0,o.filterBookmarks.state=i.bookmarksFilter||0,o.filterGroups.state=i.filterGroups||0,i.imageProperties||(i.imageProperties=[]),i.groupProperties||(i.groupProperties=[]),i.tagProperties||(i.tagProperties=[]);let s=this.injector.get(Xt);k.push(s.tags,i.tagProperties.map(c=>this.parseTag(c))),s.tags.forEach(c=>c.children=i.tagProperties.find(l=>l.id==c.id).childIds.map(l=>s.tags.find(u=>u.id==l))),s.tags.forEach(c=>c.parent=s.tags.find(l=>l.children.includes(c))),i.settings?r.settings=i.settings:yield this.dialogService.create(_p);let a=new Set;yield this.processImages(i,r.dataFolderId,r.images,s.tags,a),yield Promise.all(a);for(let c of i.imageProperties.filter(l=>!r.images.some(u=>l.id==u.id)))console.log(c),console.log("This image does not exist, but has a data entry. Removing image entry from data."),k.remove(r.images,r.images.find(l=>l.id==c.id));k.push(r.imageGroups,i.groupProperties.map(c=>{let l=new gp;return l.images=r.images.filter(u=>c.imageIds.includes(u.id)),l.images.sort((u,d)=>c.imageIds.indexOf(u.id)-c.imageIds.indexOf(d.id)),l.images.forEach(u=>u.group=l),l})),o.updateFilters(),this.applicationService.loading.set(!1),i.settings||this.save()})}processImages(r,i,o,s,a){return E(this,null,function*(){let c=yield this.googleService.getFolderMetadata(i);for(let l of c.filter(u=>Tn.isFolder(u)))a.add(this.processImages(r,l.id,o,s,a));k.push(o,c.filter(l=>Tn.isImage(l)||Tn.isVideo(l)).map(l=>this.metaToImage(l,r.imageProperties.find(u=>u.id==l.id),i,s,this.applicationService.reduceBandwidth)))})}metaToImage(r,i,o,s,a){let c=new yp;return c.id=r.id,c.name=r.name,c.mimeType=r.mimeType,c.parentFolderId=o,a?c.thumbnailLink=r.thumbnailLink:c.thumbnailLink=r.thumbnailLink.replace("=s220","=w440"),Tn.isImage(c)?(c.imageMediaMetadata=r.imageMediaMetadata,c.aspectRatio=c.imageMediaMetadata.width/c.imageMediaMetadata.height,c.contentLink=r.thumbnailLink.replace("=s220","=s"+Math.max(window.screen.width,window.screen.height))):Tn.isVideo(c)&&(c.videoMediaMetadata=r.videoMediaMetadata,c.videoMediaMetadata||(c.videoMediaMetadata={}),(!c.videoMediaMetadata.width||c.videoMediaMetadata.width==0)&&(c.videoMediaMetadata.width=1920),(!c.videoMediaMetadata.height||c.videoMediaMetadata.height==0)&&(c.videoMediaMetadata.height=1080),c.aspectRatio=c.videoMediaMetadata.width/c.videoMediaMetadata.height,c.contentLink=this.sanitizer.bypassSecurityTrustResourceUrl("https://drive.google.com/file/d/"+c.id+"/preview")),i?(c.heart=i.heart,c.bookmark=i.bookmark,c.tags=i.tagIds.map(l=>s.find(u=>u.id==l))):(c.heart=!1,c.bookmark=!0,c.tags=[]),c}parseTag(r){let i=new Di;return i.id=r.id,i.name=r.name,i.group=r.group,i.state=r.state,i.open=!1,i}save(r=!1){this.applicationService.changes.set(!0),this.saveDelay.restart(()=>this.serialize()),r&&this.saveDelay.complete()}serialize(){let r=this.injector.get(Fe),i=this.injector.get(Ze),o=this.injector.get(Xt),s={};s.dataFolderId=r.dataFolderId,s.archiveFolderId=r.archiveFolderId,s.heartsFilter=i.filterFavorites.state,s.bookmarksFilter=i.filterBookmarks.state,s.filterGroups=i.filterGroups.state,s.settings=r.settings,s.comparison=r.comparison,s.imageProperties=r.images.map(a=>this.serializeImage(a)),s.groupProperties=r.imageGroups.filter(a=>!k.isEmpty(a.images)).map(a=>this.serializeGroup(a)),s.tagProperties=o.tags.map(a=>this.serializeTag(a)),this.googleService.updateContent(this.googleService.dataFileId,s).then(a=>{a||this.applicationService.errors.set(!0)}).finally(()=>{this.applicationService.changes.set(!1)})}serializeImage(r){let i={};return i.id=r.id,i.heart=r.heart,i.bookmark=r.bookmark,i.tagIds=r.tags.map(o=>o.id),i}serializeGroup(r){let i={};return i.imageIds=r.images.map(o=>o.id),i}serializeTag(r){let i={};return i.id=r.id,i.name=r.name,i.group=r.group,i.state=r.state,i.childIds=r.children.map(o=>o.id),i}};e.\u0275fac=function(i){return new(i||e)(R(Ge),R(Y_),R(at),R(ct),R(Kr))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Xt=(()=>{let e=class e{constructor(r,i,o,s){this.injector=r,this.dialogService=i,this.stateService=o,this.serializationService=s,this.tags=[]}getRootTags(){return this.tags.filter(r=>!r.parent)}getParentPseudoTags(r){return this.tags.filter(i=>i.pseudo&&i.children.includes(r))}sort(r,i=!1){r&&(i?r.sort((o,s)=>o.getNameWithParents().localeCompare(s.getNameWithParents())):r.sort((o,s)=>o.name.localeCompare(s.name)))}openTagCreate(r){return E(this,null,function*(){if(r){let i=yield this.dialogService.createInput({title:"Create Tag: "+r.getNameWithParents(),placeholder:"Name",validationFn:o=>!r.children.filter(s=>!s.group).map(s=>s.name).includes(o)});if(!gt.isEmpty(i)){let o=new Di;o.id=au(),o.name=i,o.group=!1,o.state=0,o.parent=r,o.children=[],r.children.push(o),this.sort(r.children),this.tags.push(o),this.sort(this.tags),this.serializationService.save()}}})}openTagGroupCreate(r){return E(this,null,function*(){if(r){let i=yield this.dialogService.createInput({title:"Create Tag Group: "+r.getNameWithParents(),placeholder:"Name",validationFn:o=>!r.children.filter(s=>s.group).map(s=>s.name).includes(o)});if(!gt.isEmpty(i)){let o=new Di;o.id=au(),o.name=i,o.group=!0,o.state=0,o.parent=r,o.children=[],o.open=!0,r.children.push(o),this.sort(r.children),this.tags.push(o),this.sort(this.tags),this.serializationService.save()}}else{let i=yield this.dialogService.createInput({title:"Create Tag Group: Root",placeholder:"Name",validationFn:o=>!this.tags.filter(s=>!s.parent).map(s=>s.name).includes(o)});if(!gt.isEmpty(i)){let o=new Di;o.id=au(),o.name=i,o.group=!0,o.state=0,o.parent=r,o.children=[],o.open=!0,this.tags.push(o),this.sort(this.tags),this.serializationService.save()}}})}insertTagGroup(r){return E(this,null,function*(){if(r&&(yield this.dialogService.createConfirmation({title:"Confirmation",messages:["Insert Tag Group between '"+r.getNameWithParents()+"' and its parent?"]}))){let i=new Di;i.id=au(),i.name=r.name,i.group=!0,i.state=0,i.parent=r.parent,i.children=[r],i.open=!0,k.remove(r.parent.children,r),k.push(r.parent.children,i),this.sort(r.parent.children),r.parent=i,this.tags.push(i),this.serializationService.save()}})}openTagRename(r){return E(this,null,function*(){let i=yield this.dialogService.createInput({title:"Rename: "+r.getNameWithParents(),placeholder:"Name",defaultValue:r.name,validationFn:o=>r.parent?!r.parent.children.map(s=>s.name).includes(o):!this.tags.filter(s=>!s.parent).map(s=>s.name).includes(o)});gt.isEmpty(i)||(r.name=i,this.sort(r.parent?.children),this.sort(this.tags),this.serializationService.save())})}openTagDelete(r){return E(this,null,function*(){let i;if(r.group?i="Delete '"+r.getNameWithParents()+"' and its descendants?":i="Delete '"+r.getNameWithParents()+"'",yield this.dialogService.createConfirmation({title:"Confirmation",messages:[i]})){k.remove(r.parent?.children,r);let o=r.collectChildren().concat(r);k.remove(this.tags,o);for(let s of this.stateService.images)k.remove(s.tags,o);this.injector.get(Ze).updateFilters(),this.serializationService.save()}})}openTagParentChange(r){return E(this,null,function*(){let i=r.collectChildren(),o=this.tags.filter(a=>!(!a.group||a==r||a==r.parent||i.includes(a)||a.children.map(c=>c.name).includes(r.name))),s=yield this.dialogService.createSelect({title:"Change Parent: "+r.getNameWithParents(),options:o,nullOption:r.parent?"Root":null,defaultValue:r.parent,getText:a=>a.getCompleteName()});this.changeParent(r,s)})}changeParent(r,i){r.group&&i===null?(k.remove(r.parent?.children,r),r.parent=null,this.injector.get(Ze).updateFilters(...this.stateService.images.filter(o=>o.tags.includes(r))),this.serializationService.save()):i&&(k.remove(r.parent?.children,r),r.parent=i,r.parent.open=!0,r.parent.children.push(r),this.sort(r.parent.children),this.injector.get(Ze).updateFilters(...this.stateService.images.filter(o=>o.tags.includes(r))),this.serializationService.save())}editPseudoList(r){return E(this,null,function*(){if(!r.group){let i=this.tags.filter(s=>!(s==r||s.group||s.pseudo));this.sort(i,!0);let o=yield this.dialogService.createMultiSelect({title:"Edit Pseudo List: "+r.getNameWithParents(),options:i,getText:s=>s.getNameWithParents(),defaultSelection:r.children,disableFn:(s,a)=>{for(let c of a)if(c.collectChildren().includes(s))return!0},onSelectionChange:(s,a)=>{let c=a.collectChildren();for(let l of s)c.includes(l)&&k.remove(s,l)}});o&&(k.isEmpty(r.children)&&this.stateService.images.forEach(s=>k.remove(s.tags,r)),r.children=o,this.sort(r.children,!0),this.injector.get(Ze).updateFilters(),this.serializationService.save())}})}};e.\u0275fac=function(i){return new(i||e)(R(Ge),R(ct),R(Fe),R(on))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ze=(()=>{let e=class e{constructor(r,i){this.stateService=r,this.tagService=i,this.images=Or([]),this.masonryImages=Xb(()=>this.images().filter(o=>o.group?o==o.group.images.find(s=>s.passesFilters):!0)),this.filterFavorites={state:0},this.filterBookmarks={state:0},this.filterGroups={state:0}}updateFilters(...r){(k.isEmpty(r)?this.stateService.images:r).forEach(i=>i.passesFilters=this.doesPassFilters(i)),this.images.set(this.stateService.images.filter(i=>i.passesFilters))}doesPassFilters(r){return!r||!this.doesPassFilter(this.filterFavorites,r.heart)||!this.doesPassFilter(this.filterBookmarks,r.bookmark)||!this.doesPassFilter(this.filterGroups,r.group!=null)||!this.stateService.settings.showVideos&&Tn.isVideo(r)?!1:this.doesPassTagsCheck(r,this.tagService.getRootTags())}doesPassFilter(r,i){return!(r.state==-1&&i||r.state==1&&!i)}doesPassTagsCheck(r,i){for(let o of i)if(o.state==0){if(o.group&&!this.doesPassTagsCheck(r,o.children))return!1}else if(o.group){let s=k.intersection(r.tags,o.collectChildren().concat(o));if(o.state==-1&&s.length!=0||o.state==1&&s.length==0)return!1}else if(o.pseudo){let s=k.intersection(r.tags,o.children);if(o.state==-1&&s.length!=0||o.state==1&&s.length==0)return!1}else{let s=r.tags.includes(o);if(o.state==-1&&s||o.state==1&&!s)return!1}return!0}};e.\u0275fac=function(i){return new(i||e)(R(Fe),R(Xt))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var wp=(()=>{let e=class e{constructor(r){this.tagService=r}dragStart(r,i){console.log("dragstart: "+i.name),this.dragStartTag=i}dragEnter(r,i){console.log("dragenter: "+i.name)}dragLeave(r,i){console.log("dragleave: "+i.name)}dragDrop(r,i){console.log("drop: "+i.name),i!=this.dragStartTag&&i.parent!=this.dragStartTag&&this.tagService.changeParent(this.dragStartTag,i.group?i:i.parent)}dragEnd(r,i){console.log("dragend: "+i.name)}};e.\u0275fac=function(i){return new(i||e)(R(Xt))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Wa=(()=>{let e=class e{constructor(r){let i=r.element.nativeElement;i.draggable=!0,i.ondragstart=()=>e.onDragStart(this.array,this.array.indexOf(this.object)),i.ondragenter=()=>e.onDragEnter(this.array,this.array.indexOf(this.object)),i.ondragend=()=>e.onDragEnd(this.array),i.ondragover=o=>o.preventDefault()}static onDragStart(r,i){this.currentArray==null&&this.currentIndex==null&&(this.currentArray=r,this.currentIndex=i)}static onDragEnter(r,i){this.currentArray==r&&this.currentIndex!=i&&(this.currentArray.splice(i,0,this.currentArray.splice(this.currentIndex,1)[0]),this.currentIndex=i)}static onDragEnd(r){this.currentArray==r&&(console.log("onDragEnd"),this.currentArray=null,this.currentIndex=null)}};e.\u0275fac=function(i){return new(i||e)(I(zt))},e.\u0275dir=Ke({type:e,selectors:[["","dragdrop",""]],inputs:{object:[re.None,"dragdrop","object"],array:[re.None,"dragdropParent","array"]},standalone:!0});let t=e;return t})();function oG(t,e){t&1&&(f(0,"span"),M(1,"No Images"),p())}function sG(t,e){if(t&1){let n=W();f(0,"div",4),C("click",function(){let o=T(n).$implicit,s=y(3);return S(s.stateService.fullscreenImage.set(o))}),f(1,"i",5),C("click",function(i){let s=T(n).$implicit,a=y(3);return i.stopPropagation(),S(a.removeImage(s))}),p(),f(2,"img",6,7),C("load",function(){T(n);let i=nt(3);return S(i.style.opacity="1")}),p()()}if(t&2){let n=e.$implicit,r=y(3);_("dragdrop",n)("dragdropParent",r.stateService.groupEditorGroup.images),v(2),Ht("width",120*n.aspectRatio,"px"),_("src",n.thumbnailLink,Pr)}}function aG(t,e){if(t&1&&(f(0,"div",2),P(1,sG,4,5,"div",3),p()),t&2){let n=y(2);v(),_("ngForOf",n.stateService.groupEditorGroup.images)}}function cG(t,e){if(t&1&&(Ee(0),P(1,oG,2,0,"span",0)(2,aG,2,1,"div",1),Ce()),t&2){let n=y();v(),_("ngIf",n.stateService.groupEditorGroup.images.length==0),v(),_("ngIf",n.stateService.groupEditorGroup.images.length>0)}}var iP=(()=>{let e=class e extends _t{constructor(r,i,o,s){super(),this.filterService=r,this.serializationService=i,this.stateService=o,this.dialogService=s,this.configuration={title:"Group Manager",buttons:[{text:()=>"Disband",hidden:()=>this.inputs.sourceGroup==null,click:()=>{this.dialogService.createConfirmation({title:"Confirmation: Disband Image Group",messages:["Are you sure you want to disband this group of images?"]}).then(a=>{a&&this.disband()})}},{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Save",disabled:()=>this.stateService.groupEditorGroup.images.length<2,click:()=>this.submit()}],hideClickOverlay:!0}}ngOnInit(){this.stateService.groupEditorGroup={images:this.inputs.sourceGroup?[...this.inputs.sourceGroup.images]:[]},this.filterService.updateFilters()}removeImage(r){k.remove(this.stateService.groupEditorGroup.images,r)}disband(){let r=this.inputs.sourceGroup;if(r){k.remove(this.stateService.imageGroups,r);for(let i of r.images)delete i.group;this.serializationService.save(!0),this.close()}}submit(){let r=this.inputs.sourceGroup,i=this.stateService.groupEditorGroup;i.images.length>0&&(r?(r.images.forEach(o=>o.group=null),r.images=[...i.images],r.images.forEach(o=>o.group=r)):(this.stateService.imageGroups.push(i),i.images.forEach(o=>o.group=i)),this.serializationService.save(!0),this.close())}close(){this.stateService.groupEditorGroup=null,this.filterService.updateFilters(),this.resolve()}};e.\u0275fac=function(i){return new(i||e)(I(Ze),I(on),I(Fe),I(ct))},e.\u0275cmp=G({type:e,selectors:[["app-group-editor"]],standalone:!0,features:[We,K],decls:1,vars:1,consts:[[4,"ngIf"],["class","order-container",4,"ngIf"],[1,"order-container"],["class","image-container",3,"dragdrop","dragdropParent","click",4,"ngFor","ngForOf"],[1,"image-container",3,"dragdrop","dragdropParent","click"],["tp","Remove",1,"icon-button-small","fa-solid","fa-times",3,"click"],[3,"src","load"],["imageElement",""]],template:function(i,o){i&1&&P(0,cG,3,2,"ng-container",0),i&2&&_("ngIf",o.stateService.groupEditorGroup)},dependencies:[Z,ke,be,Wa,Vt],styles:["[_nghost-%COMP%]{height:120px;min-height:120px;display:flex;align-items:center;justify-content:center;padding:.3333333333rem}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]{height:120px;min-height:120px;display:flex;gap:.3333333333rem;overflow-x:auto;overflow-y:hidden}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;position:relative;justify-content:center;align-items:center;border-radius:.3333333333rem;cursor:pointer}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{opacity:0;pointer-events:none;position:absolute;top:0;right:0}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]:hover > i[_ngcontent-%COMP%]{opacity:1;pointer-events:all}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;border-radius:.3333333333rem;opacity:0;transition-property:opacity;transition-duration:.5s}"]});let t=e;return t})();function lG(t,e){if(t&1){let n=W();f(0,"div",0),C("click",function(){T(n);let i=y();return S(i.createTag())}),M(1,"Create Tag"),p(),f(2,"div",0),C("click",function(){T(n);let i=y();return S(i.createTagGroup())}),M(3,"Create Tag Group"),p()}}function uG(t,e){if(t&1){let n=W();f(0,"div",1)(1,"div",0),C("click",function(){T(n);let i=y();return S(i.editPseudoList())}),M(2,"Edit Pseudo List"),p()(),f(3,"div",0),C("click",function(){T(n);let i=y();return S(i.insertTagGroup())}),M(4,"Insert Tag Group"),p()}if(t&2){let n=y();_("tp",n.getPseudoListEditDisabledMessage()),v(),se("disabled",n.isEditPseudoListDisabled())}}var oP=(()=>{let e=class e extends _t{constructor(r,i){super(),this.tagService=r,this.stateService=i,this.configuration={title:()=>"Tag: "+this.inputs.tag.getNameWithParents(),buttons:[{text:()=>"Cancel",click:()=>this.close()}]}}renameTag(){this.tagService.openTagRename(this.inputs.tag),this.close()}deleteTag(){this.tagService.openTagDelete(this.inputs.tag),this.close()}changeTagParent(){this.tagService.openTagParentChange(this.inputs.tag),this.close()}createTag(){this.tagService.openTagCreate(this.inputs.tag),this.close()}createTagGroup(){this.tagService.openTagGroupCreate(this.inputs.tag),this.close()}getPseudoListEditDisabledMessage(){if(this.stateService.images.some(i=>i.tags.includes(this.inputs.tag)))return"Disabled: Tag is in use";let r=this.tagService.getParentPseudoTags(this.inputs.tag);return r.length==0?null:`Disabled: Tag is in a pseudo list of '${r.map(i=>i.getNameWithParents()).join("; ")}'`}isEditPseudoListDisabled(){return!!(this.stateService.images.some(r=>r.tags.includes(this.inputs.tag))||this.tagService.getParentPseudoTags(this.inputs.tag).length)}editPseudoList(){this.tagService.editPseudoList(this.inputs.tag),this.close()}insertTagGroup(){this.tagService.insertTagGroup(this.inputs.tag),this.close()}close(){this.resolve()}};e.\u0275fac=function(i){return new(i||e)(I(Xt),I(Fe))},e.\u0275cmp=G({type:e,selectors:[["app-tag-manager"]],standalone:!0,features:[We,K],decls:8,vars:1,consts:[[1,"button","action-button",3,"click"],[3,"tp"]],template:function(i,o){i&1&&(f(0,"div",0),C("click",function(){return o.renameTag()}),M(1,"Rename"),p(),f(2,"div",0),C("click",function(){return o.deleteTag()}),M(3,"Delete"),p(),f(4,"div",0),C("click",function(){return o.changeTagParent()}),M(5,"Change Parent"),p(),P(6,lG,4,0)(7,uG,5,3)),i&2&&(v(6),aa(6,o.inputs.tag.group?6:7))},dependencies:[Z,Vt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem;padding:.3333333333rem}[_nghost-%COMP%]   .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .button.action-button[_ngcontent-%COMP%]{min-height:initial;padding:.3333333333rem 0}"]});let t=e;return t})();var Qr=(()=>{let e=class e{constructor(r,i,o,s,a,c,l){this.serializationService=r,this.dialogService=i,this.tippyService=o,this.filterService=s,this.stateService=a,this.applicationService=c,this.googleService=l}openFileInformation(r){this.dialogService.createMessage({title:"File Information",messages:["File Name: "+r.name,"File Type: "+r.mimeType,"Resolution: "+r.imageMediaMetadata.width+"\xD7"+r.imageMediaMetadata.height]})}openImageGroupEditor(r){this.dialogService.create(iP,{sourceGroup:r})}openSettings(){this.dialogService.create(_p)}openTagOptions(r){this.dialogService.create(oP,{tag:r})}openYandexReverseImageSearch(r,i){let o="https://yandex.com/images/search?rpt=imageview&url="+encodeURIComponent(i.thumbnailLink.replace(new RegExp("=s..."),"=s9999"));r.altKey?(navigator.clipboard.writeText(o),this.tippyService.create(r.target,"URL copied to clipboard!",{trigger:"click",onShow(s){setTimeout(()=>{s.hide()},3e3)},onHidden(s){s.destroy()}}).show()):window.open(o,"_blank")}delete(r,i,o=!0){return E(this,null,function*(){if(o&&!(yield this.dialogService.createConfirmation({title:"Confirmation",messages:["Are you sure you want to "+(i?"archive":"delete")+" this image?"]})))return;this.applicationService.loading.set(!0),i?yield this.googleService.move(r.id,r.parentFolderId,this.stateService.archiveFolderId):yield this.googleService.trash(r.id),k.remove(this.stateService.images,this.stateService.images.find(a=>a.id==r.id));let s=null;if(r.group){let a=r.group.images.indexOf(r);if(s=r.group.images[a+1]||r.group.images[a-1],r.group.images.length>2)k.remove(r.group.images,r);else{k.remove(this.stateService.imageGroups,r.group);for(let c of r.group.images)delete c.group}}if(this.stateService.comparison!=null)for(let a of Object.values(this.stateService.comparison))a.includes(r.id)&&k.remove(a,r.id);this.filterService.images.set(this.stateService.images.filter(a=>a.passesFilters)),this.stateService.fullscreenImage.set(s),this.serializationService.save(!0),this.applicationService.loading.set(!1)})}toggleFavorite(r){r.heart=!r.heart,this.filterService.updateFilters(r),this.serializationService.save()}toggleBookmark(r){r.bookmark=!r.bookmark,this.filterService.updateFilters(r),this.serializationService.save()}};e.\u0275fac=function(i){return new(i||e)(R(on),R(ct),R(EM),R(Ze),R(Fe),R(at),R(Kr))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dG(t,e){t&1&&N(0,"i",12)}function hG(t,e){if(t&1&&N(0,"i",13),t&2){let n=y(2);_("ngClass",n.tag.open?"fa-angle-down":"fa-angle-right")}}function fG(t,e){t&1&&N(0,"i",12)}function pG(t,e){if(t&1&&(f(0,"span",16),M(1),p()),t&2){let n=y().ngVar,r=y(3);v(),cr(" ",r.tag.pseudo?"\u279D":"\u2022"," ",n,"")}}function mG(t,e){if(t&1&&(Ee(0),P(1,pG,2,2,"span",15),Ce()),t&2){let n=e.ngVar;v(),_("ngIf",n!==null)}}function gG(t,e){if(t&1&&(Ee(0),P(1,mG,2,1,"ng-container",14),Ce()),t&2){let n=y(2);v(),_("ngVar",n.tag.getCount(n.stateService.images))}}function vG(t,e){if(t&1){let n=W();f(0,"i",17),C("click",function(){T(n);let i=y(2);return S(i.toggleTagState())}),p()}}function yG(t,e){if(t&1&&N(0,"app-filter-row",20),t&2){let n=e.$implicit;_("tag",n)}}function _G(t,e){if(t&1&&N(0,"app-filter-row",20),t&2){let n=e.$implicit;_("tag",n)}}function wG(t,e){if(t&1&&(f(0,"div",18),P(1,yG,1,1,"app-filter-row",19)(2,_G,1,1,"app-filter-row",19),p()),t&2){let n=y(2);_("@drawer2",n.tag.open),v(),_("ngForOf",n.getTagGroups()),v(),_("ngForOf",n.getTags())}}var EG=()=>[];function CG(t,e){if(t&1){let n=W();Ee(0),f(1,"div",1),C("drop",function(i){T(n);let o=y();return S(o.tagDragDropService.dragDrop(i,o.tag))}),f(2,"div",2),C("click",function(){T(n);let i=y();return S(i.onTagClick())}),P(3,dG,1,0,"i",3)(4,hG,1,1,"i",4)(5,fG,1,0),f(6,"div",5),C("dragstart",function(i){T(n);let o=y();return S(o.tagDragDropService.dragStart(i,o.tag))})("dragenter",function(i){T(n);let o=y();return S(o.tagDragDropService.dragEnter(i,o.tag))})("dragleave",function(i){T(n);let o=y();return S(o.tagDragDropService.dragLeave(i,o.tag))})("dragend",function(i){T(n);let o=y();return S(o.tagDragDropService.dragEnd(i,o.tag))}),f(7,"div",6)(8,"span",7),M(9),p(),P(10,gG,2,1,"ng-container",0),p()()(),f(11,"div",8),P(12,vG,1,0,"i",9),f(13,"i",10),C("click",function(){T(n);let i=y();return S(i.galleryService.openTagOptions(i.tag))}),p()()(),P(14,wG,3,3,"div",11),Ce()}if(t&2){let n=y();v(3),_("ngForOf",Yd(7,EG).constructor(n.tag.collectParents().length)),v(),aa(4,n.tag.group?4:5),v(2),_("ngClass",n.getTextClass()),v(3),_e(n.tag.name),v(),_("ngIf",n.stateService.settings.showTagCount),v(2),_("ngIf",n.tag.group),v(2),_("ngIf",n.tag.group)}}var sP=(()=>{let e=class e{constructor(r,i,o,s,a){this.filterService=r,this.serializationService=i,this.tagDragDropService=o,this.galleryService=s,this.stateService=a}onTagClick(){this.tag.group?this.tag.open=!this.tag.open:this.toggleTagState()}toggleTagState(){this.tag.state=this.tag.state==0?1:this.tag.state==1?-1:0,this.filterService.updateFilters(),this.serializationService.save()}getTextClass(){let r=[];return this.tag.state==1?r.push("positive"):this.tag.state==-1&&r.push("negative"),this.tag.collectChildren().some(i=>i.state)&&r.push("underline-dashed"),r.join(" ")}getTagGroups(){return this.tag.children.filter(r=>r.group)}getTags(){return this.tag.children.filter(r=>!r.group)}};e.\u0275fac=function(i){return new(i||e)(I(Ze),I(on),I(wp),I(Qr),I(Fe))},e.\u0275cmp=G({type:e,selectors:[["app-filter-row"]],inputs:{tag:"tag"},standalone:!0,features:[K],decls:1,vars:1,consts:[[4,"ngIf"],["ondragover","event.preventDefault()",1,"flex","gap","cursor-pointer","hover-brighten","hover-container",2,"line-height","24px",3,"drop"],[1,"flex","gap","flex-1","width-100","min-width-0","align-items-center",3,"click"],["class","fa-solid fa-angle-down opacity-0",4,"ngFor","ngForOf"],["class","fa-solid","style","margin-top: 1px",3,"ngClass"],["draggable","true","ondragover","event.preventDefault()",1,"flex-1","overflow-hidden",3,"ngClass","dragstart","dragenter","dragleave","dragend"],[1,"flex","pointer-events-none"],[1,"ellipsis"],[1,"flex","gap","align-items-center","hover-visible"],["class","hover-positive fa-solid fa-check-double",3,"click",4,"ngIf"],[1,"hover-positive","fa-solid","fa-ellipsis-vertical",3,"click"],["class","flex column overflow-hidden",4,"ngIf"],[1,"fa-solid","fa-angle-down","opacity-0"],[1,"fa-solid",2,"margin-top","1px",3,"ngClass"],[4,"ngVar"],["class","pointer-events-none","style","white-space: pre",4,"ngIf"],[1,"pointer-events-none",2,"white-space","pre"],[1,"hover-positive","fa-solid","fa-check-double",3,"click"],[1,"flex","column","overflow-hidden"],[3,"tag",4,"ngFor","ngForOf"],[3,"tag"]],template:function(i,o){i&1&&P(0,CG,15,8,"ng-container",0),i&2&&_("ngIf",o.tag)},dependencies:[e,Z,vt,ke,be,Ga],data:{animation:[mo]}});let t=e;return t})();function IG(t,e){if(t&1){let n=W();Ee(0),f(1,"i",18),C("click",function(){T(n);let i=y();return S(i.toggleFilter(i.filterService.filterFavorites))}),p(),f(2,"i",19),C("click",function(){T(n);let i=y();return S(i.toggleFilter(i.filterService.filterBookmarks))}),p(),f(3,"i",20),C("click",function(){T(n);let i=y();return S(i.toggleFilter(i.filterService.filterGroups))}),p(),Ce()}if(t&2){let n=y();v(),_("ngClass",n.getFilterIconClass(n.filterService.filterFavorites)),v(),_("ngClass",n.getFilterIconClass(n.filterService.filterBookmarks)),v(),_("ngClass",n.getFilterIconClass(n.filterService.filterGroups))}}function bG(t,e){if(t&1){let n=W();Ee(0),N(1,"div",7),f(2,"div",21)(3,"div",22),C("click",function(){T(n);let i=y();return S(i.toggleFilter(i.filterService.filterFavorites))}),N(4,"i",23),f(5,"span",24),M(6,"Favorites"),p()(),f(7,"div",22),C("click",function(){T(n);let i=y();return S(i.toggleFilter(i.filterService.filterBookmarks))}),N(8,"i",25),f(9,"span",24),M(10,"Bookmarks"),p()(),f(11,"div",22),C("click",function(){T(n);let i=y();return S(i.toggleFilter(i.filterService.filterGroups))}),N(12,"i",26),f(13,"span",24),M(14,"Groups"),p()()(),Ce()}if(t&2){let n=y();v(4),_("ngClass",n.getFilterIconClass(n.filterService.filterFavorites)),v(),_("ngClass",n.getFilterClass(n.filterService.filterFavorites)),v(3),_("ngClass",n.getFilterIconClass(n.filterService.filterBookmarks)),v(),_("ngClass",n.getFilterClass(n.filterService.filterBookmarks)),v(3),_("ngClass",n.getFilterIconClass(n.filterService.filterGroups)),v(),_("ngClass",n.getFilterClass(n.filterService.filterGroups))}}function TG(t,e){t&1&&N(0,"div",29)}function SG(t,e){if(t&1&&(Ee(0),P(1,TG,1,0,"div",27),N(2,"app-filter-row",28),Ce()),t&2){let n=e.$implicit,r=e.index;v(),_("ngIf",r!=0),v(),_("tag",n)}}var aP=(()=>{let e=class e{get classVisible(){return this.stateService.filterVisible}constructor(r,i,o,s){this.serializationService=r,this.tagService=i,this.filterService=o,this.stateService=s,this.ScreenUtils=mt}getFilterClass(r){switch(r.state){case 1:return"positive";case-1:return"negative"}}getFilterIconClass(r){switch(r.state){case 1:return"positive fa-solid";case-1:return"negative fa-solid";default:return"fa-regular"}}toggleFilter(r){r.state=r.state==0?1:r.state==1?-1:0,this.filterService.updateFilters(),this.serializationService.save()}clearFilters(){this.tagService.tags.forEach(r=>r.state=0),this.filterService.updateFilters(),this.serializationService.save()}canClear(){return this.tagService.tags.some(r=>r.state!=0)}};e.\u0275fac=function(i){return new(i||e)(I(on),I(Xt),I(Ze),I(Fe))},e.\u0275cmp=G({type:e,selectors:[["app-filter"]],hostVars:2,hostBindings:function(i,o){i&2&&se("visible",o.classVisible)},standalone:!0,features:[K],decls:23,vars:6,consts:[[1,"filter-container"],[1,"header"],[1,"flex","gap"],["tp","Collapse","tpPlacement","right",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"margins-3-h"],[1,"flex","gap","flex-end-h"],[4,"ngIf"],[1,"h-separator","margins"],[1,"filters-container","y-scrollbar-container"],[1,"flex","column","margins-1-h"],[4,"ngFor","ngForOf"],[1,"test"],[1,"h-separator","gap-bottom","margins"],[1,"buttons-container"],[1,"button",3,"click"],[1,"fa-solid","fa-plus"],[1,"fa-solid","fa-filter-circle-xmark"],[1,"v-separator","desktop-only"],[1,"icon-button","fa-heart",3,"ngClass","click"],[1,"icon-button","fa-bookmark",3,"ngClass","click"],[1,"icon-button","fa-object-group",3,"ngClass","click"],[1,"flex","center","gap-3","margins-3-v"],[1,"flex","center","gap","cursor-pointer","hover-brighten",3,"click"],[1,"fa-heart",2,"margin-top","1px",3,"ngClass"],[3,"ngClass"],[1,"fa-bookmark",2,"margin-top","1px",3,"ngClass"],[1,"fa-object-group",2,"margin-top","1px",3,"ngClass"],["class","h-separator subtle",4,"ngIf"],[3,"tag"],[1,"h-separator","subtle"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"i",3),C("click",function(){return o.stateService.filterVisible=!1}),p()(),f(4,"span",4),M(5,"Filter Configuration"),p(),f(6,"div",5),P(7,IG,4,3,"ng-container",6),p()(),P(8,bG,15,6,"ng-container",6),N(9,"div",7),f(10,"div",8)(11,"div",9),P(12,SG,3,2,"ng-container",10),p(),N(13,"div",11),p(),N(14,"div",12),f(15,"div",13)(16,"div",14),C("click",function(){return o.tagService.openTagGroupCreate()}),N(17,"i",15),M(18,"Create"),p(),f(19,"div",14),C("click",function(){return o.clearFilters()}),N(20,"i",16),M(21,"Clear"),p()()(),N(22,"div",17)),i&2&&(v(3),_("ngClass",o.ScreenUtils.isLargeScreen()?"fa-caret-left":"fa-times"),v(4),_("ngIf",!o.ScreenUtils.isLargeScreen()),v(),_("ngIf",o.ScreenUtils.isLargeScreen()),v(4),_("ngForOf",o.tagService.getRootTags()),v(7),se("disabled",!o.canClear()))},dependencies:[Z,vt,ke,be,Vt,sP],styles:["[_nghost-%COMP%]{display:flex;-webkit-user-select:none;user-select:none;transition:.5s;overflow:hidden;height:100%}[_nghost-%COMP%]:not(.visible){opacity:0;pointer-events:none}@media screen and (max-width: 768px){[_nghost-%COMP%]{position:absolute;z-index:1;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background-color:var(--color-background-dialog)}}@media screen and (min-width: 768px){[_nghost-%COMP%]{width:300.8px;min-width:300.8px}[_nghost-%COMP%]:not(.visible){margin-left:-300.8px}}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;margin:.3333333333rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{direction:rtl}}[_nghost-%COMP%]   .filter-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-sizing:border-box}@media screen and (max-width: 768px){[_nghost-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:100vw;min-width:100vw}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:300px;min-width:300px}}[_nghost-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]{flex:1;scrollbar-gutter:stable}[_nghost-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem;margin-top:1px}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem;margin:0 .3333333333rem .3333333333rem}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{flex:1;gap:.3333333333rem}"],data:{animation:[mo]}});let t=e;return t})();function DG(t,e){if(t&1){let n=W();f(0,"i",24),C("click",function(){T(n);let i=y(2);return S(i.setRandomGroupTarget())}),p()}}function AG(t,e){if(t&1){let n=W();Ee(0),f(1,"i",25),C("click",function(){T(n);let i=y(2);return S(i.flip=!i.flip)}),p(),N(2,"div",6),f(3,"i",26),C("click",function(){T(n);let i=y().ngVar,o=y();return S(o.googleService.download(i))}),p(),N(4,"div",6),f(5,"i",27),C("click",function(i){T(n);let o=y().ngVar,s=y();return i.stopPropagation(),S(s.googleService.openSearch(o.name))}),p(),f(6,"i",28),C("click",function(i){T(n);let o=y().ngVar,s=y();return i.stopPropagation(),S(s.galleryService.openYandexReverseImageSearch(i,o))}),p(),N(7,"div",6),Ce()}}function xG(t,e){if(t&1){let n=W();f(0,"div",34)(1,"img",35,36),C("click",function(){let o=T(n).$implicit,s=y(4);return S(s.onImageClick(o))})("load",function(){T(n);let i=nt(2);return S(i.style.opacity="1")}),p()()}if(t&2){let n=e.$implicit,r=y(4);_("@fade",void 0),v(),se("flip-h",r.flip),_("src",r.getSrc(n),Pr)}}var Xw=t=>[t];function MG(t,e){if(t&1&&(f(0,"div",32),P(1,xG,3,4,"div",33),p()),t&2){let n=y(2).ngVar;_("@fade",void 0),v(),_("ngForOf",Xd(2,Xw,n))}}function PG(t,e){if(t&1){let n=W();f(0,"div",34)(1,"img",35,36),C("click",function(){let o=T(n).$implicit,s=y(4);return S(s.onImageClick(o))})("load",function(){T(n);let i=nt(2);return S(i.style.opacity="1")}),p()()}if(t&2){let n=e.$implicit,r=y(4);_("@fadeBetweenGroupImages",void 0),v(),se("flip-h",r.flip),_("src",r.getSrc(n),Pr)}}function OG(t,e){if(t&1){let n=W();f(0,"div",43,44),C("click",function(){let o=T(n).$implicit,s=y(5);return S(s.stateService.fullscreenImage.set(o))}),f(2,"img",45,46),C("load",function(){T(n);let i=nt(1);return S(i.classList.toggle("loading"))}),p(),N(4,"div",47),p()}if(t&2){let n=e.$implicit,r=y(4).ngVar;v(2),Ht("width",120*n.aspectRatio,"px"),se("grayscale",!n.passesFilters),_("src",n.thumbnailLink,Pr),v(2),se("target",n==r)}}function RG(t,e){if(t&1&&(f(0,"div",41),P(1,OG,5,7,"div",42),p()),t&2){let n=e.$implicit;_("@fade",void 0),v(),_("ngForOf",n.images)}}function kG(t,e){if(t&1&&(f(0,"div",37)(1,"div",38),P(2,PG,3,4,"div",33),p(),f(3,"div",39),P(4,RG,2,2,"div",40),p()()),t&2){let n=y(2).ngVar;_("@fade",void 0),v(2),_("ngForOf",Xd(3,Xw,n)),v(2),_("ngForOf",Xd(5,Xw,n.group))}}function NG(t,e){if(t&1&&(f(0,"div",29),P(1,MG,2,4,"div",30)(2,kG,5,7,"div",31),p()),t&2){let n=y().ngVar;_("@fade",void 0),v(),_("ngIf",!n.group),v(),_("ngIf",n.group)}}function FG(t,e){if(t&1){let n=W();f(0,"i",48),C("click",function(){T(n);let i=y().ngVar,o=y();return S(o.galleryService.openImageGroupEditor(i.group))}),p()}}function VG(t,e){if(t&1){let n=W();Ee(0),f(1,"img",1),C("load",function(){T(n);let i=y();return S(i.loadingT=!1)}),p(),f(2,"img",1),C("load",function(){T(n);let i=y();return S(i.loadingC=!1)}),p(),f(3,"div",2)(4,"div",3)(5,"div",4)(6,"i",5),C("click",function(){T(n);let i=y();return S(i.stateService.fullscreenImage.set(null))}),p(),N(7,"div",6),f(8,"i",7),C("click",function(){T(n);let i=y();return S(i.setRandomTarget())}),p(),P(9,DG,1,0,"i",8),p(),N(10,"div",9),f(11,"div",10),P(12,AG,8,0,"ng-container",11),f(13,"i",12),C("click",function(){let o=T(n).ngVar,s=y();return S(s.galleryService.delete(o,!0))}),p(),f(14,"i",13),C("click",function(){let o=T(n).ngVar,s=y();return S(s.galleryService.delete(o,!1))}),p()()(),f(15,"div",14),P(16,NG,3,3,"div",15),p(),f(17,"div",16)(18,"div",4)(19,"i",17),C("click",function(){T(n);let i=y();return S(i.stateService.fullscreenImage.set(null))}),p(),N(20,"div",6),f(21,"i",18),C("click",function(){let o=T(n).ngVar,s=y();return S(s.galleryService.toggleFavorite(o))}),p(),f(22,"i",19),C("click",function(){let o=T(n).ngVar,s=y();return S(s.galleryService.toggleBookmark(o))}),p(),f(23,"div",20)(24,"i",21),C("click",function(){T(n);let i=y();return S(i.stateService.taggerVisible=!i.stateService.taggerVisible)}),p()()(),N(25,"div",9),f(26,"div",10),P(27,FG,1,0,"i",22),f(28,"i",23),C("click",function(){let o=T(n).ngVar,s=y();return S(s.galleryService.openFileInformation(o))}),p()()()(),Ce()}if(t&2){let n=e.ngVar,r=y();v(),_("src",n==null?null:n.thumbnailLink,Pr),v(),_("src",n==null?null:n.contentLink,Pr),v(7),_("ngIf",n==null?null:n.group),v(3),_("ngIf",r.ScreenUtils.isLargeScreen()),v(4),_("ngIf",n),v(5),_("ngClass",n!=null&&n.heart?"fa-solid":"fa-regular"),v(),_("ngClass",n!=null&&n.bookmark?"fa-solid":"fa-regular"),v(),se("drawer-visible",!r.stateService.taggerVisible),v(4),_("ngIf",n==null?null:n.group)}}var cP=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,u){this.applicationService=r,this.keyboardShortcutService=i,this.googleService=o,this.stateService=s,this.dialogService=a,this.galleryService=c,this.tagService=l,this.filterService=u,this.ScreenUtils=mt,this.loadingT=!0,this.loadingC=!0,this.video=!1,this.flip=!1,fi(()=>{let d=this.stateService.fullscreenImage();d?(Tn.isVideo(d)?this.video=!0:(this.video=!1,this.loadingT=!0,this.loadingC=!0),this.keyboardShortcutService.requestFocus(this)):this.flip=!1})}ngOnInit(){this.keyboardShortcutService.register(this)}ngOnDestroy(){this.keyboardShortcutService.unregister(this)}processKeyboardShortcut(r){if(this.stateService.fullscreenImage())switch(r.code){case"Escape":this.stateService.fullscreenImage.set(null);break;case"KeyR":this.setRandomTarget();break;case"KeyG":this.setRandomGroupTarget();break}}setRandomTarget(){let r=this.filterService.images();if(!k.isEmpty(r)){let i,o=this.stateService.fullscreenImage();o?o.group?i=k.getRandom(r,o.group.images):i=k.getRandom(r,[o]):i=k.getRandom(r),i&&this.stateService.fullscreenImage.set(i)}}setRandomGroupTarget(){let r=this.stateService.fullscreenImage();r?.group&&this.stateService.fullscreenImage.set(k.getRandom(r.group.images,[r]))}getSrc(r){if(!this.loadingC)return r.contentLink;if(!this.loadingT)return r.thumbnailLink}onImageClick(r){this.applicationService.reduceBandwidth&&(r.thumbnailLink=r.thumbnailLink.replace("=s220","=s440"))}snapshot(){let r=document.getElementById("video-element");if(r){let i=document.createElement("canvas");i.width=r.videoWidth,i.height=r.videoHeight,i.getContext("2d").drawImage(r,0,0),window.open("about:blank","Video Snapshot").document.write("<img src='"+i.toDataURL("image/png")+"' alt='from canvas'/>")}}isFirstGroupImage(r){return k.isFirst(r.group.images.filter(i=>i.passesFilters),r)}isLastGroupImage(r){return k.isLast(r.group.images.filter(i=>i.passesFilters),r)}moveTargetGroupLeft(r){this.stateService.fullscreenImage.set(k.getPrevious(r.group.images.filter(i=>i.passesFilters),r,!0))}moveTargetGroupRight(r){this.stateService.fullscreenImage.set(k.getNext(r.group.images.filter(i=>i.passesFilters),r,!0))}};e.\u0275fac=function(i){return new(i||e)(I(at),I(za),I(Kr),I(Fe),I(ct),I(Qr),I(Xt),I(Ze))},e.\u0275cmp=G({type:e,selectors:[["app-fullscreen"]],standalone:!0,features:[K],decls:1,vars:1,consts:[[4,"ngVar"],[2,"display","none",3,"src","load"],[1,"fullscreen-container"],[1,"sidebar-left"],[1,"sidebar-start"],["tp","Back","tpPlacement","right",1,"icon-button","fa-solid","fa-arrow-left",3,"click"],[1,"h-separator","gap"],["tp","Random Image","tpPlacement","right",1,"icon-button","fa-solid","fa-shuffle",3,"click"],["class","icon-button fa-solid fa-arrows-spin","tp","Random Image from Group","tpPlacement","right",3,"click",4,"ngIf"],[1,"sidebar-center"],[1,"sidebar-end"],[4,"ngIf"],["tp","Archive","tpPlacement","right",1,"icon-button","fa-solid","fa-box",3,"click"],["tp","Delete","tpPlacement","right",1,"icon-button","fa-solid","fa-trash",3,"click"],[1,"width-100","height-100"],["class","stack-container",4,"ngIf"],[1,"sidebar-right"],["tp","Close","tpPlacement","left",1,"icon-button","fa-solid","fa-times",3,"click"],["tp","Favorite","tpPlacement","left",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark","tpPlacement","left",1,"icon-button","fa-bookmark",3,"ngClass","click"],[1,"drawer-container"],["tp","Open Tag Manager","tpPlacement","left",1,"icon-button","fa-solid","fa-tags",3,"click"],["class","icon-button active fa-solid fa-object-group","tp","Group Manager","tpPlacement","left",3,"click",4,"ngIf"],["tp","File Information","tpPlacement","left",1,"icon-button","fa-solid","fa-circle-info",3,"click"],["tp","Random Image from Group","tpPlacement","right",1,"icon-button","fa-solid","fa-arrows-spin",3,"click"],["tp","Flip","tpPlacement","right",1,"icon-button","fa-solid","fa-left-right",3,"click"],["tp","Download","tpPlacement","right",1,"icon-button","fa-solid","fa-download",3,"click"],["tp","Google Drive","tpPlacement","right",1,"icon-button","fa-brands","fa-google-drive",3,"click"],["tp","Yandex RIS","tpPlacement","right",1,"icon-button","fa-brands","fa-yandex-international",3,"click"],[1,"stack-container"],["class","non-group-container stack-container",4,"ngIf"],["class","has-group-container",4,"ngIf"],[1,"non-group-container","stack-container"],["class","image-container",4,"ngFor","ngForOf"],[1,"image-container"],[3,"src","click","load"],["imageElement",""],[1,"has-group-container"],[1,"another-container","stack-container"],[1,"stack-container","height-auto","justify-content-center"],["class","group-images-container",4,"ngFor","ngForOf"],[1,"group-images-container"],["class","group-image-container loading",3,"click",4,"ngFor","ngForOf"],[1,"group-image-container","loading",3,"click"],["groupImageContainer",""],[3,"src","load"],["groupImageElement",""],[1,"target-border"],["tp","Group Manager","tpPlacement","left",1,"icon-button","active","fa-solid","fa-object-group",3,"click"]],template:function(i,o){i&1&&P(0,VG,29,10,"ng-container",0),i&2&&_("ngVar",o.stateService.fullscreenImage())},dependencies:[Z,vt,ke,be,Ga,Vt],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden}@media screen and (max-width: 768px){[_nghost-%COMP%]{min-width:100%}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .drawer-container[_ngcontent-%COMP%]{width:3rem;min-width:3rem;transition-property:width,min-width,opacity,transform;transition-duration:.5s}[_nghost-%COMP%]   .drawer-container[_ngcontent-%COMP%]:not(.drawer-visible){width:0;min-width:0;opacity:0;transform:translate(3rem);pointer-events:none;border:0}}[_nghost-%COMP%]   .fullscreen-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:space-between}[_nghost-%COMP%]   .non-group-container[_ngcontent-%COMP%]{overflow:auto}@media screen and (max-width: 768px){[_nghost-%COMP%]   .non-group-container[_ngcontent-%COMP%]{position:absolute;top:0;left:.3333333333rem;right:.3333333333rem;width:calc(100% - .6666666666rem);z-index:-1}}[_nghost-%COMP%]   .non-group-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{padding:.3333333333rem 0}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:auto;gap:.3333333333rem;padding:.3333333333rem 0;justify-content:flex-end}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .another-container[_ngcontent-%COMP%]{overflow:auto}@media screen and (max-width: 768px){[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .another-container[_ngcontent-%COMP%]{position:absolute;top:0;left:.3333333333rem;right:.3333333333rem;width:calc(100% - .6666666666rem);z-index:-1}}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-images-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow-y:hidden;padding:0;gap:.3333333333rem}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-images-container[_ngcontent-%COMP%]   .group-image-container[_ngcontent-%COMP%]{height:120px;position:relative;border-radius:4px;cursor:pointer;transition-property:background-color;transition-duration:.5s;background-color:transparent}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-images-container[_ngcontent-%COMP%]   .group-image-container.loading[_ngcontent-%COMP%]{background-color:var(--color-background-secondary)}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-images-container[_ngcontent-%COMP%]   .group-image-container.loading[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-images-container[_ngcontent-%COMP%]   .group-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;border-radius:inherit;transition-property:opacity;transition-duration:.5s}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-images-container[_ngcontent-%COMP%]   .group-image-container[_ngcontent-%COMP%]   img.grayscale[_ngcontent-%COMP%]{opacity:.5!important;filter:grayscale(1)}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-images-container[_ngcontent-%COMP%]   .group-image-container[_ngcontent-%COMP%]   .target-border[_ngcontent-%COMP%]{position:absolute;inset:0;border-radius:inherit;pointer-events:none}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-images-container[_ngcontent-%COMP%]   .group-image-container[_ngcontent-%COMP%]   .target-border.target[_ngcontent-%COMP%]{box-sizing:border-box;border:2px solid var(--color-positive)}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;overflow:auto;box-sizing:border-box}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;overflow:auto;object-fit:contain;outline:none;-webkit-user-select:none;user-select:none;transition-property:opacity;transition-duration:.5s;opacity:0}[_nghost-%COMP%]   .sidebar-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]{width:42px;display:flex;flex-direction:column;justify-content:space-between;padding:.3333333333rem;z-index:1}[_nghost-%COMP%]   .sidebar-left[_ngcontent-%COMP%]   .sidebar-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-left[_ngcontent-%COMP%]   .sidebar-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-left[_ngcontent-%COMP%]   .sidebar-end[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-end[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]{align-items:flex-end}[_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-end[_ngcontent-%COMP%]{align-items:flex-end}"],data:{animation:[$a,qn("fadeBetweenGroupImages",[ft(":enter",[ve({opacity:0}),It("333ms ease",ve({opacity:1}))]),ft(":leave",[ve({opacity:1,"pointer-events":"none","z-index":-1}),It("333ms 333ms ease",ve({opacity:0}))])])]}});let t=e;return t})();var lP=(()=>{let e=class e{constructor(r){this.elementRef=r,this.create=new it}ngOnInit(){this.create.emit(this.elementRef)}};e.\u0275fac=function(i){return new(i||e)(I(tt))},e.\u0275dir=Ke({type:e,selectors:[["","create",""]],outputs:{create:"create"},standalone:!0});let t=e;return t})();var uP=(()=>{let e=class e{constructor(r,i,o){this.galleryService=r,this.stateService=i,this.googleService=o}openGoogleDriveDataFolder(){this.googleService.openFolderById(this.stateService.dataFolderId)}};e.\u0275fac=function(i){return new(i||e)(I(Qr),I(Fe),I(Kr))},e.\u0275cmp=G({type:e,selectors:[["app-header"]],standalone:!0,features:[K],decls:8,vars:2,consts:[[1,"header-start"],[1,"drawer-container"],["tp","Open Filter Configuration",1,"icon-button","fa-solid","fa-filter",3,"click"],["tp","Create Image Group",1,"icon-button","fa-solid","fa-folder-plus",3,"click"],[1,"header-center"],[1,"header-end"],["tp","Google Drive",1,"icon-button","fa-brands","fa-google-drive",3,"click"],["tp","Settings",1,"icon-button","fa-solid","fa-gear",3,"click"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"div",1)(2,"i",2),C("click",function(){return o.stateService.filterVisible=!o.stateService.filterVisible}),p()(),f(3,"i",3),C("click",function(){return o.galleryService.openImageGroupEditor()}),p()(),N(4,"div",4),f(5,"div",5)(6,"i",6),C("click",function(){return o.openGoogleDriveDataFolder()}),p(),f(7,"i",7),C("click",function(){return o.galleryService.openSettings()}),p()()),i&2&&(v(),se("drawer-hidden",!o.stateService.filterVisible))},dependencies:[Z,Vt],styles:["[_nghost-%COMP%]{padding:.3333333333rem;height:3rem;display:flex;justify-content:space-between;overflow:hidden}@media screen and (min-width: 768px){[_nghost-%COMP%]   .drawer-container[_ngcontent-%COMP%]{width:3rem;min-width:3rem;transition-property:width,min-width,opacity,margin,transform;transition-duration:.5s}[_nghost-%COMP%]   .drawer-container[_ngcontent-%COMP%]:not(.drawer-hidden){width:0;min-width:0;opacity:0;margin-right:-.3333333333rem;transform:translate(-3rem);pointer-events:none;border:0}}[_nghost-%COMP%]   .header-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .header-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .header-end[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3333333333rem}[_nghost-%COMP%]   .header-start[_ngcontent-%COMP%]{justify-content:start}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]{justify-content:center;display:grid;grid-template-columns:1fr auto 1fr}[_nghost-%COMP%]   .header-end[_ngcontent-%COMP%]{justify-content:end}"]});let t=e;return t})();function LG(t,e){if(t&1){let n=W();f(0,"i",13),C("click",function(i){T(n);let o=y(2).$implicit;return y().galleryService.openImageGroupEditor(o.group),S(i.stopPropagation())}),p()}}function jG(t,e){if(t&1){let n=W();Ee(0),f(1,"div",8)(2,"i",9),C("click",function(i){T(n);let o=y().$implicit,s=y();return i.stopPropagation(),S(s.galleryService.toggleFavorite(o))}),p(),f(3,"i",10),C("click",function(i){T(n);let o=y().$implicit,s=y();return i.stopPropagation(),S(s.galleryService.toggleBookmark(o))}),p()(),f(4,"div",11),P(5,LG,1,0,"i",12),p(),Ce()}if(t&2){let n=y().$implicit;v(2),_("ngClass",n.heart?"fa-solid active":"fa-regular"),v(),_("ngClass",n.bookmark?"fa-solid active":"fa-regular"),v(2),_("ngIf",n.group)}}function UG(t,e){if(t&1){let n=W();f(0,"div",3),C("click",function(){let o=T(n).$implicit,s=y();return S(s.onImageClick(o))}),f(1,"div",4)(2,"img",5,6),C("create",function(i){let s=T(n).$implicit,a=y();return S(a.masonryBricks[s.id]=i.nativeElement)})("load",function(){T(n);let i=nt(3);return S(i.style.opacity="1")}),p()(),P(4,jG,6,3,"ng-container",7),p()}if(t&2){let n=e.$implicit,r=y();Ht("width",n.masonryWidth,"px")("height",n.masonryHeight,"px")("top",n.masonryTop,"px")("left",n.masonryLeft,"px")("opacity",n.group&&r.stateService.groupEditorGroup&&!r.stateService.groupEditorGroup.images.includes(n)?"0.15":"1"),_("@fade",void 0),v(2),_("src",n.thumbnailLink,Pr),v(2),_("ngIf",r.areBrickButtonsVisible())}}var dP=(()=>{let e=class e{constructor(r,i,o,s,a,c){this.cdr=i,this.tagService=o,this.filterService=s,this.stateService=a,this.galleryService=c,this.masonryBricks={},this.layoutUpdateDelay=new Wr(100),fi(()=>this.updateLayout()),new ResizeObserver(()=>{mt.isLargeScreen()&&this.requestLayoutUpdate()}).observe(r.nativeElement)}requestLayoutUpdate(){this.layoutUpdateDelay.restart(()=>{let r=this.masonryScrollContainer.scrollTop/(this.masonryScrollContainer.scrollHeight-this.masonryScrollContainer.clientHeight);this.updateLayout();let i=(this.masonryScrollContainer.scrollHeight-this.masonryScrollContainer.clientHeight)*r;setTimeout(()=>this.masonryScrollContainer.scrollTo({top:i,behavior:"smooth"}),500),this.cdr.detectChanges()})}updateLayout(){if(this.masonryContainer){if(this.filterService.masonryImages().length==0)return;let r=mt.isLargeScreen()?250:200,i=mt.isLargeScreen()?9.6666666666:4.3333333333,o=this.masonryContainer.clientWidth,s=Math.max(Math.floor(o/r),2),a=(o-i*(s-1))/s,c=[],l=[];for(let u=0;u<s;u++)c[u]=0,l[u]=u*(a+i);for(let u of this.filterService.masonryImages()){u.masonryWidth!=a&&(u.masonryWidth=a,u.masonryHeight=a/u.aspectRatio);let d=c.indexOf(Math.min(...c));u.masonryTop=c[d],u.masonryLeft=l[d],c[d]=c[d]+u.masonryHeight+i}}}scrollTo(r){if(r){let i=r.group?r.group.images.find(s=>s.passesFilters):r;this.masonryBricks[i?.id].scrollIntoView()}}onImageClick(r){let i=this.stateService.groupEditorGroup;if(i){if(r.group&&i!=r.group)return;k.toggle(i.images,r);return}this.stateService.fullscreenImage.set(r)}areBrickButtonsVisible(){return mt.isLargeScreen()&&!this.stateService.groupEditorGroup}};e.\u0275fac=function(i){return new(i||e)(I(tt),I(kr),I(Xt),I(Ze),I(Fe),I(Qr))},e.\u0275cmp=G({type:e,selectors:[["app-masonry"]],standalone:!0,features:[K],decls:4,vars:1,consts:[[1,"masonry-scroll-container",3,"create"],[1,"masonry-container",3,"create"],["class","masonry-brick",3,"width","height","top","left","opacity","click",4,"ngFor","ngForOf"],[1,"masonry-brick",3,"click"],[1,"brick-container"],["loading","lazy",3,"src","create","load"],["imageElement",""],[4,"ngIf"],[1,"brick-header"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],[1,"brick-footer"],["class","icon-button active fa-solid fa-object-group","tp","Group Manager",3,"click",4,"ngIf"],["tp","Group Manager",1,"icon-button","active","fa-solid","fa-object-group",3,"click"]],template:function(i,o){i&1&&(N(0,"app-header"),f(1,"div",0),C("create",function(a){return o.masonryScrollContainer=a.nativeElement}),f(2,"div",1),C("create",function(a){return o.masonryContainer=a.nativeElement,o.updateLayout()}),P(3,UG,5,13,"div",2),p()()),i&2&&(v(3),_("ngForOf",o.filterService.masonryImages()))},dependencies:[Z,vt,ke,be,lP,Vt,uP],styles:["[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:scroll;background-color:var(--color-background-primary);height:100%;padding:1px .3333333333rem .3333333333rem}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]{position:absolute;transition-property:top,left,width,height,opacity;transition-duration:.5s;padding-bottom:.3333333333rem;cursor:pointer}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]{border-radius:.3333333333rem;width:100%;height:100%;display:flex;background-color:var(--color-background-secondary);transition-property:outline,background-color;transition-duration:.5s;outline:1px solid transparent}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;-webkit-user-select:none;user-select:none;border-radius:.3333333333rem;contain:size;opacity:0;transition-property:opacity,margin;transition-duration:.5s}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]:hover   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]:hover   .brick-footer[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:1;pointer-events:all}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]{width:100%;position:absolute;display:flex;padding:.3333333333rem;box-sizing:border-box;-webkit-user-select:none;user-select:none;justify-content:center;align-items:center}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:0;pointer-events:none}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.no-hover[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button.no-hover[_ngcontent-%COMP%]{cursor:default!important;border-color:transparent!important;background-color:transparent!important}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%]{opacity:1;pointer-events:all}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]{top:0}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]{bottom:0;padding-bottom:.6666666666rem}"],data:{animation:[$a]}});let t=e;return t})();function BG(t,e){t&1&&N(0,"i",11)}function $G(t,e){if(t&1&&N(0,"i",12),t&2){let n=y(2);_("ngClass",n.tag.open?"fa-angle-down":"fa-angle-right")}}function zG(t,e){t&1&&N(0,"i",11)}function HG(t,e){if(t&1&&(f(0,"span",15),M(1),p()),t&2){let n=y().ngVar,r=y(3);v(),cr(" ",r.tag.pseudo?"\u279D":"\u2022"," ",n,"")}}function qG(t,e){if(t&1&&(Ee(0),P(1,HG,2,2,"span",14),Ce()),t&2){let n=e.ngVar;v(),_("ngIf",n!==null)}}function GG(t,e){if(t&1&&(Ee(0),P(1,qG,2,1,"ng-container",13),Ce()),t&2){let n=y(2);v(),_("ngVar",n.tag.getCount(n.stateService.images))}}function WG(t,e){if(t&1&&N(0,"app-tagger-row",18),t&2){let n=e.$implicit,r=y(3);_("tag",n)("target",r.target)("groupMode",r.groupMode)}}function KG(t,e){if(t&1&&N(0,"app-tagger-row",18),t&2){let n=e.$implicit,r=y(3);_("tag",n)("target",r.target)("groupMode",r.groupMode)}}function QG(t,e){if(t&1&&(f(0,"div",16),P(1,WG,1,3,"app-tagger-row",17)(2,KG,1,3,"app-tagger-row",17),p()),t&2){let n=y(2);_("@drawer2",n.tag.open),v(),_("ngForOf",n.getTagGroups()),v(),_("ngForOf",n.getTags())}}var YG=()=>[];function XG(t,e){if(t&1){let n=W();Ee(0),f(1,"div",1),C("drop",function(i){T(n);let o=y();return S(o.tagDragDropService.dragDrop(i,o.tag))}),f(2,"div",2),C("click",function(){T(n);let i=y();return S(i.onTagClick())}),P(3,BG,1,0,"i",3)(4,$G,1,1,"i",4)(5,zG,1,0),f(6,"div",5),C("dragstart",function(i){T(n);let o=y();return S(o.tagDragDropService.dragStart(i,o.tag))})("dragenter",function(i){T(n);let o=y();return S(o.tagDragDropService.dragEnter(i,o.tag))})("dragleave",function(i){T(n);let o=y();return S(o.tagDragDropService.dragLeave(i,o.tag))})("dragend",function(i){T(n);let o=y();return S(o.tagDragDropService.dragEnd(i,o.tag))}),f(7,"div",6)(8,"span",7),M(9),p(),P(10,GG,2,1,"ng-container",0),p()()(),f(11,"div",8)(12,"i",9),C("click",function(){T(n);let i=y();return S(i.galleryService.openTagOptions(i.tag))}),p()()(),P(13,QG,3,3,"div",10),Ce()}if(t&2){let n=y();v(2),se("disabled",n.tag.pseudo)("cursor-pointer",!n.tag.pseudo),v(),_("ngForOf",Yd(10,YG).constructor(n.tag.collectParents().length)),v(),aa(4,n.tag.group?4:5),v(2),_("ngClass",n.getTextClass()),v(3),_e(n.tag.name),v(),_("ngIf",n.stateService.settings.showTagCount),v(3),_("ngIf",n.tag.group)}}var hP=(()=>{let e=class e{constructor(r,i,o,s,a){this.filterService=r,this.serializationService=i,this.tagDragDropService=o,this.galleryService=s,this.stateService=a}onTagClick(){this.tag.group?this.tag.open=!this.tag.open:this.tag.pseudo||(this.groupMode&&this.target.group?this.target.group.images.every(r=>r.tags.includes(this.tag))?this.target.group.images.forEach(r=>k.remove(r.tags,this.tag)):this.target.group.images.forEach(r=>k.push(r.tags,this.tag)):k.toggle(this.target.tags,this.tag),this.serializationService.save(),this.filterService.updateFilters())}getTextClass(){if(this.tag.pseudo)return"";let r=[];if(this.target)if(this.target.group)if(this.groupMode)if(this.tag.group){let i=this.tag.collectChildren();this.target.group.images.every(o=>i.some(s=>o.tags.includes(s)))?r.push("positive"):this.target.group.images.some(o=>i.some(s=>o.tags.includes(s)))&&r.push("underline-positive")}else this.target.group.images.every(i=>i.tags.includes(this.tag))?r.push("positive"):this.target.group.images.some(i=>i.tags.includes(this.tag))&&r.push("underline-positive");else{let i=k.except(this.target.group.images,this.target);if(this.tag.group){let o=this.tag.collectChildren();this.target.tags.some(s=>o.includes(s))?r.push("positive"):i.some(s=>s.tags.some(a=>o.includes(a)))&&r.push("underline-dashed-positive")}else this.target.group.images.every(o=>o.tags.includes(this.tag))?r.push("underline-positive"):i.some(o=>o.tags.includes(this.tag))&&r.push("underline-dashed-positive"),this.target.tags.includes(this.tag)&&r.push("positive")}else this.tag.group?this.tag.collectChildren().some(i=>this.target.tags.includes(i))&&r.push("underline-positive"):this.target.tags.includes(this.tag)&&r.push("positive");return r.join(" ")}getTagGroups(){return this.tag.children.filter(r=>r.group)}getTags(){return this.tag.children.filter(r=>!r.group)}};e.\u0275fac=function(i){return new(i||e)(I(Ze),I(on),I(wp),I(Qr),I(Fe))},e.\u0275cmp=G({type:e,selectors:[["app-tagger-row"]],inputs:{tag:"tag",target:"target",groupMode:"groupMode"},standalone:!0,features:[K],decls:1,vars:1,consts:[[4,"ngIf"],["ondragover","event.preventDefault()",1,"flex","gap","hover-brighten","hover-container",2,"line-height","24px",3,"drop"],[1,"flex","gap","flex-1","width-100","min-width-0","align-items-center",3,"click"],["class","fa-solid fa-angle-down opacity-0",4,"ngFor","ngForOf"],["class","fa-solid","style","margin-top: 1px",3,"ngClass"],["draggable","true","ondragover","event.preventDefault()",1,"flex-1","overflow-hidden",3,"ngClass","dragstart","dragenter","dragleave","dragend"],[1,"flex","pointer-events-none"],[1,"ellipsis"],[1,"flex","gap","align-items-center","cursor-pointer","hover-visible"],[1,"hover-positive","fa-solid","fa-ellipsis-vertical",3,"click"],["class","flex column overflow-hidden",4,"ngIf"],[1,"fa-solid","fa-angle-down","opacity-0"],[1,"fa-solid",2,"margin-top","1px",3,"ngClass"],[4,"ngVar"],["class","pointer-events-none","style","white-space: pre",4,"ngIf"],[1,"pointer-events-none",2,"white-space","pre"],[1,"flex","column","overflow-hidden"],[3,"tag","target","groupMode",4,"ngFor","ngForOf"],[3,"tag","target","groupMode"]],template:function(i,o){i&1&&P(0,XG,14,11,"ng-container",0),i&2&&_("ngIf",o.tag)},dependencies:[e,Z,vt,ke,be,Ga],data:{animation:[mo]}});let t=e;return t})();function JG(t,e){if(t&1){let n=W();Ee(0),f(1,"i",15),C("click",function(){T(n);let i=y();return S(i.groupMode=!i.groupMode)}),p(),Ce()}if(t&2){let n=y();v(),se("disabled",(n.target==null?null:n.target.group)==null)("positive",n.groupMode),_("ngClass",n.groupMode?"fa-images":"fa-image")}}function ZG(t,e){if(t&1){let n=W();Ee(0),N(1,"div",8),f(2,"div",16)(3,"div",17),C("click",function(){T(n);let i=y();return S(i.groupMode=!i.groupMode)}),N(4,"i",18),f(5,"span"),M(6,"Group Mode"),p()()(),Ce()}if(t&2){let n=y();v(3),se("disabled",(n.target==null?null:n.target.group)==null)("positive",n.groupMode),v(),_("ngClass",n.groupMode?"fa-images":"fa-image")}}function e6(t,e){t&1&&N(0,"div",21)}function t6(t,e){if(t&1&&(Ee(0),P(1,e6,1,0,"div",19),N(2,"app-tagger-row",20),Ce()),t&2){let n=e.$implicit,r=e.index,i=y();v(),_("ngIf",r!=0),v(),_("tag",n)("target",i.target)("groupMode",i.groupMode)}}var fP=(()=>{let e=class e{get classVisible(){return this.stateService.taggerVisible}constructor(r,i){this.tagService=r,this.stateService=i,this.ScreenUtils=mt,this.groupMode=!1,fi(()=>{this.target=this.stateService.fullscreenImage(),this.target==null&&(this.groupMode=!1)})}};e.\u0275fac=function(i){return new(i||e)(I(Xt),I(Fe))},e.\u0275cmp=G({type:e,selectors:[["app-tagger"]],hostVars:2,hostBindings:function(i,o){i&2&&se("visible",o.classVisible)},standalone:!0,features:[K],decls:18,vars:4,consts:[[1,"v-separator","desktop-only"],[1,"tag-manager-container"],[1,"header"],[1,"flex","gap"],[4,"ngIf"],[1,"margins-3-h"],[1,"flex","gap","flex-end-h"],["tp","Collapse","tpPlacement","left",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"h-separator","margins"],[1,"filters-container","y-scrollbar-container"],[1,"flex","column","margins-1-h"],[4,"ngFor","ngForOf"],[1,"buttons-container"],[1,"button",3,"click"],[1,"fa-solid","fa-plus"],[1,"icon-button","fa-solid","hover-brighten",3,"ngClass","click"],[1,"flex","center","gap-3","margins-3-v"],[1,"flex","center","gap","cursor-pointer","hover-brighten",3,"click"],[1,"fa-solid",2,"margin-top","1px",3,"ngClass"],["class","h-separator subtle",4,"ngIf"],[3,"tag","target","groupMode"],[1,"h-separator","subtle"]],template:function(i,o){i&1&&(N(0,"div",0),f(1,"div",1)(2,"div",2)(3,"div",3),P(4,JG,2,5,"ng-container",4),p(),f(5,"span",5),M(6,"Tag Manager"),p(),f(7,"div",6)(8,"i",7),C("click",function(){return o.stateService.taggerVisible=!1}),p()()(),P(9,ZG,7,5,"ng-container",4),N(10,"div",8),f(11,"div",9)(12,"div",10),P(13,t6,3,4,"ng-container",11),p()(),f(14,"div",12)(15,"div",13),C("click",function(){return o.tagService.openTagGroupCreate()}),N(16,"i",14),M(17,"Create"),p()()()),i&2&&(v(4),_("ngIf",!o.ScreenUtils.isLargeScreen()),v(4),_("ngClass",o.ScreenUtils.isLargeScreen()?"fa-caret-right":"fa-times"),v(),_("ngIf",o.ScreenUtils.isLargeScreen()),v(4),_("ngForOf",o.tagService.getRootTags()))},dependencies:[Z,vt,ke,be,Vt,hP],styles:["[_nghost-%COMP%]{display:flex;-webkit-user-select:none;user-select:none;transition:.5s;overflow:hidden;height:100%}[_nghost-%COMP%]:not(.visible){opacity:0;pointer-events:none}@media screen and (max-width: 768px){[_nghost-%COMP%]{position:absolute;z-index:1;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background-color:var(--color-background-dialog)}}@media screen and (min-width: 768px){[_nghost-%COMP%]{width:300.8px;min-width:300.8px}[_nghost-%COMP%]:not(.visible){width:0;min-width:0}}[_nghost-%COMP%]   .tag-manager-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-sizing:border-box}@media screen and (max-width: 768px){[_nghost-%COMP%]   .tag-manager-container[_ngcontent-%COMP%]{width:100vw;min-width:100vw}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .tag-manager-container[_ngcontent-%COMP%]{width:300px;min-width:300px}}[_nghost-%COMP%]   .tag-manager-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;margin:.3333333333rem}[_nghost-%COMP%]   .tag-manager-container[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]{flex:1;scrollbar-gutter:stable}[_nghost-%COMP%]   .tag-manager-container[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem;margin-top:1px}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem;margin:0 .3333333333rem .3333333333rem}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{flex:1;gap:.3333333333rem}"],data:{animation:[mo]}});let t=e;return t})();function n6(t,e){if(t&1&&(f(0,"div",1)(1,"div",2),N(2,"app-filter")(3,"app-masonry"),p(),f(4,"div",3),N(5,"app-fullscreen")(6,"app-tagger"),p()()),t&2){let n=y();_("@enter",void 0),v(4),se("transparent",!n.stateService.fullscreenImage())}}var pP=(()=>{let e=class e{constructor(r,i,o){this.serializationService=r,this.applicationService=i,this.stateService=o,this.loading=!0,this.applicationService.loading.set(!0)}ngOnInit(){this.serializationService.processData().then(()=>this.loading=!1)}};e.\u0275fac=function(i){return new(i||e)(I(on),I(at),I(Fe))},e.\u0275cmp=G({type:e,selectors:[["app-gallery"]],standalone:!0,features:[K],decls:1,vars:1,consts:[["class","stack-container",4,"ngIf"],[1,"stack-container"],[1,"flex",2,"height","100vh"],[1,"fullscreen-container",2,"height","100vh"]],template:function(i,o){i&1&&P(0,n6,7,3,"div",0),i&2&&_("ngIf",!o.loading)},dependencies:[Z,be,aP,dP,cP,fP],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden}[_nghost-%COMP%]   .fullscreen-container[_ngcontent-%COMP%]{display:flex;overflow:hidden;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background-color:var(--color-background-dialog);transition:.5s;z-index:1}"],data:{animation:[bM]}});let t=e;return t})();var Ss=class{static random(e,n){return Math.random()*(n?n-e:e)+(n?e:0)}static from(e,n){return n&&(Array.isArray(n)?e=e.filter(r=>!n.includes(r)):e=e.filter(r=>r!=n)),e[Math.floor(this.random(e.length))]}static percentage(e){return Math.random()<e/100}static oneIn(e){return Math.random()<1/e}static color(){let e=(Math.random()+.618033988749895)%1,n=this.random(.4,.6),r=.95,i=Math.floor(e*6),o=e*6-i,s=r*(1-n),a=r*(1-o*n),c=r*(1-(1-o)*n),l,u,d;switch(i%6){case 0:l=r,u=c,d=s;break;case 1:l=a,u=r,d=s;break;case 2:l=s,u=r,d=c;break;case 3:l=s,u=a,d=r;break;case 4:l=c,u=s,d=r;break;case 5:l=r,u=s,d=a;break}return"#"+Math.round(l*255).toString(16)+Math.round(u*255).toString(16)+Math.round(d*255).toString(16)}};function r6(t,e){if(t&1){let n=W();f(0,"div",5)(1,"div",6)(2,"span"),M(3,"po\u010Det t\xEDmov"),p(),f(4,"input",7,8),C("input",function(){T(n);let i=nt(5),o=y();return S(o.onTeamCountChange(i))}),p()(),f(6,"div",6)(7,"span"),M(8,"trvanie kola"),p(),f(9,"input",7,9),C("input",function(){T(n);let i=nt(10),o=y();return S(o.onRoundDurationChange(i))}),p()(),f(11,"span",10),C("click",function(){T(n);let i=y();return S(i.settingsDone())}),M(12,"\u0161tart"),p()()}if(t&2){let n=y();v(4),_("value",4),v(5),_("value",60),v(2),se("disabled",!n.validateSettings())}}function i6(t,e){t&1&&(f(0,"span"),M(1,"pre v\u0161etk\xFDch"),p())}function o6(t,e){if(t&1){let n=W();f(0,"div",11),P(1,i6,2,0,"span",12),f(2,"span"),M(3),p(),f(4,"span"),M(5),p(),f(6,"span",10),C("click",function(){T(n);let i=y();return S(i.startRound())}),M(7,"\u0161tart"),p()()}if(t&2){let n=y();v(),_("ngIf",n.isCurrentRoundForEveryone()),v(2),_e(n.getCurrentDiscipline()),v(2),_e(n.availablePhrases[0])}}function s6(t,e){if(t&1){let n=W();f(0,"span",10),C("click",function(){T(n);let i=y(2);return S(i.endRoundEarly())}),M(1,"hotovo"),p()}}function a6(t,e){if(t&1&&(f(0,"div",13)(1,"span"),M(2),p(),P(3,s6,2,0,"span",14),p()),t&2){let n=y();v(2),_e(n.timeLeft),v(),_("ngIf",n.showEndRoundEarlyButton)}}function c6(t,e){t&1&&(f(0,"span"),M(1,"pre v\u0161etk\xFDch"),p())}function l6(t,e){if(t&1){let n=W();f(0,"input",18,19),C("input",function(){T(n);let i=nt(1),o=y(2);return S(o.onForEveryoneWinnerChange(i))}),p()}}function u6(t,e){if(t&1){let n=W();f(0,"div",15),P(1,c6,2,0,"span",12),f(2,"span"),M(3),p(),f(4,"span"),M(5),p(),f(6,"div",16),P(7,l6,2,0,"input",17),f(8,"span",10),C("click",function(){T(n);let i=y();return S(i.roundOver(!0))}),M(9,"uh\xE1dli"),p()(),f(10,"span",10),C("click",function(){T(n);let i=y();return S(i.roundOver(!1))}),M(11,"neuh\xE1dli"),p()()}if(t&2){let n=y();v(),_("ngIf",n.isCurrentRoundForEveryone()),v(2),_e(n.getCurrentDiscipline()),v(2),_e(n.availablePhrases[0]),v(),Ht("gap","2rem"),v(),_("ngIf",n.isCurrentRoundForEveryone()),v(),Ht("width",100,"%"),se("disabled",n.isCurrentRoundForEveryone()&&!n.forEveryoneWinnerTeamIndexValid)}}function d6(t,e){if(t&1&&(f(0,"span"),M(1),p()),t&2){let n=e.$implicit,r=e.index;v(),cr("",r+1,". t\xEDm: ",n.wins,"")}}function h6(t,e){if(t&1){let n=W();f(0,"div",20)(1,"span"),M(2,"sk\xF3re"),p(),P(3,d6,2,2,"span",21),f(4,"span",10),C("click",function(){T(n);let i=y();return S(i.currentView="instructions")}),M(5,"\u010Fa\u013E\u0161ie kolo"),p()()}if(t&2){let n=y();v(3),_("ngForOf",n.teams)}}var mP=(()=>{let e=class e{constructor(){this.phrases=["koh\xFAtik","sliepo\u010Dka","kuriatko"],this.currentView="settings",this.teamCount=4,this.teamCountValid=!0,this.roundDuration=60,this.roundDurationValid=!0,this.forEveryoneChanceOneIn=6,this.beforeRoundStartDuration=3,this.forEveryoneWinnerTeamIndexValid=!1}ngOnInit(){}onTeamCountChange(r){let i=Number.parseInt(r.value);i>=2?(this.teamCount=i,this.teamCountValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--color-border")):(this.teamCountValid=!1,r.style.borderColor="red")}onRoundDurationChange(r){let i=Number.parseInt(r.value);i>0?(this.roundDuration=i,this.roundDurationValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--color-border")):(this.roundDurationValid=!1,r.style.borderColor="red")}validateSettings(){return this.teamCountValid&&this.roundDurationValid}settingsDone(){this.validateSettings()&&this.startGame()}startGame(){this.currentView="instructions",this.currentTeamIndex=0,this.availablePhrases=k.shuffle(this.phrases.slice()),this.teams=[];for(let o=0;o<this.teamCount;o++)this.teams.push({wins:0,roundDisciplines:[],roundsForEveryone:[]});let r=Math.floor(this.phrases.length/3);for(let o=0;o<r;o++)this.teams.forEach(s=>k.push(s.roundDisciplines,k.shuffle(["hovorenie","kreslenie","ukazovanie"])));let i=Math.ceil(this.phrases.length/this.forEveryoneChanceOneIn);for(let o=0;o<i;o++)this.teams.forEach(s=>s.roundsForEveryone.push(Math.floor(Ss.random(o*this.forEveryoneChanceOneIn,(o+1)*this.forEveryoneChanceOneIn))))}getCurrentDiscipline(){let r=this.teams[this.currentTeamIndex];return r.roundDisciplines[r.wins]}isCurrentRoundForEveryone(){let r=this.teams[this.currentTeamIndex];return r.roundsForEveryone.includes(r.wins)}startRound(){this.currentView="countdown",this.timeLeft=this.beforeRoundStartDuration,this.showEndRoundEarlyButton=!1,this.interval=setInterval(()=>{--this.timeLeft<1&&(clearInterval(this.interval),this.timeLeft=this.roundDuration,this.showEndRoundEarlyButton=!0,this.interval=setInterval(()=>{--this.timeLeft<1&&(clearInterval(this.interval),this.currentView="result")},1e3))},1e3)}endRoundEarly(){clearInterval(this.interval),this.currentView="result"}onForEveryoneWinnerChange(r){let i=Number.parseInt(r.value);i>0&&i<=this.teams.length?(this.forEveryoneWinnerTeamIndex=i-1,this.forEveryoneWinnerTeamIndexValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--color-border")):(this.forEveryoneWinnerTeamIndexValid=!1,r.style.borderColor="red")}roundOver(r){this.availablePhrases.shift(),r&&this.teams[this.forEveryoneWinnerTeamIndex||this.currentTeamIndex].wins++,this.forEveryoneWinnerTeamIndex=null,++this.currentTeamIndex==this.teamCount&&(this.currentTeamIndex=0),this.currentView="score"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-activity"]],standalone:!0,features:[K],decls:5,vars:5,consts:[["class","settings-container",4,"ngIf"],["class","instructions-container",4,"ngIf"],["class","countdown-container",4,"ngIf"],["class","result-container",4,"ngIf"],["class","score-container",4,"ngIf"],[1,"settings-container"],[1,"flex","column","gap"],["type","number",3,"value","input"],["teamCountInput",""],["roundDurationInput",""],[1,"button",3,"click"],[1,"instructions-container"],[4,"ngIf"],[1,"countdown-container"],["class","button",3,"click",4,"ngIf"],[1,"result-container"],[1,"flex","column","center"],["type","number","placeholder","ktor\xFD t\xEDm uh\xE1dol?",3,"input",4,"ngIf"],["type","number","placeholder","ktor\xFD t\xEDm uh\xE1dol?",3,"input"],["forEveryoneWinnerInput",""],[1,"score-container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&P(0,r6,13,4,"div",0)(1,o6,8,3,"div",1)(2,a6,4,2,"div",2)(3,u6,12,10,"div",3)(4,h6,6,1,"div",4),i&2&&(_("ngIf",o.currentView=="settings"),v(),_("ngIf",o.currentView=="instructions"),v(),_("ngIf",o.currentView=="countdown"),v(),_("ngIf",o.currentView=="result"),v(),_("ngIf",o.currentView=="score"))},dependencies:[Z,ke,be,bn],styles:["[_nghost-%COMP%]{font-size:2rem}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]{width:fit-content;display:flex;flex-direction:column;gap:1.9999999998rem}[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]   span.button[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .instructions-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.9999999998rem;align-items:center}[_nghost-%COMP%]   .countdown-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.9999999998rem}[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;gap:1.9999999998rem}[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .score-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.9999999999rem}"]});let t=e;return t})();var gP=["nikdy som si neochutnal \u0161u\u0161e\u0148","nikdy som neukradol nie\u010Do nad 10 eur","nikdy som nepodaroval dar\u010Dek \u010Falej","nikdy som neupchal toaletu na n\xE1v\u0161teve","nikdy som neprezradil niekoho tajomstvo","nikdy som si nevytvoril falo\u0161n\xFD profil na soci\xE1lnej sieti","nikdy som sa ako dospel\xFD tak nesmial, \u017Ee som sa pocikal","nikdy som sa ako dospel\xFD neposral","nikdy som sa netv\xE1ril, \u017Ee som si zabudol pe\u0148a\u017Eenku, lebo som nechcel plati\u0165","nikdy som nepochyboval o svojej sexu\xE1lnej orient\xE1cii","nikdy som nesledoval susedov \u010Falekohladom","nikdy som si neprdol v uzavretom priestore a tv\xE1ril sa, akoby sa ni\u010D nestalo","nikdy som nemusel uteka\u0165 o \u017Eivot","nikdy som sa nemusel v nebezpe\u010Dnej situ\xE1cii schov\xE1va\u0165","nikdy som nepokreslil spiaceho kamar\xE1ta","nikdy som nezaspal opit\xFD na verejnosti","nikdy som sa nevkradol na cudziu p\xE1rty, kde som nikoho nepoznal","nikdy som sa neodmietol \xEDs\u0165 na k\xFApalisko preto, \u017Ee som sa hanbil za svoju postavu","nikdy som sa z hlboka nenad\xFDchol svojho prdu","nikdy som nebol vyhoden\xFD z podniku","nikdy som neochutnal \u017Er\xE1dlo pre zvierat\xE1","nikdy som po\u010Das tejto hry neklamal","nikdy som sa aspo\u0148 3 dni neosprchoval","nikdy som si aspo\u0148 3 dni neumyl zuby","nikdy som nikoho nepodplatil","nikdy som nebol na verejnosti \xFAplne nah\xFD","nikdy som nenast\xFApil do nespr\xE1vneho autobusu","nikdy som sa nepozeral na svoju ri\u0165 v zrkadle"],vP=["nikdy som si nezaplatil za porno","nikdy som nikoho nepodviedol","nikdy som sa nevyka\u0161lal na rande bez ozn\xE1menia","nikdy som nikomu omylom neposlal nah\xFA fotku","nikdy som nek\xFApil drink niekomu, koho som nepoznal","nikdy som nebol na rande s viacero osobami za jeden de\u0148","nikdy som nehladal vz\u0165ah na zoznamke","nikdy som nehladal sex na zoznamke","nikdy som neh\u013Eadal n\xE1vod, ako niekoho zbali\u0165","nikdy som neh\u013Eadal n\xE1vod, ako sa bozk\xE1va\u0165","nikdy som neh\u013Eadal n\xE1vod, ako ma\u0165 sex","nikdy som nepo\u010Dul susedov alebo spolub\xFDvaj\xFAcich ma\u0165 sex","nikdy som si nemusel zakr\xFDva\u0165 cucflek","nikdy som s niek\xFDm neflirtoval len preto, aby niekto in\xFD \u017Eiarlil","nikdy som nebol v gay bare","nikdy som opit\xFD nep\xEDsal ex, \u017Ee mi ch\xFDba","nikdy som net\xFA\u017Eil po partnerke svojho kamar\xE1ta","nikdy som si s nik\xFDm neporovn\xE1val svoju p\xFDchu alebo prsia"],yP=["nikdy som si pri sexe nepredstavoval, \u017Ee som s niekym in\xFDm","nikdy som nemal sex s niek\xFDm, kde vekov\xFD rozdiel bol aspo\u0148 5 rokov","nikdy som s nik\xFDm nestr\xE1vil cel\xFD de\u0148 v posteli","nikdy som nemal sex, ke\u010F sa na n\xE1s pozeralo dom\xE1ce zvieratko","nikdy som nemal sex s osobou rovnak\xE9ho pohlavia","nikdy som nikomu neplatil za sex","nikdy som nemal erotick\xE9 predstavy o niekom z tejto miestnosti","nikdy som nemal sex vo v\xFD\u0165ahu","nikdy som nemal sex v sk\xFA\u0161obnej kab\xEDnke","nikdy som nemal sex v aute","nikdy som nemal sex v pr\xEDrode","nikdy som nemal sex na pl\xE1\u017Ei","nikdy som nemal sex na z\xE1chodoch","nikdy som nikomu nerobil stript\xEDz","nikdy som nepou\u017Eil erotick\xFA hra\u010Dku alebo pom\xF4cku","nikdy som nenosil spodn\xE9 pr\xE1dlo opa\u010Dn\xE9ho pohlavia","nikdy som sa nepok\xFA\u0161al nie\u010Do si vopcha\u0165 do zadku","nikdy som nesk\xFAsil nie\u010Do z BDSM","nikdy som nesk\xFAsil roleplay","nikdy som sa nezobudil na or\xE1lny sex","nikdy som nerealizoval svoje sexu\xE1lne fant\xE1zie","nikdy som nemal sex bez ochrany","nikdy sme si s in\xFDm p\xE1rom nevymenili partnerky","nikdy som ned\xE1val partnerke mas\xE1\u017E cel\xE9ho tela","nikdy som nebol na mas\xE1\u017Ei cel\xE9ho tela"];var _P=(()=>{let e=class e{constructor(){this.availableQuestions=[]}ngOnInit(){this.reset()}reset(){this.availableQuestions.length=0,k.push(this.availableQuestions,gP),k.push(this.availableQuestions,vP),k.push(this.availableQuestions,yP),k.shuffle(this.availableQuestions),this.next()}next(){this.currentQuestion=this.availableQuestions.pop()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-nikdy-som"]],standalone:!0,features:[K],decls:3,vars:1,consts:[[1,"container",3,"click"]],template:function(i,o){i&1&&(f(0,"div",0),C("click",function(){return o.next()}),f(1,"span"),M(2),p()()),i&2&&(v(2),_e(o.currentQuestion))},dependencies:[Z],styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:100%;display:block;text-align:center;align-content:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;mix-blend-mode:difference;-webkit-user-select:none;user-select:none;font-size:64px}"]});let t=e;return t})();var wP=(()=>{let e=class e{constructor(){this.limbs=["prav\xE1 ruka","\u013Eav\xE1 ruka","prav\xE1 noha","\u013Eav\xE1 noha"],this.colors=[["\u010Derven\xE1","red"],["zelen\xE1","limegreen"],["modr\xE1","blue"],["\u017Elt\xE1","yellow"]]}ngOnInit(){this.spin()}spin(){this.limb=Ss.from(this.limbs,this.limb),[this.color,this.backgroundColor]=Ss.from(this.colors)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-twister"]],standalone:!0,features:[K],decls:3,vars:4,consts:[[1,"container",3,"click"]],template:function(i,o){i&1&&(f(0,"div",0),C("click",function(){return o.spin()}),f(1,"span"),M(2),p()()),i&2&&(Ht("background-color",o.backgroundColor),v(2),cr("",o.limb," ",o.color,""))},dependencies:[Z],styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:100%;display:block;text-align:center;align-content:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;mix-blend-mode:difference;-webkit-user-select:none;user-select:none;font-size:64px}"]});let t=e;return t})();function f6(t,e){if(t&1){let n=W();Ee(0),f(1,"span",1),C("click",function(){T(n);let i=y();return S(i.navigate("gallery"))}),M(2,"Gallery"),p(),f(3,"span",1),C("click",function(){T(n);let i=y();return S(i.navigate("story-manager"))}),M(4,"Story Manager"),p(),f(5,"span",1),C("click",function(){T(n);let i=y();return S(i.navigate("comparison"))}),M(6,"Comparison"),p(),Ce()}}var EP=(()=>{let e=class e{constructor(r,i){this.router=r,this.applicationService=i,this.dev=0}ngOnInit(){}navigate(r){sessionStorage.setItem("appId",r),this.router.navigate([r])}};e.\u0275fac=function(i){return new(i||e)(I(In),I(at))},e.\u0275cmp=G({type:e,selectors:[["app-landing"]],standalone:!0,features:[K],decls:12,vars:2,consts:[[1,"column"],[1,"button",3,"click"],[4,"ngIf"],[1,"v-separator"],["tp","Toggle Theme",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"dev-container",3,"click"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"span",1),C("click",function(){return o.navigate("games/activity")}),M(2,"Activity"),p(),f(3,"span",1),C("click",function(){return o.navigate("games/twister")}),M(4,"Twister"),p(),f(5,"span",1),C("click",function(){return o.navigate("games/nikdy-som")}),M(6,"Nikdy som"),p(),P(7,f6,7,0,"ng-container",2),p(),N(8,"div",3),f(9,"div",0)(10,"i",4),C("click",function(){return o.applicationService.toggleTheme()}),p()(),f(11,"div",5),C("click",function(){return o.dev=o.dev+1}),p()),i&2&&(v(7),_("ngIf",o.dev>4),v(3),_("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"))},dependencies:[Z,vt,be],styles:["[_nghost-%COMP%]{display:flex;gap:.3333333333rem}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.3333333333rem}.column[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%;cursor:pointer;-webkit-user-select:none;user-select:none;background-color:var(--color-background-hover)}.dev-container[_ngcontent-%COMP%]{height:100px;position:absolute;right:0;bottom:0;left:0}"]});let t=e;return t})();var CP="https://mazacik.github.io",Jw={production:!0,baseUrl:CP,redirectUrl:CP+"/login"};var Ka=(()=>{let e=class e{constructor(r){this.http=r,this.CLIENT_ID="692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com",this.CLIENT_SECRET="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"}getAccessToken(){return this.accessToken}startAuthentication(){let s="https://accounts.google.com/o/oauth2/v2/auth?redirect_uri="+Jw.redirectUrl+"&prompt=consent&response_type=code&client_id="+"692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com"+"&scope="+"https://www.googleapis.com/auth/drive"+"&access_type=offline";window.location=s}requestTokens(r){return E(this,null,function*(){let i="https://accounts.google.com/o/oauth2/token",o={"content-type":"form-data",grant_type:"authorization_code",code:r,client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET,redirect_uri:Jw.redirectUrl,plugin_name:"TagalleryWeb"};yield Gu(this.http.post(i,o)).then(s=>{s&&(this.accessToken=s.access_token,this.refreshToken=s.refresh_token,window.localStorage.setItem("googleRefreshToken",this.refreshToken))}).catch(s=>s)})}requestAccessToken(){return E(this,null,function*(){let r="https://accounts.google.com/o/oauth2/token",i={grant_type:"refresh_token",refresh_token:this.getRefreshToken(),client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET};return yield Gu(this.http.post(r,i)).then(o=>{o&&(this.accessToken=o.access_token)}).catch(o=>o),this.accessToken})}getRefreshToken(){return this.refreshToken||(this.refreshToken=window.localStorage.getItem("googleRefreshToken")),this.refreshToken}};e.\u0275fac=function(i){return new(i||e)(R(Go))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var IP=(()=>{let e=class e{constructor(r,i,o){this.route=r,this.router=i,this.authenticationService=o}ngAfterViewInit(){this.route.queryParams.subscribe(r=>{let i=r.code;i&&this.authenticationService.requestTokens(i).finally(()=>{this.router.navigate([sessionStorage.getItem("appId")||""])})})}signIn(){this.authenticationService.startAuthentication()}};e.\u0275fac=function(i){return new(i||e)(I(uo),I(In),I(Ka))},e.\u0275cmp=G({type:e,selectors:[["app-login"]],decls:4,vars:0,consts:[[1,"sign-in-button",3,"click"],["src","assets/google-logo.svg"],[1,"sign-in-text"]],template:function(i,o){i&1&&(f(0,"div",0),C("click",function(){return o.signIn()}),N(1,"img",1),f(2,"span",2),M(3,"Sign in with Google"),p()())},styles:["[_nghost-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]{width:18px;height:18px}.sign-in-button[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;gap:8px;padding:0 12px;cursor:pointer;background-color:#fff;border:1px solid #dadce0;border-radius:4px;-webkit-user-select:none;user-select:none}.sign-in-button[_ngcontent-%COMP%]:hover{background:#f8faff;border-color:#d2e3fc}.sign-in-text[_ngcontent-%COMP%]{color:#3c4043;font-family:Google Sans,arial,sans-serif;font-size:14px;letter-spacing:.25px}"]});let t=e;return t})();var Ep=(t,e)=>E(void 0,null,function*(){sessionStorage.setItem("appId",t.url.join("")),console.log("guard: start");let n=j(In),r=j(Ka);if(r.getAccessToken())return console.log("guard: has access token, return true"),!0;if(console.log("guard: no access token"),r.getRefreshToken()){if(console.log("guard: has refresh token"),yield r.requestAccessToken())return console.log("guard: got access token from refresh token, return true"),!0;console.log("guard: could not get access token from refresh token")}return console.log("guard: return false"),n.navigate(["login"])});var bP=(t,e)=>{let n=j(In),r=sessionStorage.getItem("dataFileId");return gt.isEmpty(r)?n.createUrlTree(["/folder-picker"]):!0};var TP=(t,e)=>{for(let n of["FB_IAB","FBAN","FBAV","FB4A","MESSENGER"])if(navigator.userAgent.includes(n))return!0;return j(In).createUrlTree([""])};var SP=(()=>{let e=class e{constructor(){this.crossfade=!0,this.userAgent=window.navigator.userAgent}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-fuck-messenger-browser"]],hostVars:1,hostBindings:function(i,o){i&2&&ov("@crossfade",o.crossfade)},standalone:!0,features:[K],decls:7,vars:1,consts:[[1,"user-agent"],["src","/assets/fuck-messenger-browser.jpg",1,"picture"]],template:function(i,o){i&1&&(f(0,"span",0),M(1),p(),f(2,"span"),M(3,"Prehliada\u010D v aplik\xE1cii Messenger nesp\u013A\u0148a modern\xE9 \u0161tandardy a ned\xE1 sa v \u0148om prihl\xE1si\u0165 do \xFA\u010Dtu Google."),p(),f(4,"span"),M(5,"Vpravo hore by malo by\u0165 tla\u010D\xEDtko, ktor\xE9 ti str\xE1nku otvor\xED v norm\xE1lnom prehliada\u010Di."),p(),N(6,"img",1)),i&2&&(v(),_e(o.userAgent))},dependencies:[Z,bn],styles:["[_nghost-%COMP%]{height:100vh;width:100vw;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1.3333333332rem 0;text-align:center;gap:2rem;margin:0 .6666666666rem;position:relative;box-sizing:border-box}[_nghost-%COMP%]   .user-agent[_ngcontent-%COMP%]{font-size:.667rem;position:absolute;top:.667rem}[_nghost-%COMP%]   .picture[_ngcontent-%COMP%]{max-width:100%}"],data:{animation:[IM]}});let t=e;return t})();var wo=(()=>{let e=class e{constructor(){this.sidebarVisible=!0}initialize(r){if(r&&!k.isEmpty(r.stories)){this.stories=r.stories,this.currentStory=this.stories[0],k.isEmpty(this.currentStory.notes)||(this.currentNote=k.getFirst(this.currentStory.notes));for(let i of this.stories)for(let o of i.notes)o.parent=i,o.wordCount=gt.getWordCount(o.text)}this.stories||(this.stories=[])}serialize(){return{stories:this.stories.map(r=>({title:r.title,notes:r.notes.map(i=>({title:i.title,text:i.text,tags:i.tags})),noteTags:r.noteTags}))}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Eo=(()=>{let e=class e extends qa{constructor(r,i,o,s){super(r),this.http=r,this.applicationService=i,this.stateService=o,this.dialogService=s,this.delay=new Wr(3e3),this.FILE_ID="1ydFjvWYG3p-m3S_gDodNJbc0Cyeqv82Z",this.FIELDS="id,name,mimeType,appProperties"}request(){let r=this.getContent(this.FILE_ID);return r.catch(i=>{this.applicationService.errors.set(!0),this.dialogService.createMessage({title:"Error",messages:["Google Drive Error, check console."]}),console.log(i)}),r}update(r=!1){this.applicationService.changes.set(!0);let i=()=>{this.updateContent(this.FILE_ID,JSON.stringify(this.stateService.serialize())).then(()=>{this.applicationService.errors.set(!1)}).catch(o=>{this.applicationService.errors.set(!0),this.dialogService.createMessage({title:"Error",messages:["Google Drive Error, check console."]}),console.log(o)}).finally(()=>{this.applicationService.changes.set(!1)})};r?(this.delay.abort(),i()):this.delay.restart(()=>i())}};e.\u0275fac=function(i){return new(i||e)(R(Go),R(at),R(wo),R(ct))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function m6(t,e){if(t&1){let n=W();f(0,"div",6),C("click",function(){let o=T(n).$implicit,s=y();return S(s.remove(o))}),f(1,"i",7),C("click",function(i){let s=T(n).$implicit;return y().editTag(s),S(i.stopPropagation())}),p(),f(2,"span"),M(3),p(),N(4,"i",8),p()}if(t&2){let n=e.$implicit,r=y();_("dragdrop",n)("dragdropParent",r.currentTags),v(3),_e(n)}}function g6(t,e){if(t&1){let n=W();f(0,"div",9),C("click",function(){let o=T(n).$implicit,s=y();return S(s.add(o))}),N(1,"i",10),f(2,"span"),M(3),p(),f(4,"div",11)(5,"i",7),C("click",function(i){let s=T(n).$implicit;return y().editTag(s),S(i.stopPropagation())}),p(),f(6,"i",12),C("click",function(i){let s=T(n).$implicit;return y().deleteTag(s),S(i.stopPropagation())}),p()()()}if(t&2){let n=e.$implicit;v(3),_e(n)}}var DP=(()=>{let e=class e extends _t{constructor(r,i){super(),this.dialogService=r,this.googleService=i,this.configuration={title:"Tag Manager",buttons:[{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Save",click:()=>this.submit()}]}}ngOnInit(){this.inputs.note.tags?this.currentTags=this.inputs.note.tags.slice():this.currentTags=[],this.availableTags=this.inputs.note.parent.noteTags.filter(r=>!this.currentTags.includes(r))}add(r){this.currentTags.push(r),k.remove(this.availableTags,r)}remove(r){k.remove(this.currentTags,r),this.availableTags.push(r),this.availableTags.sort((i,o)=>i.localeCompare(o))}editTag(r){this.dialogService.createInput({title:"Rename Tag",placeholder:"Tag Title",defaultValue:r}).then(i=>{if(!gt.isEmpty(i)){if(this.inputs.note.parent.noteTags.includes(i))return;r?i!=r&&(this.currentTags.includes(r)?(k.remove(this.currentTags,r),this.currentTags.push(i),this.currentTags.sort((o,s)=>o.localeCompare(s))):(k.remove(this.availableTags,r),this.availableTags.push(i),this.availableTags.sort((o,s)=>o.localeCompare(s))),k.remove(this.inputs.note.parent.noteTags,r),this.inputs.note.parent.noteTags.push(i),this.inputs.note.parent.noteTags.sort((o,s)=>o.localeCompare(s))):(this.availableTags.push(i),this.availableTags.sort((o,s)=>o.localeCompare(s)),this.inputs.note.parent.noteTags.push(i),this.inputs.note.parent.noteTags.sort((o,s)=>o.localeCompare(s))),this.googleService.update(!0)}})}deleteTag(r){this.dialogService.createConfirmation({title:"Delete Tag",messages:['Are you sure you want to delete "'+r+'"?']}).then(i=>{i&&(this.currentTags.includes(r)?k.remove(this.currentTags,r):k.remove(this.availableTags,r),this.inputs.note.parent.notes.forEach(o=>k.remove(o.tags,r)),k.remove(this.inputs.note.parent.noteTags,r),this.googleService.update(!0))})}submit(){this.resolve(this.currentTags)}close(){this.resolve(void 0)}};e.\u0275fac=function(i){return new(i||e)(I(ct),I(Eo))},e.\u0275cmp=G({type:e,selectors:[["app-note-tag-manager"]],standalone:!0,features:[We,K],decls:12,vars:2,consts:[[1,"flex","column","gap"],[1,"h-separator"],["class","tag-container-current",3,"dragdrop","dragdropParent","click",4,"ngFor","ngForOf"],[1,"v-separator"],["class","tag-container-available",3,"click",4,"ngFor","ngForOf"],[1,"icon-button-small","fa-solid","fa-plus","create-tag-button",3,"click"],[1,"tag-container-current",3,"dragdrop","dragdropParent","click"],[1,"icon-button-small","fa-solid","fa-pen-to-square",3,"click"],[1,"fa-solid","fa-caret-right",2,"justify-self","end"],[1,"tag-container-available",3,"click"],[1,"fa-solid","fa-caret-left"],[1,"flex",2,"justify-content","end"],[1,"icon-button-small","fa-solid","fa-trash",3,"click"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"span"),M(2,"Tags"),p(),N(3,"div",1),P(4,m6,5,3,"div",2),p(),N(5,"div",3),f(6,"div",0)(7,"span"),M(8,"Available Tags"),p(),N(9,"div",1),P(10,g6,7,1,"div",4),f(11,"i",5),C("click",function(){return o.editTag()}),p()()),i&2&&(v(4),_("ngForOf",o.currentTags),v(6),_("ngForOf",o.availableTags))},dependencies:[Z,ke,Wa],styles:["[_nghost-%COMP%]{min-width:650px;min-height:350px;display:grid;grid-template-columns:1fr auto 1fr;grid-auto-rows:min-content;gap:.3333333333rem;padding:.6666666666rem}[_nghost-%COMP%] > .v-separator[_ngcontent-%COMP%]{min-height:350px}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;gap:.3333333333rem;cursor:pointer;align-items:center}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;text-align:center}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{visibility:visible}[_nghost-%COMP%]   .create-tag-button[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();function v6(t,e){t&1&&N(0,"div",31)}function y6(t,e){if(t&1&&(Ee(0),P(1,v6,1,0,"div",29),f(2,"span",30),M(3),p(),Ce()),t&2){let n=e.$implicit,r=e.index;v(),_("ngIf",r!=0),v(2),_e(n)}}function _6(t,e){if(t&1){let n=W();f(0,"div",20),C("click",function(){let o=T(n).$implicit,s=y(3);return S(s.setCurrentNote(o))})("dragend",function(){T(n);let i=y(3);return S(i.googleService.update())}),f(1,"div",21)(2,"span",22),M(3),p(),f(4,"div",23),P(5,y6,4,2,"ng-container",24),p()(),f(6,"div",25)(7,"span",26),M(8),p(),f(9,"div",27)(10,"i",28),C("click",function(i){let s=T(n).$implicit;return y(3).editTags(s),S(i.stopPropagation())}),p(),f(11,"i",13),C("click",function(i){let s=T(n).$implicit;return y(3).renameNote(s),S(i.stopPropagation())}),p(),f(12,"i",14),C("click",function(i){let s=T(n).$implicit,a=y(2).$implicit;return y().deleteNote(a,s),S(i.stopPropagation())}),p()()()()}if(t&2){let n=e.$implicit,r=y(2).$implicit,i=y();_("dragdrop",n)("dragdropParent",r.notes),v(2),se("highlight",n==i.stateService.currentNote)("negative",i.searchNotes.includes(n)),v(),_e(n.title),v(2),_("ngForOf",n.tags),v(3),_e(n.wordCount)}}function w6(t,e){if(t&1){let n=W();f(0,"div",16),P(1,_6,13,9,"div",17),f(2,"div",18)(3,"i",19),C("click",function(i){T(n);let o=y().$implicit;return y().createNote(o),S(i.stopPropagation())}),p()()()}if(t&2){let n=y().$implicit;_("@drawer",void 0),v(),_("ngForOf",n.notes)}}function E6(t,e){if(t&1){let n=W();f(0,"div",7)(1,"div",8),C("click",function(){let o=T(n).$implicit,s=y();return S(s.setCurrentStory(o,!0))})("dragend",function(){T(n);let i=y();return S(i.googleService.update())}),f(2,"span",9),M(3),p(),f(4,"div",10)(5,"span",11),M(6),p(),f(7,"div",12)(8,"i",13),C("click",function(i){let s=T(n).$implicit;return y().renameStory(s),S(i.stopPropagation())}),p(),f(9,"i",14),C("click",function(i){let s=T(n).$implicit;return y().deleteStory(s),S(i.stopPropagation())}),p()()()(),P(10,w6,4,2,"div",15),p()}if(t&2){let n=e.$implicit,r=y();v(),_("dragdrop",n)("dragdropParent",r.stateService.stories),v(),se("highlight",n==(r.stateService.currentNote==null?null:r.stateService.currentNote.parent))("negative",r.searchStories.includes(n)),v(),_e(n.title),v(3),_e(r.getNotesWordCount(n)),v(4),_("ngIf",n==r.stateService.currentStory)}}var AP=(()=>{let e=class e{constructor(r,i,o){this.dialogService=r,this.googleService=i,this.stateService=o,this.searchStories=[],this.searchNotes=[]}ngOnInit(){}setCurrentNote(r){this.setCurrentStory(r.parent),this.stateService.currentNote=r,mt.isLargeScreen()||(this.stateService.sidebarVisible=!1)}setCurrentStory(r,i=!1){this.stateService.currentStory=r,i&&!k.isEmpty(r.notes)&&(this.stateService.currentNote=r.notes[0])}createStory(){this.dialogService.createInput({title:"Create Story",placeholder:"Story Title"}).then(r=>{r&&(this.stateService.stories.push({title:r,notes:[],noteTags:[]}),this.googleService.update(!0))})}renameStory(r){this.dialogService.createInput({title:"Rename Story",placeholder:"Story Title",defaultValue:r.title}).then(i=>{gt.isEmpty(i)||(r.title=i,this.googleService.update(!0))})}deleteStory(r){this.dialogService.createConfirmation({title:"Delete Story",messages:['Are you sure you want to delete "'+r.title+'"?']}).then(i=>{i&&(r==this.stateService.currentStory&&this.setCurrentStory(k.nearestRightFirst(this.stateService.stories,this.stateService.stories.indexOf(r))),k.remove(this.stateService.stories,r),this.googleService.update())})}getNotesWordCount(r){let i=r.notes.flatMap(o=>o.wordCount).reduce((o,s)=>o+s,0);return i>0?i+"":""}editTags(r){this.dialogService.create(DP,{note:r}).then(i=>{i&&Array.isArray(i)&&(r.tags=i,this.googleService.update(!0))})}createNote(r){this.dialogService.createInput({title:"Create Note",placeholder:"Note Title"}).then(i=>{if(i){let o={title:i,text:"",tags:[],wordCount:0,parent:r};r.notes.push(o),this.stateService.currentNote=o,this.stateService.currentStory=r,this.googleService.update(!0)}})}renameNote(r){this.dialogService.createInput({title:"Rename Note",placeholder:"Note Title",defaultValue:r.title}).then(i=>{gt.isEmpty(i)||(r.title=i,this.googleService.update(!0))})}deleteNote(r,i){let o=r.notes;this.dialogService.createConfirmation({title:"Delete Note",messages:['Are you sure you want to delete "'+i.title+'"?']}).then(s=>{s&&(i==this.stateService.currentNote&&(this.stateService.currentNote=null),k.remove(o,i),this.googleService.update(!0))})}onSearchInputChange(r){if(this.searchQuery=r.value,this.searchStories.length=0,this.searchNotes.length=0,!gt.isEmpty(this.searchQuery))for(let i of this.stateService.stories)for(let o of i.notes)o.text.match(new RegExp(this.searchQuery,"i"))&&(k.push(this.searchStories,i),k.push(this.searchNotes,o))}};e.\u0275fac=function(i){return new(i||e)(I(ct),I(Eo),I(wo))},e.\u0275cmp=G({type:e,selectors:[["app-sidebar"]],standalone:!0,features:[K],decls:8,vars:1,consts:[["placeholder","Search",1,"desktop-only","search-input",3,"input","focus"],["searchInput",""],[1,"h-separator","margins"],[1,"content-container","y-scrollbar-container"],["class","story-container",4,"ngFor","ngForOf"],[1,"button-container"],["tp","Create Story",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"story-container"],[1,"story-label-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"story-label"],[1,"story-info"],[1,"story-notes-word-count"],[1,"story-buttons"],["tp","Rename",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Delete",1,"icon-button","fa-solid","fa-times",3,"click"],["class","notes-container",4,"ngIf"],[1,"notes-container"],["class","note-container",3,"dragdrop","dragdropParent","click","dragend",4,"ngFor","ngForOf"],[1,"flex","center","gap"],["tp","Create Note",1,"icon-button","fa-solid","fa-plus",2,"align-self","center",3,"click"],[1,"note-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"note-title-container"],[1,"note-title"],[1,"note-tag-container"],[4,"ngFor","ngForOf"],[1,"note-info-container","stack-container"],[1,"note-word-count"],[1,"note-buttons"],["tp","Tags",1,"icon-button","fa-solid","fa-tag",3,"click"],["class","v-separator",4,"ngIf"],[2,"text-wrap","nowrap"],[1,"v-separator"]],template:function(i,o){if(i&1){let s=W();f(0,"input",0,1),C("input",function(){T(s);let c=nt(1);return S(o.onSearchInputChange(c))})("focus",function(){T(s);let c=nt(1);return S(c.select())}),p(),N(2,"div",2),f(3,"div",3),P(4,E6,11,9,"div",4),p(),N(5,"div",2),f(6,"div",5)(7,"i",6),C("click",function(){return o.createStory()}),p()()}i&2&&(v(4),_("ngForOf",o.stateService.stories))},dependencies:[Z,ke,be,bn,Wa,Vt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;overflow-x:hidden;overflow-y:auto}.search-input[_ngcontent-%COMP%]{border:none;text-align:center;caret-color:var(--color-text);font-variant-numeric:tabular-nums;-webkit-user-select:none;user-select:none}.search-input.error[_ngcontent-%COMP%]{color:var(--color-negative)}.content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.3333333333rem;flex:1}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]:not(:first-child){padding-top:.1666666667rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]:not(:last-child){padding-bottom:.1666666667rem;border-bottom:1px solid var(--color-border)}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:space-between;line-height:3rem;border-radius:.3333333333rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover{background-color:var(--color-background-hover)}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover   .story-notes-word-count[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover   .story-buttons[_ngcontent-%COMP%]{display:flex!important}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-label[_ngcontent-%COMP%]{margin:0 .3333333333rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]{text-align:end}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]   .story-notes-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]   .story-buttons[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]{display:flex;border-radius:.3333333333rem;justify-content:space-between;padding:.1666666667rem;align-items:center;cursor:pointer}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover{background-color:var(--color-background-hover)}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-word-count[_ngcontent-%COMP%]{visibility:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-buttons[_ngcontent-%COMP%]{visibility:visible!important}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:.6666666666rem}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .navigation-note-label[_ngcontent-%COMP%]{width:100%}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .note-tag-container[_ngcontent-%COMP%]{display:flex;font-size:10px;padding-left:.6666666666rem;gap:.3333333333rem}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]{justify-content:end}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]   .note-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem;text-align:end;align-content:center}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]   .note-buttons[_ngcontent-%COMP%]{display:flex;visibility:hidden;align-items:center}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:.3333333333rem 0;gap:.3333333333rem}"],data:{animation:[TM]}});let t=e;return t})();function C6(t,e){if(t&1){let n=W();Ee(0),f(1,"div",1)(2,"span",2),M(3),p()(),f(4,"div",3)(5,"textarea",4),hi("ngModelChange",function(i){T(n);let o=y();return Hi(o.stateService.currentNote.text,i)||(o.stateService.currentNote.text=i),S(i)}),C("ngModelChange",function(){T(n);let i=y();return S(i.onChange())}),p()(),Ce()}if(t&2){let n=y();v(),se("focus-mode",!n.stateService.sidebarVisible),v(2),cr("",n.stateService.currentNote.parent.title," / ",n.stateService.currentNote.title,""),v(2),se("focus-mode",!n.stateService.sidebarVisible),di("ngModel",n.stateService.currentNote.text)}}var xP=(()=>{let e=class e{constructor(r,i,o){this.googleService=r,this.applicationService=i,this.stateService=o,this.applicationService.loading.set(!0)}ngOnInit(){}onChange(){this.stateService.currentNote.wordCount=gt.getWordCount(this.stateService.currentNote.text),this.googleService.update()}};e.\u0275fac=function(i){return new(i||e)(I(Eo),I(at),I(wo))},e.\u0275cmp=G({type:e,selectors:[["app-note-editor"]],standalone:!0,features:[K],decls:1,vars:1,consts:[[4,"ngIf"],[1,"note-header"],[1,"note-title"],[1,"y-scrollbar-container"],["spellcheck","false","placeholder","Text",1,"note-content",3,"ngModel","ngModelChange"]],template:function(i,o){i&1&&P(0,C6,6,7,"ng-container",0),i&2&&_("ngIf",o.stateService.currentNote)},dependencies:[Z,be,bn,go,vo,Si],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;transition-property:margin;transition-duration:.5s}[_nghost-%COMP%]   .note-header[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid var(--color-border)}@media screen and (min-width: 768px){[_nghost-%COMP%]   .note-header.focus-mode[_ngcontent-%COMP%]{margin:0 25%}}[_nghost-%COMP%]   .note-header[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%]{flex:1;min-width:100px;border:0;border-radius:0;padding:.3333333333rem}[_nghost-%COMP%]   .y-scrollbar-container[_ngcontent-%COMP%]{flex:1;display:flex}[_nghost-%COMP%]   .y-scrollbar-container[_ngcontent-%COMP%]   .note-content[_ngcontent-%COMP%]{flex:1;resize:none;border:none;line-height:1.5rem;padding:.1666666667rem .3333333333rem;overflow-wrap:normal}@media screen and (min-width: 768px){[_nghost-%COMP%]   .y-scrollbar-container[_ngcontent-%COMP%]   .note-content.focus-mode[_ngcontent-%COMP%]{margin-left:25%;padding-right:25%}}"]});let t=e;return t})();var MP=(()=>{let e=class e{constructor(r,i,o){this.googleService=r,this.applicationService=i,this.stateService=o,this.countdownInputRegex=/^([0-9]*[1-9]+[0-9]*[hms])+$/gi,this.countdown={hours:0,minutes:0,seconds:0},this.focusMode=!1,this.applicationService.loading.set(!0)}ngOnInit(){this.googleService.request().then(r=>{r&&(this.stateService.initialize(r),this.applicationService.loading.set(!1))})}import(){navigator.clipboard.readText().then(r=>this.stateService.initialize(JSON.parse(r)))}export(){let r=JSON.stringify(this.stateService.serialize());navigator.clipboard.writeText(r),console.log(r)}onCountdownInputChange(r){r.value.replace(/\W/g,"").match(this.countdownInputRegex)?r.classList.remove("error"):r.classList.add("error")}onCountdownInputSubmit(r,i){if(r.key==="Enter"){let o=i.value.replace(/\W/g,"");if(o.match(this.countdownInputRegex)){i.readOnly=!0;let s=a=>a&&a.map(c=>c.replace(/\D/g,"")).reduce((c,l)=>c+Number.parseInt(l),0);this.countdown.hours=s(o.match(/\d+h/gi)),this.countdown.minutes=s(o.match(/\d+m/gi)),this.countdown.seconds=s(o.match(/\d+s/gi)),this.countdown.minutes+=+Math.floor(this.countdown.seconds/60),this.countdown.seconds%=60,this.countdown.hours+=+Math.floor(this.countdown.minutes/60),this.countdown.minutes%=60,this.countdownInterval=setInterval(()=>{this.countdown.hours>0?i.value=this.countdown.hours.toString().padStart(2,"0")+"h "+this.countdown.minutes.toString().padStart(2,"0")+"m "+this.countdown.seconds.toString().padStart(2,"0")+"s":this.countdown.minutes>0?i.value=this.countdown.minutes.toString().padStart(2,"0")+"m "+this.countdown.seconds.toString().padStart(2,"0")+"s":i.value=this.countdown.seconds.toString().padStart(2,"0")+"s",this.countdown.seconds--==0&&(this.countdown.seconds=59,this.countdown.minutes--==0&&(this.countdown.hours==0?(i.value="",i.readOnly=!1,clearInterval(this.countdownInterval)):(this.countdown.minutes=59,this.countdown.hours--)))},1e3)}}}onCountdownInputClick(r){r.readOnly&&(r.value="",r.readOnly=!1,clearInterval(this.countdownInterval))}};e.\u0275fac=function(i){return new(i||e)(I(Eo),I(at),I(wo))},e.\u0275cmp=G({type:e,selectors:[["app-story-manager"]],standalone:!0,features:[K],decls:14,vars:10,consts:[[1,"header"],[1,"header-start"],[1,"mobile-only","icon-button","fa-solid","fa-bars",3,"click"],["tp","Focus Mode",1,"desktop-only","icon-button","fa-solid",3,"ngClass","click"],[1,"header-center"],["placeholder","Countdown",1,"desktop-only","countdown-input",3,"click","input","keypress","focus"],["countdownInput",""],[1,"header-end"],["tp","Toggle Brightness Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"content"],[1,"v-separator","desktop-only"],[1,"modules"]],template:function(i,o){if(i&1){let s=W();f(0,"div",0)(1,"div",1)(2,"i",2),C("click",function(){return o.stateService.sidebarVisible=!o.stateService.sidebarVisible}),p(),f(3,"i",3),C("click",function(){return o.stateService.sidebarVisible=!o.stateService.sidebarVisible}),p()(),f(4,"div",4)(5,"input",5,6),C("click",function(){T(s);let c=nt(6);return S(o.onCountdownInputClick(c))})("input",function(){T(s);let c=nt(6);return S(o.onCountdownInputChange(c))})("keypress",function(c){T(s);let l=nt(6);return S(o.onCountdownInputSubmit(c,l))})("focus",function(){T(s);let c=nt(6);return S(c.select())}),p()(),f(7,"div",7)(8,"i",8),C("click",function(){return o.applicationService.toggleTheme()}),p()()(),f(9,"div",9),N(10,"app-sidebar")(11,"div",10),f(12,"div",11),N(13,"app-note-editor"),p()()}if(i&2){let s=nt(6);v(3),_("ngClass",o.stateService.sidebarVisible?"fa-bullseye":"fa-circle-dot"),v(2),se("user-select-none",s.readOnly),v(3),_("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"),v(2),se("display-none",!o.stateService.sidebarVisible),v(),se("mobile-only",!o.stateService.sidebarVisible),v(),se("desktop-only",o.stateService.sidebarVisible)}},dependencies:[Z,vt,AP,xP,Vt],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;padding:.3333333333rem;gap:.3333333333rem;border-bottom:1px solid var(--color-border);justify-content:space-between}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-end[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .countdown-input[_ngcontent-%COMP%]{border:none;text-align:center;caret-color:var(--color-text);font-variant-numeric:tabular-nums;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .countdown-input.error[_ngcontent-%COMP%]{color:var(--color-negative)}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;display:flex;overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]{flex:3;width:0;display:flex;transition-property:flex;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;margin:.6666666666rem;gap:.6666666666rem;-webkit-user-select:none;user-select:none;height:-webkit-fill-available}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-end;flex:1}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{gap:.6666666666rem;display:flex;flex-direction:column;align-items:center;justify-content:center;height:33%;transition-property:opacity;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}"]});let t=e;return t})();var PP=[{path:"messenger-browser",canActivate:[TP],component:SP},{path:"login",component:IP},{path:"story-manager",canActivate:[Ep],component:MP},{path:"folder-picker",canActivate:[Ep],component:tP},{path:"gallery",canActivate:[Ep,bP],component:pP},{path:"home",component:EP},{path:"games",children:[{path:"activity",component:mP},{path:"twister",component:wP},{path:"nikdy-som",component:_P},{path:"**",redirectTo:"/"}]},{path:"**",redirectTo:"home"}];var RP=(t,e)=>{let n=j(Ka);return e(OP(n,t)).pipe(er(r=>{if(r.url.includes("googleapis.com")&&n.getRefreshToken())return console.log(r),ze(n.requestAccessToken()).pipe(At(()=>e(OP(n,t))),er(i=>Ri(()=>i)))}))},OP=(t,e)=>e.url.includes("googleapis.com")?e.clone({headers:e.headers.set("authorization","Bearer "+t.getAccessToken())}):e;mA(eP,{providers:[KA(),Ax(PP,xx({paramsInheritanceStrategy:"always"})),_T(ET(),wT([RP])),Ic(WT(()=>KT({apiKey:"AIzaSyDOAks7IYxZn0CfhQfDYp06r5rP9B-4Jc8",authDomain:"mazacik-69cda.firebaseapp.com",projectId:"mazacik-69cda",storageBucket:"mazacik-69cda.appspot.com",messagingSenderId:"43148772573",appId:"1:43148772573:web:86c8a9749dd20d99260734"}))),Ic(aA(()=>cA())),Ic(RS(()=>kS())),CM({defaultVariation:"tooltip",variations:{tooltip:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!0,offset:[0,8]},contextmenu:{arrow:!0,animation:"fade",trigger:"contextmenu",hideOnClick:!0,offset:[0,8],interactive:!0},hovermenu:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!0,offset:[0,8],interactive:!0},focusmenu:{arrow:!0,animation:"fade",trigger:"focus",hideOnClick:!0,offset:[0,8],interactive:!0}}})]}).catch(t=>console.error(t));
