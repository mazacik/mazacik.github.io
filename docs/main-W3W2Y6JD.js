var dq=Object.create;var v_=Object.defineProperty,hq=Object.defineProperties,fq=Object.getOwnPropertyDescriptor,pq=Object.getOwnPropertyDescriptors,mq=Object.getOwnPropertyNames,g_=Object.getOwnPropertySymbols,M2=Object.getPrototypeOf,tS=Object.prototype.hasOwnProperty,P2=Object.prototype.propertyIsEnumerable,gq=Reflect.get;var A2=(t,e,n)=>e in t?v_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,te=(t,e)=>{for(var n in e||={})tS.call(e,n)&&A2(t,n,e[n]);if(g_)for(var n of g_(e))P2.call(e,n)&&A2(t,n,e[n]);return t},Dt=(t,e)=>hq(t,pq(e));var nS=(t,e)=>{var n={};for(var i in t)tS.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&g_)for(var i of g_(t))e.indexOf(i)<0&&P2.call(t,i)&&(n[i]=t[i]);return n};var vq=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),yq=(t,e)=>{for(var n in e)v_(t,n,{get:e[n],enumerable:!0})},_q=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of mq(e))!tS.call(t,r)&&r!==n&&v_(t,r,{get:()=>e[r],enumerable:!(i=fq(e,r))||i.enumerable});return t};var wq=(t,e,n)=>(n=t!=null?dq(M2(t)):{},_q(e||!t||!t.__esModule?v_(n,"default",{value:t,enumerable:!0}):n,t));var Ha=(t,e,n)=>gq(M2(t),n,e);var C=(t,e,n)=>new Promise((i,r)=>{var o=d=>{try{l(n.next(d))}catch(h){r(h)}},a=d=>{try{l(n.throw(d))}catch(h){r(h)}},l=d=>d.done?i(d.value):Promise.resolve(d.value).then(o,a);l((n=n.apply(t,e)).next())});var mG=vq((xPe,yE)=>{(function(){var t=window.CustomEvent;(!t||typeof t=="object")&&(t=function(S,T){T=T||{};var O=document.createEvent("CustomEvent");return O.initCustomEvent(S,!!T.bubbles,!!T.cancelable,T.detail||null),O},t.prototype=window.Event.prototype);function e(w){for(;w&&w!==document.body;){var S=window.getComputedStyle(w),T=function(O,V){return!(S[O]===void 0||S[O]===V)};if(S.opacity<1||T("zIndex","auto")||T("transform","none")||T("mixBlendMode","normal")||T("filter","none")||T("perspective","none")||S.isolation==="isolate"||S.position==="fixed"||S.webkitOverflowScrolling==="touch")return!0;w=w.parentElement}return!1}function n(w){for(;w;){if(w.localName==="dialog")return w;w=w.parentElement}return null}function i(w){w&&w.blur&&w!==document.body&&w.blur()}function r(w,S){for(var T=0;T<w.length;++T)if(w[T]===S)return!0;return!1}function o(w){return!w||!w.hasAttribute("method")?!1:w.getAttribute("method").toLowerCase()==="dialog"}function a(w){if(this.dialog_=w,this.replacedStyleTop_=!1,this.openAsModal_=!1,w.hasAttribute("role")||w.setAttribute("role","dialog"),w.show=this.show.bind(this),w.showModal=this.showModal.bind(this),w.close=this.close.bind(this),"returnValue"in w||(w.returnValue=""),"MutationObserver"in window){var S=new MutationObserver(this.maybeHideModal.bind(this));S.observe(w,{attributes:!0,attributeFilter:["open"]})}else{var T=!1,O=(function(){T?this.downgradeModal():this.maybeHideModal(),T=!1}).bind(this),V,$=function(x){if(x.target===w){var ee="DOMNodeRemoved";T|=x.type.substr(0,ee.length)===ee,window.clearTimeout(V),V=window.setTimeout(O,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(x){w.addEventListener(x,$)})}Object.defineProperty(w,"open",{set:this.setOpen.bind(this),get:w.hasAttribute.bind(w,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}a.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),l.dm.removeDialog(this))},setOpen:function(w){w?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(w){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var S=document.createElement("div");this.dialog_.insertBefore(S,this.dialog_.firstChild),S.tabIndex=-1,S.focus(),this.dialog_.removeChild(S)}var T=document.createEvent("MouseEvents");T.initMouseEvent(w.type,w.bubbles,w.cancelable,window,w.detail,w.screenX,w.screenY,w.clientX,w.clientY,w.ctrlKey,w.altKey,w.shiftKey,w.metaKey,w.button,w.relatedTarget),this.dialog_.dispatchEvent(T),w.stopPropagation()},focus_:function(){var w=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!w&&this.dialog_.tabIndex>=0&&(w=this.dialog_),!w){var S=["button","input","keygen","select","textarea"],T=S.map(function(O){return O+":not([disabled])"});T.push('[tabindex]:not([disabled]):not([tabindex=""])'),w=this.dialog_.querySelector(T.join(", "))}i(document.activeElement),w&&w.focus()},updateZIndex:function(w,S){if(w<S)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=w,this.backdrop_.style.zIndex=S},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!l.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");e(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,l.needsCentering(this.dialog_)?(l.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(w){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),w!==void 0&&(this.dialog_.returnValue=w);var S=new t("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(S)}};var l={};if(l.reposition=function(w){var S=document.body.scrollTop||document.documentElement.scrollTop,T=S+(window.innerHeight-w.offsetHeight)/2;w.style.top=Math.max(S,T)+"px"},l.isInlinePositionSetByStylesheet=function(w){for(var S=0;S<document.styleSheets.length;++S){var T=document.styleSheets[S],O=null;try{O=T.cssRules}catch{}if(O)for(var V=0;V<O.length;++V){var $=O[V],x=null;try{x=document.querySelectorAll($.selectorText)}catch{}if(!(!x||!r(x,w))){var ee=$.style.getPropertyValue("top"),U=$.style.getPropertyValue("bottom");if(ee&&ee!=="auto"||U&&U!=="auto")return!0}}}return!1},l.needsCentering=function(w){var S=window.getComputedStyle(w);return S.position!=="absolute"||w.style.top!=="auto"&&w.style.top!==""||w.style.bottom!=="auto"&&w.style.bottom!==""?!1:!l.isInlinePositionSetByStylesheet(w)},l.forceRegisterDialog=function(w){if((window.HTMLDialogElement||w.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",w),w.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new a(w)},l.registerDialog=function(w){w.showModal||l.forceRegisterDialog(w)},l.DialogManager=function(){this.pendingDialogStack=[];var w=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(S){this.forwardTab_=void 0,S.stopPropagation(),w([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(S){var T=[];S.forEach(function(O){for(var V=0,$;$=O.removedNodes[V];++V){if($ instanceof Element)$.localName==="dialog"&&T.push($);else continue;T=T.concat($.querySelectorAll("dialog"))}}),T.length&&w(T)}))},l.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},l.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},l.DialogManager.prototype.updateStacking=function(){for(var w=this.zIndexHigh_,S=0,T;T=this.pendingDialogStack[S];++S)T.updateZIndex(--w,--w),S===0&&(this.overlay.style.zIndex=--w);var O=this.pendingDialogStack[0];if(O){var V=O.dialog.parentNode||document.body;V.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},l.DialogManager.prototype.containedByTopDialog_=function(w){for(;w=n(w);){for(var S=0,T;T=this.pendingDialogStack[S];++S)if(T.dialog===w)return S===0;w=w.parentElement}return!1},l.DialogManager.prototype.handleFocus_=function(w){if(!this.containedByTopDialog_(w.target)&&(w.preventDefault(),w.stopPropagation(),i(w.target),this.forwardTab_!==void 0)){var S=this.pendingDialogStack[0],T=S.dialog,O=T.compareDocumentPosition(w.target);return O&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?S.focus_():document.documentElement.focus()),!1}},l.DialogManager.prototype.handleKey_=function(w){if(this.forwardTab_=void 0,w.keyCode===27){w.preventDefault(),w.stopPropagation();var S=new t("cancel",{bubbles:!1,cancelable:!0}),T=this.pendingDialogStack[0];T&&T.dialog.dispatchEvent(S)&&T.dialog.close()}else w.keyCode===9&&(this.forwardTab_=!w.shiftKey)},l.DialogManager.prototype.checkDOM_=function(w){var S=this.pendingDialogStack.slice();S.forEach(function(T){w.indexOf(T.dialog)!==-1?T.downgradeModal():T.maybeHideModal()})},l.DialogManager.prototype.pushDialog=function(w){var S=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=S?!1:(this.pendingDialogStack.unshift(w)===1&&this.blockDocument(),this.updateStacking(),!0)},l.DialogManager.prototype.removeDialog=function(w){var S=this.pendingDialogStack.indexOf(w);S!==-1&&(this.pendingDialogStack.splice(S,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},l.dm=new l.DialogManager,l.formSubmitter=null,l.useValue=null,window.HTMLDialogElement===void 0){var d=document.createElement("form");if(d.setAttribute("method","dialog"),d.method!=="dialog"){var h=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(h){var m=h.get;h.get=function(){return o(this)?"dialog":m.call(this)};var v=h.set;h.set=function(w){return typeof w=="string"&&w.toLowerCase()==="dialog"?this.setAttribute("method",w):v.call(this,w)},Object.defineProperty(HTMLFormElement.prototype,"method",h)}}document.addEventListener("click",function(w){if(l.formSubmitter=null,l.useValue=null,!w.defaultPrevented){var S=w.target;if(!(!S||!o(S.form))){var T=S.type==="submit"&&["button","input"].indexOf(S.localName)>-1;if(!T){if(!(S.localName==="input"&&S.type==="image"))return;l.useValue=w.offsetX+","+w.offsetY}var O=n(S);O&&(l.formSubmitter=S)}}},!1);var y=HTMLFormElement.prototype.submit,b=function(){if(!o(this))return y.call(this);var w=n(this);w&&w.close()};HTMLFormElement.prototype.submit=b,document.addEventListener("submit",function(w){var S=w.target;if(o(S)){w.preventDefault();var T=n(S);if(T){var O=l.formSubmitter;O&&O.form===S?T.close(l.useValue||O.value):T.close(),l.formSubmitter=null}}},!0)}l.forceRegisterDialog=l.forceRegisterDialog,l.registerDialog=l.registerDialog,typeof define=="function"&&"amd"in define?define(function(){return l}):typeof yE=="object"&&typeof yE.exports=="object"?yE.exports=l:window.dialogPolyfill=l})()});function bq(t,e){return Object.is(t,e)}var ai=null,Np=!1,y_=1,Ga=Symbol("SIGNAL");function Ot(t){let e=ai;return ai=t,e}function Cq(){return Np}var __={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function O2(t){if(Np)throw new Error("");if(ai===null)return;ai.consumerOnSignalRead(t);let e=ai.nextProducerIndex++;if(Td(ai),e<ai.producerNode.length&&ai.producerNode[e]!==t&&Fp(ai)){let n=ai.producerNode[e];b_(n,ai.producerIndexOfThis[e])}ai.producerNode[e]!==t&&(ai.producerNode[e]=t,ai.producerIndexOfThis[e]=Fp(ai)?F2(t,ai,e):0),ai.producerLastReadVersion[e]=t.version}function Eq(){y_++}function Iq(t){if(!(Fp(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===y_)){if(!t.producerMustRecompute(t)&&!w_(t)){t.dirty=!1,t.lastCleanEpoch=y_;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=y_}}function k2(t){if(t.liveConsumerNode===void 0)return;let e=Np;Np=!0;try{for(let n of t.liveConsumerNode)n.dirty||N2(n)}finally{Np=e}}function R2(){return ai?.consumerAllowSignalWrites!==!1}function N2(t){t.dirty=!0,k2(t),t.consumerMarkedDirty?.(t)}function rS(t){return t&&(t.nextProducerIndex=0),Ot(t)}function oS(t,e){if(Ot(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Fp(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)b_(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function w_(t){Td(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(Iq(n),i!==n.version))return!0}return!1}function sS(t){if(Td(t),Fp(t))for(let e=0;e<t.producerNode.length;e++)b_(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function F2(t,e,n){if(L2(t),Td(t),t.liveConsumerNode.length===0)for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=F2(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function b_(t,e){if(L2(t),Td(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)b_(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Td(r),r.producerIndexOfThis[i]=e}}function Fp(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Td(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function L2(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Sq(){throw new Error}var V2=Sq;function j2(){V2()}function U2(t){V2=t}var Tq=null;function B2(t){let e=Object.create(H2);e.value=t;let n=()=>(O2(e),e.value);return n[Ga]=e,n}function aS(t,e){R2()||j2(),t.equal(t.value,e)||(t.value=e,Dq(t))}function $2(t,e){R2()||j2(),aS(t,e(t.value))}var H2=Dt(te({},__),{equal:bq,value:void 0});function Dq(t){t.version++,Eq(),k2(t),Tq?.()}function G2(t,e,n){let i=Object.create(xq);n&&(i.consumerAllowSignalWrites=!0),i.fn=t,i.schedule=e;let r=d=>{i.cleanupFn=d};function o(d){return d.fn===null&&d.schedule===null}function a(d){o(d)||(sS(d),d.cleanupFn(),d.fn=null,d.schedule=null,d.cleanupFn=iS)}let l=()=>{if(i.fn===null)return;if(Cq())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!w_(i))return;i.hasRun=!0;let d=rS(i);try{i.cleanupFn(),i.cleanupFn=iS,i.fn(r)}finally{oS(i,d)}};return i.ref={notify:()=>N2(i),run:l,cleanup:()=>i.cleanupFn(),destroy:()=>a(i),[Ga]:i},i.ref}var iS=()=>{},xq=Dt(te({},__),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:iS});function De(t){return typeof t=="function"}function Dd(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var C_=Dd(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function hl(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var On=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(De(i))try{i()}catch(o){e=o instanceof C_?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{z2(o)}catch(a){e=e??[],a instanceof C_?e=[...e,...a.errors]:e.push(a)}}if(e)throw new C_(e)}}add(e){var n;if(e&&e!==this)if(this.closed)z2(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&hl(n,e)}remove(e){let{_finalizers:n}=this;n&&hl(n,e),e instanceof t&&e._removeParent(this)}};On.EMPTY=(()=>{let t=new On;return t.closed=!0,t})();var cS=On.EMPTY;function E_(t){return t instanceof On||t&&"closed"in t&&De(t.remove)&&De(t.add)&&De(t.unsubscribe)}function z2(t){De(t)?t():t.unsubscribe()}var po={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var xd={setTimeout(t,e,...n){let{delegate:i}=xd;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=xd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function I_(t){xd.setTimeout(()=>{let{onUnhandledError:e}=po;if(e)e(t);else throw t})}function Lp(){}var q2=lS("C",void 0,void 0);function W2(t){return lS("E",void 0,t)}function K2(t){return lS("N",t,void 0)}function lS(t,e,n){return{kind:t,value:e,error:n}}var fl=null;function Ad(t){if(po.useDeprecatedSynchronousErrorHandling){let e=!fl;if(e&&(fl={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=fl;if(fl=null,n)throw i}}else t()}function Y2(t){po.useDeprecatedSynchronousErrorHandling&&fl&&(fl.errorThrown=!0,fl.error=t)}var pl=class extends On{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,E_(e)&&e.add(this)):this.destination=Pq}static create(e,n,i){return new za(e,n,i)}next(e){this.isStopped?dS(K2(e),this):this._next(e)}error(e){this.isStopped?dS(W2(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?dS(q2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Aq=Function.prototype.bind;function uS(t,e){return Aq.call(t,e)}var hS=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){S_(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){S_(i)}else S_(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){S_(n)}}},za=class extends pl{constructor(e,n,i){super();let r;if(De(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&po.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&uS(e.next,o),error:e.error&&uS(e.error,o),complete:e.complete&&uS(e.complete,o)}):r=e}this.destination=new hS(r)}};function S_(t){po.useDeprecatedSynchronousErrorHandling?Y2(t):I_(t)}function Mq(t){throw t}function dS(t,e){let{onStoppedNotification:n}=po;n&&xd.setTimeout(()=>n(t,e))}var Pq={closed:!0,next:Lp,error:Mq,complete:Lp};var Md=typeof Symbol=="function"&&Symbol.observable||"@@observable";function wr(t){return t}function fS(...t){return pS(t)}function pS(t){return t.length===0?wr:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var Ue=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=kq(n)?n:new za(n,i,r);return Ad(()=>{let{operator:a,source:l}=this;o.add(a?a.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=Q2(i),new i((r,o)=>{let a=new za({next:l=>{try{n(l)}catch(d){o(d),a.unsubscribe()}},error:o,complete:r});this.subscribe(a)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Md](){return this}pipe(...n){return pS(n)(this)}toPromise(n){return n=Q2(n),new n((i,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>i(o))})}}return t.create=e=>new t(e),t})();function Q2(t){var e;return(e=t??po.Promise)!==null&&e!==void 0?e:Promise}function Oq(t){return t&&De(t.next)&&De(t.error)&&De(t.complete)}function kq(t){return t&&t instanceof pl||Oq(t)&&E_(t)}function mS(t){return De(t?.lift)}function dt(t){return e=>{if(mS(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function it(t,e,n,i,r){return new gS(t,e,n,i,r)}var gS=class extends pl{constructor(e,n,i,r,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(l){try{n(l)}catch(d){e.error(d)}}:super._next,this._error=r?function(l){try{r(l)}catch(d){e.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Pd(){return dt((t,e)=>{let n=null;t._refCount++;let i=it(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var Od=class extends Ue{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,mS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new On;let n=this.getSubject();e.add(this.source.subscribe(it(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=On.EMPTY)}return e}refCount(){return Pd()(this)}};var J2=Dd(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ci=(()=>{class t extends Ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new T_(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new J2}next(n){Ad(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Ad(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Ad(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?cS:(this.currentObservers=null,o.push(n),new On(()=>{this.currentObservers=null,hl(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new Ue;return n.source=this,n}}return t.create=(e,n)=>new T_(e,n),t})(),T_=class extends ci{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:cS}};var Qn=class extends ci{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var vS={now(){return(vS.delegate||Date).now()},delegate:void 0};var D_=class extends On{constructor(e,n){super()}schedule(e,n=0){return this}};var Vp={setInterval(t,e,...n){let{delegate:i}=Vp;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Vp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var kd=class extends D_{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return Vp.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Vp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,hl(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Rd=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};Rd.now=vS.now;var Nd=class extends Rd{constructor(e,n=Rd.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var Fd=new Nd(kd),yS=Fd;var x_=class extends kd{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var A_=class extends Nd{};var _S=new A_(x_);var sr=new Ue(t=>t.complete());function M_(t){return t&&De(t.schedule)}function wS(t){return t[t.length-1]}function P_(t){return De(wS(t))?t.pop():void 0}function Yo(t){return M_(wS(t))?t.pop():void 0}function X2(t,e){return typeof wS(t)=="number"?t.pop():e}function O_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function eL(t,e,n,i){function r(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(m){try{h(i.next(m))}catch(v){a(v)}}function d(m){try{h(i.throw(m))}catch(v){a(v)}}function h(m){m.done?o(m.value):r(m.value).then(l,d)}h((i=i.apply(t,e||[])).next())})}function Z2(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ml(t){return this instanceof ml?(this.v=t,this):new ml(t)}function tL(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(y){i[y]&&(r[y]=function(b){return new Promise(function(w,S){o.push([y,b,w,S])>1||l(y,b)})})}function l(y,b){try{d(i[y](b))}catch(w){v(o[0][3],w)}}function d(y){y.value instanceof ml?Promise.resolve(y.value.v).then(h,m):v(o[0][2],y)}function h(y){l("next",y)}function m(y){l("throw",y)}function v(y,b){y(b),o.shift(),o.length&&l(o[0][0],o[0][1])}}function nL(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Z2=="function"?Z2(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(a){return new Promise(function(l,d){a=t[o](a),r(l,d,a.done,a.value)})}}function r(o,a,l,d){Promise.resolve(d).then(function(h){o({value:h,done:l})},a)}}var Ld=t=>t&&typeof t.length=="number"&&typeof t!="function";function k_(t){return De(t?.then)}function R_(t){return De(t[Md])}function N_(t){return Symbol.asyncIterator&&De(t?.[Symbol.asyncIterator])}function F_(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Rq(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var L_=Rq();function V_(t){return De(t?.[L_])}function j_(t){return tL(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield ml(n.read());if(r)return yield ml(void 0);yield yield ml(i)}}finally{n.releaseLock()}})}function U_(t){return De(t?.getReader)}function Yt(t){if(t instanceof Ue)return t;if(t!=null){if(R_(t))return Nq(t);if(Ld(t))return Fq(t);if(k_(t))return Lq(t);if(N_(t))return iL(t);if(V_(t))return Vq(t);if(U_(t))return jq(t)}throw F_(t)}function Nq(t){return new Ue(e=>{let n=t[Md]();if(De(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Fq(t){return new Ue(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Lq(t){return new Ue(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,I_)})}function Vq(t){return new Ue(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function iL(t){return new Ue(e=>{Uq(t,e).catch(n=>e.error(n))})}function jq(t){return iL(j_(t))}function Uq(t,e){var n,i,r,o;return eL(this,void 0,void 0,function*(){try{for(n=nL(t);i=yield n.next(),!i.done;){let a=i.value;if(e.next(a),e.closed)return}}catch(a){r={error:a}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function ar(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function qa(t,e=0){return dt((n,i)=>{n.subscribe(it(i,r=>ar(i,t,()=>i.next(r),e),()=>ar(i,t,()=>i.complete(),e),r=>ar(i,t,()=>i.error(r),e)))})}function Wa(t,e=0){return dt((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function rL(t,e){return Yt(t).pipe(Wa(e),qa(e))}function oL(t,e){return Yt(t).pipe(Wa(e),qa(e))}function sL(t,e){return new Ue(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function aL(t,e){return new Ue(n=>{let i;return ar(n,e,()=>{i=t[L_](),ar(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(a){n.error(a);return}o?n.complete():n.next(r)},0,!0)}),()=>De(i?.return)&&i.return()})}function B_(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ue(n=>{ar(n,e,()=>{let i=t[Symbol.asyncIterator]();ar(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function cL(t,e){return B_(j_(t),e)}function lL(t,e){if(t!=null){if(R_(t))return rL(t,e);if(Ld(t))return sL(t,e);if(k_(t))return oL(t,e);if(N_(t))return B_(t,e);if(V_(t))return aL(t,e);if(U_(t))return cL(t,e)}throw F_(t)}function Qt(t,e){return e?lL(t,e):Yt(t)}function Re(...t){let e=Yo(t);return Qt(t,e)}function Vd(t,e){let n=De(t)?t:()=>t,i=r=>r.error(n());return new Ue(e?r=>e.schedule(i,0,r):i)}function bS(t){return!!t&&(t instanceof Ue||De(t.lift)&&De(t.subscribe))}var br=Dd(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Cr(t,e){let n=typeof e=="object";return new Promise((i,r)=>{let o=!1,a;t.subscribe({next:l=>{a=l,o=!0},error:r,complete:()=>{o?i(a):n?i(e.defaultValue):r(new br)}})})}function $_(t,e){let n=typeof e=="object";return new Promise((i,r)=>{let o=new za({next:a=>{i(a),o.unsubscribe()},error:r,complete:()=>{n?i(e.defaultValue):r(new br)}});t.subscribe(o)})}function uL(t){return t instanceof Date&&!isNaN(t)}function Ne(t,e){return dt((n,i)=>{let r=0;n.subscribe(it(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:Bq}=Array;function $q(t,e){return Bq(e)?t(...e):t(e)}function jd(t){return Ne(e=>$q(t,e))}var{isArray:Hq}=Array,{getPrototypeOf:Gq,prototype:zq,keys:qq}=Object;function H_(t){if(t.length===1){let e=t[0];if(Hq(e))return{args:e,keys:null};if(Wq(e)){let n=qq(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function Wq(t){return t&&typeof t=="object"&&Gq(t)===zq}function G_(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function z_(...t){let e=Yo(t),n=P_(t),{args:i,keys:r}=H_(t);if(i.length===0)return Qt([],e);let o=new Ue(Kq(i,e,r?a=>G_(r,a):wr));return n?o.pipe(jd(n)):o}function Kq(t,e,n=wr){return i=>{dL(e,()=>{let{length:r}=t,o=new Array(r),a=r,l=r;for(let d=0;d<r;d++)dL(e,()=>{let h=Qt(t[d],e),m=!1;h.subscribe(it(i,v=>{o[d]=v,m||(m=!0,l--),l||i.next(n(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}function dL(t,e,n){t?ar(n,t,e):e()}function hL(t,e,n,i,r,o,a,l){let d=[],h=0,m=0,v=!1,y=()=>{v&&!d.length&&!h&&e.complete()},b=S=>h<i?w(S):d.push(S),w=S=>{o&&e.next(S),h++;let T=!1;Yt(n(S,m++)).subscribe(it(e,O=>{r?.(O),o?b(O):e.next(O)},()=>{T=!0},void 0,()=>{if(T)try{for(h--;d.length&&h<i;){let O=d.shift();a?ar(e,a,()=>w(O)):w(O)}y()}catch(O){e.error(O)}}))};return t.subscribe(it(e,b,()=>{v=!0,y()})),()=>{l?.()}}function kn(t,e,n=1/0){return De(e)?kn((i,r)=>Ne((o,a)=>e(i,o,r,a))(Yt(t(i,r))),n):(typeof e=="number"&&(n=e),dt((i,r)=>hL(i,r,t,n)))}function Ka(t=1/0){return kn(wr,t)}function fL(){return Ka(1)}function Ud(...t){return fL()(Qt(t,Yo(t)))}function q_(t){return new Ue(e=>{Yt(t()).subscribe(e)})}function CS(...t){let e=P_(t),{args:n,keys:i}=H_(t),r=new Ue(o=>{let{length:a}=n;if(!a){o.complete();return}let l=new Array(a),d=a,h=a;for(let m=0;m<a;m++){let v=!1;Yt(n[m]).subscribe(it(o,y=>{v||(v=!0,h--),l[m]=y},()=>d--,void 0,()=>{(!d||!v)&&(h||o.next(i?G_(i,l):l),o.complete())}))}});return e?r.pipe(jd(e)):r}var Yq=["addListener","removeListener"],Qq=["addEventListener","removeEventListener"],Jq=["on","off"];function Bd(t,e,n,i){if(De(n)&&(i=n,n=void 0),i)return Bd(t,e,n).pipe(jd(i));let[r,o]=eW(t)?Qq.map(a=>l=>t[a](e,l,n)):Xq(t)?Yq.map(pL(t,e)):Zq(t)?Jq.map(pL(t,e)):[];if(!r&&Ld(t))return kn(a=>Bd(a,e,n))(Yt(t));if(!r)throw new TypeError("Invalid event target");return new Ue(a=>{let l=(...d)=>a.next(1<d.length?d:d[0]);return r(l),()=>o(l)})}function pL(t,e){return n=>i=>t[n](e,i)}function Xq(t){return De(t.addListener)&&De(t.removeListener)}function Zq(t){return De(t.on)&&De(t.off)}function eW(t){return De(t.addEventListener)&&De(t.removeEventListener)}function mL(t=0,e,n=yS){let i=-1;return e!=null&&(M_(e)?n=e:i=e),new Ue(r=>{let o=uL(t)?+t-n.now():t;o<0&&(o=0);let a=0;return n.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function jp(...t){let e=Yo(t),n=X2(t,1/0),i=t;return i.length?i.length===1?Yt(i[0]):Ka(n)(Qt(i,e)):sr}function li(t,e){return dt((n,i)=>{let r=0;n.subscribe(it(i,o=>t.call(e,o,r++)&&i.next(o)))})}function gL(t){return dt((e,n)=>{let i=!1,r=null,o=null,a=!1,l=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let h=r;r=null,n.next(h)}a&&n.complete()},d=()=>{o=null,a&&n.complete()};e.subscribe(it(n,h=>{i=!0,r=h,o||Yt(t(h)).subscribe(o=it(n,l,d))},()=>{a=!0,(!i||!o||o.closed)&&n.complete()}))})}function ES(t,e=Fd){return gL(()=>mL(t,e))}function Qo(t){return dt((e,n)=>{let i=null,r=!1,o;i=e.subscribe(it(n,void 0,void 0,a=>{o=Yt(t(a,Qo(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function vL(t,e,n,i,r){return(o,a)=>{let l=n,d=e,h=0;o.subscribe(it(a,m=>{let v=h++;d=l?t(d,m,v):(l=!0,m),i&&a.next(d)},r&&(()=>{l&&a.next(d),a.complete()})))}}function Ya(t,e){return De(e)?kn(t,e,1):kn(t,1)}function Qa(t){return dt((e,n)=>{let i=!1;e.subscribe(it(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function Gs(t){return t<=0?()=>sr:dt((e,n)=>{let i=0;e.subscribe(it(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function IS(t){return Ne(()=>t)}function W_(t=tW){return dt((e,n)=>{let i=!1;e.subscribe(it(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function tW(){return new br}function gl(t){return dt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Jo(t,e){let n=arguments.length>=2;return i=>i.pipe(t?li((r,o)=>t(r,o,i)):wr,Gs(1),n?Qa(e):W_(()=>new br))}function $d(t){return t<=0?()=>sr:dt((e,n)=>{let i=[];e.subscribe(it(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function SS(t,e){let n=arguments.length>=2;return i=>i.pipe(t?li((r,o)=>t(r,o,i)):wr,$d(1),n?Qa(e):W_(()=>new br))}function TS(t,e){return dt(vL(t,e,arguments.length>=2,!0))}function DS(t){return li((e,n)=>t<=n)}function xS(...t){let e=Yo(t);return dt((n,i)=>{(e?Ud(t,n,e):Ud(t,n)).subscribe(i)})}function Mi(t,e){return dt((n,i)=>{let r=null,o=0,a=!1,l=()=>a&&!r&&i.complete();n.subscribe(it(i,d=>{r?.unsubscribe();let h=0,m=o++;Yt(t(d,m)).subscribe(r=it(i,v=>i.next(e?e(d,v,m,h++):v),()=>{r=null,l()}))},()=>{a=!0,l()}))})}function mo(t){return dt((e,n)=>{Yt(t).subscribe(it(n,()=>n.complete(),Lp)),!n.closed&&e.subscribe(n)})}function Rn(t,e,n){let i=De(t)||e||n?{next:t,error:e,complete:n}:t;return i?dt((r,o)=>{var a;(a=i.subscribe)===null||a===void 0||a.call(i);let l=!0;r.subscribe(it(o,d=>{var h;(h=i.next)===null||h===void 0||h.call(i,d),o.next(d)},()=>{var d;l=!1,(d=i.complete)===null||d===void 0||d.call(i),o.complete()},d=>{var h;l=!1,(h=i.error)===null||h===void 0||h.call(i,d),o.error(d)},()=>{var d,h;l&&((d=i.unsubscribe)===null||d===void 0||d.call(i)),(h=i.finalize)===null||h===void 0||h.call(i)}))}):wr}var oV="https://g.co/ng/security#xss",X=class extends Error{constructor(e,n){super(D0(e,n)),this.code=e}};function D0(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var GS=class extends ci{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=Ot(null);try{super.next(e)}finally{Ot(n)}}subscribe(e,n,i){let r=e,o=n||(()=>null),a=i;if(e&&typeof e=="object"){let d=e;r=d.next?.bind(d),o=d.error?.bind(d),a=d.complete?.bind(d)}this.__isAsync&&(o=AS(o),r&&(r=AS(r)),a&&(a=AS(a)));let l=super.subscribe({next:r,error:o,complete:a});return e instanceof On&&e.add(l),l}};function AS(t){return e=>{setTimeout(t,void 0,e)}}var Gt=GS;var ot=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ot||{});function Yi(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Yi).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function zS(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var sV=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(sV||{}),es=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(es||{});function Jp(t){return{toString:t}.toString()}var zs=globalThis;var Kd={},cr=[];function zt(t){for(let e in t)if(t[e]===zt)return e;throw Error("Could not find renamed property on target object.")}function nW(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var iW=zt({\u0275cmp:zt}),rW=zt({\u0275dir:zt}),oW=zt({\u0275pipe:zt}),sW=zt({\u0275mod:zt}),a0=zt({\u0275fac:zt}),Up=zt({__NG_ELEMENT_ID__:zt}),yL=zt({__NG_ENV_ID__:zt}),xe=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(xe||{});function aV(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function qS(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],a=n[i++],l=n[i++];t.setAttribute(e,a,l,o)}else{let o=r,a=n[++i];aW(o)?t.setProperty(e,o,a):t.setAttribute(e,o,a),i++}}return i}function cV(t){return t===3||t===4||t===6}function aW(t){return t.charCodeAt(0)===64}function Bp(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?_L(t,n,r,null,e[++i]):_L(t,n,r,null,null))}}return t}function _L(t,e,n,i,r){let o=0,a=t.length;if(e===-1)a=-1;else for(;o<t.length;){let l=t[o++];if(typeof l=="number"){if(l===e){a=-1;break}else if(l>e){a=o-1;break}}}for(;o<t.length;){let l=t[o];if(typeof l=="number")break;if(l===n){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}a!==-1&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var lV="ng-template";function cW(t,e,n){let i=0,r=!0;for(;i<t.length;){let o=t[i++];if(typeof o=="string"&&r){let a=t[i++];if(n&&o==="class"&&aV(a.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;i<t.length&&typeof(o=t[i++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(r=!1)}return!1}function uV(t){return t.type===4&&t.value!==lV}function lW(t,e,n){let i=t.type===4&&!n?lV:t.value;return e===i}function uW(t,e,n){let i=4,r=t.attrs||[],o=fW(r),a=!1;for(let l=0;l<e.length;l++){let d=e[l];if(typeof d=="number"){if(!a&&!go(i)&&!go(d))return!1;if(a&&go(d))continue;a=!1,i=d|i&1;continue}if(!a)if(i&4){if(i=2|i&1,d!==""&&!lW(t,d,n)||d===""&&e.length===1){if(go(i))return!1;a=!0}}else{let h=i&8?d:e[++l];if(i&8&&t.attrs!==null){if(!cW(t.attrs,h,n)){if(go(i))return!1;a=!0}continue}let m=i&8?"class":d,v=dW(m,r,uV(t),n);if(v===-1){if(go(i))return!1;a=!0;continue}if(h!==""){let y;v>o?y="":y=r[v+1].toLowerCase();let b=i&8?y:null;if(b&&aV(b,h,0)!==-1||i&2&&h!==y){if(go(i))return!1;a=!0}}}}return go(i)||a}function go(t){return(t&1)===0}function dW(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let a=e[r];if(a===t)return r;if(a===3||a===6)o=!0;else if(a===1||a===2){let l=e[++r];for(;typeof l=="string";)l=e[++r];continue}else{if(a===4)break;if(a===0){r+=4;continue}}r+=o?1:2}return-1}else return pW(e,t)}function hW(t,e,n=!1){for(let i=0;i<e.length;i++)if(uW(t,e[i],n))return!0;return!1}function fW(t){for(let e=0;e<t.length;e++){let n=t[e];if(cV(n))return e}return t.length}function pW(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function wL(t,e){return t?":not("+e.trim()+")":e}function mW(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let a=t[n];if(typeof a=="string")if(i&2){let l=t[++n];r+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else i&8?r+="."+a:i&4&&(r+=" "+a);else r!==""&&!go(a)&&(e+=wL(o,r),r=""),i=a,o=o||!go(i);n++}return r!==""&&(e+=wL(o,r)),e}function gW(t){return t.map(mW).join(",")}function vW(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!go(r))break;r=o}i++}return{attrs:e,classes:n}}function de(t){return Jp(()=>{let e=mV(t),n=Dt(te({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===sV.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||es.Emulated,styles:t.styles||cr,_:null,schemas:t.schemas||null,tView:null,id:""});gV(n);let i=t.dependencies;return n.directiveDefs=CL(i,!1),n.pipeDefs=CL(i,!0),n.id=wW(n),n})}function yW(t){return Za(t)||dV(t)}function _W(t){return t!==null}function Qi(t){return Jp(()=>({type:t.type,bootstrap:t.bootstrap||cr,declarations:t.declarations||cr,imports:t.imports||cr,exports:t.exports||cr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function bL(t,e){if(t==null)return Kd;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,a,l=xe.None;Array.isArray(r)?(l=r[0],o=r[1],a=r[2]??o):(o=r,a=r),e?(n[o]=l!==xe.None?[i,l]:i,e[o]=a):n[o]=i}return n}function xt(t){return Jp(()=>{let e=mV(t);return gV(e),e})}function Za(t){return t[iW]||null}function dV(t){return t[rW]||null}function hV(t){return t[oW]||null}function fV(t){let e=Za(t)||dV(t)||hV(t);return e!==null?e.standalone:!1}function pV(t,e){let n=t[sW]||null;if(!n&&e===!0)throw new Error(`Type ${Yi(t)} does not have '\u0275mod' property.`);return n}function mV(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Kd,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||cr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bL(t.inputs,e),outputs:bL(t.outputs),debugInfo:null}}function gV(t){t.features?.forEach(e=>e(t))}function CL(t,e){if(!t)return null;let n=e?hV:yW;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(_W)}function wW(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var os=0,rt=1,ke=2,_i=3,vo=4,wo=5,c0=6,$p=7,yo=8,Yd=9,qs=10,wn=11,Hp=12,EL=13,rh=14,ts=15,Xp=16,Hd=17,Ws=18,x0=19,vV=20,Xa=21,e0=22,_l=23,ns=25,zT=1;var wl=7,l0=8,Qd=9,Er=10,qT=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(qT||{});function vl(t){return Array.isArray(t)&&typeof t[zT]=="object"}function Zs(t){return Array.isArray(t)&&t[zT]===!0}function WT(t){return(t.flags&4)!==0}function A0(t){return t.componentOffset>-1}function M0(t){return(t.flags&1)===1}function Ks(t){return!!t.template}function bW(t){return(t[ke]&512)!==0}var CW="svg",EW="math",IW=!1;function SW(){return IW}function is(t){for(;Array.isArray(t);)t=t[os];return t}function TW(t){for(;Array.isArray(t);){if(typeof t[zT]=="object")return t;t=t[os]}return null}function yV(t,e){return is(e[t])}function Lr(t,e){return is(e[t.index])}function _V(t,e){return t.data[e]}function DW(t,e){return t[e]}function nc(t,e){let n=e[t];return vl(n)?n:n[os]}function xW(t){return(t[ke]&4)===4}function KT(t){return(t[ke]&128)===128}function AW(t){return Zs(t[_i])}function Jd(t,e){return e==null?null:t[e]}function wV(t){t[Hd]=0}function MW(t){t[ke]&1024||(t[ke]|=1024,KT(t)&&Gp(t))}function PW(t,e){for(;t>0;)e=e[rh],t--;return e}function YT(t){return!!(t[ke]&9216||t[_l]?.dirty)}function WS(t){YT(t)?Gp(t):t[ke]&64&&(SW()?(t[ke]|=1024,Gp(t)):t[qs].changeDetectionScheduler?.notify())}function Gp(t){t[qs].changeDetectionScheduler?.notify();let e=zp(t);for(;e!==null&&!(e[ke]&8192||(e[ke]|=8192,!KT(e)));)e=zp(e)}function bV(t,e){if((t[ke]&256)===256)throw new X(911,!1);t[Xa]===null&&(t[Xa]=[]),t[Xa].push(e)}function OW(t,e){if(t[Xa]===null)return;let n=t[Xa].indexOf(e);n!==-1&&t[Xa].splice(n,1)}function zp(t){let e=t[_i];return Zs(e)?e[_i]:e}var et={lFrame:AV(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function kW(){return et.lFrame.elementDepthCount}function RW(){et.lFrame.elementDepthCount++}function NW(){et.lFrame.elementDepthCount--}function CV(){return et.bindingsEnabled}function FW(){return et.skipHydrationRootTNode!==null}function LW(t){return et.skipHydrationRootTNode===t}function VW(){et.skipHydrationRootTNode=null}function Et(){return et.lFrame.lView}function $n(){return et.lFrame.tView}function N(t){return et.lFrame.contextLView=t,t[yo]}function F(t){return et.lFrame.contextLView=null,t}function Pi(){let t=EV();for(;t!==null&&t.type===64;)t=t.parent;return t}function EV(){return et.lFrame.currentTNode}function jW(){let t=et.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Dl(t,e){let n=et.lFrame;n.currentTNode=t,n.isParent=e}function QT(){return et.lFrame.isParent}function IV(){et.lFrame.isParent=!1}function UW(){return et.lFrame.contextLView}function BW(){let t=et.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function $W(){return et.lFrame.bindingIndex}function HW(t){return et.lFrame.bindingIndex=t}function Zp(){return et.lFrame.bindingIndex++}function JT(t){let e=et.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function GW(){return et.lFrame.inI18n}function zW(t,e){let n=et.lFrame;n.bindingIndex=n.bindingRootIndex=t,KS(e)}function qW(){return et.lFrame.currentDirectiveIndex}function KS(t){et.lFrame.currentDirectiveIndex=t}function SV(t){let e=et.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function TV(){return et.lFrame.currentQueryIndex}function XT(t){et.lFrame.currentQueryIndex=t}function WW(t){let e=t[rt];return e.type===2?e.declTNode:e.type===1?t[wo]:null}function DV(t,e,n){if(n&ot.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(n&ot.Host);)if(r=WW(o),r===null||(o=o[rh],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=et.lFrame=xV();return i.currentTNode=e,i.lView=t,!0}function ZT(t){let e=xV(),n=t[rt];et.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function xV(){let t=et.lFrame,e=t===null?null:t.child;return e===null?AV(t):e}function AV(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function MV(){let t=et.lFrame;return et.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var PV=MV;function e1(){let t=MV();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function KW(t){return(et.lFrame.contextLView=PW(t,et.lFrame.contextLView))[yo]}function ic(){return et.lFrame.selectedIndex}function bl(t){et.lFrame.selectedIndex=t}function P0(){let t=et.lFrame;return _V(t.tView,t.selectedIndex)}function YW(){return et.lFrame.currentNamespace}var OV=!0;function O0(){return OV}function k0(t){OV=t}function QW(){return oh(Pi(),Et())}function oh(t,e){return new nn(Lr(t,e))}var nn=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=QW;let t=e;return t})();function JW(t){return t instanceof nn?t.nativeElement:t}function XW(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function ZW(t){return t.flat(Number.POSITIVE_INFINITY)}function t1(t,e){t.forEach(n=>Array.isArray(n)?t1(n,e):e(n))}function kV(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function u0(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function e7(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function RV(t,e,n){let i=em(t,e);return i>=0?t[i|1]=n:(i=~i,e7(t,i,e,n)),i}function MS(t,e){let n=em(t,e);if(n>=0)return t[n|1]}function em(t,e){return t7(t,e,1)}function t7(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),a=t[o<<n];if(e===a)return o<<n;a>e?r=o:i=o+1}return~(r<<n)}function n7(){return this._results[Symbol.iterator]()}var YS=class t{get changes(){return this._changes??=new Gt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=n7)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=ZW(e);(this._changesDetected=!XW(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function NV(t){return(t.flags&128)===128}var QS;function FV(t){QS=t}function i7(){if(QS!==void 0)return QS;if(typeof document<"u")return document;throw new X(210,!1)}function Z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ji(t){return{providers:t.providers||[],imports:t.imports||[]}}function R0(t){return IL(t,VV)||IL(t,jV)}function LV(t){return R0(t)!==null}function IL(t,e){return t.hasOwnProperty(e)?t[e]:null}function r7(t){let e=t&&(t[VV]||t[jV]);return e||null}function SL(t){return t&&(t.hasOwnProperty(TL)||t.hasOwnProperty(o7))?t[TL]:null}var VV=zt({\u0275prov:zt}),TL=zt({\u0275inj:zt}),jV=zt({ngInjectableDef:zt}),o7=zt({ngInjectorDef:zt}),we=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},n1=new we("",{providedIn:"root",factory:()=>s7}),s7="ng",i1=new we(""),Vr=new we("",{providedIn:"platform",factory:()=>"unknown"});var r1=new we(""),o1=new we("",{providedIn:"root",factory:()=>i7().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var a7=zt({__forward_ref__:zt});function rc(t){return t.__forward_ref__=rc,t.toString=function(){return Yi(this())},t}function Ki(t){return UV(t)?t():t}function UV(t){return typeof t=="function"&&t.hasOwnProperty(a7)&&t.__forward_ref__===rc}function BV(t){return t&&!!t.\u0275providers}function Xd(t){return typeof t=="string"?t:t==null?"":String(t)}function c7(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Xd(t)}function l7(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new X(-200,t)}function s1(t,e){throw new X(-201,!1)}var JS;function $V(){return JS}function Fr(t){let e=JS;return JS=t,e}function HV(t,e,n){let i=R0(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&ot.Optional)return null;if(e!==void 0)return e;s1(t,"Injector")}var u7={},qp=u7,XS="__NG_DI_FLAG__",d0="ngTempTokenPath",d7="ngTokenPath",h7=/\n/gm,f7="\u0275",DL="__source",qd;function p7(){return qd}function Ja(t){let e=qd;return qd=t,e}function m7(t,e=ot.Default){if(qd===void 0)throw new X(-203,!1);return qd===null?HV(t,void 0,e):qd.get(t,e&ot.Optional?null:void 0,e)}function oe(t,e=ot.Default){return($V()||m7)(Ki(t),e)}function J(t,e=ot.Default){return oe(t,N0(e))}function N0(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ZS(t){let e=[];for(let n=0;n<t.length;n++){let i=Ki(t[n]);if(Array.isArray(i)){if(i.length===0)throw new X(900,!1);let r,o=ot.Default;for(let a=0;a<i.length;a++){let l=i[a],d=g7(l);typeof d=="number"?d===-1?r=l.token:o|=d:r=l}e.push(oe(r,o))}else e.push(oe(i))}return e}function GV(t,e){return t[XS]=e,t.prototype[XS]=e,t}function g7(t){return t[XS]}function v7(t,e,n,i){let r=t[d0];throw e[DL]&&r.unshift(e[DL]),t.message=y7(`
`+t.message,r,n,i),t[d7]=r,t[d0]=null,t}function y7(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==f7?t.slice(2):t;let r=Yi(e);if(Array.isArray(e))r=e.map(Yi).join(" -> ");else if(typeof e=="object"){let o=[];for(let a in e)if(e.hasOwnProperty(a)){let l=e[a];o.push(a+":"+(typeof l=="string"?JSON.stringify(l):Yi(l)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(h7,`
  `)}`}var _7="h",w7="b";var b7=()=>null;function a1(t,e,n=!1){return b7(t,e,n)}var K_="__parameters__";function C7(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function zV(t,e,n){return Jp(()=>{let i=C7(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let a=new r(...o);return l.annotation=a,l;function l(d,h,m){let v=d.hasOwnProperty(K_)?d[K_]:Object.defineProperty(d,K_,{value:[]})[K_];for(;v.length<=m;)v.push(null);return(v[m]=v[m]||[]).push(a),d}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Xi=GV(zV("Optional"),8);var qV=GV(zV("SkipSelf"),4);function Zd(t,e){let n=t.hasOwnProperty(a0);return n?t[a0]:null}var eh=new we(""),WV=new we("",-1),KV=new we(""),h0=class{get(e,n=qp){if(n===qp){let i=new Error(`NullInjectorError: No provider for ${Yi(e)}!`);throw i.name="NullInjectorError",i}return n}};function oc(t){return{\u0275providers:t}}function tm(...t){return{\u0275providers:YV(!0,t),\u0275fromNgModule:!0}}function YV(t,...e){let n=[],i=new Set,r,o=a=>{n.push(a)};return t1(e,a=>{let l=a;eT(l,o,[],i)&&(r||=[],r.push(l))}),r!==void 0&&QV(r,o),n}function QV(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];c1(r,o=>{e(o,i)})}}function eT(t,e,n,i){if(t=Ki(t),!t)return!1;let r=null,o=SL(t),a=!o&&Za(t);if(!o&&!a){let d=t.ngModule;if(o=SL(d),o)r=d;else return!1}else{if(a&&!a.standalone)return!1;r=t}let l=i.has(r);if(a){if(l)return!1;if(i.add(r),a.dependencies){let d=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let h of d)eT(h,e,n,i)}}else if(o){if(o.imports!=null&&!l){i.add(r);let h;try{t1(o.imports,m=>{eT(m,e,n,i)&&(h||=[],h.push(m))})}finally{}h!==void 0&&QV(h,e)}if(!l){let h=Zd(r)||(()=>new r);e({provide:r,useFactory:h,deps:cr},r),e({provide:KV,useValue:r,multi:!0},r),e({provide:eh,useValue:()=>oe(r),multi:!0},r)}let d=o.providers;if(d!=null&&!l){let h=t;c1(d,m=>{e(m,h)})}}else return!1;return r!==t&&t.providers!==void 0}function c1(t,e){for(let n of t)BV(n)&&(n=n.\u0275providers),Array.isArray(n)?c1(n,e):e(n)}var E7=zt({provide:String,useValue:zt});function JV(t){return t!==null&&typeof t=="object"&&E7 in t}function I7(t){return!!(t&&t.useExisting)}function S7(t){return!!(t&&t.useFactory)}function th(t){return typeof t=="function"}function T7(t){return!!t.useClass}var F0=new we(""),t0={},D7={},PS;function L0(){return PS===void 0&&(PS=new h0),PS}var ui=class{},Wp=class extends ui{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,nT(e,a=>this.processProvider(a)),this.records.set(WV,Gd(void 0,this)),r.has("environment")&&this.records.set(ui,Gd(void 0,this));let o=this.records.get(F0);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(KV,cr,ot.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ot(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ot(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Ja(this),i=Fr(void 0),r;try{return e()}finally{Ja(n),Fr(i)}}get(e,n=qp,i=ot.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(yL))return e[yL](this);i=N0(i);let r,o=Ja(this),a=Fr(void 0);try{if(!(i&ot.SkipSelf)){let d=this.records.get(e);if(d===void 0){let h=O7(e)&&R0(e);h&&this.injectableDefInScope(h)?d=Gd(tT(e),t0):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d)}let l=i&ot.Self?L0():this.parent;return n=i&ot.Optional&&n===qp?null:n,l.get(e,n)}catch(l){if(l.name==="NullInjectorError"){if((l[d0]=l[d0]||[]).unshift(Yi(e)),o)throw l;return v7(l,e,"R3InjectorError",this.source)}else throw l}finally{Fr(a),Ja(o)}}resolveInjectorInitializers(){let e=Ot(null),n=Ja(this),i=Fr(void 0),r;try{let o=this.get(eh,cr,ot.Self);for(let a of o)a()}finally{Ja(n),Fr(i),Ot(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(Yi(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new X(205,!1)}processProvider(e){e=Ki(e);let n=th(e)?e:Ki(e&&e.provide),i=A7(e);if(!th(e)&&e.multi===!0){let r=this.records.get(n);r||(r=Gd(void 0,t0,!0),r.factory=()=>ZS(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=Ot(null);try{return n.value===t0&&(n.value=D7,n.value=n.factory()),typeof n.value=="object"&&n.value&&P7(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ot(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ki(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function tT(t){let e=R0(t),n=e!==null?e.factory:Zd(t);if(n!==null)return n;if(t instanceof we)throw new X(204,!1);if(t instanceof Function)return x7(t);throw new X(204,!1)}function x7(t){if(t.length>0)throw new X(204,!1);let n=r7(t);return n!==null?()=>n.factory(t):()=>new t}function A7(t){if(JV(t))return Gd(void 0,t.useValue);{let e=XV(t);return Gd(e,t0)}}function XV(t,e,n){let i;if(th(t)){let r=Ki(t);return Zd(r)||tT(r)}else if(JV(t))i=()=>Ki(t.useValue);else if(S7(t))i=()=>t.useFactory(...ZS(t.deps||[]));else if(I7(t))i=()=>oe(Ki(t.useExisting));else{let r=Ki(t&&(t.useClass||t.provide));if(M7(t))i=()=>new r(...ZS(t.deps));else return Zd(r)||tT(r)}return i}function Gd(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function M7(t){return!!t.deps}function P7(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function O7(t){return typeof t=="function"||typeof t=="object"&&t instanceof we}function nT(t,e){for(let n of t)Array.isArray(n)?nT(n,e):n&&BV(n)?nT(n.\u0275providers,e):e(n)}function ea(t,e){t instanceof Wp&&t.assertNotDestroyed();let n,i=Ja(t),r=Fr(void 0);try{return e()}finally{Ja(i),Fr(r)}}function k7(t){if(!$V()&&!p7())throw new X(-203,!1)}function R7(t){return typeof t=="function"}var iT=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function ZV(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function bo(){return e3}function e3(t){return t.type.prototype.ngOnChanges&&(t.setInput=F7),N7}bo.ngInherit=!0;function N7(){let t=n3(this),e=t?.current;if(e){let n=t.previous;if(n===Kd)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function F7(t,e,n,i,r){let o=this.declaredInputs[i],a=n3(t)||L7(t,{previous:Kd,current:null}),l=a.current||(a.current={}),d=a.previous,h=d[o];l[o]=new iT(h&&h.currentValue,n,d===Kd),ZV(t,e,r,n)}var t3="__ngSimpleChanges__";function n3(t){return t[t3]||null}function L7(t,e){return t[t3]=e}var xL=null;var Xo=function(t,e,n){xL?.(t,e,n)};function V7(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let a=e3(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function V0(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:d,ngAfterViewChecked:h,ngOnDestroy:m}=o;a&&(t.contentHooks??=[]).push(-n,a),l&&((t.contentHooks??=[]).push(n,l),(t.contentCheckHooks??=[]).push(n,l)),d&&(t.viewHooks??=[]).push(-n,d),h&&((t.viewHooks??=[]).push(n,h),(t.viewCheckHooks??=[]).push(n,h)),m!=null&&(t.destroyHooks??=[]).push(n,m)}}function n0(t,e,n){i3(t,e,3,n)}function i0(t,e,n,i){(t[ke]&3)===n&&i3(t,e,n,i)}function OS(t,e){let n=t[ke];(n&3)===e&&(n&=16383,n+=1,t[ke]=n)}function i3(t,e,n,i){let r=i!==void 0?t[Hd]&65535:0,o=i??-1,a=e.length-1,l=0;for(let d=r;d<a;d++)if(typeof e[d+1]=="number"){if(l=e[d],i!=null&&l>=i)break}else e[d]<0&&(t[Hd]+=65536),(l<o||o==-1)&&(j7(t,n,e,d),t[Hd]=(t[Hd]&4294901760)+d+2),d++}function AL(t,e){Xo(4,t,e);let n=Ot(null);try{e.call(t)}finally{Ot(n),Xo(5,t,e)}}function j7(t,e,n,i){let r=n[i]<0,o=n[i+1],a=r?-n[i]:n[i],l=t[a];r?t[ke]>>14<t[Hd]>>16&&(t[ke]&3)===e&&(t[ke]+=16384,AL(l,o)):AL(l,o)}var Wd=-1,Cl=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function U7(t){return t instanceof Cl}function B7(t){return(t.flags&8)!==0}function $7(t){return(t.flags&16)!==0}function r3(t){return t!==Wd}function f0(t){return t&32767}function H7(t){return t>>16}function p0(t,e){let n=H7(t),i=e;for(;n>0;)i=i[rh],n--;return i}var rT=!0;function ML(t){let e=rT;return rT=t,e}var G7=256,o3=G7-1,s3=5,z7=0,Zo={};function q7(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Up)&&(i=n[Up]),i==null&&(i=n[Up]=z7++);let r=i&o3,o=1<<r;e.data[t+(r>>s3)]|=o}function m0(t,e){let n=a3(t,e);if(n!==-1)return n;let i=e[rt];i.firstCreatePass&&(t.injectorIndex=e.length,kS(i.data,t),kS(e,null),kS(i.blueprint,null));let r=l1(t,e),o=t.injectorIndex;if(r3(r)){let a=f0(r),l=p0(r,e),d=l[rt].data;for(let h=0;h<8;h++)e[o+h]=l[a+h]|d[a+h]}return e[o+8]=r,o}function kS(t,e){t.push(0,0,0,0,0,0,0,0,e)}function a3(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function l1(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=h3(r),i===null)return Wd;if(n++,r=r[rh],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Wd}function oT(t,e,n){q7(t,e,n)}function W7(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(cV(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===e)return n[r+1];r=r+2}}}return null}function c3(t,e,n){if(n&ot.Optional||t!==void 0)return t;s1(e,"NodeInjector")}function l3(t,e,n,i){if(n&ot.Optional&&i===void 0&&(i=null),!(n&(ot.Self|ot.Host))){let r=t[Yd],o=Fr(void 0);try{return r?r.get(e,i,n&ot.Optional):HV(e,i,n&ot.Optional)}finally{Fr(o)}}return c3(i,e,n)}function u3(t,e,n,i=ot.Default,r){if(t!==null){if(e[ke]&2048&&!(i&ot.Self)){let a=J7(t,e,n,i,Zo);if(a!==Zo)return a}let o=d3(t,e,n,i,Zo);if(o!==Zo)return o}return l3(e,n,i,r)}function d3(t,e,n,i,r){let o=Y7(n);if(typeof o=="function"){if(!DV(e,t,i))return i&ot.Host?c3(r,n,i):l3(e,n,i,r);try{let a;if(a=o(i),a==null&&!(i&ot.Optional))s1(n);else return a}finally{PV()}}else if(typeof o=="number"){let a=null,l=a3(t,e),d=Wd,h=i&ot.Host?e[ts][wo]:null;for((l===-1||i&ot.SkipSelf)&&(d=l===-1?l1(t,e):e[l+8],d===Wd||!OL(i,!1)?l=-1:(a=e[rt],l=f0(d),e=p0(d,e)));l!==-1;){let m=e[rt];if(PL(o,l,m.data)){let v=K7(l,e,n,a,i,h);if(v!==Zo)return v}d=e[l+8],d!==Wd&&OL(i,e[rt].data[l+8]===h)&&PL(o,l,e)?(a=m,l=f0(d),e=p0(d,e)):l=-1}}return r}function K7(t,e,n,i,r,o){let a=e[rt],l=a.data[t+8],d=i==null?A0(l)&&rT:i!=a&&(l.type&3)!==0,h=r&ot.Host&&o===l,m=r0(l,a,n,d,h);return m!==null?El(e,a,m,l):Zo}function r0(t,e,n,i,r){let o=t.providerIndexes,a=e.data,l=o&1048575,d=t.directiveStart,h=t.directiveEnd,m=o>>20,v=i?l:l+m,y=r?l+m:h;for(let b=v;b<y;b++){let w=a[b];if(b<d&&n===w||b>=d&&w.type===n)return b}if(r){let b=a[d];if(b&&Ks(b)&&b.type===n)return d}return null}function El(t,e,n,i){let r=t[n],o=e.data;if(U7(r)){let a=r;a.resolving&&l7(c7(o[n]));let l=ML(a.canSeeViewProviders);a.resolving=!0;let d,h=a.injectImpl?Fr(a.injectImpl):null,m=DV(t,i,ot.Default);try{r=t[n]=a.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&V7(n,o[n],e)}finally{h!==null&&Fr(h),ML(l),a.resolving=!1,PV()}}return r}function Y7(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Up)?t[Up]:void 0;return typeof e=="number"?e>=0?e&o3:Q7:e}function PL(t,e,n){let i=1<<t;return!!(n[e+(t>>s3)]&i)}function OL(t,e){return!(t&ot.Self)&&!(t&ot.Host&&e)}var yl=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return u3(this._tNode,this._lView,e,N0(i),n)}};function Q7(){return new yl(Pi(),Et())}function lr(t){return Jp(()=>{let e=t.prototype.constructor,n=e[a0]||sT(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[a0]||sT(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function sT(t){return UV(t)?()=>{let e=sT(Ki(t));return e&&e()}:Zd(t)}function J7(t,e,n,i,r){let o=t,a=e;for(;o!==null&&a!==null&&a[ke]&2048&&!(a[ke]&512);){let l=d3(o,a,n,i|ot.Self,Zo);if(l!==Zo)return l;let d=o.parent;if(!d){let h=a[vV];if(h){let m=h.get(n,Zo,i);if(m!==Zo)return m}d=h3(a),a=a[rh]}o=d}return r}function h3(t){let e=t[rt],n=e.type;return n===2?e.declTNode:n===1?t[wo]:null}function u1(t){return W7(Pi(),t)}function kL(t,e=null,n=null,i){let r=f3(t,e,n,i);return r.resolveInjectorInitializers(),r}function f3(t,e=null,n=null,i,r=new Set){let o=[n||cr,tm(t)];return i=i||(typeof t=="object"?void 0:Yi(t)),new Wp(o,e||L0(),i||null,r)}var Jt=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return kL({name:""},r,i,"");{let o=i.name??"";return kL({name:o},i.parent,i.providers,o)}}};e.THROW_IF_NOT_FOUND=qp,e.NULL=new h0,e.\u0275prov=Z({token:e,providedIn:"any",factory:()=>oe(WV)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),X7="ngOriginalError";function RS(t){return t[X7]}var rs=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&RS(e);for(;n&&RS(n);)n=RS(n);return n||null}},p3=new we("",{providedIn:"root",factory:()=>J(rs).handleError.bind(void 0)});var m3=!1,Z7=new we("",{providedIn:"root",factory:()=>m3}),Y_;function eK(){if(Y_===void 0&&(Y_=null,zs.trustedTypes))try{Y_=zs.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Y_}function j0(t){return eK()?.createHTML(t)||t}var Q_;function tK(){if(Q_===void 0&&(Q_=null,zs.trustedTypes))try{Q_=zs.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Q_}function RL(t){return tK()?.createScriptURL(t)||t}var Ys=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${oV})`}},aT=class extends Ys{getTypeName(){return"HTML"}},cT=class extends Ys{getTypeName(){return"Style"}},lT=class extends Ys{getTypeName(){return"Script"}},uT=class extends Ys{getTypeName(){return"URL"}},dT=class extends Ys{getTypeName(){return"ResourceURL"}};function jr(t){return t instanceof Ys?t.changingThisBreaksApplicationSecurity:t}function sc(t,e){let n=nK(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${oV})`)}return n===e}function nK(t){return t instanceof Ys&&t.getTypeName()||null}function g3(t){return new aT(t)}function v3(t){return new cT(t)}function y3(t){return new lT(t)}function _3(t){return new uT(t)}function w3(t){return new dT(t)}function iK(t){let e=new fT(t);return rK()?new hT(e):e}var hT=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(j0(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},fT=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=j0(e),n}};function rK(){try{return!!new window.DOMParser().parseFromString(j0(""),"text/html")}catch{return!1}}var oK=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function U0(t){return t=String(t),t.match(oK)?t:"unsafe:"+t}function ta(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function nm(...t){let e={};for(let n of t)for(let i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}var b3=ta("area,br,col,hr,img,wbr"),C3=ta("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),E3=ta("rp,rt"),sK=nm(E3,C3),aK=nm(C3,ta("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cK=nm(E3,ta("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),NL=nm(b3,aK,cK,sK),I3=ta("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lK=ta("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),uK=ta("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),dK=nm(I3,lK,uK),hK=ta("script,style,template"),pT=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,i=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let r=this.checkClobberedElement(n,n.nextSibling);if(r){n=r;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!NL.hasOwnProperty(n))return this.sanitizedSomething=!0,!hK.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),a=o.name,l=a.toLowerCase();if(!dK.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let d=o.value;I3[l]&&(d=U0(d)),this.buf.push(" ",a,'="',FL(d),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();NL.hasOwnProperty(n)&&!b3.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(FL(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},fK=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pK=/([^\#-~ |!])/g;function FL(t){return t.replace(/&/g,"&amp;").replace(fK,function(e){let n=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(pK,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var J_;function S3(t,e){let n=null;try{J_=J_||iK(t);let i=e?String(e):"";n=J_.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=J_.getInertBodyElement(i)}while(i!==o);let l=new pT().sanitizeChildren(LL(n)||n);return j0(l)}finally{if(n){let i=LL(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function LL(t){return"content"in t&&mK(t)?t.content:null}function mK(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var ss=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ss||{});function Oi(t){let e=D3();return e?e.sanitize(ss.URL,t)||"":sc(t,"URL")?jr(t):U0(Xd(t))}function d1(t){let e=D3();if(e)return RL(e.sanitize(ss.RESOURCE_URL,t)||"");if(sc(t,"ResourceURL"))return RL(jr(t));throw new X(904,!1)}function gK(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?d1:Oi}function T3(t,e,n){return gK(e,n)(t)}function D3(){let t=Et();return t&&t[qs].sanitizer}var vK=/^>|^->|<!--|-->|--!>|<!-$/g,yK=/(<|>)/g,_K="\u200B$1\u200B";function wK(t){return t.replace(vK,e=>e.replace(yK,_K))}var x3=new Map,bK=0;function CK(){return bK++}function EK(t){x3.set(t[x0],t)}function IK(t){x3.delete(t[x0])}var VL="__ngContext__";function ec(t,e){vl(e)?(t[VL]=e[x0],EK(e)):t[VL]=e}function rn(t){return t.ownerDocument.defaultView}function A3(t){return t instanceof Function?t():t}var Qs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Qs||{}),SK;function h1(t,e){return SK(t,e)}function zd(t,e,n,i,r){if(i!=null){let o,a=!1;Zs(i)?o=i:vl(i)&&(a=!0,i=i[os]);let l=is(i);t===0&&n!==null?r==null?R3(e,n,l):g0(e,n,l,r||null,!0):t===1&&n!==null?g0(e,n,l,r||null,!0):t===2?HK(e,l,a):t===3&&e.destroyNode(l),o!=null&&zK(e,t,o,n,r)}}function TK(t,e){return t.createText(e)}function DK(t,e,n){t.setValue(e,n)}function xK(t,e){return t.createComment(wK(e))}function M3(t,e,n){return t.createElement(e,n)}function AK(t,e){P3(t,e),e[os]=null,e[wo]=null}function MK(t,e,n,i,r,o){i[os]=r,i[wo]=e,$0(t,i,n,1,r,o)}function P3(t,e){$0(t,e,e[wn],2,null,null)}function PK(t){let e=t[Hp];if(!e)return NS(t[rt],t);for(;e;){let n=null;if(vl(e))n=e[Hp];else{let i=e[Er];i&&(n=i)}if(!n){for(;e&&!e[vo]&&e!==t;)vl(e)&&NS(e[rt],e),e=e[_i];e===null&&(e=t),vl(e)&&NS(e[rt],e),n=e&&e[vo]}e=n}}function OK(t,e,n,i){let r=Er+i,o=n.length;i>0&&(n[r-1][vo]=e),i<o-Er?(e[vo]=n[r],kV(n,Er+i,e)):(n.push(e),e[vo]=null),e[_i]=n;let a=e[Xp];a!==null&&n!==a&&kK(a,e);let l=e[Ws];l!==null&&l.insertView(t),WS(e),e[ke]|=128}function kK(t,e){let n=t[Qd],r=e[_i][_i][ts];e[ts]!==r&&(t[ke]|=qT.HasTransplantedViews),n===null?t[Qd]=[e]:n.push(e)}function O3(t,e){let n=t[Qd],i=n.indexOf(e);n.splice(i,1)}function mT(t,e){if(t.length<=Er)return;let n=Er+e,i=t[n];if(i){let r=i[Xp];r!==null&&r!==t&&O3(r,i),e>0&&(t[n-1][vo]=i[vo]);let o=u0(t,Er+e);AK(i[rt],i);let a=o[Ws];a!==null&&a.detachView(o[rt]),i[_i]=null,i[vo]=null,i[ke]&=-129}return i}function k3(t,e){if(!(e[ke]&256)){let n=e[wn];n.destroyNode&&$0(t,e,n,3,null,null),PK(e)}}function NS(t,e){if(e[ke]&256)return;let n=Ot(null);try{e[ke]&=-129,e[ke]|=256,e[_l]&&sS(e[_l]),NK(t,e),RK(t,e),e[rt].type===1&&e[wn].destroy();let i=e[Xp];if(i!==null&&Zs(e[_i])){i!==e[_i]&&O3(i,e);let r=e[Ws];r!==null&&r.detachView(t)}IK(e)}finally{Ot(n)}}function RK(t,e){let n=t.cleanup,i=e[$p];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let a=n[o+3];a>=0?i[a]():i[-a].unsubscribe(),o+=2}else{let a=i[n[o+1]];n[o].call(a)}i!==null&&(e[$p]=null);let r=e[Xa];if(r!==null){e[Xa]=null;for(let o=0;o<r.length;o++){let a=r[o];a()}}}function NK(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof Cl)){let o=n[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let l=r[o[a]],d=o[a+1];Xo(4,l,d);try{d.call(l)}finally{Xo(5,l,d)}}else{Xo(4,r,o);try{o.call(r)}finally{Xo(5,r,o)}}}}}function FK(t,e,n){return LK(t,e.parent,n)}function LK(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[os];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===es.None||o===es.Emulated)return null}return Lr(i,n)}}function g0(t,e,n,i,r){t.insertBefore(e,n,i,r)}function R3(t,e,n){t.appendChild(e,n)}function jL(t,e,n,i,r){i!==null?g0(t,e,n,i,r):R3(t,e,n)}function VK(t,e,n,i){t.removeChild(e,n,i)}function f1(t,e){return t.parentNode(e)}function jK(t,e){return t.nextSibling(e)}function UK(t,e,n){return $K(t,e,n)}function BK(t,e,n){return t.type&40?Lr(t,n):null}var $K=BK,UL;function B0(t,e,n,i){let r=FK(t,i,e),o=e[wn],a=i.parent||e[wo],l=UK(a,i,e);if(r!=null)if(Array.isArray(n))for(let d=0;d<n.length;d++)jL(o,r,n[d],l,!1);else jL(o,r,n,l,!1);UL!==void 0&&UL(o,i,e,n,r)}function o0(t,e){if(e!==null){let n=e.type;if(n&3)return Lr(e,t);if(n&4)return gT(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return o0(t,i);{let r=t[e.index];return Zs(r)?gT(-1,r):is(r)}}else{if(n&32)return h1(e,t)()||is(t[e.index]);{let i=N3(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=zp(t[ts]);return o0(r,i)}else return o0(t,e.next)}}}return null}function N3(t,e){if(e!==null){let i=t[ts][wo],r=e.projection;return i.projection[r]}return null}function gT(t,e){let n=Er+t+1;if(n<e.length){let i=e[n],r=i[rt].firstChild;if(r!==null)return o0(i,r)}return e[wl]}function HK(t,e,n){let i=f1(t,e);i&&VK(t,i,e,n)}function p1(t,e,n,i,r,o,a){for(;n!=null;){let l=i[n.index],d=n.type;if(a&&e===0&&(l&&ec(is(l),i),n.flags|=2),(n.flags&32)!==32)if(d&8)p1(t,e,n.child,i,r,o,!1),zd(e,t,r,l,o);else if(d&32){let h=h1(n,i),m;for(;m=h();)zd(e,t,r,m,o);zd(e,t,r,l,o)}else d&16?GK(t,e,i,n,r,o):zd(e,t,r,l,o);n=a?n.projectionNext:n.next}}function $0(t,e,n,i,r,o){p1(n,i,t.firstChild,e,r,o,!1)}function GK(t,e,n,i,r,o){let a=n[ts],d=a[wo].projection[i.projection];if(Array.isArray(d))for(let h=0;h<d.length;h++){let m=d[h];zd(e,t,r,m,o)}else{let h=d,m=a[_i];NV(i)&&(h.flags|=128),p1(t,e,h,m,r,o,!0)}}function zK(t,e,n,i,r){let o=n[wl],a=is(n);o!==a&&zd(e,t,i,o,r);for(let l=Er;l<n.length;l++){let d=n[l];$0(d[rt],d,t,e,i,o)}}function qK(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:Qs.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Qs.Important),t.setStyle(n,i,r,o))}}function WK(t,e,n){t.setAttribute(e,"style",n)}function F3(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function L3(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&qS(t,e,i),r!==null&&F3(t,e,r),o!==null&&WK(t,e,o)}var Co={};function D(t=1){V3($n(),Et(),ic()+t,!1)}function V3(t,e,n,i){if(!i)if((e[ke]&3)===3){let o=t.preOrderCheckHooks;o!==null&&n0(e,o,n)}else{let o=t.preOrderHooks;o!==null&&i0(e,o,0,n)}bl(n)}function R(t,e=ot.Default){let n=Et();if(n===null)return oe(t,e);let i=Pi();return u3(i,n,Ki(t),e)}function j3(t,e,n,i,r,o){let a=Ot(null);try{let l=null;r&xe.SignalBased&&(l=e[i][Ga]),l!==null&&l.transformFn!==void 0&&(o=l.transformFn(o)),r&xe.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(e,o)),t.setInput!==null?t.setInput(e,l,o,n,i):ZV(e,l,i,o)}finally{Ot(a)}}function KK(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)bl(~r);else{let o=r,a=n[++i],l=n[++i];zW(a,o);let d=e[o];l(2,d)}}}finally{bl(-1)}}function H0(t,e,n,i,r,o,a,l,d,h,m){let v=e.blueprint.slice();return v[os]=r,v[ke]=i|4|128|8|64,(h!==null||t&&t[ke]&2048)&&(v[ke]|=2048),wV(v),v[_i]=v[rh]=t,v[yo]=n,v[qs]=a||t&&t[qs],v[wn]=l||t&&t[wn],v[Yd]=d||t&&t[Yd]||null,v[wo]=o,v[x0]=CK(),v[c0]=m,v[vV]=h,v[ts]=e.type==2?t[ts]:v,v}function im(t,e,n,i,r){let o=t.data[e];if(o===null)o=YK(t,e,n,i,r),GW()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let a=jW();o.injectorIndex=a===null?-1:a.injectorIndex}return Dl(o,!0),o}function YK(t,e,n,i,r){let o=EV(),a=QT(),l=a?o:o&&o.parent,d=t.data[e]=tY(t,l,n,e,i,r);return t.firstChild===null&&(t.firstChild=d),o!==null&&(a?o.child==null&&d.parent!==null&&(o.child=d):o.next===null&&(o.next=d,d.prev=o)),d}function U3(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function B3(t,e,n,i,r){let o=ic(),a=i&2;try{bl(-1),a&&e.length>ns&&V3(t,e,ns,!1),Xo(a?2:0,r),n(i,r)}finally{bl(o),Xo(a?3:1,r)}}function m1(t,e,n){if(WT(e)){let i=Ot(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let a=r;a<o;a++){let l=t.data[a];if(l.contentQueries){let d=n[a];l.contentQueries(1,d,a)}}}finally{Ot(i)}}}function g1(t,e,n){CV()&&(aY(t,e,n,Lr(n,e)),(n.flags&64)===64&&G3(t,e,n))}function v1(t,e,n=Lr){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let a=i[o+1],l=a===-1?n(e,t):t[a];t[r++]=l}}}function $3(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=y1(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function y1(t,e,n,i,r,o,a,l,d,h,m){let v=ns+i,y=v+r,b=QK(v,y),w=typeof h=="function"?h():h;return b[rt]={type:t,blueprint:b,template:n,queries:null,viewQuery:l,declTNode:e,data:b.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:d,consts:w,incompleteFirstPass:!1,ssrId:m}}function QK(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:Co);return n}function JK(t,e,n,i){let o=i.get(Z7,m3)||n===es.ShadowDom,a=t.selectRootElement(e,o);return XK(a),a}function XK(t){ZK(t)}var ZK=()=>null;function eY(t,e,n,i){let r=W3(e);r.push(n),t.firstCreatePass&&K3(t).push(i,r.length-1)}function tY(t,e,n,i,r,o){let a=e?e.injectorIndex:-1,l=0;return FW()&&(l|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function BL(t,e,n,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let a=e[o];if(a===void 0)continue;i??={};let l,d=xe.None;Array.isArray(a)?(l=a[0],d=a[1]):l=a;let h=o;if(r!==null){if(!r.hasOwnProperty(o))continue;h=r[o]}t===0?$L(i,n,h,l,d):$L(i,n,h,l)}return i}function $L(t,e,n,i,r){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,i):o=t[n]=[e,i],r!==void 0&&o.push(r)}function nY(t,e,n){let i=e.directiveStart,r=e.directiveEnd,o=t.data,a=e.attrs,l=[],d=null,h=null;for(let m=i;m<r;m++){let v=o[m],y=n?n.get(v):null,b=y?y.inputs:null,w=y?y.outputs:null;d=BL(0,v.inputs,m,d,b),h=BL(1,v.outputs,m,h,w);let S=d!==null&&a!==null&&!uV(e)?yY(d,m,a):null;l.push(S)}d!==null&&(d.hasOwnProperty("class")&&(e.flags|=8),d.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=l,e.inputs=d,e.outputs=h}function iY(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function _1(t,e,n,i,r,o,a,l){let d=Lr(e,n),h=e.inputs,m;!l&&h!=null&&(m=h[i])?(b1(t,n,m,i,r),A0(e)&&rY(n,e.index)):e.type&3?(i=iY(i),r=a!=null?a(r,e.value||"",i):r,o.setProperty(d,i,r)):e.type&12}function rY(t,e){let n=nc(e,t);n[ke]&16||(n[ke]|=64)}function w1(t,e,n,i){if(CV()){let r=i===null?null:{"":-1},o=lY(t,n),a,l;o===null?a=l=null:[a,l]=o,a!==null&&H3(t,e,n,a,r,l),r&&uY(n,i,r)}n.mergedAttrs=Bp(n.mergedAttrs,n.attrs)}function H3(t,e,n,i,r,o){for(let h=0;h<i.length;h++)oT(m0(n,e),t,i[h].type);hY(n,t.data.length,i.length);for(let h=0;h<i.length;h++){let m=i[h];m.providersResolver&&m.providersResolver(m)}let a=!1,l=!1,d=U3(t,e,i.length,null);for(let h=0;h<i.length;h++){let m=i[h];n.mergedAttrs=Bp(n.mergedAttrs,m.hostAttrs),fY(t,n,e,d,m),dY(d,m,r),m.contentQueries!==null&&(n.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(n.flags|=64);let v=m.type.prototype;!a&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),a=!0),!l&&(v.ngOnChanges||v.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),l=!0),d++}nY(t,n,o)}function oY(t,e,n,i,r){let o=r.hostBindings;if(o){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let l=~e.index;sY(a)!=l&&a.push(l),a.push(n,i,o)}}function sY(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function aY(t,e,n,i){let r=n.directiveStart,o=n.directiveEnd;A0(n)&&pY(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||m0(n,e),ec(i,e);let a=n.initialInputs;for(let l=r;l<o;l++){let d=t.data[l],h=El(e,t,l,n);if(ec(h,e),a!==null&&vY(e,l-r,h,d,n,a),Ks(d)){let m=nc(n.index,e);m[yo]=El(e,t,l,n)}}}function G3(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,a=qW();try{bl(o);for(let l=i;l<r;l++){let d=t.data[l],h=e[l];KS(l),(d.hostBindings!==null||d.hostVars!==0||d.hostAttrs!==null)&&cY(d,h)}}finally{bl(-1),KS(a)}}function cY(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function lY(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let a=n[o];if(hW(e,a.selectors,!1))if(i||(i=[]),Ks(a))if(a.findHostDirectiveDefs!==null){let l=[];r=r||new Map,a.findHostDirectiveDefs(a,l,r),i.unshift(...l,a);let d=l.length;vT(t,e,d)}else i.unshift(a),vT(t,e,0);else r=r||new Map,a.findHostDirectiveDefs?.(a,i,r),i.push(a)}return i===null?null:[i,r]}function vT(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function uY(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new X(-301,!1);i.push(e[r],o)}}}function dY(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Ks(e)&&(n[""]=t)}}function hY(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function fY(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=Zd(r.type,!0)),a=new Cl(o,Ks(r),R);t.blueprint[i]=a,n[i]=a,oY(t,e,i,U3(t,n,r.hostVars,Co),r)}function pY(t,e,n){let i=Lr(e,t),r=$3(n),o=t[qs].rendererFactory,a=16;n.signals?a=4096:n.onPush&&(a=64);let l=G0(t,H0(t,r,null,a,i,e,null,o.createRenderer(i,n),null,null,null));t[e.index]=l}function mY(t,e,n,i,r,o){let a=Lr(t,e);gY(e[wn],a,o,t.value,n,i,r)}function gY(t,e,n,i,r,o,a){if(o==null)t.removeAttribute(e,r,n);else{let l=a==null?Xd(o):a(o,i||"",r);t.setAttribute(e,r,l,n)}}function vY(t,e,n,i,r,o){let a=o[e];if(a!==null)for(let l=0;l<a.length;){let d=a[l++],h=a[l++],m=a[l++],v=a[l++];j3(i,n,d,h,m,v)}}function yY(t,e,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let a=t[o];for(let l=0;l<a.length;l+=3)if(a[l]===e){i.push(o,a[l+1],a[l+2],n[r+1]);break}}r+=2}return i}function z3(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function q3(t,e){let n=t.contentQueries;if(n!==null){let i=Ot(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],a=n[r+1];if(a!==-1){let l=t.data[a];XT(o),l.contentQueries(2,e[a],a)}}}finally{Ot(i)}}}function G0(t,e){return t[Hp]?t[EL][vo]=e:t[Hp]=e,t[EL]=e,e}function yT(t,e,n){XT(0);let i=Ot(null);try{e(t,n)}finally{Ot(i)}}function W3(t){return t[$p]||(t[$p]=[])}function K3(t){return t.cleanup||(t.cleanup=[])}function _Y(t,e,n){return(t===null||Ks(t))&&(n=TW(n[e.index])),n[wn]}function Y3(t,e){let n=t[Yd],i=n?n.get(rs,null):null;i&&i.handleError(e)}function b1(t,e,n,i,r){for(let o=0;o<n.length;){let a=n[o++],l=n[o++],d=n[o++],h=e[a],m=t.data[a];j3(m,h,i,l,d,r)}}function Q3(t,e,n){let i=yV(e,t);DK(t[wn],i,n)}function wY(t,e){let n=nc(e,t),i=n[rt];bY(i,n);let r=n[os];r!==null&&n[c0]===null&&(n[c0]=a1(r,n[Yd])),C1(i,n,n[yo])}function bY(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function C1(t,e,n){ZT(e);try{let i=t.viewQuery;i!==null&&yT(1,i,n);let r=t.template;r!==null&&B3(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ws]?.finishViewCreation(t),t.staticContentQueries&&q3(t,e),t.staticViewQueries&&yT(2,t.viewQuery,n);let o=t.components;o!==null&&CY(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[ke]&=-5,e1()}}function CY(t,e){for(let n=0;n<e.length;n++)wY(t,e[n])}function EY(t,e,n,i){let r=Ot(null);try{let o=e.tView,l=t[ke]&4096?4096:16,d=H0(t,o,n,l,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null),h=t[e.index];d[Xp]=h;let m=t[Ws];return m!==null&&(d[Ws]=m.createEmbeddedView(o)),C1(o,d,n),d}finally{Ot(r)}}function HL(t,e){return!e||e.firstChild===null||NV(t)}function IY(t,e,n,i=!0){let r=e[rt];if(OK(r,e,t,n),i){let a=gT(n,t),l=e[wn],d=f1(l,t[wl]);d!==null&&MK(r,t[wo],l,e,d,a)}let o=e[c0];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function v0(t,e,n,i,r=!1){for(;n!==null;){let o=e[n.index];o!==null&&i.push(is(o)),Zs(o)&&SY(o,i);let a=n.type;if(a&8)v0(t,e,n.child,i);else if(a&32){let l=h1(n,e),d;for(;d=l();)i.push(d)}else if(a&16){let l=N3(e,n);if(Array.isArray(l))i.push(...l);else{let d=zp(e[ts]);v0(d[rt],d,l,i,!0)}}n=r?n.projectionNext:n.next}return i}function SY(t,e){for(let n=Er;n<t.length;n++){let i=t[n],r=i[rt].firstChild;r!==null&&v0(i[rt],i,r,e)}t[wl]!==t[os]&&e.push(t[wl])}var J3=[];function TY(t){return t[_l]??DY(t)}function DY(t){let e=J3.pop()??Object.create(AY);return e.lView=t,e}function xY(t){t.lView[_l]!==t&&(t.lView=null,J3.push(t))}var AY=Dt(te({},__),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Gp(t.lView)},consumerOnSignalRead(){this.lView[_l]=this}});function X3(t){return ej(t[Hp])}function Z3(t){return ej(t[vo])}function ej(t){for(;t!==null&&!Zs(t);)t=t[vo];return t}var tj=100;function nj(t,e=!0,n=0){let i=t[qs],r=i.rendererFactory,o=!1;o||r.begin?.();try{MY(t,n)}catch(a){throw e&&Y3(t,a),a}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function MY(t,e){_T(t,e);let n=0;for(;YT(t);){if(n===tj)throw new X(103,!1);n++,_T(t,1)}}function PY(t,e,n,i){let r=e[ke];if((r&256)===256)return;let o=!1;!o&&e[qs].inlineEffectRunner?.flush(),ZT(e);let a=null,l=null;!o&&OY(t)&&(l=TY(e),a=rS(l));try{wV(e),HW(t.bindingStartIndex),n!==null&&B3(t,e,n,2,i);let d=(r&3)===3;if(!o)if(d){let v=t.preOrderCheckHooks;v!==null&&n0(e,v,null)}else{let v=t.preOrderHooks;v!==null&&i0(e,v,0,null),OS(e,0)}if(kY(e),ij(e,0),t.contentQueries!==null&&q3(t,e),!o)if(d){let v=t.contentCheckHooks;v!==null&&n0(e,v)}else{let v=t.contentHooks;v!==null&&i0(e,v,1),OS(e,1)}KK(t,e);let h=t.components;h!==null&&oj(e,h,0);let m=t.viewQuery;if(m!==null&&yT(2,m,i),!o)if(d){let v=t.viewCheckHooks;v!==null&&n0(e,v)}else{let v=t.viewHooks;v!==null&&i0(e,v,2),OS(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[e0]){for(let v of e[e0])v();e[e0]=null}o||(e[ke]&=-73)}catch(d){throw Gp(e),d}finally{l!==null&&(oS(l,a),xY(l)),e1()}}function OY(t){return t.type!==2}function ij(t,e){for(let n=X3(t);n!==null;n=Z3(n))for(let i=Er;i<n.length;i++){let r=n[i];rj(r,e)}}function kY(t){for(let e=X3(t);e!==null;e=Z3(e)){if(!(e[ke]&qT.HasTransplantedViews))continue;let n=e[Qd];for(let i=0;i<n.length;i++){let r=n[i],o=r[_i];MW(r)}}}function RY(t,e,n){let i=nc(e,t);rj(i,n)}function rj(t,e){KT(t)&&_T(t,e)}function _T(t,e){let i=t[rt],r=t[ke],o=t[_l],a=!!(e===0&&r&16);if(a||=!!(r&64&&e===0),a||=!!(r&1024),a||=!!(o?.dirty&&w_(o)),o&&(o.dirty=!1),t[ke]&=-9217,a)PY(i,t,i.template,t[yo]);else if(r&8192){ij(t,1);let l=i.components;l!==null&&oj(t,l,1)}}function oj(t,e,n){for(let i=0;i<e.length;i++)RY(t,e[i],n)}function E1(t){for(t[qs].changeDetectionScheduler?.notify();t;){t[ke]|=64;let e=zp(t);if(bW(t)&&!e)return t;t=e}return null}var Il=class{get rootNodes(){let e=this._lView,n=e[rt];return v0(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[yo]}set context(e){this._lView[yo]=e}get destroyed(){return(this._lView[ke]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[_i];if(Zs(e)){let n=e[l0],i=n?n.indexOf(this):-1;i>-1&&(mT(e,i),u0(n,i))}this._attachedToViewContainer=!1}k3(this._lView[rt],this._lView)}onDestroy(e){bV(this._lView,e)}markForCheck(){E1(this._cdRefInjectingView||this._lView)}detach(){this._lView[ke]&=-129}reattach(){WS(this._lView),this._lView[ke]|=128}detectChanges(){this._lView[ke]|=1024,nj(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new X(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,P3(this._lView[rt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new X(902,!1);this._appRef=e,WS(this._lView)}},_o=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=LY;let t=e;return t})(),NY=_o,FY=class extends NY{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=EY(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:i});return new Il(r)}};function LY(){return z0(Pi(),Et())}function z0(t,e){return t.type&4?new FY(e,t,oh(t,e)):null}var R0e=new RegExp(`^(\\d+)*(${w7}|${_7})*(.*)`);var VY=()=>null;function GL(t,e){return VY(t,e)}var Kp=class{},wT=class{},y0=class{};function jY(t){let e=Error(`No component factory found for ${Yi(t)}.`);return e[UY]=t,e}var UY="ngComponent";var bT=class{resolveComponentFactory(e){throw jY(e)}},q0=(()=>{let e=class e{};e.NULL=new bT;let t=e;return t})(),Sl=class{},Eo=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>BY();let t=e;return t})();function BY(){let t=Et(),e=Pi(),n=nc(e.index,t);return(vl(n)?n:t)[wn]}var $Y=(()=>{let e=class e{};e.\u0275prov=Z({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),FS={},sj=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=HY,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),CT=class extends sj{constructor(e){super(),this._lView=e}onDestroy(e){return bV(this._lView,e),()=>OW(this._lView,e)}};function HY(){return new CT(Et())}var zL=new Set;function xl(t){zL.has(t)||(zL.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function qL(...t){}function GY(){let t=typeof zs.requestAnimationFrame=="function",e=zs[t?"requestAnimationFrame":"setTimeout"],n=zs[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ct=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gt(!1),this.onMicrotaskEmpty=new Gt(!1),this.onStable=new Gt(!1),this.onError=new Gt(!1),typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=GY().nativeRequestAnimationFrame,WY(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new X(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,e,zY,qL,qL);try{return o.runTask(a,n,i)}finally{o.cancelTask(a)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},zY={};function I1(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qY(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(zs,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ET(t),t.isCheckStableRunning=!0,I1(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ET(t))}function WY(t){let e=()=>{qY(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,a,l)=>{if(KY(l))return n.invokeTask(r,o,a,l);try{return WL(t),n.invokeTask(r,o,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),KL(t)}},onInvoke:(n,i,r,o,a,l,d)=>{try{return WL(t),n.invoke(r,o,a,l,d)}finally{t.shouldCoalesceRunChangeDetection&&e(),KL(t)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,ET(t),I1(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function ET(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function WL(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function KL(t){t._nesting--,I1(t)}function KY(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var aj=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=Z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function _0(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number")o=l;else if(o==1)r=zS(r,l);else if(o==2){let d=l,h=e[++a];i=zS(i,d+": "+h+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var w0=class extends q0{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Za(e);return new nh(n,this.ngModule)}};function YL(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function YY(t){let e=t.toLowerCase();return e==="svg"?CW:e==="math"?EW:null}var IT=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=N0(i);let r=this.injector.get(e,FS,i);return r!==FS||n===FS?r:this.parentInjector.get(e,n,i)}},nh=class extends y0{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=YL(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return YL(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=gW(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let o=Ot(null);try{r=r||this.ngModule;let a=r instanceof ui?r:r?.injector;a&&this.componentDef.getStandaloneInjector!==null&&(a=this.componentDef.getStandaloneInjector(a)||a);let l=a?new IT(e,a):e,d=l.get(Sl,null);if(d===null)throw new X(407,!1);let h=l.get($Y,null),m=l.get(aj,null),v=l.get(Kp,null),y={rendererFactory:d,sanitizer:h,inlineEffectRunner:null,afterRenderEventManager:m,changeDetectionScheduler:v},b=d.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",S=i?JK(b,i,this.componentDef.encapsulation,l):M3(b,w,YY(w)),T=512;this.componentDef.signals?T|=4096:this.componentDef.onPush||(T|=16);let O=null;S!==null&&(O=a1(S,l,!0));let V=y1(0,null,null,1,0,null,null,null,null,null,null),$=H0(null,V,null,T,null,null,y,b,l,null,O);ZT($);let x,ee;try{let U=this.componentDef,re,Ee=null;U.findHostDirectiveDefs?(re=[],Ee=new Map,U.findHostDirectiveDefs(U,re,Ee),re.push(U)):re=[U];let He=QY($,S),Xe=JY(He,S,U,re,$,y,b);ee=_V(V,ns),S&&eQ(b,U,S,i),n!==void 0&&tQ(ee,this.ngContentSelectors,n),x=ZY(Xe,U,re,Ee,$,[nQ]),C1(V,$,null)}finally{e1()}return new ST(this.componentType,x,oh(ee,$),$,ee)}finally{Ot(o)}}},ST=class extends wT{constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Il(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;b1(o[rt],o,r,e,n),this.previousInputValues.set(e,n);let a=nc(this._tNode.index,o);E1(a)}}get injector(){return new yl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function QY(t,e){let n=t[rt],i=ns;return t[i]=e,im(n,i,2,"#host",null)}function JY(t,e,n,i,r,o,a){let l=r[rt];XY(i,t,e,a);let d=null;e!==null&&(d=a1(e,r[Yd]));let h=o.rendererFactory.createRenderer(e,n),m=16;n.signals?m=4096:n.onPush&&(m=64);let v=H0(r,$3(n),null,m,r[t.index],t,o,h,null,null,d);return l.firstCreatePass&&vT(l,t,i.length-1),G0(r,v),r[t.index]=v}function XY(t,e,n,i){for(let r of t)e.mergedAttrs=Bp(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(_0(e,e.mergedAttrs,!0),n!==null&&L3(i,n,e))}function ZY(t,e,n,i,r,o){let a=Pi(),l=r[rt],d=Lr(a,r);H3(l,r,a,n,null,i);for(let m=0;m<n.length;m++){let v=a.directiveStart+m,y=El(r,l,v,a);ec(y,r)}G3(l,r,a),d&&ec(d,r);let h=El(r,l,a.directiveStart+a.componentOffset,a);if(t[yo]=r[yo]=h,o!==null)for(let m of o)m(h,e);return m1(l,a,r),h}function eQ(t,e,n,i){if(i)qS(t,n,["ng-version","17.2.4"]);else{let{attrs:r,classes:o}=vW(e.selectors[0]);r&&qS(t,n,r),o&&o.length>0&&F3(t,n,o.join(" "))}}function tQ(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function nQ(){let t=Pi();V0(Et()[rt],t)}var wi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=iQ;let t=e;return t})();function iQ(){let t=Pi();return lj(t,Et())}var rQ=wi,cj=class extends rQ{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return oh(this._hostTNode,this._hostLView)}get injector(){return new yl(this._hostTNode,this._hostLView)}get parentInjector(){let e=l1(this._hostTNode,this._hostLView);if(r3(e)){let n=p0(e,this._hostLView),i=f0(e),r=n[rt].data[i+8];return new yl(r,n)}else return new yl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=QL(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Er}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let a=GL(this._lContainer,e.ssrId),l=e.createEmbeddedViewImpl(n||{},o,a);return this.insertImpl(l,r,HL(this._hostTNode,a)),l}createComponent(e,n,i,r,o){let a=e&&!R7(e),l;if(a)l=n;else{let w=n||{};l=w.index,i=w.injector,r=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let d=a?e:new nh(Za(e)),h=i||this.parentInjector;if(!o&&d.ngModule==null){let S=(a?h:this.parentInjector).get(ui,null);S&&(o=S)}let m=Za(d.componentType??{}),v=GL(this._lContainer,m?.id??null),y=v?.firstChild??null,b=d.create(h,r,y,o);return this.insertImpl(b.hostView,l,HL(this._hostTNode,v)),b}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(AW(r)){let l=this.indexOf(e);if(l!==-1)this.detach(l);else{let d=r[_i],h=new cj(d,d[wo],d[_i]);h.detach(h.indexOf(e))}}let o=this._adjustIndex(n),a=this._lContainer;return IY(a,r,o,i),e.attachToViewContainerRef(),kV(LS(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=QL(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=mT(this._lContainer,n);i&&(u0(LS(this._lContainer),n),k3(i[rt],i))}detach(e){let n=this._adjustIndex(e,-1),i=mT(this._lContainer,n);return i&&u0(LS(this._lContainer),n)!=null?new Il(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function QL(t){return t[l0]}function LS(t){return t[l0]||(t[l0]=[])}function lj(t,e){let n,i=e[t.index];return Zs(i)?n=i:(n=z3(i,e,null,t),e[t.index]=n,G0(e,n)),sQ(n,e,t,i),new cj(n,t,e)}function oQ(t,e){let n=t[wn],i=n.createComment(""),r=Lr(e,t),o=f1(n,r);return g0(n,o,i,jK(n,r),!1),i}var sQ=lQ,aQ=()=>!1;function cQ(t,e,n){return aQ(t,e,n)}function lQ(t,e,n,i){if(t[wl])return;let r;n.type&8?r=is(i):r=oQ(e,n),t[wl]=r}var TT=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},DT=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let a=n.getByIndex(o),l=this.queries[a.indexInDeclarationView];r.push(l.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)S1(e,n).matches!==null&&this.queries[n].setDirty()}},b0=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=vQ(e):this.predicate=e}},xT=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},AT=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,n,uQ(n,o)),this.matchTNodeWithReadOption(e,n,r0(n,e,o,!1,!1))}else i===_o?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,r0(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===nn||r===wi||r===_o&&n.type&4)this.addMatch(n.index,-2);else{let o=r0(n,e,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function uQ(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function dQ(t,e){return t.type&11?oh(t,e):t.type&4?z0(t,e):null}function hQ(t,e,n,i){return n===-1?dQ(e,t):n===-2?fQ(t,e,i):El(t,t[rt],n,e)}function fQ(t,e,n){if(n===nn)return oh(e,t);if(n===_o)return z0(e,t);if(n===wi)return lj(e,t)}function uj(t,e,n,i){let r=e[Ws].queries[i];if(r.matches===null){let o=t.data,a=n.matches,l=[];for(let d=0;a!==null&&d<a.length;d+=2){let h=a[d];if(h<0)l.push(null);else{let m=o[h];l.push(hQ(e,m,a[d+1],n.metadata.read))}}r.matches=l}return r.matches}function MT(t,e,n,i){let r=t.queries.getByIndex(n),o=r.matches;if(o!==null){let a=uj(t,e,r,n);for(let l=0;l<o.length;l+=2){let d=o[l];if(d>0)i.push(a[l/2]);else{let h=o[l+1],m=e[-d];for(let v=Er;v<m.length;v++){let y=m[v];y[Xp]===y[_i]&&MT(y[rt],y,h,i)}if(m[Qd]!==null){let v=m[Qd];for(let y=0;y<v.length;y++){let b=v[y];MT(b[rt],b,h,i)}}}}}return i}function pQ(t,e){return t[Ws].queries[e].queryList}function dj(t,e,n){let i=new YS((n&4)===4);return eY(t,e,i,i.destroy),(e[Ws]??=new DT).queries.push(new TT(i))-1}function mQ(t,e,n){let i=$n();return i.firstCreatePass&&(hj(i,new b0(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),dj(i,Et(),e)}function gQ(t,e,n,i){let r=$n();if(r.firstCreatePass){let o=Pi();hj(r,new b0(e,n,i),o.index),yQ(r,t),(n&2)===2&&(r.staticContentQueries=!0)}return dj(r,Et(),n)}function vQ(t){return t.split(",").map(e=>e.trim())}function hj(t,e,n){t.queries===null&&(t.queries=new xT),t.queries.track(new AT(e,n))}function yQ(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function S1(t,e){return t.queries.getByIndex(e)}function _Q(t,e){let n=t[rt],i=S1(n,e);return i.crossesNgTemplate?MT(n,t,e,[]):uj(n,t,i,e)}function wQ(t){return typeof t=="function"&&t[Ga]!==void 0}function ac(t,e){xl("NgSignals");let n=B2(t),i=n[Ga];return e?.equal&&(i.equal=e.equal),n.set=r=>aS(i,r),n.update=r=>$2(i,r),n.asReadonly=bQ.bind(n),n}function bQ(){let t=this[Ga];if(t.readonlyFn===void 0){let e=()=>this();e[Ga]=t,t.readonlyFn=e}return t.readonlyFn}function fj(t){return wQ(t)&&typeof t.set=="function"}function CQ(t){return Object.getPrototypeOf(t.prototype).constructor}function wt(t){let e=CQ(t.type),n=!0,i=[t];for(;e;){let r;if(Ks(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new X(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let a=t;a.inputs=X_(t.inputs),a.inputTransforms=X_(t.inputTransforms),a.declaredInputs=X_(t.declaredInputs),a.outputs=X_(t.outputs);let l=r.hostBindings;l&&DQ(t,l);let d=r.viewQuery,h=r.contentQueries;if(d&&SQ(t,d),h&&TQ(t,h),EQ(t,r),nW(t.outputs,r.outputs),Ks(r)&&r.data.animation){let m=t.data;m.animation=(m.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let a=0;a<o.length;a++){let l=o[a];l&&l.ngInherit&&l(t),l===wt&&(n=!1)}}e=Object.getPrototypeOf(e)}IQ(i)}function EQ(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function IQ(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Bp(r.hostAttrs,n=Bp(n,r.hostAttrs))}}function X_(t){return t===Kd?{}:t===cr?[]:t}function SQ(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function TQ(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function DQ(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function rm(t){let e=t.inputConfig,n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}t.inputTransforms=n}var tc=class{},Yp=class{};var PT=class extends tc{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new w0(this);let r=pV(e);this._bootstrapComponents=A3(r.bootstrap),this._r3Injector=f3(e,n,[{provide:tc,useValue:this},{provide:q0,useValue:this.componentFactoryResolver},...i],Yi(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},OT=class extends Yp{constructor(e){super(),this.moduleType=e}create(e){return new PT(this.moduleType,e,[])}};var C0=class extends tc{constructor(e){super(),this.componentFactoryResolver=new w0(this),this.instance=null;let n=new Wp([...e.providers,{provide:tc,useValue:this},{provide:q0,useValue:this.componentFactoryResolver}],e.parent||L0(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function T1(t,e,n=null){return new C0({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Al=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Qn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pj(t){return AQ(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function xQ(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function AQ(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function MQ(t,e,n){return t[e]=n}function PQ(t,e){return t[e]}function Js(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function OQ(t,e,n,i){let r=Js(t,e,n);return Js(t,e+1,i)||r}function kQ(t,e,n,i,r,o,a,l,d){let h=e.consts,m=im(e,t,4,a||null,Jd(h,l));w1(e,n,m,Jd(h,d)),V0(e,m);let v=m.tView=y1(2,m,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,h,null);return e.queries!==null&&(e.queries.template(e,m),v.queries=e.queries.embeddedTView(m)),m}function G(t,e,n,i,r,o,a,l){let d=Et(),h=$n(),m=t+ns,v=h.firstCreatePass?kQ(m,h,d,e,n,i,r,o,a):h.data[m];Dl(v,!1);let y=RQ(h,d,v,t);O0()&&B0(h,d,y,v),ec(y,d);let b=z3(y,d,y,v);return d[m]=b,G0(d,b),cQ(b,v,d),M0(v)&&g1(h,d,v),a!=null&&v1(d,v,l),G}var RQ=NQ;function NQ(t,e,n,i){return k0(!0),e[wn].createComment("")}function W0(t,e,n,i){let r=Et(),o=Zp();if(Js(r,o,e)){let a=$n(),l=P0();mY(l,r,t,e,n,i)}return W0}function FQ(t,e,n,i){return Js(t,Zp(),n)?e+Xd(n)+i:Co}function LQ(t,e,n,i,r,o){let a=$W(),l=OQ(t,a,n,r);return JT(2),l?e+Xd(n)+i+Xd(r)+o:Co}function Z_(t,e){return t<<17|e<<2}function Tl(t){return t>>17&32767}function VQ(t){return(t&2)==2}function jQ(t,e){return t&131071|e<<17}function kT(t){return t|2}function ih(t){return(t&131068)>>2}function VS(t,e){return t&-131069|e<<2}function UQ(t){return(t&1)===1}function RT(t){return t|1}function BQ(t,e,n,i,r,o){let a=o?e.classBindings:e.styleBindings,l=Tl(a),d=ih(a);t[i]=n;let h=!1,m;if(Array.isArray(n)){let v=n;m=v[1],(m===null||em(v,m)>0)&&(h=!0)}else m=n;if(r)if(d!==0){let y=Tl(t[l+1]);t[i+1]=Z_(y,l),y!==0&&(t[y+1]=VS(t[y+1],i)),t[l+1]=jQ(t[l+1],i)}else t[i+1]=Z_(l,0),l!==0&&(t[l+1]=VS(t[l+1],i)),l=i;else t[i+1]=Z_(d,0),l===0?l=i:t[d+1]=VS(t[d+1],i),d=i;h&&(t[i+1]=kT(t[i+1])),JL(t,m,i,!0),JL(t,m,i,!1),$Q(e,m,t,i,o),a=Z_(l,d),o?e.classBindings=a:e.styleBindings=a}function $Q(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&em(o,e)>=0&&(n[i+1]=RT(n[i+1]))}function JL(t,e,n,i){let r=t[n+1],o=e===null,a=i?Tl(r):ih(r),l=!1;for(;a!==0&&(l===!1||o);){let d=t[a],h=t[a+1];HQ(d,e)&&(l=!0,t[a+1]=i?RT(h):kT(h)),a=i?Tl(h):ih(h)}l&&(t[n+1]=i?kT(r):RT(r))}function HQ(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?em(t,e)>=0:!1}var Wi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function GQ(t){return t.substring(Wi.key,Wi.keyEnd)}function zQ(t){return t.substring(Wi.value,Wi.valueEnd)}function qQ(t){return WQ(t),mj(t,E0(t,0,Wi.textEnd))}function mj(t,e){let n=Wi.textEnd,i=Wi.key=E0(t,e,n);return n===i?-1:(i=Wi.keyEnd=KQ(t,i,n),i=XL(t,i,n,58),i=Wi.value=E0(t,i,n),i=Wi.valueEnd=YQ(t,i,n),XL(t,i,n,59))}function WQ(t){Wi.key=0,Wi.keyEnd=0,Wi.value=0,Wi.valueEnd=0,Wi.textEnd=t.length}function E0(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function KQ(t,e,n){let i;for(;e<n&&((i=t.charCodeAt(e))===45||i===95||(i&-33)>=65&&(i&-33)<=90||i>=48&&i<=57);)e++;return e}function XL(t,e,n,i){return e=E0(t,e,n),e<n&&e++,e}function YQ(t,e,n){let i=-1,r=-1,o=-1,a=e,l=a;for(;a<n;){let d=t.charCodeAt(a++);if(d===59)return l;d===34||d===39?l=a=ZL(t,d,a,n):e===a-4&&o===85&&r===82&&i===76&&d===40?l=a=ZL(t,41,a,n):d>32&&(l=a),o=r,r=i,i=d&-33}return l}function ZL(t,e,n,i){let r=-1,o=n;for(;o<i;){let a=t.charCodeAt(o++);if(a==e&&r!==92)return o;a==92&&r===92?r=0:r=a}throw new Error}function P(t,e,n){let i=Et(),r=Zp();if(Js(i,r,e)){let o=$n(),a=P0();_1(o,a,i,t,e,i[wn],n,!1)}return P}function NT(t,e,n,i,r){let o=e.inputs,a=r?"class":"style";b1(t,n,o[a],a,i)}function Ur(t,e,n){return gj(t,e,n,!1),Ur}function ze(t,e){return gj(t,e,null,!0),ze}function K0(t){JQ(_j,QQ,t,!1)}function QQ(t,e){for(let n=qQ(e);n>=0;n=mj(e,n))_j(t,GQ(e),zQ(e))}function gj(t,e,n,i){let r=Et(),o=$n(),a=JT(2);if(o.firstUpdatePass&&yj(o,t,a,i),e!==Co&&Js(r,a,e)){let l=o.data[ic()];wj(o,l,r,r[wn],t,r[a+1]=rJ(e,n),i,a)}}function JQ(t,e,n,i){let r=$n(),o=JT(2);r.firstUpdatePass&&yj(r,null,o,i);let a=Et();if(n!==Co&&Js(a,o,n)){let l=r.data[ic()];if(bj(l,i)&&!vj(r,o)){let d=i?l.classesWithoutHost:l.stylesWithoutHost;d!==null&&(n=zS(d,n||"")),NT(r,l,a,n,i)}else iJ(r,l,a,a[wn],a[o+1],a[o+1]=nJ(t,e,n),i,o)}}function vj(t,e){return e>=t.expandoStartIndex}function yj(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[ic()],a=vj(t,n);bj(o,i)&&e===null&&!a&&(e=!1),e=XQ(r,o,e,i),BQ(r,o,e,n,a,i)}}function XQ(t,e,n,i){let r=SV(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=jS(null,t,e,n,i),n=Qp(n,e.attrs,i),o=null);else{let a=e.directiveStylingLast;if(a===-1||t[a]!==r)if(n=jS(r,t,e,n,i),o===null){let d=ZQ(t,e,i);d!==void 0&&Array.isArray(d)&&(d=jS(null,t,e,d[1],i),d=Qp(d,e.attrs,i),eJ(t,e,i,d))}else o=tJ(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function ZQ(t,e,n){let i=n?e.classBindings:e.styleBindings;if(ih(i)!==0)return t[Tl(i)]}function eJ(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[Tl(r)]=i}function tJ(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let a=t[o].hostAttrs;i=Qp(i,a,n)}return Qp(i,e.attrs,n)}function jS(t,e,n,i,r){let o=null,a=n.directiveEnd,l=n.directiveStylingLast;for(l===-1?l=n.directiveStart:l++;l<a&&(o=e[l],i=Qp(i,o.hostAttrs,r),o!==t);)l++;return t!==null&&(n.directiveStylingLast=l),i}function Qp(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];typeof a=="number"?r=a:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),RV(t,a,n?!0:e[++o]))}return t===void 0?null:t}function nJ(t,e,n){if(n==null||n==="")return cr;let i=[],r=jr(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function _j(t,e,n){RV(t,e,jr(n))}function iJ(t,e,n,i,r,o,a,l){r===Co&&(r=cr);let d=0,h=0,m=0<r.length?r[0]:null,v=0<o.length?o[0]:null;for(;m!==null||v!==null;){let y=d<r.length?r[d+1]:void 0,b=h<o.length?o[h+1]:void 0,w=null,S;m===v?(d+=2,h+=2,y!==b&&(w=v,S=b)):v===null||m!==null&&m<v?(d+=2,w=m):(h+=2,w=v,S=b),w!==null&&wj(t,e,n,i,w,S,a,l),m=d<r.length?r[d]:null,v=h<o.length?o[h]:null}}function wj(t,e,n,i,r,o,a,l){if(!(e.type&3))return;let d=t.data,h=d[l+1],m=UQ(h)?eV(d,e,n,r,ih(h),a):void 0;if(!I0(m)){I0(o)||VQ(h)&&(o=eV(d,null,n,r,l,a));let v=yV(ic(),n);qK(i,a,v,r,o)}}function eV(t,e,n,i,r,o){let a=e===null,l;for(;r>0;){let d=t[r],h=Array.isArray(d),m=h?d[1]:d,v=m===null,y=n[r+1];y===Co&&(y=v?cr:void 0);let b=v?MS(y,i):m===i?y:void 0;if(h&&!I0(b)&&(b=MS(d,i)),I0(b)&&(l=b,a))return l;let w=t[r+1];r=a?Tl(w):ih(w)}if(e!==null){let d=o?e.residualClasses:e.residualStyles;d!=null&&(l=MS(d,i))}return l}function I0(t){return t!==void 0}function rJ(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Yi(jr(t)))),t}function bj(t,e){return(t.flags&(e?8:16))!==0}function oJ(t,e,n,i,r,o){let a=e.consts,l=Jd(a,r),d=im(e,t,2,i,l);return w1(e,n,d,Jd(a,o)),d.attrs!==null&&_0(d,d.attrs,!1),d.mergedAttrs!==null&&_0(d,d.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,d),d}function I(t,e,n,i){let r=Et(),o=$n(),a=ns+t,l=r[wn],d=o.firstCreatePass?oJ(a,o,r,e,n,i):o.data[a],h=sJ(o,r,d,l,e,t);r[a]=h;let m=M0(d);return Dl(d,!0),L3(l,h,d),(d.flags&32)!==32&&O0()&&B0(o,r,h,d),kW()===0&&ec(h,r),RW(),m&&(g1(o,r,d),m1(o,d,r)),i!==null&&v1(r,d),I}function E(){let t=Pi();QT()?IV():(t=t.parent,Dl(t,!1));let e=t;LW(e)&&VW(),NW();let n=$n();return n.firstCreatePass&&(V0(n,t),WT(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&B7(e)&&NT(n,e,Et(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&$7(e)&&NT(n,e,Et(),e.stylesWithoutHost,!1),E}function ne(t,e,n,i){return I(t,e,n,i),E(),ne}var sJ=(t,e,n,i,r,o)=>(k0(!0),M3(i,r,YW()));function aJ(t,e,n,i,r){let o=e.consts,a=Jd(o,i),l=im(e,t,8,"ng-container",a);a!==null&&_0(l,a,!0);let d=Jd(o,r);return w1(e,n,l,d),e.queries!==null&&e.queries.elementStart(e,l),l}function ht(t,e,n){let i=Et(),r=$n(),o=t+ns,a=r.firstCreatePass?aJ(o,r,i,e,n):r.data[o];Dl(a,!0);let l=cJ(r,i,a,t);return i[o]=l,O0()&&B0(r,i,l,a),ec(l,i),M0(a)&&(g1(r,i,a),m1(r,a,i)),n!=null&&v1(i,a),ht}function ft(){let t=Pi(),e=$n();return QT()?IV():(t=t.parent,Dl(t,!1)),e.firstCreatePass&&(V0(e,t),WT(t)&&e.queries.elementEnd(t)),ft}function D1(t,e,n){return ht(t,e,n),ft(),D1}var cJ=(t,e,n,i)=>(k0(!0),xK(e[wn],""));function se(){return Et()}function Ml(t,e,n){let i=Et(),r=Zp();if(Js(i,r,e)){let o=$n(),a=P0(),l=SV(o.data),d=_Y(l,a,i);_1(o,a,i,t,e,d,n,!0)}return Ml}var S0="en-US";var lJ=S0;function uJ(t){typeof t=="string"&&(lJ=t.toLowerCase().replace(/_/g,"-"))}function k(t,e,n,i){let r=Et(),o=$n(),a=Pi();return Cj(o,r,r[wn],a,t,e,i),k}function dJ(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let a=r[o];if(a===n&&r[o+1]===i){let l=e[$p],d=r[o+2];return l.length>d?l[d]:null}typeof a=="string"&&(o+=2)}return null}function Cj(t,e,n,i,r,o,a){let l=M0(i),h=t.firstCreatePass&&K3(t),m=e[yo],v=W3(e),y=!0;if(i.type&3||a){let S=Lr(i,e),T=a?a(S):S,O=v.length,V=a?x=>a(is(x[i.index])):i.index,$=null;if(!a&&l&&($=dJ(t,e,r,i.index)),$!==null){let x=$.__ngLastListenerFn__||$;x.__ngNextListenerFn__=o,$.__ngLastListenerFn__=o,y=!1}else{o=nV(i,e,m,o,!1);let x=n.listen(T,r,o);v.push(o,x),h&&h.push(r,V,O,O+1)}}else o=nV(i,e,m,o,!1);let b=i.outputs,w;if(y&&b!==null&&(w=b[r])){let S=w.length;if(S)for(let T=0;T<S;T+=2){let O=w[T],V=w[T+1],ee=e[O][V].subscribe(o),U=v.length;if(v.push(o,ee),h){let re=typeof ee=="function"?U+1:-(U+1);h.push(r,i.index,U,re)}}}}function tV(t,e,n,i){let r=Ot(null);try{return Xo(6,e,n),n(i)!==!1}catch(o){return Y3(t,o),!1}finally{Xo(7,e,n),Ot(r)}}function nV(t,e,n,i,r){return function o(a){if(a===Function)return i;let l=t.componentOffset>-1?nc(t.index,e):e;E1(l);let d=tV(e,n,i,a),h=o.__ngNextListenerFn__;for(;h;)d=tV(e,n,h,a)&&d,h=h.__ngNextListenerFn__;return r&&d===!1&&a.preventDefault(),d}}function M(t=1){return KW(t)}function Ej(t,e,n,i){gQ(t,e,n,i)}function Ij(t,e,n){mQ(t,e,n)}function Y0(t){let e=Et(),n=$n(),i=TV();XT(i+1);let r=S1(n,i);if(t.dirty&&xW(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=_Q(e,i);t.reset(o,JW),t.notifyOnChanges()}return!0}return!1}function Q0(){return pQ(Et(),TV())}function J0(t){let e=UW();return DW(e,ns+t)}function L(t,e=""){let n=Et(),i=$n(),r=t+ns,o=i.firstCreatePass?im(i,r,1,e,null):i.data[r],a=hJ(i,n,o,e,t);n[r]=a,O0()&&B0(i,n,a,o),Dl(o,!1)}var hJ=(t,e,n,i,r)=>(k0(!0),TK(e[wn],i));function ue(t){return Sj("",t,""),ue}function Sj(t,e,n){let i=Et(),r=FQ(i,t,e,n);return r!==Co&&Q3(i,ic(),r),Sj}function na(t,e,n,i,r){let o=Et(),a=LQ(o,t,e,n,i,r);return a!==Co&&Q3(o,ic(),a),na}function Fe(t,e,n){fj(e)&&(e=e());let i=Et(),r=Zp();if(Js(i,r,e)){let o=$n(),a=P0();_1(o,a,i,t,e,i[wn],n,!1)}return Fe}function je(t,e){let n=fj(t);return n&&t.set(e),n}function Le(t,e){let n=Et(),i=$n(),r=Pi();return Cj(i,n,n[wn],r,t,e),Le}function fJ(t,e,n){let i=$n();if(i.firstCreatePass){let r=Ks(t);FT(n,i.data,i.blueprint,r,!0),FT(e,i.data,i.blueprint,r,!1)}}function FT(t,e,n,i,r){if(t=Ki(t),Array.isArray(t))for(let o=0;o<t.length;o++)FT(t[o],e,n,i,r);else{let o=$n(),a=Et(),l=Pi(),d=th(t)?t:Ki(t.provide),h=XV(t),m=l.providerIndexes&1048575,v=l.directiveStart,y=l.providerIndexes>>20;if(th(t)||!t.multi){let b=new Cl(h,r,R),w=BS(d,e,r?m:m+y,v);w===-1?(oT(m0(l,a),o,d),US(o,t,e.length),e.push(d),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(b),a.push(b)):(n[w]=b,a[w]=b)}else{let b=BS(d,e,m+y,v),w=BS(d,e,m,m+y),S=b>=0&&n[b],T=w>=0&&n[w];if(r&&!T||!r&&!S){oT(m0(l,a),o,d);let O=gJ(r?mJ:pJ,n.length,r,i,h);!r&&T&&(n[w].providerFactory=O),US(o,t,e.length,0),e.push(d),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(O),a.push(O)}else{let O=Tj(n[r?w:b],h,!r&&i);US(o,t,b>-1?b:w,O)}!r&&i&&T&&n[w].componentProviders++}}}function US(t,e,n,i){let r=th(e),o=T7(e);if(r||o){let d=(o?Ki(e.useClass):e).prototype.ngOnDestroy;if(d){let h=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let m=h.indexOf(n);m===-1?h.push(n,[i,d]):h[m+1].push(i,d)}else h.push(n,d)}}}function Tj(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function BS(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function pJ(t,e,n,i){return LT(this.multi,[])}function mJ(t,e,n,i){let r=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=El(n,n[rt],this.providerFactory.index,i);o=l.slice(0,a),LT(r,o);for(let d=a;d<l.length;d++)o.push(l[d])}else o=[],LT(r,o);return o}function LT(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function gJ(t,e,n,i,r){let o=new Cl(t,n,R);return o.multi=[],o.index=e,o.componentProviders=0,Tj(o,r,i&&!n),o}function sh(t,e=[]){return n=>{n.providersResolver=(i,r)=>fJ(i,r?r(t):t,e)}}var vJ=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=YV(!1,i.type),o=r.length>0?T1([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=Z({token:e,providedIn:"environment",factory:()=>new e(oe(ui))});let t=e;return t})();function me(t){xl("NgStandalone"),t.getStandaloneInjector=e=>e.get(vJ).getOrCreateStandaloneInjector(t)}function Pl(t,e,n){let i=BW()+t,r=Et();return r[i]===Co?MQ(r,i,n?e.call(n):e()):PQ(r,i)}function Dj(t,e){return z0(t,e)}var Xs=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},xj=new Xs("17.2.4"),X0=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Aj=new we("");function Ol(t){return!!t&&typeof t.then=="function"}function Mj(t){return!!t&&typeof t.subscribe=="function"}var Pj=new we(""),Oj=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=J(Pj,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let o of this.appInits){let a=o();if(Ol(a))i.push(a);else if(Mj(a)){let l=new Promise((d,h)=>{a.subscribe({complete:d,error:h})});i.push(l)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(o=>{this.reject(o)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Z0=new we("");function yJ(){U2(()=>{throw new X(600,!1)})}function _J(t){return t.isBoundToModule}function wJ(t,e,n){try{let i=n();return Ol(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}var as=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=J(p3),this.afterRenderEffectManager=J(aj),this.componentTypes=[],this.components=[],this.isStable=J(Al).hasPendingTasks.pipe(Ne(i=>!i)),this._injector=J(ui)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let o=i instanceof y0;if(!this._injector.get(Oj).done){let b=!o&&fV(i),w=!1;throw new X(405,w)}let l;o?l=i:l=this._injector.get(q0).resolveComponentFactory(i),this.componentTypes.push(l.componentType);let d=_J(l)?void 0:this._injector.get(tc),h=r||l.selector,m=l.create(Jt.NULL,[],h,d),v=m.location.nativeElement,y=m.injector.get(Aj,null);return y?.registerApplication(v),m.onDestroy(()=>{this.detachView(m.hostView),$S(this.components,m),y?.unregisterApplication(v)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new X(101,!1);let i=Ot(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Ot(i)}}detectChangesInAttachedViews(){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===tj)throw new X(103,!1);let o=i===0;for(let{_lView:a,notifyErrorHandler:l}of this._views)!o&&!HS(a)||this.detectChangesInView(a,l,o);if(i++,r.executeInternalCallbacks(),!this._views.some(({_lView:a})=>HS(a))&&(r.execute(),!this._views.some(({_lView:a})=>HS(a))))break}}detectChangesInView(i,r,o){let a;o?(a=0,i[ke]|=1024):i[ke]&64?a=0:a=1,nj(i,r,a)}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;$S(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(Z0,[]);[...this._bootstrapListeners,...r].forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>$S(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new X(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $S(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function HS(t){return YT(t)}var VT=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},x1=(()=>{let e=class e{compileModuleSync(i){return new OT(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),o=pV(i),a=A3(o.declarations).reduce((l,d)=>{let h=Za(d);return h&&l.push(new nh(h)),l},[]);return new VT(r,a)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var bJ=(()=>{let e=class e{constructor(){this.zone=J(Ct),this.applicationRef=J(as)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function CJ(t){return[{provide:Ct,useFactory:t},{provide:eh,multi:!0,useFactory:()=>{let e=J(bJ,{optional:!0});return()=>e.initialize()}},{provide:eh,multi:!0,useFactory:()=>{let e=J(TJ);return()=>{e.initialize()}}},{provide:p3,useFactory:EJ}]}function EJ(){let t=J(Ct),e=J(rs);return n=>t.runOutsideAngular(()=>e.handleError(n))}function IJ(t){let e=CJ(()=>new Ct(SJ(t)));return oc([[],e])}function SJ(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var TJ=(()=>{let e=class e{constructor(){this.subscription=new On,this.initialized=!1,this.zone=J(Ct),this.pendingTasks=J(Al)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ct.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ct.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function DJ(){return typeof $localize<"u"&&$localize.locale||S0}var A1=new we("",{providedIn:"root",factory:()=>J(A1,ot.Optional|ot.SkipSelf)||DJ()});var kj=new we("");var s0=null;function xJ(t=[],e){return Jt.create({name:e,providers:[{provide:F0,useValue:"platform"},{provide:kj,useValue:new Set([()=>s0=null])},...t]})}function AJ(t=[]){if(s0)return s0;let e=xJ(t);return s0=e,yJ(),MJ(e),e}function MJ(t){t.get(i1,null)?.forEach(n=>n())}var ia=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=PJ;let t=e;return t})();function PJ(t){return OJ(Pi(),Et(),(t&16)===16)}function OJ(t,e,n){if(A0(t)&&!n){let i=nc(t.index,e);return new Il(i,i)}else if(t.type&47){let i=e[ts];return new Il(i,e)}return null}var jT=class{constructor(){}supports(e){return pj(e)}create(e){return new UT(e)}},kJ=(t,e)=>e,UT=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||kJ}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let a=!i||n&&n.currentIndex<iV(i,r,o)?n:i,l=iV(a,r,o),d=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(n=n._next,a.previousIndex==null)r++;else{o||(o=[]);let h=l-r,m=d-r;if(h!=m){for(let y=0;y<h;y++){let b=y<o.length?o[y]:o[y]=0,w=b+y;m<=w&&w<h&&(o[y]=b+1)}let v=a.previousIndex;o[v]=m-h}}l!==d&&e(a,l,d)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!pj(e))throw new X(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,o,a;if(Array.isArray(e)){this.length=e.length;for(let l=0;l<this.length;l++)o=e[l],a=this._trackByFn(l,o),n===null||!Object.is(n.trackById,a)?(n=this._mismatch(n,o,a,l),i=!0):(i&&(n=this._verifyReinsertion(n,o,a,l)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,xQ(e,l=>{a=this._trackByFn(r,l),n===null||!Object.is(n.trackById,a)?(n=this._mismatch(n,l,a,r),i=!0):(i&&(n=this._verifyReinsertion(n,l,a,r)),Object.is(n.item,l)||this._addIdentityChange(n,l)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new BT(n,i),o,r)),e}_verifyReinsertion(e,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new T0),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new T0),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},BT=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},$T=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},T0=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new $T,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function iV(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function rV(){return new M1([new jT])}var M1=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||rV()),deps:[[e,new qV,new Xi]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r!=null)return r;throw new X(901,!1)}};e.\u0275prov=Z({token:e,providedIn:"root",factory:rV});let t=e;return t})();function Rj(t){try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,r=AJ(i),o=[IJ(),...n||[]],l=new C0({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,d=l.get(Ct);return d.run(()=>{l.resolveInjectorInitializers();let h=l.get(rs,null),m;d.runOutsideAngular(()=>{m=d.onError.subscribe({next:b=>{h.handleError(b)}})});let v=()=>l.destroy(),y=r.get(kj);return y.add(v),l.onDestroy(()=>{m.unsubscribe(),y.delete(v)}),wJ(h,d,()=>{let b=l.get(Oj);return b.runInitializers(),b.donePromise.then(()=>{let w=l.get(A1,S0);uJ(w||S0);let S=l.get(as);return e!==void 0&&S.bootstrap(e),S})})})}catch(e){return Promise.reject(e)}}function Zi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var RJ=new we("",{providedIn:"root",factory:()=>J(NJ)}),NJ=(()=>{let e=class e{};e.\u0275prov=Z({token:e,providedIn:"root",factory:()=>new HT});let t=e;return t})(),HT=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=J(Al),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},GT=class{constructor(e,n,i,r,o,a){this.scheduler=e,this.effectFn=n,this.creationZone=i,this.injector=o,this.watcher=G2(l=>this.runEffect(l),()=>this.schedule(),a),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(rs,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function cc(t,e){xl("NgSignals"),!e?.injector&&k7(cc);let n=e?.injector??J(Jt),i=e?.manualCleanup!==!0?n.get(sj):null,r=new GT(n.get(RJ),t,typeof Zone>"u"?null:Zone.current,i,n,e?.allowSignalWrites??!1),o=n.get(ia,null,{optional:!0});return!o||!(o._lView[ke]&8)?r.watcher.notify():(o._lView[e0]??=[]).push(r.watcher.notify),r}function ew(t,e){let n=Za(t),i=e.elementInjector||L0();return new nh(n).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}var Uj=null;function ra(){return Uj}function Bj(t){Uj??=t}var tw=class{};var bi=new we(""),$j=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>J(FJ),providedIn:"platform"});let t=e;return t})();var FJ=(()=>{let e=class e extends $j{constructor(){super(),this._doc=J(bi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ra().getBaseHref(this._doc)}onPopState(i){let r=ra().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=ra().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,o){this._history.pushState(i,r,o)}replaceState(i,r,o){this._history.replaceState(i,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Hj(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Nj(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function kl(t){return t&&t[0]!=="?"?"?"+t:t}var ch=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>J(Gj),providedIn:"root"});let t=e;return t})(),LJ=new we(""),Gj=(()=>{let e=class e extends ch{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??J(bi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return Hj(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+kl(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${r}${o}`:r}pushState(i,r,o,a){let l=this.prepareExternalUrl(o+kl(a));this._platformLocation.pushState(i,r,l)}replaceState(i,r,o,a){let l=this.prepareExternalUrl(o+kl(a));this._platformLocation.replaceState(i,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(oe($j),oe(LJ,8))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var om=(()=>{let e=class e{constructor(i){this._subject=new Gt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=UJ(Nj(Fj(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+kl(r))}normalize(i){return e.stripTrailingSlash(jJ(this._basePath,Fj(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",o=null){this._locationStrategy.pushState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+kl(r)),o)}replaceState(i,r="",o=null){this._locationStrategy.replaceState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+kl(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(o=>o(i,r))}subscribe(i,r,o){return this._subject.subscribe({next:i,error:r,complete:o})}};e.normalizeQueryParams=kl,e.joinWithSlash=Hj,e.stripTrailingSlash=Nj,e.\u0275fac=function(r){return new(r||e)(oe(ch))},e.\u0275prov=Z({token:e,factory:()=>VJ(),providedIn:"root"});let t=e;return t})();function VJ(){return new om(oe(ch))}function jJ(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Fj(t){return t.replace(/\/index.html$/,"")}function UJ(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function nw(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var P1=/\s+/,Lj=[],ki=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=Lj,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(P1):Lj}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(P1):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let o=this.stateMap.get(i);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],o=i[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(P1).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(r){return new(r||e)(R(nn),R(Eo))},e.\u0275dir=xt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[xe.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var O1=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},tt=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,o){this._viewContainer=i,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((o,a,l)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new O1(o.item,this._ngForOf,-1,-1),l===null?void 0:l);else if(l==null)r.remove(a===null?void 0:a);else if(a!==null){let d=r.get(a);r.move(d,l),Vj(d,o)}});for(let o=0,a=r.length;o<a;o++){let d=r.get(o).context;d.index=o,d.count=a,d.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{let a=r.get(o.currentIndex);Vj(a,o)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(R(wi),R(_o),R(M1))},e.\u0275dir=xt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Vj(t,e){t.context.$implicit=e.item}var st=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new k1,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){jj("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){jj("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(R(wi),R(_o))},e.\u0275dir=xt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),k1=class{constructor(){this.$implicit=null,this.ngIf=null}};function jj(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Yi(e)}'.`)}var ye=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Qi({type:e}),e.\u0275inj=Ji({});let t=e;return t})(),zj="browser",BJ="server";function sm(t){return t===BJ}var ah=class{};var cm=class{},lm=class{},oa=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),a=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let a=this.headers.get(n);if(!a)return;a=a.filter(l=>o.indexOf(l)===-1),a.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,a)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var F1=class{encodeKey(e){return qj(e)}encodeValue(e){return qj(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function GJ(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[a,l]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],d=n.get(a)||[];d.push(l),n.set(a,d)}),n}var zJ=/%(\d[a-f0-9])/gi,qJ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function qj(t){return encodeURIComponent(t).replace(zJ,(e,n)=>qJ[n]??e)}function iw(t){return`${t}`}var uc=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new F1,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=GJ(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(iw):[iw(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(iw(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(iw(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var L1=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function WJ(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Wj(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Kj(t){return typeof Blob<"u"&&t instanceof Blob}function Yj(t){return typeof FormData<"u"&&t instanceof FormData}function KJ(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var am=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(WJ(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new oa,this.context??=new L1,!this.params)this.params=new uc,this.urlWithParams=n;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=n;else{let l=n.indexOf("?"),d=l===-1?"?":l<n.length-1?"&":"";this.urlWithParams=n+d+a}}}serializeBody(){return this.body===null?null:Wj(this.body)||Kj(this.body)||Yj(this.body)||KJ(this.body)||typeof this.body=="string"?this.body:this.body instanceof uc?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Yj(this.body)?null:Kj(this.body)?this.body.type||null:Wj(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof uc?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,a=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,l=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,d=e.headers||this.headers,h=e.params||this.params,m=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((v,y)=>v.set(y,e.setHeaders[y]),d)),e.setParams&&(h=Object.keys(e.setParams).reduce((v,y)=>v.set(y,e.setParams[y]),h)),new t(n,i,o,{params:h,headers:d,context:m,reportProgress:l,responseType:r,withCredentials:a})}},dc=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(dc||{}),um=class{constructor(e,n=hm.Ok,i="OK"){this.headers=e.headers||new oa,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},rw=class t extends um{constructor(e={}){super(e),this.type=dc.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},dm=class t extends um{constructor(e={}){super(e),this.type=dc.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},lc=class extends um{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},hm=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(hm||{});function R1(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Rl=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,o={}){let a;if(i instanceof am)a=i;else{let h;o.headers instanceof oa?h=o.headers:h=new oa(o.headers);let m;o.params&&(o.params instanceof uc?m=o.params:m=new uc({fromObject:o.params})),a=new am(i,r,o.body!==void 0?o.body:null,{headers:h,context:o.context,params:m,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let l=Re(a).pipe(Ya(h=>this.handler.handle(h)));if(i instanceof am||o.observe==="events")return l;let d=l.pipe(li(h=>h instanceof dm));switch(o.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return d.pipe(Ne(h=>{if(h.body!==null&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return d.pipe(Ne(h=>{if(h.body!==null&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return d.pipe(Ne(h=>{if(h.body!==null&&typeof h.body!="string")throw new Error("Response is not a string.");return h.body}));case"json":default:return d.pipe(Ne(h=>h.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new uc().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,R1(o,r))}post(i,r,o={}){return this.request("POST",i,R1(o,r))}put(i,r,o={}){return this.request("PUT",i,R1(o,r))}};e.\u0275fac=function(r){return new(r||e)(oe(cm))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),YJ=/^\)\]\}',?\n/,QJ="X-Request-URL";function Qj(t){if(t.url)return t.url;let e=QJ.toLocaleLowerCase();return t.headers.get(e)}var N1=(()=>{let e=class e{constructor(){this.fetchImpl=J(V1,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=J(Ct)}handle(i){return new Ue(r=>{let o=new AbortController;return this.doRequest(i,o.signal,r).then(j1,a=>r.error(new lc({error:a}))),()=>o.abort()})}doRequest(i,r,o){return C(this,null,function*(){let a=this.createRequestInit(i),l;try{let w=this.fetchImpl(i.urlWithParams,te({signal:r},a));JJ(w),o.next({type:dc.Sent}),l=yield w}catch(w){o.error(new lc({error:w,status:w.status??0,statusText:w.statusText,url:i.urlWithParams,headers:w.headers}));return}let d=new oa(l.headers),h=l.statusText,m=Qj(l)??i.urlWithParams,v=l.status,y=null;if(i.reportProgress&&o.next(new rw({headers:d,status:v,statusText:h,url:m})),l.body){let w=l.headers.get("content-length"),S=[],T=l.body.getReader(),O=0,V,$,x=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>C(this,null,function*(){for(;;){let{done:U,value:re}=yield T.read();if(U)break;if(S.push(re),O+=re.length,i.reportProgress){$=i.responseType==="text"?($??"")+(V??=new TextDecoder).decode(re,{stream:!0}):void 0;let Ee=()=>o.next({type:dc.DownloadProgress,total:w?+w:void 0,loaded:O,partialText:$});x?x.run(Ee):Ee()}}}));let ee=this.concatChunks(S,O);try{let U=l.headers.get("Content-Type")??"";y=this.parseBody(i,ee,U)}catch(U){o.error(new lc({error:U,headers:new oa(l.headers),status:l.status,statusText:l.statusText,url:Qj(l)??i.urlWithParams}));return}}v===0&&(v=y?hm.Ok:0),v>=200&&v<300?(o.next(new dm({body:y,headers:d,status:v,statusText:h,url:m})),o.complete()):o.error(new lc({error:y,headers:d,status:v,statusText:h,url:m}))})}parseBody(i,r,o){switch(i.responseType){case"json":let a=new TextDecoder().decode(r).replace(YJ,"");return a===""?null:JSON.parse(a);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:o});case"arraybuffer":return r.buffer}}createRequestInit(i){let r={},o=i.withCredentials?"include":void 0;if(i.headers.forEach((a,l)=>r[a]=l.join(",")),r.Accept??="application/json, text/plain, */*",!r["Content-Type"]){let a=i.detectContentTypeHeader();a!==null&&(r["Content-Type"]=a)}return{body:i.serializeBody(),method:i.method,headers:r,credentials:o}}concatChunks(i,r){let o=new Uint8Array(r),a=0;for(let l of i)o.set(l,a),a+=l.length;return o}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),V1=class{};function j1(){}function JJ(t){t.then(j1,j1)}function XJ(t,e){return e(t)}function ZJ(t,e,n){return(i,r)=>ea(n,()=>e(i,o=>t(o,r)))}var U1=new we(""),eX=new we(""),Zj=new we("");var Jj=(()=>{let e=class e extends cm{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=J(Al);let o=J(Zj,{optional:!0});this.backend=o??i}handle(i){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(U1),...this.injector.get(eX,[])]));this.chain=o.reduceRight((a,l)=>ZJ(a,l,this.injector),XJ)}let r=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(gl(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(oe(lm),oe(ui))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();var tX=/^\)\]\}',?\n/;function nX(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Xj=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new X(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Qt(r.\u0275loadImpl()):Re(null)).pipe(Mi(()=>new Ue(a=>{let l=r.build();if(l.open(i.method,i.urlWithParams),i.withCredentials&&(l.withCredentials=!0),i.headers.forEach((T,O)=>l.setRequestHeader(T,O.join(","))),i.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let T=i.detectContentTypeHeader();T!==null&&l.setRequestHeader("Content-Type",T)}if(i.responseType){let T=i.responseType.toLowerCase();l.responseType=T!=="json"?T:"text"}let d=i.serializeBody(),h=null,m=()=>{if(h!==null)return h;let T=l.statusText||"OK",O=new oa(l.getAllResponseHeaders()),V=nX(l)||i.url;return h=new rw({headers:O,status:l.status,statusText:T,url:V}),h},v=()=>{let{headers:T,status:O,statusText:V,url:$}=m(),x=null;O!==hm.NoContent&&(x=typeof l.response>"u"?l.responseText:l.response),O===0&&(O=x?hm.Ok:0);let ee=O>=200&&O<300;if(i.responseType==="json"&&typeof x=="string"){let U=x;x=x.replace(tX,"");try{x=x!==""?JSON.parse(x):null}catch(re){x=U,ee&&(ee=!1,x={error:re,text:x})}}ee?(a.next(new dm({body:x,headers:T,status:O,statusText:V,url:$||void 0})),a.complete()):a.error(new lc({error:x,headers:T,status:O,statusText:V,url:$||void 0}))},y=T=>{let{url:O}=m(),V=new lc({error:T,status:l.status||0,statusText:l.statusText||"Unknown Error",url:O||void 0});a.error(V)},b=!1,w=T=>{b||(a.next(m()),b=!0);let O={type:dc.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(O.total=T.total),i.responseType==="text"&&l.responseText&&(O.partialText=l.responseText),a.next(O)},S=T=>{let O={type:dc.UploadProgress,loaded:T.loaded};T.lengthComputable&&(O.total=T.total),a.next(O)};return l.addEventListener("load",v),l.addEventListener("error",y),l.addEventListener("timeout",y),l.addEventListener("abort",y),i.reportProgress&&(l.addEventListener("progress",w),d!==null&&l.upload&&l.upload.addEventListener("progress",S)),l.send(d),a.next({type:dc.Sent}),()=>{l.removeEventListener("error",y),l.removeEventListener("abort",y),l.removeEventListener("load",v),l.removeEventListener("timeout",y),i.reportProgress&&(l.removeEventListener("progress",w),d!==null&&l.upload&&l.upload.removeEventListener("progress",S)),l.readyState!==l.DONE&&l.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(oe(ah))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),eU=new we(""),iX="XSRF-TOKEN",rX=new we("",{providedIn:"root",factory:()=>iX}),oX="X-XSRF-TOKEN",sX=new we("",{providedIn:"root",factory:()=>oX}),ow=class{},aX=(()=>{let e=class e{constructor(i,r,o){this.doc=i,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=nw(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(oe(bi),oe(Vr),oe(rX))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();function cX(t,e){let n=t.url.toLowerCase();if(!J(eU)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=J(ow).getToken(),r=J(sX);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}var B1=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(B1||{});function tU(t,e){return{\u0275kind:t,\u0275providers:e}}function nU(...t){let e=[Rl,Xj,Jj,{provide:cm,useExisting:Jj},{provide:lm,useExisting:Xj},{provide:U1,useValue:cX,multi:!0},{provide:eU,useValue:!0},{provide:ow,useClass:aX}];for(let n of t)e.push(...n.\u0275providers);return oc(e)}function iU(t){return tU(B1.Interceptors,t.map(e=>({provide:U1,useValue:e,multi:!0})))}function rU(){return tU(B1.Fetch,[N1,{provide:lm,useExisting:N1},{provide:Zj,useExisting:N1}])}var dD={};yq(dD,{FirebaseError:()=>Hn,SDK_VERSION:()=>So,_DEFAULT_ENTRY_NAME:()=>us,_addComponent:()=>ym,_addOrOverwriteComponent:()=>uD,_apps:()=>pc,_clearComponents:()=>aZ,_components:()=>gm,_getProvider:()=>jl,_registerComponent:()=>Io,_removeServiceInstance:()=>AU,deleteApp:()=>pw,getApp:()=>Ul,getApps:()=>_m,initializeApp:()=>uh,onLog:()=>mw,registerVersion:()=>un,setLogLevel:()=>gw});var sU=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},lX=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=t[n++],a=t[n++],l=t[n++],d=((r&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{let o=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|a&63)}}return e.join("")},aU={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let o=t[r],a=r+1<t.length,l=a?t[r+1]:0,d=r+2<t.length,h=d?t[r+2]:0,m=o>>2,v=(o&3)<<4|l>>4,y=(l&15)<<2|h>>6,b=h&63;d||(b=64,a||(y=64)),i.push(n[m],n[v],n[y],n[b])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lX(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let o=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;let h=r<t.length?n[t.charAt(r)]:64;++r;let v=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||l==null||h==null||v==null)throw new G1;let y=o<<2|l>>4;if(i.push(y),h!==64){let b=l<<4&240|h>>2;if(i.push(b),v!==64){let w=h<<6&192|v;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},G1=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},uX=function(t){let e=sU(t);return aU.encodeByteArray(e,!0)},fm=function(t){return uX(t).replace(/\./g,"")},q1=function(t){try{return aU.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pm(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!dX(n)||(t[n]=pm(t[n],e[n]));return t}function dX(t){return t!=="__proto__"}function hX(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var fX=()=>hX().__FIREBASE_DEFAULTS__,pX=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mX=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&q1(t[1]);return e&&JSON.parse(e)},aw=()=>{try{return fX()||pX()||mX()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},W1=t=>{var e,n;return(n=(e=aw())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},cU=t=>{let e=W1(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},K1=()=>{var t;return(t=aw())===null||t===void 0?void 0:t.config},Y1=t=>{var e;return(e=aw())===null||e===void 0?void 0:e[`_${t}`]};var sw=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function lU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fm(JSON.stringify(n)),fm(JSON.stringify(a)),""].join(".")}function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function cw(){var t;let e=(t=aw())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dU(){return typeof self=="object"&&self.self===self}function lw(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mm(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uw(){let t=qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hU(){return!cw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hc(){try{return typeof indexedDB=="object"}catch{return!1}}function fU(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var gX="FirebaseError",Hn=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=gX,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Br.prototype.create)}},Br=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],a=o?vX(o,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new Hn(r,l,i)}};function vX(t,e){return t.replace(yX,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var yX=/\{\$([^}]+)}/g;function Q1(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function pU(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nl(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let o=t[r],a=e[r];if(oU(o)&&oU(a)){if(!Nl(o,a))return!1}else if(o!==a)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function oU(t){return t!==null&&typeof t=="object"}function Fl(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function fc(t){let e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function lh(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function dw(t,e){let n=new z1(t,e);return n.subscribe.bind(n)}var z1=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");_X(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=H1),r.error===void 0&&(r.error=H1),r.complete===void 0&&(r.complete=H1);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function _X(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function H1(){}var _we=4*60*60*1e3;function Qe(t){return t&&t._delegate?t._delegate:t}var Ri=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ll="[DEFAULT]";var J1=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new sw;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bX(e))try{this.getOrInitializeService({instanceIdentifier:Ll})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Ll){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ll){return this.instances.has(e)}getOptions(e=Ll){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[o,a]of this.instancesDeferred.entries()){let l=this.normalizeInstanceIdentifier(o);i===l&&a.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:wX(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ll){return this.component?this.component.multipleInstances?e:Ll:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function wX(t){return t===Ll?void 0:t}function bX(t){return t.instantiationMode==="EAGER"}var hw=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new J1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var X1=[],lt=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(lt||{}),mU={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},CX=lt.INFO,EX={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},IX=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=EX[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},cs=class{constructor(e){this.name=e,this._logLevel=CX,this._logHandler=IX,this._userLogHandler=null,X1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}};function gU(t){X1.forEach(e=>{e.setLogLevel(t)})}function vU(t,e){for(let n of X1){let i=null;e&&e.level&&(i=mU[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(r,o,...a)=>{let l=a.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(i??r.logLevel)&&t({level:lt[o].toLowerCase(),message:l,args:a,type:r.name})}}}var SX=(t,e)=>e.some(n=>t instanceof n),yU,_U;function TX(){return yU||(yU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DX(){return _U||(_U=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var wU=new WeakMap,eD=new WeakMap,bU=new WeakMap,Z1=new WeakMap,nD=new WeakMap;function xX(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(ls(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&wU.set(n,t)}).catch(()=>{}),nD.set(e,t),e}function AX(t){if(eD.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});eD.set(t,e)}var tD={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return eD.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bU.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ls(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CU(t){tD=t(tD)}function MX(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(fw(this),e,...n);return bU.set(i,e.sort?e.sort():[e]),ls(i)}:DX().includes(t)?function(...e){return t.apply(fw(this),e),ls(wU.get(this))}:function(...e){return ls(t.apply(fw(this),e))}}function PX(t){return typeof t=="function"?MX(t):(t instanceof IDBTransaction&&AX(t),SX(t,TX())?new Proxy(t,tD):t)}function ls(t){if(t instanceof IDBRequest)return xX(t);if(Z1.has(t))return Z1.get(t);let e=PX(t);return e!==t&&(Z1.set(t,e),nD.set(e,t)),e}var fw=t=>nD.get(t);function IU(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){let a=indexedDB.open(t,e),l=ls(a);return i&&a.addEventListener("upgradeneeded",d=>{i(ls(a.result),d.oldVersion,d.newVersion,ls(a.transaction),d)}),n&&a.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),l.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}var OX=["get","getKey","getAll","getAllKeys","count"],kX=["put","add","delete","clear"],iD=new Map;function EU(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(iD.get(e))return iD.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=kX.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||OX.includes(n)))return;let o=function(a,...l){return C(this,null,function*(){let d=this.transaction(a,r?"readwrite":"readonly"),h=d.store;return i&&(h=h.index(l.shift())),(yield Promise.all([h[n](...l),r&&d.done]))[0]})};return iD.set(e,o),o}CU(t=>Dt(te({},t),{get:(e,n,i)=>EU(e,n)||t.get(e,n,i),has:(e,n)=>!!EU(e,n)||t.has(e,n)}));var oD=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RX(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function RX(t){let e=t.getComponent();return e?.type==="VERSION"}var sD="@firebase/app",SU="0.9.28";var Vl=new cs("@firebase/app"),NX="@firebase/app-compat",FX="@firebase/analytics-compat",LX="@firebase/analytics",VX="@firebase/app-check-compat",jX="@firebase/app-check",UX="@firebase/auth",BX="@firebase/auth-compat",$X="@firebase/database",HX="@firebase/database-compat",GX="@firebase/functions",zX="@firebase/functions-compat",qX="@firebase/installations",WX="@firebase/installations-compat",KX="@firebase/messaging",YX="@firebase/messaging-compat",QX="@firebase/performance",JX="@firebase/performance-compat",XX="@firebase/remote-config",ZX="@firebase/remote-config-compat",eZ="@firebase/storage",tZ="@firebase/storage-compat",nZ="@firebase/firestore",iZ="@firebase/firestore-compat",rZ="firebase",oZ="10.8.1";var us="[DEFAULT]",sZ={[sD]:"fire-core",[NX]:"fire-core-compat",[LX]:"fire-analytics",[FX]:"fire-analytics-compat",[jX]:"fire-app-check",[VX]:"fire-app-check-compat",[UX]:"fire-auth",[BX]:"fire-auth-compat",[$X]:"fire-rtdb",[HX]:"fire-rtdb-compat",[GX]:"fire-fn",[zX]:"fire-fn-compat",[qX]:"fire-iid",[WX]:"fire-iid-compat",[KX]:"fire-fcm",[YX]:"fire-fcm-compat",[QX]:"fire-perf",[JX]:"fire-perf-compat",[XX]:"fire-rc",[ZX]:"fire-rc-compat",[eZ]:"fire-gcs",[tZ]:"fire-gcs-compat",[nZ]:"fire-fst",[iZ]:"fire-fst-compat","fire-js":"fire-js",[rZ]:"fire-js-all"};var pc=new Map,gm=new Map;function ym(t,e){try{t.container.addComponent(e)}catch(n){Vl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function uD(t,e){t.container.addOrOverwriteComponent(e)}function Io(t){let e=t.name;if(gm.has(e))return Vl.debug(`There were multiple attempts to register component ${e}.`),!1;gm.set(e,t);for(let n of pc.values())ym(n,t);return!0}function jl(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function AU(t,e,n=us){jl(t,e).clearInstance(n)}function aZ(){gm.clear()}var cZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},sa=new Br("app","Firebase",cZ);var aD=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sa.create("app-deleted",{appName:this._name})}};var So=oZ;function uh(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:us,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw sa.create("bad-app-name",{appName:String(r)});if(n||(n=K1()),!n)throw sa.create("no-options");let o=pc.get(r);if(o){if(Nl(n,o.options)&&Nl(i,o.config))return o;throw sa.create("duplicate-app",{appName:r})}let a=new hw(r);for(let d of gm.values())a.addComponent(d);let l=new aD(n,i,a);return pc.set(r,l),l}function Ul(t=us){let e=pc.get(t);if(!e&&t===us&&K1())return uh();if(!e)throw sa.create("no-app",{appName:t});return e}function _m(){return Array.from(pc.values())}function pw(t){return C(this,null,function*(){let e=t.name;pc.has(e)&&(pc.delete(e),yield Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)})}function un(t,e,n){var i;let r=(i=sZ[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){let l=[`Unable to register library "${r}" with version "${e}":`];o&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vl.warn(l.join(" "));return}Io(new Ri(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function mw(t,e){if(t!==null&&typeof t!="function")throw sa.create("invalid-log-argument");vU(t,e)}function gw(t){gU(t)}var lZ="firebase-heartbeat-database",uZ=1,vm="firebase-heartbeat-store",rD=null;function MU(){return rD||(rD=IU(lZ,uZ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vm)}catch(n){console.warn(n)}}}}).catch(t=>{throw sa.create("idb-open",{originalErrorMessage:t.message})})),rD}function dZ(t){return C(this,null,function*(){try{let n=(yield MU()).transaction(vm),i=yield n.objectStore(vm).get(PU(t));return yield n.done,i}catch(e){if(e instanceof Hn)Vl.warn(e.message);else{let n=sa.create("idb-get",{originalErrorMessage:e?.message});Vl.warn(n.message)}}})}function TU(t,e){return C(this,null,function*(){try{let i=(yield MU()).transaction(vm,"readwrite");yield i.objectStore(vm).put(e,PU(t)),yield i.done}catch(n){if(n instanceof Hn)Vl.warn(n.message);else{let i=sa.create("idb-set",{originalErrorMessage:n?.message});Vl.warn(i.message)}}})}function PU(t){return`${t.name}!${t.options.appId}`}var hZ=1024,fZ=30*24*60*60*1e3,cD=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new lD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return C(this,null,function*(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=DU();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{let l=new Date(a.date).valueOf();return Date.now()-l<=fZ}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return C(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=DU(),{heartbeatsToSend:i,unsentEntries:r}=pZ(this._heartbeatsCache.heartbeats),o=fm(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function DU(){return new Date().toISOString().substring(0,10)}function pZ(t,e=hZ){let n=[],i=t.slice();for(let r of t){let o=n.find(a=>a.agent===r.agent);if(o){if(o.dates.push(r.date),xU(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),xU(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var lD=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return hc()?fU().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield dZ(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return TU(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return TU(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function xU(t){return fm(JSON.stringify({version:2,heartbeats:t})).length}function mZ(t){Io(new Ri("platform-logger",e=>new oD(e),"PRIVATE")),Io(new Ri("heartbeat",e=>new cD(e),"PRIVATE")),un(sD,SU,t),un(sD,SU,"esm2017"),un("fire-js","")}mZ("");var gZ="firebase",vZ="10.8.1";un(gZ,vZ,"app");var $l=new Xs("ANGULARFIRE2_VERSION");function yw(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(a=>a.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var wm=(t,e)=>{let n=e?[e]:_m(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(a=>{i.includes(a)||i.push(a)})}),i},hh=class{constructor(){return wm(yZ)}},yZ="app-check";function dh(){}var vw=class{zone;delegate;constructor(e,n=_S){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(a){r.runGuarded(()=>{e.apply(this,[a])})};return this.delegate.schedule(o,n,i)}},hD=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",dh,{},dh,dh)),n.pipe(Rn({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},fh=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new vw(Zone.current)),this.insideAngular=n.run(()=>new vw(Zone.current,Fd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(oe(Ct))};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _w(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function _Z(t){return _w().ngZone.runOutsideAngular(()=>t())}function Bl(t){return _w().ngZone.run(()=>t())}function wZ(t){return bZ(_w())(t)}function bZ(t){return function(n){return n=n.lift(new hD(t.ngZone)),n.pipe(Wa(t.outsideAngular),qa(t.insideAngular))}}var CZ=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Bl(()=>t.apply(void 0,i))},To=(t,e)=>function(){let n,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(n||=Bl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",dh,{},dh,dh))),i[o]=CZ(i[o],n));let r=_Z(()=>t.apply(this,i));if(!e)if(r instanceof Ue){let o=_w();return r.pipe(Wa(o.outsideAngular),qa(o.insideAngular))}else return Bl(()=>r);return r instanceof Ue?r.pipe(wZ):r instanceof Promise?Bl(()=>new Promise((o,a)=>r.then(l=>Bl(()=>o(l)),l=>Bl(()=>a(l))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:Bl(()=>r)};var aa=class{constructor(e){return e}},Hl=class{constructor(){return _m()}};function EZ(t){return t&&t.length===1?t[0]:new aa(Ul())}var fD=new we("angularfire2._apps"),IZ={provide:aa,useFactory:EZ,deps:[[new Xi,fD]]},SZ={provide:Hl,deps:[[new Xi,fD]]};function TZ(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new aa(i)}}var DZ=(()=>{class t{constructor(n){un("angularfire",$l.full,"core"),un("angularfire",$l.full,"app"),un("angular",xj.full,n.toString())}static \u0275fac=function(i){return new(i||t)(oe(Vr))};static \u0275mod=Qi({type:t});static \u0275inj=Ji({providers:[IZ,SZ]})}return t})();function OU(t,...e){return{ngModule:DZ,providers:[{provide:fD,useFactory:TZ(t),multi:!0,deps:[Ct,Jt,fh,...e]}]}}var kU=To(uh,!0);var yc={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};var da={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function xZ(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function YU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Fw=xZ,GD=YU,QU=new Br("auth","Firebase",YU());var Ew=new cs("@firebase/auth");function AZ(t,...e){Ew.logLevel<=lt.WARN&&Ew.warn(`Auth (${So}): ${t}`,...e)}function bw(t,...e){Ew.logLevel<=lt.ERROR&&Ew.error(`Auth (${So}): ${t}`,...e)}function Nn(t,...e){throw zD(t,...e)}function di(t,...e){return zD(t,...e)}function JU(t,e,n){let i=Object.assign(Object.assign({},GD()),{[e]:n});return new Br("auth","Firebase",i).create(e,{appName:t.name})}function _h(t,e,n){let i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Nn(t,"argument-error"),JU(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zD(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return QU.create(t,...e)}function Q(t,e,...n){if(!t)throw zD(e,...n)}function ds(t){let e="INTERNAL ASSERTION FAILED: "+t;throw bw(e),new Error(e)}function $r(t,e){t||ds(e)}function Im(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qD(){return RU()==="http:"||RU()==="https:"}function RU(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function MZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qD()||lw()||"connection"in navigator)?navigator.onLine:!0}function PZ(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Gl=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,$r(n>e,"Short delay should be less than long delay!"),this.isMobile=uU()||mm()}get(){return MZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function WD(t,e){$r(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Sm=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var OZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var kZ=new Gl(3e4,6e4);function bn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Cn(o,a,l,d){return C(this,arguments,function*(t,e,n,i,r={}){return XU(t,r,()=>C(this,null,function*(){let h={},m={};i&&(e==="GET"?m=i:h={body:JSON.stringify(i)});let v=Fl(Object.assign({key:t.config.apiKey},m)).slice(1),y=yield t._getAdditionalHeaders();return y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode),Sm.fetch()(ZU(t,t.config.apiHost,n,v),Object.assign({method:e,headers:y,referrerPolicy:"no-referrer"},h))}))})}function XU(t,e,n){return C(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},OZ),e);try{let r=new yD(t),o=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let a=yield o.json();if("needConfirmation"in a)throw bm(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{let l=o.ok?a.errorMessage:a.error.message,[d,h]=l.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw bm(t,"credential-already-in-use",a);if(d==="EMAIL_EXISTS")throw bm(t,"email-already-in-use",a);if(d==="USER_DISABLED")throw bm(t,"user-disabled",a);let m=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw JU(t,m,h);Nn(t,m)}}catch(r){if(r instanceof Hn)throw r;Nn(t,"network-request-failed",{message:String(r)})}})}function ha(o,a,l,d){return C(this,arguments,function*(t,e,n,i,r={}){let h=yield Cn(t,e,n,i,r);return"mfaPendingCredential"in h&&Nn(t,"multi-factor-auth-required",{_serverResponse:h}),h})}function ZU(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?WD(t.config,r):`${t.config.apiScheme}://${r}`}function RZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var yD=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(di(this.auth,"network-request-failed")),kZ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function bm(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=di(t,e,i);return r.customData._tokenResponse=n,r}function NU(t){return t!==void 0&&t.getResponse!==void 0}function FU(t){return t!==void 0&&t.enterprise!==void 0}var _D=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return RZ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function NZ(t){return C(this,null,function*(){return(yield Cn(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})}function FZ(t,e){return C(this,null,function*(){return Cn(t,"GET","/v2/recaptchaConfig",bn(t,e))})}function LZ(t,e){return C(this,null,function*(){return Cn(t,"POST","/v1/accounts:delete",e)})}function VZ(t,e){return C(this,null,function*(){return Cn(t,"POST","/v1/accounts:update",e)})}function jZ(t,e){return C(this,null,function*(){return Cn(t,"POST","/v1/accounts:lookup",e)})}function Cm(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Lw(t,e=!1){return C(this,null,function*(){let n=Qe(t),i=yield n.getIdToken(e),r=Vw(i);Q(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,a=o?.sign_in_provider;return{claims:r,token:i,authTime:Cm(pD(r.auth_time)),issuedAtTime:Cm(pD(r.iat)),expirationTime:Cm(pD(r.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function pD(t){return Number(t)*1e3}function Vw(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return bw("JWT malformed, contained fewer than 3 sections"),null;try{let r=q1(n);return r?JSON.parse(r):(bw("Failed to decode base64 JWT payload"),null)}catch(r){return bw("Caught error parsing JWT payload as JSON",r?.toString()),null}}function UZ(t){let e=Vw(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function la(t,e,n=!1){return C(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof Hn&&BZ(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function BZ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var wD=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),n)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Iw=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cm(this.lastLoginAt),this.creationTime=Cm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Tm(t){return C(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield la(t,jZ(n,{idToken:i}));Q(r?.users.length,n,"internal-error");let o=r.users[0];t._notifyReloadListener(o);let a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?HZ(o.providerUserInfo):[],l=$Z(t.providerData,a),d=t.isAnonymous,h=!(t.email&&o.passwordHash)&&!l?.length,m=d?h:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Iw(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,v)})}function jw(t){return C(this,null,function*(){let e=Qe(t);yield Tm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function $Z(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function HZ(t){return t.map(e=>{var{providerId:n}=e,i=O_(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function GZ(t,e){return C(this,null,function*(){let n=yield XU(t,{},()=>C(this,null,function*(){let i=Fl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,a=ZU(t,r,"/v1/token",`key=${o}`),l=yield t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Sm.fetch()(a,{method:"POST",headers:l,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function zZ(t,e){return C(this,null,function*(){return Cn(t,"POST","/v2/accounts:revokeToken",bn(t,e))})}var Sw=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UZ(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return C(this,null,function*(){return Q(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return C(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield GZ(e,n);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:o}=n,a=new t;return i&&(Q(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(Q(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),o&&(Q(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ds("not implemented")}};function mc(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ph=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=O_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Iw(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let n=yield la(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Lw(this,e)}reload(){return jw(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return C(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Tm(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){let e=yield this.getIdToken();return yield la(this,LZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,a,l,d,h,m;let v=(i=n.displayName)!==null&&i!==void 0?i:void 0,y=(r=n.email)!==null&&r!==void 0?r:void 0,b=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(a=n.photoURL)!==null&&a!==void 0?a:void 0,S=(l=n.tenantId)!==null&&l!==void 0?l:void 0,T=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,O=(h=n.createdAt)!==null&&h!==void 0?h:void 0,V=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:$,emailVerified:x,isAnonymous:ee,providerData:U,stsTokenManager:re}=n;Q($&&re,e,"internal-error");let Ee=Sw.fromJSON(this.name,re);Q(typeof $=="string",e,"internal-error"),mc(v,e.name),mc(y,e.name),Q(typeof x=="boolean",e,"internal-error"),Q(typeof ee=="boolean",e,"internal-error"),mc(b,e.name),mc(w,e.name),mc(S,e.name),mc(T,e.name),mc(O,e.name),mc(V,e.name);let He=new t({uid:$,auth:e,email:y,emailVerified:x,displayName:v,isAnonymous:ee,photoURL:w,phoneNumber:b,tenantId:S,stsTokenManager:Ee,createdAt:O,lastLoginAt:V});return U&&Array.isArray(U)&&(He.providerData=U.map(Xe=>Object.assign({},Xe))),T&&(He._redirectEventId=T),He}static _fromIdTokenResponse(e,n,i=!1){return C(this,null,function*(){let r=new Sw;r.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Tm(o),o})}};var LU=new Map;function Ni(t){$r(t instanceof Function,"Expected a class definition");let e=LU.get(t);return e?($r(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,LU.set(t,e),e)}var qZ=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(n,i){return C(this,null,function*(){this.storage[n]=i})}_get(n){return C(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return C(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),ua=qZ;function hs(t,e,n){return`firebase:${t}:${e}:${n}`}var Tw=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=hs(this.userKey,r.apiKey,o),this.fullPersistenceKey=hs("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ph._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return C(this,null,function*(){if(!n.length)return new t(Ni(ua),e,i);let r=(yield Promise.all(n.map(h=>C(this,null,function*(){if(yield h._isAvailable())return h})))).filter(h=>h),o=r[0]||Ni(ua),a=hs(i,e.config.apiKey,e.name),l=null;for(let h of n)try{let m=yield h._get(a);if(m){let v=ph._fromJSON(e,m);h!==o&&(l=v),o=h;break}}catch{}let d=r.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new t(o,e,i):(o=d[0],l&&(yield o._set(a,l.toJSON())),yield Promise.all(n.map(h=>C(this,null,function*(){if(h!==o)try{yield h._remove(a)}catch{}}))),new t(o,e,i))})}};function VU(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iB(e))return"Blackberry";if(rB(e))return"Webos";if(KD(e))return"Safari";if((e.includes("chrome/")||tB(e))&&!e.includes("edge/"))return"Chrome";if(wh(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function eB(t=qt()){return/firefox\//i.test(t)}function KD(t=qt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tB(t=qt()){return/crios\//i.test(t)}function nB(t=qt()){return/iemobile/i.test(t)}function wh(t=qt()){return/android/i.test(t)}function iB(t=qt()){return/blackberry/i.test(t)}function rB(t=qt()){return/webos/i.test(t)}function Ql(t=qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oB(t=qt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function WZ(t=qt()){var e;return Ql(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KZ(){return uw()&&document.documentMode===10}function sB(t=qt()){return Ql(t)||wh(t)||rB(t)||iB(t)||/windows phone/i.test(t)||nB(t)}function YZ(){try{return!!(window&&window!==window.top)}catch{return!1}}function YD(t,e=[]){let n;switch(t){case"Browser":n=VU(qt());break;case"Worker":n=`${VU(qt())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${i}`}var bD=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=o=>new Promise((a,l)=>{try{let d=e(o);a(d)}catch(d){l(d)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function QZ(n){return C(this,arguments,function*(t,e={}){return Cn(t,"GET","/v2/passwordPolicy",bn(t,e))})}var JZ=6,CD=class{constructor(e){var n,i,r,o;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:JZ,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,a,l;let d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(a=d.containsNumericCharacter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),d}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Dw=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xw(this),this.idTokenSubscription=new xw(this),this.beforeStateQueue=new bD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ni(n)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Tw.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return C(this,null,function*(){var n;let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r?._redirectEventId,d=yield this.tryRedirectSignIn(e);(!a||a===l)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return C(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield Tm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=PZ()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){let n=e?Qe(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return C(this,null,function*(){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(Ni(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield QZ(this),n=new CD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Br("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield zZ(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return C(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ni(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=yield Tw.create(this,[Ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),a=!1,l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(l,this,"internal-error"),l.then(()=>{a||o(this.currentUser)}),typeof n=="function"){let d=e.addObserver(n,i,r);return()=>{a=!0,d()}}else{let d=e.addObserver(n);return()=>{a=!0,d()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return C(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&AZ(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function on(t){return Qe(t)}var xw=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=dw(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Om={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XZ(t){Om=t}function QD(t){return Om.loadJS(t)}function ZZ(){return Om.recaptchaV2Script}function eee(){return Om.recaptchaEnterpriseScript}function tee(){return Om.gapiScript}function aB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var nee="recaptcha-enterprise",iee="NO_RECAPTCHA",ED=class{constructor(e){this.type=nee,this.auth=on(e)}verify(e="verify",n=!1){return C(this,null,function*(){function i(o){return C(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((a,l)=>C(this,null,function*(){FZ(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{let h=new _D(d);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,a(h.siteKey)}}).catch(d=>{l(d)})}))})}function r(o,a,l){let d=window.grecaptcha;FU(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(h=>{a(h)}).catch(()=>{a(iee)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{i(this.auth).then(l=>{if(!n&&FU(window.grecaptcha))r(l,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let d=eee();d.length!==0&&(d+=l),QD(d).then(()=>{r(l,o,a)}).catch(h=>{a(h)})}}).catch(l=>{a(l)})})})}};function jU(t,e,n,i=!1){return C(this,null,function*(){let r=new ED(t),o;try{o=yield r.verify(n)}catch{o=yield r.verify(n,!0)}let a=Object.assign({},e);return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Dm(t,e,n,i){return C(this,null,function*(){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield jU(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(o=>C(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let a=yield jU(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(o)}))})}function Uw(t,e){let n=jl(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),o=n.getOptions();if(Nl(o,e??{}))return r;Nn(r,"already-initialized")}return n.initialize({options:e})}function ree(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Ni);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function bh(t,e,n){let i=on(t);Q(i._canInitEmulator,i,"emulator-config-failed"),Q(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,o=cB(e),{host:a,port:l}=oee(e),d=l===null?"":`:${l}`;i.config.emulator={url:`${o}//${a}${d}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||see()}function cB(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oee(t){let e=cB(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:UU(i.substr(o.length+1))}}else{let[o,a]=i.split(":");return{host:o,port:UU(a)}}}function UU(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function see(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Do=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ds("not implemented")}_getIdTokenResponse(e){return ds("not implemented")}_linkToIdToken(e,n){return ds("not implemented")}_getReauthenticationResolver(e){return ds("not implemented")}};function lB(t,e){return C(this,null,function*(){return Cn(t,"POST","/v1/accounts:resetPassword",bn(t,e))})}function aee(t,e){return C(this,null,function*(){return Cn(t,"POST","/v1/accounts:update",e)})}function cee(t,e){return C(this,null,function*(){return Cn(t,"POST","/v1/accounts:signUp",e)})}function lee(t,e){return C(this,null,function*(){return Cn(t,"POST","/v1/accounts:update",bn(t,e))})}function uee(t,e){return C(this,null,function*(){return ha(t,"POST","/v1/accounts:signInWithPassword",bn(t,e))})}function Bw(t,e){return C(this,null,function*(){return Cn(t,"POST","/v1/accounts:sendOobCode",bn(t,e))})}function dee(t,e){return C(this,null,function*(){return Bw(t,e)})}function hee(t,e){return C(this,null,function*(){return Bw(t,e)})}function fee(t,e){return C(this,null,function*(){return Bw(t,e)})}function pee(t,e){return C(this,null,function*(){return Bw(t,e)})}function mee(t,e){return C(this,null,function*(){return ha(t,"POST","/v1/accounts:signInWithEmailLink",bn(t,e))})}function gee(t,e){return C(this,null,function*(){return ha(t,"POST","/v1/accounts:signInWithEmailLink",bn(t,e))})}var mh=class t extends Do{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new t(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return C(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dm(e,n,"signInWithPassword",uee);case"emailLink":return mee(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}})}_linkToIdToken(e,n){return C(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dm(e,i,"signUpPassword",cee);case"emailLink":return gee(e,{idToken:n,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function ca(t,e){return C(this,null,function*(){return ha(t,"POST","/v1/accounts:signInWithIdp",bn(t,e))})}var vee="http://localhost",Hr=class t extends Do{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=O_(n,["providerId","signInMethod"]);if(!i||!r)return null;let a=new t(i,r);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){let n=this.buildRequest();return ca(e,n)}_linkToIdToken(e,n){let i=this.buildRequest();return i.idToken=n,ca(e,i)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,ca(e,n)}buildRequest(){let e={requestUri:vee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fl(n)}return e}};function yee(t,e){return C(this,null,function*(){return Cn(t,"POST","/v1/accounts:sendVerificationCode",bn(t,e))})}function _ee(t,e){return C(this,null,function*(){return ha(t,"POST","/v1/accounts:signInWithPhoneNumber",bn(t,e))})}function wee(t,e){return C(this,null,function*(){let n=yield ha(t,"POST","/v1/accounts:signInWithPhoneNumber",bn(t,e));if(n.temporaryProof)throw bm(t,"account-exists-with-different-credential",n);return n})}var bee={USER_NOT_FOUND:"user-not-found"};function Cee(t,e){return C(this,null,function*(){let n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return ha(t,"POST","/v1/accounts:signInWithPhoneNumber",bn(t,n),bee)})}var zl=class t extends Do{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new t({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new t({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return _ee(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return wee(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Cee(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:n,verificationId:i,verificationCode:r}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:i,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));let{verificationId:n,verificationCode:i,phoneNumber:r,temporaryProof:o}=e;return!i&&!n&&!r&&!o?null:new t({verificationId:n,verificationCode:i,phoneNumber:r,temporaryProof:o})}};function Eee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Iee(t){let e=fc(lh(t)).link,n=e?fc(lh(e)).deep_link_id:null,i=fc(lh(t)).deep_link_id;return(i?fc(lh(i)).link:null)||i||n||e||t}var gh=class t{constructor(e){var n,i,r,o,a,l;let d=fc(lh(e)),h=(n=d.apiKey)!==null&&n!==void 0?n:null,m=(i=d.oobCode)!==null&&i!==void 0?i:null,v=Eee((r=d.mode)!==null&&r!==void 0?r:null);Q(h&&m&&v,"argument-error"),this.apiKey=h,this.operation=v,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=d.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=d.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){let n=Iee(e);try{return new t(n)}catch{return null}}};var Ch=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,i){return mh._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){let r=gh.parseLink(i);return Q(r,"argument-error"),mh._fromEmailAndCode(n,r.code,r.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),xo=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var vc=class extends xo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},ql=class t extends vc{static credentialFromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;return Q("providerId"in n&&"signInMethod"in n,"argument-error"),Hr._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Q(e.idToken||e.accessToken,"argument-error"),Hr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return t.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return t.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:o,nonce:a,providerId:l}=e;if(!i&&!r&&!n&&!o||!l)return null;try{return new t(l)._credential({idToken:n,accessToken:i,nonce:a,pendingToken:o})}catch{return null}}};var km=(()=>{class t extends vc{constructor(){super("facebook.com")}static credential(n){return Hr._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch{return null}}}t.FACEBOOK_SIGN_IN_METHOD="facebook.com",t.PROVIDER_ID="facebook.com";return t})(),Jl=(()=>{class t extends vc{constructor(){super("google.com"),this.addScope("profile")}static credential(n,i){return Hr._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:i})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:i,oauthAccessToken:r}=n;if(!i&&!r)return null;try{return t.credential(i,r)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})(),Rm=(()=>{class t extends vc{constructor(){super("github.com")}static credential(n){return Hr._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch{return null}}}t.GITHUB_SIGN_IN_METHOD="github.com",t.PROVIDER_ID="github.com";return t})(),See="http://localhost",Wl=class t extends Do{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){let n=this.buildRequest();return ca(e,n)}_linkToIdToken(e,n){let i=this.buildRequest();return i.idToken=n,ca(e,i)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,ca(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,pendingToken:o}=n;return!i||!r||!o||i!==r?null:new t(i,o)}static _create(e,n){return new t(e,n)}buildRequest(){return{requestUri:See,returnSecureToken:!0,pendingToken:this.pendingToken}}};var Tee="saml.",vh=class t extends xo{constructor(e){Q(e.startsWith(Tee),"argument-error"),super(e)}static credentialFromResult(e){return t.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return t.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){let n=Wl.fromJSON(e);return Q(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{pendingToken:n,providerId:i}=e;if(!n||!i)return null;try{return Wl._create(i,n)}catch{return null}}};var Nm=(()=>{class t extends vc{constructor(){super("twitter.com")}static credential(n,i){return Hr._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:n,oauthTokenSecret:i})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthAccessToken:i,oauthTokenSecret:r}=n;if(!i||!r)return null;try{return t.credential(i,r)}catch{return null}}}t.TWITTER_SIGN_IN_METHOD="twitter.com",t.PROVIDER_ID="twitter.com";return t})();function uB(t,e){return C(this,null,function*(){return ha(t,"POST","/v1/accounts:signUp",bn(t,e))})}var Ao=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return C(this,null,function*(){let o=yield ph._fromIdTokenResponse(e,i,r),a=BU(i);return new t({user:o,providerId:a,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return C(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=BU(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function BU(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}function Fm(t){return C(this,null,function*(){var e;let n=on(t);if(yield n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ao({user:n.currentUser,providerId:null,operationType:"signIn"});let i=yield uB(n,{returnSecureToken:!0}),r=yield Ao._fromIdTokenResponse(n,"signIn",i,!0);return yield n._updateCurrentUser(r.user),r})}var ID=class t extends Hn{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function dB(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ID._fromErrorAndOperation(t,o,e,i):o})}function hB(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}function Lm(t,e){return C(this,null,function*(){let n=Qe(t);yield $w(!0,n,e);let{providerUserInfo:i}=yield VZ(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[e]}),r=hB(i||[]);return n.providerData=n.providerData.filter(o=>r.has(o.providerId)),r.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})}function JD(t,e,n=!1){return C(this,null,function*(){let i=yield la(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ao._forOperation(t,"link",i)})}function $w(t,e,n){return C(this,null,function*(){yield Tm(e);let i=hB(e.providerData),r=t===!1?"provider-already-linked":"no-such-provider";Q(i.has(n)===t,e.auth,r)})}function fB(t,e,n=!1){return C(this,null,function*(){let{auth:i}=t,r="reauthenticate";try{let o=yield la(t,dB(i,r,e,t),n);Q(o.idToken,i,"internal-error");let a=Vw(o.idToken);Q(a,i,"internal-error");let{sub:l}=a;return Q(t.uid===l,i,"user-mismatch"),Ao._forOperation(t,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Nn(i,"user-mismatch"),o}})}function pB(t,e,n=!1){return C(this,null,function*(){let i="signIn",r=yield dB(t,i,e),o=yield Ao._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(o.user)),o})}function _c(t,e){return C(this,null,function*(){return pB(on(t),e)})}function Eh(t,e){return C(this,null,function*(){let n=Qe(t);return yield $w(!1,n,e.providerId),JD(n,e)})}function Ih(t,e){return C(this,null,function*(){return fB(Qe(t),e)})}function Dee(t,e){return C(this,null,function*(){return ha(t,"POST","/v1/accounts:signInWithCustomToken",bn(t,e))})}function Vm(t,e){return C(this,null,function*(){let n=on(t),i=yield Dee(n,{token:e,returnSecureToken:!0}),r=yield Ao._fromIdTokenResponse(n,"signIn",i);return yield n._updateCurrentUser(r.user),r})}var Kl=class{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?SD._fromServerResponse(e,n):"totpInfo"in n?TD._fromServerResponse(e,n):Nn(e,"internal-error")}},SD=class t extends Kl{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new t(n)}},TD=class t extends Kl{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new t(n)}};function Hw(t,e,n){var i;Q(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),Q(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Q(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Q(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function XD(t){return C(this,null,function*(){let e=on(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function jm(t,e,n){return C(this,null,function*(){let i=on(t),r={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Hw(i,r,n),yield Dm(i,r,"getOobCode",hee)})}function Um(t,e,n){return C(this,null,function*(){yield lB(Qe(t),{oobCode:e,newPassword:n}).catch(i=>C(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&XD(t),i}))})}function Bm(t,e){return C(this,null,function*(){yield lee(Qe(t),{oobCode:e})})}function Sh(t,e){return C(this,null,function*(){let n=Qe(t),i=yield lB(n,{oobCode:e}),r=i.requestType;switch(Q(r,n,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(i.mfaInfo,n,"internal-error");default:Q(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=Kl._fromServerResponse(on(n),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:o},operation:r}})}function $m(t,e){return C(this,null,function*(){let{data:n}=yield Sh(Qe(t),e);return n.email})}function Hm(t,e,n){return C(this,null,function*(){let i=on(t),a=yield Dm(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uB).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&XD(t),d}),l=yield Ao._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(l.user),l})}function Gm(t,e,n){return _c(Qe(t),Ch.credential(e,n)).catch(i=>C(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&XD(t),i}))}function zm(t,e,n){return C(this,null,function*(){let i=on(t),r={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(a,l){Q(l.handleCodeInApp,i,"argument-error"),l&&Hw(i,a,l)}o(r,n),yield Dm(i,r,"getOobCode",fee)})}function qm(t,e){let n=gh.parseLink(e);return n?.operation==="EMAIL_SIGNIN"}function Wm(t,e,n){return C(this,null,function*(){let i=Qe(t),r=Ch.credentialWithLink(e,n||Im());return Q(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),_c(i,r)})}function xee(t,e){return C(this,null,function*(){return Cn(t,"POST","/v1/accounts:createAuthUri",bn(t,e))})}function Km(t,e){return C(this,null,function*(){let n=qD()?Im():"http://localhost",i={identifier:e,continueUri:n},{signinMethods:r}=yield xee(Qe(t),i);return r||[]})}function Ym(t,e){return C(this,null,function*(){let n=Qe(t),r={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&Hw(n.auth,r,e);let{email:o}=yield dee(n.auth,r);o!==t.email&&(yield t.reload())})}function Qm(t,e,n){return C(this,null,function*(){let i=Qe(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield t.getIdToken(),newEmail:e};n&&Hw(i.auth,o,n);let{email:a}=yield pee(i.auth,o);a!==t.email&&(yield t.reload())})}function Aee(t,e){return C(this,null,function*(){return Cn(t,"POST","/v1/accounts:update",e)})}function Jm(i,r){return C(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let o=Qe(t),l={idToken:yield o.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=yield la(o,Aee(o.auth,l));o.displayName=d.displayName||null,o.photoURL=d.photoUrl||null;let h=o.providerData.find(({providerId:m})=>m==="password");h&&(h.displayName=o.displayName,h.photoURL=o.photoURL),yield o._updateTokensIfNecessary(d)})}function Xm(t,e){return mB(Qe(t),e,null)}function Zm(t,e){return mB(Qe(t),null,e)}function mB(t,e,n){return C(this,null,function*(){let{auth:i}=t,o={idToken:yield t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);let a=yield la(t,aee(i,o));yield t._updateTokensIfNecessary(a,!0)})}function Mee(t){var e,n;if(!t)return null;let{providerId:i}=t,r=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&t?.idToken){let a=(n=(e=Vw(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(a){let l=a!=="anonymous"&&a!=="custom"?a:null;return new gc(o,l)}}if(!i)return null;switch(i){case"facebook.com":return new DD(o,r);case"github.com":return new xD(o,r);case"google.com":return new AD(o,r);case"twitter.com":return new MD(o,r,t.screenName||null);case"custom":case"anonymous":return new gc(o,null);default:return new gc(o,i,r)}}var gc=class{constructor(e,n,i={}){this.isNewUser=e,this.providerId=n,this.profile=i}},Aw=class extends gc{constructor(e,n,i,r){super(e,n,i),this.username=r}},DD=class extends gc{constructor(e,n){super(e,"facebook.com",n)}},xD=class extends Aw{constructor(e,n){super(e,"github.com",n,typeof n?.login=="string"?n?.login:null)}},AD=class extends gc{constructor(e,n){super(e,"google.com",n)}},MD=class extends Aw{constructor(e,n,i){super(e,"twitter.com",n,i)}};function eg(t){let{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Mee(n)}function Gw(t,e,n,i){return Qe(t).onIdTokenChanged(e,n,i)}function zw(t,e,n){return Qe(t).beforeAuthStateChanged(e,n)}var Mw=class t{constructor(e,n,i){this.type=e,this.credential=n,this.user=i}static _fromIdtoken(e,n){return new t("enroll",e,n)}static _fromMfaPendingCredential(e){return new t("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,i;if(e?.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return t._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((i=e.multiFactorSession)===null||i===void 0)&&i.idToken)return t._fromIdtoken(e.multiFactorSession.idToken)}return null}};var PD=class t{constructor(e,n,i){this.session=e,this.hints=n,this.signInResolver=i}static _fromError(e,n){let i=on(e),r=n.customData._serverResponse,o=(r.mfaInfo||[]).map(l=>Kl._fromServerResponse(i,l));Q(r.mfaPendingCredential,i,"internal-error");let a=Mw._fromMfaPendingCredential(r.mfaPendingCredential);return new t(a,o,l=>C(this,null,function*(){let d=yield l._process(i,a);delete r.mfaInfo,delete r.mfaPendingCredential;let h=Object.assign(Object.assign({},r),{idToken:d.idToken,refreshToken:d.refreshToken});switch(n.operationType){case"signIn":let m=yield Ao._fromIdTokenResponse(i,n.operationType,h);return yield i._updateCurrentUser(m.user),m;case"reauthenticate":return Q(n.user,i,"internal-error"),Ao._forOperation(n.user,n.operationType,h);default:Nn(i,"internal-error")}}))}resolveSignIn(e){return C(this,null,function*(){let n=e;return this.signInResolver(n)})}};function tg(t,e){var n;let i=Qe(t),r=e;return Q(e.customData.operationType,i,"argument-error"),Q((n=r.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,i,"argument-error"),PD._fromError(i,r)}function Pee(t,e){return Cn(t,"POST","/v2/accounts/mfaEnrollment:start",bn(t,e))}function Oee(t,e){return Cn(t,"POST","/v2/accounts/mfaEnrollment:finalize",bn(t,e))}function kee(t,e){return Cn(t,"POST","/v2/accounts/mfaEnrollment:withdraw",bn(t,e))}var OD=class t{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(i=>Kl._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new t(e)}getSession(){return C(this,null,function*(){return Mw._fromIdtoken(yield this.user.getIdToken(),this.user)})}enroll(e,n){return C(this,null,function*(){let i=e,r=yield this.getSession(),o=yield la(this.user,i._process(this.user.auth,r,n));return yield this.user._updateTokensIfNecessary(o),this.user.reload()})}unenroll(e){return C(this,null,function*(){let n=typeof e=="string"?e:e.uid,i=yield this.user.getIdToken();try{let r=yield la(this.user,kee(this.user.auth,{idToken:i,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),yield this.user._updateTokensIfNecessary(r),yield this.user.reload()}catch(r){throw r}})}},mD=new WeakMap;function ng(t){let e=Qe(t);return mD.has(e)||mD.set(e,OD._fromUser(e)),mD.get(e)}var Pw="__sak";var Ow=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pw,"1"),this.storage.removeItem(Pw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function Ree(){let t=qt();return KD(t)||Ql(t)}var Nee=1e3,Fee=10,Lee=(()=>{class t extends Ow{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Ree()&&YZ(),this.fallbackToPolling=sB(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&n(i,o,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((l,d,h)=>{this.notifyListeners(l,h)});return}let r=n.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let l=this.storage.getItem(r);if(n.newValue!==l)n.newValue!==null?this.storage.setItem(r,n.newValue):this.storage.removeItem(r);else if(this.localCache[r]===n.newValue&&!i)return}let o=()=>{let l=this.storage.getItem(r);!i&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);KZ()&&a!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,Fee):o()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},Nee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return C(this,null,function*(){yield Ha(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return C(this,null,function*(){let i=yield Ha(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return C(this,null,function*(){yield Ha(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),fs=Lee;var Vee=(()=>{class t extends Ow{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),Gr=Vee;function jee(t){return Promise.all(t.map(e=>C(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Uee=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(o=>o.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return C(this,null,function*(){let i=n,{eventId:r,eventType:o,data:a}=i.data,l=this.handlersMap[o];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let d=Array.from(l).map(m=>C(this,null,function*(){return m(i.origin,a)})),h=yield jee(d);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:h})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Xl(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var kD=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return C(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,a;return new Promise((l,d)=>{let h=Xl("",20);r.port1.start();let m=setTimeout(()=>{d(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(v){let y=v;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(y.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})})}};function Gn(){return window}function Bee(t){Gn().location.href=t}function ZD(){return typeof Gn().WorkerGlobalScope<"u"&&typeof Gn().importScripts=="function"}function $ee(){return C(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Hee(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Gee(){return ZD()?self:null}var gB="firebaseLocalStorageDb",zee=1,kw="firebaseLocalStorage",vB="fbase_key",Yl=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function qw(t,e){return t.transaction([kw],e?"readwrite":"readonly").objectStore(kw)}function qee(){let t=indexedDB.deleteDatabase(gB);return new Yl(t).toPromise()}function RD(){let t=indexedDB.open(gB,zee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(kw,{keyPath:vB})}catch(r){n(r)}}),t.addEventListener("success",()=>C(this,null,function*(){let i=t.result;i.objectStoreNames.contains(kw)?e(i):(i.close(),yield qee(),e(yield RD()))}))})}function $U(t,e,n){return C(this,null,function*(){let i=qw(t,!0).put({[vB]:e,value:n});return new Yl(i).toPromise()})}function Wee(t,e){return C(this,null,function*(){let n=qw(t,!1).get(e),i=yield new Yl(n).toPromise();return i===void 0?null:i.value})}function HU(t,e){let n=qw(t,!0).delete(e);return new Yl(n).toPromise()}var Kee=800,Yee=3,Qee=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return C(this,null,function*(){return this.db?this.db:(this.db=yield RD(),this.db)})}_withRetries(n){return C(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>Yee)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return C(this,null,function*(){return ZD()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return C(this,null,function*(){this.receiver=Uee._getInstance(Gee()),this.receiver._subscribe("keyChanged",(n,i)=>C(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>C(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return C(this,null,function*(){var n,i;if(this.activeServiceWorker=yield $ee(),!this.activeServiceWorker)return;this.sender=new kD(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return C(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Hee()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return C(this,null,function*(){try{if(!indexedDB)return!1;let n=yield RD();return yield $U(n,Pw,"1"),yield HU(n,Pw),!0}catch{}return!1})}_withPendingWrite(n){return C(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(r=>$U(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return C(this,null,function*(){let i=yield this._withRetries(r=>Wee(r,n));return this.localCache[n]=i,i})}_remove(n){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(i=>HU(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return C(this,null,function*(){let n=yield this._withRetries(o=>{let a=qw(o,!1).getAll();return new Yl(a).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:o,value:a}of n)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>C(this,null,function*(){return this._poll()}),Kee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),fa=Qee;function Jee(t,e){return Cn(t,"POST","/v2/accounts/mfaSignIn:start",bn(t,e))}function Xee(t,e){return Cn(t,"POST","/v2/accounts/mfaSignIn:finalize",bn(t,e))}var Zee=500,ete=6e4,ww=1e12,ND=class{constructor(e){this.auth=e,this.counter=ww,this._widgets=new Map}render(e,n){let i=this.counter;return this._widgets.set(i,new FD(e,this.auth.name,n||{})),this.counter++,i}reset(e){var n;let i=e||ww;(n=this._widgets.get(i))===null||n===void 0||n.delete(),this._widgets.delete(i)}getResponse(e){var n;let i=e||ww;return((n=this._widgets.get(i))===null||n===void 0?void 0:n.getResponse())||""}execute(e){return C(this,null,function*(){var n;let i=e||ww;return(n=this._widgets.get(i))===null||n===void 0||n.execute(),""})}},FD=class{constructor(e,n,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let r=typeof e=="string"?document.getElementById(e):e;Q(r,"argument-error",{appName:n}),this.container=r,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=tte(50);let{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},ete)},Zee))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}};function tte(t){let e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<t;i++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}var gD=aB("rcb"),nte=new Gl(3e4,6e4),LD=class{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Gn().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return Q(ite(n),e,"argument-error"),this.shouldResolveImmediately(n)&&NU(Gn().grecaptcha)?Promise.resolve(Gn().grecaptcha):new Promise((i,r)=>{let o=Gn().setTimeout(()=>{r(di(e,"network-request-failed"))},nte.get());Gn()[gD]=()=>{Gn().clearTimeout(o),delete Gn()[gD];let l=Gn().grecaptcha;if(!l||!NU(l)){r(di(e,"internal-error"));return}let d=l.render;l.render=(h,m)=>{let v=d(h,m);return this.counter++,v},this.hostLanguage=n,i(l)};let a=`${ZZ()}?${Fl({onload:gD,render:"explicit",hl:n})}`;QD(a).catch(()=>{clearTimeout(o),r(di(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Gn().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}};function ite(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}var VD=class{load(e){return C(this,null,function*(){return new ND(e)})}clearedOneInstance(){}};var yB="recaptcha",rte={theme:"light",type:"image"},yh=class{constructor(e,n,i=Object.assign({},rte)){this.parameters=i,this.type=yB,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=on(e),this.isInvisible=this.parameters.size==="invisible",Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");let r=typeof n=="string"?document.getElementById(n):n;Q(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new VD:new LD,this.validateStartingState()}verify(){return C(this,null,function*(){this.assertNotDestroyed();let e=yield this.render(),n=this.getAssertedRecaptcha(),i=n.getResponse(e);return i||new Promise(r=>{let o=a=>{a&&(this.tokenChangeListeners.delete(o),r(a))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(i=>i(n)),typeof e=="function")e(n);else if(typeof e=="string"){let i=Gn()[e];typeof i=="function"&&i(n)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){return C(this,null,function*(){if(yield this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){let n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId})}init(){return C(this,null,function*(){Q(qD()&&!ZD(),this.auth,"internal-error"),yield ote(),this.recaptcha=yield this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let e=yield NZ(this.auth);Q(e,this.auth,"internal-error"),this.parameters.sitekey=e})}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function ote(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}var xm=class{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){let n=zl._fromVerification(this.verificationId,e);return this.onConfirmation(n)}};function ig(t,e,n){return C(this,null,function*(){let i=on(t),r=yield Ww(i,e,Qe(n));return new xm(r,o=>_c(i,o))})}function rg(t,e,n){return C(this,null,function*(){let i=Qe(t);yield $w(!1,i,"phone");let r=yield Ww(i.auth,e,Qe(n));return new xm(r,o=>Eh(i,o))})}function og(t,e,n){return C(this,null,function*(){let i=Qe(t),r=yield Ww(i.auth,e,Qe(n));return new xm(r,o=>Ih(i,o))})}function Ww(t,e,n){return C(this,null,function*(){var i;let r=yield n.verify();try{Q(typeof r=="string",t,"argument-error"),Q(n.type===yB,t,"argument-error");let o;if(typeof e=="string"?o={phoneNumber:e}:o=e,"session"in o){let a=o.session;if("phoneNumber"in o)return Q(a.type==="enroll",t,"internal-error"),(yield Pee(t,{idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{Q(a.type==="signin",t,"internal-error");let l=((i=o.multiFactorHint)===null||i===void 0?void 0:i.uid)||o.multiFactorUid;return Q(l,t,"missing-multi-factor-info"),(yield Jee(t,{mfaPendingCredential:a.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}else{let{sessionInfo:a}=yield yee(t,{phoneNumber:o.phoneNumber,recaptchaToken:r});return a}}finally{n._reset()}})}function sg(t,e){return C(this,null,function*(){yield JD(Qe(t),e)})}var wc=(()=>{class t{constructor(n){this.providerId=t.PROVIDER_ID,this.auth=on(n)}verifyPhoneNumber(n,i){return Ww(this.auth,n,Qe(i))}static credential(n,i){return zl._fromVerification(n,i)}static credentialFromResult(n){let i=n;return t.credentialFromTaggedObject(i)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{phoneNumber:i,temporaryProof:r}=n;return i&&r?zl._fromTokenResponse(i,r):null}}t.PROVIDER_ID="phone",t.PHONE_SIGN_IN_METHOD="phone";return t})();function Zl(t,e){return e?Ni(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Am=class extends Do{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ca(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ca(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ca(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function ste(t){return pB(t.auth,new Am(t),t.bypassAuthState)}function ate(t){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),fB(n,new Am(t),t.bypassAuthState)}function cte(t){return C(this,null,function*(){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),JD(n,new Am(t),t.bypassAuthState)})}var Rw=class{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>C(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return C(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:a,type:l}=e;if(a){this.reject(a);return}let d={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(l)(d))}catch(h){this.reject(h)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ste;case"linkViaPopup":case"linkViaRedirect":return cte;case"reauthViaPopup":case"reauthViaRedirect":return ate;default:Nn(this.auth,"internal-error")}}resolve(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var lte=new Gl(2e3,1e4);function ag(t,e,n){return C(this,null,function*(){let i=on(t);_h(t,e,xo);let r=Zl(i,n);return new ex(i,"signInViaPopup",e,r).executeNotNull()})}function cg(t,e,n){return C(this,null,function*(){let i=Qe(t);_h(i.auth,e,xo);let r=Zl(i.auth,n);return new ex(i.auth,"reauthViaPopup",e,r,i).executeNotNull()})}function lg(t,e,n){return C(this,null,function*(){let i=Qe(t);_h(i.auth,e,xo);let r=Zl(i.auth,n);return new ex(i.auth,"linkViaPopup",e,r,i).executeNotNull()})}var ex=(()=>{class t extends Rw{constructor(n,i,r,o,a){super(n,i,o,a),this.provider=r,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return C(this,null,function*(){let n=yield this.execute();return Q(n,this.auth,"internal-error"),n})}onExecution(){return C(this,null,function*(){$r(this.filter.length===1,"Popup operations only handle one event");let n=Xl();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,lte.get())};n()}}t.currentPopupAction=null;return t})(),ute="pendingRedirect",Em=new Map,jD=class t extends Rw{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return C(this,null,function*(){let e=Em.get(this.auth._key());if(!e){try{let i=(yield dte(this.resolver,this.auth))?yield Ha(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Em.set(this.auth._key(),e)}return this.bypassAuthState||Em.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return C(this,null,function*(){if(e.type==="signInViaRedirect")return Ha(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Ha(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return C(this,null,function*(){})}cleanUp(){}};function dte(t,e){return C(this,null,function*(){let n=bB(e),i=wB(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function tx(t,e){return C(this,null,function*(){return wB(t)._set(bB(e),"true")})}function _B(){Em.clear()}function Th(t,e){Em.set(t._key(),e)}function wB(t){return Ni(t._redirectPersistence)}function bB(t){return hs(ute,t.config.apiKey,t.name)}function ug(t,e,n){return hte(t,e,n)}function hte(t,e,n){return C(this,null,function*(){let i=on(t);_h(t,e,xo),yield i._initializationPromise;let r=Zl(i,n);return yield tx(r,i),r._openRedirect(i,e,"signInViaRedirect")})}function dg(t,e,n){return fte(t,e,n)}function fte(t,e,n){return C(this,null,function*(){let i=Qe(t);_h(i.auth,e,xo),yield i.auth._initializationPromise;let r=Zl(i.auth,n);yield tx(r,i.auth);let o=yield CB(i);return r._openRedirect(i.auth,e,"reauthViaRedirect",o)})}function hg(t,e,n){return pte(t,e,n)}function pte(t,e,n){return C(this,null,function*(){let i=Qe(t);_h(i.auth,e,xo),yield i.auth._initializationPromise;let r=Zl(i.auth,n);yield $w(!1,i,e.providerId),yield tx(r,i.auth);let o=yield CB(i);return r._openRedirect(i.auth,e,"linkViaRedirect",o)})}function fg(t,e){return C(this,null,function*(){return yield on(t)._initializationPromise,eu(t,e,!1)})}function eu(t,e,n=!1){return C(this,null,function*(){let i=on(t),r=Zl(i,e),a=yield new jD(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,yield i._persistUserIfCurrent(a.user),yield i._setRedirectUser(null,e)),a})}function CB(t){return C(this,null,function*(){let e=Xl(`${t.uid}:::`);return t._redirectEventId=e,yield t.auth._setRedirectUser(t),yield t.auth._persistUserIfCurrent(t),e})}var mte=10*60*1e3,Mm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gte(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!EB(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(di(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mte&&this.cachedEventUids.clear(),this.cachedEventUids.has(GU(e))}saveEventToCache(e){this.cachedEventUids.add(GU(e)),this.lastProcessedEventTime=Date.now()}};function GU(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function EB({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function gte(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EB(t);default:return!1}}function nx(n){return C(this,arguments,function*(t,e={}){return Cn(t,"GET","/v1/projects",e)})}var vte=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yte=/^https?/;function _te(t){return C(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield nx(t);for(let n of e)try{if(wte(n))return}catch{}Nn(t,"unauthorized-domain")})}function wte(t){let e=Im(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!yte.test(n))return!1;if(vte.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var bte=new Gl(3e4,6e4);function zU(){let t=Gn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Cte(t){return new Promise((e,n)=>{var i,r,o;function a(){zU(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zU(),n(di(t,"network-request-failed"))},timeout:bte.get()})}if(!((r=(i=Gn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=Gn().gapi)===null||o===void 0)&&o.load)a();else{let l=aB("iframefcb");return Gn()[l]=()=>{gapi.load?a():n(di(t,"network-request-failed"))},QD(`${tee()}?onload=${l}`).catch(d=>n(d))}}).catch(e=>{throw Cw=null,e})}var Cw=null;function Ete(t){return Cw=Cw||Cte(t),Cw}var Ite=new Gl(5e3,15e3),Ste="__/auth/iframe",Tte="emulator/auth/iframe",Dte={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xte=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ate(t){let e=t.config;Q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?WD(e,Tte):`https://${t.config.authDomain}/${Ste}`,i={apiKey:e.apiKey,appName:t.name,v:So},r=xte.get(t.config.apiHost);r&&(i.eid=r);let o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Fl(i).slice(1)}`}function Mte(t){return C(this,null,function*(){let e=yield Ete(t),n=Gn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:Ate(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dte,dontclear:!0},i=>new Promise((r,o)=>C(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let a=di(t,"network-request-failed"),l=Gn().setTimeout(()=>{o(a)},Ite.get());function d(){Gn().clearTimeout(l),r(i)}i.ping(d).then(d,()=>{o(a)})})))})}var Pte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ote=500,kte=600,Rte="_blank",Nte="http://localhost",Pm=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Fte(t,e,n,i=Ote,r=kte){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString(),l="",d=Object.assign(Object.assign({},Pte),{width:i.toString(),height:r.toString(),top:o,left:a}),h=qt().toLowerCase();n&&(l=tB(h)?Rte:n),eB(h)&&(e=e||Nte,d.scrollbars="yes");let m=Object.entries(d).reduce((y,[b,w])=>`${y}${b}=${w},`,"");if(WZ(h)&&l!=="_self")return Lte(e||"",l),new Pm(null);let v=window.open(e||"",l,m);Q(v,t,"popup-blocked");try{v.focus()}catch{}return new Pm(v)}function Lte(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var Vte="__/auth/handler",jte="emulator/auth/handler",Ute=encodeURIComponent("fac");function Nw(t,e,n,i,r,o){return C(this,null,function*(){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");let a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:So,eventId:r};if(e instanceof xo){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",pU(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[m,v]of Object.entries(o||{}))a[m]=v}if(e instanceof vc){let m=e.getScopes().filter(v=>v!=="");m.length>0&&(a.scopes=m.join(","))}t.tenantId&&(a.tid=t.tenantId);let l=a;for(let m of Object.keys(l))l[m]===void 0&&delete l[m];let d=yield t._getAppCheckToken(),h=d?`#${Ute}=${encodeURIComponent(d)}`:"";return`${Bte(t)}?${Fl(l).slice(1)}${h}`})}function Bte({config:t}){return t.emulator?WD(t,jte):`https://${t.authDomain}/${Vte}`}var vD="webStorageSupport",UD=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gr,this._completeRedirectFn=eu,this._overrideRedirectResult=Th}_openPopup(e,n,i,r){return C(this,null,function*(){var o;$r((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let a=yield Nw(e,n,i,Im(),r);return Fte(e,a,Xl())})}_openRedirect(e,n,i,r){return C(this,null,function*(){yield this._originValidation(e);let o=yield Nw(e,n,i,Im(),r);return Bee(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):($r(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return C(this,null,function*(){let n=yield Mte(e),i=new Mm(e);return n.register("authEvent",r=>(Q(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vD,{type:vD},r=>{var o;let a=(o=r?.[0])===null||o===void 0?void 0:o[vD];a!==void 0&&n(!!a),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_te(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sB()||KD()||Ql()}},pg=UD,BD=class{constructor(e){this.factorId=e}_process(e,n,i){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,i);case"signin":return this._finalizeSignIn(e,n.credential);default:return ds("unexpected MultiFactorSessionType")}}},$D=class t extends BD{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new t(e)}_finalizeEnroll(e,n,i){return Oee(e,{idToken:n,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return Xee(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},Kw=(()=>{class t{constructor(){}static assertion(n){return $D._fromCredential(n)}}return t.FACTOR_ID="phone",t})();var qU="@firebase/auth",WU="1.6.1";var HD=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function $te(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hte(t){Io(new Ri("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;Q(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});let d={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YD(t)},h=new Dw(i,r,o,d);return ree(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Io(new Ri("auth-internal",e=>{let n=on(e.getProvider("auth").getImmediate());return(i=>new HD(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),un(qU,WU,$te(t)),un(qU,WU,"esm2017")}var Gte=5*60,zte=Y1("authIdTokenMaxAge")||Gte,KU=null,qte=t=>e=>C(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>zte)return;let r=n?.token;KU!==r&&(KU=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Yw(t=Ul()){let e=jl(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Uw(t,{popupRedirectResolver:pg,persistence:[fa,fs,Gr]}),i=Y1("authTokenSyncURL");if(i){let o=qte(i);zw(n,o,()=>o(n.currentUser)),Gw(n,a=>o(a))}let r=W1("auth");return r&&bh(n,`http://${r}`),n}function Wte(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}XZ({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let o=di("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",Wte().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hte("Browser");var NB="auth",tu=class{constructor(e){return e}},mg=class{constructor(){return wm(NB)}};var ix=new we("angularfire2.auth-instances");function ene(t,e){let n=yw(NB,t,e);return n&&new tu(n)}function tne(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new tu(i)}}var nne={provide:mg,deps:[[new Xi,ix]]},ine={provide:tu,useFactory:ene,deps:[[new Xi,ix],aa]},rne=(()=>{class t{constructor(){un("angularfire",$l.full,"auth")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Qi({type:t});static \u0275inj=Ji({providers:[ine,nne]})}return t})();function FB(t,...e){return{ngModule:rne,providers:[{provide:ix,useFactory:tne(t),multi:!0,deps:[Ct,Jt,fh,Hl,[new Xi,hh],...e]}]}}var LB=To(Yw,!0);var sne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Po={},ce,Sx=Sx||{},Be=sne||self;function lb(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ag(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function ane(t){return Object.prototype.hasOwnProperty.call(t,rx)&&t[rx]||(t[rx]=++cne)}var rx="closure_uid_"+(1e9*Math.random()>>>0),cne=0;function lne(t,e,n){return t.call.apply(t.bind,arguments)}function une(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Fi(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Fi=lne:Fi=une,Fi.apply(null,arguments)}function Qw(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function fi(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,o){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return e.prototype[r].apply(i,a)}}function bc(){this.s=this.s,this.o=this.o}var dne=0;bc.prototype.s=!1;bc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),dne!=0)&&ane(this)};bc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var QB=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Tx(t){let e=t.length;if(0<e){let n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function VB(t,e){for(let n=1;n<arguments.length;n++){let i=arguments[n];if(lb(i)){let r=t.length||0,o=i.length||0;t.length=r+o;for(let a=0;a<o;a++)t[r+a]=i[a]}else t.push(i)}}function Li(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Li.prototype.h=function(){this.defaultPrevented=!0};var hne=function(){if(!Be.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};Be.addEventListener("test",n,e),Be.removeEventListener("test",n,e)}catch{}return t}();function bg(t){return/^[\s\xa0]*$/.test(t)}function ub(){var t=Be.navigator;return t&&(t=t.userAgent)?t:""}function ps(t){return ub().indexOf(t)!=-1}function Dx(t){return Dx[" "](t),t}Dx[" "]=function(){};function fne(t,e){var n=tie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var pne=ps("Opera"),Mh=ps("Trident")||ps("MSIE"),JB=ps("Edge"),lx=JB||Mh,XB=ps("Gecko")&&!(ub().toLowerCase().indexOf("webkit")!=-1&&!ps("Edge"))&&!(ps("Trident")||ps("MSIE"))&&!ps("Edge"),mne=ub().toLowerCase().indexOf("webkit")!=-1&&!ps("Edge");function ZB(){var t=Be.document;return t?t.documentMode:void 0}var ux;e:{if(Jw="",Xw=function(){var t=ub();if(XB)return/rv:([^\);]+)(\)|;)/.exec(t);if(JB)return/Edge\/([\d\.]+)/.exec(t);if(Mh)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(mne)return/WebKit\/(\S+)/.exec(t);if(pne)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Xw&&(Jw=Xw?Xw[1]:""),Mh&&(Zw=ZB(),Zw!=null&&Zw>parseFloat(Jw))){ux=String(Zw);break e}ux=Jw}var Jw,Xw,Zw,dx;Be.document&&Mh?(ox=ZB(),dx=ox||parseInt(ux,10)||void 0):dx=void 0;var ox,gne=dx;function Cg(t,e){if(Li.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(XB){e:{try{Dx(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:vne[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Cg.$.h.call(this)}}fi(Cg,Li);var vne={2:"touch",3:"pen",4:"mouse"};Cg.prototype.h=function(){Cg.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Mg="closure_listenable_"+(1e6*Math.random()|0),yne=0;function _ne(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++yne,this.fa=this.ia=!1}function db(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function xx(t,e,n){for(let i in t)e.call(n,t[i],i,t)}function wne(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function e6(t){let e={};for(let n in t)e[n]=t[n];return e}var jB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function t6(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let o=0;o<jB.length;o++)n=jB[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function hb(t){this.src=t,this.g={},this.h=0}hb.prototype.add=function(t,e,n,i,r){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var a=fx(t,e,i,r);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new _ne(e,this.src,o,!!i,r),e.ia=n,t.push(e)),e};function hx(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=QB(i,e),o;(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(db(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function fx(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return r}return-1}var Ax="closure_lm_"+(1e6*Math.random()|0),sx={};function n6(t,e,n,i,r){if(i&&i.once)return r6(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)n6(t,e[o],n,i,r);return null}return n=Ox(n),t&&t[Mg]?t.O(e,n,Ag(i)?!!i.capture:!!i,r):i6(t,e,n,!1,i,r)}function i6(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=Ag(r)?!!r.capture:!!r,l=Px(t);if(l||(t[Ax]=l=new hb(t)),n=l.add(e,n,i,a,o),n.proxy)return n;if(i=bne(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)hne||(r=a),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(s6(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function bne(){function t(n){return e.call(t.src,t.listener,n)}let e=Cne;return t}function r6(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)r6(t,e[o],n,i,r);return null}return n=Ox(n),t&&t[Mg]?t.P(e,n,Ag(i)?!!i.capture:!!i,r):i6(t,e,n,!0,i,r)}function o6(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)o6(t,e[o],n,i,r);else i=Ag(i)?!!i.capture:!!i,n=Ox(n),t&&t[Mg]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=fx(o,n,i,r),-1<n&&(db(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Px(t))&&(e=t.g[e.toString()],t=-1,e&&(t=fx(e,n,i,r)),(n=-1<t?e[t]:null)&&Mx(n))}function Mx(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Mg])hx(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(s6(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Px(e))?(hx(n,t),n.h==0&&(n.src=null,e[Ax]=null)):db(t)}}}function s6(t){return t in sx?sx[t]:sx[t]="on"+t}function Cne(t,e){if(t.fa)t=!0;else{e=new Cg(e,this);var n=t.listener,i=t.la||t.src;t.ia&&Mx(t),t=n.call(i,e)}return t}function Px(t){return t=t[Ax],t instanceof hb?t:null}var ax="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ox(t){return typeof t=="function"?t:(t[ax]||(t[ax]=function(e){return t.handleEvent(e)}),t[ax])}function hi(){bc.call(this),this.i=new hb(this),this.S=this,this.J=null}fi(hi,bc);hi.prototype[Mg]=!0;hi.prototype.removeEventListener=function(t,e,n,i){o6(this,t,e,n,i)};function Ei(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Li(e,t);else if(e instanceof Li)e.target=e.target||t;else{var r=e;e=new Li(i,t),t6(e,r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];r=eb(a,i,!0,e)&&r}if(a=e.g=t,r=eb(a,i,!0,e)&&r,r=eb(a,i,!1,e)&&r,n)for(o=0;o<n.length;o++)a=e.g=n[o],r=eb(a,i,!1,e)&&r}hi.prototype.N=function(){if(hi.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)db(n[i]);delete t.g[e],t.h--}}this.J=null};hi.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};hi.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function eb(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.fa&&a.capture==n){var l=a.listener,d=a.la||a.src;a.ia&&hx(t.i,a),r=l.call(d,i)!==!1&&r}}return r&&!i.defaultPrevented}var kx=Be.JSON.stringify,px=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function Ene(){var t=Rx;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var mx=class{constructor(){this.h=this.g=null}add(e,n){let i=a6.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}},a6=new px(()=>new gx,t=>t.reset()),gx=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function Ine(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Sne(t){Be.setTimeout(()=>{throw t},0)}var Eg,Ig=!1,Rx=new mx,c6=()=>{let t=Be.Promise.resolve(void 0);Eg=()=>{t.then(Tne)}},Tne=()=>{for(var t;t=Ene();){try{t.h.call(t.g)}catch(n){Sne(n)}var e=a6;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ig=!1};function fb(t,e){hi.call(this),this.h=t||1,this.g=e||Be,this.j=Fi(this.qb,this),this.l=Date.now()}fi(fb,hi);ce=fb.prototype;ce.ga=!1;ce.T=null;ce.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ei(this,"tick"),this.ga&&(Nx(this),this.start()))}};ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Nx(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ce.N=function(){fb.$.N.call(this),Nx(this),delete this.g};function Fx(t,e,n){if(typeof t=="function")n&&(t=Fi(t,n));else if(t&&typeof t.handleEvent=="function")t=Fi(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Be.setTimeout(t,e||0)}function l6(t){t.g=Fx(()=>{t.g=null,t.i&&(t.i=!1,l6(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var vx=class extends bc{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:l6(this)}N(){super.N(),this.g&&(Be.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Sg(t){bc.call(this),this.h=t,this.g={}}fi(Sg,bc);var UB=[];function u6(t,e,n,i){Array.isArray(n)||(n&&(UB[0]=n.toString()),n=UB);for(var r=0;r<n.length;r++){var o=n6(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function d6(t){xx(t.g,function(e,n){this.g.hasOwnProperty(n)&&Mx(e)},t),t.g={}}Sg.prototype.N=function(){Sg.$.N.call(this),d6(this)};Sg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function pb(){this.g=!0}pb.prototype.Ea=function(){this.g=!1};function Dne(t,e,n,i,r,o){t.info(function(){if(t.g)if(o)for(var a="",l=o.split("&"),d=0;d<l.length;d++){var h=l[d].split("=");if(1<h.length){var m=h[0];h=h[1];var v=m.split("_");a=2<=v.length&&v[1]=="type"?a+(m+"="+h+"&"):a+(m+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+a})}function xne(t,e,n,i,r,o,a){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+o+" "+a})}function xh(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Mne(t,n)+(i?" "+i:"")})}function Ane(t,e){t.info(function(){return"TIMEOUT: "+e})}pb.prototype.info=function(){};function Mne(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<r.length;a++)r[a]=""}}}}return kx(n)}catch{return e}}var ou={},BB=null;function mb(){return BB=BB||new hi}ou.Ta="serverreachability";function h6(t){Li.call(this,ou.Ta,t)}fi(h6,Li);function Tg(t){let e=mb();Ei(e,new h6(e))}ou.STAT_EVENT="statevent";function f6(t,e){Li.call(this,ou.STAT_EVENT,t),this.stat=e}fi(f6,Li);function er(t){let e=mb();Ei(e,new f6(e,t))}ou.Ua="timingevent";function p6(t,e){Li.call(this,ou.Ua,t),this.size=e}fi(p6,Li);function Pg(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Be.setTimeout(function(){t()},e)}var gb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},m6={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Lx(){}Lx.prototype.h=null;function $B(t){return t.h||(t.h=t.i())}function g6(){}var Og={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Vx(){Li.call(this,"d")}fi(Vx,Li);function jx(){Li.call(this,"c")}fi(jx,Li);var yx;function vb(){}fi(vb,Lx);vb.prototype.g=function(){return new XMLHttpRequest};vb.prototype.i=function(){return{}};yx=new vb;function kg(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Sg(this),this.P=Pne,t=lx?125:void 0,this.V=new fb(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new v6}function v6(){this.i=null,this.g="",this.h=!1}var Pne=45e3,y6={},_x={};ce=kg.prototype;ce.setTimeout=function(t){this.P=t};function wx(t,e,n){t.L=1,t.A=_b(ma(e)),t.u=n,t.S=!0,_6(t,null)}function _6(t,e){t.G=Date.now(),Rg(t),t.B=ma(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),D6(n.i,"t",i),t.o=0,n=t.l.J,t.h=new v6,t.g=K6(t.l,n?e:null,!t.u),0<t.O&&(t.M=new vx(Fi(t.Pa,t,t.g),t.O)),u6(t.U,t.g,"readystatechange",t.nb),e=t.I?e6(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Tg(),Dne(t.j,t.v,t.B,t.m,t.W,t.u)}ce.nb=function(t){t=t.target;let e=this.M;e&&ms(t)==3?e.l():this.Pa(t)};ce.Pa=function(t){try{if(t==this.g)e:{let m=ms(this.g);var e=this.g.Ia();let v=this.g.da();if(!(3>m)&&(m!=3||lx||this.g&&(this.h.h||this.g.ja()||qB(this.g)))){this.J||m!=4||e==7||(e==8||0>=v?Tg(3):Tg(2)),yb(this);var n=this.g.da();this.ca=n;t:if(w6(this)){var i=qB(this.g);t="";var r=i.length,o=ms(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nu(this),wg(this);var a="";break t}this.h.i=new Be.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=t,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,xne(this.j,this.v,this.B,this.m,this.W,m,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,d=this.g;if((l=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bg(l)){var h=l;break t}}h=null}if(n=h)xh(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bx(this,n);else{this.i=!1,this.s=3,er(12),nu(this),wg(this);break e}}this.S?(b6(this,m,a),lx&&this.i&&m==3&&(u6(this.U,this.V,"tick",this.mb),this.V.start())):(xh(this.j,this.m,a,null),bx(this,a)),m==4&&nu(this),this.i&&!this.J&&(m==4?G6(this.l,this):(this.i=!1,Rg(this)))}else Xne(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.s=3,er(12)):(this.s=0,er(13)),nu(this),wg(this)}}}catch{}finally{}};function w6(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function b6(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=One(t,n),r==_x){e==4&&(t.s=4,er(14),i=!1),xh(t.j,t.m,null,"[Incomplete Response]");break}else if(r==y6){t.s=4,er(15),xh(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else xh(t.j,t.m,r,null),bx(t,r);w6(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,er(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),zx(e),e.M=!0,er(11))):(xh(t.j,t.m,n,"[Invalid Chunked Response]"),nu(t),wg(t))}ce.mb=function(){if(this.g){var t=ms(this.g),e=this.g.ja();this.o<e.length&&(yb(this),b6(this,t,e),this.i&&t!=4&&Rg(this))}};function One(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?_x:(n=Number(e.substring(n,i)),isNaN(n)?y6:(i+=1,i+n>e.length?_x:(e=e.slice(i,i+n),t.o=i+n,e)))}ce.cancel=function(){this.J=!0,nu(this)};function Rg(t){t.Y=Date.now()+t.P,C6(t,t.P)}function C6(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Pg(Fi(t.lb,t),e)}function yb(t){t.C&&(Be.clearTimeout(t.C),t.C=null)}ce.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(Ane(this.j,this.B),this.L!=2&&(Tg(),er(17)),nu(this),this.s=2,wg(this)):C6(this,this.Y-t)};function wg(t){t.l.H==0||t.J||G6(t.l,t)}function nu(t){yb(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Nx(t.V),d6(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function bx(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Cx(n.i,t))){if(!t.K&&Cx(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ob(n),Cb(n);else break e;Gx(n),er(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=Pg(Fi(n.ib,n),6e3));if(1>=M6(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else iu(n,11)}else if((t.K||n.g==t)&&ob(n),!bg(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let h=r[e];if(n.V=h[0],h=h[1],n.H==2)if(h[0]=="c"){n.K=h[1],n.pa=h[2];let m=h[3];m!=null&&(n.ra=m,n.l.info("VER="+n.ra));let v=h[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));let y=h[5];y!=null&&typeof y=="number"&&0<y&&(i=1.5*y,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;let b=t.g;if(b){let w=b.g?b.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var o=i.i;o.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Ux(o,o.h),o.h=null))}if(i.F){let S=b.g?b.g.getResponseHeader("X-HTTP-Session-Id"):null;S&&(i.Da=S,sn(i.I,i.F,S))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var a=t;if(i.wa=W6(i,i.J?i.pa:null,i.Y),a.K){P6(i.i,a);var l=a,d=i.L;d&&l.setTimeout(d),l.C&&(yb(l),Rg(l)),i.g=a}else $6(i);0<n.j.length&&Eb(n)}else h[0]!="stop"&&h[0]!="close"||iu(n,7);else n.H==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?iu(n,7):Hx(n):h[0]!="noop"&&n.h&&n.h.Aa(h),n.A=0)}}Tg(4)}catch{}}function kne(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(lb(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function Rne(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(lb(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let i in t)e[n++]=i;return e}}}function E6(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(lb(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Rne(t),i=kne(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}var I6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nne(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function ru(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ru){this.h=t.h,ib(this,t.j),this.s=t.s,this.g=t.g,rb(this,t.m),this.l=t.l;var e=t.i,n=new Dg;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),HB(this,n),this.o=t.o}else t&&(e=String(t).match(I6))?(this.h=!1,ib(this,e[1]||"",!0),this.s=yg(e[2]||""),this.g=yg(e[3]||"",!0),rb(this,e[4]),this.l=yg(e[5]||"",!0),HB(this,e[6]||"",!0),this.o=yg(e[7]||"")):(this.h=!1,this.i=new Dg(null,this.h))}ru.prototype.toString=function(){var t=[],e=this.j;e&&t.push(_g(e,GB,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(_g(e,GB,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(_g(n,n.charAt(0)=="/"?Vne:Lne,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",_g(n,Une)),t.join("")};function ma(t){return new ru(t)}function ib(t,e,n){t.j=n?yg(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function rb(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function HB(t,e,n){e instanceof Dg?(t.i=e,Bne(t.i,t.h)):(n||(e=_g(e,jne)),t.i=new Dg(e,t.h))}function sn(t,e,n){t.i.set(e,n)}function _b(t){return sn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function yg(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function _g(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Fne),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Fne(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var GB=/[#\/\?@]/g,Lne=/[#\?:]/g,Vne=/[#\?]/g,jne=/[#\?@]/g,Une=/#/g;function Dg(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Cc(t){t.g||(t.g=new Map,t.h=0,t.i&&Nne(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ce=Dg.prototype;ce.add=function(t,e){Cc(this),this.i=null,t=Ph(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function S6(t,e){Cc(t),e=Ph(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function T6(t,e){return Cc(t),e=Ph(t,e),t.g.has(e)}ce.forEach=function(t,e){Cc(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};ce.ta=function(){Cc(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){let r=t[i];for(let o=0;o<r.length;o++)n.push(e[i])}return n};ce.Z=function(t){Cc(this);let e=[];if(typeof t=="string")T6(this,t)&&(e=e.concat(this.g.get(Ph(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ce.set=function(t,e){return Cc(this),this.i=null,t=Ph(this,t),T6(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ce.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function D6(t,e,n){S6(t,e),0<n.length&&(t.i=null,t.g.set(Ph(t,e),Tx(n)),t.h+=n.length)}ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];let o=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var r=o;a[i]!==""&&(r+="="+encodeURIComponent(String(a[i]))),t.push(r)}}return this.i=t.join("&")};function Ph(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Bne(t,e){e&&!t.j&&(Cc(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(S6(this,i),D6(this,r,n))},t)),t.j=e}var $ne=class{constructor(t,e){this.g=t,this.map=e}};function x6(t){this.l=t||Hne,Be.PerformanceNavigationTiming?(t=Be.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Be.g&&Be.g.Ka&&Be.g.Ka()&&Be.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Hne=10;function A6(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function M6(t){return t.h?1:t.g?t.g.size:0}function Cx(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Ux(t,e){t.g?t.g.add(e):t.h=e}function P6(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}x6.prototype.cancel=function(){if(this.i=O6(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function O6(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Tx(t.i)}var Gne=class{stringify(t){return Be.JSON.stringify(t,void 0)}parse(t){return Be.JSON.parse(t,void 0)}};function zne(){this.g=new Gne}function qne(t,e,n){let i=n||"";try{E6(t,function(r,o){let a=r;Ag(r)&&(a=kx(r)),e.push(i+o+"="+encodeURIComponent(a))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Wne(t,e){let n=new pb;if(Be.Image){let i=new Image;i.onload=Qw(tb,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Qw(tb,n,i,"TestLoadImage: error",!1,e),i.onabort=Qw(tb,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Qw(tb,n,i,"TestLoadImage: timeout",!1,e),Be.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function tb(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Ng(t){this.l=t.ec||null,this.j=t.ob||!1}fi(Ng,Lx);Ng.prototype.g=function(){return new wb(this.l,this.j)};Ng.prototype.i=function(t){return function(){return t}}({});function wb(t,e){hi.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Bx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fi(wb,hi);var Bx=0;ce=wb.prototype;ce.open=function(t,e){if(this.readyState!=Bx)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,xg(this)};ce.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Be).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fg(this)),this.readyState=Bx};ce.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,xg(this)),this.g&&(this.readyState=3,xg(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Be.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;k6(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function k6(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ce.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Fg(this):xg(this),this.readyState==3&&k6(this)}};ce.Za=function(t){this.g&&(this.response=this.responseText=t,Fg(this))};ce.Ya=function(t){this.g&&(this.response=t,Fg(this))};ce.ka=function(){this.g&&Fg(this)};function Fg(t){t.readyState=4,t.l=null,t.j=null,t.A=null,xg(t)}ce.setRequestHeader=function(t,e){this.v.append(t,e)};ce.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ce.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function xg(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(wb.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Kne=Be.JSON.parse;function En(t){hi.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=R6,this.L=this.M=!1}fi(En,hi);var R6="",Yne=/^https?$/i,Qne=["POST","PUT"];ce=En.prototype;ce.Oa=function(t){this.M=t};ce.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():yx.g(),this.C=this.u?$B(this.u):$B(yx),this.g.onreadystatechange=Fi(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){zB(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(let o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),r=Be.FormData&&t instanceof Be.FormData,!(0<=QB(Qne,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{L6(this),0<this.B&&((this.L=Jne(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fi(this.ua,this)):this.A=Fx(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){zB(this,o)}};function Jne(t){return Mh&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ce.ua=function(){typeof Sx<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ei(this,"timeout"),this.abort(8))};function zB(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,N6(t),bb(t)}function N6(t){t.F||(t.F=!0,Ei(t,"complete"),Ei(t,"error"))}ce.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ei(this,"complete"),Ei(this,"abort"),bb(this))};ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bb(this,!0)),En.$.N.call(this)};ce.La=function(){this.s||(this.G||this.v||this.l?F6(this):this.kb())};ce.kb=function(){F6(this)};function F6(t){if(t.h&&typeof Sx<"u"&&(!t.C[1]||ms(t)!=4||t.da()!=2)){if(t.v&&ms(t)==4)Fx(t.La,0,t);else if(Ei(t,"readystatechange"),ms(t)==4){t.h=!1;try{let a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=a===0){var r=String(t.I).match(I6)[1]||null;!r&&Be.self&&Be.self.location&&(r=Be.self.location.protocol.slice(0,-1)),i=!Yne.test(r?r.toLowerCase():"")}n=i}if(n)Ei(t,"complete"),Ei(t,"success");else{t.m=6;try{var o=2<ms(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",N6(t)}}finally{bb(t)}}}}function bb(t,e){if(t.g){L6(t);let n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ei(t,"ready");try{n.onreadystatechange=i}catch{}}}function L6(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Be.clearTimeout(t.A),t.A=null)}ce.isActive=function(){return!!this.g};function ms(t){return t.g?t.g.readyState:0}ce.da=function(){try{return 2<ms(this)?this.g.status:-1}catch{return-1}};ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ce.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Kne(e)}};function qB(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case R6:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Xne(t){let e={};t=(t.g&&2<=ms(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(bg(t[i]))continue;var n=Ine(t[i]);let r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[r]||[];e[r]=o,o.push(n)}wne(e,function(i){return i.join(", ")})}ce.Ia=function(){return this.m};ce.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function V6(t){let e="";return xx(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function $x(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=V6(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):sn(t,e,n))}function gg(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function j6(t){this.Ga=0,this.j=[],this.l=new pb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=gg("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=gg("baseRetryDelayMs",5e3,t),this.hb=gg("retryDelaySeedMs",1e4,t),this.eb=gg("forwardChannelMaxRetries",2,t),this.xa=gg("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new x6(t&&t.concurrentRequestLimit),this.Ja=new zne,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ce=j6.prototype;ce.ra=8;ce.H=1;function Hx(t){if(U6(t),t.H==3){var e=t.W++,n=ma(t.I);if(sn(n,"SID",t.K),sn(n,"RID",e),sn(n,"TYPE","terminate"),Lg(t,n),e=new kg(t,t.l,e),e.L=2,e.A=_b(ma(n)),n=!1,Be.navigator&&Be.navigator.sendBeacon)try{n=Be.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Be.Image&&(new Image().src=e.A,n=!0),n||(e.g=K6(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Rg(e)}q6(t)}function Cb(t){t.g&&(zx(t),t.g.cancel(),t.g=null)}function U6(t){Cb(t),t.u&&(Be.clearTimeout(t.u),t.u=null),ob(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Be.clearTimeout(t.m),t.m=null)}function Eb(t){if(!A6(t.i)&&!t.m){t.m=!0;var e=t.Na;Eg||c6(),Ig||(Eg(),Ig=!0),Rx.add(e,t),t.C=0}}function Zne(t,e){return M6(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Pg(Fi(t.Na,t,e),z6(t,t.C)),t.C++,!0)}ce.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let r=new kg(this,this.l,t),o=this.s;if(this.U&&(o?(o=e6(o),t6(o,this.U)):o=this.U),this.o!==null||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=B6(this,r,e),n=ma(this.I),sn(n,"RID",t),sn(n,"CVER",22),this.F&&sn(n,"X-HTTP-Session-Id",this.F),Lg(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(V6(o)))+"&"+e:this.o&&$x(n,this.o,o)),Ux(this.i,r),this.bb&&sn(n,"TYPE","init"),this.P?(sn(n,"$req",e),sn(n,"SID","null"),r.aa=!0,wx(r,n,null)):wx(r,n,e),this.H=2}}else this.H==3&&(t?WB(this,t):this.j.length==0||A6(this.i)||WB(this))};function WB(t,e){var n;e?n=e.m:n=t.W++;let i=ma(t.I);sn(i,"SID",t.K),sn(i,"RID",n),sn(i,"AID",t.V),Lg(t,i),t.o&&t.s&&$x(i,t.o,t.s),n=new kg(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=B6(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Ux(t.i,n),wx(n,i,e)}function Lg(t,e){t.na&&xx(t.na,function(n,i){sn(e,i,n)}),t.h&&E6({},function(n,i){sn(e,i,n)})}function B6(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Fi(t.h.Va,t.h,t):null;e:{var r=t.j;let o=-1;for(;;){let a=["count="+n];o==-1?0<n?(o=r[0].g,a.push("ofs="+o)):o=0:a.push("ofs="+o);let l=!0;for(let d=0;d<n;d++){let h=r[d].g,m=r[d].map;if(h-=o,0>h)o=Math.max(0,r[d].g-100),l=!1;else try{qne(m,a,"req"+h+"_")}catch{i&&i(m)}}if(l){i=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function $6(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Eg||c6(),Ig||(Eg(),Ig=!0),Rx.add(e,t),t.A=0}}function Gx(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Pg(Fi(t.Ma,t),z6(t,t.A)),t.A++,!0)}ce.Ma=function(){if(this.u=null,H6(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Pg(Fi(this.jb,this),t)}};ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,er(10),Cb(this),H6(this))};function zx(t){t.B!=null&&(Be.clearTimeout(t.B),t.B=null)}function H6(t){t.g=new kg(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ma(t.wa);sn(e,"RID","rpc"),sn(e,"SID",t.K),sn(e,"AID",t.V),sn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&sn(e,"TO",t.qa),sn(e,"TYPE","xmlhttp"),Lg(t,e),t.o&&t.s&&$x(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=_b(ma(e)),n.u=null,n.S=!0,_6(n,t)}ce.ib=function(){this.v!=null&&(this.v=null,Cb(this),Gx(this),er(19))};function ob(t){t.v!=null&&(Be.clearTimeout(t.v),t.v=null)}function G6(t,e){var n=null;if(t.g==e){ob(t),zx(t),t.g=null;var i=2}else if(Cx(t.i,e))n=e.F,P6(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=mb(),Ei(i,new p6(i,n)),Eb(t)}else $6(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&Zne(t,e)||i==2&&Gx(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:iu(t,5);break;case 4:iu(t,10);break;case 3:iu(t,6);break;default:iu(t,2)}}}function z6(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function iu(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Fi(t.pb,t);n||(n=new ru("//www.google.com/images/cleardot.gif"),Be.location&&Be.location.protocol=="http"||ib(n,"https"),_b(n)),Wne(n.toString(),i)}else er(2);t.H=0,t.h&&t.h.za(e),q6(t),U6(t)}ce.pb=function(t){t?(this.l.info("Successfully pinged google.com"),er(2)):(this.l.info("Failed to ping google.com"),er(1))};function q6(t){if(t.H=0,t.ma=[],t.h){let e=O6(t.i);(e.length!=0||t.j.length!=0)&&(VB(t.ma,e),VB(t.ma,t.j),t.i.i.length=0,Tx(t.j),t.j.length=0),t.h.ya()}}function W6(t,e,n){var i=n instanceof ru?ma(n):new ru(n);if(i.g!="")e&&(i.g=e+"."+i.g),rb(i,i.m);else{var r=Be.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new ru(null);i&&ib(o,i),e&&(o.g=e),r&&rb(o,r),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&sn(i,n,e),sn(i,"VER",t.ra),Lg(t,i),i}function K6(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new En(new Ng({ob:n})):new En(t.va),e.Oa(t.J),e}ce.isActive=function(){return!!this.h&&this.h.isActive(this)};function Y6(){}ce=Y6.prototype;ce.Ba=function(){};ce.Aa=function(){};ce.za=function(){};ce.ya=function(){};ce.isActive=function(){return!0};ce.Va=function(){};function sb(){if(Mh&&!(10<=Number(gne)))throw Error("Environmental error: no available transport.")}sb.prototype.g=function(t,e){return new Ir(t,e)};function Ir(t,e){hi.call(this),this.g=new j6(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!bg(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bg(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Oh(this)}fi(Ir,hi);Ir.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;er(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=W6(t,null,t.Y),Eb(t)};Ir.prototype.close=function(){Hx(this.g)};Ir.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=kx(t),t=n);e.j.push(new $ne(e.fb++,t)),e.H==3&&Eb(e)};Ir.prototype.N=function(){this.g.h=null,delete this.j,Hx(this.g),delete this.g,Ir.$.N.call(this)};function Q6(t){Vx.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}fi(Q6,Vx);function J6(){jx.call(this),this.status=1}fi(J6,jx);function Oh(t){this.g=t}fi(Oh,Y6);Oh.prototype.Ba=function(){Ei(this.g,"a")};Oh.prototype.Aa=function(t){Ei(this.g,new Q6(t))};Oh.prototype.za=function(t){Ei(this.g,new J6)};Oh.prototype.ya=function(){Ei(this.g,"b")};function eie(){this.blockSize=-1}function Mo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}fi(Mo,eie);Mo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function cx(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var o=t.g[3],a=e+(o^n&(r^o))+i[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[1]+3905402710&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[2]+606105819&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[3]+3250441966&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[5]+1200080426&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[6]+2821735955&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[7]+4249261313&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[9]+2336552879&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[10]+4294925233&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[11]+2304563134&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[13]+4254626195&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[14]+2792965006&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[15]+1236535329&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(r^o&(n^r))+i[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[6]+3225465664&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[11]+643717713&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[0]+3921069994&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[10]+38016083&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[15]+3634488961&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[4]+3889429448&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[14]+3275163606&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[3]+4107603335&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[8]+1163531501&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[2]+4243563512&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[7]+1735328473&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[12]+2368359562&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(n^r^o)+i[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[8]+2272392833&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[11]+1839030562&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[14]+4259657740&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[4]+1272893353&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[7]+4139469664&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[10]+3200236656&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[0]+3936430074&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[3]+3572445317&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[6]+76029189&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[12]+3873151461&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[15]+530742520&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[2]+3299628645&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(r^(n|~o))+i[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[7]+1126891415&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[14]+2878612391&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[5]+4237533241&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[3]+2399980690&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[10]+4293915773&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[1]+2240044497&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[15]+4264355552&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[6]+2734768916&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[13]+1309151649&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[11]+3174756917&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[2]+718787259&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+o&4294967295}Mo.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(r==0)for(;o<=n;)cx(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[r++]=t.charCodeAt(o++),r==this.blockSize){cx(this,i),r=0;break}}else for(;o<e;)if(i[r++]=t[o++],r==this.blockSize){cx(this,i),r=0;break}}this.h=r,this.i+=e};Mo.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function jt(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var o=t[r]|0;i&&o==e||(n[r]=o,i=!1)}this.g=n}var tie={};function qx(t){return-128<=t&&128>t?fne(t,function(e){return new jt([e|0],0>e?-1:0)}):new jt([t|0],0>t?-1:0)}function gs(t){if(isNaN(t)||!isFinite(t))return Ah;if(0>t)return Ci(gs(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=Ex;return new jt(e,0)}function X6(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ci(X6(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=gs(Math.pow(e,8)),i=Ah,r=0;r<t.length;r+=8){var o=Math.min(8,t.length-r),a=parseInt(t.substring(r,r+o),e);8>o?(o=gs(Math.pow(e,o)),i=i.R(o).add(gs(a))):(i=i.R(n),i=i.add(gs(a)))}return i}var Ex=4294967296,Ah=qx(0),Ix=qx(1),KB=qx(16777216);ce=jt.prototype;ce.ea=function(){if(zr(this))return-Ci(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:Ex+i)*e,e*=Ex}return t};ce.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(pa(this))return"0";if(zr(this))return"-"+Ci(this).toString(t);for(var e=gs(Math.pow(t,6)),n=this,i="";;){var r=cb(n,e).g;n=ab(n,r.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,pa(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};ce.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function pa(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function zr(t){return t.h==-1}ce.X=function(t){return t=ab(this,t),zr(t)?-1:pa(t)?0:1};function Ci(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new jt(n,~t.h).add(Ix)}ce.abs=function(){return zr(this)?Ci(this):this};ce.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var o=i+(this.D(r)&65535)+(t.D(r)&65535),a=(o>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=a>>>16,o&=65535,a&=65535,n[r]=a<<16|o}return new jt(n,n[n.length-1]&-2147483648?-1:0)};function ab(t,e){return t.add(Ci(e))}ce.R=function(t){if(pa(this)||pa(t))return Ah;if(zr(this))return zr(t)?Ci(this).R(Ci(t)):Ci(Ci(this).R(t));if(zr(t))return Ci(this.R(Ci(t)));if(0>this.X(KB)&&0>t.X(KB))return gs(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var o=this.D(i)>>>16,a=this.D(i)&65535,l=t.D(r)>>>16,d=t.D(r)&65535;n[2*i+2*r]+=a*d,nb(n,2*i+2*r),n[2*i+2*r+1]+=o*d,nb(n,2*i+2*r+1),n[2*i+2*r+1]+=a*l,nb(n,2*i+2*r+1),n[2*i+2*r+2]+=o*l,nb(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new jt(n,0)};function nb(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function vg(t,e){this.g=t,this.h=e}function cb(t,e){if(pa(e))throw Error("division by zero");if(pa(t))return new vg(Ah,Ah);if(zr(t))return e=cb(Ci(t),e),new vg(Ci(e.g),Ci(e.h));if(zr(e))return e=cb(t,Ci(e)),new vg(Ci(e.g),e.h);if(30<t.g.length){if(zr(t)||zr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ix,i=e;0>=i.X(t);)n=YB(n),i=YB(i);var r=Dh(n,1),o=Dh(i,1);for(i=Dh(i,2),n=Dh(n,2);!pa(i);){var a=o.add(i);0>=a.X(t)&&(r=r.add(n),o=a),i=Dh(i,1),n=Dh(n,1)}return e=ab(t,r.R(e)),new vg(r,e)}for(r=Ah;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=gs(n),a=o.R(e);zr(a)||0<a.X(t);)n-=i,o=gs(n),a=o.R(e);pa(o)&&(o=Ix),r=r.add(o),t=ab(t,a)}return new vg(r,t)}ce.gb=function(t){return cb(this,t).h};ce.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new jt(n,this.h&t.h)};ce.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new jt(n,this.h|t.h)};ce.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new jt(n,this.h^t.h)};function YB(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new jt(n,t.h)}function Dh(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],o=0;o<i;o++)r[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new jt(r,t.h)}sb.prototype.createWebChannel=sb.prototype.g;Ir.prototype.send=Ir.prototype.u;Ir.prototype.open=Ir.prototype.m;Ir.prototype.close=Ir.prototype.close;gb.NO_ERROR=0;gb.TIMEOUT=8;gb.HTTP_ERROR=6;m6.COMPLETE="complete";g6.EventType=Og;Og.OPEN="a";Og.CLOSE="b";Og.ERROR="c";Og.MESSAGE="d";hi.prototype.listen=hi.prototype.O;En.prototype.listenOnce=En.prototype.P;En.prototype.getLastError=En.prototype.Sa;En.prototype.getLastErrorCode=En.prototype.Ia;En.prototype.getStatus=En.prototype.da;En.prototype.getResponseJson=En.prototype.Wa;En.prototype.getResponseText=En.prototype.ja;En.prototype.send=En.prototype.ha;En.prototype.setWithCredentials=En.prototype.Oa;Mo.prototype.digest=Mo.prototype.l;Mo.prototype.reset=Mo.prototype.reset;Mo.prototype.update=Mo.prototype.j;jt.prototype.add=jt.prototype.add;jt.prototype.multiply=jt.prototype.R;jt.prototype.modulo=jt.prototype.gb;jt.prototype.compare=jt.prototype.X;jt.prototype.toNumber=jt.prototype.ea;jt.prototype.toString=jt.prototype.toString;jt.prototype.getBits=jt.prototype.D;jt.fromNumber=gs;jt.fromString=X6;var Z6=Po.createWebChannelTransport=function(){return new sb},e4=Po.getStatEventTarget=function(){return mb()},Ib=Po.ErrorCode=gb,t4=Po.EventType=m6,n4=Po.Event=ou,Wx=Po.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},wbe=Po.FetchXmlHttpFactory=Ng,Vg=Po.WebChannel=g6,i4=Po.XhrIo=En,r4=Po.Md5=Mo,su=Po.Integer=jt;var o4="@firebase/firestore";var pi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pi.UNAUTHENTICATED=new pi(null),pi.GOOGLE_CREDENTIALS=new pi("google-credentials-uid"),pi.FIRST_PARTY=new pi("first-party-uid"),pi.MOCK_USER=new pi("mock-user");var tf="10.8.1";var du=new cs("@firebase/firestore");function jg(){return du.logLevel}function le(t,...e){if(du.logLevel<=lt.DEBUG){let n=e.map(kM);du.debug(`Firestore (${tf}): ${t}`,...n)}}function Cs(t,...e){if(du.logLevel<=lt.ERROR){let n=e.map(kM);du.error(`Firestore (${tf}): ${t}`,...n)}}function Uh(t,...e){if(du.logLevel<=lt.WARN){let n=e.map(kM);du.warn(`Firestore (${tf}): ${t}`,...n)}}function kM(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Ve(t="Unexpected state"){let e=`FIRESTORE (${tf}) INTERNAL ASSERTION FAILED: `+t;throw Cs(e),new Error(e)}function Zt(t,e){t||Ve()}function We(t,e){return t}var W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ce=class extends Hn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ko=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Ab=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Xx=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pi.UNAUTHENTICATED))}shutdown(){}},Zx=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},eA=class{constructor(e){this.t=e,this.currentUser=pi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve(),o=new ko;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ko,e.enqueueRetryable(()=>r(this.currentUser))};let a=()=>{let d=o;e.enqueueRetryable(()=>C(this,null,function*(){yield d.promise,yield r(this.currentUser)}))},l=d=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(d=>l(d)),setTimeout(()=>{if(!this.auth){let d=this.t.getImmediate({optional:!0});d?l(d):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ko)}},0),a()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Zt(typeof i.accessToken=="string"),new Ab(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Zt(e===null||typeof e=="string"),new pi(e)}},tA=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=pi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},nA=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new tA(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pi.FIRST_PARTY))}shutdown(){}invalidateToken(){}},iA=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},rA=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=o=>{o.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let a=o.token!==this.R;return this.R=o.token,le("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Zt(typeof n.token=="string"),this.R=n.token,new iA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function nie(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var Mb=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=nie(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}};function kt(t,e){return t<e?-1:t>e?1:0}function Bh(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var Ii=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ce(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ce(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ce(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?kt(this.nanoseconds,e.nanoseconds):kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var qe=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ii(0,0))}static max(){return new t(new Ii(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Pb=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ve(),i===void 0?i=e.length-n:i>e.length-n&&Ve(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let o=e.get(r),a=n.get(r);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Sn=class t extends Pb{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new Ce(W.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},iie=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Sr=class t extends Pb{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return iie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,o=()=>{if(i.length===0)throw new Ce(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},a=!1;for(;r<e.length;){let l=e[r];if(l==="\\"){if(r+1===e.length)throw new Ce(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let d=e[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ce(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(o(),r++)}if(o(),a)throw new Ce(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Ae=class t{constructor(e){this.path=e}static fromPath(e){return new t(Sn.fromString(e))}static fromName(e){return new t(Sn.fromString(e).popFirst(5))}static empty(){return new t(Sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Sn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Sn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Sn(e.slice()))}};var oA=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};oA.UNKNOWN_ID=-1;function rie(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=qe.fromTimestamp(i===1e9?new Ii(n+1,0):new Ii(n,i));return new hu(r,Ae.empty(),e)}function oie(t){return new hu(t.readTime,t.key,-1)}var hu=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(qe.min(),Ae.empty(),-1)}static max(){return new t(qe.max(),Ae.empty(),-1)}};function sie(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:kt(t.largestBatchId,e.largestBatchId))}var aie="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sA=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function nv(t){return C(this,null,function*(){if(t.code!==W.FAILED_PRECONDITION||t.message!==aie)throw t;le("LocalStore","Unexpectedly lost primary lease")})}var K=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,o=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++o,a&&o===r&&n()},d=>i(d))}),a=!0,o===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let o=e.length,a=new Array(o),l=0;for(let d=0;d<o;d++){let h=d;n(e[h]).next(m=>{a[h]=m,++l,l===o&&i(a)},m=>r(m))}})}static doWhile(e,n){return new t((i,r)=>{let o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}};var aA=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new ko,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new uu(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=RM(i.target.error);this.V.reject(new uu(e,r))}}static open(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(o){throw new uu(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new lA(n)}},Ob=class t{constructor(e,n,i){this.name=e,this.version=n,this.p=i,t.S(qt())===12.2&&Cs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return le("SimpleDb","Removing database:",e),au(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!hc())return!1;if(t.C())return!0;let e=qt(),n=t.S(e),i=0<n&&n<10,r=t.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){let n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){return C(this,null,function*(){return this.db||(le("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{let a=o.target.result;n(a)},r.onblocked=()=>{i(new uu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{let a=o.target.error;a.name==="VersionError"?i(new Ce(W.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?i(new Ce(W.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):i(new uu(e,a))},r.onupgradeneeded=o=>{le("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let a=o.target.result;this.p.N(a,r.transaction,o.oldVersion,this.version).next(()=>{le("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,i,r){return C(this,null,function*(){let o=n==="readonly",a=0;for(;;){++a;try{this.db=yield this.O(e);let l=aA.open(this.db,e,o?"readonly":"readwrite",i),d=r(l).next(h=>(l.g(),h)).catch(h=>(l.abort(h),K.reject(h))).toPromise();return d.catch(()=>{}),yield l.m,d}catch(l){let d=l,h=d.name!=="FirebaseError"&&a<3;if(le("SimpleDb","Transaction failed with error:",d.message,"Retrying:",h),this.close(),!h)return Promise.reject(d)}}})}close(){this.db&&this.db.close(),this.db=void 0}},cA=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return au(this.k.delete())}},uu=class extends Ce{constructor(e,n){super(W.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function iv(t){return t.name==="IndexedDbTransactionError"}var lA=class{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(le("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(le("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),au(i)}add(e){return le("SimpleDb","ADD",this.store.name,e,e),au(this.store.add(e))}get(e){return au(this.store.get(e)).next(n=>(n===void 0&&(n=null),le("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return le("SimpleDb","DELETE",this.store.name,e),au(this.store.delete(e))}count(){return le("SimpleDb","COUNT",this.store.name),au(this.store.count())}W(e,n){let i=this.options(e,n),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){let o=r.getAll(i.range);return new K((a,l)=>{o.onerror=d=>{l(d.target.error)},o.onsuccess=d=>{a(d.target.result)}})}{let o=this.cursor(i),a=[];return this.G(o,(l,d)=>{a.push(d)}).next(()=>a)}}j(e,n){let i=this.store.getAll(e,n===null?void 0:n);return new K((r,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}H(e,n){le("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,n);i.J=!1;let r=this.cursor(i);return this.G(r,(o,a,l)=>l.delete())}Y(e,n){let i;n?i=e:(i={},n=e);let r=this.cursor(i);return this.G(r,n)}Z(e){let n=this.cursor({});return new K((i,r)=>{n.onerror=o=>{let a=RM(o.target.error);r(a)},n.onsuccess=o=>{let a=o.target.result;a?e(a.primaryKey,a.value).next(l=>{l?a.continue():i()}):i()}})}G(e,n){let i=[];return new K((r,o)=>{e.onerror=a=>{o(a.target.error)},e.onsuccess=a=>{let l=a.target.result;if(!l)return void r();let d=new cA(l),h=n(l.primaryKey,l.value,d);if(h instanceof K){let m=h.catch(v=>(d.done(),K.reject(v)));i.push(m)}d.isDone?r():d.$===null?l.continue():l.continue(d.$)}}).next(()=>K.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function au(t){return new K((e,n)=>{t.onsuccess=i=>{let r=i.target.result;e(r)},t.onerror=i=>{let r=RM(i.target.error);n(r)}})}var s4=!1;function RM(t){let e=Ob.S(qt());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let i=new Ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return s4||(s4=!0,setTimeout(()=>{throw i},0)),i}}return t}var k4=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function rC(t){return t==null}function zg(t){return t===0&&1/t==-1/0}function cie(t){return typeof t=="number"&&Number.isInteger(t)&&!zg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var lie=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Abe=[...lie,"documentOverlays"],uie=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],die=uie,Mbe=[...die,"indexConfiguration","indexState","indexEntries"];function a4(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function nf(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function R4(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Tn=class t{constructor(e,n){this.comparator=e,this.root=n||_s.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_s.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_s.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fh(this.root,e,this.comparator,!0)}},Fh=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},_s=class t{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new t(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();let e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}};_s.EMPTY=null,_s.RED=!0,_s.BLACK=!1;_s.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,n,i,r,o){return this}insert(e,n,i){return new _s(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ji=class t{constructor(e){this.comparator=e,this.data=new Tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kb(this.data.getIterator())}getIteratorFrom(e){return new kb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},kb=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ys=class t{constructor(e){this.fields=e,e.sort(Sr.comparator)}static empty(){return new t([])}unionWith(e){let n=new ji(Sr.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bh(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var Rb=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var tr=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Rb("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let o="";for(let a=0;a<r.length;++a)o+=String.fromCharCode(r[a]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};tr.EMPTY_BYTE_STRING=new tr("");var hie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sc(t){if(Zt(!!t),typeof t=="string"){let e=0,n=hie.exec(t);if(Zt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:In(t.seconds),nanos:In(t.nanos)}}function In(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Tc(t){return typeof t=="string"?tr.fromBase64String(t):tr.fromUint8Array(t)}function NM(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function FM(t){let e=t.mapValue.fields.__previous_value__;return NM(e)?FM(e):e}function qg(t){let e=Sc(t.mapValue.fields.__local_write_time__.timestampValue);return new Ii(e.seconds,e.nanos)}var uA=class{constructor(e,n,i,r,o,a,l,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=d,this.useFetchStreams=h}},Nb=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Sb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?NM(t)?4:N4(t)?9007199254740991:10:Ve()}function Es(t,e){if(t===e)return!0;let n=fu(t);if(n!==fu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qg(t).isEqual(qg(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let a=Sc(r.timestampValue),l=Sc(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return Tc(r.bytesValue).isEqual(Tc(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return In(r.geoPointValue.latitude)===In(o.geoPointValue.latitude)&&In(r.geoPointValue.longitude)===In(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return In(r.integerValue)===In(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let a=In(r.doubleValue),l=In(o.doubleValue);return a===l?zg(a)===zg(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Bh(t.arrayValue.values||[],e.arrayValue.values||[],Es);case 10:return function(r,o){let a=r.mapValue.fields||{},l=o.mapValue.fields||{};if(a4(a)!==a4(l))return!1;for(let d in a)if(a.hasOwnProperty(d)&&(l[d]===void 0||!Es(a[d],l[d])))return!1;return!0}(t,e);default:return Ve()}}function Wg(t,e){return(t.values||[]).find(n=>Es(n,e))!==void 0}function $h(t,e){if(t===e)return 0;let n=fu(t),i=fu(e);if(n!==i)return kt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(t.booleanValue,e.booleanValue);case 2:return function(o,a){let l=In(o.integerValue||o.doubleValue),d=In(a.integerValue||a.doubleValue);return l<d?-1:l>d?1:l===d?0:isNaN(l)?isNaN(d)?0:-1:1}(t,e);case 3:return c4(t.timestampValue,e.timestampValue);case 4:return c4(qg(t),qg(e));case 5:return kt(t.stringValue,e.stringValue);case 6:return function(o,a){let l=Tc(o),d=Tc(a);return l.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){let l=o.split("/"),d=a.split("/");for(let h=0;h<l.length&&h<d.length;h++){let m=kt(l[h],d[h]);if(m!==0)return m}return kt(l.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){let l=kt(In(o.latitude),In(a.latitude));return l!==0?l:kt(In(o.longitude),In(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,a){let l=o.values||[],d=a.values||[];for(let h=0;h<l.length&&h<d.length;++h){let m=$h(l[h],d[h]);if(m)return m}return kt(l.length,d.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,a){if(o===Sb.mapValue&&a===Sb.mapValue)return 0;if(o===Sb.mapValue)return 1;if(a===Sb.mapValue)return-1;let l=o.fields||{},d=Object.keys(l),h=a.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let v=0;v<d.length&&v<m.length;++v){let y=kt(d[v],m[v]);if(y!==0)return y;let b=$h(l[d[v]],h[m[v]]);if(b!==0)return b}return kt(d.length,m.length)}(t.mapValue,e.mapValue);default:throw Ve()}}function c4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return kt(t,e);let n=Sc(t),i=Sc(e),r=kt(n.seconds,i.seconds);return r!==0?r:kt(n.nanos,i.nanos)}function Hh(t){return dA(t)}function dA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=Sc(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Tc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let o of n.values||[])r?r=!1:i+=",",i+=dA(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",o=!0;for(let a of i)o?o=!1:r+=",",r+=`${a}:${dA(n.fields[a])}`;return r+"}"}(t.mapValue):Ve()}function hA(t){return!!t&&"integerValue"in t}function LM(t){return!!t&&"arrayValue"in t}function l4(t){return!!t&&"nullValue"in t}function u4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Db(t){return!!t&&"mapValue"in t}function Bg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return nf(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Bg(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bg(t.arrayValue.values[n]);return e}return Object.assign({},t)}function N4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Oo=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Db(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bg(n)}setAll(e){let n=Sr.emptyPath(),i={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){let d=this.getFieldsMap(n);this.applyChanges(d,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=Bg(a):r.push(l.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){let n=this.field(e.popLast());Db(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Es(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Db(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){nf(n,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new t(Bg(this.value))}};function F4(t){let e=[];return nf(t.fields,(n,i)=>{let r=new Sr([n]);if(Db(i)){let o=F4(i.mapValue).fields;if(o.length===0)e.push(r);else for(let a of o)e.push(r.child(a))}else e.push(r)}),new ys(e)}var Ro=class t{constructor(e,n,i,r,o,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(e){return new t(e,0,qe.min(),qe.min(),qe.min(),Oo.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,qe.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,qe.min(),qe.min(),Oo.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,qe.min(),qe.min(),Oo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Gh=class{constructor(e,n){this.position=e,this.inclusive=n}};function d4(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let o=e[r],a=t.position[r];if(o.field.isKeyField()?i=Ae.comparator(Ae.fromName(a.referenceValue),n.key):i=$h(a,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function h4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Es(t.position[n],e.position[n]))return!1;return!0}var zh=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function fie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Fb=class{},Jn=class t extends Fb{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new pA(e,n,i):n==="array-contains"?new vA(e,i):n==="in"?new yA(e,i):n==="not-in"?new _A(e,i):n==="array-contains-any"?new wA(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new mA(e,i):new gA(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($h(n,this.value)):n!==null&&fu(this.value)===fu(n)&&this.matchesComparison($h(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Is=class t extends Fb{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return L4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function L4(t){return t.op==="and"}function V4(t){return pie(t)&&L4(t)}function pie(t){for(let e of t.filters)if(e instanceof Is)return!1;return!0}function fA(t){if(t instanceof Jn)return t.field.canonicalString()+t.op.toString()+Hh(t.value);if(V4(t))return t.filters.map(e=>fA(e)).join(",");{let e=t.filters.map(n=>fA(n)).join(",");return`${t.op}(${e})`}}function j4(t,e){return t instanceof Jn?function(i,r){return r instanceof Jn&&i.op===r.op&&i.field.isEqual(r.field)&&Es(i.value,r.value)}(t,e):t instanceof Is?function(i,r){return r instanceof Is&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,a,l)=>o&&j4(a,r.filters[l]),!0):!1}(t,e):void Ve()}function U4(t){return t instanceof Jn?function(n){return`${n.field.canonicalString()} ${n.op} ${Hh(n.value)}`}(t):t instanceof Is?function(n){return n.op.toString()+" {"+n.getFilters().map(U4).join(" ,")+"}"}(t):"Filter"}var pA=class extends Jn{constructor(e,n,i){super(e,n,i),this.key=Ae.fromName(i.referenceValue)}matches(e){let n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}},mA=class extends Jn{constructor(e,n){super(e,"in",n),this.keys=B4("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},gA=class extends Jn{constructor(e,n){super(e,"not-in",n),this.keys=B4("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function B4(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Ae.fromName(i.referenceValue))}var vA=class extends Jn{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return LM(n)&&Wg(n.arrayValue,this.value)}},yA=class extends Jn{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Wg(this.value.arrayValue,n)}},_A=class extends Jn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Wg(this.value.arrayValue,n)}},wA=class extends Jn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!LM(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Wg(this.value.arrayValue,i))}};var bA=class{constructor(e,n=null,i=[],r=[],o=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=a,this.endAt=l,this.ce=null}};function f4(t,e=null,n=[],i=[],r=null,o=null,a=null){return new bA(t,e,n,i,r,o,a)}function VM(t){let e=We(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>fA(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),rC(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Hh(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Hh(i)).join(",")),e.ce=n}return e.ce}function jM(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!j4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!h4(t.startAt,e.startAt)&&h4(t.endAt,e.endAt)}function CA(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var qh=class{constructor(e,n=null,i=[],r=[],o=null,a="F",l=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=d,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function mie(t,e,n,i,r,o,a,l){return new qh(t,e,n,i,r,o,a,l)}function $4(t){return new qh(t)}function p4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gie(t){return t.collectionGroup!==null}function $g(t){let e=We(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new ji(Sr.comparator);return a.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new zh(o,i))}),n.has(Sr.keyField().canonicalString())||e.le.push(new zh(Sr.keyField(),i))}return e.le}function ws(t){let e=We(t);return e.he||(e.he=vie(e,$g(t))),e.he}function vie(t,e){if(t.limitType==="F")return f4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new zh(r.field,o)});let n=t.endAt?new Gh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Gh(t.startAt.position,t.startAt.inclusive):null;return f4(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function EA(t,e,n){return new qh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function oC(t,e){return jM(ws(t),ws(e))&&t.limitType===e.limitType}function H4(t){return`${VM(ws(t))}|lt:${t.limitType}`}function kh(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>U4(r)).join(", ")}]`),rC(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Hh(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Hh(r)).join(",")),`Target(${i})`}(ws(t))}; limitType=${t.limitType})`}function sC(t,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ae.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(let o of $g(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(a,l,d){let h=d4(a,l,d);return a.inclusive?h<=0:h<0}(i.startAt,$g(i),r)||i.endAt&&!function(a,l,d){let h=d4(a,l,d);return a.inclusive?h>=0:h>0}(i.endAt,$g(i),r))}(t,e)}function yie(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function G4(t){return(e,n)=>{let i=!1;for(let r of $g(t)){let o=_ie(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function _ie(t,e,n){let i=t.field.isKeyField()?Ae.comparator(e.key,n.key):function(o,a,l){let d=a.data.field(o),h=l.data.field(o);return d!==null&&h!==null?$h(d,h):Ve()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ve()}}var Dc=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){nf(this.inner,(n,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return R4(this.inner)}size(){return this.innerSize}};var wie=new Tn(Ae.comparator);function ga(){return wie}var z4=new Tn(Ae.comparator);function Ug(...t){let e=z4;for(let n of t)e=e.insert(n.key,n);return e}function q4(t){let e=z4;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function cu(){return Hg()}function W4(){return Hg()}function Hg(){return new Dc(t=>t.toString(),(t,e)=>t.isEqual(e))}var bie=new Tn(Ae.comparator),Cie=new ji(Ae.comparator);function pt(...t){let e=Cie;for(let n of t)e=e.add(n);return e}var Eie=new ji(kt);function Iie(){return Eie}function K4(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zg(e)?"-0":e}}function Y4(t){return{integerValue:""+t}}function Sie(t,e){return cie(e)?Y4(e):K4(t,e)}var Wh=class{constructor(){this._=void 0}};function Tie(t,e,n){return t instanceof Kh?function(r,o){let a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&NM(o)&&(o=FM(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof pu?J4(t,e):t instanceof mu?X4(t,e):function(r,o){let a=Q4(r,o),l=m4(a)+m4(r.Ie);return hA(a)&&hA(r.Ie)?Y4(l):K4(r.serializer,l)}(t,e)}function Die(t,e,n){return t instanceof pu?J4(t,e):t instanceof mu?X4(t,e):n}function Q4(t,e){return t instanceof Yh?function(i){return hA(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var Kh=class extends Wh{},pu=class extends Wh{constructor(e){super(),this.elements=e}};function J4(t,e){let n=Z4(e);for(let i of t.elements)n.some(r=>Es(r,i))||n.push(i);return{arrayValue:{values:n}}}var mu=class extends Wh{constructor(e){super(),this.elements=e}};function X4(t,e){let n=Z4(e);for(let i of t.elements)n=n.filter(r=>!Es(r,i));return{arrayValue:{values:n}}}var Yh=class extends Wh{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function m4(t){return In(t.integerValue||t.doubleValue)}function Z4(t){return LM(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function xie(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof pu&&r instanceof pu||i instanceof mu&&r instanceof mu?Bh(i.elements,r.elements,Es):i instanceof Yh&&r instanceof Yh?Es(i.Ie,r.Ie):i instanceof Kh&&r instanceof Kh}(t.transform,e.transform)}var IA=class{constructor(e,n){this.version=e,this.transformResults=n}},Ec=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function xb(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Qh=class{};function e5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kg(t.key,Ec.none()):new gu(t.key,t.data,Ec.none());{let n=t.data,i=Oo.empty(),r=new ji(Sr.comparator);for(let o of e.fields)if(!r.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?i.delete(o):i.set(o,a),r=r.add(o)}return new va(t.key,i,new ys(r.toArray()),Ec.none())}}function Aie(t,e,n){t instanceof gu?function(r,o,a){let l=r.value.clone(),d=v4(r.fieldTransforms,o,a.transformResults);l.setAll(d),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof va?function(r,o,a){if(!xb(r.precondition,o))return void o.convertToUnknownDocument(a.version);let l=v4(r.fieldTransforms,o,a.transformResults),d=o.data;d.setAll(t5(r)),d.setAll(l),o.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(t,e,n):function(r,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Gg(t,e,n,i){return t instanceof gu?function(o,a,l,d){if(!xb(o.precondition,a))return l;let h=o.value.clone(),m=y4(o.fieldTransforms,d,a);return h.setAll(m),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,i):t instanceof va?function(o,a,l,d){if(!xb(o.precondition,a))return l;let h=y4(o.fieldTransforms,d,a),m=a.data;return m.setAll(t5(o)),m.setAll(h),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,i):function(o,a,l){return xb(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function Mie(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),o=Q4(i.transform,r||null);o!=null&&(n===null&&(n=Oo.empty()),n.set(i.field,o))}return n||null}function g4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Bh(i,r,(o,a)=>xie(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var gu=class extends Qh{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},va=class extends Qh{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function t5(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function v4(t,e,n){let i=new Map;Zt(t.length===n.length);for(let r=0;r<n.length;r++){let o=t[r],a=o.transform,l=e.data.field(o.field);i.set(o.field,Die(a,l,n[r]))}return i}function y4(t,e,n){let i=new Map;for(let r of t){let o=r.transform,a=n.data.field(r.field);i.set(r.field,Tie(o,a,e))}return i}var Kg=class extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},SA=class extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var TA=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&Aie(o,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=Gg(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=Gg(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=W4();return this.mutations.forEach(r=>{let o=e.get(r.key),a=o.overlayedDocument,l=this.applyToLocalView(a,o.mutatedFields);l=n.has(r.key)?null:l;let d=e5(a,l);d!==null&&i.set(r.key,d),a.isValidDocument()||a.convertToNoDocument(qe.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pt())}isEqual(e){return this.batchId===e.batchId&&Bh(this.mutations,e.mutations,(n,i)=>g4(n,i))&&Bh(this.baseMutations,e.baseMutations,(n,i)=>g4(n,i))}},DA=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Zt(e.mutations.length===i.length);let r=function(){return bie}(),o=e.mutations;for(let a=0;a<o.length;a++)r=r.insert(o[a].key,i[a].version);return new t(e,n,i,r)}};var xA=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var AA=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var zn,It;function Pie(t){switch(t){default:return Ve();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function n5(t){if(t===void 0)return Cs("GRPC error has no .code"),W.UNKNOWN;switch(t){case zn.OK:return W.OK;case zn.CANCELLED:return W.CANCELLED;case zn.UNKNOWN:return W.UNKNOWN;case zn.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case zn.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case zn.INTERNAL:return W.INTERNAL;case zn.UNAVAILABLE:return W.UNAVAILABLE;case zn.UNAUTHENTICATED:return W.UNAUTHENTICATED;case zn.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case zn.NOT_FOUND:return W.NOT_FOUND;case zn.ALREADY_EXISTS:return W.ALREADY_EXISTS;case zn.PERMISSION_DENIED:return W.PERMISSION_DENIED;case zn.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case zn.ABORTED:return W.ABORTED;case zn.OUT_OF_RANGE:return W.OUT_OF_RANGE;case zn.UNIMPLEMENTED:return W.UNIMPLEMENTED;case zn.DATA_LOSS:return W.DATA_LOSS;default:return Ve()}}(It=zn||(zn={}))[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";var _4=null;function Oie(){return new TextEncoder}var kie=new su([4294967295,4294967295],0);function w4(t){let e=Oie().encode(t),n=new r4;return n.update(e),new Uint8Array(n.digest())}function b4(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new su([n,i],0),new su([r,o],0)]}var MA=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new lu(`Invalid padding: ${n}`);if(i<0)throw new lu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new lu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new lu(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=su.fromNumber(this.Te)}de(e,n,i){let r=e.add(n.multiply(su.fromNumber(i)));return r.compare(kie)===1&&(r=new su([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=w4(e),[i,r]=b4(n);for(let o=0;o<this.hashCount;o++){let a=this.de(i,r,o);if(!this.Ae(a))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new t(o,r,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.Te===0)return;let n=w4(e),[i,r]=b4(n);for(let o=0;o<this.hashCount;o++){let a=this.de(i,r,o);this.Re(a)}}Re(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},lu=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Lb=class t{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,Yg.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(qe.min(),r,new Tn(kt),ga(),pt())}},Yg=class t{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,pt(),pt(),pt())}};var Vh=class{constructor(e,n,i,r){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=r}},Vb=class{constructor(e,n){this.targetId=e,this.fe=n}},jb=class{constructor(e,n,i=tr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},Ub=class{constructor(){this.ge=0,this.pe=E4(),this.ye=tr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=pt(),n=pt(),i=pt();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Ve()}}),new Yg(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=E4()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Zt(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},PA=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=ga(),this.Qe=C4(),this.Ke=new Tn(kt)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:Ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,r)=>{this.je(r)&&n(r)})}Je(e){let n=e.targetId,i=e.fe.count,r=this.Ye(n);if(r){let o=r.target;if(CA(o))if(i===0){let a=new Ae(o.path);this.We(n,a,Ro.newNoDocument(a,qe.min()))}else Zt(i===1);else{let a=this.Ze(n);if(a!==i){let l=this.Xe(e),d=l?this.et(l,e,a):1;if(d!==0){this.He(n);let h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,h)}_4?.tt(function(m,v,y,b,w){var S,T,O,V,$,x;let ee={localCacheCount:m,existenceFilterCount:v.count,databaseId:y.database,projectId:y.projectId},U=v.unchangedNames;return U&&(ee.bloomFilter={applied:w===0,hashCount:(S=U?.hashCount)!==null&&S!==void 0?S:0,bitmapLength:(V=(O=(T=U?.bits)===null||T===void 0?void 0:T.bitmap)===null||O===void 0?void 0:O.length)!==null&&V!==void 0?V:0,padding:(x=($=U?.bits)===null||$===void 0?void 0:$.padding)!==null&&x!==void 0?x:0,mightContain:re=>{var Ee;return(Ee=b?.mightContain(re))!==null&&Ee!==void 0&&Ee}}),ee}(a,e.fe,this.Le.nt(),l,d))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n,a,l;try{a=Tc(i).toUint8Array()}catch(d){if(d instanceof Rb)return Uh("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{l=new MA(a,r,o)}catch(d){return Uh(d instanceof lu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return l.Te===0?null:l}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(o=>{let a=this.Le.nt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.We(n,o,null),r++)}),r}it(e){let n=new Map;this.ke.forEach((o,a)=>{let l=this.Ye(a);if(l){if(o.current&&CA(l.target)){let d=new Ae(l.target.path);this.qe.get(d)!==null||this.st(a,d)||this.We(a,d,Ro.newNoDocument(d,e))}o.De&&(n.set(a,o.ve()),o.Fe())}});let i=pt();this.Qe.forEach((o,a)=>{let l=!0;a.forEachWhile(d=>{let h=this.Ye(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(o))}),this.qe.forEach((o,a)=>a.setReadTime(e));let r=new Lb(e,n,this.Ke,this.qe,i);return this.qe=ga(),this.Qe=C4(),this.Ke=new Tn(kt),r}Ue(e,n){if(!this.je(e))return;let i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;let r=this.ze(e);this.st(e,n)?r.Me(n,1):r.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Ub,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new ji(kt),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Ub),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function C4(){return new Tn(Ae.comparator)}function E4(){return new Tn(Ae.comparator)}var Rie={asc:"ASCENDING",desc:"DESCENDING"},Nie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fie={and:"AND",or:"OR"},OA=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function kA(t,e){return t.useProto3Json||rC(e)?e:{value:e}}function Bb(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function i5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Lie(t,e){return Bb(t,e.toTimestamp())}function bs(t){return Zt(!!t),qe.fromTimestamp(function(n){let i=Sc(n);return new Ii(i.seconds,i.nanos)}(t))}function UM(t,e){return RA(t,e).canonicalString()}function RA(t,e){let n=function(r){return new Sn(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function r5(t){let e=Sn.fromString(t);return Zt(l5(e)),e}function NA(t,e){return UM(t.databaseId,e.path)}function Kx(t,e){let n=r5(e);if(n.get(1)!==t.databaseId.projectId)throw new Ce(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ce(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(s5(n))}function o5(t,e){return UM(t.databaseId,e)}function Vie(t){let e=r5(t);return e.length===4?Sn.emptyPath():s5(e)}function FA(t){return new Sn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function s5(t){return Zt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function I4(t,e,n){return{name:NA(t,e),fields:n.value.mapValue.fields}}function jie(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(h,m){return h.useProto3Json?(Zt(m===void 0||typeof m=="string"),tr.fromBase64String(m||"")):(Zt(m===void 0||m instanceof Uint8Array),tr.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){let m=h.code===void 0?W.UNKNOWN:n5(h.code);return new Ce(m,h.message||"")}(a);n=new jb(i,r,o,l||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Kx(t,i.document.name),o=bs(i.document.updateTime),a=i.document.createTime?bs(i.document.createTime):qe.min(),l=new Oo({mapValue:{fields:i.document.fields}}),d=Ro.newFoundDocument(r,o,a,l),h=i.targetIds||[],m=i.removedTargetIds||[];n=new Vh(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Kx(t,i.document),o=i.readTime?bs(i.readTime):qe.min(),a=Ro.newNoDocument(r,o),l=i.removedTargetIds||[];n=new Vh([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Kx(t,i.document),o=i.removedTargetIds||[];n=new Vh([],o,r,null)}else{if(!("filter"in e))return Ve();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,a=new AA(r,o),l=i.targetId;n=new Vb(l,a)}}return n}function Uie(t,e){let n;if(e instanceof gu)n={update:I4(t,e.key,e.value)};else if(e instanceof Kg)n={delete:NA(t,e.key)};else if(e instanceof va)n={update:I4(t,e.key,e.data),updateMask:Yie(e.fieldMask)};else{if(!(e instanceof SA))return Ve();n={verify:NA(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,a){let l=a.transform;if(l instanceof Kh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof pu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof mu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Yh)return{fieldPath:a.field.canonicalString(),increment:l.Ie};throw Ve()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:Lie(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ve()}(t,e.precondition)),n}function Bie(t,e){return t&&t.length>0?(Zt(e!==void 0),t.map(n=>function(r,o){let a=r.updateTime?bs(r.updateTime):bs(o);return a.isEqual(qe.min())&&(a=bs(o)),new IA(a,r.transformResults||[])}(n,e))):[]}function $ie(t,e){return{documents:[o5(t,e.path)]}}function Hie(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=o5(t,r);let o=function(h){if(h.length!==0)return c5(Is.create(h,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let a=function(h){if(h.length!==0)return h.map(m=>function(y){return{field:Rh(y.field),direction:qie(y.dir)}}(m))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);let l=kA(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ut:n,parent:r}}function Gie(t){let e=Vie(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Zt(i===1);let m=n.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(v){let y=a5(v);return y instanceof Is&&V4(y)?y.getFilters():[y]}(n.where));let a=[];n.orderBy&&(a=function(v){return v.map(y=>function(w){return new zh(Nh(w.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(v){let y;return y=typeof v=="object"?v.value:v,rC(y)?null:y}(n.limit));let d=null;n.startAt&&(d=function(v){let y=!!v.before,b=v.values||[];return new Gh(b,y)}(n.startAt));let h=null;return n.endAt&&(h=function(v){let y=!v.before,b=v.values||[];return new Gh(b,y)}(n.endAt)),mie(e,r,a,o,l,"F",d,h)}function zie(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function a5(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=Nh(n.unaryFilter.field);return Jn.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Nh(n.unaryFilter.field);return Jn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Nh(n.unaryFilter.field);return Jn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let a=Nh(n.unaryFilter.field);return Jn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}}(t):t.fieldFilter!==void 0?function(n){return Jn.create(Nh(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Is.create(n.compositeFilter.filters.map(i=>a5(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ve()}}(n.compositeFilter.op))}(t):Ve()}function qie(t){return Rie[t]}function Wie(t){return Nie[t]}function Kie(t){return Fie[t]}function Rh(t){return{fieldPath:t.canonicalString()}}function Nh(t){return Sr.fromServerFormat(t.fieldPath)}function c5(t){return t instanceof Jn?function(n){if(n.op==="=="){if(u4(n.value))return{unaryFilter:{field:Rh(n.field),op:"IS_NAN"}};if(l4(n.value))return{unaryFilter:{field:Rh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(u4(n.value))return{unaryFilter:{field:Rh(n.field),op:"IS_NOT_NAN"}};if(l4(n.value))return{unaryFilter:{field:Rh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rh(n.field),op:Wie(n.op),value:n.value}}}(t):t instanceof Is?function(n){let i=n.getFilters().map(r=>c5(r));return i.length===1?i[0]:{compositeFilter:{op:Kie(n.op),filters:i}}}(t):Ve()}function Yie(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function l5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Qg=class t{constructor(e,n,i,r,o=qe.min(),a=qe.min(),l=tr.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=d}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var LA=class{constructor(e){this.ct=e}};function Qie(t){let e=Gie({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?EA(e,e.limit,"L"):e}var $b=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(In(e.integerValue));else if("doubleValue"in e){let i=In(e.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),zg(i)?n.dt(0):n.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(n,20),typeof i=="string"?n.At(i):(n.At(`${i.seconds||""}`),n.dt(i.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Tc(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in e?N4(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Ve()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let i=e.fields||{};this.Et(n,55);for(let r of Object.keys(i))this.Rt(r,n),this.It(i[r],n)}wt(e,n){let i=e.values||[];this.Et(n,50);for(let r of i)this.It(r,n)}gt(e,n){this.Et(n,37),Ae.fromName(e).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};$b.bt=new $b;var VA=class{constructor(){this._n=new jA}addToCollectionParentIndex(e,n){return this._n.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(hu.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(hu.min())}updateCollectionGroup(e,n,i){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}},jA=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new ji(Sn.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ji(Sn.comparator)).toArray()}};var Obe=new Uint8Array(0);var vs=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};vs.DEFAULT_COLLECTION_PERCENTILE=10,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vs.DEFAULT=new vs(41943040,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vs.DISABLED=new vs(-1,0,0);var Jg=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Bn(){return new t(-1)}};var UA=class{constructor(){this.changes=new Dc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ro.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?K.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var BA=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var $A=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Gg(i.mutation,r,ys.empty(),Ii.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,pt()).next(()=>i))}getLocalViewOfDocuments(e,n,i=pt()){let r=cu();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let a=Ug();return o.forEach((l,d)=>{a=a.insert(l,d.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){let i=cu();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,pt()))}populateOverlays(e,n,i){let r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,r){let o=ga(),a=Hg(),l=function(){return Hg()}();return n.forEach((d,h)=>{let m=i.get(h.key);r.has(h.key)&&(m===void 0||m.mutation instanceof va)?o=o.insert(h.key,h):m!==void 0?(a.set(h.key,m.mutation.getFieldMask()),Gg(m.mutation,h,m.mutation.getFieldMask(),Ii.now())):a.set(h.key,ys.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((h,m)=>a.set(h,m)),n.forEach((h,m)=>{var v;return l.set(h,new BA(m,(v=a.get(h))!==null&&v!==void 0?v:null))}),l))}recalculateAndSaveOverlays(e,n){let i=Hg(),r=new Tn((a,l)=>a-l),o=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(let l of a)l.keys().forEach(d=>{let h=n.get(d);if(h===null)return;let m=i.get(d)||ys.empty();m=l.applyToLocalView(h,m),i.set(d,m);let v=(r.get(l.batchId)||pt()).add(d);r=r.insert(l.batchId,v)})}).next(()=>{let a=[],l=r.getReverseIterator();for(;l.hasNext();){let d=l.getNext(),h=d.key,m=d.value,v=W4();m.forEach(y=>{if(!o.has(y)){let b=e5(n.get(y),i.get(y));b!==null&&v.set(y,b),o=o.add(y)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,v))}return K.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(a){return Ae.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gie(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{let a=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):K.resolve(cu()),l=-1,d=o;return a.next(h=>K.forEach(h,(m,v)=>(l<v.largestBatchId&&(l=v.largestBatchId),o.get(m)?K.resolve():this.remoteDocumentCache.getEntry(e,m).next(y=>{d=d.insert(m,y)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,d,h,pt())).next(m=>({batchId:l,changes:q4(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next(i=>{let r=Ug();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let o=n.collectionGroup,a=Ug();return this.indexManager.getCollectionParents(e,o).next(l=>K.forEach(l,d=>{let h=function(v,y){return new qh(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,i,r).next(m=>{m.forEach((v,y)=>{a=a.insert(v,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(a=>{o.forEach((d,h)=>{let m=h.getKey();a.get(m)===null&&(a=a.insert(m,Ro.newInvalidDocument(m)))});let l=Ug();return a.forEach((d,h)=>{let m=o.get(d);m!==void 0&&Gg(m.mutation,h,ys.empty(),Ii.now()),sC(n,h)&&(l=l.insert(d,h))}),l})}};var HA=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return K.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:bs(r.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:Qie(r.bundledQuery),readTime:bs(r.readTime)}}(n)),K.resolve()}};var GA=class{constructor(){this.overlays=new Tn(Ae.comparator),this.hr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){let i=cu();return K.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.ht(e,n,o)}),K.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(i)),K.resolve()}getOverlaysForCollection(e,n,i){let r=cu(),o=n.length+1,a=new Ae(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){let d=l.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&d.largestBatchId>i&&r.set(d.getKey(),d)}return K.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new Tn((h,m)=>h-m),a=this.overlays.getIterator();for(;a.hasNext();){let h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let m=o.get(h.largestBatchId);m===null&&(m=cu(),o=o.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}let l=cu(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,m)=>l.set(h,m)),!(l.size()>=r)););return K.resolve(l)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let a=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new xA(n,i));let o=this.hr.get(n);o===void 0&&(o=pt(),this.hr.set(n,o)),this.hr.set(n,o.add(i.key))}};var Xg=class{constructor(){this.Pr=new ji(qn.Ir),this.Tr=new ji(qn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let i=new qn(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new qn(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){let n=new Ae(new Sn([])),i=new qn(n,e),r=new qn(n,e+1),o=[];return this.Tr.forEachInRange([i,r],a=>{this.Ar(a),o.push(a.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new Ae(new Sn([])),i=new qn(n,e),r=new qn(n,e+1),o=pt();return this.Tr.forEachInRange([i,r],a=>{o=o.add(a.key)}),o}containsKey(e){let n=new qn(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},qn=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Ae.comparator(e.key,n.key)||kt(e.pr,n.pr)}static Er(e,n){return kt(e.pr,n.pr)||Ae.comparator(e.key,n.key)}};var zA=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ji(qn.Ir)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new TA(o,n,i,r);this.mutationQueue.push(a);for(let l of r)this.wr=this.wr.add(new qn(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return K.resolve(a)}lookupMutationBatch(e,n){return K.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.br(i),o=r<0?0:r;return K.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new qn(n,0),r=new qn(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([i,r],a=>{let l=this.Sr(a.pr);o.push(l)}),K.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new ji(kt);return n.forEach(r=>{let o=new qn(r,0),a=new qn(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,a],l=>{i=i.add(l.pr)})}),K.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=i;Ae.isDocumentKey(o)||(o=o.child(""));let a=new qn(new Ae(o),0),l=new ji(kt);return this.wr.forEachWhile(d=>{let h=d.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(l=l.add(d.pr)),!0)},a),K.resolve(this.Dr(l))}Dr(e){let n=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Zt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return K.forEach(n.mutations,r=>{let o=new qn(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){let i=new qn(n,0),r=this.wr.firstAfterOrEqual(i);return K.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var qA=class{constructor(e){this.vr=e,this.docs=function(){return new Tn(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),o=r?r.size:0,a=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return K.resolve(i?i.document.mutableCopy():Ro.newInvalidDocument(n))}getEntries(e,n){let i=ga();return n.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Ro.newInvalidDocument(r))}),K.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=ga(),a=n.path,l=new Ae(a.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){let{key:h,value:{document:m}}=d.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||sie(oie(m),i)<=0||(r.has(m.key)||sC(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return K.resolve(o)}getAllFromCollectionGroup(e,n,i,r){Ve()}Fr(e,n){return K.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new WA(this)}getSize(e){return K.resolve(this.size)}},WA=class extends UA{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),K.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var KA=class{constructor(e){this.persistence=e,this.Mr=new Dc(n=>VM(n),jM),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Xg,this.targetCount=0,this.Br=Jg.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),K.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Br=new Jg(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.qn(n),K.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,i){let r=0,o=[];return this.Mr.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.Mr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),K.waitFor(o).next(()=>r)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){let i=this.Mr.get(n)||null;return K.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),K.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);let r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(a=>{o.push(r.markPotentiallyOrphaned(e,a))}),K.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),K.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Nr.gr(n);return K.resolve(i)}containsKey(e,n){return K.resolve(this.Nr.containsKey(n))}};var YA=class{constructor(e,n){this.Lr={},this.overlays={},this.kr=new k4(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new KA(this),this.indexManager=new VA,this.remoteDocumentCache=function(r){return new qA(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new LA(n),this.$r=new HA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Lr[e.toKey()];return i||(i=new zA(n,this.referenceDelegate),this.Lr[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){le("MemoryPersistence","Starting transaction:",e);let r=new QA(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(e,n){return K.or(Object.values(this.Lr).map(i=>()=>i.containsKey(e,n)))}},QA=class extends sA{constructor(e){super(),this.currentSequenceNumber=e}},JA=class t{constructor(e){this.persistence=e,this.zr=new Xg,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw Ve()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),K.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),K.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Jr,i=>{let r=Ae.fromPath(i);return this.Yr(e,r).next(o=>{o||n.removeEntry(r,qe.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return K.or([()=>K.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var XA=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=pt(),r=pt();for(let o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new t(e,n.fromCache,i,r)}};var ZA=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var eM=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return hU()?8:Ob.v(qt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){let o={result:null};return this.ji(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Hi(e,n,r,i).next(a=>{o.result=a})}).next(()=>{if(o.result)return;let a=new ZA;return this.Ji(e,n,a).next(l=>{if(o.result=l,this.Ui)return this.Yi(e,n,a,l.size)})}).next(()=>o.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(jg()<=lt.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",kh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),K.resolve()):(jg()<=lt.DEBUG&&le("QueryEngine","Query:",kh(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(jg()<=lt.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",kh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ws(n))):K.resolve())}ji(e,n){if(p4(n))return K.resolve(null);let i=ws(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=EA(n,null,"F"),i=ws(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let a=pt(...o);return this.zi.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(d=>{let h=this.Zi(n,l);return this.Xi(n,h,a,d.readTime)?this.ji(e,EA(n,null,"F")):this.es(e,h,n,d)}))})))}Hi(e,n,i,r){return p4(n)||r.isEqual(qe.min())?K.resolve(null):this.zi.getDocuments(e,i).next(o=>{let a=this.Zi(n,o);return this.Xi(n,a,i,r)?K.resolve(null):(jg()<=lt.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),kh(n)),this.es(e,a,n,rie(r,-1)).next(l=>l))})}Zi(e,n){let i=new ji(G4(e));return n.forEach((r,o)=>{sC(e,o)&&(i=i.add(o))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(e,n,i){return jg()<=lt.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",kh(n)),this.zi.getDocumentsMatchingQuery(e,n,hu.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}};var tM=class{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new Tn(kt),this.rs=new Dc(o=>VM(o),jM),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $A(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function Jie(t,e,n,i){return new tM(t,e,n,i)}function u5(t,e){return C(this,null,function*(){let n=We(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{let a=[],l=[],d=pt();for(let h of r){a.push(h.batchId);for(let m of h.mutations)d=d.add(m.key)}for(let h of o){l.push(h.batchId);for(let m of h.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(i,d).next(h=>({us:h,removedBatchIds:a,addedBatchIds:l}))})})})}function Xie(t,e){let n=We(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(l,d,h,m){let v=h.batch,y=v.keys(),b=K.resolve();return y.forEach(w=>{b=b.next(()=>m.getEntry(d,w)).next(S=>{let T=h.docVersions.get(w);Zt(T!==null),S.version.compareTo(T)<0&&(v.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),m.addEntry(S)))})}),b.next(()=>l.mutationQueue.removeMutationBatch(d,v))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let d=pt();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(d=d.add(l.batch.mutations[h].key));return d}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function d5(t){let e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function Zie(t,e){let n=We(t),i=e.snapshotVersion,r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let a=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;let l=[];e.targetChanges.forEach((m,v)=>{let y=r.get(v);if(!y)return;l.push(n.Qr.removeMatchingKeys(o,m.removedDocuments,v).next(()=>n.Qr.addMatchingKeys(o,m.addedDocuments,v)));let b=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(tr.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):m.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(m.resumeToken,i)),r=r.insert(v,b),function(S,T,O){return S.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(y,b,m)&&l.push(n.Qr.updateTargetData(o,b))});let d=ga(),h=pt();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),l.push(ere(o,a,e.documentUpdates).next(m=>{d=m.cs,h=m.ls})),!i.isEqual(qe.min())){let m=n.Qr.getLastRemoteSnapshotVersion(o).next(v=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,i));l.push(m)}return K.waitFor(l).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,h)).next(()=>d)}).then(o=>(n.ns=r,o))}function ere(t,e,n){let i=pt(),r=pt();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let a=ga();return n.forEach((l,d)=>{let h=o.get(l);d.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),d.isNoDocument()&&d.version.isEqual(qe.min())?(e.removeEntry(l,d.readTime),a=a.insert(l,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),a=a.insert(l,d)):le("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",d.version)}),{cs:a,ls:r}})}function tre(t,e){let n=We(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function nre(t,e){let n=We(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(o=>o?(r=o,K.resolve(r)):n.Qr.allocateTargetId(i).next(a=>(r=new Qg(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}function nM(t,e,n){return C(this,null,function*(){let i=We(t),r=i.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",o,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!iv(a))throw a;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function S4(t,e,n){let i=We(t),r=qe.min(),o=pt();return i.persistence.runTransaction("Execute query","readwrite",a=>function(d,h,m){let v=We(d),y=v.rs.get(m);return y!==void 0?K.resolve(v.ns.get(y)):v.Qr.getTargetData(h,m)}(i,a,ws(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(a,l.targetId).next(d=>{o=d})}).next(()=>i.ts.getDocumentsMatchingQuery(a,e,n?r:qe.min(),n?o:pt())).next(l=>(ire(i,yie(e),l),{documents:l,hs:o})))}function ire(t,e,n){let i=t.ss.get(e)||qe.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.ss.set(e,i)}var Hb=class{constructor(){this.activeTargetIds=Iie()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var iM=class{constructor(){this.no=new Hb,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Hb,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var rM=class{io(e){}shutdown(){}};var Gb=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Tb=null;function Yx(){return Tb===null?Tb=function(){return 268435456+Math.round(2147483648*Math.random())}():Tb++,"0x"+Tb.toString(16)}var rre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var oM=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var Vi="WebChannelConnection",sM=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=i+"://"+n.host,this.po=`projects/${r}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get wo(){return!1}So(n,i,r,o,a){let l=Yx(),d=this.bo(n,i.toUriEncodedString());le("RestConnection",`Sending RPC '${n}' ${l}:`,d,r);let h={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(h,o,a),this.Co(n,d,h,r).then(m=>(le("RestConnection",`Received RPC '${n}' ${l}: `,m),m),m=>{throw Uh("RestConnection",`RPC '${n}' ${l} failed with error: `,m,"url: ",d,"request:",r),m})}vo(n,i,r,o,a,l){return this.So(n,i,r,o,a)}Do(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tf}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,a)=>n[a]=o),r&&r.headers.forEach((o,a)=>n[a]=o)}bo(n,i){let r=rre[n];return`${this.fo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,i,r){let o=Yx();return new Promise((a,l)=>{let d=new i4;d.setWithCredentials(!0),d.listenOnce(t4.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Ib.NO_ERROR:let m=d.getResponseJson();le(Vi,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case Ib.TIMEOUT:le(Vi,`RPC '${e}' ${o} timed out`),l(new Ce(W.DEADLINE_EXCEEDED,"Request time out"));break;case Ib.HTTP_ERROR:let v=d.getStatus();if(le(Vi,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);let b=y?.error;if(b&&b.status&&b.message){let w=function(T){let O=T.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(O)>=0?O:W.UNKNOWN}(b.status);l(new Ce(w,b.message))}else l(new Ce(W.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new Ce(W.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{le(Vi,`RPC '${e}' ${o} completed.`)}});let h=JSON.stringify(r);le(Vi,`RPC '${e}' ${o} sending request:`,r),d.send(n,"POST",h,i,15)})}Fo(e,n,i){let r=Yx(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Z6(),l=e4(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;let m=o.join("");le(Vi,`Creating RPC '${e}' stream ${r}: ${m}`,d);let v=a.createWebChannel(m,d),y=!1,b=!1,w=new oM({lo:T=>{b?le(Vi,`Not sending because RPC '${e}' stream ${r} is closed:`,T):(y||(le(Vi,`Opening RPC '${e}' stream ${r} transport.`),v.open(),y=!0),le(Vi,`RPC '${e}' stream ${r} sending:`,T),v.send(T))},ho:()=>v.close()}),S=(T,O,V)=>{T.listen(O,$=>{try{V($)}catch(x){setTimeout(()=>{throw x},0)}})};return S(v,Vg.EventType.OPEN,()=>{b||le(Vi,`RPC '${e}' stream ${r} transport opened.`)}),S(v,Vg.EventType.CLOSE,()=>{b||(b=!0,le(Vi,`RPC '${e}' stream ${r} transport closed`),w.Vo())}),S(v,Vg.EventType.ERROR,T=>{b||(b=!0,Uh(Vi,`RPC '${e}' stream ${r} transport errored:`,T),w.Vo(new Ce(W.UNAVAILABLE,"The operation could not be completed")))}),S(v,Vg.EventType.MESSAGE,T=>{var O;if(!b){let V=T.data[0];Zt(!!V);let $=V,x=$.error||((O=$[0])===null||O===void 0?void 0:O.error);if(x){le(Vi,`RPC '${e}' stream ${r} received error:`,x);let ee=x.status,U=function(He){let Xe=zn[He];if(Xe!==void 0)return n5(Xe)}(ee),re=x.message;U===void 0&&(U=W.INTERNAL,re="Unknown error status: "+ee+" with message "+x.message),b=!0,w.Vo(new Ce(U,re)),v.close()}else le(Vi,`RPC '${e}' stream ${r} received:`,V),w.mo(V)}}),S(l,n4.STAT_EVENT,T=>{T.stat===Wx.PROXY?le(Vi,`RPC '${e}' stream ${r} detected buffering proxy`):T.stat===Wx.NOPROXY&&le(Vi,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{w.Ro()},0),w}};function Qx(){return typeof document<"u"?document:null}function aC(t){return new OA(t,!0)}var zb=class{constructor(e,n,i=1e3,r=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=i,this.xo=r,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),i=Math.max(0,Date.now()-this.Lo),r=Math.max(0,n-i);r>0&&le("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var qb=class{constructor(e,n,i,r,o,a,l,d){this.oi=e,this.$o=i,this.Uo=r,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=d,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new zb(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return C(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return C(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return C(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Cs(n.toString()),Cs("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Wo===n&&this.o_(i,r)},i=>{e(()=>{let r=new Ce(W.UNKNOWN,"Fetching auth token failed: "+i.message);return this.__(r)})})}o_(e,n){let i=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{i(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(r=>{i(()=>this.__(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Yo(){this.state=5,this.jo.qo(()=>C(this,null,function*(){this.state=0,this.start()}))}__(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},aM=class extends qb{constructor(e,n,i,r,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=jie(this.serializer,e),i=function(o){if(!("targetChange"in o))return qe.min();let a=o.targetChange;return a.targetIds&&a.targetIds.length?qe.min():a.readTime?bs(a.readTime):qe.min()}(e);return this.listener.u_(n,i)}c_(e){let n={};n.database=FA(this.serializer),n.addTarget=function(o,a){let l,d=a.target;if(l=CA(d)?{documents:$ie(o,d)}:{query:Hie(o,d).ut},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=i5(o,a.resumeToken);let h=kA(o,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(qe.min())>0){l.readTime=Bb(o,a.snapshotVersion.toTimestamp());let h=kA(o,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);let i=zie(this.serializer,e);i&&(n.labels=i),this.t_(n)}l_(e){let n={};n.database=FA(this.serializer),n.removeTarget=e,this.t_(n)}},cM=class extends qb{constructor(e,n,i,r,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Zt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=Bie(e.writeResults,e.commitTime),i=bs(e.commitTime);return this.listener.T_(i,n)}return Zt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=FA(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>Uie(this.serializer,i))};this.t_(n)}};var lM=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new Ce(W.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.So(e,RA(n,i),r,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ce(W.UNKNOWN,o.toString())})}vo(e,n,i,r,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,RA(n,i),r,a,l,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ce(W.UNKNOWN,a.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var uM=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Cs(n),this.g_=!1):le("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var dM=class{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(a=>{i.enqueueAndForget(()=>C(this,null,function*(){vu(this)&&(le("RemoteStore","Restarting streams for network reachability change."),yield function(d){return C(this,null,function*(){let h=We(d);h.v_.add(4),yield rv(h),h.x_.set("Unknown"),h.v_.delete(4),yield cC(h)})}(this))}))}),this.x_=new uM(i,r)}};function cC(t){return C(this,null,function*(){if(vu(t))for(let e of t.F_)yield e(!0)})}function rv(t){return C(this,null,function*(){for(let e of t.F_)yield e(!1)})}function h5(t,e){let n=We(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),HM(n)?$M(n):rf(n).Jo()&&BM(n,e))}function f5(t,e){let n=We(t),i=rf(n);n.C_.delete(e),i.Jo()&&p5(n,e),n.C_.size===0&&(i.Jo()?i.Xo():vu(n)&&n.x_.set("Unknown"))}function BM(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rf(t).c_(e)}function p5(t,e){t.O_.Oe(e),rf(t).l_(e)}function $M(t){t.O_=new PA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),rf(t).start(),t.x_.p_()}function HM(t){return vu(t)&&!rf(t).Ho()&&t.C_.size>0}function vu(t){return We(t).v_.size===0}function m5(t){t.O_=void 0}function ore(t){return C(this,null,function*(){t.C_.forEach((e,n)=>{BM(t,e)})})}function sre(t,e){return C(this,null,function*(){m5(t),HM(t)?(t.x_.S_(e),$M(t)):t.x_.set("Unknown")})}function are(t,e,n){return C(this,null,function*(){if(t.x_.set("Online"),e instanceof jb&&e.state===2&&e.cause)try{yield function(r,o){return C(this,null,function*(){let a=o.cause;for(let l of o.targetIds)r.C_.has(l)&&(yield r.remoteSyncer.rejectListen(l,a),r.C_.delete(l),r.O_.removeTarget(l))})}(t,e)}catch(i){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Wb(t,i)}else if(e instanceof Vh?t.O_.$e(e):e instanceof Vb?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(qe.min()))try{let i=yield d5(t.localStore);n.compareTo(i)>=0&&(yield function(o,a){let l=o.O_.it(a);return l.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){let m=o.C_.get(h);m&&o.C_.set(h,m.withResumeToken(d.resumeToken,a))}}),l.targetMismatches.forEach((d,h)=>{let m=o.C_.get(d);if(!m)return;o.C_.set(d,m.withResumeToken(tr.EMPTY_BYTE_STRING,m.snapshotVersion)),p5(o,d);let v=new Qg(m.target,d,h,m.sequenceNumber);BM(o,v)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n))}catch(i){le("RemoteStore","Failed to raise snapshot:",i),yield Wb(t,i)}})}function Wb(t,e,n){return C(this,null,function*(){if(!iv(e))throw e;t.v_.add(1),yield rv(t),t.x_.set("Offline"),n||(n=()=>d5(t.localStore)),t.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){le("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield cC(t)}))})}function g5(t,e){return e().catch(n=>Wb(t,n,e))}function lC(t){return C(this,null,function*(){let e=We(t),n=xc(e),i=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;cre(e);)try{let r=yield tre(e.localStore,i);if(r===null){e.D_.length===0&&n.Xo();break}i=r.batchId,lre(e,r)}catch(r){yield Wb(e,r)}v5(e)&&y5(e)})}function cre(t){return vu(t)&&t.D_.length<10}function lre(t,e){t.D_.push(e);let n=xc(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function v5(t){return vu(t)&&!xc(t).Ho()&&t.D_.length>0}function y5(t){xc(t).start()}function ure(t){return C(this,null,function*(){xc(t).d_()})}function dre(t){return C(this,null,function*(){let e=xc(t);for(let n of t.D_)e.I_(n.mutations)})}function hre(t,e,n){return C(this,null,function*(){let i=t.D_.shift(),r=DA.from(i,e,n);yield g5(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield lC(t)})}function fre(t,e){return C(this,null,function*(){e&&xc(t).P_&&(yield function(i,r){return C(this,null,function*(){if(function(a){return Pie(a)&&a!==W.ABORTED}(r.code)){let o=i.D_.shift();xc(i).Zo(),yield g5(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield lC(i)}})}(t,e)),v5(t)&&y5(t)})}function T4(t,e){return C(this,null,function*(){let n=We(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");let i=vu(n);n.v_.add(3),yield rv(n),i&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield cC(n)})}function pre(t,e){return C(this,null,function*(){let n=We(t);e?(n.v_.delete(2),yield cC(n)):e||(n.v_.add(2),yield rv(n),n.x_.set("Unknown"))})}function rf(t){return t.N_||(t.N_=function(n,i,r){let o=We(n);return o.R_(),new aM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:ore.bind(null,t),To:sre.bind(null,t),u_:are.bind(null,t)}),t.F_.push(e=>C(this,null,function*(){e?(t.N_.Zo(),HM(t)?$M(t):t.x_.set("Unknown")):(yield t.N_.stop(),m5(t))}))),t.N_}function xc(t){return t.B_||(t.B_=function(n,i,r){let o=We(n);return o.R_(),new cM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:ure.bind(null,t),To:fre.bind(null,t),E_:dre.bind(null,t),T_:hre.bind(null,t)}),t.F_.push(e=>C(this,null,function*(){e?(t.B_.Zo(),yield lC(t)):(yield t.B_.stop(),t.D_.length>0&&(le("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.B_}var hM=class t{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ko,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){let a=Date.now()+i,l=new t(e,n,a,r,o);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function GM(t,e){if(Cs("AsyncQueue",`${e}: ${t}`),iv(t))return new Ce(W.UNAVAILABLE,`${e}: ${t}`);throw t}var Kb=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ae.comparator(n.key,i.key):(n,i)=>Ae.comparator(n.key,i.key),this.keyedMap=Ug(),this.sortedSet=new Tn(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var Yb=class{constructor(){this.L_=new Tn(Ae.comparator)}track(e){let n=e.doc.key,i=this.L_.get(n);i?e.type!==0&&i.type===3?this.L_=this.L_.insert(n,e):e.type===3&&i.type!==1?this.L_=this.L_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.L_=this.L_.remove(n):e.type===1&&i.type===2?this.L_=this.L_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Ve():this.L_=this.L_.insert(n,e)}k_(){let e=[];return this.L_.inorderTraversal((n,i)=>{e.push(i)}),e}},Jh=class t{constructor(e,n,i,r,o,a,l,d,h){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,i,r,o){let a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new t(e,n,Kb.emptySet(n),a,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var fM=class{constructor(){this.q_=void 0,this.Q_=[]}},pM=class{constructor(){this.queries=new Dc(e=>H4(e),oC),this.onlineState="Unknown",this.K_=new Set}};function mre(t,e){return C(this,null,function*(){let n=We(t),i=e.query,r=!1,o=n.queries.get(i);if(o||(r=!0,o=new fM),r)try{o.q_=yield n.onListen(i)}catch(a){let l=GM(a,`Initialization of query '${kh(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&zM(n)})}function gre(t,e){return C(this,null,function*(){let n=We(t),i=e.query,r=!1,o=n.queries.get(i);if(o){let a=o.Q_.indexOf(e);a>=0&&(o.Q_.splice(a,1),r=o.Q_.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)})}function vre(t,e){let n=We(t),i=!1;for(let r of e){let o=r.query,a=n.queries.get(o);if(a){for(let l of a.Q_)l.W_(r)&&(i=!0);a.q_=r}}i&&zM(n)}function yre(t,e,n){let i=We(t),r=i.queries.get(e);if(r)for(let o of r.Q_)o.onError(n);i.queries.delete(e)}function zM(t){t.K_.forEach(e=>{e.next()})}var mM=class{constructor(e,n,i){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=i||{}}W_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Jh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;let i=n!=="Offline";return(!this.options.Z_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;let n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Jh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}};var Qb=class{constructor(e){this.key=e}},Jb=class{constructor(e){this.key=e}},gM=class{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=pt(),this.mutatedKeys=pt(),this.ua=G4(e),this.ca=new Kb(this.ua)}get la(){return this.oa}ha(e,n){let i=n?n.Pa:new Yb,r=n?n.ca:this.ca,o=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1,d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((m,v)=>{let y=r.get(m),b=sC(this.query,v)?v:null,w=!!y&&this.mutatedKeys.has(y.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations),T=!1;y&&b?y.data.isEqual(b.data)?w!==S&&(i.track({type:3,doc:b}),T=!0):this.Ia(y,b)||(i.track({type:2,doc:b}),T=!0,(d&&this.ua(b,d)>0||h&&this.ua(b,h)<0)&&(l=!0)):!y&&b?(i.track({type:0,doc:b}),T=!0):y&&!b&&(i.track({type:1,doc:y}),T=!0,(d||h)&&(l=!0)),T&&(b?(a=a.add(b),o=S?o.add(m):o.delete(m)):(a=a.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){let m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),o=o.delete(m.key),i.track({type:1,doc:m})}return{ca:a,Pa:i,Xi:l,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;let a=e.Pa.k_();a.sort((m,v)=>function(b,w){let S=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return S(b)-S(w)}(m.type,v.type)||this.ua(m.doc,v.doc)),this.Ta(i),r=r!=null&&r;let l=n&&!r?this.Ea():[],d=this.aa.size===0&&this.current&&!r?1:0,h=d!==this._a;return this._a=d,a.length!==0||h?{snapshot:new Jh(this.query,e.ca,o,a,e.mutatedKeys,d===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),da:l}:{da:l}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Yb,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];let e=this.aa;this.aa=pt(),this.ca.forEach(i=>{this.Aa(i.key)&&(this.aa=this.aa.add(i.key))});let n=[];return e.forEach(i=>{this.aa.has(i)||n.push(new Jb(i))}),this.aa.forEach(i=>{e.has(i)||n.push(new Qb(i))}),n}Ra(e){this.oa=e.hs,this.aa=pt();let n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Jh.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}},vM=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},yM=class{constructor(e){this.key=e,this.ma=!1}},_M=class{constructor(e,n,i,r,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.fa={},this.ga=new Dc(l=>H4(l),oC),this.pa=new Map,this.ya=new Set,this.wa=new Tn(Ae.comparator),this.Sa=new Map,this.ba=new Xg,this.Da={},this.Ca=new Map,this.va=Jg.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}};function _re(t,e){return C(this,null,function*(){let n=Are(t),i,r,o=n.ga.get(e);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),r=o.view.Va();else{let a=yield nre(n.localStore,ws(e)),l=n.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield wre(n,e,i,l==="current",a.resumeToken),n.isPrimaryClient&&h5(n.remoteStore,a)}return r})}function wre(t,e,n,i,r){return C(this,null,function*(){t.Ma=(v,y,b)=>function(S,T,O,V){return C(this,null,function*(){let $=T.view.ha(O);$.Xi&&($=yield S4(S.localStore,T.query,!1).then(({documents:re})=>T.view.ha(re,$)));let x=V&&V.targetChanges.get(T.targetId),ee=V&&V.targetMismatches.get(T.targetId)!=null,U=T.view.applyChanges($,S.isPrimaryClient,x,ee);return x4(S,T.targetId,U.da),U.snapshot})}(t,v,y,b);let o=yield S4(t.localStore,e,!0),a=new gM(e,o.hs),l=a.ha(o.documents),d=Yg.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),h=a.applyChanges(l,t.isPrimaryClient,d);x4(t,n,h.da);let m=new vM(e,n,a);return t.ga.set(e,m),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),h.snapshot})}function bre(t,e){return C(this,null,function*(){let n=We(t),i=n.ga.get(e),r=n.pa.get(i.targetId);if(r.length>1)return n.pa.set(i.targetId,r.filter(o=>!oC(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||(yield nM(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),f5(n.remoteStore,i.targetId),wM(n,i.targetId)}).catch(nv))):(wM(n,i.targetId),yield nM(n.localStore,i.targetId,!0))})}function Cre(t,e,n){return C(this,null,function*(){let i=Mre(t);try{let r=yield function(a,l){let d=We(a),h=Ii.now(),m=l.reduce((b,w)=>b.add(w.key),pt()),v,y;return d.persistence.runTransaction("Locally write mutations","readwrite",b=>{let w=ga(),S=pt();return d.os.getEntries(b,m).next(T=>{w=T,w.forEach((O,V)=>{V.isValidDocument()||(S=S.add(O))})}).next(()=>d.localDocuments.getOverlayedDocuments(b,w)).next(T=>{v=T;let O=[];for(let V of l){let $=Mie(V,v.get(V.key).overlayedDocument);$!=null&&O.push(new va(V.key,$,F4($.value.mapValue),Ec.exists(!0)))}return d.mutationQueue.addMutationBatch(b,h,O,l)}).next(T=>{y=T;let O=T.applyToLocalDocumentSet(v,S);return d.documentOverlayCache.saveOverlays(b,T.batchId,O)})}).then(()=>({batchId:y.batchId,changes:q4(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,d){let h=a.Da[a.currentUser.toKey()];h||(h=new Tn(kt)),h=h.insert(l,d),a.Da[a.currentUser.toKey()]=h}(i,r.batchId,n),yield ov(i,r.changes),yield lC(i.remoteStore)}catch(r){let o=GM(r,"Failed to persist write");n.reject(o)}})}function _5(t,e){return C(this,null,function*(){let n=We(t);try{let i=yield Zie(n.localStore,e);e.targetChanges.forEach((r,o)=>{let a=n.Sa.get(o);a&&(Zt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.ma=!0:r.modifiedDocuments.size>0?Zt(a.ma):r.removedDocuments.size>0&&(Zt(a.ma),a.ma=!1))}),yield ov(n,i,e)}catch(i){yield nv(i)}})}function D4(t,e,n){let i=We(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ga.forEach((o,a)=>{let l=a.view.U_(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){let d=We(a);d.onlineState=l;let h=!1;d.queries.forEach((m,v)=>{for(let y of v.Q_)y.U_(l)&&(h=!0)}),h&&zM(d)}(i.eventManager,e),r.length&&i.fa.u_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Ere(t,e,n){return C(this,null,function*(){let i=We(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Sa.get(e),o=r&&r.key;if(o){let a=new Tn(Ae.comparator);a=a.insert(o,Ro.newNoDocument(o,qe.min()));let l=pt().add(o),d=new Lb(qe.min(),new Map,new Tn(kt),a,l);yield _5(i,d),i.wa=i.wa.remove(o),i.Sa.delete(e),qM(i)}else yield nM(i.localStore,e,!1).then(()=>wM(i,e,n)).catch(nv)})}function Ire(t,e){return C(this,null,function*(){let n=We(t),i=e.batch.batchId;try{let r=yield Xie(n.localStore,e);b5(n,i,null),w5(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield ov(n,r)}catch(r){yield nv(r)}})}function Sre(t,e,n){return C(this,null,function*(){let i=We(t);try{let r=yield function(a,l){let d=We(a);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return d.mutationQueue.lookupMutationBatch(h,l).next(v=>(Zt(v!==null),m=v.keys(),d.mutationQueue.removeMutationBatch(h,v))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,l)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>d.localDocuments.getDocuments(h,m))})}(i.localStore,e);b5(i,e,n),w5(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield ov(i,r)}catch(r){yield nv(r)}})}function w5(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function b5(t,e,n){let i=We(t),r=i.Da[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Da[i.currentUser.toKey()]=r}}function wM(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.pa.get(e))t.ga.delete(i),n&&t.fa.xa(i,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(i=>{t.ba.containsKey(i)||C5(t,i)})}function C5(t,e){t.ya.delete(e.path.canonicalString());let n=t.wa.get(e);n!==null&&(f5(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),qM(t))}function x4(t,e,n){for(let i of n)i instanceof Qb?(t.ba.addReference(i.key,e),Tre(t,i)):i instanceof Jb?(le("SyncEngine","Document no longer in limbo: "+i.key),t.ba.removeReference(i.key,e),t.ba.containsKey(i.key)||C5(t,i.key)):Ve()}function Tre(t,e){let n=e.key,i=n.path.canonicalString();t.wa.get(n)||t.ya.has(i)||(le("SyncEngine","New document in limbo: "+n),t.ya.add(i),qM(t))}function qM(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){let e=t.ya.values().next().value;t.ya.delete(e);let n=new Ae(Sn.fromString(e)),i=t.va.next();t.Sa.set(i,new yM(n)),t.wa=t.wa.insert(n,i),h5(t.remoteStore,new Qg(ws($4(n.path)),i,"TargetPurposeLimboResolution",k4._e))}}function ov(t,e,n){return C(this,null,function*(){let i=We(t),r=[],o=[],a=[];i.ga.isEmpty()||(i.ga.forEach((l,d)=>{a.push(i.Ma(d,e,n).then(h=>{if((h||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,h?.fromCache?"not-current":"current"),h){r.push(h);let m=XA.Ki(d.targetId,h);o.push(m)}}))}),yield Promise.all(a),i.fa.u_(r),yield function(d,h){return C(this,null,function*(){let m=We(d);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>K.forEach(h,y=>K.forEach(y.qi,b=>m.persistence.referenceDelegate.addReference(v,y.targetId,b)).next(()=>K.forEach(y.Qi,b=>m.persistence.referenceDelegate.removeReference(v,y.targetId,b)))))}catch(v){if(!iv(v))throw v;le("LocalStore","Failed to update sequence numbers: "+v)}for(let v of h){let y=v.targetId;if(!v.fromCache){let b=m.ns.get(y),w=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(w);m.ns=m.ns.insert(y,S)}}})}(i.localStore,o))})}function Dre(t,e){return C(this,null,function*(){let n=We(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());let i=yield u5(n.localStore,e);n.currentUser=e,function(o,a){o.Ca.forEach(l=>{l.forEach(d=>{d.reject(new Ce(W.CANCELLED,a))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield ov(n,i.us)}})}function xre(t,e){let n=We(t),i=n.Sa.get(e);if(i&&i.ma)return pt().add(i.key);{let r=pt(),o=n.pa.get(e);if(!o)return r;for(let a of o){let l=n.ga.get(a);r=r.unionWith(l.view.la)}return r}}function Are(t){let e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ere.bind(null,e),e.fa.u_=vre.bind(null,e.eventManager),e.fa.xa=yre.bind(null,e.eventManager),e}function Mre(t){let e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ire.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sre.bind(null,e),e}var Xb=class{constructor(){this.synchronizeTabs=!1}initialize(e){return C(this,null,function*(){this.serializer=aC(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Jie(this.persistence,new eM,e.initialUser,this.serializer)}createPersistence(e){return new YA(JA.Hr,this.serializer)}createSharedClientState(e){return new iM}terminate(){return C(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var bM=class{initialize(e,n){return C(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>D4(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dre.bind(null,this.syncEngine),yield pre(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new pM}()}createDatastore(e){let n=aC(e.databaseInfo.databaseId),i=function(o){return new sM(o)}(e.databaseInfo);return function(o,a,l,d){return new lM(o,a,l,d)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,a,l){return new dM(i,r,o,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>D4(this.syncEngine,n,0),function(){return Gb.D()?new Gb:new rM}())}createSyncEngine(e,n){return function(r,o,a,l,d,h,m){let v=new _M(r,o,a,l,d,h);return m&&(v.Fa=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return C(this,null,function*(){var e;yield function(i){return C(this,null,function*(){let r=We(i);le("RemoteStore","RemoteStore shutting down."),r.v_.add(5),yield rv(r),r.M_.shutdown(),r.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var CM=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Cs("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var EM=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=pi.UNAUTHENTICATED,this.clientId=Mb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>C(this,null,function*(){le("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(le("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ce(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ko;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=GM(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function Jx(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>C(this,null,function*(){i.isEqual(r)||(yield u5(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function A4(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Ore(t);le("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>T4(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>T4(e.remoteStore,r)),t._onlineComponents=e})}function Pre(t){return t.name==="FirebaseError"?t.code===W.FAILED_PRECONDITION||t.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function Ore(t){return C(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Jx(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!Pre(n))throw n;Uh("Error using user provided cache. Falling back to memory cache: "+n),yield Jx(t,new Xb)}}else le("FirestoreClient","Using default OfflineComponentProvider"),yield Jx(t,new Xb);return t._offlineComponents})}function E5(t){return C(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),yield A4(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),yield A4(t,new bM))),t._onlineComponents})}function kre(t){return E5(t).then(e=>e.syncEngine)}function Rre(t){return C(this,null,function*(){let e=yield E5(t),n=e.eventManager;return n.onListen=_re.bind(null,e.syncEngine),n.onUnlisten=bre.bind(null,e.syncEngine),n})}function Nre(t,e,n={}){let i=new ko;return t.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(o,a,l,d,h){let m=new CM({next:y=>{a.enqueueAndForget(()=>gre(o,v)),y.fromCache&&d.source==="server"?h.reject(new Ce(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),v=new mM(l,m,{includeMetadataChanges:!0,Z_:!0});return mre(o,v)}(yield Rre(t),t.asyncQueue,e,n,i)})),i.promise}function I5(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var M4=new Map;function S5(t,e,n){if(!n)throw new Ce(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Fre(t,e,n,i){if(e===!0&&i===!0)throw new Ce(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function P4(t){if(!Ae.isDocumentKey(t))throw new Ce(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function O4(t){if(Ae.isDocumentKey(t))throw new Ce(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function WM(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve()}function Xh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ce(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=WM(t);throw new Ce(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Zb=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ce(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Fre("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=I5((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Zh=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ce(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ce(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zb(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Xx;switch(i.type){case"firstParty":return new nA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ce(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=M4.get(n);i&&(le("ComponentProvider","Removing Datastore"),M4.delete(n),i.terminate())}(this),Promise.resolve()}};function T5(t,e,n,i={}){var r;let o=(t=Xh(t,Zh))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Uh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),i.mockUserToken){let l,d;if(typeof i.mockUserToken=="string")l=i.mockUserToken,d=pi.MOCK_USER;else{l=lU(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new Ce(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new pi(h)}t._authCredentials=new Zx(new Ab(l,d))}}var eC=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},qr=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ic(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ic=class t extends eC{constructor(e,n,i){super(e,n,$4(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new qr(this.firestore,null,new Ae(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function D5(t,e,...n){if(t=Qe(t),S5("collection","path",e),t instanceof Zh){let i=Sn.fromString(e,...n);return O4(i),new Ic(t,null,i)}{if(!(t instanceof qr||t instanceof Ic))throw new Ce(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Sn.fromString(e,...n));return O4(i),new Ic(t.firestore,null,i)}}function x5(t,e,...n){if(t=Qe(t),arguments.length===1&&(e=Mb.newId()),S5("doc","path",e),t instanceof Zh){let i=Sn.fromString(e,...n);return P4(i),new qr(t,null,new Ae(i))}{if(!(t instanceof qr||t instanceof Ic))throw new Ce(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Sn.fromString(e,...n));return P4(i),new qr(t.firestore,t instanceof Ic?t.converter:null,new Ae(i))}}var IM=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new zb(this,"async_queue_retry"),this._u=()=>{let n=Qx();n&&le("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Qx();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=Qx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new ko;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return C(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!iv(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(i=>{this.ru=i,this.iu=!1;let r=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(i);throw Cs("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.iu=!1,i))));return this.Xa=n,n}enqueueAfterDelay(e,n,i){this.au(),this.ou.indexOf(e)>-1&&(n=0);let r=hM.createAndSchedule(this,e,n,i,o=>this.lu(o));return this.nu.push(r),r}au(){this.ru&&Ve()}verifyOperationInProgress(){}hu(){return C(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};var ef=class extends Zh{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new IM}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||P5(this),this._firestoreClient.terminate()}};function A5(t,e){let n=typeof t=="object"?t:Ul(),i=typeof t=="string"?t:e||"(default)",r=jl(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=cU("firestore");o&&T5(r,...o)}return r}function M5(t){return t._firestoreClient||P5(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function P5(t){var e,n,i;let r=t._freezeSettings(),o=function(l,d,h,m){return new uA(l,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,I5(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new EM(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var Zg=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(tr.fromBase64String(e))}catch(n){throw new Ce(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ev=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ce(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var tC=class{constructor(e){this._methodName=e}};var tv=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ce(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ce(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return kt(this._lat,e._lat)||kt(this._long,e._long)}};var Lre=/^__.*__$/,SM=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new va(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}};function O5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}var TM=class t{constructor(e,n,i,r,o,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Au({path:i,Vu:!1});return r.mu(e),r}fu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Au({path:i,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return nC(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(O5(this.du)&&Lre.test(e))throw this.pu('Document fields cannot begin and end with "__"')}},DM=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||aC(e)}Su(e,n,i,r=!1){return new TM({du:e,methodName:n,wu:i,path:Sr.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Vre(t){let e=t._freezeSettings(),n=aC(t._databaseId);return new DM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jre(t,e,n,i,r,o={}){let a=t.Su(o.merge||o.mergeFields?2:0,e,n,r);F5("Data must be an object, but it was:",a,i);let l=R5(i,a),d,h;if(o.merge)d=new ys(a.fieldMask),h=a.fieldTransforms;else if(o.mergeFields){let m=[];for(let v of o.mergeFields){let y=Ure(e,v,n);if(!a.contains(y))throw new Ce(W.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);$re(m,y)||m.push(y)}d=new ys(m),h=a.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,h=a.fieldTransforms;return new SM(new Oo(l),d,h)}function k5(t,e){if(N5(t=Qe(t)))return F5("Unsupported field value:",e,t),R5(t,e);if(t instanceof tC)return function(i,r){if(!O5(r.du))throw r.pu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.pu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(i,r){let o=[],a=0;for(let l of i){let d=k5(l,r.gu(a));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),a++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=Qe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Sie(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=Ii.fromDate(i);return{timestampValue:Bb(r.serializer,o)}}if(i instanceof Ii){let o=new Ii(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Bb(r.serializer,o)}}if(i instanceof tv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Zg)return{bytesValue:i5(r.serializer,i._byteString)};if(i instanceof qr){let o=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(o))throw r.pu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:UM(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.pu(`Unsupported field value: ${WM(i)}`)}(t,e)}function R5(t,e){let n={};return R4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nf(t,(i,r)=>{let o=k5(r,e.Ru(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function N5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ii||t instanceof tv||t instanceof Zg||t instanceof qr||t instanceof tC)}function F5(t,e,n){if(!N5(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=WM(n);throw i==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+i)}}function Ure(t,e,n){if((e=Qe(e))instanceof ev)return e._internalPath;if(typeof e=="string")return L5(t,e);throw nC("Field path arguments must be of type string or ",t,!1,void 0,n)}var Bre=new RegExp("[~\\*/\\[\\]]");function L5(t,e,n){if(e.search(Bre)>=0)throw nC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ev(...e.split("."))._internalPath}catch{throw nC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nC(t,e,n,i,r){let o=i&&!i.isEmpty(),a=r!==void 0,l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let d="";return(o||a)&&(d+=" (found",o&&(d+=` in field ${i}`),a&&(d+=` in document ${r}`),d+=")"),new Ce(W.INVALID_ARGUMENT,l+t+d)}function $re(t,e){return t.some(n=>n.isEqual(e))}var iC=class{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new xM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(V5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},xM=class extends iC{data(){return super.data()}};function V5(t,e){return typeof e=="string"?L5(t,e):e instanceof ev?e._internalPath:e._delegate._internalPath}function Hre(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ce(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var AM=class{convertValue(e,n="none"){switch(fu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return In(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Tc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return nf(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new tv(In(e.latitude),In(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=FM(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(qg(e));default:return null}}convertTimestamp(e){let n=Sc(e);return new Ii(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=Sn.fromString(e);Zt(l5(i));let r=new Nb(i.get(1),i.get(3)),o=new Ae(i.popFirst(5));return r.isEqual(n)||Cs(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function Gre(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var Lh=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},MM=class extends iC{constructor(e,n,i,r,o,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(V5("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},jh=class extends MM{data(e={}){return super.data(e)}},PM=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Lh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new jh(this._firestore,this._userDataWriter,i.key,i,new Lh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ce(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{let d=new jh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Lh(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:d,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{let d=new jh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Lh(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,m=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),m=a.indexOf(l.doc.key)),{type:zre(l.type),doc:d,oldIndex:h,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function zre(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}var OM=class extends AM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zg(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new qr(this.firestore,null,n)}};function j5(t){t=Xh(t,eC);let e=Xh(t.firestore,ef),n=M5(e),i=new OM(e);return Hre(t._query),Nre(n,t._query).then(r=>new PM(e,i,t,r))}function U5(t,e,n){t=Xh(t,qr);let i=Xh(t.firestore,ef),r=Gre(t.converter,e,n);return $5(i,[jre(Vre(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Ec.none())])}function B5(t){return $5(Xh(t.firestore,ef),[new Kg(t._key,Ec.none())])}function $5(t,e){return function(i,r){let o=new ko;return i.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return Cre(yield kre(i),r,o)})),o.promise}(M5(t),e)}(function(e,n=!0){(function(r){tf=r})(So),Io(new Ri("firestore",(i,{instanceIdentifier:r,options:o})=>{let a=i.getProvider("app").getImmediate(),l=new ef(new eA(i.getProvider("auth-internal")),new rA(i.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ce(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nb(h.options.projectId,m)}(a,r),a);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),un(o4,"4.4.3",e),un(o4,"4.4.3","esm2017")})();var yu=class{constructor(e){return e}},H5="firestore",KM=class{constructor(){return wm(H5)}};var YM=new we("angularfire2.firestore-instances");function qre(t,e){let n=yw(H5,t,e);return n&&new yu(n)}function Wre(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new yu(i)}}var Kre={provide:KM,deps:[[new Xi,YM]]},Yre={provide:yu,useFactory:qre,deps:[[new Xi,YM],aa]},Qre=(()=>{class t{constructor(){un("angularfire",$l.full,"fst")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Qi({type:t});static \u0275inj=Ji({providers:[Yre,Kre]})}return t})();function G5(t,...e){return{ngModule:Qre,providers:[{provide:YM,useFactory:Wre(t),multi:!0,deps:[Ct,Jt,fh,Hl,[new Xi,mg],[new Xi,hh],...e]}]}}var z5=To(D5,!0);var q5=To(B5,!0);var QM=To(x5,!0);var W5=To(j5,!0);var K5=To(A5,!0);var Y5=To(U5,!0);var ZM=class extends tw{constructor(){super(...arguments),this.supportsDOMEvents=!0}},eP=class t extends ZM{static makeCurrent(){Bj(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Xre();return n==null?null:Zre(n)}resetBaseElement(){sv=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return nw(document.cookie,e)}},sv=null;function Xre(){return sv=sv||document.querySelector("base"),sv?sv.getAttribute("href"):null}function Zre(t){return new URL(t,document.baseURI).pathname}var eoe=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),tP=new we(""),X5=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(a=>a.supports(i)),!r)throw new X(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(oe(tP),oe(Ct))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),uC=class{constructor(e){this._doc=e}},JM="ng-app-id",Z5=(()=>{let e=class e{constructor(i,r,o,a={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=sm(a),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${JM}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let a=o.get(i);return a.usage+=r,a.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,a=o?.get(r);if(a?.parentNode===i)return o.delete(r),a.removeAttribute(JM),a;{let l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(JM,this.appId),i.appendChild(l),l}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),a=this.styleRef,l=a.get(r)?.elements;l?l.push(o):a.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(oe(bi),oe(n1),oe(o1,8),oe(Vr))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),XM={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},iP=/%COMP%/g,e$="%COMP%",toe=`_nghost-${e$}`,noe=`_ngcontent-${e$}`,ioe=!0,roe=new we("",{providedIn:"root",factory:()=>ioe});function ooe(t){return noe.replace(iP,t)}function soe(t){return toe.replace(iP,t)}function t$(t,e){return e.map(n=>n.replace(iP,t))}var dC=(()=>{let e=class e{constructor(i,r,o,a,l,d,h,m=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=a,this.doc=l,this.platformId=d,this.ngZone=h,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=sm(d),this.defaultRenderer=new av(i,l,h,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===es.ShadowDom&&(r=Dt(te({},r),{encapsulation:es.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof hC?o.applyToHost(i):o instanceof cv&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,a=o.get(r.id);if(!a){let l=this.doc,d=this.ngZone,h=this.eventManager,m=this.sharedStylesHost,v=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(r.encapsulation){case es.Emulated:a=new hC(h,m,r,this.appId,v,l,d,y);break;case es.ShadowDom:return new nP(h,m,i,r,l,d,this.nonce,y);default:a=new cv(h,m,r,v,l,d,y);break}o.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(oe(X5),oe(Z5),oe(n1),oe(roe),oe(bi),oe(Vr),oe(Ct),oe(o1))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),av=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(XM[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Q5(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(Q5(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new X(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=XM[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=XM[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Qs.DashCase|Qs.Important)?e.style.setProperty(n,i,r&Qs.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Qs.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=ra().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Q5(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var nP=class extends av{constructor(e,n,i,r,o,a,l,d){super(e,o,a,d),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=t$(r.id,r.styles);for(let m of h){let v=document.createElement("style");l&&v.setAttribute("nonce",l),v.textContent=m,this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},cv=class extends av{constructor(e,n,i,r,o,a,l,d){super(e,o,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=d?t$(d,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},hC=class extends cv{constructor(e,n,i,r,o,a,l,d){let h=r+"-"+i.id;super(e,n,i,o,a,l,d,h),this.contentAttr=ooe(h),this.hostAttr=soe(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},aoe=(()=>{let e=class e extends uC{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(oe(bi))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),J5=["alt","control","meta","shift"],coe={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},loe={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},uoe=(()=>{let e=class e extends uC{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,o){let a=e.parseEventName(r),l=e.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ra().onAndCancel(i,a.domEventName,l))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let a=e._normalizeKey(r.pop()),l="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),l="code."),J5.forEach(m=>{let v=r.indexOf(m);v>-1&&(r.splice(v,1),l+=m+".")}),l+=a,r.length!=0||a.length===0)return null;let h={};return h.domEventName=o,h.fullKey=l,h}static matchEventFullKeyCode(i,r){let o=coe[i.key]||i.key,a="";return r.indexOf("code.")>-1&&(o=i.code,a="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),J5.forEach(l=>{if(l!==o){let d=loe[l];d(i)&&(a+=l+".")}}),a+=o,a===r)}static eventCallback(i,r,o){return a=>{e.matchEventFullKeyCode(a,i)&&o.runGuarded(()=>r(a))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(oe(bi))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();function n$(t,e){return Rj(te({rootComponent:t},doe(e)))}function doe(t){return{appProviders:[...goe,...t?.providers??[]],platformProviders:moe}}function hoe(){eP.makeCurrent()}function foe(){return new rs}function poe(){return FV(document),document}var moe=[{provide:Vr,useValue:zj},{provide:i1,useValue:hoe,multi:!0},{provide:bi,useFactory:poe,deps:[]}];var goe=[{provide:F0,useValue:"root"},{provide:rs,useFactory:foe,deps:[]},{provide:tP,useClass:aoe,multi:!0,deps:[bi,Ct,Vr]},{provide:tP,useClass:uoe,multi:!0,deps:[bi]},dC,Z5,X5,{provide:Sl,useExisting:dC},{provide:ah,useClass:eoe,deps:[]},[]];var i$=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(oe(bi))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var rP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=oe(voe),o},providedIn:"root"});let t=e;return t})(),voe=(()=>{let e=class e extends rP{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case ss.NONE:return r;case ss.HTML:return sc(r,"HTML")?jr(r):S3(this._doc,String(r)).toString();case ss.STYLE:return sc(r,"Style")?jr(r):r;case ss.SCRIPT:if(sc(r,"Script"))return jr(r);throw new X(5200,!1);case ss.URL:return sc(r,"URL")?jr(r):U0(String(r));case ss.RESOURCE_URL:if(sc(r,"ResourceURL"))return jr(r);throw new X(5201,!1);default:throw new X(5202,!1)}}bypassSecurityTrustHtml(i){return g3(i)}bypassSecurityTrustStyle(i){return v3(i)}bypassSecurityTrustScript(i){return y3(i)}bypassSecurityTrustUrl(i){return _3(i)}bypassSecurityTrustResourceUrl(i){return w3(i)}};e.\u0275fac=function(r){return new(r||e)(oe(bi))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ke=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Ke||{}),Ss="*";function No(t,e){return{type:Ke.Trigger,name:t,definitions:e,options:{}}}function Si(t,e=null){return{type:Ke.Animate,styles:e,timings:t}}function o$(t,e=null){return{type:Ke.Sequence,steps:t,options:e}}function mt(t){return{type:Ke.Style,styles:t,offset:null}}function s$(t,e,n){return{type:Ke.State,name:t,styles:e,options:n}}function Xn(t,e,n=null){return{type:Ke.Transition,expr:t,animation:e,options:n}}var Ac=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},lv=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++n==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},fC="!";function a$(t){return new X(3e3,!1)}function yoe(){return new X(3100,!1)}function _oe(){return new X(3101,!1)}function woe(t){return new X(3001,!1)}function boe(t){return new X(3003,!1)}function Coe(t){return new X(3004,!1)}function Eoe(t,e){return new X(3005,!1)}function Ioe(){return new X(3006,!1)}function Soe(){return new X(3007,!1)}function Toe(t,e){return new X(3008,!1)}function Doe(t){return new X(3002,!1)}function xoe(t,e,n,i,r){return new X(3010,!1)}function Aoe(){return new X(3011,!1)}function Moe(){return new X(3012,!1)}function Poe(){return new X(3200,!1)}function Ooe(){return new X(3202,!1)}function koe(){return new X(3013,!1)}function Roe(t){return new X(3014,!1)}function Noe(t){return new X(3015,!1)}function Foe(t){return new X(3016,!1)}function Loe(t,e){return new X(3404,!1)}function Voe(t){return new X(3502,!1)}function joe(t){return new X(3503,!1)}function Uoe(){return new X(3300,!1)}function Boe(t){return new X(3504,!1)}function $oe(t){return new X(3301,!1)}function Hoe(t,e){return new X(3302,!1)}function Goe(t){return new X(3303,!1)}function zoe(t,e){return new X(3400,!1)}function qoe(t){return new X(3401,!1)}function Woe(t){return new X(3402,!1)}function Koe(t,e){return new X(3505,!1)}function Mc(t){switch(t.length){case 0:return new Ac;case 1:return t[0];default:return new lv(t)}}function b$(t,e,n=new Map,i=new Map){let r=[],o=[],a=-1,l=null;if(e.forEach(d=>{let h=d.get("offset"),m=h==a,v=m&&l||new Map;d.forEach((y,b)=>{let w=b,S=y;if(b!=="offset")switch(w=t.normalizePropertyName(w,r),S){case fC:S=n.get(b);break;case Ss:S=i.get(b);break;default:S=t.normalizeStyleValue(b,w,S,r);break}v.set(w,S)}),m||o.push(v),l=v,a=h}),r.length)throw Voe(r);return o}function DP(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&oP(n,"start",t)));break;case"done":t.onDone(()=>i(n&&oP(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&oP(n,"destroy",t)));break}}function oP(t,e,n){let i=n.totalTime,r=!!n.disabled,o=xP(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,i??t.totalTime,r),a=t._data;return a!=null&&(o._data=a),o}function xP(t,e,n,i,r="",o=0,a){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function Dr(t,e,n){let i=t.get(e);return i||t.set(e,i=n),i}function c$(t){let e=t.indexOf(":"),n=t.substring(1,e),i=t.slice(e+1);return[n,i]}var Yoe=typeof document>"u"?null:document.documentElement;function AP(t){let e=t.parentNode||t.host||null;return e===Yoe?null:e}function Qoe(t){return t.substring(1,6)=="ebkit"}var _u=null,l$=!1;function Joe(t){_u||(_u=Xoe()||{},l$=_u.style?"WebkitAppearance"in _u.style:!1);let e=!0;return _u.style&&!Qoe(t)&&(e=t in _u.style,!e&&l$&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in _u.style)),e}function Xoe(){return typeof document<"u"?document.body:null}function C$(t,e){for(;e;){if(e===t)return!0;e=AP(e)}return!1}function E$(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let i=t.querySelector(e);return i?[i]:[]}var MP=(()=>{let e=class e{validateStyleProperty(i){return Joe(i)}matchesElement(i,r){return!1}containsElement(i,r){return C$(i,r)}getParentElement(i){return AP(i)}query(i,r,o){return E$(i,r,o)}computeStyle(i,r,o){return o||""}animate(i,r,o,a,l,d=[],h){return new Ac(o,a)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),RP=class RP{};RP.NOOP=new MP;var Cu=RP,Eu=class{};var Zoe=1e3,I$="{{",ese="}}",S$="ng-enter",dP="ng-leave",pC="ng-trigger",_C=".ng-trigger",u$="ng-animating",hP=".ng-animating";function ya(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:fP(parseFloat(e[1]),e[2])}function fP(t,e){switch(e){case"s":return t*Zoe;default:return t}}function wC(t,e,n){return t.hasOwnProperty("duration")?t:tse(t,e,n)}function tse(t,e,n){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,a="";if(typeof t=="string"){let l=t.match(i);if(l===null)return e.push(a$(t)),{duration:0,delay:0,easing:""};r=fP(parseFloat(l[1]),l[2]);let d=l[3];d!=null&&(o=fP(parseFloat(d),l[4]));let h=l[5];h&&(a=h)}else r=t;if(!n){let l=!1,d=e.length;r<0&&(e.push(yoe()),l=!0),o<0&&(e.push(_oe()),l=!0),l&&e.splice(d,0,a$(t))}return{duration:r,delay:o,easing:a}}function nse(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Ts(t,e,n){e.forEach((i,r)=>{let o=PP(r);n&&!n.has(r)&&n.set(r,t.style[o]),t.style[o]=i})}function bu(t,e){e.forEach((n,i)=>{let r=PP(i);t.style[r]=""})}function uv(t){return Array.isArray(t)?t.length==1?t[0]:o$(t):t}function ise(t,e,n){let i=e.params||{},r=T$(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||n.push(woe(o))})}var pP=new RegExp(`${I$}\\s*(.+?)\\s*${ese}`,"g");function T$(t){let e=[];if(typeof t=="string"){let n;for(;n=pP.exec(t);)e.push(n[1]);pP.lastIndex=0}return e}function hv(t,e,n){let i=`${t}`,r=i.replace(pP,(o,a)=>{let l=e[a];return l==null&&(n.push(boe(a)),l=""),l.toString()});return r==i?t:r}var rse=/-+([a-z0-9])/g;function PP(t){return t.replace(rse,(...e)=>e[1].toUpperCase())}function ose(t,e){return t===0||e===0}function sse(t,e,n){if(n.size&&e.length){let i=e[0],r=[];if(n.forEach((o,a)=>{i.has(a)||r.push(a),i.set(a,o)}),r.length)for(let o=1;o<e.length;o++){let a=e[o];r.forEach(l=>a.set(l,OP(t,l)))}}return e}function Tr(t,e,n){switch(e.type){case Ke.Trigger:return t.visitTrigger(e,n);case Ke.State:return t.visitState(e,n);case Ke.Transition:return t.visitTransition(e,n);case Ke.Sequence:return t.visitSequence(e,n);case Ke.Group:return t.visitGroup(e,n);case Ke.Animate:return t.visitAnimate(e,n);case Ke.Keyframes:return t.visitKeyframes(e,n);case Ke.Style:return t.visitStyle(e,n);case Ke.Reference:return t.visitReference(e,n);case Ke.AnimateChild:return t.visitAnimateChild(e,n);case Ke.AnimateRef:return t.visitAnimateRef(e,n);case Ke.Query:return t.visitQuery(e,n);case Ke.Stagger:return t.visitStagger(e,n);default:throw Coe(e.type)}}function OP(t,e){return window.getComputedStyle(t)[e]}var ase=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),bC=class extends Eu{normalizePropertyName(e,n){return PP(e)}normalizeStyleValue(e,n,i,r){let o="",a=i.toString().trim();if(ase.has(n)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let l=i.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&l[1].length==0&&r.push(Eoe(e,i))}return a+o}};var CC="*";function cse(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>lse(i,n,e)):n.push(t),n}function lse(t,e,n){if(t[0]==":"){let d=use(t,n);if(typeof d=="function"){e.push(d);return}t=d}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return n.push(Noe(t)),e;let r=i[1],o=i[2],a=i[3];e.push(d$(r,a));let l=r==CC&&a==CC;o[0]=="<"&&!l&&e.push(d$(a,r))}function use(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return e.push(Foe(t)),"* => *"}}var mC=new Set(["true","1"]),gC=new Set(["false","0"]);function d$(t,e){let n=mC.has(t)||gC.has(t),i=mC.has(e)||gC.has(e);return(r,o)=>{let a=t==CC||t==r,l=e==CC||e==o;return!a&&n&&typeof r=="boolean"&&(a=r?mC.has(t):gC.has(t)),!l&&i&&typeof o=="boolean"&&(l=o?mC.has(e):gC.has(e)),a&&l}}var D$=":self",dse=new RegExp(`s*${D$}s*,?`,"g");function x$(t,e,n,i){return new mP(t).build(e,n,i)}var h$="",mP=class{constructor(e){this._driver=e}build(e,n,i){let r=new gP(n);return this._resetContextStyleTimingState(r),Tr(this,uv(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=h$,e.collectedStyles=new Map,e.collectedStyles.set(h$,new Map),e.currentTime=0}visitTrigger(e,n){let i=n.queryCount=0,r=n.depCount=0,o=[],a=[];return e.name.charAt(0)=="@"&&n.errors.push(Ioe()),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(n),l.type==Ke.State){let d=l,h=d.name;h.toString().split(/\s*,\s*/).forEach(m=>{d.name=m,o.push(this.visitState(d,n))}),d.name=h}else if(l.type==Ke.Transition){let d=this.visitTransition(l,n);i+=d.queryCount,r+=d.depCount,a.push(d)}else n.errors.push(Soe())}),{type:Ke.Trigger,name:e.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}visitState(e,n){let i=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let o=new Set,a=r||{};i.styles.forEach(l=>{l instanceof Map&&l.forEach(d=>{T$(d).forEach(h=>{a.hasOwnProperty(h)||o.add(h)})})}),o.size&&n.errors.push(Toe(e.name,[...o.values()]))}return{type:Ke.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let i=Tr(this,uv(e.animation),n),r=cse(e.expr,n.errors);return{type:Ke.Transition,matchers:r,animation:i,queryCount:n.queryCount,depCount:n.depCount,options:wu(e.options)}}visitSequence(e,n){return{type:Ke.Sequence,steps:e.steps.map(i=>Tr(this,i,n)),options:wu(e.options)}}visitGroup(e,n){let i=n.currentTime,r=0,o=e.steps.map(a=>{n.currentTime=i;let l=Tr(this,a,n);return r=Math.max(r,n.currentTime),l});return n.currentTime=r,{type:Ke.Group,steps:o,options:wu(e.options)}}visitAnimate(e,n){let i=mse(e.timings,n.errors);n.currentAnimateTimings=i;let r,o=e.styles?e.styles:mt({});if(o.type==Ke.Keyframes)r=this.visitKeyframes(o,n);else{let a=e.styles,l=!1;if(!a){l=!0;let h={};i.easing&&(h.easing=i.easing),a=mt(h)}n.currentTime+=i.duration+i.delay;let d=this.visitStyle(a,n);d.isEmptyStep=l,r=d}return n.currentAnimateTimings=null,{type:Ke.Animate,timings:i,style:r,options:null}}visitStyle(e,n){let i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}_makeStyleAst(e,n){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let l of r)typeof l=="string"?l===Ss?i.push(l):n.errors.push(Doe(l)):i.push(new Map(Object.entries(l)));let o=!1,a=null;return i.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(a=l.get("easing"),l.delete("easing")),!o)){for(let d of l.values())if(d.toString().indexOf(I$)>=0){o=!0;break}}}),{type:Ke.Style,styles:i,easing:a,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let i=n.currentAnimateTimings,r=n.currentTime,o=n.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(a=>{typeof a!="string"&&a.forEach((l,d)=>{let h=n.collectedStyles.get(n.currentQuerySelector),m=h.get(d),v=!0;m&&(o!=r&&o>=m.startTime&&r<=m.endTime&&(n.errors.push(xoe(d,m.startTime,m.endTime,o,r)),v=!1),o=m.startTime),v&&h.set(d,{startTime:o,endTime:r}),n.options&&ise(l,n.options,n.errors)})})}visitKeyframes(e,n){let i={type:Ke.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(Aoe()),i;let r=1,o=0,a=[],l=!1,d=!1,h=0,m=e.steps.map(O=>{let V=this._makeStyleAst(O,n),$=V.offset!=null?V.offset:pse(V.styles),x=0;return $!=null&&(o++,x=V.offset=$),d=d||x<0||x>1,l=l||x<h,h=x,a.push(x),V});d&&n.errors.push(Moe()),l&&n.errors.push(Poe());let v=e.steps.length,y=0;o>0&&o<v?n.errors.push(Ooe()):o==0&&(y=r/(v-1));let b=v-1,w=n.currentTime,S=n.currentAnimateTimings,T=S.duration;return m.forEach((O,V)=>{let $=y>0?V==b?1:y*V:a[V],x=$*T;n.currentTime=w+S.delay+x,S.duration=x,this._validateStyleAst(O,n),O.offset=$,i.styles.push(O)}),i}visitReference(e,n){return{type:Ke.Reference,animation:Tr(this,uv(e.animation),n),options:wu(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:Ke.AnimateChild,options:wu(e.options)}}visitAnimateRef(e,n){return{type:Ke.AnimateRef,animation:this.visitReference(e.animation,n),options:wu(e.options)}}visitQuery(e,n){let i=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;let[o,a]=hse(e.selector);n.currentQuerySelector=i.length?i+" "+o:o,Dr(n.collectedStyles,n.currentQuerySelector,new Map);let l=Tr(this,uv(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:Ke.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:l,originalSelector:e.selector,options:wu(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(koe());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:wC(e.timings,n.errors,!0);return{type:Ke.Stagger,animation:Tr(this,uv(e.animation),n),timings:i,options:null}}};function hse(t){let e=!!t.split(/\s*,\s*/).find(n=>n==D$);return e&&(t=t.replace(dse,"")),t=t.replace(/@\*/g,_C).replace(/@\w+/g,n=>_C+"-"+n.slice(1)).replace(/:animating/g,hP),[t,e]}function fse(t){return t?te({},t):null}var gP=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function pse(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let i=n;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function mse(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=wC(t,e).duration;return sP(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=sP(0,0,"");return o.dynamic=!0,o.strValue=n,o}let r=wC(n,e);return sP(r.duration,r.delay,r.easing)}function wu(t){return t?(t=te({},t),t.params&&(t.params=fse(t.params))):t={},t}function sP(t,e,n){return{duration:t,delay:e,easing:n}}function kP(t,e,n,i,r,o,a=null,l=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:l}}var fv=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},gse=1,vse=":enter",yse=new RegExp(vse,"g"),_se=":leave",wse=new RegExp(_se,"g");function A$(t,e,n,i,r,o=new Map,a=new Map,l,d,h=[]){return new vP().buildKeyframes(t,e,n,i,r,o,a,l,d,h)}var vP=class{buildKeyframes(e,n,i,r,o,a,l,d,h,m=[]){h=h||new fv;let v=new yP(e,n,h,r,o,m,[]);v.options=d;let y=d.delay?ya(d.delay):0;v.currentTimeline.delayNextStep(y),v.currentTimeline.setStyles([a],null,v.errors,d),Tr(this,i,v);let b=v.timelines.filter(w=>w.containsAnimation());if(b.length&&l.size){let w;for(let S=b.length-1;S>=0;S--){let T=b[S];if(T.element===n){w=T;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([l],null,v.errors,d)}return b.length?b.map(w=>w.buildKeyframes()):[kP(n,[],[],[],0,y,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let i=n.subInstructions.get(n.element);if(i){let r=n.createSubContext(e.options),o=n.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);o!=a&&n.transformIntoNewTimeline(a)}n.previousNode=e}visitAnimateRef(e,n){let i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,i),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,i){for(let r of e){let o=r?.delay;if(o){let a=typeof o=="number"?o:ya(hv(o,r?.params??{},n.errors));i.delayNextStep(a)}}}_visitSubInstructions(e,n,i){let o=n.currentTimeline.currentTime,a=i.duration!=null?ya(i.duration):null,l=i.delay!=null?ya(i.delay):null;return a!==0&&e.forEach(d=>{let h=n.appendInstructionToTimeline(d,a,l);o=Math.max(o,h.duration+h.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),Tr(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let i=n.subContextCount,r=n,o=e.options;if(o&&(o.params||o.delay)&&(r=n.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==Ke.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=EC);let a=ya(o.delay);r.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>Tr(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let i=[],r=n.currentTimeline.currentTime,o=e.options&&e.options.delay?ya(e.options.delay):0;e.steps.forEach(a=>{let l=n.createSubContext(e.options);o&&l.delayNextStep(o),Tr(this,a,l),r=Math.max(r,l.currentTimeline.currentTime),i.push(l.currentTimeline)}),i.forEach(a=>n.currentTimeline.mergeTimelineCollectedStyles(a)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let i=e.strValue,r=n.params?hv(i,n.params,n.errors):i;return wC(r,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let i=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());let o=e.style;o.type==Ke.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(i.duration),this.visitStyle(o,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let i=n.currentAnimateTimings,r=n.currentTimeline.duration,o=i.duration,l=n.createSubContext().currentTimeline;l.easing=i.easing,e.styles.forEach(d=>{let h=d.offset||0;l.forwardTime(h*o),l.setStyles(d.styles,d.easing,n.errors,n.options),l.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(l),n.transformIntoNewTimeline(r+o),n.previousNode=e}visitQuery(e,n){let i=n.currentTimeline.currentTime,r=e.options||{},o=r.delay?ya(r.delay):0;o&&(n.previousNode.type===Ke.Style||i==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=EC);let a=i,l=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=l.length;let d=null;l.forEach((h,m)=>{n.currentQueryIndex=m;let v=n.createSubContext(e.options,h);o&&v.delayNextStep(o),h===n.element&&(d=v.currentTimeline),Tr(this,e.animation,v),v.currentTimeline.applyStylesToKeyframe();let y=v.currentTimeline.currentTime;a=Math.max(a,y)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(a),d&&(n.currentTimeline.mergeTimelineCollectedStyles(d),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let i=n.parentContext,r=n.currentTimeline,o=e.timings,a=Math.abs(o.duration),l=a*(n.currentQueryTotal-1),d=a*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":d=l-d;break;case"full":d=i.currentStaggerTime;break}let m=n.currentTimeline;d&&m.delayNextStep(d);let v=m.currentTime;Tr(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=r.currentTime-v+(r.startTime-i.currentTimeline.startTime)}},EC={},yP=class t{constructor(e,n,i,r,o,a,l,d){this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=EC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=d||new IC(this._driver,n,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=ya(i.duration)),i.delay!=null&&(r.delay=ya(i.delay));let o=i.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(l=>{(!n||!a.hasOwnProperty(l))&&(a[l]=hv(o[l],a,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let i=e.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return e}createSubContext(e=null,n,i){let r=n||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=EC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,i){let r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new _P(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,i,r,o,a){let l=[];if(r&&l.push(this.element),e.length>0){e=e.replace(yse,"."+this._enterClassName),e=e.replace(wse,"."+this._leaveClassName);let d=i!=1,h=this._driver.query(this.element,e,d);i!==0&&(h=i<0?h.slice(h.length+i,h.length):h.slice(0,i)),l.push(...h)}return!o&&l.length==0&&a.push(Roe(n)),l}},IC=class t{constructor(e,n,i,r){this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=gse,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||Ss),this._currentKeyframe.set(n,Ss);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,i,r){n&&this._previousKeyframe.set("easing",n);let o=r&&r.params||{},a=bse(e,this._globalTimelineStyles);for(let[l,d]of a){let h=hv(d,o,i);this._pendingStyles.set(l,h),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??Ss),this._updateStyle(l,h)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,i)=>{let r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((l,d)=>{let h=new Map([...this._backFill,...l]);h.forEach((m,v)=>{m===fC?e.add(v):m===Ss&&n.add(v)}),i||h.set("offset",d/this.duration),r.push(h)});let o=[...e.values()],a=[...n.values()];if(i){let l=r[0],d=new Map(l);l.set("offset",0),d.set("offset",1),r=[l,d]}return kP(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}},_P=class extends IC{constructor(e,n,i,r,o,a,l=!1){super(e,n,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],a=i+n,l=n/a,d=new Map(e[0]);d.set("offset",0),o.push(d);let h=new Map(e[0]);h.set("offset",f$(l)),o.push(h);let m=e.length-1;for(let v=1;v<=m;v++){let y=new Map(e[v]),b=y.get("offset"),w=n+b*i;y.set("offset",f$(w/a)),o.push(y)}i=a,n=0,r="",e=o}return kP(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}};function f$(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function bse(t,e){let n=new Map,i;return t.forEach(r=>{if(r==="*"){i??=e.keys();for(let o of i)n.set(o,Ss)}else for(let[o,a]of r)n.set(o,a)}),n}function p$(t,e,n,i,r,o,a,l,d,h,m,v,y){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:a,timelines:l,queriedElements:d,preStyleProps:h,postStyleProps:m,totalTime:v,errors:y}}var aP={},SC=class{constructor(e,n,i){this._triggerName=e,this.ast=n,this._stateStyles=i}match(e,n,i,r){return Cse(this.ast.matchers,e,n,i,r)}buildStyles(e,n,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,i):new Map}build(e,n,i,r,o,a,l,d,h,m){let v=[],y=this.ast.options&&this.ast.options.params||aP,b=l&&l.params||aP,w=this.buildStyles(i,b,v),S=d&&d.params||aP,T=this.buildStyles(r,S,v),O=new Set,V=new Map,$=new Map,x=r==="void",ee={params:M$(S,y),delay:this.ast.options?.delay},U=m?[]:A$(e,n,this.ast.animation,o,a,w,T,ee,h,v),re=0;return U.forEach(Ee=>{re=Math.max(Ee.duration+Ee.delay,re)}),v.length?p$(n,this._triggerName,i,r,x,w,T,[],[],V,$,re,v):(U.forEach(Ee=>{let He=Ee.element,Xe=Dr(V,He,new Set);Ee.preStyleProps.forEach($e=>Xe.add($e));let Ie=Dr($,He,new Set);Ee.postStyleProps.forEach($e=>Ie.add($e)),He!==n&&O.add(He)}),p$(n,this._triggerName,i,r,x,w,T,U,[...O.values()],V,$,re))}};function Cse(t,e,n,i,r){return t.some(o=>o(e,n,i,r))}function M$(t,e){let n=te({},e);return Object.entries(t).forEach(([i,r])=>{r!=null&&(n[i]=r)}),n}var wP=class{constructor(e,n,i){this.styles=e,this.defaultParams=n,this.normalizer=i}buildStyles(e,n){let i=new Map,r=M$(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{a&&(a=hv(a,r,n));let d=this.normalizer.normalizePropertyName(l,n);a=this.normalizer.normalizeStyleValue(l,d,a,n),i.set(l,a)})}),i}};function Ese(t,e,n){return new bP(t,e,n)}var bP=class{constructor(e,n,i){this.name=e,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new wP(r.style,o,i))}),m$(this.states,"true","1"),m$(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new SC(e,r,this.states))}),this.fallbackTransition=Ise(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,i,r){return this.transitionFactories.find(a=>a.match(e,n,i,r))||null}matchStyles(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}};function Ise(t,e,n){let i=[(a,l)=>!0],r={type:Ke.Sequence,steps:[],options:null},o={type:Ke.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new SC(t,o,e)}function m$(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var Sse=new fv,CP=class{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let i=[],r=[],o=x$(this._driver,n,i,r);if(i.length)throw joe(i);r.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,n,i){let r=e.element,o=b$(this._normalizer,e.keyframes,n,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,i={}){let r=[],o=this._animations.get(e),a,l=new Map;if(o?(a=A$(this._driver,n,o,S$,dP,new Map,new Map,i,Sse,r),a.forEach(m=>{let v=Dr(l,m.element,new Map);m.postStyleProps.forEach(y=>v.set(y,null))})):(r.push(Uoe()),a=[]),r.length)throw Boe(r);l.forEach((m,v)=>{m.forEach((y,b)=>{m.set(b,this._driver.computeStyle(v,b,Ss))})});let d=a.map(m=>{let v=l.get(m.element);return this._buildPlayer(m,new Map,v)}),h=Mc(d);return this._playersById.set(e,h),h.onDestroy(()=>this.destroy(e)),this.players.push(h),h}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw $oe(e);return n}listen(e,n,i,r){let o=xP(n,"","","");return DP(this._getPlayer(e),i,o,r),()=>{}}command(e,n,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let a=r[0]||{};this.create(e,n,a);return}let o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},g$="ng-animate-queued",Tse=".ng-animate-queued",cP="ng-animate-disabled",Dse=".ng-animate-disabled",xse="ng-star-inserted",Ase=".ng-star-inserted",Mse=[],P$={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Pse={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fo="__ng_removed",pv=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=kse(r),i){let o=e,{value:a}=o,l=nS(o,["value"]);this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let i=this.options.params;Object.keys(n).forEach(r=>{i[r]==null&&(i[r]=n[r])})}}},dv="void",lP=new pv(dv),EP=class{constructor(e,n,i){this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Wr(n,this._hostClassName)}listen(e,n,i,r){if(!this._triggers.has(n))throw Hoe(i,n);if(i==null||i.length==0)throw Goe(n);if(!Rse(i))throw zoe(i,n);let o=Dr(this._elementListeners,e,[]),a={name:n,phase:i,callback:r};o.push(a);let l=Dr(this._engine.statesByElement,e,new Map);return l.has(n)||(Wr(e,pC),Wr(e,pC+"-"+n),l.set(n,lP)),()=>{this._engine.afterFlush(()=>{let d=o.indexOf(a);d>=0&&o.splice(d,1),this._triggers.has(n)||l.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw qoe(e);return n}trigger(e,n,i,r=!0){let o=this._getTrigger(n),a=new mv(this.id,n,e),l=this._engine.statesByElement.get(e);l||(Wr(e,pC),Wr(e,pC+"-"+n),this._engine.statesByElement.set(e,l=new Map));let d=l.get(n),h=new pv(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&d&&h.absorbOptions(d.options),l.set(n,h),d||(d=lP),!(h.value===dv)&&d.value===h.value){if(!Lse(d.params,h.params)){let S=[],T=o.matchStyles(d.value,d.params,S),O=o.matchStyles(h.value,h.params,S);S.length?this._engine.reportError(S):this._engine.afterFlush(()=>{bu(e,T),Ts(e,O)})}return}let y=Dr(this._engine.playersByElement,e,[]);y.forEach(S=>{S.namespaceId==this.id&&S.triggerName==n&&S.queued&&S.destroy()});let b=o.matchTransition(d.value,h.value,e,h.params),w=!1;if(!b){if(!r)return;b=o.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:b,fromState:d,toState:h,player:a,isFallbackTransition:w}),w||(Wr(e,g$),a.onStart(()=>{of(e,g$)})),a.onDone(()=>{let S=this.players.indexOf(a);S>=0&&this.players.splice(S,1);let T=this._engine.playersByElement.get(e);if(T){let O=T.indexOf(a);O>=0&&T.splice(O,1)}}),this.players.push(a),y.push(a),a}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let i=this._engine.driver.query(e,_C,!0);i.forEach(r=>{if(r[Fo])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,i,r){let o=this._engine.statesByElement.get(e),a=new Map;if(o){let l=[];if(o.forEach((d,h)=>{if(a.set(h,d.value),this._triggers.has(h)){let m=this.trigger(e,h,dv,r);m&&l.push(m)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,a),i&&Mc(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){let r=new Set;n.forEach(o=>{let a=o.name;if(r.has(a))return;r.add(a);let d=this._triggers.get(a).fallbackTransition,h=i.get(a)||lP,m=new pv(dv),v=new mv(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:d,fromState:h,toState:m,player:v,isFallbackTransition:!0})})}}removeNode(e,n){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let a=e;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,n);else{let o=e[Fo];(!o||o===P$)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,n))}}insertNode(e,n){Wr(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,a=this._elementListeners.get(o);a&&a.forEach(l=>{if(l.name==i.triggerName){let d=xP(o,i.triggerName,i.fromState.value,i.toState.value);d._data=e,DP(i.player,l.phase,d,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{let o=i.transition.ast.depCount,a=r.transition.ast.depCount;return o==0||a==0?o-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},IP=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,i,r){this.bodyNode=e,this.driver=n,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,a)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,n){let i=new EP(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,n){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,l=this.driver.getParentElement(n);for(;l;){let d=r.get(l);if(d){let h=i.indexOf(d);i.splice(h+1,0,e),a=!0;break}l=this.driver.getParentElement(l)}a||i.unshift(e)}else i.push(e);return r.set(n,e),e}register(e,n){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}registerTrigger(e,n,i){let r=this._namespaceLookup[e];r&&r.register(n,i)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&n.add(o)}}return n}trigger(e,n,i,r){if(vC(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,i,r),!0}return!1}insertNode(e,n,i,r){if(!vC(n))return;let o=n[Fo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let a=this.collectedLeaveElements.indexOf(n);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){let a=this._fetchNamespace(e);a&&a.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Wr(e,cP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),of(e,cP))}removeNode(e,n,i){if(vC(n)){this.scheduler?.notify();let r=e?this._fetchNamespace(e):null;r?r.removeNode(n,i):this.markElementAsRemoved(e,n,!1,i);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(e,n,i,r,o){this.collectedLeaveElements.push(n),n[Fo]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,i,r,o){return vC(n)?this._fetchNamespace(e).listen(n,i,r,o):()=>{}}_buildInstruction(e,n,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,_C,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,hP,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Mc(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[Fo];if(n&&n.setForRemoval){if(e[Fo]=P$,n.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(cP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Dse,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Wr(r,xse)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{n=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],n.length?Mc(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw Woe(e)}_flushAnimations(e,n){let i=new fv,r=[],o=new Map,a=[],l=new Map,d=new Map,h=new Map,m=new Set;this.disabledNodes.forEach(H=>{m.add(H);let ie=this.driver.query(H,Tse,!0);for(let he=0;he<ie.length;he++)m.add(ie[he])});let v=this.bodyNode,y=Array.from(this.statesByElement.keys()),b=_$(y,this.collectedEnterElements),w=new Map,S=0;b.forEach((H,ie)=>{let he=S$+S++;w.set(ie,he),H.forEach(Pe=>Wr(Pe,he))});let T=[],O=new Set,V=new Set;for(let H=0;H<this.collectedLeaveElements.length;H++){let ie=this.collectedLeaveElements[H],he=ie[Fo];he&&he.setForRemoval&&(T.push(ie),O.add(ie),he.hasAnimation?this.driver.query(ie,Ase,!0).forEach(Pe=>O.add(Pe)):V.add(ie))}let $=new Map,x=_$(y,Array.from(O));x.forEach((H,ie)=>{let he=dP+S++;$.set(ie,he),H.forEach(Pe=>Wr(Pe,he))}),e.push(()=>{b.forEach((H,ie)=>{let he=w.get(ie);H.forEach(Pe=>of(Pe,he))}),x.forEach((H,ie)=>{let he=$.get(ie);H.forEach(Pe=>of(Pe,he))}),T.forEach(H=>{this.processLeaveNode(H)})});let ee=[],U=[];for(let H=this._namespaceList.length-1;H>=0;H--)this._namespaceList[H].drainQueuedTransitions(n).forEach(he=>{let Pe=he.player,nt=he.element;if(ee.push(Pe),this.collectedEnterElements.length){let ut=nt[Fo];if(ut&&ut.setForMove){if(ut.previousTriggersValues&&ut.previousTriggersValues.has(he.triggerName)){let Ln=ut.previousTriggersValues.get(he.triggerName),cn=this.statesByElement.get(he.element);if(cn&&cn.has(he.triggerName)){let Bi=cn.get(he.triggerName);Bi.value=Ln,cn.set(he.triggerName,Bi)}}Pe.destroy();return}}let xn=!v||!this.driver.containsElement(v,nt),Rt=$.get(nt),ti=w.get(nt),gt=this._buildInstruction(he,i,ti,Rt,xn);if(gt.errors&&gt.errors.length){U.push(gt);return}if(xn){Pe.onStart(()=>bu(nt,gt.fromStyles)),Pe.onDestroy(()=>Ts(nt,gt.toStyles)),r.push(Pe);return}if(he.isFallbackTransition){Pe.onStart(()=>bu(nt,gt.fromStyles)),Pe.onDestroy(()=>Ts(nt,gt.toStyles)),r.push(Pe);return}let xi=[];gt.timelines.forEach(ut=>{ut.stretchStartingKeyframe=!0,this.disabledNodes.has(ut.element)||xi.push(ut)}),gt.timelines=xi,i.append(nt,gt.timelines);let fr={instruction:gt,player:Pe,element:nt};a.push(fr),gt.queriedElements.forEach(ut=>Dr(l,ut,[]).push(Pe)),gt.preStyleProps.forEach((ut,Ln)=>{if(ut.size){let cn=d.get(Ln);cn||d.set(Ln,cn=new Set),ut.forEach((Bi,kr)=>cn.add(kr))}}),gt.postStyleProps.forEach((ut,Ln)=>{let cn=h.get(Ln);cn||h.set(Ln,cn=new Set),ut.forEach((Bi,kr)=>cn.add(kr))})});if(U.length){let H=[];U.forEach(ie=>{H.push(Koe(ie.triggerName,ie.errors))}),ee.forEach(ie=>ie.destroy()),this.reportError(H)}let re=new Map,Ee=new Map;a.forEach(H=>{let ie=H.element;i.has(ie)&&(Ee.set(ie,ie),this._beforeAnimationBuild(H.player.namespaceId,H.instruction,re))}),r.forEach(H=>{let ie=H.element;this._getPreviousPlayers(ie,!1,H.namespaceId,H.triggerName,null).forEach(Pe=>{Dr(re,ie,[]).push(Pe),Pe.destroy()})});let He=T.filter(H=>w$(H,d,h)),Xe=new Map;y$(Xe,this.driver,V,h,Ss).forEach(H=>{w$(H,d,h)&&He.push(H)});let $e=new Map;b.forEach((H,ie)=>{y$($e,this.driver,new Set(H),d,fC)}),He.forEach(H=>{let ie=Xe.get(H),he=$e.get(H);Xe.set(H,new Map([...ie?.entries()??[],...he?.entries()??[]]))});let Te=[],an=[],Ye={};a.forEach(H=>{let{element:ie,player:he,instruction:Pe}=H;if(i.has(ie)){if(m.has(ie)){he.onDestroy(()=>Ts(ie,Pe.toStyles)),he.disabled=!0,he.overrideTotalTime(Pe.totalTime),r.push(he);return}let nt=Ye;if(Ee.size>1){let Rt=ie,ti=[];for(;Rt=Rt.parentNode;){let gt=Ee.get(Rt);if(gt){nt=gt;break}ti.push(Rt)}ti.forEach(gt=>Ee.set(gt,nt))}let xn=this._buildAnimation(he.namespaceId,Pe,re,o,$e,Xe);if(he.setRealPlayer(xn),nt===Ye)Te.push(he);else{let Rt=this.playersByElement.get(nt);Rt&&Rt.length&&(he.parentPlayer=Mc(Rt)),r.push(he)}}else bu(ie,Pe.fromStyles),he.onDestroy(()=>Ts(ie,Pe.toStyles)),an.push(he),m.has(ie)&&r.push(he)}),an.forEach(H=>{let ie=o.get(H.element);if(ie&&ie.length){let he=Mc(ie);H.setRealPlayer(he)}}),r.forEach(H=>{H.parentPlayer?H.syncPlayerEvents(H.parentPlayer):H.destroy()});for(let H=0;H<T.length;H++){let ie=T[H],he=ie[Fo];if(of(ie,dP),he&&he.hasAnimation)continue;let Pe=[];if(l.size){let xn=l.get(ie);xn&&xn.length&&Pe.push(...xn);let Rt=this.driver.query(ie,hP,!0);for(let ti=0;ti<Rt.length;ti++){let gt=l.get(Rt[ti]);gt&&gt.length&&Pe.push(...gt)}}let nt=Pe.filter(xn=>!xn.destroyed);nt.length?Nse(this,ie,nt):this.processLeaveNode(ie)}return T.length=0,Te.forEach(H=>{this.players.push(H),H.onDone(()=>{H.destroy();let ie=this.players.indexOf(H);this.players.splice(ie,1)}),H.play()}),Te}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,i,r,o){let a=[];if(n){let l=this.playersByQueriedElement.get(e);l&&(a=l)}else{let l=this.playersByElement.get(e);if(l){let d=!o||o==dv;l.forEach(h=>{h.queued||!d&&h.triggerName!=r||a.push(h)})}}return(i||r)&&(a=a.filter(l=>!(i&&i!=l.namespaceId||r&&r!=l.triggerName))),a}_beforeAnimationBuild(e,n,i){let r=n.triggerName,o=n.element,a=n.isRemovalTransition?void 0:e,l=n.isRemovalTransition?void 0:r;for(let d of n.timelines){let h=d.element,m=h!==o,v=Dr(i,h,[]);this._getPreviousPlayers(h,m,a,l,n.toState).forEach(b=>{let w=b.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),b.destroy(),v.push(b)})}bu(o,n.fromStyles)}_buildAnimation(e,n,i,r,o,a){let l=n.triggerName,d=n.element,h=[],m=new Set,v=new Set,y=n.timelines.map(w=>{let S=w.element;m.add(S);let T=S[Fo];if(T&&T.removedBeforeQueried)return new Ac(w.duration,w.delay);let O=S!==d,V=Fse((i.get(S)||Mse).map(re=>re.getRealPlayer())).filter(re=>{let Ee=re;return Ee.element?Ee.element===S:!1}),$=o.get(S),x=a.get(S),ee=b$(this._normalizer,w.keyframes,$,x),U=this._buildPlayer(w,ee,V);if(w.subTimeline&&r&&v.add(S),O){let re=new mv(e,l,S);re.setRealPlayer(U),h.push(re)}return U});h.forEach(w=>{Dr(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>Ose(this.playersByQueriedElement,w.element,w))}),m.forEach(w=>Wr(w,u$));let b=Mc(y);return b.onDestroy(()=>{m.forEach(w=>of(w,u$)),Ts(d,n.toStyles)}),v.forEach(w=>{Dr(r,w,[]).push(b)}),b}_buildPlayer(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new Ac(e.duration,e.delay)}},mv=class{constructor(e,n,i){this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new Ac,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>DP(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Dr(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function Ose(t,e,n){let i=t.get(e);if(i){if(i.length){let r=i.indexOf(n);i.splice(r,1)}i.length==0&&t.delete(e)}return i}function kse(t){return t??null}function vC(t){return t&&t.nodeType===1}function Rse(t){return t=="start"||t=="done"}function v$(t,e){let n=t.style.display;return t.style.display=e??"none",n}function y$(t,e,n,i,r){let o=[];n.forEach(d=>o.push(v$(d)));let a=[];i.forEach((d,h)=>{let m=new Map;d.forEach(v=>{let y=e.computeStyle(h,v,r);m.set(v,y),(!y||y.length==0)&&(h[Fo]=Pse,a.push(h))}),t.set(h,m)});let l=0;return n.forEach(d=>v$(d,o[l++])),a}function _$(t,e){let n=new Map;if(t.forEach(l=>n.set(l,[])),e.length==0)return n;let i=1,r=new Set(e),o=new Map;function a(l){if(!l)return i;let d=o.get(l);if(d)return d;let h=l.parentNode;return n.has(h)?d=h:r.has(h)?d=i:d=a(h),o.set(l,d),d}return e.forEach(l=>{let d=a(l);d!==i&&n.get(d).push(l)}),n}function Wr(t,e){t.classList?.add(e)}function of(t,e){t.classList?.remove(e)}function Nse(t,e,n){Mc(n).onDone(()=>t.processLeaveNode(e))}function Fse(t){let e=[];return O$(t,e),e}function O$(t,e){for(let n=0;n<t.length;n++){let i=t[n];i instanceof lv?O$(i.players,e):e.push(i)}}function Lse(t,e){let n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){let o=n[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function w$(t,e,n){let i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(o=>r.add(o)):e.set(t,i),n.delete(t),!0}var af=class{constructor(e,n,i,r){this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,a)=>{},this._transitionEngine=new IP(e.body,n,i,r),this._timelineEngine=new CP(e.body,n,i),this._transitionEngine.onRemovalComplete=(o,a)=>this.onRemovalComplete(o,a)}registerTrigger(e,n,i,r,o){let a=e+"-"+r,l=this._triggerCache[a];if(!l){let d=[],h=[],m=x$(this._driver,o,d,h);if(d.length)throw Loe(r,d);h.length&&void 0,l=Ese(r,m,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(n,r,l)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,i,r){this._transitionEngine.insertNode(e,n,i,r)}onRemove(e,n,i){this._transitionEngine.removeNode(e,n,i)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,i,r){if(i.charAt(0)=="@"){let[o,a]=c$(i),l=r;this._timelineEngine.command(o,n,a,l)}else this._transitionEngine.trigger(e,n,i,r)}listen(e,n,i,r,o){if(i.charAt(0)=="@"){let[a,l]=c$(i);return this._timelineEngine.listen(a,n,l,o)}return this._transitionEngine.listen(e,n,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function Vse(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=uP(e[0]),e.length>1&&(i=uP(e[e.length-1]))):e instanceof Map&&(n=uP(e)),n||i?new SP(t,n,i):null}var sf=class sf{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=sf.initialStylesByElement.get(e);r||sf.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ts(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ts(this._element,this._initialStyles),this._endStyles&&(Ts(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(sf.initialStylesByElement.delete(this._element),this._startStyles&&(bu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(bu(this._element,this._endStyles),this._endStyles=null),Ts(this._element,this._initialStyles),this._state=3)}};sf.initialStylesByElement=new WeakMap;var SP=sf;function uP(t){let e=null;return t.forEach((n,i)=>{jse(i)&&(e=e||new Map,e.set(i,n))}),e}function jse(t){return t==="display"||t==="position"}var TC=class{constructor(e,n,i,r){this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(e,n,i){return e.animate(this._convertKeyframesToObject(n),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:OP(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},DC=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return C$(e,n)}getParentElement(e){return AP(e)}query(e,n,i){return E$(e,n,i)}computeStyle(e,n,i){return OP(e,n)}animate(e,n,i,r,o,a=[]){let l=r==0?"both":"forwards",d={duration:i,delay:r,fill:l};o&&(d.easing=o);let h=new Map,m=a.filter(b=>b instanceof TC);ose(i,r)&&m.forEach(b=>{b.currentSnapshot.forEach((w,S)=>h.set(S,w))});let v=nse(n).map(b=>new Map(b));v=sse(e,v,h);let y=Vse(e,v);return new TC(e,v,d,y)}};var yC="@",k$="@.disabled",xC=class{constructor(e,n,i,r){this.namespaceId=e,this.delegate=n,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,i,r=!0){this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){n.charAt(0)==yC&&n==k$?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.delegate.listen(e,n,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},TP=class extends xC{constructor(e,n,i,r,o){super(n,i,r,o),this.factory=e,this.namespaceId=n}setProperty(e,n,i){n.charAt(0)==yC?n.charAt(1)=="."&&n==k$?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,n.slice(1),i):this.delegate.setProperty(e,n,i)}listen(e,n,i){if(n.charAt(0)==yC){let r=Use(e),o=n.slice(1),a="";return o.charAt(0)!=yC&&([o,a]=Bse(o)),this.engine.listen(this.namespaceId,r,o,a,l=>{let d=l._data||-1;this.factory.scheduleListenerCallback(d,i,l)})}return this.delegate.listen(e,n,i)}};function Use(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function Bse(t){let e=t.indexOf("."),n=t.substring(0,e),i=t.slice(e+1);return[n,i]}var AC=class{constructor(e,n,i){this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(r,o)=>{let a=o?.parentNode(r);a&&o.removeChild(a,r)}}createRenderer(e,n){let i="",r=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let h=this._rendererCache,m=h.get(r);if(!m){let v=()=>h.delete(r);m=new xC(i,r,this.engine,v),h.set(r,m)}return m}let o=n.id,a=n.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);let l=h=>{Array.isArray(h)?h.forEach(l):this.engine.registerTrigger(o,a,e,h.name,h)};return n.data.animation.forEach(l),new TP(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[a,l]=o;a(l)}),this._animationCallbacksBuffer=[]})}),r.push([n,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var Hse=(()=>{let e=class e extends af{constructor(i,r,o){super(i,r,o,J(Kp,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(oe(bi),oe(Cu),oe(Eu))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();function Gse(){return new bC}function zse(t,e,n){return new AC(t,e,n)}var R$=[{provide:Eu,useFactory:Gse},{provide:af,useClass:Hse},{provide:Sl,useFactory:zse,deps:[dC,af,Ct]}],qse=[{provide:Cu,useFactory:()=>new DC},{provide:r1,useValue:"BrowserAnimations"},...R$],AEe=[{provide:Cu,useClass:MP},{provide:r1,useValue:"NoopAnimations"},...R$];function N$(){return xl("NgEagerAnimations"),[...qse]}var Je="primary",Mv=Symbol("RouteTitle"),jP=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function hf(t){return new jP(t)}function Wse(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let a=i[o],l=t[o];if(a.startsWith(":"))r[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Kse(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ds(t[n],e[n]))return!1;return!0}function Ds(t,e){let n=t?UP(t):void 0,i=e?UP(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!B$(t[r],e[r]))return!1;return!0}function UP(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function B$(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function $$(t){return t.length>0?t[t.length-1]:null}function kc(t){return bS(t)?t:Ol(t)?Qt(Promise.resolve(t)):Re(t)}var Yse={exact:G$,subset:z$},H$={exact:Qse,subset:Jse,ignored:()=>!0};function F$(t,e,n){return Yse[n.paths](t.root,e.root,n.matrixParams)&&H$[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Qse(t,e){return Ds(t,e)}function G$(t,e,n){if(!Su(t.segments,e.segments)||!OC(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!G$(t.children[i],e.children[i],n))return!1;return!0}function Jse(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>B$(t[n],e[n]))}function z$(t,e,n){return q$(t,e,e.segments,n)}function q$(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!Su(r,n)||e.hasChildren()||!OC(r,n,i))}else if(t.segments.length===n.length){if(!Su(t.segments,n)||!OC(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!z$(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Su(t.segments,r)||!OC(t.segments,r,i)||!t.children[Je]?!1:q$(t.children[Je],e,o,i)}}function OC(t,e,n){return e.every((i,r)=>H$[n](t[r].parameters,i.parameters))}var Pc=class{constructor(e=new Lt([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=hf(this.queryParams),this._queryParamMap}toString(){return eae.serialize(this)}},Lt=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kC(this)}},Iu=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=hf(this.parameters),this._parameterMap}toString(){return K$(this)}};function Xse(t,e){return Su(t,e)&&t.every((n,i)=>Ds(n.parameters,e[i].parameters))}function Su(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function Zse(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===Je&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==Je&&(n=n.concat(e(r,i)))}),n}var hO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>new NC,providedIn:"root"});let t=e;return t})(),NC=class{parse(e){let n=new $P(e);return new Pc(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${gv(e.root,!0)}`,i=iae(e.queryParams),r=typeof e.fragment=="string"?`#${tae(e.fragment)}`:"";return`${n}${i}${r}`}},eae=new NC;function kC(t){return t.segments.map(e=>K$(e)).join("/")}function gv(t,e){if(!t.hasChildren())return kC(t);if(e){let n=t.children[Je]?gv(t.children[Je],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==Je&&i.push(`${r}:${gv(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=Zse(t,(i,r)=>r===Je?[gv(t.children[Je],!1)]:[`${r}:${gv(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[Je]!=null?`${kC(t)}/${n[0]}`:`${kC(t)}/(${n.join("//")})`}}function W$(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function MC(t){return W$(t).replace(/%3B/gi,";")}function tae(t){return encodeURI(t)}function BP(t){return W$(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function RC(t){return decodeURIComponent(t)}function L$(t){return RC(t.replace(/\+/g,"%20"))}function K$(t){return`${BP(t.path)}${nae(t.parameters)}`}function nae(t){return Object.entries(t).map(([e,n])=>`;${BP(e)}=${BP(n)}`).join("")}function iae(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${MC(n)}=${MC(r)}`).join("&"):`${MC(n)}=${MC(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var rae=/^[^\/()?;#]+/;function NP(t){let e=t.match(rae);return e?e[0]:""}var oae=/^[^\/()?;=#]+/;function sae(t){let e=t.match(oae);return e?e[0]:""}var aae=/^[^=?&#]+/;function cae(t){let e=t.match(aae);return e?e[0]:""}var lae=/^[^&#]+/;function uae(t){let e=t.match(lae);return e?e[0]:""}var $P=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lt([],{}):new Lt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[Je]=new Lt(e,n)),i}parseSegment(){let e=NP(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new X(4009,!1);return this.capture(e),new Iu(RC(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=sae(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=NP(this.remaining);r&&(i=r,this.capture(i))}e[RC(n)]=RC(i)}parseQueryParam(e){let n=cae(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let a=uae(this.remaining);a&&(i=a,this.capture(i))}let r=L$(n),o=L$(i);if(e.hasOwnProperty(r)){let a=e[r];Array.isArray(a)||(a=[a],e[r]=a),a.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=NP(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new X(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Je);let a=this.parseChildren();n[o]=Object.keys(a).length===1?a[Je]:new Lt([],a),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new X(4011,!1)}};function Y$(t){return t.segments.length>0?new Lt([],{[Je]:t}):t}function Q$(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=Q$(r);if(i===Je&&o.segments.length===0&&o.hasChildren())for(let[a,l]of Object.entries(o.children))e[a]=l;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new Lt(t.segments,e);return dae(n)}function dae(t){if(t.numberOfChildren===1&&t.children[Je]){let e=t.children[Je];return new Lt(t.segments.concat(e.segments),e.children)}return t}function ff(t){return t instanceof Pc}function hae(t,e,n=null,i=null){let r=J$(t);return X$(r,e,n,i)}function J$(t){let e;function n(o){let a={};for(let d of o.children){let h=n(d);a[d.outlet]=h}let l=new Lt(o.url,a);return o===t&&(e=l),l}let i=n(t.root),r=Y$(i);return e??r}function X$(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return FP(r,r,r,n,i);let o=fae(e);if(o.toRoot())return FP(r,r,new Lt([],{}),n,i);let a=pae(o,r,t),l=a.processChildren?_v(a.segmentGroup,a.index,o.commands):e9(a.segmentGroup,a.index,o.commands);return FP(r,a.segmentGroup,l,n,i)}function FC(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Cv(t){return typeof t=="object"&&t!=null&&t.outlets}function FP(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([d,h])=>{o[d]=Array.isArray(h)?h.map(m=>`${m}`):`${h}`});let a;t===e?a=n:a=Z$(t,e,n);let l=Y$(Q$(a));return new Pc(l,o,r)}function Z$(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=Z$(o,e,n)}),new Lt(t.segments,i)}var LC=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&FC(i[0]))throw new X(4003,!1);let r=i.find(Cv);if(r&&r!==$$(i))throw new X(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function fae(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new LC(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([d,h])=>{l[d]=typeof h=="string"?h.split("/"):h}),[...r,{outlets:l}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:a===0?(o.split("/").forEach((l,d)=>{d==0&&l==="."||(d==0&&l===""?n=!0:l===".."?e++:l!=""&&r.push(l))}),r):[...r,o]},[]);return new LC(n,e,i)}var uf=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function pae(t,e,n){if(t.isAbsolute)return new uf(e,!0,0);if(!n)return new uf(e,!1,NaN);if(n.parent===null)return new uf(n,!0,0);let i=FC(t.commands[0])?0:1,r=n.segments.length-1+i;return mae(n,r,t.numberOfDoubleDots)}function mae(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new X(4005,!1);r=i.segments.length}return new uf(i,!1,r-o)}function gae(t){return Cv(t[0])?t[0].outlets:{[Je]:t}}function e9(t,e,n){if(t??=new Lt([],{}),t.segments.length===0&&t.hasChildren())return _v(t,e,n);let i=vae(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new Lt(t.segments.slice(0,i.pathIndex),{});return o.children[Je]=new Lt(t.segments.slice(i.pathIndex),t.children),_v(o,0,r)}else return i.match&&r.length===0?new Lt(t.segments,{}):i.match&&!t.hasChildren()?HP(t,e,n):i.match?_v(t,0,r):HP(t,e,n)}function _v(t,e,n){if(n.length===0)return new Lt(t.segments,{});{let i=gae(n),r={};if(Object.keys(i).some(o=>o!==Je)&&t.children[Je]&&t.numberOfChildren===1&&t.children[Je].segments.length===0){let o=_v(t.children[Je],e,n);return new Lt(t.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[o]=e9(t.children[o],e,a))}),Object.entries(t.children).forEach(([o,a])=>{i[o]===void 0&&(r[o]=a)}),new Lt(t.segments,r)}}function vae(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let a=t.segments[r],l=n[i];if(Cv(l))break;let d=`${l}`,h=i<n.length-1?n[i+1]:null;if(r>0&&d===void 0)break;if(d&&h&&typeof h=="object"&&h.outlets===void 0){if(!j$(d,h,a))return o;i+=2}else{if(!j$(d,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function HP(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(Cv(o)){let d=yae(o.outlets);return new Lt(i,d)}if(r===0&&FC(n[0])){let d=t.segments[e];i.push(new Iu(d.path,V$(n[0]))),r++;continue}let a=Cv(o)?o.outlets[Je]:`${o}`,l=r<n.length-1?n[r+1]:null;a&&l&&FC(l)?(i.push(new Iu(a,V$(l))),r+=2):(i.push(new Iu(a,{})),r++)}return new Lt(i,{})}function yae(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=HP(new Lt([],{}),0,i))}),e}function V$(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function j$(t,e,n){return t==n.path&&Ds(e,n.parameters)}var wv="imperative",Ti=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ti||{}),Yr=class{constructor(e,n){this.id=e,this.url=n}},Ev=class extends Yr{constructor(e,n,i="imperative",r=null){super(e,n),this.type=Ti.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},_a=class extends Yr{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=Ti.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Kr=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Kr||{}),GP=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(GP||{}),Oc=class extends Yr{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Ti.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Tu=class extends Yr{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Ti.NavigationSkipped}},Iv=class extends Yr{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=Ti.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},VC=class extends Yr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Ti.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zP=class extends Yr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Ti.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qP=class extends Yr{constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Ti.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},WP=class extends Yr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Ti.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},KP=class extends Yr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Ti.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},YP=class{constructor(e){this.route=e,this.type=Ti.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},QP=class{constructor(e){this.route=e,this.type=Ti.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},JP=class{constructor(e){this.snapshot=e,this.type=Ti.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},XP=class{constructor(e){this.snapshot=e,this.type=Ti.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ZP=class{constructor(e){this.snapshot=e,this.type=Ti.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},eO=class{constructor(e){this.snapshot=e,this.type=Ti.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Sv=class{},Tv=class{constructor(e){this.url=e}};var tO=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new GC,this.attachRef=null}},GC=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new tO,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jC=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=nO(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=nO(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=iO(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return iO(e,this._root).map(n=>n.value)}};function nO(t,e){if(t===e.value)return e;for(let n of e.children){let i=nO(t,n);if(i)return i}return null}function iO(t,e){if(t===e.value)return[e];for(let n of e.children){let i=iO(t,n);if(i.length)return i.unshift(e),i}return[]}var xr=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function lf(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var UC=class extends jC{constructor(e,n){super(e),this.snapshot=n,pO(this,e)}toString(){return this.snapshot.toString()}};function t9(t){let e=_ae(t),n=new Qn([new Iu("",{})]),i=new Qn({}),r=new Qn({}),o=new Qn({}),a=new Qn(""),l=new nr(n,i,o,a,r,Je,t,e.root);return l.snapshot=e.root,new UC(new xr(l,[]),e)}function _ae(t){let e={},n={},i={},r="",o=new Dv([],e,i,r,n,Je,t,null,{});return new BC("",new xr(o,[]))}var nr=class{constructor(e,n,i,r,o,a,l,d){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=l,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(Ne(h=>h[Mv]))??Re(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ne(e=>hf(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ne(e=>hf(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function fO(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:te(te({},e.params),t.params),data:te(te({},e.data),t.data),resolve:te(te(te(te({},t.data),e.data),r?.data),t._resolvedData)}:i={params:te({},t.params),data:te({},t.data),resolve:te(te({},t.data),t._resolvedData??{})},r&&i9(r)&&(i.resolve[Mv]=r.title),i}var Dv=class{get title(){return this.data?.[Mv]}constructor(e,n,i,r,o,a,l,d,h){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=l,this.routeConfig=d,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=hf(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=hf(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},BC=class extends jC{constructor(e,n){super(n),this.url=e,pO(this,n)}toString(){return n9(this._root)}};function pO(t,e){e.value._routerState=t,e.children.forEach(n=>pO(t,n))}function n9(t){let e=t.children.length>0?` { ${t.children.map(n9).join(", ")} } `:"";return`${t.value}${e}`}function LP(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ds(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ds(e.params,n.params)||t.paramsSubject.next(n.params),Kse(e.url,n.url)||t.urlSubject.next(n.url),Ds(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function rO(t,e){let n=Ds(t.params,e.params)&&Xse(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||rO(t.parent,e.parent))}function i9(t){return typeof t.title=="string"||t.title===null}var Pv=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Je,this.activateEvents=new Gt,this.deactivateEvents=new Gt,this.attachEvents=new Gt,this.detachEvents=new Gt,this.parentContexts=J(GC),this.location=J(wi),this.changeDetector=J(ia),this.environmentInjector=J(ui),this.inputBinder=J(mO,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new X(4013,!1);this._activatedRoute=i;let o=this.location,l=i.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,h=new oO(i,d,o.injector);this.activated=o.createComponent(l,{index:o.length,injector:h,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=xt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[bo]});let t=e;return t})(),oO=class{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===nr?this.route:e===GC?this.childContexts:this.parent.get(e,n)}},mO=new we("");function wae(t,e,n){let i=xv(t,e._root,n?n._root:void 0);return new UC(i,e)}function xv(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=bae(t,e,n);return new xr(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(l=>xv(t,l)),a}}let i=Cae(e.value),r=e.children.map(o=>xv(t,o));return new xr(i,r)}}function bae(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return xv(t,i,r);return xv(t,i)})}function Cae(t){return new nr(new Qn(t.url),new Qn(t.params),new Qn(t.queryParams),new Qn(t.fragment),new Qn(t.data),t.outlet,t.component,t)}var r9="ngNavigationCancelingError";function o9(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=ff(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=s9(!1,Kr.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function s9(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[r9]=!0,n.cancellationCode=e,n}function Eae(t){return a9(t)&&ff(t.url)}function a9(t){return!!t&&t[r9]}var Iae=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=de({type:e,selectors:[["ng-component"]],standalone:!0,features:[me],decls:1,vars:0,template:function(r,o){r&1&&ne(0,"router-outlet")},dependencies:[Pv],encapsulation:2});let t=e;return t})();function Sae(t,e){return t.providers&&!t._injector&&(t._injector=T1(t.providers,e,`Route: ${t.path}`)),t._injector??e}function gO(t){let e=t.children&&t.children.map(gO),n=e?Dt(te({},t),{children:e}):te({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Je&&(n.component=Iae),n}function xs(t){return t.outlet||Je}function Tae(t,e){let n=t.filter(i=>xs(i)===e);return n.push(...t.filter(i=>xs(i)!==e)),n}function Ov(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Dae=(t,e,n,i)=>Ne(r=>(new sO(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),sO=class{constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),LP(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=lf(n);e.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(e,n,a.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=lf(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);if(i&&i.outlet){let a=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:l})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=lf(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=lf(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new eO(o.value.snapshot))}),e.children.length&&this.forwardEvent(new XP(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(LP(r),r===o)if(r.component){let a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,a.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),LP(l.route.value),this.activateChildRoutes(e,null,a.children)}else{let l=Ov(r.snapshot);a.attachRef=null,a.route=r,a.injector=l,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,i)}},$C=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},df=class{constructor(e,n){this.component=e,this.route=n}};function xae(t,e,n){let i=t._root,r=e?e._root:null;return vv(i,r,n,[i.value])}function Aae(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function gf(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!LV(t)?t:e.get(t):i}function vv(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=lf(e);return t.children.forEach(a=>{Mae(a,o[a.value.outlet],n,i.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,l])=>bv(l,n.getContext(a),r)),r}function Mae(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,a=e?e.value:null,l=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let d=Pae(a,o,o.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new $C(i)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?vv(t,e,l?l.children:null,i,r):vv(t,e,n,i,r),d&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new df(l.outlet.component,a))}else a&&bv(e,l,r),r.canActivateChecks.push(new $C(i)),o.component?vv(t,null,l?l.children:null,i,r):vv(t,null,n,i,r);return r}function Pae(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Su(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Su(t.url,e.url)||!Ds(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rO(t,e)||!Ds(t.queryParams,e.queryParams);case"paramsChange":default:return!rO(t,e)}}function bv(t,e,n){let i=lf(t),r=t.value;Object.entries(i).forEach(([o,a])=>{r.component?e?bv(a,e.children.getContext(o),n):bv(a,null,n):bv(a,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new df(e.outlet.component,r)):n.canDeactivateChecks.push(new df(null,r)):n.canDeactivateChecks.push(new df(null,r))}function kv(t){return typeof t=="function"}function Oae(t){return typeof t=="boolean"}function kae(t){return t&&kv(t.canLoad)}function Rae(t){return t&&kv(t.canActivate)}function Nae(t){return t&&kv(t.canActivateChild)}function Fae(t){return t&&kv(t.canDeactivate)}function Lae(t){return t&&kv(t.canMatch)}function c9(t){return t instanceof br||t?.name==="EmptyError"}var PC=Symbol("INITIAL_VALUE");function pf(){return Mi(t=>z_(t.map(e=>e.pipe(Gs(1),xS(PC)))).pipe(Ne(e=>{for(let n of e)if(n!==!0){if(n===PC)return PC;if(n===!1||n instanceof Pc)return n}return!0}),li(e=>e!==PC),Gs(1)))}function Vae(t,e){return kn(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return a.length===0&&o.length===0?Re(Dt(te({},n),{guardsResult:!0})):jae(a,i,r,t).pipe(kn(l=>l&&Oae(l)?Uae(i,o,t,e):Re(l)),Ne(l=>Dt(te({},n),{guardsResult:l})))})}function jae(t,e,n,i){return Qt(t).pipe(kn(r=>zae(r.component,r.route,n,e,i)),Jo(r=>r!==!0,!0))}function Uae(t,e,n,i){return Qt(e).pipe(Ya(r=>Ud($ae(r.route.parent,i),Bae(r.route,i),Gae(t,r.path,n),Hae(t,r.route,n))),Jo(r=>r!==!0,!0))}function Bae(t,e){return t!==null&&e&&e(new ZP(t)),Re(!0)}function $ae(t,e){return t!==null&&e&&e(new JP(t)),Re(!0)}function Hae(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return Re(!0);let r=i.map(o=>q_(()=>{let a=Ov(e)??n,l=gf(o,a),d=Rae(l)?l.canActivate(e,t):ea(a,()=>l(e,t));return kc(d).pipe(Jo())}));return Re(r).pipe(pf())}function Gae(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>Aae(a)).filter(a=>a!==null).map(a=>q_(()=>{let l=a.guards.map(d=>{let h=Ov(a.node)??n,m=gf(d,h),v=Nae(m)?m.canActivateChild(i,t):ea(h,()=>m(i,t));return kc(v).pipe(Jo())});return Re(l).pipe(pf())}));return Re(o).pipe(pf())}function zae(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Re(!0);let a=o.map(l=>{let d=Ov(e)??r,h=gf(l,d),m=Fae(h)?h.canDeactivate(t,e,n,i):ea(d,()=>h(t,e,n,i));return kc(m).pipe(Jo())});return Re(a).pipe(pf())}function qae(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return Re(!0);let o=r.map(a=>{let l=gf(a,t),d=kae(l)?l.canLoad(e,n):ea(t,()=>l(e,n));return kc(d)});return Re(o).pipe(pf(),l9(i))}function l9(t){return fS(Rn(e=>{if(ff(e))throw o9(t,e)}),Ne(e=>e===!0))}function Wae(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return Re(!0);let o=r.map(a=>{let l=gf(a,t),d=Lae(l)?l.canMatch(e,n):ea(t,()=>l(e,n));return kc(d)});return Re(o).pipe(pf(),l9(i))}var Av=class{constructor(e){this.segmentGroup=e||null}},HC=class extends Error{constructor(e){super(),this.urlTree=e}};function cf(t){return Vd(new Av(t))}function Kae(t){return Vd(new X(4e3,!1))}function Yae(t){return Vd(s9(!1,Kr.GuardRejected))}var aO=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Re(i);if(r.numberOfChildren>1||!r.children[Je])return Kae(e.redirectTo);r=r.children[Je]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new HC(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new Pc(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let l=o.substring(1);i[r]=n[l]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),a={};return Object.entries(n.children).forEach(([l,d])=>{a[l]=this.createSegmentGroup(e,d,i,r)}),new Lt(o,a)}createSegments(e,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new X(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},cO={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qae(t,e,n,i,r){let o=vO(t,e,n);return o.matched?(i=Sae(e,i),Wae(i,e,n,r).pipe(Ne(a=>a===!0?o:te({},cO)))):Re(o)}function vO(t,e,n){if(e.path==="**")return Jae(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?te({},cO):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||Wse)(n,t,e);if(!r)return te({},cO);let o={};Object.entries(r.posParams??{}).forEach(([l,d])=>{o[l]=d.path});let a=r.consumed.length>0?te(te({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function Jae(t){return{matched:!0,parameters:t.length>0?$$(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function U$(t,e,n,i){return n.length>0&&ece(t,n,i)?{segmentGroup:new Lt(e,Zae(i,new Lt(n,t.children))),slicedSegments:[]}:n.length===0&&tce(t,n,i)?{segmentGroup:new Lt(t.segments,Xae(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Lt(t.segments,t.children),slicedSegments:n}}function Xae(t,e,n,i){let r={};for(let o of n)if(zC(t,e,o)&&!i[xs(o)]){let a=new Lt([],{});r[xs(o)]=a}return te(te({},i),r)}function Zae(t,e){let n={};n[Je]=e;for(let i of t)if(i.path===""&&xs(i)!==Je){let r=new Lt([],{});n[xs(i)]=r}return n}function ece(t,e,n){return n.some(i=>zC(t,e,i)&&xs(i)!==Je)}function tce(t,e,n){return n.some(i=>zC(t,e,i))}function zC(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function nce(t,e,n,i){return xs(t)!==i&&(i===Je||!zC(e,n,t))?!1:vO(e,t,n).matched}function ice(t,e,n){return e.length===0&&!t.children[n]}var lO=class{};function rce(t,e,n,i,r,o,a="emptyOnly"){return new uO(t,e,n,i,r,a,o).recognize()}var oce=31,uO=class{constructor(e,n,i,r,o,a,l){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=l,this.applyRedirects=new aO(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new X(4002,`'${e.segmentGroup}'`)}recognize(){let e=U$(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ne(n=>{let i=new Dv([],Object.freeze({}),Object.freeze(te({},this.urlTree.queryParams)),this.urlTree.fragment,{},Je,this.rootComponentType,null,{}),r=new xr(i,n),o=new BC("",r),a=hae(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(o._root,null),{state:o,tree:a}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Je).pipe(Qo(i=>{if(i instanceof HC)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Av?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=fO(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(Ne(o=>o instanceof xr?[o]:[]))}processChildren(e,n,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return Qt(r).pipe(Ya(o=>{let a=i.children[o],l=Tae(n,o);return this.processSegmentGroup(e,l,a,o)}),TS((o,a)=>(o.push(...a),o)),Qa(null),SS(),kn(o=>{if(o===null)return cf(i);let a=u9(o);return sce(a),Re(a)}))}processSegment(e,n,i,r,o,a){return Qt(n).pipe(Ya(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,i,r,o,a).pipe(Qo(d=>{if(d instanceof Av)return Re(null);throw d}))),Jo(l=>!!l),Qo(l=>{if(c9(l))return ice(i,r,o)?Re(new lO):cf(i);throw l}))}processSegmentAgainstRoute(e,n,i,r,o,a,l){return nce(i,r,o,a)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,a):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,a):cf(r):cf(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,a){let{matched:l,consumedSegments:d,positionalParamSegments:h,remainingSegments:m}=vO(n,r,o);if(!l)return cf(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>oce&&(this.allowRedirects=!1));let v=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,h);return this.applyRedirects.lineralizeSegments(r,v).pipe(kn(y=>this.processSegment(e,i,n,y.concat(m),a,!1)))}matchSegmentAgainstRoute(e,n,i,r,o){let a=Qae(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(Mi(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Mi(({routes:d})=>{let h=i._loadedInjector??e,{consumedSegments:m,remainingSegments:v,parameters:y}=l,b=new Dv(m,y,Object.freeze(te({},this.urlTree.queryParams)),this.urlTree.fragment,cce(i),xs(i),i.component??i._loadedComponent??null,i,lce(i)),{segmentGroup:w,slicedSegments:S}=U$(n,m,v,d);if(S.length===0&&w.hasChildren())return this.processChildren(h,d,w).pipe(Ne(O=>O===null?null:new xr(b,O)));if(d.length===0&&S.length===0)return Re(new xr(b,[]));let T=xs(i)===o;return this.processSegment(h,d,w,S,T?Je:o,!0).pipe(Ne(O=>new xr(b,O instanceof xr?[O]:[])))}))):cf(n)))}getChildConfig(e,n,i){return n.children?Re({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Re({routes:n._loadedRoutes,injector:n._loadedInjector}):qae(e,n,i,this.urlSerializer).pipe(kn(r=>r?this.configLoader.loadChildren(e,n).pipe(Rn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Yae(n))):Re({routes:[],injector:e})}};function sce(t){t.sort((e,n)=>e.value.outlet===Je?-1:n.value.outlet===Je?1:e.value.outlet.localeCompare(n.value.outlet))}function ace(t){let e=t.value.routeConfig;return e&&e.path===""}function u9(t){let e=[],n=new Set;for(let i of t){if(!ace(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=u9(i.children);e.push(new xr(i.value,r))}return e.filter(i=>!n.has(i))}function cce(t){return t.data||{}}function lce(t){return t.resolve||{}}function uce(t,e,n,i,r,o){return kn(a=>rce(t,e,n,i,a.extractedUrl,r,o).pipe(Ne(({state:l,tree:d})=>Dt(te({},a),{targetSnapshot:l,urlAfterRedirects:d}))))}function dce(t,e){return kn(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Re(n);let o=new Set(r.map(d=>d.route)),a=new Set;for(let d of o)if(!a.has(d))for(let h of d9(d))a.add(h);let l=0;return Qt(a).pipe(Ya(d=>o.has(d)?hce(d,i,t,e):(d.data=fO(d,d.parent,t).resolve,Re(void 0))),Rn(()=>l++),$d(1),kn(d=>l===a.size?Re(n):sr))})}function d9(t){let e=t.children.map(n=>d9(n)).flat();return[t,...e]}function hce(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!i9(r)&&(o[Mv]=r.title),fce(o,t,e,i).pipe(Ne(a=>(t._resolvedData=a,t.data=fO(t,t.parent,n).resolve,null)))}function fce(t,e,n,i){let r=UP(t);if(r.length===0)return Re({});let o={};return Qt(r).pipe(kn(a=>pce(t[a],e,n,i).pipe(Jo(),Rn(l=>{o[a]=l}))),$d(1),IS(o),Qo(a=>c9(a)?sr:Vd(a)))}function pce(t,e,n,i){let r=Ov(e)??i,o=gf(t,r),a=o.resolve?o.resolve(e,n):ea(r,()=>o(e,n));return kc(a)}function VP(t){return Mi(e=>{let n=t(e);return n?Qt(n).pipe(Ne(()=>e)):Re(e)})}var h9=(()=>{let e=class e{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(a=>a.outlet===Je);return r}getResolvedTitleForRoute(i){return i.data[Mv]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>J(mce),providedIn:"root"});let t=e;return t})(),mce=(()=>{let e=class e extends h9{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(oe(i$))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qC=new we("",{providedIn:"root",factory:()=>({})}),yO=new we(""),gce=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=J(x1)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Re(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=kc(i.loadComponent()).pipe(Ne(f9),Rn(a=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=a}),gl(()=>{this.componentLoaders.delete(i)})),o=new Od(r,()=>new ci).pipe(Pd());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Re({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let a=vce(r,this.compiler,i,this.onLoadEndListener).pipe(gl(()=>{this.childrenLoaders.delete(r)})),l=new Od(a,()=>new ci).pipe(Pd());return this.childrenLoaders.set(r,l),l}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vce(t,e,n,i){return kc(t.loadChildren()).pipe(Ne(f9),kn(r=>r instanceof Yp||Array.isArray(r)?Re(r):Qt(e.compileModuleAsync(r))),Ne(r=>{i&&i(t);let o,a,l=!1;return Array.isArray(r)?(a=r,l=!0):(o=r.create(n).injector,a=o.get(yO,[],{optional:!0,self:!0}).flat()),{routes:a.map(gO),injector:o}}))}function yce(t){return t&&typeof t=="object"&&"default"in t}function f9(t){return yce(t)?t.default:t}var _O=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>J(_ce),providedIn:"root"});let t=e;return t})(),_ce=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wce=new we("");var bce=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ci,this.transitionAbortSubject=new ci,this.configLoader=J(gce),this.environmentInjector=J(ui),this.urlSerializer=J(hO),this.rootContexts=J(GC),this.location=J(om),this.inputBindingEnabled=J(mO,{optional:!0})!==null,this.titleStrategy=J(h9),this.options=J(qC,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=J(_O),this.createViewTransition=J(wce,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Re(void 0),this.rootComponentType=null;let i=o=>this.events.next(new YP(o)),r=o=>this.events.next(new QP(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(Dt(te(te({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new Qn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:wv,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(li(a=>a.id!==0),Ne(a=>Dt(te({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Mi(a=>{this.currentTransition=a;let l=!1,d=!1;return Re(a).pipe(Rn(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Dt(te({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Mi(h=>{let m=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),v=h.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!m&&v!=="reload"){let y="";return this.events.next(new Tu(h.id,this.urlSerializer.serialize(h.rawUrl),y,GP.IgnoredSameUrlNavigation)),h.resolve(null),sr}if(this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Re(h).pipe(Mi(y=>{let b=this.transitions?.getValue();return this.events.next(new Ev(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),b!==this.transitions?.getValue()?sr:Promise.resolve(y)}),uce(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Rn(y=>{a.targetSnapshot=y.targetSnapshot,a.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=Dt(te({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let b=new VC(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(b)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(h.currentRawUrl)){let{id:y,extractedUrl:b,source:w,restoredState:S,extras:T}=h,O=new Ev(y,this.urlSerializer.serialize(b),w,S);this.events.next(O);let V=t9(this.rootComponentType).snapshot;return this.currentTransition=a=Dt(te({},h),{targetSnapshot:V,urlAfterRedirects:b,extras:Dt(te({},T),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=b,Re(a)}else{let y="";return this.events.next(new Tu(h.id,this.urlSerializer.serialize(h.extractedUrl),y,GP.IgnoredByUrlHandlingStrategy)),h.resolve(null),sr}}),Rn(h=>{let m=new zP(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}),Ne(h=>(this.currentTransition=a=Dt(te({},h),{guards:xae(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),a)),Vae(this.environmentInjector,h=>this.events.next(h)),Rn(h=>{if(a.guardsResult=h.guardsResult,ff(h.guardsResult))throw o9(this.urlSerializer,h.guardsResult);let m=new qP(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.events.next(m)}),li(h=>h.guardsResult?!0:(this.cancelNavigationTransition(h,"",Kr.GuardRejected),!1)),VP(h=>{if(h.guards.canActivateChecks.length)return Re(h).pipe(Rn(m=>{let v=new WP(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}),Mi(m=>{let v=!1;return Re(m).pipe(dce(this.paramsInheritanceStrategy,this.environmentInjector),Rn({next:()=>v=!0,complete:()=>{v||this.cancelNavigationTransition(m,"",Kr.NoDataFromResolver)}}))}),Rn(m=>{let v=new KP(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}))}),VP(h=>{let m=v=>{let y=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(v.routeConfig).pipe(Rn(b=>{v.component=b}),Ne(()=>{})));for(let b of v.children)y.push(...m(b));return y};return z_(m(h.targetSnapshot.root)).pipe(Qa(null),Gs(1))}),VP(()=>this.afterPreactivation()),Mi(()=>{let{currentSnapshot:h,targetSnapshot:m}=a,v=this.createViewTransition?.(this.environmentInjector,h.root,m.root);return v?Qt(v).pipe(Ne(()=>a)):Re(a)}),Ne(h=>{let m=wae(i.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return this.currentTransition=a=Dt(te({},h),{targetRouterState:m}),this.currentNavigation.targetRouterState=m,a}),Rn(()=>{this.events.next(new Sv)}),Dae(this.rootContexts,i.routeReuseStrategy,h=>this.events.next(h),this.inputBindingEnabled),Gs(1),Rn({next:h=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _a(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects))),this.titleStrategy?.updateTitle(h.targetRouterState.snapshot),h.resolve(!0)},complete:()=>{l=!0}}),mo(this.transitionAbortSubject.pipe(Rn(h=>{throw h}))),gl(()=>{!l&&!d&&this.cancelNavigationTransition(a,"",Kr.SupersededByNewNavigation),this.currentTransition?.id===a.id&&(this.currentNavigation=null,this.currentTransition=null)}),Qo(h=>{if(d=!0,a9(h))this.events.next(new Oc(a.id,this.urlSerializer.serialize(a.extractedUrl),h.message,h.cancellationCode)),Eae(h)?this.events.next(new Tv(h.url)):a.resolve(!1);else{this.events.next(new Iv(a.id,this.urlSerializer.serialize(a.extractedUrl),h,a.targetSnapshot??void 0));try{a.resolve(i.errorHandler(h))}catch(m){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(m)}}return sr}))}))}cancelNavigationTransition(i,r,o){let a=new Oc(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(a),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Cce(t){return t!==wv}var Ece=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>J(Ice),providedIn:"root"});let t=e;return t})(),dO=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Ice=(()=>{let e=class e extends dO{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=lr(e)))(o||e)}})(),e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),p9=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>J(Sce),providedIn:"root"});let t=e;return t})(),Sce=(()=>{let e=class e extends p9{constructor(){super(...arguments),this.location=J(om),this.urlSerializer=J(hO),this.options=J(qC,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=J(_O),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pc,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=t9(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Ev)this.stateMemento=this.createStateMemento();else if(i instanceof Tu)this.rawUrlTree=r.initialUrl;else if(i instanceof VC){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else i instanceof Sv?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof Oc&&(i.code===Kr.GuardRejected||i.code===Kr.NoDataFromResolver)?this.restoreHistory(r):i instanceof Iv?this.restoreHistory(r,!0):i instanceof _a&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let a=this.browserPageId,l=te(te({},r.extras.state),this.generateNgRouterState(r.id,a));this.location.replaceState(o,"",l)}else{let a=te(te({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",a)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,a=this.currentPageId-o;a!==0?this.location.historyGo(a):this.currentUrlTree===i.finalUrl&&a===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=lr(e)))(o||e)}})(),e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yv=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(yv||{});function Tce(t,e){t.events.pipe(li(n=>n instanceof _a||n instanceof Oc||n instanceof Iv||n instanceof Tu),Ne(n=>n instanceof _a||n instanceof Tu?yv.COMPLETE:(n instanceof Oc?n.code===Kr.Redirect||n.code===Kr.SupersededByNewNavigation:!1)?yv.REDIRECTING:yv.FAILED),li(n=>n!==yv.REDIRECTING),Gs(1)).subscribe(()=>{e()})}function Dce(t){throw t}var xce={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ace={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Wn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=J(X0),this.stateManager=J(p9),this.options=J(qC,{optional:!0})||{},this.pendingTasks=J(Al),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=J(bce),this.urlSerializer=J(hO),this.location=J(om),this.urlHandlingStrategy=J(_O),this._events=new ci,this.errorHandler=this.options.errorHandler||Dce,this.navigated=!1,this.routeReuseStrategy=J(Ece),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=J(yO,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!J(mO,{optional:!0}),this.eventsSubscription=new On,this.isNgZoneEnabled=J(Ct)instanceof Ct&&Ct.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(o!==null&&a!==null){if(this.stateManager.handleRouterEvent(r,a),r instanceof Oc&&r.code!==Kr.Redirect&&r.code!==Kr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof _a)this.navigated=!0;else if(r instanceof Tv){let l=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),d={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Cce(o.source)};this.scheduleNavigation(l,wv,null,d,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Pce(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),wv,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let a={replaceUrl:!0},l=o?.navigationId?o:null;if(o){let h=te({},o);delete h.navigationId,delete h.\u0275routerPageId,Object.keys(h).length!==0&&(a.state=h)}let d=this.parseUrl(i);this.scheduleNavigation(d,r,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(gO),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:a,fragment:l,queryParamsHandling:d,preserveFragment:h}=r,m=h?this.currentUrlTree.fragment:l,v=null;switch(d){case"merge":v=te(te({},this.currentUrlTree.queryParams),a);break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=a||null}v!==null&&(v=this.removeEmptyProps(v));let y;try{let b=o?o.snapshot:this.routerState.snapshot.root;y=J$(b)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),y=this.currentUrlTree.root}return X$(y,i,v,m??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=ff(i)?i:this.parseUrl(i),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,wv,null,r)}navigate(i,r={skipLocationChange:!1}){return Mce(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=te({},xce):r===!1?o=te({},Ace):o=r,ff(i))return F$(this.currentUrlTree,i,o);let a=this.parseUrl(i);return F$(this.currentUrlTree,a,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,a])=>(a!=null&&(r[o]=a),r),{})}scheduleNavigation(i,r,o,a,l){if(this.disposed)return Promise.resolve(!1);let d,h,m;l?(d=l.resolve,h=l.reject,m=l.promise):m=new Promise((y,b)=>{d=y,h=b});let v=this.pendingTasks.add();return Tce(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(v))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:a,resolve:d,reject:h,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(y=>Promise.reject(y))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Mce(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new X(4008,!1)}function Pce(t){return!(t instanceof Sv)&&!(t instanceof Tv)}var mf=(()=>{let e=class e{constructor(i,r,o,a,l,d){this.router=i,this.route=r,this.tabIndexAttribute=o,this.renderer=a,this.el=l,this.locationStrategy=d,this.href=null,this.commands=null,this.onChanges=new ci,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let h=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement=h==="a"||h==="area",this.isAnchorElement?this.subscription=i.events.subscribe(m=>{m instanceof _a&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,o,a,l){let d=this.urlTree;if(d===null||this.isAnchorElement&&(i!==0||r||o||a||l||typeof this.target=="string"&&this.target!="_self"))return!0;let h={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(d,h),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:T3(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let o=this.renderer,a=this.el.nativeElement;r!==null?o.setAttribute(a,i,r):o.removeAttribute(a,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(R(Wn),R(nr),u1("tabindex"),R(Eo),R(nn),R(ch))},e.\u0275dir=xt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&k("click",function(l){return o.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),r&2&&W0("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[xe.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Zi],skipLocationChange:[xe.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Zi],replaceUrl:[xe.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Zi],routerLink:"routerLink"},standalone:!0,features:[rm,bo]});let t=e;return t})(),m9=(()=>{let e=class e{get isActive(){return this._isActive}constructor(i,r,o,a,l){this.router=i,this.element=r,this.renderer=o,this.cdr=a,this.link=l,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Gt,this.routerEventsSubscription=i.events.subscribe(d=>{d instanceof _a&&this.update()})}ngAfterContentInit(){Re(this.links.changes,Re(null)).pipe(Ka()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let i=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Qt(i).pipe(Ka()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(i){let r=Array.isArray(i)?i:i.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let i=this.hasActiveLinks();this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.classes.forEach(r=>{i?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),i&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(i))})}isLinkActive(i){let r=Oce(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let a=o.urlTree;return a?i.isActive(a,r):!1}}hasActiveLinks(){let i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}};e.\u0275fac=function(r){return new(r||e)(R(Wn),R(nn),R(Eo),R(ia),R(mf,8))},e.\u0275dir=xt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,a){if(r&1&&Ej(a,mf,5),r&2){let l;Y0(l=Q0())&&(o.links=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[bo]});let t=e;return t})();function Oce(t){return!!t.paths}var kce=new we("");function g9(t,...e){return oc([{provide:yO,multi:!0,useValue:t},[],{provide:nr,useFactory:Rce,deps:[Wn]},{provide:Z0,multi:!0,useFactory:Fce},e.map(n=>n.\u0275providers)])}function Rce(t){return t.routerState.root}function Nce(t,e){return{\u0275kind:t,\u0275providers:e}}function Fce(){let t=J(Jt);return e=>{let n=t.get(as);if(e!==n.components[0])return;let i=t.get(Wn),r=t.get(Lce);t.get(Vce)===1&&i.initialNavigation(),t.get(jce,null,ot.Optional)?.setUpPreloading(),t.get(kce,null,ot.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Lce=new we("",{factory:()=>new ci}),Vce=new we("",{providedIn:"root",factory:()=>1});var jce=new we("");function v9(t){return Nce(5,[{provide:qC,useValue:t}])}var Dn="top",Zn="bottom",Kn="right",Fn="left",WC="auto",Rc=[Dn,Zn,Kn,Fn],wa="start",Du="end",y9="clippingParents",KC="viewport",vf="popper",_9="reference",wO=Rc.reduce(function(t,e){return t.concat([e+"-"+wa,e+"-"+Du])},[]),YC=[].concat(Rc,[WC]).reduce(function(t,e){return t.concat([e,e+"-"+wa,e+"-"+Du])},[]),Uce="beforeRead",Bce="read",$ce="afterRead",Hce="beforeMain",Gce="main",zce="afterMain",qce="beforeWrite",Wce="write",Kce="afterWrite",w9=[Uce,Bce,$ce,Hce,Gce,zce,qce,Wce,Kce];function mi(t){return t?(t.nodeName||"").toLowerCase():null}function dn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Qr(t){var e=dn(t).Element;return t instanceof e||t instanceof Element}function ei(t){var e=dn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function yf(t){if(typeof ShadowRoot>"u")return!1;var e=dn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Yce(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},o=e.elements[n];!ei(o)||!mi(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(a){var l=r[a];l===!1?o.removeAttribute(a):o.setAttribute(a,l===!0?"":l)}))})}function Qce(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],o=e.attributes[i]||{},a=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),l=a.reduce(function(d,h){return d[h]="",d},{});!ei(r)||!mi(r)||(Object.assign(r.style,l),Object.keys(o).forEach(function(d){r.removeAttribute(d)}))})}}var Nv={name:"applyStyles",enabled:!0,phase:"write",fn:Yce,effect:Qce,requires:["computeStyles"]};function gi(t){return t.split("-")[0]}var Lo=Math.max,xu=Math.min,ba=Math.round;function _f(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Fv(){return!/^((?!chrome|android).)*safari/i.test(_f())}function Jr(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),r=1,o=1;e&&ei(t)&&(r=t.offsetWidth>0&&ba(i.width)/t.offsetWidth||1,o=t.offsetHeight>0&&ba(i.height)/t.offsetHeight||1);var a=Qr(t)?dn(t):window,l=a.visualViewport,d=!Fv()&&n,h=(i.left+(d&&l?l.offsetLeft:0))/r,m=(i.top+(d&&l?l.offsetTop:0))/o,v=i.width/r,y=i.height/o;return{width:v,height:y,top:m,right:h+v,bottom:m+y,left:h,x:h,y:m}}function Au(t){var e=Jr(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function Lv(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&yf(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function ir(t){return dn(t).getComputedStyle(t)}function bO(t){return["table","td","th"].indexOf(mi(t))>=0}function Di(t){return((Qr(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ca(t){return mi(t)==="html"?t:t.assignedSlot||t.parentNode||(yf(t)?t.host:null)||Di(t)}function b9(t){return!ei(t)||ir(t).position==="fixed"?null:t.offsetParent}function Jce(t){var e=/firefox/i.test(_f()),n=/Trident/i.test(_f());if(n&&ei(t)){var i=ir(t);if(i.position==="fixed")return null}var r=Ca(t);for(yf(r)&&(r=r.host);ei(r)&&["html","body"].indexOf(mi(r))<0;){var o=ir(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function Vo(t){for(var e=dn(t),n=b9(t);n&&bO(n)&&ir(n).position==="static";)n=b9(n);return n&&(mi(n)==="html"||mi(n)==="body"&&ir(n).position==="static")?e:n||Jce(t)||e}function Mu(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Pu(t,e,n){return Lo(t,xu(e,n))}function C9(t,e,n){var i=Pu(t,e,n);return i>n?n:i}function Vv(){return{top:0,right:0,bottom:0,left:0}}function jv(t){return Object.assign({},Vv(),t)}function Uv(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var Xce=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,jv(typeof e!="number"?e:Uv(e,Rc))};function Zce(t){var e,n=t.state,i=t.name,r=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,l=gi(n.placement),d=Mu(l),h=[Fn,Kn].indexOf(l)>=0,m=h?"height":"width";if(!(!o||!a)){var v=Xce(r.padding,n),y=Au(o),b=d==="y"?Dn:Fn,w=d==="y"?Zn:Kn,S=n.rects.reference[m]+n.rects.reference[d]-a[d]-n.rects.popper[m],T=a[d]-n.rects.reference[d],O=Vo(o),V=O?d==="y"?O.clientHeight||0:O.clientWidth||0:0,$=S/2-T/2,x=v[b],ee=V-y[m]-v[w],U=V/2-y[m]/2+$,re=Pu(x,U,ee),Ee=d;n.modifiersData[i]=(e={},e[Ee]=re,e.centerOffset=re-U,e)}}function ele(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||Lv(e.elements.popper,r)&&(e.elements.arrow=r))}var E9={name:"arrow",enabled:!0,phase:"main",fn:Zce,effect:ele,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xr(t){return t.split("-")[1]}var tle={top:"auto",right:"auto",bottom:"auto",left:"auto"};function nle(t,e){var n=t.x,i=t.y,r=e.devicePixelRatio||1;return{x:ba(n*r)/r||0,y:ba(i*r)/r||0}}function I9(t){var e,n=t.popper,i=t.popperRect,r=t.placement,o=t.variation,a=t.offsets,l=t.position,d=t.gpuAcceleration,h=t.adaptive,m=t.roundOffsets,v=t.isFixed,y=a.x,b=y===void 0?0:y,w=a.y,S=w===void 0?0:w,T=typeof m=="function"?m({x:b,y:S}):{x:b,y:S};b=T.x,S=T.y;var O=a.hasOwnProperty("x"),V=a.hasOwnProperty("y"),$=Fn,x=Dn,ee=window;if(h){var U=Vo(n),re="clientHeight",Ee="clientWidth";if(U===dn(n)&&(U=Di(n),ir(U).position!=="static"&&l==="absolute"&&(re="scrollHeight",Ee="scrollWidth")),U=U,r===Dn||(r===Fn||r===Kn)&&o===Du){x=Zn;var He=v&&U===ee&&ee.visualViewport?ee.visualViewport.height:U[re];S-=He-i.height,S*=d?1:-1}if(r===Fn||(r===Dn||r===Zn)&&o===Du){$=Kn;var Xe=v&&U===ee&&ee.visualViewport?ee.visualViewport.width:U[Ee];b-=Xe-i.width,b*=d?1:-1}}var Ie=Object.assign({position:l},h&&tle),$e=m===!0?nle({x:b,y:S},dn(n)):{x:b,y:S};if(b=$e.x,S=$e.y,d){var Te;return Object.assign({},Ie,(Te={},Te[x]=V?"0":"",Te[$]=O?"0":"",Te.transform=(ee.devicePixelRatio||1)<=1?"translate("+b+"px, "+S+"px)":"translate3d("+b+"px, "+S+"px, 0)",Te))}return Object.assign({},Ie,(e={},e[x]=V?S+"px":"",e[$]=O?b+"px":"",e.transform="",e))}function ile(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,o=n.adaptive,a=o===void 0?!0:o,l=n.roundOffsets,d=l===void 0?!0:l,h={placement:gi(e.placement),variation:Xr(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,I9(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,I9(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var S9={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ile,data:{}};var QC={passive:!0};function rle(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,o=r===void 0?!0:r,a=i.resize,l=a===void 0?!0:a,d=dn(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&h.forEach(function(m){m.addEventListener("scroll",n.update,QC)}),l&&d.addEventListener("resize",n.update,QC),function(){o&&h.forEach(function(m){m.removeEventListener("scroll",n.update,QC)}),l&&d.removeEventListener("resize",n.update,QC)}}var T9={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:rle,data:{}};var ole={left:"right",right:"left",bottom:"top",top:"bottom"};function wf(t){return t.replace(/left|right|bottom|top/g,function(e){return ole[e]})}var sle={start:"end",end:"start"};function JC(t){return t.replace(/start|end/g,function(e){return sle[e]})}function Ou(t){var e=dn(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function ku(t){return Jr(Di(t)).left+Ou(t).scrollLeft}function CO(t,e){var n=dn(t),i=Di(t),r=n.visualViewport,o=i.clientWidth,a=i.clientHeight,l=0,d=0;if(r){o=r.width,a=r.height;var h=Fv();(h||!h&&e==="fixed")&&(l=r.offsetLeft,d=r.offsetTop)}return{width:o,height:a,x:l+ku(t),y:d}}function EO(t){var e,n=Di(t),i=Ou(t),r=(e=t.ownerDocument)==null?void 0:e.body,o=Lo(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Lo(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-i.scrollLeft+ku(t),d=-i.scrollTop;return ir(r||n).direction==="rtl"&&(l+=Lo(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:a,x:l,y:d}}function Ru(t){var e=ir(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function XC(t){return["html","body","#document"].indexOf(mi(t))>=0?t.ownerDocument.body:ei(t)&&Ru(t)?t:XC(Ca(t))}function Nc(t,e){var n;e===void 0&&(e=[]);var i=XC(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),o=dn(i),a=r?[o].concat(o.visualViewport||[],Ru(i)?i:[]):i,l=e.concat(a);return r?l:l.concat(Nc(Ca(a)))}function bf(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function ale(t,e){var n=Jr(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function D9(t,e,n){return e===KC?bf(CO(t,n)):Qr(e)?ale(e,n):bf(EO(Di(t)))}function cle(t){var e=Nc(Ca(t)),n=["absolute","fixed"].indexOf(ir(t).position)>=0,i=n&&ei(t)?Vo(t):t;return Qr(i)?e.filter(function(r){return Qr(r)&&Lv(r,i)&&mi(r)!=="body"}):[]}function IO(t,e,n,i){var r=e==="clippingParents"?cle(t):[].concat(e),o=[].concat(r,[n]),a=o[0],l=o.reduce(function(d,h){var m=D9(t,h,i);return d.top=Lo(m.top,d.top),d.right=xu(m.right,d.right),d.bottom=xu(m.bottom,d.bottom),d.left=Lo(m.left,d.left),d},D9(t,a,i));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Bv(t){var e=t.reference,n=t.element,i=t.placement,r=i?gi(i):null,o=i?Xr(i):null,a=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,d;switch(r){case Dn:d={x:a,y:e.y-n.height};break;case Zn:d={x:a,y:e.y+e.height};break;case Kn:d={x:e.x+e.width,y:l};break;case Fn:d={x:e.x-n.width,y:l};break;default:d={x:e.x,y:e.y}}var h=r?Mu(r):null;if(h!=null){var m=h==="y"?"height":"width";switch(o){case wa:d[h]=d[h]-(e[m]/2-n[m]/2);break;case Du:d[h]=d[h]+(e[m]/2-n[m]/2);break;default:}}return d}function jo(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,o=n.strategy,a=o===void 0?t.strategy:o,l=n.boundary,d=l===void 0?y9:l,h=n.rootBoundary,m=h===void 0?KC:h,v=n.elementContext,y=v===void 0?vf:v,b=n.altBoundary,w=b===void 0?!1:b,S=n.padding,T=S===void 0?0:S,O=jv(typeof T!="number"?T:Uv(T,Rc)),V=y===vf?_9:vf,$=t.rects.popper,x=t.elements[w?V:y],ee=IO(Qr(x)?x:x.contextElement||Di(t.elements.popper),d,m,a),U=Jr(t.elements.reference),re=Bv({reference:U,element:$,strategy:"absolute",placement:r}),Ee=bf(Object.assign({},$,re)),He=y===vf?Ee:U,Xe={top:ee.top-He.top+O.top,bottom:He.bottom-ee.bottom+O.bottom,left:ee.left-He.left+O.left,right:He.right-ee.right+O.right},Ie=t.modifiersData.offset;if(y===vf&&Ie){var $e=Ie[r];Object.keys(Xe).forEach(function(Te){var an=[Kn,Zn].indexOf(Te)>=0?1:-1,Ye=[Dn,Zn].indexOf(Te)>=0?"y":"x";Xe[Te]+=$e[Ye]*an})}return Xe}function SO(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,o=n.rootBoundary,a=n.padding,l=n.flipVariations,d=n.allowedAutoPlacements,h=d===void 0?YC:d,m=Xr(i),v=m?l?wO:wO.filter(function(w){return Xr(w)===m}):Rc,y=v.filter(function(w){return h.indexOf(w)>=0});y.length===0&&(y=v);var b=y.reduce(function(w,S){return w[S]=jo(t,{placement:S,boundary:r,rootBoundary:o,padding:a})[gi(S)],w},{});return Object.keys(b).sort(function(w,S){return b[w]-b[S]})}function lle(t){if(gi(t)===WC)return[];var e=wf(t);return[JC(t),e,JC(e)]}function ule(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,o=r===void 0?!0:r,a=n.altAxis,l=a===void 0?!0:a,d=n.fallbackPlacements,h=n.padding,m=n.boundary,v=n.rootBoundary,y=n.altBoundary,b=n.flipVariations,w=b===void 0?!0:b,S=n.allowedAutoPlacements,T=e.options.placement,O=gi(T),V=O===T,$=d||(V||!w?[wf(T)]:lle(T)),x=[T].concat($).reduce(function(gt,xi){return gt.concat(gi(xi)===WC?SO(e,{placement:xi,boundary:m,rootBoundary:v,padding:h,flipVariations:w,allowedAutoPlacements:S}):xi)},[]),ee=e.rects.reference,U=e.rects.popper,re=new Map,Ee=!0,He=x[0],Xe=0;Xe<x.length;Xe++){var Ie=x[Xe],$e=gi(Ie),Te=Xr(Ie)===wa,an=[Dn,Zn].indexOf($e)>=0,Ye=an?"width":"height",H=jo(e,{placement:Ie,boundary:m,rootBoundary:v,altBoundary:y,padding:h}),ie=an?Te?Kn:Fn:Te?Zn:Dn;ee[Ye]>U[Ye]&&(ie=wf(ie));var he=wf(ie),Pe=[];if(o&&Pe.push(H[$e]<=0),l&&Pe.push(H[ie]<=0,H[he]<=0),Pe.every(function(gt){return gt})){He=Ie,Ee=!1;break}re.set(Ie,Pe)}if(Ee)for(var nt=w?3:1,xn=function(xi){var fr=x.find(function(ut){var Ln=re.get(ut);if(Ln)return Ln.slice(0,xi).every(function(cn){return cn})});if(fr)return He=fr,"break"},Rt=nt;Rt>0;Rt--){var ti=xn(Rt);if(ti==="break")break}e.placement!==He&&(e.modifiersData[i]._skip=!0,e.placement=He,e.reset=!0)}}var x9={name:"flip",enabled:!0,phase:"main",fn:ule,requiresIfExists:["offset"],data:{_skip:!1}};function A9(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function M9(t){return[Dn,Kn,Zn,Fn].some(function(e){return t[e]>=0})}function dle(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,a=jo(e,{elementContext:"reference"}),l=jo(e,{altBoundary:!0}),d=A9(a,i),h=A9(l,r,o),m=M9(d),v=M9(h);e.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:h,isReferenceHidden:m,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":v})}var P9={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:dle};function hle(t,e,n){var i=gi(t),r=[Fn,Dn].indexOf(i)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],l=o[1];return a=a||0,l=(l||0)*r,[Fn,Kn].indexOf(i)>=0?{x:l,y:a}:{x:a,y:l}}function fle(t){var e=t.state,n=t.options,i=t.name,r=n.offset,o=r===void 0?[0,0]:r,a=YC.reduce(function(m,v){return m[v]=hle(v,e.rects,o),m},{}),l=a[e.placement],d=l.x,h=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=h),e.modifiersData[i]=a}var O9={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:fle};function ple(t){var e=t.state,n=t.name;e.modifiersData[n]=Bv({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var k9={name:"popperOffsets",enabled:!0,phase:"read",fn:ple,data:{}};function TO(t){return t==="x"?"y":"x"}function mle(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,o=r===void 0?!0:r,a=n.altAxis,l=a===void 0?!1:a,d=n.boundary,h=n.rootBoundary,m=n.altBoundary,v=n.padding,y=n.tether,b=y===void 0?!0:y,w=n.tetherOffset,S=w===void 0?0:w,T=jo(e,{boundary:d,rootBoundary:h,padding:v,altBoundary:m}),O=gi(e.placement),V=Xr(e.placement),$=!V,x=Mu(O),ee=TO(x),U=e.modifiersData.popperOffsets,re=e.rects.reference,Ee=e.rects.popper,He=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,Xe=typeof He=="number"?{mainAxis:He,altAxis:He}:Object.assign({mainAxis:0,altAxis:0},He),Ie=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,$e={x:0,y:0};if(U){if(o){var Te,an=x==="y"?Dn:Fn,Ye=x==="y"?Zn:Kn,H=x==="y"?"height":"width",ie=U[x],he=ie+T[an],Pe=ie-T[Ye],nt=b?-Ee[H]/2:0,xn=V===wa?re[H]:Ee[H],Rt=V===wa?-Ee[H]:-re[H],ti=e.elements.arrow,gt=b&&ti?Au(ti):{width:0,height:0},xi=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Vv(),fr=xi[an],ut=xi[Ye],Ln=Pu(0,re[H],gt[H]),cn=$?re[H]/2-nt-Ln-fr-Xe.mainAxis:xn-Ln-fr-Xe.mainAxis,Bi=$?-re[H]/2+nt+Ln+ut+Xe.mainAxis:Rt+Ln+ut+Xe.mainAxis,kr=e.elements.arrow&&Vo(e.elements.arrow),Hc=kr?x==="y"?kr.clientTop||0:kr.clientLeft||0:0,Ea=(Te=Ie?.[x])!=null?Te:0,ju=ie+cn-Ea-Hc,ni=ie+Bi-Ea,Gc=Pu(b?xu(he,ju):he,ie,b?Lo(Pe,ni):Pe);U[x]=Gc,$e[x]=Gc-ie}if(l){var zc,Uu=x==="x"?Dn:Fn,Bu=x==="x"?Zn:Kn,ro=U[ee],Bo=ee==="y"?"height":"width",qc=ro+T[Uu],oo=ro-T[Bu],Rr=[Dn,Fn].indexOf(O)!==-1,Wc=(zc=Ie?.[ee])!=null?zc:0,Ia=Rr?qc:ro-re[Bo]-Ee[Bo]-Wc+Xe.altAxis,Kc=Rr?ro+re[Bo]+Ee[Bo]-Wc-Xe.altAxis:oo,Ns=b&&Rr?C9(Ia,ro,Kc):Pu(b?Ia:qc,ro,b?Kc:oo);U[ee]=Ns,$e[ee]=Ns-ro}e.modifiersData[i]=$e}}var R9={name:"preventOverflow",enabled:!0,phase:"main",fn:mle,requiresIfExists:["offset"]};function DO(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function xO(t){return t===dn(t)||!ei(t)?Ou(t):DO(t)}function gle(t){var e=t.getBoundingClientRect(),n=ba(e.width)/t.offsetWidth||1,i=ba(e.height)/t.offsetHeight||1;return n!==1||i!==1}function AO(t,e,n){n===void 0&&(n=!1);var i=ei(e),r=ei(e)&&gle(e),o=Di(e),a=Jr(t,r,n),l={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(i||!i&&!n)&&((mi(e)!=="body"||Ru(o))&&(l=xO(e)),ei(e)?(d=Jr(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):o&&(d.x=ku(o))),{x:a.left+l.scrollLeft-d.x,y:a.top+l.scrollTop-d.y,width:a.width,height:a.height}}function vle(t){var e=new Map,n=new Set,i=[];t.forEach(function(o){e.set(o.name,o)});function r(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var d=e.get(l);d&&r(d)}}),i.push(o)}return t.forEach(function(o){n.has(o.name)||r(o)}),i}function MO(t){var e=vle(t);return w9.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function PO(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function OO(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var N9={placement:"bottom",modifiers:[],strategy:"absolute"};function F9(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function L9(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,o=r===void 0?N9:r;return function(l,d,h){h===void 0&&(h=o);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},N9,o),modifiersData:{},elements:{reference:l,popper:d},attributes:{},styles:{}},v=[],y=!1,b={state:m,setOptions:function(O){var V=typeof O=="function"?O(m.options):O;S(),m.options=Object.assign({},o,m.options,V),m.scrollParents={reference:Qr(l)?Nc(l):l.contextElement?Nc(l.contextElement):[],popper:Nc(d)};var $=MO(OO([].concat(i,m.options.modifiers)));return m.orderedModifiers=$.filter(function(x){return x.enabled}),w(),b.update()},forceUpdate:function(){if(!y){var O=m.elements,V=O.reference,$=O.popper;if(F9(V,$)){m.rects={reference:AO(V,Vo($),m.options.strategy==="fixed"),popper:Au($)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(Xe){return m.modifiersData[Xe.name]=Object.assign({},Xe.data)});for(var x=0;x<m.orderedModifiers.length;x++){if(m.reset===!0){m.reset=!1,x=-1;continue}var ee=m.orderedModifiers[x],U=ee.fn,re=ee.options,Ee=re===void 0?{}:re,He=ee.name;typeof U=="function"&&(m=U({state:m,options:Ee,name:He,instance:b})||m)}}}},update:PO(function(){return new Promise(function(T){b.forceUpdate(),T(m)})}),destroy:function(){S(),y=!0}};if(!F9(l,d))return b;b.setOptions(h).then(function(T){!y&&h.onFirstUpdate&&h.onFirstUpdate(T)});function w(){m.orderedModifiers.forEach(function(T){var O=T.name,V=T.options,$=V===void 0?{}:V,x=T.effect;if(typeof x=="function"){var ee=x({state:m,name:O,instance:b,options:$}),U=function(){};v.push(ee||U)}})}function S(){v.forEach(function(T){return T()}),v=[]}return b}}var yle=[T9,k9,S9,Nv,O9,x9,R9,E9,P9],kO=L9({defaultModifiers:yle});var _le="tippy-box",W9="tippy-content",wle="tippy-backdrop",K9="tippy-arrow",Y9="tippy-svg-arrow",Nu={passive:!0,capture:!0},Q9=function(){return document.body};function RO(t,e,n){if(Array.isArray(t)){var i=t[e];return i??(Array.isArray(n)?n[e]:n)}return t}function UO(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function J9(t,e){return typeof t=="function"?t.apply(void 0,e):t}function V9(t,e){if(e===0)return t;var n;return function(i){clearTimeout(n),n=setTimeout(function(){t(i)},e)}}function ble(t){return t.split(/\s+/).filter(Boolean)}function Cf(t){return[].concat(t)}function j9(t,e){t.indexOf(e)===-1&&t.push(e)}function Cle(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function Ele(t){return t.split("-")[0]}function eE(t){return[].slice.call(t)}function U9(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function $v(){return document.createElement("div")}function tE(t){return["Element","Fragment"].some(function(e){return UO(t,e)})}function Ile(t){return UO(t,"NodeList")}function Sle(t){return UO(t,"MouseEvent")}function Tle(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function Dle(t){return tE(t)?[t]:Ile(t)?eE(t):Array.isArray(t)?t:eE(document.querySelectorAll(t))}function NO(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function B9(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function xle(t){var e,n=Cf(t),i=n[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function Ale(t,e){var n=e.clientX,i=e.clientY;return t.every(function(r){var o=r.popperRect,a=r.popperState,l=r.props,d=l.interactiveBorder,h=Ele(a.placement),m=a.modifiersData.offset;if(!m)return!0;var v=h==="bottom"?m.top.y:0,y=h==="top"?m.bottom.y:0,b=h==="right"?m.left.x:0,w=h==="left"?m.right.x:0,S=o.top-i+v>d,T=i-o.bottom-y>d,O=o.left-n+b>d,V=n-o.right-w>d;return S||T||O||V})}function FO(t,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){t[i](r,n)})}function $9(t,e){for(var n=e;n;){var i;if(t.contains(n))return!0;n=n.getRootNode==null||(i=n.getRootNode())==null?void 0:i.host}return!1}var As={isTouch:!1},H9=0;function Mle(){As.isTouch||(As.isTouch=!0,window.performance&&document.addEventListener("mousemove",X9))}function X9(){var t=performance.now();t-H9<20&&(As.isTouch=!1,document.removeEventListener("mousemove",X9)),H9=t}function Ple(){var t=document.activeElement;if(Tle(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function Ole(){document.addEventListener("touchstart",Mle,Nu),window.addEventListener("blur",Ple)}var kle=typeof window<"u"&&typeof document<"u",Rle=kle?!!window.msCrypto:!1;var Nle={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Fle={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Uo=Object.assign({appendTo:Q9,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Nle,Fle),Lle=Object.keys(Uo),Vle=function(e){var n=Object.keys(e);n.forEach(function(i){Uo[i]=e[i]})};function Z9(t){var e=t.plugins||[],n=e.reduce(function(i,r){var o=r.name,a=r.defaultValue;if(o){var l;i[o]=t[o]!==void 0?t[o]:(l=Uo[o])!=null?l:a}return i},{});return Object.assign({},t,n)}function jle(t,e){var n=e?Object.keys(Z9(Object.assign({},Uo,{plugins:e}))):Lle,i=n.reduce(function(r,o){var a=(t.getAttribute("data-tippy-"+o)||"").trim();if(!a)return r;if(o==="content")r[o]=a;else try{r[o]=JSON.parse(a)}catch{r[o]=a}return r},{});return i}function G9(t,e){var n=Object.assign({},e,{content:J9(e.content,[t])},e.ignoreAttributes?{}:jle(t,e.plugins));return n.aria=Object.assign({},Uo.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var Ule=function(){return"innerHTML"};function VO(t,e){t[Ule()]=e}function z9(t){var e=$v();return t===!0?e.className=K9:(e.className=Y9,tE(t)?e.appendChild(t):VO(e,t)),e}function q9(t,e){tE(e.content)?(VO(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?VO(t,e.content):t.textContent=e.content)}function jO(t){var e=t.firstElementChild,n=eE(e.children);return{box:e,content:n.find(function(i){return i.classList.contains(W9)}),arrow:n.find(function(i){return i.classList.contains(K9)||i.classList.contains(Y9)}),backdrop:n.find(function(i){return i.classList.contains(wle)})}}function eH(t){var e=$v(),n=$v();n.className=_le,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=$v();i.className=W9,i.setAttribute("data-state","hidden"),q9(i,t.props),e.appendChild(n),n.appendChild(i),r(t.props,t.props);function r(o,a){var l=jO(e),d=l.box,h=l.content,m=l.arrow;a.theme?d.setAttribute("data-theme",a.theme):d.removeAttribute("data-theme"),typeof a.animation=="string"?d.setAttribute("data-animation",a.animation):d.removeAttribute("data-animation"),a.inertia?d.setAttribute("data-inertia",""):d.removeAttribute("data-inertia"),d.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?d.setAttribute("role",a.role):d.removeAttribute("role"),(o.content!==a.content||o.allowHTML!==a.allowHTML)&&q9(h,t.props),a.arrow?m?o.arrow!==a.arrow&&(d.removeChild(m),d.appendChild(z9(a.arrow))):d.appendChild(z9(a.arrow)):m&&d.removeChild(m)}return{popper:e,onUpdate:r}}eH.$$tippy=!0;var Ble=1,ZC=[],LO=[];function $le(t,e){var n=G9(t,Object.assign({},Uo,Z9(U9(e)))),i,r,o,a=!1,l=!1,d=!1,h=!1,m,v,y,b=[],w=V9(ju,n.interactiveDebounce),S,T=Ble++,O=null,V=Cle(n.plugins),$={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},x={id:T,reference:t,popper:$v(),popperInstance:O,props:n,state:$,plugins:V,clearDelayTimeouts:Ia,setProps:Kc,setContent:Ns,show:Sa,hide:Fs,hideWithInteractivity:iy,enable:Rr,disable:Wc,unmount:IE,destroy:SE};if(!n.render)return x;var ee=n.render(x),U=ee.popper,re=ee.onUpdate;U.setAttribute("data-tippy-root",""),U.id="tippy-"+x.id,x.popper=U,t._tippy=x,U._tippy=x;var Ee=V.map(function(B){return B.fn(x)}),He=t.hasAttribute("aria-expanded");return kr(),nt(),ie(),he("onCreate",[x]),n.showOnCreate&&qc(),U.addEventListener("mouseenter",function(){x.props.interactive&&x.state.isVisible&&x.clearDelayTimeouts()}),U.addEventListener("mouseleave",function(){x.props.interactive&&x.props.trigger.indexOf("mouseenter")>=0&&an().addEventListener("mousemove",w)}),x;function Xe(){var B=x.props.touch;return Array.isArray(B)?B:[B,0]}function Ie(){return Xe()[0]==="hold"}function $e(){var B;return!!((B=x.props.render)!=null&&B.$$tippy)}function Te(){return S||t}function an(){var B=Te().parentNode;return B?xle(B):document}function Ye(){return jO(U)}function H(B){return x.state.isMounted&&!x.state.isVisible||As.isTouch||m&&m.type==="focus"?0:RO(x.props.delay,B?0:1,Uo.delay)}function ie(B){B===void 0&&(B=!1),U.style.pointerEvents=x.props.interactive&&!B?"":"none",U.style.zIndex=""+x.props.zIndex}function he(B,pe,Se){if(Se===void 0&&(Se=!0),Ee.forEach(function(vt){vt[B]&&vt[B].apply(vt,pe)}),Se){var Mt;(Mt=x.props)[B].apply(Mt,pe)}}function Pe(){var B=x.props.aria;if(B.content){var pe="aria-"+B.content,Se=U.id,Mt=Cf(x.props.triggerTarget||t);Mt.forEach(function(vt){var ii=vt.getAttribute(pe);if(x.state.isVisible)vt.setAttribute(pe,ii?ii+" "+Se:Se);else{var $i=ii&&ii.replace(Se,"").trim();$i?vt.setAttribute(pe,$i):vt.removeAttribute(pe)}})}}function nt(){if(!(He||!x.props.aria.expanded)){var B=Cf(x.props.triggerTarget||t);B.forEach(function(pe){x.props.interactive?pe.setAttribute("aria-expanded",x.state.isVisible&&pe===Te()?"true":"false"):pe.removeAttribute("aria-expanded")})}}function xn(){an().removeEventListener("mousemove",w),ZC=ZC.filter(function(B){return B!==w})}function Rt(B){if(!(As.isTouch&&(d||B.type==="mousedown"))){var pe=B.composedPath&&B.composedPath()[0]||B.target;if(!(x.props.interactive&&$9(U,pe))){if(Cf(x.props.triggerTarget||t).some(function(Se){return $9(Se,pe)})){if(As.isTouch||x.state.isVisible&&x.props.trigger.indexOf("click")>=0)return}else he("onClickOutside",[x,B]);x.props.hideOnClick===!0&&(x.clearDelayTimeouts(),x.hide(),l=!0,setTimeout(function(){l=!1}),x.state.isMounted||fr())}}}function ti(){d=!0}function gt(){d=!1}function xi(){var B=an();B.addEventListener("mousedown",Rt,!0),B.addEventListener("touchend",Rt,Nu),B.addEventListener("touchstart",gt,Nu),B.addEventListener("touchmove",ti,Nu)}function fr(){var B=an();B.removeEventListener("mousedown",Rt,!0),B.removeEventListener("touchend",Rt,Nu),B.removeEventListener("touchstart",gt,Nu),B.removeEventListener("touchmove",ti,Nu)}function ut(B,pe){cn(B,function(){!x.state.isVisible&&U.parentNode&&U.parentNode.contains(U)&&pe()})}function Ln(B,pe){cn(B,pe)}function cn(B,pe){var Se=Ye().box;function Mt(vt){vt.target===Se&&(FO(Se,"remove",Mt),pe())}if(B===0)return pe();FO(Se,"remove",v),FO(Se,"add",Mt),v=Mt}function Bi(B,pe,Se){Se===void 0&&(Se=!1);var Mt=Cf(x.props.triggerTarget||t);Mt.forEach(function(vt){vt.addEventListener(B,pe,Se),b.push({node:vt,eventType:B,handler:pe,options:Se})})}function kr(){Ie()&&(Bi("touchstart",Ea,{passive:!0}),Bi("touchend",ni,{passive:!0})),ble(x.props.trigger).forEach(function(B){if(B!=="manual")switch(Bi(B,Ea),B){case"mouseenter":Bi("mouseleave",ni);break;case"focus":Bi(Rle?"focusout":"blur",Gc);break;case"focusin":Bi("focusout",Gc);break}})}function Hc(){b.forEach(function(B){var pe=B.node,Se=B.eventType,Mt=B.handler,vt=B.options;pe.removeEventListener(Se,Mt,vt)}),b=[]}function Ea(B){var pe,Se=!1;if(!(!x.state.isEnabled||zc(B)||l)){var Mt=((pe=m)==null?void 0:pe.type)==="focus";m=B,S=B.currentTarget,nt(),!x.state.isVisible&&Sle(B)&&ZC.forEach(function(vt){return vt(B)}),B.type==="click"&&(x.props.trigger.indexOf("mouseenter")<0||a)&&x.props.hideOnClick!==!1&&x.state.isVisible?Se=!0:qc(B),B.type==="click"&&(a=!Se),Se&&!Mt&&oo(B)}}function ju(B){var pe=B.target,Se=Te().contains(pe)||U.contains(pe);if(!(B.type==="mousemove"&&Se)){var Mt=Bo().concat(U).map(function(vt){var ii,$i=vt._tippy,so=(ii=$i.popperInstance)==null?void 0:ii.state;return so?{popperRect:vt.getBoundingClientRect(),popperState:so,props:n}:null}).filter(Boolean);Ale(Mt,B)&&(xn(),oo(B))}}function ni(B){var pe=zc(B)||x.props.trigger.indexOf("click")>=0&&a;if(!pe){if(x.props.interactive){x.hideWithInteractivity(B);return}oo(B)}}function Gc(B){x.props.trigger.indexOf("focusin")<0&&B.target!==Te()||x.props.interactive&&B.relatedTarget&&U.contains(B.relatedTarget)||oo(B)}function zc(B){return As.isTouch?Ie()!==B.type.indexOf("touch")>=0:!1}function Uu(){Bu();var B=x.props,pe=B.popperOptions,Se=B.placement,Mt=B.offset,vt=B.getReferenceClientRect,ii=B.moveTransition,$i=$e()?jO(U).arrow:null,so=vt?{getBoundingClientRect:vt,contextElement:vt.contextElement||Te()}:t,ry={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Ta){var $o=Ta.state;if($e()){var Of=Ye(),Ls=Of.box;["placement","reference-hidden","escaped"].forEach(function(Ho){Ho==="placement"?Ls.setAttribute("data-placement",$o.placement):$o.attributes.popper["data-popper-"+Ho]?Ls.setAttribute("data-"+Ho,""):Ls.removeAttribute("data-"+Ho)}),$o.attributes.popper={}}}},Ai=[{name:"offset",options:{offset:Mt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ii}},ry];$e()&&$i&&Ai.push({name:"arrow",options:{element:$i,padding:3}}),Ai.push.apply(Ai,pe?.modifiers||[]),x.popperInstance=kO(so,U,Object.assign({},pe,{placement:Se,onFirstUpdate:y,modifiers:Ai}))}function Bu(){x.popperInstance&&(x.popperInstance.destroy(),x.popperInstance=null)}function ro(){var B=x.props.appendTo,pe,Se=Te();x.props.interactive&&B===Q9||B==="parent"?pe=Se.parentNode:pe=J9(B,[Se]),pe.contains(U)||pe.appendChild(U),x.state.isMounted=!0,Uu()}function Bo(){return eE(U.querySelectorAll("[data-tippy-root]"))}function qc(B){x.clearDelayTimeouts(),B&&he("onTrigger",[x,B]),xi();var pe=H(!0),Se=Xe(),Mt=Se[0],vt=Se[1];As.isTouch&&Mt==="hold"&&vt&&(pe=vt),pe?i=setTimeout(function(){x.show()},pe):x.show()}function oo(B){if(x.clearDelayTimeouts(),he("onUntrigger",[x,B]),!x.state.isVisible){fr();return}if(!(x.props.trigger.indexOf("mouseenter")>=0&&x.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(B.type)>=0&&a)){var pe=H(!1);pe?r=setTimeout(function(){x.state.isVisible&&x.hide()},pe):o=requestAnimationFrame(function(){x.hide()})}}function Rr(){x.state.isEnabled=!0}function Wc(){x.hide(),x.state.isEnabled=!1}function Ia(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(o)}function Kc(B){if(!x.state.isDestroyed){he("onBeforeUpdate",[x,B]),Hc();var pe=x.props,Se=G9(t,Object.assign({},pe,U9(B),{ignoreAttributes:!0}));x.props=Se,kr(),pe.interactiveDebounce!==Se.interactiveDebounce&&(xn(),w=V9(ju,Se.interactiveDebounce)),pe.triggerTarget&&!Se.triggerTarget?Cf(pe.triggerTarget).forEach(function(Mt){Mt.removeAttribute("aria-expanded")}):Se.triggerTarget&&t.removeAttribute("aria-expanded"),nt(),ie(),re&&re(pe,Se),x.popperInstance&&(Uu(),Bo().forEach(function(Mt){requestAnimationFrame(Mt._tippy.popperInstance.forceUpdate)})),he("onAfterUpdate",[x,B])}}function Ns(B){x.setProps({content:B})}function Sa(){var B=x.state.isVisible,pe=x.state.isDestroyed,Se=!x.state.isEnabled,Mt=As.isTouch&&!x.props.touch,vt=RO(x.props.duration,0,Uo.duration);if(!(B||pe||Se||Mt)&&!Te().hasAttribute("disabled")&&(he("onShow",[x],!1),x.props.onShow(x)!==!1)){if(x.state.isVisible=!0,$e()&&(U.style.visibility="visible"),ie(),xi(),x.state.isMounted||(U.style.transition="none"),$e()){var ii=Ye(),$i=ii.box,so=ii.content;NO([$i,so],0)}y=function(){var Ai;if(!(!x.state.isVisible||h)){if(h=!0,U.offsetHeight,U.style.transition=x.props.moveTransition,$e()&&x.props.animation){var Yc=Ye(),Ta=Yc.box,$o=Yc.content;NO([Ta,$o],vt),B9([Ta,$o],"visible")}Pe(),nt(),j9(LO,x),(Ai=x.popperInstance)==null||Ai.forceUpdate(),he("onMount",[x]),x.props.animation&&$e()&&Ln(vt,function(){x.state.isShown=!0,he("onShown",[x])})}},ro()}}function Fs(){var B=!x.state.isVisible,pe=x.state.isDestroyed,Se=!x.state.isEnabled,Mt=RO(x.props.duration,1,Uo.duration);if(!(B||pe||Se)&&(he("onHide",[x],!1),x.props.onHide(x)!==!1)){if(x.state.isVisible=!1,x.state.isShown=!1,h=!1,a=!1,$e()&&(U.style.visibility="hidden"),xn(),fr(),ie(!0),$e()){var vt=Ye(),ii=vt.box,$i=vt.content;x.props.animation&&(NO([ii,$i],Mt),B9([ii,$i],"hidden"))}Pe(),nt(),x.props.animation?$e()&&ut(Mt,x.unmount):x.unmount()}}function iy(B){an().addEventListener("mousemove",w),j9(ZC,w),w(B)}function IE(){x.state.isVisible&&x.hide(),x.state.isMounted&&(Bu(),Bo().forEach(function(B){B._tippy.unmount()}),U.parentNode&&U.parentNode.removeChild(U),LO=LO.filter(function(B){return B!==x}),x.state.isMounted=!1,he("onHidden",[x]))}function SE(){x.state.isDestroyed||(x.clearDelayTimeouts(),x.unmount(),Hc(),delete t._tippy,x.state.isDestroyed=!0,he("onDestroy",[x]))}}function Hv(t,e){e===void 0&&(e={});var n=Uo.plugins.concat(e.plugins||[]);Ole();var i=Object.assign({},e,{plugins:n}),r=Dle(t);if(0)var o,a;var l=r.reduce(function(d,h){var m=h&&$le(h,i);return m&&d.push(m),d},[]);return tE(t)?l[0]:l}Hv.defaultProps=Uo;Hv.setDefaultProps=Vle;Hv.currentInput=As;var Q1e=Object.assign({},Nv,{effect:function(e){var n=e.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow)}});Hv.setDefaultProps({render:eH});var BO=Hv;var $O=class{constructor(e){this.options=e,e.vcr?this.ref=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector}):(this.ref=ew(e.component,{elementInjector:e.injector,environmentInjector:e.environmentInjector}),e.appRef.attachView(this.ref.hostView))}setInput(e,n){return this.ref.setInput(e,n),this}setInputs(e){return Object.keys(e).forEach(n=>{this.ref.setInput(n,e[n])}),this}detectChanges(){return this.ref.hostView.detectChanges(),this}updateContext(e){return this.options.contextSignal?.set(e),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.ref.location.nativeElement}destroy(){this.ref.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.ref.hostView),this.ref=null}};function nE(t){return t instanceof _o}function Gv(t){return typeof t=="function"}function zv(t){return typeof t=="string"}var HO=class{constructor(e){this.args=e,this.args.vcr?(this.ref=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{},{injector:e.injector}),this.ref.detectChanges()):(this.ref=this.args.tpl.createEmbeddedView(this.args.context||{},e.injector),this.ref.detectChanges(),this.args.appRef.attachView(this.ref))}detectChanges(){return this.ref.detectChanges(),this}getElement(){let e=this.ref.rootNodes;return e.length===1&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){this.ref.rootNodes[0]!==1&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.ref),this.ref.destroy(),this.ref=null}updateContext(e){return Object.assign(this.ref.context,e),this}},GO=class{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){return this}updateContext(){return this}destroy(){}},Hle=new we("Component context"),zO=(()=>{let e=class e{constructor(){this.injector=J(Jt),this.appRef=J(as),this.environmentInjector=J(ui)}createComponent(i,r={}){let o=r.injector??this.injector,a;return r.context&&(a=ac(r.context),o=Jt.create({providers:[{provide:Hle,useValue:a.asReadonly()}],parent:o})),new $O({component:i,vcr:r.vcr,injector:o,appRef:this.appRef,environmentInjector:r.environmentInjector||this.environmentInjector,contextSignal:a})}createTemplate(i,r={}){return new HO({vcr:r.vcr,appRef:this.appRef,tpl:i,context:r.context,injector:r.injector})}createView(i,r={}){if(nE(i))return this.createTemplate(i,r);if(Gv(i))return this.createComponent(i,r);if(zv(i))return new GO(i);throw"Type of content is not supported"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var nH=!1,iH=!1;typeof window<"u"&&(nH="IntersectionObserver"in window,iH="ResizeObserver"in window);function tH(t,e={root:null,threshold:.3}){let n=aH(t);return new Ue(i=>{if(!nH){i.next(),i.complete();return}let r=new IntersectionObserver(o=>{o[o.length-1].isIntersecting&&(i.next(),i.complete())},e);return r.observe(n),()=>r.disconnect()})}function rH(t){let e=t.offsetWidth;return e>t.parentElement.offsetWidth||e<t.scrollWidth}function zle(t){let e=aH(t);return oH(e).pipe(ES(150),Ne(()=>rH(e)))}function oH(t){return qle(t)}function qle(t){return new Ue(e=>{if(!iH){e.next(),e.complete();return}let n=new ResizeObserver(()=>e.next(!0));return n.observe(t),()=>n.disconnect()})}function qv(t){let e={},n=["useTextContent","variations","useHostWidth","defaultVariation","beforeRender","isLazy","variation","isEnabled","className","onlyTextOverflow","data","content","context","hideOnEscape","customHost","injector","preserveView","vcr","popperWidth","zIndexGetter","staticWidthHost"],i=["onShow","onHidden","onCreate"];return Object.keys(t).forEach(r=>{!n.includes(r)&&!i.includes(r)&&(e[r]=t[r])}),e}function sH(t){return(Kle(t)?t.split(" "):t).map(n=>n?.trim()).filter(Boolean)}function Wle(t){return Yle(t)?"":typeof t=="string"?t:`${t}px`}function Kle(t){return typeof t=="string"}function Yle(t){return t==null}function aH(t){return t instanceof nn?t.nativeElement:t}var qO,WO=new WeakMap;function Qle(t,e){return qO??=new IntersectionObserver(n=>{n.forEach(i=>{i.isIntersecting||WO.get(i.target)()})}),WO.set(t,e),qO.observe(t),()=>{WO.delete(t),qO.unobserve(t)}}var KO=new we("Tippy config",{providedIn:"root",factory(){return{}}}),cH=new we("TIPPY_REF"),rE=(()=>{let e=class e{set appendTo(i){this.updateProps({appendTo:i})}constructor(i,r,o,a,l,d,h){this.platformId=i,this.globalConfig=r,this.injector=o,this.viewService=a,this.vcr=l,this.zone=d,this.hostRef=h,this.onlyTextOverflow=!1,this.staticWidthHost=!1,this.useHostWidth=!1,this.hideOnEscape=!1,this.detectChangesComponent=!0,this.isVisible=!1,this.visible=new Gt,this.destroyed=new ci,this.enabled=!0,this.variationDefined=!1,this.visibleInternal=new ci,this.contentChanged=new ci}ngOnChanges(i){if(this.isServerSide)return;let r=Object.keys(i).reduce((a,l)=>(l==="isVisible"||(a[l]=i[l].currentValue),a),{}),o;iE("content",i)&&this.contentChanged.next(),iE("variation",i)?(o=i.variation.currentValue,this.variationDefined=!0):this.variationDefined||(o=this.globalConfig.defaultVariation,this.variationDefined=!0),o&&(r=te(te({},this.globalConfig.variations[o]),r)),iE("isEnabled",i)&&(this.enabled=i.isEnabled.currentValue,this.setStatus()),iE("isVisible",i)&&(this.isVisible?this.show():this.hide()),this.updateProps(r)}ngOnInit(){this.useHostWidth&&(this.props.maxWidth=this.hostWidth)}ngAfterViewInit(){this.isServerSide||this.zone.runOutsideAngular(()=>{this.isLazy?this.onlyTextOverflow?tH(this.host).pipe(Mi(()=>this.isOverflowing$()),mo(this.destroyed)).subscribe(i=>{this.checkOverflow(i)}):tH(this.host).pipe(mo(this.destroyed)).subscribe(()=>{this.createInstance()}):this.onlyTextOverflow?this.isOverflowing$().pipe(mo(this.destroyed)).subscribe(i=>{this.checkOverflow(i)}):this.createInstance()})}ngOnDestroy(){this.destroyed.next(),this.instance?.destroy(),this.destroyView(),this.visibilityObserverCleanup?.()}destroyView(){this.viewOptions$=null,this.viewRef?.destroy(),this.viewRef=null}observeHostVisibility(){if(!this.isServerSide&&this.props.appendTo&&this.props.appendTo!==document.body)return this.visibilityObserverCleanup?.(),this.visibleInternal.asObservable().pipe(mo(this.destroyed)).subscribe(i=>{i?this.zone.runOutsideAngular(()=>{this.visibilityObserverCleanup=Qle(this.instance.reference,()=>{this.hide(),this.props.animation&&this.onHidden()})}):this.visibilityObserverCleanup?.()})}show(){this.instance?.show()}hide(){this.instance?.hide()}enable(){this.instance?.enable()}disable(){this.instance?.disable()}updateProps(i){this.setProps(te(te({},this.props),i))}setProps(i){this.props=i,this.instance?.setProps(qv(i))}setStatus(){this.enabled?this.instance?.enable():this.instance?.disable()}get host(){return this.customHost||this.hostRef.nativeElement}get hostWidth(){return this.host.getBoundingClientRect().width}createInstance(){!this.content&&!this.useTextContent||this.zone.runOutsideAngular(()=>{this.instance=BO(this.host,Dt(te(te(te({allowHTML:!0,appendTo:document.body},this.globalConfig.zIndexGetter?{zIndex:this.globalConfig.zIndexGetter()}:{}),qv(this.globalConfig)),qv(this.props)),{onMount:i=>{this.isVisible=!0,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.useHostWidth&&this.listenToHostResize(),this.globalConfig.onMount?.(i)},onCreate:i=>{if(i.popper.classList.add(`tippy-variation-${this.variation||this.globalConfig.defaultVariation}`),this.className)for(let r of sH(this.className))i.popper.classList.add(r);this.globalConfig.onCreate?.(i),this.isVisible===!0&&i.show()},onShow:i=>{i.reference.setAttribute("data-tippy-open",""),this.zone.run(()=>{let r=this.resolveContent(i);zv(r)&&(i.setProps({allowHTML:!1}),r?.trim()?this.enable():this.disable()),i.setContent(r),this.hideOnEscape&&this.handleEscapeButton()}),this.useHostWidth?this.setInstanceWidth(i,this.hostWidth):this.popperWidth&&this.setInstanceWidth(i,this.popperWidth),this.globalConfig.onShow?.(i)},onHide(i){i.reference.removeAttribute("data-tippy-open")},onHidden:i=>{this.onHidden(i)}})),this.setStatus(),this.setProps(this.props),this.variation==="contextMenu"&&this.handleContextMenu()})}resolveContent(i){if(!this.viewOptions$&&!zv(this.content)){let o=Jt.create({providers:[{provide:cH,useValue:this.instance}],parent:this.injector});Gv(this.content)?(this.instance.data=this.data,this.viewOptions$={injector:o}):nE(this.content)&&(this.viewOptions$={injector:o,context:{$implicit:this.hide.bind(this),data:this.data}})}this.viewRef=this.viewService.createView(this.content,te({vcr:this.vcr},this.viewOptions$)),this.detectChangesComponent&&Gv(this.content)&&this.viewRef.detectChanges();let r=this.viewRef.getElement();return this.useTextContent&&(r=i.reference.textContent),zv(r)&&this.globalConfig.beforeRender&&(r=this.globalConfig.beforeRender(r)),r}handleContextMenu(){Bd(this.host,"contextmenu").pipe(mo(this.destroyed)).subscribe(i=>{i.preventDefault(),this.instance.setProps({getReferenceClientRect:()=>({width:0,height:0,top:i.clientY,bottom:i.clientY,left:i.clientX,right:i.clientX})}),this.instance.show()})}handleEscapeButton(){this.zone.runOutsideAngular(()=>{Bd(document.body,"keydown").pipe(li(({code:i})=>i==="Escape"),mo(jp(this.destroyed,this.visibleInternal.pipe(li(i=>!i))))).subscribe(()=>this.hide())})}checkOverflow(i){i?this.instance?this.instance.enable():this.createInstance():this.instance?.disable()}listenToHostResize(){oH(this.host).pipe(mo(jp(this.destroyed,this.visibleInternal))).subscribe(()=>{this.setInstanceWidth(this.instance,this.hostWidth)})}setInstanceWidth(i,r){let o=Wle(r);i.popper.style.width=o,i.popper.style.maxWidth=o,i.popper.firstElementChild.style.maxWidth=o}get isServerSide(){return sm(this.platformId)}onHidden(i=this.instance){this.destroyView(),this.isVisible=!1,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.globalConfig.onHidden?.(i)}isOverflowing$(){let i=[zle(this.host)];return this.staticWidthHost&&i.push(this.contentChanged.asObservable().pipe(Mi(()=>new Ue(r=>{let o=window.requestAnimationFrame(()=>{r.next(),r.complete()});return()=>cancelAnimationFrame(o)})),Ne(()=>rH(this.host)))),jp(...i)}};e.\u0275fac=function(r){return new(r||e)(R(Vr),R(KO),R(Jt),R(zO),R(wi),R(Ct),R(nn))},e.\u0275dir=xt({type:e,selectors:[["","tp",""]],inputs:{appendTo:[xe.None,"tpAppendTo","appendTo"],content:[xe.None,"tp","content"],delay:[xe.None,"tpDelay","delay"],duration:[xe.None,"tpDuration","duration"],hideOnClick:[xe.None,"tpHideOnClick","hideOnClick"],interactive:[xe.None,"tpInteractive","interactive"],interactiveBorder:[xe.None,"tpInteractiveBorder","interactiveBorder"],maxWidth:[xe.None,"tpMaxWidth","maxWidth"],offset:[xe.None,"tpOffset","offset"],placement:[xe.None,"tpPlacement","placement"],popperOptions:[xe.None,"tpPopperOptions","popperOptions"],showOnCreate:[xe.None,"tpShowOnCreate","showOnCreate"],trigger:[xe.None,"tpTrigger","trigger"],triggerTarget:[xe.None,"tpTriggerTarget","triggerTarget"],zIndex:[xe.None,"tpZIndex","zIndex"],animation:[xe.None,"tpAnimation","animation"],useTextContent:[xe.HasDecoratorInputTransform,"tpUseTextContent","useTextContent",Zi],isLazy:[xe.HasDecoratorInputTransform,"tpIsLazy","isLazy",Zi],variation:[xe.None,"tpVariation","variation"],isEnabled:[xe.None,"tpIsEnabled","isEnabled"],className:[xe.None,"tpClassName","className"],onlyTextOverflow:[xe.HasDecoratorInputTransform,"tpOnlyTextOverflow","onlyTextOverflow",Zi],staticWidthHost:[xe.HasDecoratorInputTransform,"tpStaticWidthHost","staticWidthHost",Zi],data:[xe.None,"tpData","data"],useHostWidth:[xe.HasDecoratorInputTransform,"tpUseHostWidth","useHostWidth",Zi],hideOnEscape:[xe.HasDecoratorInputTransform,"tpHideOnEscape","hideOnEscape",Zi],detectChangesComponent:[xe.None,"tpDetectChangesComponent","detectChangesComponent"],popperWidth:[xe.None,"tpPopperWidth","popperWidth"],customHost:[xe.None,"tpHost","customHost"],isVisible:[xe.HasDecoratorInputTransform,"tpIsVisible","isVisible",Zi]},outputs:{visible:"tpVisible"},exportAs:["tippy"],standalone:!0,features:[rm,bo]});let t=e;return t})();function iE(t,e){return t in e}var lH=(()=>{let e=class e{constructor(i,r,o){this.globalConfig=i,this.view=r,this.injector=o}create(i,r,o={}){let a=o.variation||this.globalConfig.defaultVariation,l=Dt(te(te(te({onShow:d=>{if(i.setAttribute("data-tippy-open",""),!d.$viewOptions){d.$viewOptions={};let h=Jt.create({providers:[{provide:cH,useValue:d}],parent:o.injector||this.injector});d.$viewOptions.injector=h,nE(r)?d.$viewOptions.context=te({$implicit:d.hide.bind(d)},o.context):Gv(r)&&(d.context=o.context,d.data=o.data)}d.view||(d.view=this.view.createView(r,te(te({},o),d.$viewOptions))),d.setContent(d.view.getElement()),o?.onShow?.(d)},onHidden:d=>{i.removeAttribute("data-tippy-open"),o.preserveView||(d.view.destroy(),d.view=null),o?.onHidden?.(d)}},qv(this.globalConfig)),this.globalConfig.variations[a]),qv(o)),{onCreate:d=>{if(d.popper.classList.add(`tippy-variation-${a}`),o.className)for(let h of sH(o.className))d.popper.classList.add(h);this.globalConfig.onCreate?.(d),o.onCreate?.(d)}});return BO(i,l)}};e.\u0275fac=function(r){return new(r||e)(oe(KO),oe(zO),oe(Jt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uH(t={}){return oc([{provide:KO,useValue:t}])}var Fc=class{constructor(e,n){this.length=e,n&&n>e&&(this.maxLength=n)}restart(e){clearTimeout(this.timeout),this.runnable=e,this.timeout=setTimeout(()=>{e&&e(),this.timeout=null,this.maxLengthTimeout&&(clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null)},this.length),this.maxLength&&!this.maxLengthTimeout&&(this.maxLengthTimeout=setTimeout(()=>{e&&e(),this.maxLengthTimeout=null,clearTimeout(this.timeout),this.timeout=null},this.maxLength))}stop(){clearTimeout(this.timeout),this.timeout=null,clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null}complete(){this.stop(),this.runnable&&this.runnable()}isActive(){return this.timeout!=null}};var Xle=500,Ar=Xle+"ms ease",oE=No("skip",[Xn(":enter",[])]),Lc=No("fade",[Xn(":enter",[mt({opacity:0}),Si(Ar,mt({opacity:1}))]),Xn(":leave",[mt({opacity:1,"pointer-events":"none"}),Si(Ar,mt({opacity:0}))])]),sE=No("crossfade",[Xn(":enter",[mt({opacity:0}),Si(Ar,mt({opacity:1}))]),Xn(":leave",[mt({opacity:1,"pointer-events":"none",position:"absolute"}),Si(Ar,mt({opacity:0}))])]),dH=No("enter",[Xn(":enter",[mt({opacity:0}),Si(Ar,mt({opacity:1}))])]),hH=No("leave",[Xn(":leave",[mt({opacity:1}),Si(Ar,mt({opacity:0}))])]),yDe=No("hidden",[Xn("* => true",[mt({opacity:"*"}),Si(Ar,mt({opacity:0}))]),Xn("true => *",[mt({opacity:0}),Si(Ar,mt({opacity:"*"}))])]),aE=No("drawer2",[s$("0",mt({height:0})),Xn("1 => void",[]),Xn("1 => *",[mt({height:"*"}),Si(Ar,mt({height:0}))]),Xn("0 => void",[mt({height:0}),Si(Ar,mt({height:0}))]),Xn("0 => *",[mt({height:0}),Si(Ar,mt({height:"*"}))])]),fH=No("drawer",[Xn(":enter",[mt({height:0,opacity:0}),Si(Ar,mt({height:"*",opacity:"*"}))]),Xn(":leave",[mt({height:"*",opacity:"*"}),Si(Ar,mt({height:0,opacity:0}))])]);var Vc=class extends Qn{constructor(e){super(e)}next(e){e!==this.value&&super.next(e)}subscribe(e,n,i){return typeof e=="function"?super.pipe(DS(1)).subscribe(e,n,i):super.subscribe(e)}};var hn=(()=>{let e=class e{constructor(){this.darkTheme=!0,this.loading=new Vc(!1),this.changes=new Vc(!1),this.errors=new Vc(!1)}initTheme(){this.darkTheme?document.body.classList.add("dark-theme"):document.body.classList.add("light-theme")}isDarkTheme(){return this.darkTheme}toggleTheme(){this.darkTheme=!this.darkTheme,document.body.classList.toggle("light-theme",!this.darkTheme),document.body.classList.toggle("dark-theme",this.darkTheme)}get reduceBandwidth(){return window.localStorage.getItem("REDUCE_BANDWIDTH")=="1"}set reduceBandwidth(i){window.localStorage.setItem("REDUCE_BANDWIDTH",i?"1":"0")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ut=class{};var Wt=(()=>{let e=class e{static isLargeScreen(){return window.innerWidth>1e3}static isElementVisible(i,r){if(i){let o=i.getBoundingClientRect();return o.top>=0&&o.left>=0&&o.bottom<=(r?r.clientHeight:window.innerHeight)&&o.right<=(r?r.clientWidth:window.innerWidth)}}};e.MOUSE_MOVEMENT_TOLERANCE=10;let t=e;return t})();function Zle(t,e){if(t&1){let n=se();I(0,"i",4),k("mousedown",function(r){N(n);let o=M();return F(o.onMouseDown(r))})("click",function(r){N(n);let o=M();return F(o.nextState(r))})("contextmenu",function(r){N(n);let o=M();return F(o.previousState(r))}),E()}if(t&2){let n=M();P("ngClass",n.tri?"fa-circle-xmark":"fa-circle")}}function eue(t,e){if(t&1){let n=se();I(0,"i",5),k("mousedown",function(r){N(n);let o=M();return F(o.onMouseDown(r))})("click",function(r){N(n);let o=M();return F(o.nextState(r))})("contextmenu",function(r){N(n);let o=M();return F(o.previousState(r))}),E()}}function tue(t,e){if(t&1){let n=se();I(0,"i",6),k("mousedown",function(r){N(n);let o=M();return F(o.onMouseDown(r))})("click",function(r){N(n);let o=M();return F(o.nextState(r))})("contextmenu",function(r){N(n);let o=M();return F(o.previousState(r))}),E()}}var cE=(()=>{let e=class e{constructor(){this.tri=!1,this.stateChange=new Gt}ngOnInit(){this.state||(this.state=this.tri?0:-1)}onMouseDown(i){this.clickX=i.pageX,this.clickY=i.pageY}nextState(i){if(Math.abs(i.pageX-this.clickX)<Wt.MOUSE_MOVEMENT_TOLERANCE&&Math.abs(i.pageY-this.clickY)<Wt.MOUSE_MOVEMENT_TOLERANCE){switch(this.state){case-1:this.state=this.tri?0:1,i.state=this.tri?0:1;break;case 0:this.state=1,i.state=1;break;case 1:this.state=-1,i.state=-1;break}this.stateChange.emit(i)}}previousState(i){if(Math.abs(i.pageX-this.clickX)<Wt.MOUSE_MOVEMENT_TOLERANCE&&Math.abs(i.pageY-this.clickY)<Wt.MOUSE_MOVEMENT_TOLERANCE){switch(i.preventDefault(),this.state){case-1:this.state=1,i.state=1;break;case 0:this.state=-1,i.state=-1;break;case 1:this.state=this.tri?0:-1,i.state=this.tri?0:-1;break}this.stateChange.emit(i)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=de({type:e,selectors:[["app-switch"]],inputs:{tri:"tri",state:"state"},outputs:{stateChange:"stateChange"},standalone:!0,features:[me],decls:4,vars:5,consts:[[1,"container"],["class","negative fa-regular",3,"ngClass","mousedown","click","contextmenu",4,"ngIf"],["class","neutral fa-regular fa-circle",3,"mousedown","click","contextmenu",4,"ngIf"],["class","positive fa-regular fa-circle-check",3,"mousedown","click","contextmenu",4,"ngIf"],[1,"negative","fa-regular",3,"ngClass","mousedown","click","contextmenu"],[1,"neutral","fa-regular","fa-circle",3,"mousedown","click","contextmenu"],[1,"positive","fa-regular","fa-circle-check",3,"mousedown","click","contextmenu"]],template:function(r,o){r&1&&(I(0,"div",0),G(1,Zle,1,1,"i",1)(2,eue,1,0,"i",2)(3,tue,1,0,"i",3),E()),r&2&&(ze("tri",o.tri),D(),P("ngIf",o.state==-1),D(),P("ngIf",o.state==0),D(),P("ngIf",o.state==1))},dependencies:[ye,ki,st],styles:[".container[_ngcontent-%COMP%]{cursor:pointer;margin-left:1px}.container.tri[_ngcontent-%COMP%] > .negative[_ngcontent-%COMP%]{color:#b22222}.container[_ngcontent-%COMP%] > .positive[_ngcontent-%COMP%]{color:#228b22}"]});let t=e;return t})();var ae=class{static isEmpty(e){return!e||!Array.isArray(e)||e.length==0}static includes(e,n,i){if(!this.isEmpty(e)&&n)return i?e.map(r=>i(r)).includes(i(n)):e.includes(n)}static push(e,n){if(Array.isArray(e))if(Array.isArray(n))for(let i of n)i!=null&&!e.includes(i)&&e.push(i);else n!=null&&!e.includes(n)&&e.push(n)}static remove(e,n,i){if(!this.isEmpty(e)&&n)if(Array.isArray(n)){if(n.length>0)if(i){let r=e.map(o=>i(o));for(let o of n.map(a=>i(a)))this._remove(e,o,r)}else for(let r of n)this._remove(e,r)}else return i?this._remove(e,i(n),e.map(r=>i(r))):this._remove(e,n)}static _remove(e,n,i){if(i){let r=i.indexOf(n);if(r!=-1)return i.splice(r,1),e.splice(r,1).length>0}else{let r=e.indexOf(n);if(r!=-1)return e.splice(r,1).length>0}}static difference(e,n,i){if(!this.isEmpty(e)&&!this.isEmpty(n)){let r=[];for(let o of e)n.some(a=>i(o,a))||r.push(o);return r}return[]}static unique(e,n){if(!this.isEmpty(e)){let i=[],r=new Map,o;for(let a of e)o=n(a),r.has(o)||(r.set(o,!0),i.push(a));return i}return[]}static getFirst(e){if(!this.isEmpty(e))return e[0]}static isFirst(e,n){if(!this.isEmpty(e)&&n)return n==e[0]}static getLast(e){if(!this.isEmpty(e))return e[e.length-1]}static isLast(e,n){if(!this.isEmpty(e)&&n)return n==e[e.length-1]}static getRandom(e,n){return this.isEmpty(e)?null:e.length==1?e[0]:(e=e.slice(),this.remove(e,n),e[Math.floor(Math.random()*e.length)])}static nearestRightFirst(e,n,i){if(n+1<e.length){for(let r=n+1;r<e.length;r++)if(!i||i(e[r]))return e[r]}if(n>0){for(let r=n-1;r>-1;r--)if(!i||i(e[r]))return e[r]}return null}static shuffle(e){let n=e.length,i;for(;n!=0;)i=Math.floor(Math.random()*n),n--,[e[n],e[i]]=[e[i],e[n]];return e}};var eo=class{static getNearestImageUp(e,n){let i=n.indexOf(e);for(;i>0;)if(n[--i].left==e.left)return n[i];return ae.getFirst(n)}static getNearestImageRight(e,n){return n[n.indexOf(e)+1]||ae.getLast(n)}static getNearestImageDown(e,n){let i=n.indexOf(e);for(;i<n.length-1;)if(n[++i].left==e.left)return n[i];return ae.getLast(n)}static getNearestImageLeft(e,n){return n[n.indexOf(e)-1]||ae.getFirst(n)}static openYandexReverseImageSearch(e,n,i){let r="https://yandex.com/images/search?rpt=imageview&url="+encodeURIComponent(n.thumbnailLink.replace(new RegExp("=s..."),"=s9999"));e.altKey?(navigator.clipboard.writeText(r),i.create(e.target,"URL copied to clipboard!",{trigger:"click",onShow(o){setTimeout(()=>{o.hide()},3e3)},onHidden(o){o.destroy()}}).show()):window.open(r,"_blank")}};var Ef=class{constructor(e,n,i={}){this.queue=[],this.waitingForOpponent=null,this.previousWinner=null,this.outcome=[],this.comparisonCount=0,this.data=e.slice(),this.getKey=n,this.directlyBetterThan=i;let r;this.data.forEach(o=>{r=this.getKey(o),this.directlyBetterThan[r]||(this.directlyBetterThan[r]=[])}),this.createQueue(this.data),this.nextComparison()}createQueue(e){this.queue.length=0;let n,i,r=ae.shuffle(e.slice());for(;r.length>0;)n=r.shift(),i=r.shift(),i?this.queue.push([n,i]):this.waitingForOpponent=n}nextComparison(){let e=this.queue.shift();if(!e){this.resolveTies(this.waitingForOpponent);return}let n=null;this.getBetterThan(e[0]).includes(e[1])?n=e[0]:this.getBetterThan(e[1]).includes(e[0])&&(n=e[1]),n?(this.waitingForOpponent?(this.queue.push([this.waitingForOpponent,n]),this.waitingForOpponent=null):this.waitingForOpponent=n,this.nextComparison()):this.comparison=e}resolveTies(e){if(this.waitingForOpponent=null,e){this.outcome.push(e),this.previousWinner&&(this.directlyBetterThan[this.getKey(this.previousWinner)]=[e],this.previousWinner=null);let n=this.directlyBetterThan[this.getKey(e)].length;n>1?(this.previousWinner=e,this.createQueue(this.directlyBetterThan[this.getKey(e)]),this.nextComparison()):n==1?this.resolveTies(this.directlyBetterThan[this.getKey(e)][0]):n==0&&(this.comparison=null)}}addComparisonResult(e,n){this.comparisonCount++,this.waitingForOpponent?(this.queue.push([this.waitingForOpponent,e]),this.waitingForOpponent=null):this.waitingForOpponent=e,this.directlyBetterThan[this.getKey(e)].push(n),this.nextComparison()}getBetterThan(e,n=[]){for(let i of this.directlyBetterThan[this.getKey(e)])n.includes(i)||(n.push(i),this.getBetterThan(i,n));return n}reset(){this.outcome.length=0,this.comparisonCount=0;for(let e of Object.keys(this.directlyBetterThan))this.directlyBetterThan[e].length=0;this.createQueue(this.data),this.nextComparison()}};function nue(t,e){if(t&1){let n=se();I(0,"div",4)(1,"div",5),k("click",function(){N(n);let r=M();return F(r.onImageClick(r.tournament.comparison[0],r.tournament.comparison[1]))}),ne(2,"img",6),E(),ne(3,"div",7),I(4,"div",5),k("click",function(){N(n);let r=M();return F(r.onImageClick(r.tournament.comparison[1],r.tournament.comparison[0]))}),ne(5,"img",6),E()()}if(t&2){let n=M();D(2),P("src",n.tournament.comparison[0].thumbnailLink,Oi),D(3),P("src",n.tournament.comparison[1].thumbnailLink,Oi)}}function iue(t,e){if(t&1&&(I(0,"div",8),ne(1,"img",6),E()),t&2){let n=e.$implicit;D(),P("src",n.thumbnailLink,Oi)}}var pH=(()=>{let e=class e extends Ut{constructor(){super(...arguments),this.configuration={title:"Image Comparison",buttons:[{text:()=>"Reset",click:()=>this.reset()},{text:()=>"Close",click:()=>this.close()}]}}ngOnInit(){this.tournament=new Ef(this.images,i=>i.id)}onImageClick(i,r){this.tournament.addComparisonResult(i,r)}reset(){this.tournament.reset()}close(){this.resolve(!1)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=lr(e)))(o||e)}})(),e.\u0275cmp=de({type:e,selectors:[["app-image-comparison"]],inputs:{images:"images"},standalone:!0,features:[wt,me],decls:4,vars:2,consts:[["class","comparison",4,"ngIf"],[1,"h-separator"],[1,"results"],["class","image-container",4,"ngFor","ngForOf"],[1,"comparison"],[1,"image-container",3,"click"],[1,"image",3,"src"],[1,"v-separator"],[1,"image-container"]],template:function(r,o){r&1&&(G(0,nue,6,2,"div",0),ne(1,"div",1),I(2,"div",2),G(3,iue,2,1,"div",3),E()),r&2&&(P("ngIf",o.tournament.comparison),D(3),P("ngForOf",o.tournament.outcome))},dependencies:[ye,tt,st],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;overflow-x:hidden;width:max-content}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{display:flex;overflow:hidden}@media screen and (max-width: 768px){[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{aspect-ratio:2}}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:1;padding:.3333333333rem;display:flex;align-items:center;justify-content:center;cursor:pointer}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]:hover{background-color:var(--color-border)}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain;border-radius:.3333333333rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{height:200px;min-height:200px;overflow:auto;display:flex;flex-wrap:wrap;justify-content:center;gap:.3333333333rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{width:calc(300px + .6666666666rem);padding:.3333333333rem}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{width:calc(700px + 1.9999999998rem + .5533333333rem);padding:.3333333333rem 0 .3333333333rem .5533333333rem}}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:100px;height:100px;display:flex;position:relative;justify-content:center;align-items:center}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:.3333333333rem}"]});let t=e;return t})();var If=class{constructor(e){this.http=e,this.API_KEY="AIzaSyBLAfLb8QHSIqXPFTh2YJEMfMoW8EhJpRU"}createFile(e,n,i){let r="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return Cr(this.http.post(r,{name:e,parents:n,mimeType:i}))}createFolder(e,n){let i="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return Cr(this.http.post(i,{name:e,mimeType:"application/vnd.google-apps.folder",parents:[n]}))}getFolderMetadata(e="root"){let i="https://content.googleapis.com/drive/v3/files?pageSize=1000&q="+("'"+e+"' in parents and trashed=false")+"&fields=files("+this.FIELDS+")&key="+this.API_KEY;return this.getFileArrayPromise(i)}getEntityMetadata(e){let n="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return Cr(this.http.get(n))}getContent(e){let n="https://www.googleapis.com/drive/v3/files/"+e;return Cr(this.http.get(n,{params:{alt:"media"},responseType:"json"}))}updateContent(e,n){let i="https://www.googleapis.com/upload/drive/v3/files/"+e+"?uploadType=media";return Cr(this.http.patch(i,n))}move(e,n,i){let r="https://www.googleapis.com/drive/v3/files/"+e+"?removeParents="+n+"&addParents="+i+"&key="+this.API_KEY;return Cr(this.http.patch(r,{}))}trash(e){return this.updateMetadata(e,{trashed:!0})}updateProperty(e,n,i){return this.updateMetadata(e,{appProperties:{[n]:i}})}updateProperties(e,n){return this.updateMetadata(e,{appProperties:n})}openFolderById(e){let n="https://drive.google.com/drive/folders/"+e;window.open(n,"_blank")}openSearch(e){let n="https://drive.google.com/drive/search?q="+e;window.open(n,"_blank")}updateMetadata(e,n){let i="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return Cr(this.http.patch(i,n))}getFileArrayPromise(e,n){return n?Cr(this.http.post(e,n).pipe(Ne(i=>i?i.files:[]))):Cr(this.http.get(e).pipe(Ne(i=>i?i.files:[])))}};var Ui=(()=>{let e=class e extends If{constructor(i,r,o){super(i),this.http=i,this.applicationService=r,this.injector=o,this.FIELDS="id,name,thumbnailLink,mimeType,imageMediaMetadata,videoMediaMetadata",this.delay=new Fc(5e3)}updateData(i=!1){let r=sessionStorage.getItem("dataFileId");if(r){let o=this.injector.get(vi);this.applicationService.changes.next(!0);let a=()=>{this.updateContent(r,{rootFolderId:o.rootFolderId,settings:o.settings,imageProperties:o.images.map(l=>({id:l.id,heart:l.heart,bookmark:l.bookmark,tags:l.tags,likes:l.likes})),groupProperties:o.groups.map(l=>({imageIds:l.images.map(d=>d.id),starId:l.star.id})),tagGroups:o.tagGroups,heartsFilter:o.heartsFilter,bookmarksFilter:o.bookmarksFilter,groupSizeFilterMin:o.groupSizeFilterMin,groupSizeFilterMax:o.groupSizeFilterMax}).then(l=>{l||this.applicationService.errors.next(!0)}).finally(()=>{this.applicationService.changes.next(!1)})};i?(this.delay.stop(),a()):this.delay.restart(()=>a())}}createDataFile(i){return C(this,null,function*(){let r=yield this.createFile(i+".tagallery",["root"],"application/json");return sessionStorage.setItem("dataFileId",r.id),r})}getData(){return C(this,null,function*(){let i=sessionStorage.getItem("dataFileId");if(i){let r="https://www.googleapis.com/drive/v3/files/"+i;return yield Cr(this.http.get(r,{params:{alt:"media"},responseType:"json"})).catch(o=>o)}})}getBase64(i){return C(this,null,function*(){return new Promise(r=>{let o="https://www.googleapis.com/drive/v3/files/"+i;this.http.get(o,{params:{alt:"media"},responseType:"blob"}).subscribe(a=>{let l=new FileReader;l.onload=d=>r(d.target.result),l.readAsDataURL(a)})})})}};e.\u0275fac=function(r){return new(r||e)(oe(Rl),oe(hn),oe(Jt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var vi=(()=>{let e=class e{constructor(i,r){this.applicationService=i,this.googleService=r,this.targetEntireGroup=!1,this.fullscreenVisible=ac(!1),this.sidebarVisible=Wt.isLargeScreen()||this.applicationService.reduceBandwidth,this.filter=ac([]),this.target=ac(null),this.tagCounts={}}setRandomTarget(){if(!ae.isEmpty(this.filter())){let i,r=this.target();r?r.hasGroup()?i=ae.getRandom(this.filter(),r.getGroupImages()):i=ae.getRandom(this.filter(),[r]):i=ae.getRandom(this.filter()),i&&(i.hasGroup()&&(i=ae.getRandom(i.getGroupImages().filter(o=>this.doesPassFilter(o)))),this.target.set(i))}}setRandomGroupTarget(){let i=this.target();i?.hasGroup()&&this.target.set(ae.getRandom(i.getGroupImages().filter(r=>this.doesPassFilter(r)),[i]))}refreshFilter(){this.filter.set(this.images.filter(i=>i.hasGroup()?i.group.open?this.doesPassFilter(i):this.getGroupRepresent(i)==i:this.doesPassFilter(i)))}getGroupRepresent(i){return i.hasGroup()?this.doesPassFilter(i.group.star)?i.group.star:i.group.images.find(r=>this.doesPassFilter(r)):i}doesPassFilter(i){if(!i||this.heartsFilter==-1&&i.heart||this.heartsFilter==1&&!i.heart||this.bookmarksFilter==-1&&i.bookmark||this.bookmarksFilter==1&&!i.bookmark)return!1;let r=i.hasGroup()?i.getGroupImages().length:0;if(r<this.groupSizeFilterMin||r>this.groupSizeFilterMax)return!1;let o,a;for(let l of this.tagGroups)if(o=l.tags.some(d=>i.tags.includes(d.id)),l.state==-1&&o||l.state==1&&!o)return!1;for(let l of this.tagGroups.flatMap(d=>d.tags))if(a=i.tags.includes(l.id),l.state==-1&&a||l.state==1&&!a)return!1;return!0}toggleHeart(i){let r=!i.heart;i.hasGroup()&&this.targetEntireGroup?i.getGroupImages().forEach(o=>o.heart=r):i.heart=r,this.tagCounts._heart=this.images.filter(o=>o.heart).length,this.googleService.updateData()}toggleBookmark(i){let r=!i.bookmark;i.hasGroup()&&this.targetEntireGroup?i.getGroupImages().forEach(o=>o.bookmark=r):i.bookmark=r,this.tagCounts._bookmark=this.images.filter(o=>o.bookmark).length,this.googleService.updateData()}toggleTag(i,r){let o=i.tags,a;if(i.hasGroup()&&this.targetEntireGroup)if(o.includes(r))for(let l of i.getGroupImages())a=l.tags,a.includes(r)&&ae.remove(a,r);else for(let l of i.getGroupImages())a=l.tags,a.includes(r)||a.push(r);else o.includes(r)?ae.remove(o,r):o.push(r);this.tagCounts[r]=this.images.filter(l=>l.tags.includes(r)).length,this.googleService.updateData()}like(i){i.likes++,this.googleService.updateData()}dislike(i){i.likes>0&&(i.likes--,this.googleService.updateData())}moveTargetToTrash(){return C(this,null,function*(){this.applicationService.loading.next(!0);let i=this.target();if(i){let r=yield this.moveImageToTrash(i);this.refreshFilter(),this.target.set(r);for(let o in this.tagCounts)this.tagCounts[o]=0;this.tagCounts._heart=this.images.filter(o=>o.heart).length,this.tagCounts._bookmark=this.images.filter(o=>o.bookmark).length;for(let o of this.images)for(let a of o.tags)this.tagCounts[a]++;this.googleService.updateData()}this.applicationService.loading.next(!1)})}moveImageToTrash(i){return C(this,null,function*(){let r,o,a=this.filter();return i.hasGroup()?(r=i.getGroupImages().indexOf(i),ae.isLast(i.getGroupImages(),i)?o=i.getGroupImages()[r-1]:o=i.getGroupImages()[r+1]):ae.isLast(a,i)?o=eo.getNearestImageLeft(i,a):o=eo.getNearestImageRight(i,a),this.googleService.trash(i.id),ae.remove(this.images,this.images.find(l=>l.id==i.id)),i.hasGroup()&&(ae.remove(i.getGroupImages(),i.getGroupImages().find(l=>l.id==i.id)),i.group.star==i&&i.group.images.length>0&&(i.group.star=i.group.images[0])),o})}};e.\u0275fac=function(r){return new(r||e)(oe(hn),oe(Ui))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mH=(()=>{let e=class e extends Ut{constructor(i,r,o,a,l){super(),this.applicationService=i,this.stateService=r,this.googleService=o,this.dialogService=a,this.tippyService=l,this.configuration={title:"Settings",buttons:[{text:()=>"Close",click:()=>this.close()}]},this.needsUpdate=!1}ngOnInit(){}openYandexReverseImageSearch(i){eo.openYandexReverseImageSearch(i,this.stateService.target(),this.tippyService),this.close()}startImageComparison(){this.dialogService.create(pH,{images:this.stateService.filter()}),this.close()}copyTargetBase64(){this.googleService.getBase64(this.stateService.target().id).then(i=>navigator.clipboard.writeText(i))}openTargetInGoogleDrive(){this.googleService.openSearch(this.stateService.target().name)}onAutoBookmarkStateChange(i){this.needsUpdate=!0,this.stateService.settings.autoBookmark=i.state}close(){this.needsUpdate&&this.stateService.images&&this.googleService.updateData(),this.resolve(!0)}};e.\u0275fac=function(r){return new(r||e)(R(hn),R(vi),R(Ui),R(Bt),R(lH))},e.\u0275cmp=de({type:e,selectors:[["app-gallery-settings"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.close(l)},!1,rn)("keydown.escape",function(l){return o.close(l)},!1,rn)},standalone:!0,features:[wt,me],decls:15,vars:1,consts:[["tp","Yandex Reverse Image Search",1,"button",3,"click"],["tp","Pairwise Comparison",1,"button",3,"click"],["tp","Toggle Brightness Mode",1,"button",3,"click"],["tp","Copy Base64 Data",1,"button","mobile-hidden",3,"click"],["tp","Open in Google Drive",1,"button","mobile-hidden",3,"click"],[1,"h-separator"],[1,"switch-container"],["tp","Bookmark new images automatically",3,"state","stateChange"]],template:function(r,o){r&1&&(I(0,"span",0),k("click",function(l){return o.openYandexReverseImageSearch(l)}),L(1,"Yandex RIS"),E(),I(2,"span",1),k("click",function(){return o.startImageComparison()}),L(3,"Comparison"),E(),I(4,"span",2),k("click",function(){return o.applicationService.toggleTheme()}),L(5,"Theme"),E(),I(6,"span",3),k("click",function(){return o.copyTargetBase64()}),L(7,"Base64"),E(),I(8,"span",4),k("click",function(){return o.openTargetInGoogleDrive()}),L(9,"Google Drive"),E(),ne(10,"div",5),I(11,"div",6)(12,"app-switch",7),k("stateChange",function(l){return o.onAutoBookmarkStateChange(l)}),E(),I(13,"span"),L(14,"Auto Bookmark"),E()()),r&2&&(D(12),P("state",o.stateService.settings.autoBookmark))},dependencies:[ye,cE],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem;padding:.9999999999rem}[_nghost-%COMP%] > .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%] > .switch-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}"]});let t=e;return t})();var rue=["content"];function oue(t,e){if(t&1){let n=se();I(0,"div",7),k("click",function(){N(n);let r=M().$implicit;return F(r.click&&r.click())}),L(1),E()}if(t&2){let n=M().$implicit;ze("disabled",n.disable&&n.disable()),D(),ue(n.text())}}function sue(t,e){if(t&1&&(ht(0),G(1,oue,2,3,"div",6),ft()),t&2){let n=e.$implicit;D(),P("ngIf",!n.hidden||!n.hidden())}}var gH=(()=>{let e=class e{get isActive(){return this.active()}get isVisible(){return this.visible?"visible":"hidden"}constructor(){this.visible=!0,this.result=new Promise(i=>this.resolve=i)}ngAfterViewInit(){let i=this.containerRef.createComponent(this.contentComponentType);if(this.contentInstance=i.instance,this.contentInstance.resolve=this.resolve,this.result.then(()=>{this.visible=!1,setTimeout(()=>i.destroy(),250)}),this.inputs)for(let[r,o]of Object.entries(this.inputs))i.setInput(r,o);this.visible=!0,i.changeDetectorRef.detectChanges()}close(){this.contentInstance.close()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=de({type:e,selectors:[["app-dialog-base"]],viewQuery:function(r,o){if(r&1&&Ij(rue,5,wi),r&2){let a;Y0(a=Q0())&&(o.containerRef=a.first)}},hostVars:3,hostBindings:function(r,o){r&1&&k("keydown.escape",function(l){return o.close(l)},!1,rn),r&2&&(Ml("@overlayFade",o.isVisible),ze("active",o.isActive))},standalone:!0,features:[me],decls:9,vars:2,consts:[[1,"header"],[1,"icon-button","fa-solid","fa-times",3,"click"],[1,"content"],["content",""],[1,"buttons"],[4,"ngFor","ngForOf"],["class","button",3,"disabled","click",4,"ngIf"],[1,"button",3,"click"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"span"),L(2),E(),I(3,"i",1),k("click",function(){return o.close()}),E()(),I(4,"div",2),D1(5,null,3),E(),I(7,"div",4),G(8,sue,2,1,"ng-container",5),E()),r&2&&(D(2),ue(o.contentInstance==null?null:o.contentInstance.configuration.title),D(6),P("ngForOf",o.contentInstance==null?null:o.contentInstance.configuration.buttons))},dependencies:[ye,tt,st],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-border);background-color:var(--color-background-primary);position:fixed;top:50%;left:50%;transform:translate(-50%) translateY(-50%);border-radius:.5rem;overflow:hidden;z-index:200;transition:filter .25s}@media screen and (max-width: 768px){[_nghost-%COMP%]{max-width:calc(100% - 1.3333333332rem);max-height:calc(100% - 1.3333333332rem)}}@media screen and (min-width: 768px){[_nghost-%COMP%]{max-width:80%;max-height:80%}}[_nghost-%COMP%]:not(.active){filter:blur(3px);pointer-events:none}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;overflow:auto;border:1px solid var(--color-border);border-radius:.3333333333rem;margin:0 .3333333333rem}.header[_ngcontent-%COMP%]{height:2rem;padding:.3333333333rem .3333333333rem .3333333333rem .6666666666rem;display:flex;align-items:center;justify-content:space-between}.buttons[_ngcontent-%COMP%]{gap:.3333333333rem;padding:.3333333333rem;height:2rem;display:flex;align-items:center;justify-content:space-evenly}.button[_ngcontent-%COMP%]{flex:1;transition:.5s}"],data:{animation:[No("overlayFade",[Xn("* => visible",[mt({opacity:0}),Si("250ms ease",mt({opacity:1}))]),Xn("* => hidden",[mt({opacity:1}),Si("250ms ease",mt({opacity:0}))])])]}});let t=e;return t})();function aue(t,e){if(t&1&&(I(0,"span"),L(1),E()),t&2){let n=e.$implicit;D(),ue(n)}}var vH=(()=>{let e=class e extends Ut{ngOnInit(){this.configuration={title:this.title,buttons:[{text:()=>this.positiveButtonText,click:()=>this.resolve(!0)},{text:()=>this.negativeButtonText,click:()=>this.resolve(!1)},{text:()=>"Cancel",click:()=>this.resolve(!1)}]}}submit(){this.resolve(!0)}close(){this.resolve(!1)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=lr(e)))(o||e)}})(),e.\u0275cmp=de({type:e,selectors:[["app-confirmation-dialog"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.submit(l)},!1,rn)("keydown.escape",function(l){return o.close(l)},!1,rn)},inputs:{title:"title",messages:"messages",positiveButtonText:"positiveButtonText",negativeButtonText:"negativeButtonText"},features:[wt],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(r,o){r&1&&(I(0,"div",0),G(1,aue,2,1,"span",1),E()),r&2&&(D(),P("ngForOf",o.messages))},styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.9999999999rem;border-top:1px solid var(--color-border);border-bottom:1px solid var(--color-border)}"]});let t=e;return t})();function cue(t,e){if(t&1&&(I(0,"span"),L(1),E()),t&2){let n=e.$implicit;D(),ue(n)}}var yH=(()=>{let e=class e extends Ut{ngOnInit(){this.configuration={title:this.title,buttons:[{text:()=>"OK",click:()=>this.resolve()}]}}submit(){this.resolve()}close(){this.resolve()}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=lr(e)))(o||e)}})(),e.\u0275cmp=de({type:e,selectors:[["app-message-dialog"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.submit(l)},!1,rn)("keydown.escape",function(l){return o.close(l)},!1,rn)},inputs:{title:"title",messages:"messages"},features:[wt],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(r,o){r&1&&(I(0,"div",0),G(1,cue,2,1,"span",1),E()),r&2&&(D(),P("ngForOf",o.messages))},styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.9999999999rem;border-top:1px solid var(--color-border);border-bottom:1px solid var(--color-border)}"]});let t=e;return t})();var Bt=(()=>{let e=class e{constructor(i,r){this.appRef=i,this.injector=r,this.stack=[]}createMessage(i,r){return this.create(yH,{title:i,messages:r})}createConfirmation(i,r,o,a){return this.create(vH,{title:i,messages:r,positiveButtonText:o,negativeButtonText:a})}create(i,r){let o=ew(gH,{environmentInjector:this.injector}),a=o.instance;return a.contentComponentType=i,a.inputs=r,a.active=()=>ae.isLast(this.stack,a),a.result.then(()=>{ae.remove(this.stack,a),setTimeout(()=>{this.appRef.detachView(o.hostView),o.destroy()},250)}),this.stack.push(a),this.appRef.attachView(o.hostView),document.body.firstElementChild.appendChild(o.location.nativeElement),o.changeDetectorRef.detectChanges(),a.result}getCount(){return this.stack.length}openSettings(){return this.create(mH)}};e.\u0275fac=function(r){return new(r||e)(oe(as),oe(ui))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function lue(t,e){t&1&&ne(0,"div",3),t&2&&P("@fade",void 0)}function uue(t,e){t&1&&ne(0,"span",4),t&2&&P("@fade",void 0)}var _H=(()=>{let e=class e{constructor(i,r){this.applicationService=i,this.dialogService=r,this.hideLoadingBarDelay=new Fc(1500),this.applicationService.initTheme(),this.applicationService.changes.subscribe(o=>{o===!1&&this.hideLoadingBarDelay.restart()})}isBlurOverlayVisible(){return this.applicationService.loading.value||this.dialogService.getCount()!=0}getLoadingBarColor(){return this.applicationService.changes.value?"orange":this.applicationService.errors.value?"red":this.hideLoadingBarDelay.isActive()?"limegreen":"transparent"}};e.\u0275fac=function(r){return new(r||e)(R(hn),R(Bt))},e.\u0275cmp=de({type:e,selectors:[["app-root"]],standalone:!0,features:[me],decls:4,vars:4,consts:[["class","overlay-blur",4,"ngIf"],[1,"overlay-loading-bar"],["class","loading-spinner",4,"ngIf"],[1,"overlay-blur"],[1,"loading-spinner"]],template:function(r,o){r&1&&(G(0,lue,1,1,"div",0),ne(1,"div",1),G(2,uue,1,1,"span",2),ne(3,"router-outlet")),r&2&&(P("ngIf",o.isBlurOverlayVisible()),D(),Ur("background-color",o.getLoadingBarColor()),D(),P("ngIf",o.applicationService.loading.value))},dependencies:[ye,st,Pv],styles:[".light-theme[_nghost-%COMP%], .light-theme   [_nghost-%COMP%]{--color-background-primary: rgb(255, 255, 255);--color-border: rgba(0, 0, 0, .2);--color-hover: rgba(0, 0, 0, .1);--color-text: black;--color-text-hover: rgb(28, 28, 28);--color-text-shadow: #e1e1e1;--color-highlight: blueviolet;--color-primary: #0075ff;--color-secondary: #155197;--color-positive: forestgreen;--color-negative: orangered}.dark-theme[_nghost-%COMP%], .dark-theme   [_nghost-%COMP%]{--color-background-primary: #202124;--color-background-secondary: #2b2c2f;--color-border: rgba(255, 255, 255, .2);--color-hover: rgba(255, 255, 255, .1);--color-text-shadow: black;--color-text: #e1e1e1;--color-text-hover: white;--color-primary: #0075ff;--color-secondary: #155197;--color-highlight: blueviolet;--color-positive: yellowgreen;--color-negative: lightcoral}[_nghost-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:var(--color-text);background-color:var(--color-background-primary)}.overlay-blur[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);z-index:100;position:absolute}.overlay-loading-bar[_ngcontent-%COMP%]{width:100%;height:1px;align-self:start;pointer-events:none;z-index:100;position:absolute;background-color:transparent;transition-property:background-color;transition-duration:.5s}.loading-spinner[_ngcontent-%COMP%]{width:75px;height:75px;border-width:3px;border-color:var(--color-background-secondary);border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s infinite linear;border-radius:50%;border-style:solid;position:absolute;z-index:100}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"],data:{animation:[Lc]}});let t=e;return t})();var xH=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(R(Eo),R(nn))},e.\u0275dir=xt({type:e});let t=e;return t})(),hE=(()=>{let e=class e extends xH{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=lr(e)))(o||e)}})(),e.\u0275dir=xt({type:e,features:[wt]});let t=e;return t})(),Qv=new we("");var due={provide:Qv,useExisting:rc(()=>$t),multi:!0};function hue(){let t=ra()?ra().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var fue=new we(""),$t=(()=>{let e=class e extends xH{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!hue())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(R(Eo),R(nn),R(fue,8))},e.\u0275dir=xt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&k("input",function(l){return o._handleInput(l.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(l){return o._compositionEnd(l.target.value)})},features:[sh([due]),wt]});let t=e;return t})();var pue=new we(""),mue=new we("");function AH(t){return t!=null}function MH(t){return Ol(t)?Qt(t):t}function PH(t){let e={};return t.forEach(n=>{e=n!=null?te(te({},e),n):e}),Object.keys(e).length===0?null:e}function OH(t,e){return e.map(n=>n(t))}function gue(t){return!t.validate}function kH(t){return t.map(e=>gue(e)?e:n=>e.validate(n))}function vue(t){if(!t)return null;let e=t.filter(AH);return e.length==0?null:function(n){return PH(OH(n,e))}}function RH(t){return t!=null?vue(kH(t)):null}function yue(t){if(!t)return null;let e=t.filter(AH);return e.length==0?null:function(n){let i=OH(n,e).map(MH);return CS(i).pipe(Ne(PH))}}function NH(t){return t!=null?yue(kH(t)):null}function wH(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function _ue(t){return t._rawValidators}function wue(t){return t._rawAsyncValidators}function YO(t){return t?Array.isArray(t)?t:[t]:[]}function uE(t,e){return Array.isArray(t)?t.includes(e):t===e}function bH(t,e){let n=YO(e);return YO(t).forEach(r=>{uE(n,r)||n.push(r)}),n}function CH(t,e){return YO(e).filter(n=>!uE(t,n))}var dE=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=RH(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=NH(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},QO=class extends dE{get formDirective(){return null}get path(){return null}},Yv=class extends dE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},JO=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},bue={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Wxe=Dt(te({},bue),{"[class.ng-submitted]":"isSubmitted"}),en=(()=>{let e=class e extends JO{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(R(Yv,2))},e.\u0275dir=xt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&ze("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[wt]});let t=e;return t})();var Wv="VALID",lE="INVALID",Sf="PENDING",Kv="DISABLED";function Cue(t){return(fE(t)?t.validators:t)||null}function Eue(t){return Array.isArray(t)?RH(t):t||null}function Iue(t,e){return(fE(e)?e.asyncValidators:t)||null}function Sue(t){return Array.isArray(t)?NH(t):t||null}function fE(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var XO=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Wv}get invalid(){return this.status===lE}get pending(){return this.status==Sf}get disabled(){return this.status===Kv}get enabled(){return this.status!==Kv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(bH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(CH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(CH(e,this._rawAsyncValidators))}hasValidator(e){return uE(this._rawValidators,e)}hasAsyncValidator(e){return uE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Sf,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Kv,this.errors=null,this._forEachChild(i=>{i.disable(Dt(te({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Dt(te({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Wv,this._forEachChild(i=>{i.enable(Dt(te({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Dt(te({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wv||this.status===Sf)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Kv:Wv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Sf,this._hasOwnPendingAsyncValidator=!0;let n=MH(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Gt,this.statusChanges=new Gt}_calculateStatus(){return this._allControlsDisabled()?Kv:this.errors?lE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sf)?Sf:this._anyControlsHaveStatus(lE)?lE:Wv}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){fE(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Eue(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Sue(this._rawAsyncValidators)}};var FH=new we("CallSetDisabledState",{providedIn:"root",factory:()=>ZO}),ZO="always";function Tue(t,e){return[...e.path,t]}function Due(t,e,n=ZO){Aue(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Mue(t,e),Oue(t,e),Pue(t,e),xue(t,e)}function EH(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function xue(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Aue(t,e){let n=_ue(t);e.validator!==null?t.setValidators(wH(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=wue(t);e.asyncValidator!==null?t.setAsyncValidators(wH(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();EH(e._rawValidators,r),EH(e._rawAsyncValidators,r)}function Mue(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&LH(t,e)})}function Pue(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&LH(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function LH(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Oue(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function kue(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Rue(t){return Object.getPrototypeOf(t.constructor)===hE}function Nue(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===$t?n=o:Rue(o)?i=o:r=o}),r||i||n||null}function IH(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function SH(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Fue=class extends XO{constructor(e=null,n,i){super(Cue(n),Iue(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fE(n)&&(n.nonNullable||n.initialValueIsDefault)&&(SH(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){IH(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){IH(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){SH(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Lue={provide:Yv,useExisting:rc(()=>Kt)},TH=Promise.resolve(),Kt=(()=>{let e=class e extends Yv{constructor(i,r,o,a,l,d){super(),this._changeDetectorRef=l,this.callSetDisabledState=d,this.control=new Fue,this._registered=!1,this.name="",this.update=new Gt,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Nue(this,a)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),kue(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Due(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){TH.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,o=r!==0&&Zi(r);TH.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?Tue(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(R(QO,9),R(pue,10),R(mue,10),R(Qv,10),R(ia,8),R(FH,8))},e.\u0275dir=xt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[xe.None,"disabled","isDisabled"],model:[xe.None,"ngModel","model"],options:[xe.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[sh([Lue]),wt,bo]});let t=e;return t})();var Vue={provide:Qv,useExisting:rc(()=>Fu),multi:!0},Fu=(()=>{let e=class e extends hE{writeValue(i){let r=i??"";this.setProperty("value",r)}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=lr(e)))(o||e)}})(),e.\u0275dir=xt({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&k("input",function(l){return o.onChange(l.target.value)})("blur",function(){return o.onTouched()})},features:[sh([Vue]),wt]});let t=e;return t})();var jue={provide:Qv,useExisting:rc(()=>to),multi:!0};function VH(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Uue(t){return t.split(":")[0]}var to=(()=>{let e=class e extends hE{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r=this._getOptionId(i),o=VH(r,i);this.setProperty("value",o)}registerOnChange(i){this.onChange=r=>{this.value=this._getOptionValue(r),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),i))return r;return null}_getOptionValue(i){let r=Uue(i);return this._optionMap.has(r)?this._optionMap.get(r):i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=lr(e)))(o||e)}})(),e.\u0275dir=xt({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&k("change",function(l){return o.onChange(l.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[sh([jue]),wt]});let t=e;return t})(),Ms=(()=>{let e=class e{constructor(i,r,o){this._element=i,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(i){this._select!=null&&(this._select._optionMap.set(this.id,i),this._setElementValue(VH(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(R(nn),R(Eo),R(to,9))},e.\u0275dir=xt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),Bue={provide:Qv,useExisting:rc(()=>jH),multi:!0};function DH(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function $ue(t){return t.split(":")[0]}var jH=(()=>{let e=class e extends hE{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r;if(Array.isArray(i)){let o=i.map(a=>this._getOptionId(a));r=(a,l)=>{a._setSelected(o.indexOf(l.toString())>-1)}}else r=(o,a)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(i){this.onChange=r=>{let o=[],a=r.selectedOptions;if(a!==void 0){let l=a;for(let d=0;d<l.length;d++){let h=l[d],m=this._getOptionValue(h.value);o.push(m)}}else{let l=r.options;for(let d=0;d<l.length;d++){let h=l[d];if(h.selected){let m=this._getOptionValue(h.value);o.push(m)}}}this.value=o,i(o)}}_registerOption(i){let r=(this._idCounter++).toString();return this._optionMap.set(r,i),r}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,i))return r;return null}_getOptionValue(i){let r=$ue(i);return this._optionMap.has(r)?this._optionMap.get(r)._value:i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=lr(e)))(o||e)}})(),e.\u0275dir=xt({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&k("change",function(l){return o.onChange(l.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[sh([Bue]),wt]});let t=e;return t})(),Ps=(()=>{let e=class e{constructor(i,r,o){this._element=i,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){this._select!=null&&(this._value=i,this._setElementValue(DH(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(DH(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(R(nn),R(Eo),R(jH,9))},e.\u0275dir=xt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var Hue=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Qi({type:e}),e.\u0275inj=Ji({});let t=e;return t})();var St=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:FH,useValue:i.callSetDisabledState??ZO}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Qi({type:e}),e.\u0275inj=Ji({imports:[Hue]});let t=e;return t})();var Os=(()=>{let e=class e{constructor(i){this.elementRef=i,this.onCreate=new Gt}ngOnInit(){this.onCreate.emit(this.elementRef)}};e.\u0275fac=function(r){return new(r||e)(R(nn))},e.\u0275dir=xt({type:e,selectors:[["","onCreate",""]],outputs:{onCreate:"onCreate"},standalone:!0});let t=e;return t})();var Tf=(()=>{let e=class e{set ngVar(i){this.context.ngVar=i}static ngTemplateContextGuard(i,r){return!0}constructor(i,r){this.containerRef=i,this.templateRef=r,this.context=new ek,this.containerRef.createEmbeddedView(this.templateRef,this.context)}};e.\u0275fac=function(r){return new(r||e)(R(wi),R(_o))},e.\u0275dir=xt({type:e,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"},standalone:!0});let t=e;return t})(),ek=class{};var At=class{static format(e,...n){do e=e.replace("%s",n.shift()||"");while(e.includes("%s"));return e}static capitalize(e){if(!this.isEmpty(e))return e.substring(0,1).toUpperCase()+e.substring(1)}static isEmpty(e){return!e||typeof e!="string"||e.trim().length<=0}static getWordCount(e){return e.split(new RegExp(`[^ /
]+`,"g")).length-1}};var Bc=(()=>{let e=class e{constructor(){}onNodeClick(i){}renderNotes(){}process(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var tn=function(t){return t.ALWAYS="ALWAYS",t.NEVER="NEVER",t.AND="AND",t.OR="OR",t.NOT="NOT",t.EQ="EQ",t.NEQ="NEQ",t.CHANCE="CHANCE",t}(tn||{});var Jv=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var bt=class{static createScenario(){return{characters:[],variables:[],nodes:[],buttons:[],notes:[]}}static createCharacter(){return{color:"#FFFFFF"}}static createVariable(){return{options:[]}}static createDialogueNode(){return{id:Jv(),lines:[],buttonIds:[]}}static createDialogueLine(){return{}}static createButton(){return{id:Jv(),logic:[this.createLogic(tn.ALWAYS)],disabled:this.createCondition(tn.NEVER),hidden:this.createCondition(tn.NEVER)}}static createLogic(e){return{operator:e,conditions:[],actions:[this.createAction()]}}static createCondition(e){return{operator:e}}static createAction(){return{weight:100,storyChanges:[],variableChanges:[]}}};var fn=(()=>{let e=class e{constructor(){}getCurrentNode(){return this.currentScenario?.currentNode}getCurrentNote(){return this.currentScenario?.currentNote}getScenario(i){return this.scenarios.find(r=>r.id==i)}getNodes(){return this.scenarios.flatMap(i=>i.nodes)}getButtons(){return this.scenarios.flatMap(i=>i.buttons)}getButtonsForNode(i=this.getCurrentNode()){return i?.buttonIds.map(r=>this.getButton(r,this.getScenario(i.parentScenarioId)))}getCharacters(){return this.scenarios.flatMap(i=>i.characters)}getVariables(){return this.scenarios.flatMap(i=>i.variables)}getNode(i){if(i)return this.getNodes().find(r=>r.id==i)}getButton(i,r){if(i)return r?r.buttons.find(o=>o.id==i):this.getButtons().find(o=>o.id==i)}getCharacter(i){if(i)return this.getCharacters().find(r=>r.id==i)}getVariable(i){if(i)return this.getVariables().find(r=>r.id==i)}initialize(i){if(i&&i.scenarios){this.scenarios=i.scenarios;for(let r of this.scenarios);for(let r of this.scenarios){r.currentNode=r.nodes[0],r.currentNote=r.notes[0];for(let o of r.nodes)o.parentScenarioId=r.id;for(let o of r.buttons)o.logic||(o.logic=[bt.createLogic(tn.ALWAYS)])}this.currentScenario=i.scenarios[0],this.story=[]}}serialize(){return{scenarios:this.scenarios.map(i=>({id:i.id,label:i.label,characters:i.characters.map(r=>({id:r.id,name:r.name,color:r.color})),variables:i.variables.map(r=>({id:r.id,type:r.type,options:r.options,initialValue:r.initialValue})),nodes:i.nodes.map(r=>({id:r.id,description:r.description,lines:r.lines,buttonIds:r.buttonIds})),buttons:i.buttons.map(r=>({id:r.id,text:r.text,tooltip:r.tooltip,logic:r.logic,disabled:r.disabled,hidden:r.hidden})),notes:i.notes.map(r=>({label:r.label,text:r.text,wordCount:r.wordCount}))}))}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $c=(()=>{let e=class e extends If{constructor(i,r,o,a){super(i),this.http=i,this.injector=r,this.applicationService=o,this.stateService=a,this.delay=new Fc(3e3),this.FIELDS="id,name,mimeType,appProperties",this.FILE_ID="1l3MbDnNr9VKc1aADVATWCYe1tMwLUTp-"}requestAdventure(){return this.getContent(this.FILE_ID)}updateAdventure(i=!1,r=!1){r&&this.injector.get(Bc).renderNotes(),this.applicationService.changes.next(!0);let o=()=>{this.updateContent(this.FILE_ID,JSON.stringify(this.stateService.serialize())).then(a=>{this.applicationService.errors.next(a==null)}).finally(()=>{this.applicationService.changes.next(!1)})};i?(this.delay.stop(),o()):this.delay.restart(()=>o())}};e.\u0275fac=function(r){return new(r||e)(oe(Rl),oe(Jt),oe(hn),oe(fn))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mE=class extends Vc{constructor(e){super(e)}toggle(){this.next(!this.value)}};function Gue(t,e){if(t&1){let n=se();ht(0),I(1,"div",2)(2,"span",3),L(3,"Weight"),E()(),I(4,"div",4)(5,"input",12),Le("ngModelChange",function(r){N(n);let o=M();return je(o.action.weight,r)||(o.action.weight=r),F(r)}),k("input",function(r){N(n);let o=M();return F(o.onWeightChange(r))}),E(),I(6,"i",13),k("click",function(){N(n);let r=M();return F(r.onRemoveActionClick())}),E()(),ft()}if(t&2){let n=M();D(5),Fe("ngModel",n.action.weight)}}function zue(t,e){t&1&&ne(0,"div",8)}function que(t,e){if(t&1&&(I(0,"option",14),L(1),E()),t&2){let n=e.$implicit,i=M();P("ngValue",n.id),D(),na("(",i.getParentScenario(n).label," ",n.description,")")}}function Wue(t,e){if(t&1){let n=se();I(0,"div",4)(1,"input",5),Le("ngModelChange",function(r){let a=N(n).$implicit;return je(a.value,r)||(a.value=r),F(r)}),E(),I(2,"i",15),k("click",function(){let o=N(n).$implicit,a=M();return F(a.removeStoryChange(o))}),E()()}if(t&2){let n=e.$implicit;D(),Fe("ngModel",n.value)}}function Kue(t,e){if(t&1&&(I(0,"option",14),L(1),E()),t&2){let n=e.$implicit;P("ngValue",n.id),D(),ue(n.id)}}function Yue(t,e){if(t&1&&(I(0,"option",14),L(1),E()),t&2){let n=e.$implicit;P("ngValue",n.id),D(),ue(n.value)}}function Que(t,e){if(t&1){let n=se();I(0,"div",4)(1,"select",5),Le("ngModelChange",function(r){let a=N(n).$implicit;return je(a.id,r)||(a.id=r),F(r)}),G(2,Kue,2,2,"option",6),E(),I(3,"select",5),Le("ngModelChange",function(r){let a=N(n).$implicit;return je(a.value,r)||(a.value=r),F(r)}),G(4,Yue,2,2,"option",6),E(),I(5,"i",16),k("click",function(){let o=N(n).$implicit,a=M();return F(a.removeVariableChange(o))}),E()()}if(t&2){let n=e.$implicit,i=M();D(),Fe("ngModel",n.id),D(),P("ngForOf",i.getAvailableVariables()),D(),ze("disabled",!n.id),Fe("ngModel",n.value),D(),P("ngForOf",i.getVariableOptions(n))}}var UH=(()=>{let e=class e{constructor(i,r){this.editorService=i,this.stateService=r,this.removeAction=new Gt}ngOnInit(){}getParentScenario(i){return this.stateService.getScenario(i.parentScenarioId)}getAvailableNodes(){let i=this.stateService.currentScenario.nodes.indexOf(this.stateService.currentScenario.currentNode),r=this.stateService.currentScenario.nodes.filter(a=>this.stateService.currentScenario.nodes.indexOf(a)>i),o=this.stateService.getNodes().filter(a=>!r.includes(a));return r.concat(o)}getAvailableVariables(){let i=this.stateService.currentScenario.variables,r=this.stateService.getVariables().filter(o=>!i.includes(o));return i.concat(r)}getVariableOptions(i){if(i?.id)return this.stateService.getVariable(i.id).options}createVariableChange(){this.action.variableChanges.push({})}removeVariableChange(i){ae.remove(this.action.variableChanges,i)}createStoryChange(){this.action.storyChanges.push({id:null,value:""})}removeStoryChange(i){ae.remove(this.action.storyChanges,i)}onWeightChange(i){let r=i.target;isNaN(r.valueAsNumber)||r.valueAsNumber<=0?(r.valueAsNumber=0,this.action.weight=0):(r.valueAsNumber=Math.floor(r.valueAsNumber),this.action.weight=r.valueAsNumber)}onRemoveActionClick(){this.removeAction.emit(this.action)}createNode(){this.editorService.openDialogueNodeEditor(bt.createDialogueNode(),this.stateService.currentScenario).then(i=>{this.action.nextNodeId=i.id})}};e.\u0275fac=function(r){return new(r||e)(R(dr),R(fn))},e.\u0275cmp=de({type:e,selectors:[["app-action-editor"]],inputs:{action:"action",weightVisible:"weightVisible"},outputs:{removeAction:"removeAction"},standalone:!0,features:[me],decls:21,vars:6,consts:[[4,"ngIf"],["class","h-separator",4,"ngIf"],[1,"section-header"],[1,"section-title"],[1,"section-container"],[3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["tp","Create Node",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"h-separator"],["tp","Create Story Change",1,"icon-button","fa-solid","fa-plus",3,"click"],["class","section-container",4,"ngFor","ngForOf"],["tp","Create Variable Change",1,"icon-button","fa-solid","fa-plus",3,"click"],["type","number",3,"ngModel","ngModelChange","input"],["tp","Remove Action",1,"icon-button","fa-solid","fa-times",3,"click"],[3,"ngValue"],["tp","Remove Story Change",1,"icon-button","fa-solid","fa-times",3,"click"],["tp","Remove Variable Change",1,"icon-button","fa-solid","fa-times",3,"click"]],template:function(r,o){r&1&&(G(0,Gue,7,1,"ng-container",0)(1,zue,1,0,"div",1),I(2,"div",2)(3,"span",3),L(4,"Next Node"),E()(),I(5,"div",4)(6,"select",5),Le("ngModelChange",function(l){return je(o.action.nextNodeId,l)||(o.action.nextNodeId=l),l}),G(7,que,2,3,"option",6),E(),I(8,"i",7),k("click",function(){return o.createNode()}),E()(),ne(9,"div",8),I(10,"div",2)(11,"span",3),L(12,"Story Changes"),E(),I(13,"i",9),k("click",function(){return o.createStoryChange()}),E()(),G(14,Wue,3,1,"div",10),ne(15,"div",8),I(16,"div",2)(17,"span",3),L(18,"Variable Changes"),E(),I(19,"i",11),k("click",function(){return o.createVariableChange()}),E()(),G(20,Que,6,6,"div",10)),r&2&&(P("ngIf",o.weightVisible),D(),P("ngIf",o.weightVisible),D(5),Fe("ngModel",o.action.nextNodeId),D(),P("ngForOf",o.getAvailableNodes()),D(7),P("ngForOf",o.action.storyChanges),D(6),P("ngForOf",o.action.variableChanges))},dependencies:[ye,tt,st,St,Ms,Ps,$t,Fu,to,en,Kt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem;border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   input[type=number][_ngcontent-%COMP%]{border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.3333333333rem;outline:none;color:var(--color-text);background-color:transparent;font-size:inherit;font-weight:inherit;font-family:inherit}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .section-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}select[_ngcontent-%COMP%]{width:100%;border-color:var(--color-border);border-radius:.3333333333rem;color:var(--color-text);padding:2.2px;background-color:transparent;font-family:inherit;font-size:inherit}select[_ngcontent-%COMP%] > option[_ngcontent-%COMP%]{color:var(--color-text);background-color:var(--color-background-primary)}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]});let t=e;return t})();function Jue(t,e){if(t&1&&(I(0,"option"),L(1),E()),t&2){let n=e.$implicit;D(),ue(n)}}function Xue(t,e){if(t&1){let n=se();I(0,"div")(1,"select",3),Le("ngModelChange",function(r){N(n);let o=M();return je(o.logic.operator,r)||(o.logic.operator=r),F(r)}),G(2,Jue,2,1,"option",1),E(),I(3,"i",4),k("click",function(){N(n);let r=M();return F(r.onRemoveLogicClick())}),E()()}if(t&2){let n=M();D(),ze("select-disabled",n.logic.conditions.length==0),Fe("ngModel",n.logic.operator),D(),P("ngForOf",n.getLogicalOperators())}}function Zue(t,e){if(t&1&&(I(0,"option",8),L(1),E()),t&2){let n=e.$implicit;P("ngValue",n),D(),ue(n.id)}}function ede(t,e){if(t&1&&(I(0,"option"),L(1),E()),t&2){let n=e.$implicit;D(),ue(n)}}function tde(t,e){if(t&1&&(I(0,"option",8),L(1),E()),t&2){let n=e.$implicit;P("ngValue",n),D(),ue(n.value)}}function nde(t,e){if(t&1){let n=se();I(0,"div")(1,"select",5),Le("ngModelChange",function(r){N(n);let o=M().$implicit;return je(o.variable,r)||(o.variable=r),F(r)}),G(2,Zue,2,2,"option",6),E(),I(3,"select",3),Le("ngModelChange",function(r){N(n);let o=M().$implicit;return je(o.operator,r)||(o.operator=r),F(r)}),G(4,ede,2,1,"option",1),E(),I(5,"select",5),Le("ngModelChange",function(r){N(n);let o=M().$implicit;return je(o.value,r)||(o.value=r),F(r)}),G(6,tde,2,2,"option",6),E(),I(7,"span",7),k("click",function(){N(n);let r=M().$implicit,o=M();return F(o.onRemoveConditionClick(r))}),E()()}if(t&2){let n=M().$implicit,i=M();D(),Fe("ngModel",n.variable),P("compareWith",i.compareVariables),D(),P("ngForOf",i.stateService.getVariables()),D(),Fe("ngModel",n.operator),D(),P("ngForOf",i.getComparisonOperators()),D(),ze("disabled",!n.variable.id),Fe("ngModel",n.value),P("compareWith",i.compareOptions),D(),P("ngForOf",n.variable.options)}}function ide(t,e){if(t&1){let n=se();I(0,"div")(1,"span",9)(2,"input",10),Le("ngModelChange",function(r){N(n);let o=M().$implicit;return je(o.chance,r)||(o.chance=r),F(r)}),k("input",function(r){N(n);let o=M().$implicit,a=M();return F(a.onChanceChange(o,r))}),E(),L(3,"%"),E(),I(4,"span",7),k("click",function(){N(n);let r=M().$implicit,o=M();return F(o.onRemoveConditionClick(r))}),E()()}if(t&2){let n=M().$implicit;D(2),Fe("ngModel",n.chance)}}function rde(t,e){if(t&1&&(ht(0),G(1,nde,8,10,"div",0)(2,ide,5,1,"div",0),ft()),t&2){let n=e.$implicit,i=M();D(),P("ngIf",i.isVariableCondition(n)),D(),P("ngIf",i.isChanceCondition(n))}}function ode(t,e){if(t&1){let n=se();I(0,"i",13),k("click",function(){N(n);let r=M(2);return F(r.createChanceCheck())}),E()}}function sde(t,e){if(t&1){let n=se();I(0,"div")(1,"i",11),k("click",function(){N(n);let r=M();return F(r.createVariableCheck())}),E(),G(2,ode,1,0,"i",12),E()}if(t&2){let n=M();D(2),P("ngIf",!n.hasChanceCheck())}}function ade(t,e){t&1&&ne(0,"div",14)}function cde(t,e){if(t&1){let n=se();ht(0),I(1,"div",15)(2,"span",16),L(3,"Action"),E(),I(4,"i",17),k("click",function(){N(n);let r=M();return F(r.createAction())}),E()(),I(5,"app-action-editor",18),k("removeAction",function(r){N(n);let o=M();return F(o.onRemoveAction(r))}),E(),ft()}if(t&2){let n=e.$implicit,i=M();D(5),P("action",n)("weightVisible",i.logic.actions.length>1)}}var BH=(()=>{let e=class e{constructor(i){this.stateService=i,this.removeLogic=new Gt}ngOnInit(){}createVariableCheck(){let i=bt.createCondition(tn.EQ);i.variable=bt.createVariable(),this.logic.conditions.push(i)}createChanceCheck(){this.logic.conditions.push(bt.createCondition(tn.CHANCE))}createAction(){this.logic.actions.push(bt.createAction())}isLogicalCondition(i){return this.getLogicalOperators().includes(i?.operator)}isVariableCondition(i){return this.getComparisonOperators().includes(i?.operator)}isChanceCondition(i){return i?.operator==tn.CHANCE}compareVariables(i,r){return i&&r?i.id==r.id:i==r}compareOptions(i,r){return i&&r?i.id==r.id:i==r}onRemoveConditionClick(i){ae.remove(this.logic.conditions,i)}hasChanceCheck(){return this.logic.conditions.some(i=>this.isChanceCondition(i))}onRemoveLogicClick(){this.removeLogic.emit(this.logic)}onRemoveAction(i){ae.remove(this.logic.actions,i)}onChanceChange(i,r){let o=r.target;isNaN(o.valueAsNumber)?(o.value="",i.chance=void 0):o.valueAsNumber<0?(o.valueAsNumber=0,i.chance=0):o.valueAsNumber>100?(o.valueAsNumber=100,i.chance=100):(o.valueAsNumber=Math.floor(o.valueAsNumber),i.chance=o.valueAsNumber)}getLogicalOperators(){return ae.isEmpty(this.logic.conditions)?[tn.ALWAYS]:[tn.AND,tn.OR]}getComparisonOperators(){return[tn.EQ,tn.NEQ]}};e.\u0275fac=function(r){return new(r||e)(R(fn))},e.\u0275cmp=de({type:e,selectors:[["app-logic-editor"]],inputs:{logic:"logic",removable:"removable"},outputs:{removeLogic:"removeLogic"},standalone:!0,features:[me],decls:5,vars:5,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["class","h-separator",4,"ngIf"],[3,"ngModel","ngModelChange"],["tp","Remove Logic",1,"icon-button","fa-solid","fa-times",3,"click"],[3,"ngModel","compareWith","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["tp","Remove Condition",1,"icon-button","fa-solid","fa-times",3,"click"],[3,"ngValue"],[1,"input-percentage-container"],["type","number",3,"ngModel","ngModelChange","input"],[1,"icon-button","fa-solid","fa-question",3,"click"],["class","icon-button fa-solid fa-percent","tp","Chance",3,"click",4,"ngIf"],["tp","Chance",1,"icon-button","fa-solid","fa-percent",3,"click"],[1,"h-separator"],[1,"section-header"],[1,"section-title"],["tp","Create Action",1,"icon-button","fa-solid","fa-plus",3,"click"],[3,"action","weightVisible","removeAction"]],template:function(r,o){r&1&&G(0,Xue,4,4,"div",0)(1,rde,3,2,"ng-container",1)(2,sde,3,1,"div",0)(3,ade,1,0,"div",2)(4,cde,6,2,"ng-container",1),r&2&&(P("ngIf",o.removable),D(),P("ngForOf",o.logic.conditions),D(),P("ngIf",o.removable),D(),P("ngIf",o.removable),D(),P("ngForOf",o.logic.actions))},dependencies:[ye,tt,st,St,Ms,Ps,$t,Fu,to,en,Kt,UH],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}select[_ngcontent-%COMP%]{width:100%;border-color:var(--color-border);border-radius:.3333333333rem;color:var(--color-text);padding:2.2px;background-color:transparent;font-family:inherit;font-size:inherit}select[_ngcontent-%COMP%] > option[_ngcontent-%COMP%]{color:var(--color-text);background-color:var(--color-background-primary)}select.select-disabled[_ngcontent-%COMP%]{padding:0 .3333333333rem;appearance:none;pointer-events:none}.input-percentage-container[_ngcontent-%COMP%]{width:100%;display:flex;border:1px solid var(--color-border);align-items:center;border-radius:.3333333333rem;padding:.3333333333rem}.input-percentage-container[_ngcontent-%COMP%] > input[type=number][_ngcontent-%COMP%]{width:100%;padding:0;border:none;outline:none;color:var(--color-text);background-color:transparent;font-size:inherit;font-weight:inherit;font-family:inherit}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]});let t=e;return t})();function lde(t,e){if(t&1){let n=se();I(0,"app-logic-editor",6),k("removeLogic",function(r){N(n);let o=M();return F(o.onRemoveLogic(r))}),E()}if(t&2){let n=e.$implicit,i=e.index;P("logic",n)("removable",i>0)}}var $H=(()=>{let e=class e extends Ut{constructor(i){super(),this.dialogService=i,this.configuration={title:"Button Editor",buttons:[{text:()=>"Done",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableButton=bt.createButton(),this.sourceButton&&(this.editableButton.text=this.sourceButton.text,this.editableButton.tooltip=this.sourceButton.tooltip,this.editableButton.logic=this.sourceButton.logic,this.editableButton.disabled=this.sourceButton.disabled,this.editableButton.hidden=this.sourceButton.hidden)}createLogicEntry(){this.editableButton.logic.push(bt.createLogic(tn.ALWAYS))}onRemoveLogic(i){ae.isEmpty(i.conditions)&&i.actions.every(r=>ae.isEmpty(r.storyChanges)&&ae.isEmpty(r.variableChanges))?ae.remove(this.editableButton.logic,i):this.dialogService.createConfirmation("Remove Logic Entry",["Are you sure you want to remove this logic entry?"],"Yes","No").then(r=>{r&&ae.remove(this.editableButton.logic,i)})}canSubmit(){return!At.isEmpty(this.editableButton.text)}submit(){if(this.canSubmit()){this.sourceButton.text=this.editableButton.text,this.sourceButton.tooltip=this.editableButton.tooltip;for(let i of this.editableButton.logic)for(let r of i.actions)r.storyChanges=r.storyChanges.filter(o=>!At.isEmpty(o.value)),r.variableChanges=r.variableChanges.filter(o=>!At.isEmpty(o.value));this.sourceButton.logic=this.editableButton.logic,this.sourceButton.hidden=bt.createCondition(tn.NEVER),this.sourceButton.disabled=bt.createCondition(tn.NEVER),this.resolve(this.sourceButton)}}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(R(Bt))},e.\u0275cmp=de({type:e,selectors:[["app-button-editor"]],inputs:{sourceButton:"sourceButton"},standalone:!0,features:[wt,me],decls:15,vars:3,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"],["tp","Create Logic",1,"icon-button","fa-solid","fa-plus",3,"click"],[3,"logic","removable","removeLogic",4,"ngFor","ngForOf"],[3,"logic","removable","removeLogic"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"span",1),L(2,"Text"),E()(),I(3,"input",2),Le("ngModelChange",function(l){return je(o.editableButton.text,l)||(o.editableButton.text=l),l}),E(),ne(4,"div",3),I(5,"div",0)(6,"span",1),L(7,"Tooltip"),E()(),I(8,"input",2),Le("ngModelChange",function(l){return je(o.editableButton.tooltip,l)||(o.editableButton.tooltip=l),l}),E(),ne(9,"div",3),I(10,"div",0)(11,"span",1),L(12,"Logic"),E(),I(13,"i",4),k("click",function(){return o.createLogicEntry()}),E()(),G(14,lde,1,2,"app-logic-editor",5)),r&2&&(D(3),Fe("ngModel",o.editableButton.text),D(5),Fe("ngModel",o.editableButton.tooltip),D(6),P("ngForOf",o.editableButton.logic))},dependencies:[ye,tt,St,$t,en,Kt,BH],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.3333333333rem}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-element[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();var HH=(()=>{let e=class e extends Ut{constructor(){super(),this.configuration={title:"Character Editor",buttons:[{text:()=>"Done",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableCharacter=bt.createCharacter(),this.sourceCharacter&&(this.editableCharacter.id=this.sourceCharacter.id,this.editableCharacter.name=this.sourceCharacter.name,this.editableCharacter.color=this.sourceCharacter.color)}canSubmit(){return!(At.isEmpty(this.editableCharacter.id)||At.isEmpty(this.editableCharacter.name)||At.isEmpty(this.editableCharacter.color))}submit(){this.canSubmit()&&(this.sourceCharacter.id=this.editableCharacter.id,this.sourceCharacter.name=this.editableCharacter.name,this.sourceCharacter.color=this.editableCharacter.color,this.resolve(this.sourceCharacter))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=de({type:e,selectors:[["app-character-editor"]],inputs:{sourceCharacter:"sourceCharacter"},standalone:!0,features:[wt,me],decls:14,vars:3,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"span",1),L(2,"ID"),E()(),I(3,"input",2),Le("ngModelChange",function(l){return je(o.editableCharacter.id,l)||(o.editableCharacter.id=l),l}),E(),ne(4,"div",3),I(5,"div",0)(6,"span",1),L(7,"Name"),E()(),I(8,"input",2),Le("ngModelChange",function(l){return je(o.editableCharacter.name,l)||(o.editableCharacter.name=l),l}),E(),ne(9,"div",3),I(10,"div",0)(11,"span",1),L(12,"Color"),E()(),I(13,"input",2),Le("ngModelChange",function(l){return je(o.editableCharacter.color,l)||(o.editableCharacter.color=l),l}),E()),r&2&&(D(3),Fe("ngModel",o.editableCharacter.id),D(5),Fe("ngModel",o.editableCharacter.name),D(5),Fe("ngModel",o.editableCharacter.color))},dependencies:[ye,St,$t,en,Kt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}"]});let t=e;return t})();function ude(t,e){if(t&1&&(I(0,"option",6),L(1),E()),t&2){let n=e.$implicit;P("ngValue",n.id),D(),na("",n.id," (",n.name,")")}}var GH=(()=>{let e=class e extends Ut{constructor(i,r){super(),this.editorService=i,this.stateService=r,this.configuration={title:"Dialogue Line Editor",buttons:[{text:()=>"Done",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableLine=bt.createDialogueLine(),this.sourceLine&&(this.editableLine.characterId=this.sourceLine.characterId,this.editableLine.text=this.sourceLine.text)}openCharacterEditor(){this.editorService.openCharacterEditor(bt.createCharacter(),this.stateService.currentScenario)}getCharacters(){return this.stateService.currentScenario.characters}canSubmit(){return!(At.isEmpty(this.editableLine.characterId)||At.isEmpty(this.editableLine.text))}submit(){this.canSubmit()&&(this.sourceLine.characterId=this.editableLine.characterId,this.sourceLine.text=this.editableLine.text,this.resolve(this.sourceLine))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(R(dr),R(fn))},e.\u0275cmp=de({type:e,selectors:[["app-dialogue-line-editor"]],inputs:{sourceLine:"sourceLine"},standalone:!0,features:[wt,me],decls:11,vars:3,consts:[[1,"section-header"],[1,"section-title"],["tp","Create Character",1,"icon-button","fa-solid","fa-plus",3,"click"],[3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"h-separator"],[3,"ngValue"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"span",1),L(2,"Character"),E(),I(3,"i",2),k("click",function(){return o.openCharacterEditor()}),E()(),I(4,"select",3),Le("ngModelChange",function(l){return je(o.editableLine.characterId,l)||(o.editableLine.characterId=l),l}),G(5,ude,2,3,"option",4),E(),ne(6,"div",5),I(7,"div",0)(8,"span",1),L(9,"Text"),E()(),I(10,"input",3),Le("ngModelChange",function(l){return je(o.editableLine.text,l)||(o.editableLine.text=l),l}),E()),r&2&&(D(4),Fe("ngModel",o.editableLine.characterId),D(),P("ngForOf",o.getCharacters()),D(5),Fe("ngModel",o.editableLine.text))},dependencies:[ye,tt,St,Ms,Ps,$t,to,en,Kt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.3333333333rem}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-element[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();function dde(t,e){if(t&1){let n=se();I(0,"div",7)(1,"span",8),L(2),E(),I(3,"div",9)(4,"i",10),k("click",function(){let o=N(n).$implicit,a=M();return F(a.openDialogueLineEditor(o))}),E(),I(5,"i",11),k("click",function(){let o=N(n).$implicit,a=M();return F(a.deleteDialogueLine(o))}),E()()()}if(t&2){let n=e.$implicit,i=M();D(2),na("",i.stateService.getCharacter(n.characterId).id,": ",n.text,"")}}function hde(t,e){if(t&1){let n=se();I(0,"div",7)(1,"span",8),L(2),E(),I(3,"div",9)(4,"i",12),k("click",function(){let o=N(n).$implicit,a=M();return F(a.openButtonEditor(o))}),E(),I(5,"i",13),k("click",function(){let o=N(n).$implicit,a=M();return F(a.deleteButton(o))}),E()()()}if(t&2){let n=e.$implicit,i=M();D(2),ue(i.stateService.getButton(n).text)}}var zH=(()=>{let e=class e extends Ut{constructor(i,r,o){super(),this.dialogService=i,this.editorService=r,this.stateService=o,this.configuration={title:"Dialogue Node Editor",buttons:[{text:()=>"Done",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableNode=bt.createDialogueNode(),this.sourceNode&&(this.editableNode.description=this.sourceNode.description,this.editableNode.lines=[...this.sourceNode.lines],this.editableNode.buttonIds=[...this.sourceNode.buttonIds])}getAvailableButtons(){return this.stateService.getButtons().filter(i=>!this.editableNode.buttonIds.includes(i.id))}openDialogueLineEditor(i=bt.createDialogueLine()){this.editorService.openDialogueLineEditor(i,this.editableNode)}deleteDialogueLine(i){this.dialogService.createConfirmation("Remove Dialogue Line",["Remove dialogue line "+i.text,"Are you sure?"],"Yes","No").then(r=>{r&&ae.remove(this.editableNode.lines,i)})}openButtonEditor(i){this.editorService.openButtonEditor(i?this.stateService.getButton(i):bt.createButton(),this.stateService.getScenario(this.editableNode.parentScenarioId),this.editableNode)}deleteButton(i){let r=this.stateService.getButton(i);this.dialogService.createConfirmation("Remove Button",["Remove button "+r.text,"Are you sure?"],"Yes","No").then(o=>{o&&ae.remove(this.editableNode.buttonIds,i)})}canSubmit(){return!(At.isEmpty(this.editableNode.description)||ae.isEmpty(this.editableNode.lines)||ae.isEmpty(this.editableNode.buttonIds))}submit(){this.canSubmit()&&(this.sourceNode.description=this.editableNode.description,this.sourceNode.lines=this.editableNode.lines,this.sourceNode.buttonIds=this.editableNode.buttonIds,this.resolve(this.sourceNode))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(R(Bt),R(dr),R(fn))},e.\u0275cmp=de({type:e,selectors:[["app-dialogue-node-editor"]],inputs:{sourceNode:"sourceNode"},standalone:!0,features:[wt,me],decls:16,vars:3,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"],["tp","Create Dialogue Line",1,"icon-button","fa-solid","fa-plus",3,"click"],["class","list-container",4,"ngFor","ngForOf"],["tp","Create Button",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"list-container"],[1,"list-element"],[1,"section-buttons"],["tp","Edit Dialogue Line",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Dialogue Line",1,"icon-button","fa-solid","fa-trash",3,"click"],["tp","Edit Button",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Button",1,"icon-button","fa-solid","fa-trash",3,"click"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"span",1),L(2,"Description"),E()(),I(3,"input",2),Le("ngModelChange",function(l){return je(o.editableNode.description,l)||(o.editableNode.description=l),l}),E(),ne(4,"div",3),I(5,"div",0)(6,"span",1),L(7,"Lines"),E(),I(8,"i",4),k("click",function(){return o.openDialogueLineEditor()}),E()(),G(9,dde,6,2,"div",5),ne(10,"div",3),I(11,"div",0)(12,"span",1),L(13,"Buttons"),E(),I(14,"i",6),k("click",function(){return o.openButtonEditor()}),E()(),G(15,hde,6,1,"div",5)),r&2&&(D(3),Fe("ngModel",o.editableNode.description),D(6),P("ngForOf",o.editableNode.lines),D(6),P("ngForOf",o.editableNode.buttonIds))},dependencies:[ye,tt,St,$t,en,Kt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.3333333333rem}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-element[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();var gE=(()=>{let e=class e{constructor(i){let r=i.element.nativeElement;r.draggable=!0,r.ondragstart=()=>e.onDragStart(this.array,this.array.indexOf(this.object)),r.ondragenter=()=>e.onDragEnter(this.array,this.array.indexOf(this.object)),r.ondragend=()=>e.onDragEnd(this.array),r.ondragover=o=>o.preventDefault()}static onDragStart(i,r){this.currentArray==null&&this.currentIndex==null&&(this.currentArray=i,this.currentIndex=r)}static onDragEnter(i,r){this.currentArray==i&&this.currentIndex!=r&&(this.currentArray.splice(r,0,this.currentArray.splice(this.currentIndex,1)[0]),this.currentIndex=r)}static onDragEnd(i){this.currentArray==i&&(this.currentArray=null,this.currentIndex=null)}};e.\u0275fac=function(r){return new(r||e)(R(wi))},e.\u0275dir=xt({type:e,selectors:[["","dragdrop",""]],inputs:{object:[xe.None,"dragdrop","object"],array:[xe.None,"dragdropParent","array"]},standalone:!0});let t=e;return t})();function fde(t,e){if(t&1){let n=se();I(0,"div",8)(1,"span",9),L(2),E(),I(3,"div",10)(4,"i",11),k("click",function(){let o=N(n).$implicit,a=M();return F(a.openCharacterEditor(o))}),E(),I(5,"i",12),k("click",function(){let o=N(n).$implicit,a=M();return F(a.deleteCharacter(o))}),E()()()}if(t&2){let n=e.$implicit,i=M();P("dragdrop",n)("dragdropParent",i.editableScenario.characters),D(2),na("",n.id," (",n.name,")")}}function pde(t,e){if(t&1){let n=se();I(0,"div",8)(1,"span",9),L(2),E(),I(3,"div",10)(4,"i",13),k("click",function(){let o=N(n).$implicit,a=M();return F(a.openVariableEditor(o))}),E(),I(5,"i",14),k("click",function(){let o=N(n).$implicit,a=M();return F(a.deleteVariable(o))}),E()()()}if(t&2){let n=e.$implicit,i=M();P("dragdrop",n)("dragdropParent",i.editableScenario.variables),D(2),ue(n.id)}}function mde(t,e){if(t&1){let n=se();I(0,"div",8)(1,"span",9),L(2),E(),I(3,"div",10)(4,"i",15),k("click",function(){let o=N(n).$implicit,a=M();return F(a.openNodeEditor(o))}),E(),I(5,"i",16),k("click",function(){let o=N(n).$implicit,a=M();return F(a.deleteNode(o))}),E()()()}if(t&2){let n=e.$implicit,i=M();P("dragdrop",n)("dragdropParent",i.editableScenario.nodes),D(2),ue(n.description)}}var qH=(()=>{let e=class e extends Ut{constructor(i,r,o){super(),this.dialogService=i,this.editorService=r,this.stateService=o,this.configuration={title:"Scenario Editor",buttons:[{text:()=>"Done",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableScenario=bt.createScenario(),this.sourceScenario&&(this.editableScenario.label=this.sourceScenario.label,this.editableScenario.characters=[...this.sourceScenario.characters],this.editableScenario.variables=[...this.sourceScenario.variables],this.editableScenario.nodes=[...this.sourceScenario.nodes])}openCharacterEditor(i=bt.createCharacter()){this.editorService.openCharacterEditor(i,this.editableScenario)}deleteCharacter(i){this.dialogService.createConfirmation("Remove Character",["Remove character "+i.name,"Are you sure?"],"Yes","No").then(r=>{r&&ae.remove(this.editableScenario.characters,i)})}openVariableEditor(i=bt.createVariable()){this.editorService.openVariableEditor(i,this.editableScenario)}deleteVariable(i){this.dialogService.createConfirmation("Remove Variable",["Remove variable "+i.id,"Are you sure?"],"Yes","No").then(r=>{if(r){for(let o of this.editableScenario.buttons)for(let a of o.logic)for(let l of a.actions)if(l.variableChanges.some(d=>d.id==i.id)){alert("Variable '"+i.id+"' is used in button '"+o.text+"'.");return}ae.remove(this.editableScenario.variables,i)}})}openNodeEditor(i=bt.createDialogueNode()){this.editorService.openDialogueNodeEditor(i,this.editableScenario)}deleteNode(i){this.dialogService.createConfirmation("Remove Variable",["Remove variable "+i.description,"Are you sure?"],"Yes","No").then(r=>{r&&ae.remove(this.editableScenario.nodes,i)})}openButtonEditor(i=bt.createButton()){this.editorService.openButtonEditor(i,this.editableScenario)}deleteButton(i){this.dialogService.createConfirmation("Remove Button",["Remove button "+i.text,"Are you sure?"],"Yes","No").then(r=>{r&&(this.stateService.getNodes().forEach(o=>ae.remove(o.buttonIds,i.id)),ae.remove(this.editableScenario.buttons,i))})}canSubmit(){return!At.isEmpty(this.editableScenario.label)}submit(){this.canSubmit()&&(this.sourceScenario.label=this.editableScenario.label,this.sourceScenario.characters=this.editableScenario.characters,this.sourceScenario.variables=this.editableScenario.variables,this.sourceScenario.nodes=this.editableScenario.nodes,this.resolve(this.sourceScenario))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(R(Bt),R(dr),R(fn))},e.\u0275cmp=de({type:e,selectors:[["app-scenario-editor"]],inputs:{sourceScenario:"sourceScenario"},standalone:!0,features:[wt,me],decls:22,vars:4,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"],["tp","Create Character",1,"icon-button","fa-solid","fa-plus",3,"click"],["class","list-container",3,"dragdrop","dragdropParent",4,"ngFor","ngForOf"],["tp","Create Variable",1,"icon-button","fa-solid","fa-plus",3,"click"],["tp","Create Node",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"list-container",3,"dragdrop","dragdropParent"],[1,"list-element"],[1,"section-buttons"],["tp","Edit Character",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Character",1,"icon-button","fa-solid","fa-trash",3,"click"],["tp","Edit Variable",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Variable",1,"icon-button","fa-solid","fa-trash",3,"click"],["tp","Edit Node",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Node",1,"icon-button","fa-solid","fa-trash",3,"click"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"span",1),L(2,"Label"),E()(),I(3,"input",2),Le("ngModelChange",function(l){return je(o.editableScenario.label,l)||(o.editableScenario.label=l),l}),E(),ne(4,"div",3),I(5,"div",0)(6,"span",1),L(7,"Characters"),E(),I(8,"i",4),k("click",function(){return o.openCharacterEditor()}),E()(),G(9,fde,6,4,"div",5),ne(10,"div",3),I(11,"div",0)(12,"span",1),L(13,"Variables"),E(),I(14,"i",6),k("click",function(){return o.openVariableEditor()}),E()(),G(15,pde,6,3,"div",5),ne(16,"div",3),I(17,"div",0)(18,"span",1),L(19,"Nodes"),E(),I(20,"i",7),k("click",function(){return o.openNodeEditor()}),E()(),G(21,mde,6,3,"div",5)),r&2&&(D(3),Fe("ngModel",o.editableScenario.label),D(6),P("ngForOf",o.editableScenario.characters),D(6),P("ngForOf",o.editableScenario.variables),D(6),P("ngForOf",o.editableScenario.nodes))},dependencies:[ye,tt,St,$t,en,Kt,gE],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.3333333333rem;cursor:grab;border-radius:.3333333333rem}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-element[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();var Pr=function(t){return t.BOOLEAN="Boolean",t.NUMBER="Number",t.ENUM="Enum",t}(Pr||{});function gde(t,e){if(t&1&&(I(0,"option"),L(1),E()),t&2){let n=e.$implicit;D(),ue(n)}}function vde(t,e){if(t&1){let n=se();I(0,"div",9)(1,"input",2),Le("ngModelChange",function(r){let a=N(n).$implicit;return je(a.value,r)||(a.value=r),F(r)}),E(),I(2,"i",10),k("click",function(){let o=N(n).$implicit,a=M(2);return F(a.removeOption(o))}),E()()}if(t&2){let n=e.$implicit;D(),Fe("ngModel",n.value)}}function yde(t,e){if(t&1){let n=se();ht(0),ne(1,"div",3),I(2,"div",6)(3,"div",0)(4,"span",1),L(5,"Options"),E(),I(6,"i",7),k("click",function(){N(n);let r=M();return F(r.createOption())}),E()(),G(7,vde,3,1,"div",8),E(),ft()}if(t&2){let n=M();D(7),P("ngForOf",n.editableVariable.options)}}function _de(t,e){if(t&1){let n=se();ht(0),I(1,"select",2),Le("ngModelChange",function(r){N(n);let o=M();return je(o.editableVariable.initialValue,r)||(o.editableVariable.initialValue=r),F(r)}),I(2,"option",11),L(3,"True"),E(),I(4,"option",12),L(5,"False"),E()(),ft()}if(t&2){let n=M();D(),Fe("ngModel",n.editableVariable.initialValue)}}function wde(t,e){if(t&1){let n=se();ht(0),I(1,"input",13),Le("ngModelChange",function(r){N(n);let o=M();return je(o.editableVariable.initialValue,r)||(o.editableVariable.initialValue=r),F(r)}),E(),ft()}if(t&2){let n=M();D(),Fe("ngModel",n.editableVariable.initialValue)}}function bde(t,e){if(t&1&&(I(0,"option",16),L(1),E()),t&2){let n=e.$implicit;P("value",n.value),D(),ue(n.value)}}function Cde(t,e){if(t&1){let n=se();ht(0),I(1,"select",2),Le("ngModelChange",function(r){N(n);let o=M();return je(o.editableVariable.initialValue,r)||(o.editableVariable.initialValue=r),F(r)}),ne(2,"option",14),G(3,bde,2,2,"option",15),E(),ft()}if(t&2){let n=M();D(),Fe("ngModel",n.editableVariable.initialValue),D(2),P("ngForOf",n.editableVariable.options)}}var WH=(()=>{let e=class e extends Ut{constructor(i,r){super(),this.dialogService=i,this.stateService=r,this.configuration={title:"Variable Editor",buttons:[{text:()=>"Done",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableVariable=bt.createVariable(),this.sourceVariable?(this.editableVariable.id=this.sourceVariable.id,this.editableVariable.type=this.sourceVariable.type,this.editableVariable.options=this.sourceVariable.options):this.editableVariable.type=Pr.ENUM}createOption(){this.editableVariable.options.push({value:""})}removeOption(i){At.isEmpty(i.value)?ae.remove(this.editableVariable.options,i):this.dialogService.createConfirmation("Remove Option",["Remove option "+i.value,"Are you sure?"],"Yes","No").then(r=>{r&&ae.remove(this.editableVariable.options,i)})}getVariableTypes(){return Object.values(Pr)}onVariableTypeChange(i){switch(i){case Pr.BOOLEAN:this.editableVariable.initialValue="false";break;case Pr.NUMBER:this.editableVariable.initialValue="0";break;case Pr.ENUM:this.editableVariable.initialValue=null;break}}processVariableChange(){for(let i of this.stateService.getButtons())for(let r of i.logic)for(let o of r.actions)for(let a of o.variableChanges)a.id==this.sourceVariable.id&&(a.id=this.editableVariable.id)}canSubmit(){if(At.isEmpty(this.editableVariable.id)||At.isEmpty(this.editableVariable.type))return!1;switch(this.editableVariable.type){case Pr.BOOLEAN:if(At.isEmpty(this.editableVariable.initialValue))return!1;break;case Pr.NUMBER:if(this.editableVariable.initialValue==null||this.editableVariable.initialValue.length==0)return!1;break;case Pr.ENUM:if(!this.editableVariable.options.some(i=>i.value))return!1;break}return!0}submit(){if(this.canSubmit()){switch(this.sourceVariable.id&&this.processVariableChange(),this.sourceVariable.id=this.editableVariable.id,this.sourceVariable.type=this.editableVariable.type,this.editableVariable.type){case Pr.BOOLEAN:case Pr.NUMBER:this.sourceVariable.options.length=0;break;case Pr.ENUM:this.sourceVariable.options=this.editableVariable.options.filter(i=>!At.isEmpty(i.value));break}this.sourceVariable.initialValue=this.editableVariable.initialValue,this.resolve(this.sourceVariable)}}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(R(Bt),R(fn))},e.\u0275cmp=de({type:e,selectors:[["app-variable-editor"]],inputs:{sourceVariable:"sourceVariable"},standalone:!0,features:[wt,me],decls:18,vars:7,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"options-container"],["tp","Create Option",1,"icon-button","fa-solid","fa-plus",3,"click"],["class","option-container",4,"ngFor","ngForOf"],[1,"option-container"],["tp","Remove Option",1,"icon-button","fa-solid","fa-times",3,"click"],["value","true"],["value","false"],["type","number",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"span",1),L(2,"ID"),E()(),I(3,"input",2),Le("ngModelChange",function(l){return je(o.editableVariable.id,l)||(o.editableVariable.id=l),l}),E(),ne(4,"div",3),I(5,"div",0)(6,"span",1),L(7,"Type"),E()(),I(8,"select",2),Le("ngModelChange",function(l){return je(o.editableVariable.type,l)||(o.editableVariable.type=l),l}),k("ngModelChange",function(l){return o.onVariableTypeChange(l)}),G(9,gde,2,1,"option",4),E(),G(10,yde,8,1,"ng-container",5),ne(11,"div",3),I(12,"div",0)(13,"span",1),L(14,"Initial Value"),E()(),G(15,_de,6,1,"ng-container",5)(16,wde,2,1,"ng-container",5)(17,Cde,4,2,"ng-container",5)),r&2&&(D(3),Fe("ngModel",o.editableVariable.id),D(5),Fe("ngModel",o.editableVariable.type),D(),P("ngForOf",o.getVariableTypes()),D(),P("ngIf",o.editableVariable.type=="Enum"),D(5),P("ngIf",o.editableVariable.type=="Boolean"),D(),P("ngIf",o.editableVariable.type=="Number"),D(),P("ngIf",o.editableVariable.type=="Enum"))},dependencies:[ye,tt,st,St,Ms,Ps,$t,Fu,to,en,Kt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .options-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;gap:.3333333333rem}[_nghost-%COMP%]   .options-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .options-container[_ngcontent-%COMP%]   .option-container[_ngcontent-%COMP%]{display:flex;gap:6px}"]});let t=e;return t})();var dr=(()=>{let e=class e{constructor(i,r,o){this.googleService=i,this.stateService=r,this.dialogService=o,this.sidebarVisible=new mE(!0),this.storyVisible=!1,this.flowchartVisible=!1}openScenarioEditor(i){return C(this,null,function*(){this.stateService.currentScenario=i;let r=yield this.dialogService.create(qH,{sourceScenario:i});return r&&(this.stateService.scenarios.includes(r)||this.stateService.scenarios.push(r),this.googleService.updateAdventure()),r})}openCharacterEditor(i,r){return C(this,null,function*(){let o=yield this.dialogService.create(HH,{sourceCharacter:i});return o&&r&&!r.characters.includes(o)&&r.characters.push(o),o})}openVariableEditor(i,r){return C(this,null,function*(){let o=yield this.dialogService.create(WH,{sourceVariable:i});return o&&r&&!r.variables.includes(o)&&r.variables.push(o),o})}openDialogueNodeEditor(i,r){return C(this,null,function*(){let o=yield this.dialogService.create(zH,{sourceNode:i});return o&&(r.nodes.includes(o)||(o.parentScenarioId=r.id,r.nodes.push(o))),o})}openDialogueLineEditor(i,r){return C(this,null,function*(){let o=yield this.dialogService.create(GH,{sourceLine:i});return o&&(r.lines.includes(o)||r.lines.push(o)),o})}openButtonEditor(i,r,o){return C(this,null,function*(){let a=yield this.dialogService.create($H,{sourceButton:i});return a&&(r.buttons.find(l=>l.id==a.id)||r.buttons.push(a),o&&(o.buttonIds.find(l=>l==a.id)||o.buttonIds.push(a.id))),a})}};e.\u0275fac=function(r){return new(r||e)(oe($c),oe(fn),oe(Bt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ede(t,e){if(t&1){let n=se();ht(0),I(1,"input",2),Le("ngModelChange",function(r){N(n);let o=M().ngVar;return je(o.label,r)||(o.label=r),F(r)}),k("input",function(){N(n);let r=M(2);return F(r.googleService.updateAdventure())}),E(),I(2,"textarea",3),Le("ngModelChange",function(r){N(n);let o=M().ngVar;return je(o.text,r)||(o.text=r),F(r)}),k("input",function(){N(n);let r=M(2);return F(r.onNoteInput())})("onCreate",function(r){N(n);let o=M(2);return F(o.initTab(r))}),E(),ft()}if(t&2){let n=M().ngVar;D(),Fe("ngModel",n.label),D(),Fe("ngModel",n.text)}}function Ide(t,e){if(t&1&&(ht(0),G(1,Ede,3,2,"ng-container",1),ft()),t&2){let n=e.ngVar;D(),P("ngIf",n)}}var KH=(()=>{let e=class e{constructor(i,r,o,a,l){this.googleService=i,this.applicationService=r,this.adventureService=o,this.graphService=a,this.stateService=l,this.applicationService.loading.next(!0)}ngOnInit(){this.adventureService.sidebarVisible.subscribe(i=>this.sideMargins=!i)}initTab(i){let r=this;i.nativeElement.addEventListener("keydown",function(o){if(o.key=="Tab"){o.preventDefault();let a=this.selectionStart,l=this.selectionEnd;this.value=this.value.substring(0,a)+"	"+this.value.substring(l),this.selectionStart=this.selectionEnd=a+1,r.onNoteInput()}})}onNoteInput(){let i=this.stateService.getCurrentNote();i.wordCount=At.getWordCount(i.text),this.googleService.updateAdventure(),i.label=="Flowchart"&&this.graphService.renderNotes()}noteContentCutLine(i){if(i.ctrlKey&&i.code=="KeyX"){let r=document.getElementsByClassName("note-content")[0];if(r.selectionEnd==r.selectionStart){let o=this.stateService.getCurrentNote(),a=o.text,l=a.substring(0,r.selectionEnd).lastIndexOf(`
`)+1,d=a.indexOf(`
`,r.selectionEnd)+1;navigator.clipboard.writeText(a.substring(l,d)),o.text=a.substring(0,l)+a.substring(d==0?a.length:d),o.wordCount=At.getWordCount(o.text),setTimeout(()=>r.setSelectionRange(l,l)),this.googleService.updateAdventure()}}}};e.\u0275fac=function(r){return new(r||e)(R($c),R(hn),R(dr),R(Bc),R(fn))},e.\u0275cmp=de({type:e,selectors:[["app-notes"]],hostVars:2,hostBindings:function(r,o){r&1&&k("keydown",function(l){return o.noteContentCutLine(l)},!1,rn),r&2&&ze("side-margins",o.sideMargins)},standalone:!0,features:[me],decls:1,vars:1,consts:[[4,"ngVar"],[4,"ngIf"],["placeholder","Title",1,"note-title",3,"ngModel","ngModelChange","input"],["placeholder","Text",1,"note-content",3,"ngModel","ngModelChange","input","onCreate"]],template:function(r,o){r&1&&G(0,Ide,2,1,"ng-container",0),r&2&&P("ngVar",o.stateService.getCurrentNote())},dependencies:[ye,st,St,$t,en,Kt,Os,Tf],styles:["[_nghost-%COMP%]{flex:1;min-width:50%;display:flex;flex-direction:column;justify-content:center;position:relative;padding:0 .3333333333rem;transition-property:margin;transition-duration:.5s}.side-margins[_nghost-%COMP%]{margin:0 25%}[_nghost-%COMP%]   .note-title[_ngcontent-%COMP%]{min-width:100px;border:0;border-radius:0;padding-left:0;border-bottom:1px solid var(--color-border)}[_nghost-%COMP%]   .note-content[_ngcontent-%COMP%]{flex:1;resize:none;border:none;padding:.1666666667rem 0}"]});let t=e;return t})();function Sde(t,e){if(t&1){let n=se();I(0,"div",18),k("click",function(){let o=N(n).$implicit,a=M(2).$implicit,l=M();return F(l.setCurrentNote(a,o))})("dragend",function(){N(n);let r=M(3);return F(r.googleService.updateAdventure())}),I(1,"span",19),L(2),E(),I(3,"div",20)(4,"span",21),L(5),E(),I(6,"div",22)(7,"i",23),k("click",function(){let o=N(n).$implicit,a=M(2).$implicit,l=M();return F(l.removeNote(a,o))}),E()()()()}if(t&2){let n=e.$implicit,i=M(2).$implicit,r=M();P("dragdrop",n)("dragdropParent",i.notes),D(),ze("highlight",n==r.stateService.currentScenario.currentNote),D(),ue(n.label),D(3),ue(n.wordCount)}}function Tde(t,e){if(t&1&&(I(0,"div",16),G(1,Sde,8,6,"div",17),E()),t&2){let n=M().$implicit;P("@drawer",void 0),D(),P("ngForOf",n.notes)}}function Dde(t,e){if(t&1){let n=se();I(0,"div",6)(1,"div",7),k("click",function(){let o=N(n).$implicit,a=M();return F(a.setCurrentScenario(o))})("dragend",function(){N(n);let r=M();return F(r.googleService.updateAdventure())}),I(2,"span",8),L(3),E(),I(4,"div",9)(5,"span",10),L(6),E(),I(7,"div",11)(8,"i",12),k("click",function(){let o=N(n).$implicit,a=M();return F(a.createNote(o))}),E(),I(9,"i",13),k("click",function(){let o=N(n).$implicit,a=M();return F(a.openScenarioEditor(o))}),E(),I(10,"i",14),k("click",function(){let o=N(n).$implicit,a=M();return F(a.removeScenario(o))}),E()()()(),G(11,Tde,2,2,"div",15),E()}if(t&2){let n=e.$implicit,i=M();D(),P("dragdrop",n)("dragdropParent",i.stateService.scenarios),D(),ze("highlight",n==i.stateService.currentScenario),D(),ue(n.label),D(3),ue(i.getNotesWordCount(n)),D(5),P("ngIf",i.stateService.currentScenario==n)}}var YH=(()=>{let e=class e{constructor(i,r,o,a,l){this.editorService=i,this.graphService=r,this.dialogService=o,this.googleService=a,this.stateService=l}ngOnInit(){}setCurrentNote(i,r){this.setCurrentScenario(i),this.stateService.currentScenario.currentNote=r}setCurrentScenario(i){this.stateService.currentScenario=i,Wt.isLargeScreen()||this.editorService.sidebarVisible.next(!1),ae.isEmpty(i.nodes)||(i.currentNode=i.nodes[0]),this.graphService.renderNotes()}setRandom(){let i=ae.getRandom(this.stateService.scenarios,[this.stateService.currentScenario]),r=ae.getRandom(i.notes);this.setCurrentNote(i,r),document.querySelector(".content-container").children[this.stateService.scenarios.indexOf(i)].children[1].children[i.notes.indexOf(r)].scrollIntoView({block:"center",behavior:"smooth"})}removeScenario(i){this.dialogService.createConfirmation("Delete Scenario",['Do you really want to delete "'+i.label+'"?'],"Yes","No").then(r=>{r&&(i==this.stateService.currentScenario&&this.setCurrentScenario(ae.nearestRightFirst(this.stateService.scenarios,this.stateService.scenarios.indexOf(i))),ae.remove(this.stateService.scenarios,i),this.googleService.updateAdventure())})}openScenarioEditor(i=bt.createScenario()){this.editorService.openScenarioEditor(i)}getNotesWordCount(i){let r=i.notes.flatMap(o=>o.wordCount).reduce((o,a)=>o+a,0);return r>0?r+"":""}createNote(i){i.notes||(i.notes=[]);let r={label:"New Note",text:"",wordCount:0};i.notes.push(r),i.currentNote=r,this.googleService.updateAdventure()}removeNote(i,r){let o=i.notes;this.dialogService.createConfirmation("Delete Note",['Do you really want to delete "'+r.label+'"?'],"Yes","No").then(a=>{a&&(i.currentNote=ae.nearestRightFirst(o,o.indexOf(r)),ae.remove(o,r),this.googleService.updateAdventure())})}};e.\u0275fac=function(r){return new(r||e)(R(dr),R(Bc),R(Bt),R($c),R(fn))},e.\u0275cmp=de({type:e,selectors:[["app-scenario-browser"]],standalone:!0,features:[me],decls:6,vars:1,consts:[[1,"content-container","y-scrollbar-container"],["class","scenario-container",4,"ngFor","ngForOf"],[1,"h-separator","margins"],[1,"button-container"],["tp","Create Scenario",1,"icon-button","fa-solid","fa-plus",3,"click"],["tp","Select Random Scenario and Note",1,"icon-button","fa-solid","fa-shuffle",3,"click"],[1,"scenario-container"],[1,"scenario-label-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"scenario-label"],[1,"scenario-info"],[1,"scenario-notes-word-count"],[1,"scenario-buttons"],["tp","Create Note",1,"icon-button","fa-solid","fa-plus",3,"click"],["tp","Edit Scenario",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Scenario",1,"icon-button","fa-solid","fa-times",3,"click"],["class","scenario-notes-container",4,"ngIf"],[1,"scenario-notes-container"],["class","note-container",3,"dragdrop","dragdropParent","click","dragend",4,"ngFor","ngForOf"],[1,"note-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"note-label"],[1,"note-info"],[1,"note-word-count"],[1,"note-buttons"],["tp","Remove Note",1,"icon-button","fa-solid","fa-times",3,"click"]],template:function(r,o){r&1&&(I(0,"div",0),G(1,Dde,12,7,"div",1),E(),ne(2,"div",2),I(3,"div",3)(4,"i",4),k("click",function(){return o.openScenarioEditor()}),E(),I(5,"i",5),k("click",function(){return o.setRandom()}),E()()),r&2&&(D(),P("ngForOf",o.stateService.scenarios))},dependencies:[ye,tt,st,gE],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;overflow-x:hidden;overflow-y:auto}.content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.3333333333rem;flex:1}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]:not(:first-child){padding-top:.1666666667rem}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]:not(:last-child){padding-bottom:.1666666667rem;border-bottom:1px solid var(--color-border)}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:space-between;line-height:30px;border-radius:.3333333333rem}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]:hover   .scenario-notes-word-count[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]:hover   .scenario-buttons[_ngcontent-%COMP%]{display:flex!important}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]   .scenario-label[_ngcontent-%COMP%]{margin:0 .3333333333rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]{text-align:end}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .scenario-notes-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .scenario-buttons[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]{display:flex;cursor:pointer;justify-content:space-between;line-height:30px;border-radius:.3333333333rem}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-word-count[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-buttons[_ngcontent-%COMP%]{display:flex!important}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .navigation-note-label[_ngcontent-%COMP%]{width:100%}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-label[_ngcontent-%COMP%]{margin:0 .3333333333rem;padding-left:.9999999999rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]{text-align:end}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]   .note-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]   .note-buttons[_ngcontent-%COMP%]{display:none}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:.3333333333rem 0;gap:.3333333333rem}"],data:{animation:[fH]}});let t=e;return t})();var Df=class{static random(e,n){return Math.random()*(n?n-e:e)+(n?e:0)}static from(e){return e[Math.floor(this.random(e.length))]}static percentage(e){return Math.random()<e/100}static oneIn(e){return Math.random()<1/e}static color(){let e=(Math.random()+.618033988749895)%1,n=this.random(.4,.6),i=.95,r=Math.floor(e*6),o=e*6-r,a=i*(1-n),l=i*(1-o*n),d=i*(1-(1-o)*n),h,m,v;switch(r%6){case 0:h=i,m=d,v=a;break;case 1:h=l,m=i,v=a;break;case 2:h=a,m=i,v=d;break;case 3:h=a,m=l,v=i;break;case 4:h=d,m=a,v=i;break;case 5:h=i,m=a,v=l;break}return"#"+Math.round(h*255).toString(16)+Math.round(m*255).toString(16)+Math.round(v*255).toString(16)}};var QH=(()=>{let e=class e{constructor(i){this.stateService=i}executeAction(i){if(i.nextNodeId){let r=this.stateService.getNodes().find(a=>a.id==i.nextNodeId),o=this.stateService.getScenario(r.parentScenarioId);this.stateService.currentScenario!=o&&(this.stateService.currentScenario=o),o.currentNode=r}ae.isEmpty(i.storyChanges)||ae.push(this.stateService.story,i.storyChanges);for(let r of i.variableChanges){let o=this.stateService.getVariables().find(a=>a.id==r.id);o.value=r.value}return i.nextNodeId}executeButton(i){let r={variableChanges:[]};for(let o of i.logic)if(this.evaluate(o)){let a=this.processActionWeights(o.actions);r.nextNodeId||(r.nextNodeId=a.nextNodeId),r.storyChanges||(r.storyChanges=a.storyChanges);for(let l of a.variableChanges)ae.includes(r.variableChanges,l,d=>d.id)||r.variableChanges.push(l)}this.executeAction(r)}executeRandomButton(){let i=this.stateService.getCurrentNode().buttonIds.map(r=>this.stateService.getButton(r)).filter(r=>!this.evaluate(r.hidden)&&!this.evaluate(r.disabled));this.executeButton(Df.from(i))}processActionWeights(i){let r=0;i.forEach(a=>r+=a.weight);let o=Df.random(r);for(let a of i)if(o-a.weight<0)return a}evaluate(i){switch(i.operator){case tn.ALWAYS:return!0;case tn.NEVER:return!1;case tn.EQ:return i.variable.value==i.value;case tn.NEQ:return i.variable.value!=i.value;case tn.CHANCE:return Df.percentage(i.chance);default:return!1}}};e.\u0275fac=function(r){return new(r||e)(oe(fn))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ade(t,e){if(t&1&&(I(0,"span"),L(1),E()),t&2){let n=e.$implicit;D(),ue(n)}}function Mde(t,e){if(t&1){let n=se();I(0,"span",17),k("click",function(){N(n);let r=M().$implicit,o=M(2);return F(o.actionService.executeButton(r))}),L(1),E()}if(t&2){let n=M().$implicit;P("tp",n.tooltip),D(),ue(n.text)}}function Pde(t,e){if(t&1&&(ht(0),G(1,Mde,2,2,"span",16),ft()),t&2){let n=e.$implicit,i=M(2);D(),P("ngIf",!i.actionService.evaluate(n.hidden))}}function Ode(t,e){if(t&1&&(ht(0),ne(1,"div",13),I(2,"div",14)(3,"span"),L(4),E(),I(5,"div",15),G(6,Pde,2,1,"ng-container",11),E()(),ft()),t&2){let n=M();D(4),ue(n.stateService.getCurrentNode().description),D(2),P("ngForOf",n.stateService.getButtonsForNode())}}var JH=(()=>{let e=class e{constructor(i,r,o,a,l,d){this.googleService=i,this.graphService=r,this.editorService=o,this.applicationService=a,this.stateService=l,this.actionService=d,this.applicationService.loading.next(!0)}ngOnInit(){this.googleService.requestAdventure().then(i=>{this.stateService.initialize(i),this.graphService.renderNotes(),this.applicationService.loading.next(!1)})}import(){navigator.clipboard.readText().then(i=>this.stateService.initialize(JSON.parse(i)))}export(){let i=JSON.stringify(this.stateService.serialize());navigator.clipboard.writeText(i),console.log(i)}};e.\u0275fac=function(r){return new(r||e)(R($c),R(Bc),R(dr),R(hn),R(fn),R(QH))},e.\u0275cmp=de({type:e,selectors:[["app-adventure"]],standalone:!0,features:[me],decls:15,vars:13,consts:[[1,"header"],[1,"header-left"],["tp","Sidebar",1,"icon-button","fa-solid","fa-bars",3,"click"],[1,"header-right"],["tp","Toggle Brightness Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"content"],[1,"v-separator","mobile-hidden"],[1,"modules"],[1,"flowchart"],[1,"adventure-container"],[1,"story-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"h-separator"],[1,"node-container"],[1,"node-buttons-container"],["class","button",3,"tp","click",4,"ngIf"],[1,"button",3,"tp","click"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"div",1)(2,"i",2),k("click",function(){return o.editorService.sidebarVisible.toggle()}),E()(),I(3,"div",3)(4,"i",4),k("click",function(){return o.applicationService.toggleTheme()}),E()()(),I(5,"div",5),ne(6,"app-scenario-browser")(7,"div",6),I(8,"div",7),ne(9,"app-notes")(10,"pre",8),I(11,"div",9)(12,"div",10),G(13,Ade,2,1,"span",11),E(),G(14,Ode,7,2,"ng-container",12),E()()()),r&2&&(D(4),P("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"),D(2),ze("flex-0",!o.editorService.sidebarVisible.value),D(),ze("desktop-hidden",!o.editorService.sidebarVisible.value),D(),ze("mobile-flex-0",o.editorService.sidebarVisible.value),D(2),ze("hidden",!o.editorService.flowchartVisible),D(),Ur("display",o.editorService.storyVisible?"":"none"),D(2),P("ngForOf",o.stateService.story),D(),P("ngIf",o.stateService.getCurrentNode()))},dependencies:[ye,ki,tt,st,YH,KH,rE],styles:["[_nghost-%COMP%]{width:100%;height:100vh;display:flex;flex-direction:column}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;padding:.3333333333rem;gap:.3333333333rem;border-bottom:1px solid var(--color-border);justify-content:space-between}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;display:flex;overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]{flex:3;width:0;display:flex;transition-property:flex;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;margin:.6666666666rem;gap:.6666666666rem;-webkit-user-select:none;user-select:none;height:-webkit-fill-available}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-end;flex:1}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{gap:.6666666666rem;display:flex;flex-direction:column;align-items:center;justify-content:center;height:33%;transition-property:opacity;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}"]});let t=e;return t})();var XH=[{text:"Vyr\xE1\u017Eame spolu v dohodnut\xFD \u010Das",description:"Na ka\u017Ed\xFD de\u0148 si dopredu zvol\xEDme \u010Das, po ktorom ak bude v\xE4\u010D\u0161ina \xFA\u010Dastn\xEDkov pripraven\xE1 splavova\u0165, vyr\xE1\u017Eame. Zvy\u0161ok bude takto ma\u0165 priestor da\u0165 sa dokopy vlastn\xFDm tempom, zavola\u0165 si tax\xEDk a do ve\u010Dera sa zab\xE1va\u0165 v cie\u013Eovom kempe."},{text:"Splavujeme spolu a \u010Dak\xE1me sa",description:"Ide\xE1lne sa dr\u017E\xEDme pokope tak, aby sme na ostatn\xE9 rafty vedeli aspo\u0148 kri\u010Da\u0165 a dohodn\xFA\u0165 sa, \u010Do a ako. Bezd\xF4vodne nezastavujeme. Ak v\u0161ak pos\xE1dka prv\xE9ho raftu t\xFDch za nimi u\u017E ani nevid\xED, spomalia alebo zastavia a po\u010Dkaj\xFA."}];var xf=(()=>{let e=class e{constructor(i){this.firestore=i,this.cache={}}read(i,r){return C(this,null,function*(){return r&&this.cache[i]?this.cache[i]:(this.cache[i]=(yield W5(z5(this.firestore,i))).docs.map(o=>o.data()),this.cache[i])})}write(i,r,o){return Y5(QM(this.firestore,i,r),o)}delete(i,r){return q5(QM(this.firestore,i,r))}};e.\u0275fac=function(r){return new(r||e)(oe(yu))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ks=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ik=class{constructor(e,n){this._delegate=e,this.firebase=n,ym(e,new Ri("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),pw(this._delegate)))}_getService(e,n=us){var i;this._delegate.checkDestroyed();let r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=us){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){ym(this._delegate,e)}_addOrOverwriteComponent(e){uD(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}};var kde={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},ZH=new Br("app-compat","Firebase",kde);function Rde(t){let e={},n={__esModule:!0,initializeApp:o,app:r,registerVersion:un,setLogLevel:gw,onLog:mw,apps:null,SDK_VERSION:So,INTERNAL:{registerComponent:l,removeApp:i,useAsService:d,modularAPIs:dD}};n.default=n,Object.defineProperty(n,"apps",{get:a});function i(h){delete e[h]}function r(h){if(h=h||us,!Q1(e,h))throw ZH.create("no-app",{appName:h});return e[h]}r.App=t;function o(h,m={}){let v=uh(h,m);if(Q1(e,v.name))return e[v.name];let y=new t(v,n);return e[v.name]=y,y}function a(){return Object.keys(e).map(h=>e[h])}function l(h){let m=h.name,v=m.replace("-compat","");if(Io(h)&&h.type==="PUBLIC"){let y=(b=r())=>{if(typeof b[v]!="function")throw ZH.create("invalid-app-argument",{appName:m});return b[v]()};h.serviceProps!==void 0&&pm(y,h.serviceProps),n[v]=y,t.prototype[v]=function(...b){return this._getService.bind(this,m).apply(this,h.multipleInstances?b:[])}}return h.type==="PUBLIC"?n[v]:null}function d(h,m){return m==="serverAuth"?null:m}return n}function tG(){let t=Rde(ik);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:tG,extendNamespace:e,createSubscribe:dw,ErrorFactory:Br,deepExtend:pm});function e(n){pm(t,n)}return t}var Nde=tG();var eG=new cs("@firebase/app-compat"),Fde="@firebase/app-compat",Lde="0.2.28";function Vde(t){un(Fde,Lde,t)}if(dU()&&self.firebase!==void 0){eG.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);let t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&eG.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var be=Nde;Vde();var jde="firebase",Ude="10.8.1";be.registerVersion(jde,Ude,"app-compat");function Vu(){return window}var Bde=2e3;function $de(t,e,n){return C(this,null,function*(){var i;let{BuildInfo:r}=Vu();$r(e.sessionId,"AuthEvent did not contain a session ID");let o=yield Wde(e.sessionId),a={};return Ql()?a.ibi=r.packageName:wh()?a.apn=r.packageName:Nn(t,"operation-not-supported-in-this-environment"),r.displayName&&(a.appDisplayName=r.displayName),a.sessionId=o,Nw(t,n,e.type,void 0,(i=e.eventId)!==null&&i!==void 0?i:void 0,a)})}function Hde(t){return C(this,null,function*(){let{BuildInfo:e}=Vu(),n={};Ql()?n.iosBundleId=e.packageName:wh()?n.androidPackageName=e.packageName:Nn(t,"operation-not-supported-in-this-environment"),yield nx(t,n)})}function Gde(t){let{cordova:e}=Vu();return new Promise(n=>{e.plugins.browsertab.isAvailable(i=>{let r=null;i?e.plugins.browsertab.openUrl(t):r=e.InAppBrowser.open(t,oB()?"_blank":"_system","location=yes"),n(r)})})}function zde(t,e,n){return C(this,null,function*(){let{cordova:i}=Vu(),r=()=>{};try{yield new Promise((o,a)=>{let l=null;function d(){var v;o();let y=(v=i.plugins.browsertab)===null||v===void 0?void 0:v.close;typeof y=="function"&&y(),typeof n?.close=="function"&&n.close()}function h(){l||(l=window.setTimeout(()=>{a(di(t,"redirect-cancelled-by-user"))},Bde))}function m(){document?.visibilityState==="visible"&&h()}e.addPassiveListener(d),document.addEventListener("resume",h,!1),wh()&&document.addEventListener("visibilitychange",m,!1),r=()=>{e.removePassiveListener(d),document.removeEventListener("resume",h,!1),document.removeEventListener("visibilitychange",m,!1),l&&window.clearTimeout(l)}})}finally{r()}})}function qde(t){var e,n,i,r,o,a,l,d,h,m;let v=Vu();Q(typeof((e=v?.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Q(typeof((n=v?.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Q(typeof((o=(r=(i=v?.cordova)===null||i===void 0?void 0:i.plugins)===null||r===void 0?void 0:r.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q(typeof((d=(l=(a=v?.cordova)===null||a===void 0?void 0:a.plugins)===null||l===void 0?void 0:l.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q(typeof((m=(h=v?.cordova)===null||h===void 0?void 0:h.InAppBrowser)===null||m===void 0?void 0:m.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Wde(t){return C(this,null,function*(){let e=Kde(t),n=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(r=>r.toString(16).padStart(2,"0")).join("")})}function Kde(t){if($r(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);let e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}var Yde=20,rk=class extends Mm{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}initialized(){return C(this,null,function*(){yield this.initPromise})}};function Qde(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:Zde(),postBody:null,tenantId:t.tenantId,error:di(t,"no-auth-event")}}function Jde(t,e){return ok()._set(sk(t),e)}function nG(t){return C(this,null,function*(){let e=yield ok()._get(sk(t));return e&&(yield ok()._remove(sk(t))),e})}function Xde(t,e){var n,i;let r=the(e);if(r.includes("/__/auth/callback")){let o=vE(r),a=o.firebaseError?ehe(decodeURIComponent(o.firebaseError)):null,l=(i=(n=a?.code)===null||n===void 0?void 0:n.split("auth/"))===null||i===void 0?void 0:i[1],d=l?di(l):null;return d?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:r,postBody:null}}return null}function Zde(){let t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Yde;n++){let i=Math.floor(Math.random()*e.length);t.push(e.charAt(i))}return t.join("")}function ok(){return Ni(fs)}function sk(t){return hs("authEvent",t.config.apiKey,t.name)}function ehe(t){try{return JSON.parse(t)}catch{return null}}function the(t){let e=vE(t),n=e.link?decodeURIComponent(e.link):void 0,i=vE(n).link,r=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return vE(r).link||r||i||n||t}function vE(t){if(!t?.includes("?"))return{};let[e,...n]=t.split("?");return fc(n.join("?"))}var nhe=500,ak=class{constructor(){this._redirectPersistence=Gr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=eu,this._overrideRedirectResult=Th}_initialize(e){return C(this,null,function*(){let n=e._key(),i=this.eventManagers.get(n);return i||(i=new rk(e),this.eventManagers.set(n,i),this.attachCallbackListeners(e,i)),i})}_openPopup(e){Nn(e,"operation-not-supported-in-this-environment")}_openRedirect(e,n,i,r){return C(this,null,function*(){qde(e);let o=yield this._initialize(e);yield o.initialized(),o.resetRedirect(),_B(),yield this._originValidation(e);let a=Qde(e,i,r);yield Jde(e,a);let l=yield $de(e,a,n),d=yield Gde(l);return zde(e,o,d)})}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Hde(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){let{universalLinks:i,handleOpenURL:r,BuildInfo:o}=Vu(),a=setTimeout(()=>C(this,null,function*(){yield nG(e),n.onEvent(iG())}),nhe),l=m=>C(this,null,function*(){clearTimeout(a);let v=yield nG(e),y=null;v&&m?.url&&(y=Xde(v,m.url)),n.onEvent(y||iG())});typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,l);let d=r,h=`${o.packageName.toLowerCase()}://`;Vu().handleOpenURL=m=>C(this,null,function*(){if(m.toLowerCase().startsWith(h)&&l({url:m}),typeof d=="function")try{d(m)}catch(v){console.error(v)}})}},rG=ak;function iG(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:di("no-auth-event")}}function oG(t,e){on(t)._logFramework(e)}var rhe="@firebase/auth-compat",ohe="0.5.3";var she=1e3;function ty(){var t;return((t=self?.location)===null||t===void 0?void 0:t.protocol)||null}function ahe(){return ty()==="http:"||ty()==="https:"}function cG(t=qt()){return!!((ty()==="file:"||ty()==="ionic:"||ty()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function che(){return mm()||cw()}function lhe(){return uw()&&document?.documentMode===11}function uhe(t=qt()){return/Edge\/\d+/.test(t)}function dhe(t=qt()){return lhe()||uhe(t)}function lG(){try{let t=self.localStorage,e=Xl();if(t)return t.setItem(e,"1"),t.removeItem(e),dhe()?hc():!0}catch{return fk()&&hc()}return!1}function fk(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ck(){return(ahe()||lw()||cG())&&!che()&&lG()&&!fk()}function uG(){return cG()&&typeof document<"u"}function hhe(){return C(this,null,function*(){return uG()?new Promise(t=>{let e=setTimeout(()=>{t(!1)},she);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1})}function fhe(){return typeof window<"u"?window:null}var Or={LOCAL:"local",NONE:"none",SESSION:"session"},Zv=Q,dG="persistence";function phe(t,e){if(Zv(Object.values(Or).includes(e),t,"invalid-persistence-type"),mm()){Zv(e!==Or.SESSION,t,"unsupported-persistence-type");return}if(cw()){Zv(e===Or.NONE,t,"unsupported-persistence-type");return}if(fk()){Zv(e===Or.NONE||e===Or.LOCAL&&hc(),t,"unsupported-persistence-type");return}Zv(e===Or.NONE||lG(),t,"unsupported-persistence-type")}function lk(t){return C(this,null,function*(){yield t._initializationPromise;let e=hG(),n=hs(dG,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())})}function mhe(t,e){let n=hG();if(!n)return[];let i=hs(dG,t,e);switch(n.getItem(i)){case Or.NONE:return[ua];case Or.LOCAL:return[fa,Gr];case Or.SESSION:return[Gr];default:return[]}}function hG(){var t;try{return((t=fhe())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}var ghe=Q,Rs=class{constructor(){this.browserResolver=Ni(pg),this.cordovaResolver=Ni(rG),this.underlyingResolver=null,this._redirectPersistence=Gr,this._completeRedirectFn=eu,this._overrideRedirectResult=Th}_initialize(e){return C(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)})}_openPopup(e,n,i,r){return C(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,i,r)})}_openRedirect(e,n,i,r){return C(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,i,r)})}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return uG()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ghe(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){return C(this,null,function*(){if(this.underlyingResolver)return;let e=yield hhe();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver})}};function fG(t){return t.unwrap()}function vhe(t){return t.wrapped()}function yhe(t){return pG(t)}function _he(t,e){var n;let i=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if(e?.code==="auth/multi-factor-auth-required"){let r=e;r.resolver=new dk(t,tg(t,e))}else if(i){let r=pG(e),o=e;r&&(o.credential=r,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function pG(t){let{_tokenResponse:e}=t instanceof Hn?t.customData:t;if(!e)return null;if(!(t instanceof Hn)&&"temporaryProof"in e&&"phoneNumber"in e)return wc.credentialFromResult(t);let n=e.providerId;if(!n||n===yc.PASSWORD)return null;let i;switch(n){case yc.GOOGLE:i=Jl;break;case yc.FACEBOOK:i=km;break;case yc.GITHUB:i=Rm;break;case yc.TWITTER:i=Nm;break;default:let{oauthIdToken:r,oauthAccessToken:o,oauthTokenSecret:a,pendingToken:l,nonce:d}=e;return!o&&!a&&!r&&!l?null:l?n.startsWith("saml.")?Wl._create(n,l):Hr._fromParams({providerId:n,signInMethod:n,pendingToken:l,idToken:r,accessToken:o}):new ql(n).credential({idToken:r,accessToken:o,rawNonce:d})}return t instanceof Hn?i.credentialFromError(t):i.credentialFromResult(t)}function hr(t,e){return e.catch(n=>{throw n instanceof Hn&&_he(t,n),n}).then(n=>{let i=n.operationType,r=n.user;return{operationType:i,credential:yhe(n),additionalUserInfo:eg(n),user:Af.getOrCreate(r)}})}function uk(t,e){return C(this,null,function*(){let n=yield e;return{verificationId:n.verificationId,confirm:i=>hr(t,n.confirm(i))}})}var dk=class{constructor(e,n){this.resolver=n,this.auth=vhe(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return hr(fG(this.auth),this.resolver.resolveSignIn(e))}};var Af=class t{constructor(e){this._delegate=e,this.multiFactor=ng(e)}static getOrCreate(e){return t.USER_MAP.has(e)||t.USER_MAP.set(e,new t(e)),t.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){return C(this,null,function*(){return hr(this.auth,Eh(this._delegate,e))})}linkWithPhoneNumber(e,n){return C(this,null,function*(){return uk(this.auth,rg(this._delegate,e,n))})}linkWithPopup(e){return C(this,null,function*(){return hr(this.auth,lg(this._delegate,e,Rs))})}linkWithRedirect(e){return C(this,null,function*(){return yield lk(on(this.auth)),hg(this._delegate,e,Rs)})}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){return C(this,null,function*(){return hr(this.auth,Ih(this._delegate,e))})}reauthenticateWithPhoneNumber(e,n){return uk(this.auth,og(this._delegate,e,n))}reauthenticateWithPopup(e){return hr(this.auth,cg(this._delegate,e,Rs))}reauthenticateWithRedirect(e){return C(this,null,function*(){return yield lk(on(this.auth)),dg(this._delegate,e,Rs)})}sendEmailVerification(e){return Ym(this._delegate,e)}unlink(e){return C(this,null,function*(){return yield Lm(this._delegate,e),this})}updateEmail(e){return Xm(this._delegate,e)}updatePassword(e){return Zm(this._delegate,e)}updatePhoneNumber(e){return sg(this._delegate,e)}updateProfile(e){return Jm(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return Qm(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Af.USER_MAP=new WeakMap;var ey=Q,sG=(()=>{class t{constructor(n,i){if(this.app=n,i.isInitialized()){this._delegate=i.getImmediate(),this.linkUnderlyingAuth();return}let{apiKey:r}=n.options;ey(r,"invalid-api-key",{appName:n.name}),ey(r,"invalid-api-key",{appName:n.name});let o=typeof window<"u"?Rs:void 0;this._delegate=i.initialize({options:{persistence:whe(r,n.name),popupRedirectResolver:o}}),this._delegate._updateErrorMap(Fw),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Af.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(n){this._delegate.languageCode=n}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(n){this._delegate.tenantId=n}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(n,i){bh(this._delegate,n,i)}applyActionCode(n){return Bm(this._delegate,n)}checkActionCode(n){return Sh(this._delegate,n)}confirmPasswordReset(n,i){return Um(this._delegate,n,i)}createUserWithEmailAndPassword(n,i){return C(this,null,function*(){return hr(this._delegate,Hm(this._delegate,n,i))})}fetchProvidersForEmail(n){return this.fetchSignInMethodsForEmail(n)}fetchSignInMethodsForEmail(n){return Km(this._delegate,n)}isSignInWithEmailLink(n){return qm(this._delegate,n)}getRedirectResult(){return C(this,null,function*(){ey(ck(),this._delegate,"operation-not-supported-in-this-environment");let n=yield fg(this._delegate,Rs);return n?hr(this._delegate,Promise.resolve(n)):{credential:null,user:null}})}addFrameworkForLogging(n){oG(this._delegate,n)}onAuthStateChanged(n,i,r){let{next:o,error:a,complete:l}=aG(n,i,r);return this._delegate.onAuthStateChanged(o,a,l)}onIdTokenChanged(n,i,r){let{next:o,error:a,complete:l}=aG(n,i,r);return this._delegate.onIdTokenChanged(o,a,l)}sendSignInLinkToEmail(n,i){return zm(this._delegate,n,i)}sendPasswordResetEmail(n,i){return jm(this._delegate,n,i||void 0)}setPersistence(n){return C(this,null,function*(){phe(this._delegate,n);let i;switch(n){case Or.SESSION:i=Gr;break;case Or.LOCAL:i=(yield Ni(fa)._isAvailable())?fa:fs;break;case Or.NONE:i=ua;break;default:return Nn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(i)})}signInAndRetrieveDataWithCredential(n){return this.signInWithCredential(n)}signInAnonymously(){return hr(this._delegate,Fm(this._delegate))}signInWithCredential(n){return hr(this._delegate,_c(this._delegate,n))}signInWithCustomToken(n){return hr(this._delegate,Vm(this._delegate,n))}signInWithEmailAndPassword(n,i){return hr(this._delegate,Gm(this._delegate,n,i))}signInWithEmailLink(n,i){return hr(this._delegate,Wm(this._delegate,n,i))}signInWithPhoneNumber(n,i){return uk(this._delegate,ig(this._delegate,n,i))}signInWithPopup(n){return C(this,null,function*(){return ey(ck(),this._delegate,"operation-not-supported-in-this-environment"),hr(this._delegate,ag(this._delegate,n,Rs))})}signInWithRedirect(n){return C(this,null,function*(){return ey(ck(),this._delegate,"operation-not-supported-in-this-environment"),yield lk(this._delegate),ug(this._delegate,n,Rs)})}updateCurrentUser(n){return this._delegate.updateCurrentUser(n)}verifyPasswordResetCode(n){return $m(this._delegate,n)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return t.Persistence=Or,t})();function aG(t,e,n){let i=t;typeof t!="function"&&({next:i,error:e,complete:n}=t);let r=i;return{next:a=>r(a&&Af.getOrCreate(a)),error:e,complete:n}}function whe(t,e){let n=mhe(t,e);if(typeof self<"u"&&!n.includes(fa)&&n.push(fa),typeof window<"u")for(let i of[fs,Gr])n.includes(i)||n.push(i);return n.includes(ua)||n.push(ua),n}var ny=class{constructor(){this.providerId="phone",this._delegate=new wc(fG(be.auth()))}static credential(e,n){return wc.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}};ny.PHONE_SIGN_IN_METHOD=wc.PHONE_SIGN_IN_METHOD;ny.PROVIDER_ID=wc.PROVIDER_ID;var bhe=Q,hk=class{constructor(e,n,i=be.app()){var r;bhe((r=i.options)===null||r===void 0?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new yh(i.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}};var Che="auth-compat";function Ehe(t){t.INTERNAL.registerComponent(new Ri(Che,e=>{let n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new sG(n,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:da.EMAIL_SIGNIN,PASSWORD_RESET:da.PASSWORD_RESET,RECOVER_EMAIL:da.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:da.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:da.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:da.VERIFY_EMAIL}},EmailAuthProvider:Ch,FacebookAuthProvider:km,GithubAuthProvider:Rm,GoogleAuthProvider:Jl,OAuthProvider:ql,SAMLAuthProvider:vh,PhoneAuthProvider:ny,PhoneMultiFactorGenerator:Kw,RecaptchaVerifier:hk,TwitterAuthProvider:Nm,Auth:sG,AuthCredential:Do,Error:Hn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(rhe,ohe)}Ehe(be);var gG=wq(mG());var mn={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};mn=function(){"use strict";var t=[],e=[],n="mdlComponentConfigInternal_";function i(S,T){for(var O=0;O<t.length;O++)if(t[O].className===S)return typeof T<"u"&&(t[O]=T),t[O];return!1}function r(S){var T=S.getAttribute("data-upgraded");return T===null?[""]:T.split(",")}function o(S,T){var O=r(S);return O.indexOf(T)!==-1}function a(S,T,O){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(S,{bubbles:T,cancelable:O});var V=document.createEvent("Events");return V.initEvent(S,T,O),V}function l(S,T){if(typeof S>"u"&&typeof T>"u")for(var O=0;O<t.length;O++)l(t[O].className,t[O].cssClass);else{var V=S;if(typeof T>"u"){var $=i(V);$&&(T=$.cssClass)}for(var x=document.querySelectorAll("."+T),ee=0;ee<x.length;ee++)d(x[ee],V)}}function d(S,T){if(!(typeof S=="object"&&S instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var O=a("mdl-componentupgrading",!0,!0);if(S.dispatchEvent(O),!O.defaultPrevented){var V=r(S),$=[];if(T)o(S,T)||$.push(i(T));else{var x=S.classList;t.forEach(function($e){x.contains($e.cssClass)&&$.indexOf($e)===-1&&!o(S,$e.className)&&$.push($e)})}for(var ee=0,U=$.length,re;ee<U;ee++){if(re=$[ee],re){V.push(re.className),S.setAttribute("data-upgraded",V.join(","));var Ee=new re.classConstructor(S);Ee[n]=re,e.push(Ee);for(var He=0,Xe=re.callbacks.length;He<Xe;He++)re.callbacks[He](S);re.widget&&(S[re.className]=Ee)}else throw new Error("Unable to find a registered component for the given class.");var Ie=a("mdl-componentupgraded",!0,!1);S.dispatchEvent(Ie)}}}function h(S){Array.isArray(S)||(S instanceof Element?S=[S]:S=Array.prototype.slice.call(S));for(var T=0,O=S.length,V;T<O;T++)V=S[T],V instanceof HTMLElement&&(d(V),V.children.length>0&&h(V.children))}function m(S){var T=typeof S.widget>"u"&&typeof S.widget>"u",O=!0;T||(O=S.widget||S.widget);var V={classConstructor:S.constructor||S.constructor,className:S.classAsString||S.classAsString,cssClass:S.cssClass||S.cssClass,widget:O,callbacks:[]};if(t.forEach(function(x){if(x.cssClass===V.cssClass)throw new Error("The provided cssClass has already been registered: "+x.cssClass);if(x.className===V.className)throw new Error("The provided className has already been registered")}),S.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");var $=i(S.classAsString,V);$||t.push(V)}function v(S,T){var O=i(S);O&&O.callbacks.push(T)}function y(){for(var S=0;S<t.length;S++)l(t[S].className)}function b(S){if(S){var T=e.indexOf(S);e.splice(T,1);var O=S.element_.getAttribute("data-upgraded").split(","),V=O.indexOf(S[n].classAsString);O.splice(V,1),S.element_.setAttribute("data-upgraded",O.join(","));var $=a("mdl-componentdowngraded",!0,!1);S.element_.dispatchEvent($)}}function w(S){var T=function(V){e.filter(function($){return $.element_===V}).forEach(b)};if(S instanceof Array||S instanceof NodeList)for(var O=0;O<S.length;O++)T(S[O]);else if(S instanceof Node)T(S);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:l,upgradeElement:d,upgradeElements:h,upgradeAllRegistered:y,registerUpgradedCallback:v,register:m,downgradeElements:w}}();mn.ComponentConfigPublic;mn.ComponentConfig;mn.Component;mn.upgradeDom=mn.upgradeDom;mn.upgradeElement=mn.upgradeElement;mn.upgradeElements=mn.upgradeElements;mn.upgradeAllRegistered=mn.upgradeAllRegistered;mn.registerUpgradedCallback=mn.registerUpgradedCallback;mn.register=mn.register;mn.downgradeElements=mn.downgradeElements;window.componentHandler=mn;window.componentHandler=mn;window.addEventListener("load",function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),mn.upgradeAllRegistered()):(mn.upgradeElement=function(){},mn.register=function(){})});(function(){"use strict";var t=function(n){this.element_=n,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(e){e&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})})();(function(){"use strict";var t=function(n){this.element_=n,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})})();(function(){"use strict";var t=function(n){this.element_=n,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(e){var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),o.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var a=[i,r,o],l=0;l<a.length;l++){var d=document.createElement("div");d.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),a[l].appendChild(d)}n.appendChild(i),n.appendChild(r),n.appendChild(o),this.element_.appendChild(n)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})})();(function(){"use strict";var t=function(n){this.element_=n,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(e){var n=e.target.value.split(`
`).length;e.keyCode===13&&n>=this.maxRows&&e.preventDefault()},t.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(e){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})})();(function(){(function(){var t,e=typeof Object.create=="function"?Object.create:function(s){function c(){}return c.prototype=s,new c},n;if(typeof Object.setPrototypeOf=="function")n=Object.setPrototypeOf;else{var i;e:{var r={xb:!0},o={};try{o.__proto__=r,i=o.xb;break e}catch{}i=!1}n=i?function(s,c){if(s.__proto__=c,s.__proto__!==c)throw new TypeError(s+" is not extensible");return s}:null}var a=n;function l(s,c){if(s.prototype=e(c.prototype),s.prototype.constructor=s,a)a(s,c);else for(var u in c)if(u!="prototype")if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(c,u);f&&Object.defineProperty(s,u,f)}else s[u]=c[u];s.K=c.prototype}var d=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,c,u){s!=Array.prototype&&s!=Object.prototype&&(s[c]=u.value)},h=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function m(s,c){if(c){var u=h;s=s.split(".");for(var f=0;f<s.length-1;f++){var p=s[f];p in u||(u[p]={}),u=u[p]}s=s[s.length-1],f=u[s],c=c(f),c!=f&&c!=null&&d(u,s,{configurable:!0,writable:!0,value:c})}}m("Object.is",function(s){return s||function(c,u){return c===u?c!==0||1/c===1/u:c!==c&&u!==u}}),m("Array.prototype.includes",function(s){return s||function(c,u){var f=this;f instanceof String&&(f=String(f));var p=f.length;for(u=u||0,0>u&&(u=Math.max(u+p,0));u<p;u++){var g=f[u];if(g===c||Object.is(g,c))return!0}return!1}});var v=this;function y(s){return s!==void 0}function b(s){return typeof s=="string"}var w=/^[\w+/_-]+[=]{0,2}$/,S=null;function T(){}function O(s){s.W=void 0,s.Xa=function(){return s.W?s.W:s.W=new s}}function V(s){var c=typeof s;if(c=="object")if(s){if(s instanceof Array)return"array";if(s instanceof Object)return c;var u=Object.prototype.toString.call(s);if(u=="[object Window]")return"object";if(u=="[object Array]"||typeof s.length=="number"&&typeof s.splice<"u"&&typeof s.propertyIsEnumerable<"u"&&!s.propertyIsEnumerable("splice"))return"array";if(u=="[object Function]"||typeof s.call<"u"&&typeof s.propertyIsEnumerable<"u"&&!s.propertyIsEnumerable("call"))return"function"}else return"null";else if(c=="function"&&typeof s.call>"u")return"object";return c}function $(s){return V(s)=="array"}function x(s){var c=V(s);return c=="array"||c=="object"&&typeof s.length=="number"}function ee(s){return V(s)=="function"}function U(s){var c=typeof s;return c=="object"&&s!=null||c=="function"}var re="closure_uid_"+(1e9*Math.random()>>>0),Ee=0;function He(s,c,u){return s.call.apply(s.bind,arguments)}function Xe(s,c,u){if(!s)throw Error();if(2<arguments.length){var f=Array.prototype.slice.call(arguments,2);return function(){var p=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(p,f),s.apply(c,p)}}return function(){return s.apply(c,arguments)}}function Ie(s,c,u){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ie=He:Ie=Xe,Ie.apply(null,arguments)}function $e(s,c){var u=Array.prototype.slice.call(arguments,1);return function(){var f=u.slice();return f.push.apply(f,arguments),s.apply(this,f)}}function Te(s,c){for(var u in c)s[u]=c[u]}var an=Date.now||function(){return+new Date};function Ye(s,c){s=s.split(".");var u=v;s[0]in u||typeof u.execScript>"u"||u.execScript("var "+s[0]);for(var f;s.length&&(f=s.shift());)!s.length&&y(c)?u[f]=c:u[f]&&u[f]!==Object.prototype[f]?u=u[f]:u=u[f]={}}function H(s,c){function u(){}u.prototype=c.prototype,s.K=c.prototype,s.prototype=new u,s.prototype.constructor=s,s.vc=function(f,p,g){for(var _=Array(arguments.length-2),A=2;A<arguments.length;A++)_[A-2]=arguments[A];return c.prototype[p].apply(f,_)}}function ie(s){if(Error.captureStackTrace)Error.captureStackTrace(this,ie);else{var c=Error().stack;c&&(this.stack=c)}s&&(this.message=String(s))}H(ie,Error),ie.prototype.name="CustomError";var he;function Pe(s,c){s=s.split("%s");for(var u="",f=s.length-1,p=0;p<f;p++)u+=s[p]+(p<c.length?c[p]:"%s");ie.call(this,u+s[f])}H(Pe,ie),Pe.prototype.name="AssertionError";function nt(s,c){throw new Pe("Failure"+(s?": "+s:""),Array.prototype.slice.call(arguments,1))}var xn=Array.prototype.indexOf?function(s,c){return Array.prototype.indexOf.call(s,c,void 0)}:function(s,c){if(b(s))return b(c)&&c.length==1?s.indexOf(c,0):-1;for(var u=0;u<s.length;u++)if(u in s&&s[u]===c)return u;return-1},Rt=Array.prototype.forEach?function(s,c,u){Array.prototype.forEach.call(s,c,u)}:function(s,c,u){for(var f=s.length,p=b(s)?s.split(""):s,g=0;g<f;g++)g in p&&c.call(u,p[g],g,s)};function ti(s,c){for(var u=b(s)?s.split(""):s,f=s.length-1;0<=f;--f)f in u&&c.call(void 0,u[f],f,s)}var gt=Array.prototype.filter?function(s,c){return Array.prototype.filter.call(s,c,void 0)}:function(s,c){for(var u=s.length,f=[],p=0,g=b(s)?s.split(""):s,_=0;_<u;_++)if(_ in g){var A=g[_];c.call(void 0,A,_,s)&&(f[p++]=A)}return f},xi=Array.prototype.map?function(s,c){return Array.prototype.map.call(s,c,void 0)}:function(s,c){for(var u=s.length,f=Array(u),p=b(s)?s.split(""):s,g=0;g<u;g++)g in p&&(f[g]=c.call(void 0,p[g],g,s));return f},fr=Array.prototype.some?function(s,c){return Array.prototype.some.call(s,c,void 0)}:function(s,c){for(var u=s.length,f=b(s)?s.split(""):s,p=0;p<u;p++)if(p in f&&c.call(void 0,f[p],p,s))return!0;return!1};function ut(s,c){return 0<=xn(s,c)}function Ln(s,c){c=xn(s,c);var u;return(u=0<=c)&&cn(s,c),u}function cn(s,c){return Array.prototype.splice.call(s,c,1).length==1}function Bi(s,c){e:{for(var u=s.length,f=b(s)?s.split(""):s,p=0;p<u;p++)if(p in f&&c.call(void 0,f[p],p,s)){c=p;break e}c=-1}0<=c&&cn(s,c)}function kr(s,c){var u=0;ti(s,function(f,p){c.call(void 0,f,p,s)&&cn(s,p)&&u++})}function Hc(s){return Array.prototype.concat.apply([],arguments)}function Ea(s){var c=s.length;if(0<c){for(var u=Array(c),f=0;f<c;f++)u[f]=s[f];return u}return[]}function ju(s,c,u){return 2>=arguments.length?Array.prototype.slice.call(s,c):Array.prototype.slice.call(s,c,u)}var ni=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]},Gc=/&/g,zc=/</g,Uu=/>/g,Bu=/"/g,ro=/'/g,Bo=/\x00/g,qc=/[\x00&<>"']/;function oo(s,c){return s<c?-1:s>c?1:0}function Rr(s){return qc.test(s)&&(s.indexOf("&")!=-1&&(s=s.replace(Gc,"&amp;")),s.indexOf("<")!=-1&&(s=s.replace(zc,"&lt;")),s.indexOf(">")!=-1&&(s=s.replace(Uu,"&gt;")),s.indexOf('"')!=-1&&(s=s.replace(Bu,"&quot;")),s.indexOf("'")!=-1&&(s=s.replace(ro,"&#39;")),s.indexOf("\0")!=-1&&(s=s.replace(Bo,"&#0;"))),s}function Wc(s,c,u){for(var f in s)c.call(u,s[f],f,s)}function Ia(s){var c={},u;for(u in s)c[u]=s[u];return c}var Kc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ns(s,c){for(var u,f,p=1;p<arguments.length;p++){f=arguments[p];for(u in f)s[u]=f[u];for(var g=0;g<Kc.length;g++)u=Kc[g],Object.prototype.hasOwnProperty.call(f,u)&&(s[u]=f[u])}}var Sa="StopIteration"in v?v.StopIteration:{message:"StopIteration",stack:""};function Fs(){}Fs.prototype.next=function(){throw Sa},Fs.prototype.ha=function(){return this};function iy(s){if(s instanceof Fs)return s;if(typeof s.ha=="function")return s.ha(!1);if(x(s)){var c=0,u=new Fs;return u.next=function(){for(;;){if(c>=s.length)throw Sa;if(c in s)return s[c++];c++}},u}throw Error("Not implemented")}function IE(s,c){if(x(s))try{Rt(s,c,void 0)}catch(u){if(u!==Sa)throw u}else{s=iy(s);try{for(;;)c.call(void 0,s.next(),void 0,s)}catch(u){if(u!==Sa)throw u}}}function SE(s){if(x(s))return Ea(s);s=iy(s);var c=[];return IE(s,function(u){c.push(u)}),c}function B(s,c){this.g={},this.a=[],this.j=this.h=0;var u=arguments.length;if(1<u){if(u%2)throw Error("Uneven number of arguments");for(var f=0;f<u;f+=2)this.set(arguments[f],arguments[f+1])}else if(s)if(s instanceof B)for(u=s.ja(),f=0;f<u.length;f++)this.set(u[f],s.get(u[f]));else for(f in s)this.set(f,s[f])}t=B.prototype,t.la=function(){pe(this);for(var s=[],c=0;c<this.a.length;c++)s.push(this.g[this.a[c]]);return s},t.ja=function(){return pe(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0};function pe(s){if(s.h!=s.a.length){for(var c=0,u=0;c<s.a.length;){var f=s.a[c];Se(s.g,f)&&(s.a[u++]=f),c++}s.a.length=u}if(s.h!=s.a.length){var p={};for(u=c=0;c<s.a.length;)f=s.a[c],Se(p,f)||(s.a[u++]=f,p[f]=1),c++;s.a.length=u}}t.get=function(s,c){return Se(this.g,s)?this.g[s]:c},t.set=function(s,c){Se(this.g,s)||(this.h++,this.a.push(s),this.j++),this.g[s]=c},t.forEach=function(s,c){for(var u=this.ja(),f=0;f<u.length;f++){var p=u[f],g=this.get(p);s.call(c,g,p,this)}},t.ha=function(s){pe(this);var c=0,u=this.j,f=this,p=new Fs;return p.next=function(){if(u!=f.j)throw Error("The map has changed since the iterator was created");if(c>=f.a.length)throw Sa;var g=f.a[c++];return s?g:f.g[g]},p};function Se(s,c){return Object.prototype.hasOwnProperty.call(s,c)}var Mt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vt(s,c){if(s){s=s.split("&");for(var u=0;u<s.length;u++){var f=s[u].indexOf("="),p=null;if(0<=f){var g=s[u].substring(0,f);p=s[u].substring(f+1)}else g=s[u];c(g,p?decodeURIComponent(p.replace(/\+/g," ")):"")}}}function ii(s,c,u,f){for(var p=u.length;0<=(c=s.indexOf(u,c))&&c<f;){var g=s.charCodeAt(c-1);if((g==38||g==63)&&(g=s.charCodeAt(c+p),!g||g==61||g==38||g==35))return c;c+=p+1}return-1}var $i=/#|$/;function so(s,c){var u=s.search($i),f=ii(s,0,c,u);if(0>f)return null;var p=s.indexOf("&",f);return(0>p||p>u)&&(p=u),f+=c.length+1,decodeURIComponent(s.substr(f,p-f).replace(/\+/g," "))}var ry=/[?&]($|#)/;function Ai(s,c){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var u;s instanceof Ai?(this.i=y(c)?c:s.i,Yc(this,s.j),this.A=s.A,this.h=s.h,Ta(this,s.C),this.g=s.g,$o(this,wk(s.a)),this.s=s.s):s&&(u=String(s).match(Mt))?(this.i=!!c,Yc(this,u[1]||"",!0),this.A=Ls(u[2]||""),this.h=Ls(u[3]||"",!0),Ta(this,u[4]),this.g=Ls(u[5]||"",!0),$o(this,u[6]||"",!0),this.s=Ls(u[7]||"")):(this.i=!!c,this.a=new kf(null,this.i))}Ai.prototype.toString=function(){var s=[],c=this.j;c&&s.push(Ho(c,yk,!0),":");var u=this.h;return(u||c=="file")&&(s.push("//"),(c=this.A)&&s.push(Ho(c,yk,!0),"@"),s.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.C,u!=null&&s.push(":",String(u))),(u=this.g)&&(this.h&&u.charAt(0)!="/"&&s.push("/"),s.push(Ho(u,u.charAt(0)=="/"?zG:GG,!0))),(u=this.a.toString())&&s.push("?",u),(u=this.s)&&s.push("#",Ho(u,WG)),s.join("")};function Yc(s,c,u){s.j=u?Ls(c,!0):c,s.j&&(s.j=s.j.replace(/:$/,""))}function Ta(s,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);s.C=c}else s.C=null}function $o(s,c,u){c instanceof kf?(s.a=c,KG(s.a,s.i)):(u||(c=Ho(c,qG)),s.a=new kf(c,s.i))}function Of(s){return s instanceof Ai?new Ai(s):new Ai(s,void 0)}function Ls(s,c){return s?c?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Ho(s,c,u){return b(s)?(s=encodeURI(s).replace(c,HG),u&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function HG(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var yk=/[#\/\?@]/g,GG=/[#\?:]/g,zG=/[#\?]/g,qG=/[#\?@]/g,WG=/#/g;function kf(s,c){this.g=this.a=null,this.h=s||null,this.j=!!c}function Da(s){s.a||(s.a=new B,s.g=0,s.h&&vt(s.h,function(c,u){s.add(decodeURIComponent(c.replace(/\+/g," ")),u)}))}t=kf.prototype,t.add=function(s,c){Da(this),this.h=null,s=$u(this,s);var u=this.a.get(s);return u||this.a.set(s,u=[]),u.push(c),this.g+=1,this};function Qc(s,c){Da(s),c=$u(s,c),Se(s.a.g,c)&&(s.h=null,s.g-=s.a.get(c).length,s=s.a,Se(s.g,c)&&(delete s.g[c],s.h--,s.j++,s.a.length>2*s.h&&pe(s)))}t.clear=function(){this.a=this.h=null,this.g=0};function _k(s,c){return Da(s),c=$u(s,c),Se(s.a.g,c)}t.forEach=function(s,c){Da(this),this.a.forEach(function(u,f){Rt(u,function(p){s.call(c,p,f,this)},this)},this)},t.ja=function(){Da(this);for(var s=this.a.la(),c=this.a.ja(),u=[],f=0;f<c.length;f++)for(var p=s[f],g=0;g<p.length;g++)u.push(c[f]);return u},t.la=function(s){Da(this);var c=[];if(b(s))_k(this,s)&&(c=Hc(c,this.a.get($u(this,s))));else{s=this.a.la();for(var u=0;u<s.length;u++)c=Hc(c,s[u])}return c},t.set=function(s,c){return Da(this),this.h=null,s=$u(this,s),_k(this,s)&&(this.g-=this.a.get(s).length),this.a.set(s,[c]),this.g+=1,this},t.get=function(s,c){return s?(s=this.la(s),0<s.length?String(s[0]):c):c},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var s=[],c=this.a.ja(),u=0;u<c.length;u++){var f=c[u],p=encodeURIComponent(String(f));f=this.la(f);for(var g=0;g<f.length;g++){var _=p;f[g]!==""&&(_+="="+encodeURIComponent(String(f[g]))),s.push(_)}}return this.h=s.join("&")};function wk(s){var c=new kf;return c.h=s.h,s.a&&(c.a=new B(s.a),c.g=s.g),c}function $u(s,c){return c=String(c),s.j&&(c=c.toLowerCase()),c}function KG(s,c){c&&!s.j&&(Da(s),s.h=null,s.a.forEach(function(u,f){var p=f.toLowerCase();f!=p&&(Qc(this,f),Qc(this,p),0<u.length&&(this.h=null,this.a.set($u(this,p),Ea(u)),this.g+=u.length))},s)),s.j=c}function Jc(s){this.a=Of(s)}function YG(s,c){c?s.a.a.set(Vn.Sa,c):Qc(s.a.a,Vn.Sa)}function QG(s,c){c!==null?s.a.a.set(Vn.Qa,c?"1":"0"):Qc(s.a.a,Vn.Qa)}function bk(s){return s.a.a.get(Vn.Pa)||null}function Ck(s,c){c?s.a.a.set(Vn.PROVIDER_ID,c):Qc(s.a.a,Vn.PROVIDER_ID)}Jc.prototype.toString=function(){return this.a.toString()};var Vn={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},Hu;e:{var Ek=v.navigator;if(Ek){var Ik=Ek.userAgent;if(Ik){Hu=Ik;break e}}Hu=""}function at(s){return Hu.indexOf(s)!=-1}function Sk(){return(at("Chrome")||at("CriOS"))&&!at("Edge")}function TE(s){return TE[" "](s),s}TE[" "]=T;function JG(s,c){var u=ez;return Object.prototype.hasOwnProperty.call(u,s)?u[s]:u[s]=c(s)}var Tk=at("Opera"),gn=at("Trident")||at("MSIE"),xa=at("Edge"),XG=xa||gn,ao=at("Gecko")&&!(Hu.toLowerCase().indexOf("webkit")!=-1&&!at("Edge"))&&!(at("Trident")||at("MSIE"))&&!at("Edge"),Hi=Hu.toLowerCase().indexOf("webkit")!=-1&&!at("Edge"),ZG=Hi&&at("Mobile"),Aa=at("Macintosh");function Dk(){var s=v.document;return s?s.documentMode:void 0}var oy;e:{var DE="",xE=function(){var s=Hu;if(ao)return/rv:([^\);]+)(\)|;)/.exec(s);if(xa)return/Edge\/([\d\.]+)/.exec(s);if(gn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s);if(Hi)return/WebKit\/(\S+)/.exec(s);if(Tk)return/(?:Version)[ \/]?(\S+)/.exec(s)}();if(xE&&(DE=xE?xE[1]:""),gn){var AE=Dk();if(AE!=null&&AE>parseFloat(DE)){oy=String(AE);break e}}oy=DE}var ez={};function Xc(s){return JG(s,function(){for(var c=0,u=ni(String(oy)).split("."),f=ni(String(s)).split("."),p=Math.max(u.length,f.length),g=0;c==0&&g<p;g++){var _=u[g]||"",A=f[g]||"";do{if(_=/(\d*)(\D*)(.*)/.exec(_)||["","","",""],A=/(\d*)(\D*)(.*)/.exec(A)||["","","",""],_[0].length==0&&A[0].length==0)break;c=oo(_[1].length==0?0:parseInt(_[1],10),A[1].length==0?0:parseInt(A[1],10))||oo(_[2].length==0,A[2].length==0)||oo(_[2],A[2]),_=_[3],A=A[3]}while(c==0)}return 0<=c})}var Rf,xk=v.document;Rf=xk&&gn?Dk()||(xk.compatMode=="CSS1Compat"?parseInt(oy,10):5):void 0;function Gu(s,c){this.a=s===Mk&&c||"",this.g=Ak}Gu.prototype.ma=!0,Gu.prototype.ka=function(){return this.a},Gu.prototype.toString=function(){return"Const{"+this.a+"}"};var Ak={},Mk={};function Zc(){this.a="",this.h=Ok}Zc.prototype.ma=!0,Zc.prototype.ka=function(){return this.a.toString()},Zc.prototype.g=function(){return 1},Zc.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Pk(s){return s instanceof Zc&&s.constructor===Zc&&s.h===Ok?s.a:(nt("expected object of type TrustedResourceUrl, got '"+s+"' of type "+V(s)),"type_error:TrustedResourceUrl")}function tz(){var s=zz;s instanceof Gu&&s.constructor===Gu&&s.g===Ak?s=s.a:(nt("expected object of type Const, got '"+s+"'"),s="type_error:Const");var c=new Zc;return c.a=s,c}var Ok={};function pr(){this.a="",this.h=Nk}pr.prototype.ma=!0,pr.prototype.ka=function(){return this.a.toString()},pr.prototype.g=function(){return 1},pr.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Ma(s){return s instanceof pr&&s.constructor===pr&&s.h===Nk?s.a:(nt("expected object of type SafeUrl, got '"+s+"' of type "+V(s)),"type_error:SafeUrl")}var kk=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function sy(s){return s instanceof pr?s:(s=typeof s=="object"&&s.ma?s.ka():String(s),kk.test(s)||(s="about:invalid#zClosurez"),ME(s))}function Rk(s){return s instanceof pr?s:(s=typeof s=="object"&&s.ma?s.ka():String(s),kk.test(s)||(s="about:invalid#zClosurez"),ME(s))}var Nk={};function ME(s){var c=new pr;return c.a=s,c}ME("about:blank");function zu(){this.a="",this.g=Fk}zu.prototype.ma=!0;var Fk={};zu.prototype.ka=function(){return this.a},zu.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function Pa(){this.a="",this.j=Lk,this.h=null}Pa.prototype.g=function(){return this.h},Pa.prototype.ma=!0,Pa.prototype.ka=function(){return this.a.toString()},Pa.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function ay(s){return s instanceof Pa&&s.constructor===Pa&&s.j===Lk?s.a:(nt("expected object of type SafeHtml, got '"+s+"' of type "+V(s)),"type_error:SafeHtml")}var Lk={};function Nf(s,c){var u=new Pa;return u.a=s,u.h=c,u}Nf("<!DOCTYPE html>",0);var nz=Nf("",0);Nf("<br>",0);var iz=function(s){var c=!1,u;return function(){return c||(u=s(),c=!0),u}}(function(){if(typeof document>"u")return!1;var s=document.createElement("div"),c=document.createElement("div");return c.appendChild(document.createElement("div")),s.appendChild(c),s.firstChild?(c=s.firstChild.firstChild,s.innerHTML=ay(nz),!c.parentElement):!1});function rz(s,c){if(s.src=Pk(c),S===null)e:{if(c=v.document,(c=c.querySelector&&c.querySelector("script[nonce]"))&&(c=c.nonce||c.getAttribute("nonce"))&&w.test(c)){S=c;break e}S=""}c=S,c&&s.setAttribute("nonce",c)}function qu(s,c){c=c instanceof pr?c:Rk(c),s.assign(Ma(c))}function Oa(s,c){this.a=y(s)?s:0,this.g=y(c)?c:0}Oa.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Oa.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Oa.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Oa.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function PE(s,c){this.width=s,this.height=c}t=PE.prototype,t.toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function cy(s){return s?new NE(Ff(s)):he||(he=new NE)}function OE(s,c){var u=c||document;return u.querySelectorAll&&u.querySelector?u.querySelectorAll("."+s):Vk(document,s,c)}function kE(s,c){var u=c||document;if(u.getElementsByClassName)s=u.getElementsByClassName(s)[0];else{u=document;var f=c||u;s=f.querySelectorAll&&f.querySelector&&s?f.querySelector(s?"."+s:""):Vk(u,s,c)[0]||null}return s||null}function Vk(s,c,u){var f;if(s=u||s,s.querySelectorAll&&s.querySelector&&c)return s.querySelectorAll(c?"."+c:"");if(c&&s.getElementsByClassName){var p=s.getElementsByClassName(c);return p}if(p=s.getElementsByTagName("*"),c){var g={};for(u=f=0;s=p[u];u++){var _=s.className;typeof _.split=="function"&&ut(_.split(/\s+/),c)&&(g[f++]=s)}return g.length=f,g}return p}function oz(s,c){Wc(c,function(u,f){u&&typeof u=="object"&&u.ma&&(u=u.ka()),f=="style"?s.style.cssText=u:f=="class"?s.className=u:f=="for"?s.htmlFor=u:jk.hasOwnProperty(f)?s.setAttribute(jk[f],u):f.lastIndexOf("aria-",0)==0||f.lastIndexOf("data-",0)==0?s.setAttribute(f,u):s[f]=u})}var jk={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ly(s){return s.scrollingElement?s.scrollingElement:(Hi||s.compatMode!="CSS1Compat")&&s.body||s.documentElement}function el(s){s&&s.parentNode&&s.parentNode.removeChild(s)}function Ff(s){return s.nodeType==9?s:s.ownerDocument||s.document}function RE(s,c){if("textContent"in s)s.textContent=c;else if(s.nodeType==3)s.data=String(c);else if(s.firstChild&&s.firstChild.nodeType==3){for(;s.lastChild!=s.firstChild;)s.removeChild(s.lastChild);s.firstChild.data=String(c)}else{for(var u;u=s.firstChild;)s.removeChild(u);s.appendChild(Ff(s).createTextNode(String(c)))}}function Uk(s,c){return c?sz(s,function(u){return!c||b(u.className)&&ut(u.className.split(/\s+/),c)}):null}function sz(s,c){for(var u=0;s;){if(c(s))return s;s=s.parentNode,u++}return null}function NE(s){this.a=s||v.document||document}NE.prototype.N=function(){return b(void 0)?this.a.getElementById(void 0):void 0};var uy={Fc:!0},Bk={Hc:!0},az={Ec:!0},$k={Gc:!0};function ka(){throw Error("Do not instantiate directly")}ka.prototype.va=null,ka.prototype.toString=function(){return this.content};function Lf(s,c,u,f){if(s=s(c||uz,void 0,u),f=(f||cy()).a.createElement("DIV"),s=cz(s),s.match(lz),s=Nf(s,null),iz())for(;f.lastChild;)f.removeChild(f.lastChild);return f.innerHTML=ay(s),f.childNodes.length==1&&(s=f.firstChild,s.nodeType==1&&(f=s)),f}function cz(s){if(!U(s))return Rr(String(s));if(s instanceof ka){if(s.fa===uy)return s.content;if(s.fa===$k)return Rr(s.content)}return nt("Soy template output is unsafe for use as HTML: "+s),"zSoyz"}var lz=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,uz={};function dz(s){if(s!=null)switch(s.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function dy(){ka.call(this)}H(dy,ka),dy.prototype.fa=uy;function Oe(s){return s!=null&&s.fa===uy?s:s instanceof Pa?fe(ay(s).toString(),s.g()):fe(Rr(String(String(s))),dz(s))}function hy(){ka.call(this)}H(hy,ka),hy.prototype.fa=Bk,hy.prototype.va=1;function fy(s,c){this.content=String(s),this.va=c??null}H(fy,ka),fy.prototype.fa=$k;function Tt(s){return new fy(s,void 0)}var fe=function(s){function c(u){this.content=u}return c.prototype=s.prototype,function(u,f){return u=new c(String(u)),f!==void 0&&(u.va=f),u}}(dy),hz=function(s){function c(u){this.content=u}return c.prototype=s.prototype,function(u){return new c(String(u))}}(hy);function fz(s){function c(){}var u={label:vn("New password")};c.prototype=s,s=new c;for(var f in u)s[f]=u[f];return s}function vn(s){return(s=String(s))?new fy(s,void 0):""}var Hk=function(s){function c(u){this.content=u}return c.prototype=s.prototype,function(u,f){return u=String(u),u?(u=new c(u),f!==void 0&&(u.va=f),u):""}}(dy);function Gi(s){return s!=null&&s.fa===uy?String(String(s.content).replace(wz,"").replace(bz,"&lt;")).replace(vz,mz):Rr(String(s))}function tl(s){return s!=null&&s.fa===Bk?s=String(s).replace(LE,FE):s instanceof pr?s=String(Ma(s).toString()).replace(LE,FE):(s=String(s),_z.test(s)?s=s.replace(LE,FE):(nt("Bad value `%s` for |filterNormalizeUri",[s]),s="#zSoyz")),s}function Gk(s){return s!=null&&s.fa===az?s=s.content:s==null?s="":s instanceof zu?s instanceof zu&&s.constructor===zu&&s.g===Fk?s=s.a:(nt("expected object of type SafeStyle, got '"+s+"' of type "+V(s)),s="type_error:SafeStyle"):(s=String(s),yz.test(s)||(nt("Bad value `%s` for |filterCssValue",[s]),s="zSoyz")),s}var pz={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","\x85":"&#133;","\xA0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function mz(s){return pz[s]}var gz={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\x7F":"%7F","\x85":"%C2%85","\xA0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uFF01":"%EF%BC%81","\uFF03":"%EF%BC%83","\uFF04":"%EF%BC%84","\uFF06":"%EF%BC%86","\uFF07":"%EF%BC%87","\uFF08":"%EF%BC%88","\uFF09":"%EF%BC%89","\uFF0A":"%EF%BC%8A","\uFF0B":"%EF%BC%8B","\uFF0C":"%EF%BC%8C","\uFF0F":"%EF%BC%8F","\uFF1A":"%EF%BC%9A","\uFF1B":"%EF%BC%9B","\uFF1D":"%EF%BC%9D","\uFF1F":"%EF%BC%9F","\uFF20":"%EF%BC%A0","\uFF3B":"%EF%BC%BB","\uFF3D":"%EF%BC%BD"};function FE(s){return gz[s]}var vz=/[\x00\x22\x27\x3c\x3e]/g,LE=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,yz=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,_z=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,wz=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,bz=/</g;function VE(){return Tt("Enter a valid phone number")}function zk(){return Tt("Unable to send password reset code to specified email")}function qk(){return Tt("Something went wrong. Please try again.")}function Wk(){return Tt("This email already exists without any means of sign-in. Please reset the password to recover.")}function Kk(s){s=s||{};var c="";switch(s.code){case"invalid-argument":c+="Client specified an invalid argument.";break;case"invalid-configuration":c+="Client specified an invalid project configuration.";break;case"failed-precondition":c+="Request can not be executed in the current system state.";break;case"out-of-range":c+="Client specified an invalid range.";break;case"unauthenticated":c+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":c+="Client does not have sufficient permission.";break;case"not-found":c+="Specified resource is not found.";break;case"aborted":c+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":c+="The resource that a client tried to create already exists.";break;case"resource-exhausted":c+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":c+="Request cancelled by the client.";break;case"data-loss":c+="Unrecoverable data loss or data corruption.";break;case"unknown":c+="Unknown server error.";break;case"internal":c+="Internal server error.";break;case"not-implemented":c+="API method not implemented by the server.";break;case"unavailable":c+="Service unavailable.";break;case"deadline-exceeded":c+="Request deadline exceeded.";break;case"auth/user-disabled":c+="The user account has been disabled by an administrator.";break;case"auth/timeout":c+="The operation has timed out.";break;case"auth/too-many-requests":c+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":c+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":c+="A network error has occurred. Try again later.";break;case"restart-process":c+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":c+="No sign-in provider is available for the given email, please try with a different email."}return Tt(c)}function Yk(){return Tt("Please login again to perform this operation")}function Vf(s,c,u){var f=Error.call(this);if(this.message=f.message,"stack"in f&&(this.stack=f.stack),this.code=Cz+s,!(s=c)){switch(s="",this.code){case"firebaseui/merge-conflict":s+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:s+=qk()}s=Tt(s).toString()}this.message=s||"",this.credential=u||null}l(Vf,Error),Vf.prototype.toJSON=function(){return{code:this.code,message:this.message}};var Cz="firebaseui/";function nl(){jE!=0&&(Qk[this[re]||(this[re]=++Ee)]=this),this.T=this.T,this.C=this.C}var jE=0,Qk={};nl.prototype.T=!1,nl.prototype.m=function(){if(!this.T&&(this.T=!0,this.o(),jE!=0)){var s=this[re]||(this[re]=++Ee);if(jE!=0&&this.C&&0<this.C.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Qk[s]}};function jf(s,c){s.T?y(void 0)?c.call(void 0):c():(s.C||(s.C=[]),s.C.push(y(void 0)?Ie(c,void 0):c))}nl.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Uf(s){s&&typeof s.m=="function"&&s.m()}var Ez=Object.freeze||function(s){return s},Jk=!gn||9<=Number(Rf),Iz=gn&&!Xc("9"),Sz=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var s=!1,c=Object.defineProperty({},"passive",{get:function(){s=!0}});try{v.addEventListener("test",T,c),v.removeEventListener("test",T,c)}catch{}return s}();function Vs(s,c){this.type=s,this.g=this.target=c,this.h=!1,this.qb=!0}Vs.prototype.stopPropagation=function(){this.h=!0},Vs.prototype.preventDefault=function(){this.qb=!1};function zi(s,c){if(Vs.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,s){var u=this.type=s.type,f=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=c,c=s.relatedTarget){if(ao){e:{try{TE(c.nodeName);var p=!0;break e}catch{}p=!1}p||(c=null)}}else u=="mouseover"?c=s.fromElement:u=="mouseout"&&(c=s.toElement);this.relatedTarget=c,f?(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.keyCode=s.keyCode||0,this.key=s.key||"",this.j=s.charCode||(u=="keypress"?s.keyCode:0),this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=b(s.pointerType)?s.pointerType:Tz[s.pointerType]||"",this.a=s,s.defaultPrevented&&this.preventDefault()}}H(zi,Vs);var Tz=Ez({2:"touch",3:"pen",4:"mouse"});zi.prototype.stopPropagation=function(){zi.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},zi.prototype.preventDefault=function(){zi.K.preventDefault.call(this);var s=this.a;if(s.preventDefault)s.preventDefault();else if(s.returnValue=!1,Iz)try{(s.ctrlKey||112<=s.keyCode&&123>=s.keyCode)&&(s.keyCode=-1)}catch{}};var Bf="closure_listenable_"+(1e6*Math.random()|0),Dz=0;function xz(s,c,u,f,p){this.listener=s,this.proxy=null,this.src=c,this.type=u,this.capture=!!f,this.La=p,this.key=++Dz,this.sa=this.Ia=!1}function py(s){s.sa=!0,s.listener=null,s.proxy=null,s.src=null,s.La=null}function my(s){this.src=s,this.a={},this.g=0}my.prototype.add=function(s,c,u,f,p){var g=s.toString();s=this.a[g],s||(s=this.a[g]=[],this.g++);var _=BE(s,c,f,p);return-1<_?(c=s[_],u||(c.Ia=!1)):(c=new xz(c,this.src,g,!!f,p),c.Ia=u,s.push(c)),c};function UE(s,c){var u=c.type;u in s.a&&Ln(s.a[u],c)&&(py(c),s.a[u].length==0&&(delete s.a[u],s.g--))}function BE(s,c,u,f){for(var p=0;p<s.length;++p){var g=s[p];if(!g.sa&&g.listener==c&&g.capture==!!u&&g.La==f)return p}return-1}var $E="closure_lm_"+(1e6*Math.random()|0),HE={},Xk=0;function co(s,c,u,f,p){if(f&&f.once)return $f(s,c,u,f,p);if($(c)){for(var g=0;g<c.length;g++)co(s,c[g],u,f,p);return null}return u=zE(u),s&&s[Bf]?s.J.add(String(c),u,!1,U(f)?!!f.capture:!!f,p):Zk(s,c,u,!1,f,p)}function Zk(s,c,u,f,p,g){if(!c)throw Error("Invalid event type");var _=U(p)?!!p.capture:!!p,A=gy(s);if(A||(s[$E]=A=new my(s)),u=A.add(c,u,f,_,g),u.proxy)return u;if(f=Az(),u.proxy=f,f.src=s,f.listener=u,s.addEventListener)Sz||(p=_),p===void 0&&(p=!1),s.addEventListener(c.toString(),f,p);else if(s.attachEvent)s.attachEvent(eR(c.toString()),f);else if(s.addListener&&s.removeListener)s.addListener(f);else throw Error("addEventListener and attachEvent are unavailable.");return Xk++,u}function Az(){var s=Mz,c=Jk?function(u){return s.call(c.src,c.listener,u)}:function(u){if(u=s.call(c.src,c.listener,u),!u)return u};return c}function $f(s,c,u,f,p){if($(c)){for(var g=0;g<c.length;g++)$f(s,c[g],u,f,p);return null}return u=zE(u),s&&s[Bf]?s.J.add(String(c),u,!0,U(f)?!!f.capture:!!f,p):Zk(s,c,u,!0,f,p)}function il(s,c,u,f,p){if($(c))for(var g=0;g<c.length;g++)il(s,c[g],u,f,p);else f=U(f)?!!f.capture:!!f,u=zE(u),s&&s[Bf]?(s=s.J,c=String(c).toString(),c in s.a&&(g=s.a[c],u=BE(g,u,f,p),-1<u&&(py(g[u]),cn(g,u),g.length==0&&(delete s.a[c],s.g--)))):s&&(s=gy(s))&&(c=s.a[c.toString()],s=-1,c&&(s=BE(c,u,f,p)),(u=-1<s?c[s]:null)&&Ra(u))}function Ra(s){if(typeof s!="number"&&s&&!s.sa){var c=s.src;if(c&&c[Bf])UE(c.J,s);else{var u=s.type,f=s.proxy;c.removeEventListener?c.removeEventListener(u,f,s.capture):c.detachEvent?c.detachEvent(eR(u),f):c.addListener&&c.removeListener&&c.removeListener(f),Xk--,(u=gy(c))?(UE(u,s),u.g==0&&(u.src=null,c[$E]=null)):py(s)}}}function eR(s){return s in HE?HE[s]:HE[s]="on"+s}function tR(s,c,u,f){var p=!0;if((s=gy(s))&&(c=s.a[c.toString()]))for(c=c.concat(),s=0;s<c.length;s++){var g=c[s];g&&g.capture==u&&!g.sa&&(g=nR(g,f),p=p&&g!==!1)}return p}function nR(s,c){var u=s.listener,f=s.La||s.src;return s.Ia&&Ra(s),u.call(f,c)}function Mz(s,c){if(s.sa)return!0;if(!Jk){if(!c)e:{c=["window","event"];for(var u=v,f=0;f<c.length;f++)if(u=u[c[f]],u==null){c=null;break e}c=u}if(f=c,c=new zi(f,this),u=!0,!(0>f.keyCode||f.returnValue!=null)){e:{var p=!1;if(f.keyCode==0)try{f.keyCode=-1;break e}catch{p=!0}(p||f.returnValue==null)&&(f.returnValue=!0)}for(f=[],p=c.g;p;p=p.parentNode)f.push(p);for(s=s.type,p=f.length-1;!c.h&&0<=p;p--){c.g=f[p];var g=tR(f[p],s,!0,c);u=u&&g}for(p=0;!c.h&&p<f.length;p++)c.g=f[p],g=tR(f[p],s,!1,c),u=u&&g}return u}return nR(s,new zi(c,this))}function gy(s){return s=s[$E],s instanceof my?s:null}var GE="__closure_events_fn_"+(1e9*Math.random()>>>0);function zE(s){return ee(s)?s:(s[GE]||(s[GE]=function(c){return s.handleEvent(c)}),s[GE])}function jn(){nl.call(this),this.J=new my(this),this.wb=this,this.Ha=null}H(jn,nl),jn.prototype[Bf]=!0,jn.prototype.Za=function(s){this.Ha=s},jn.prototype.removeEventListener=function(s,c,u,f){il(this,s,c,u,f)};function Na(s,c){var u,f=s.Ha;if(f)for(u=[];f;f=f.Ha)u.push(f);if(s=s.wb,f=c.type||c,b(c))c=new Vs(c,s);else if(c instanceof Vs)c.target=c.target||s;else{var p=c;c=new Vs(f,s),Ns(c,p)}if(p=!0,u)for(var g=u.length-1;!c.h&&0<=g;g--){var _=c.g=u[g];p=vy(_,f,!0,c)&&p}if(c.h||(_=c.g=s,p=vy(_,f,!0,c)&&p,c.h||(p=vy(_,f,!1,c)&&p)),u)for(g=0;!c.h&&g<u.length;g++)_=c.g=u[g],p=vy(_,f,!1,c)&&p;return p}jn.prototype.o=function(){if(jn.K.o.call(this),this.J){var s=this.J,c=0,u;for(u in s.a){for(var f=s.a[u],p=0;p<f.length;p++)++c,py(f[p]);delete s.a[u],s.g--}}this.Ha=null};function vy(s,c,u,f){if(c=s.J.a[String(c)],!c)return!0;c=c.concat();for(var p=!0,g=0;g<c.length;++g){var _=c[g];if(_&&!_.sa&&_.capture==u){var A=_.listener,j=_.La||_.src;_.Ia&&UE(s.J,_),p=A.call(j,f)!==!1&&p}}return p&&f.qb!=0}var mr={},iR=0;function rR(s,c){if(!s)throw Error("Event target element must be provided!");if(s=qE(s),mr[s]&&mr[s].length)for(var u=0;u<mr[s].length;u++)Na(mr[s][u],c)}function Pz(s){var c=qE(s.N());mr[c]&&mr[c].length&&(Bi(mr[c],function(u){return u==s}),mr[c].length||delete mr[c])}function qE(s){return typeof s.a>"u"&&(s.a=iR,iR++),s.a}function yy(s){if(!s)throw Error("Event target element must be provided!");jn.call(this),this.a=s}l(yy,jn),yy.prototype.N=function(){return this.a},yy.prototype.register=function(){var s=qE(this.N());mr[s]?ut(mr[s],this)||mr[s].push(this):mr[s]=[this]};function oR(s){if(!s)return!1;try{return!!s.$goog_Thenable}catch{return!1}}function WE(s,c){this.h=s,this.j=c,this.g=0,this.a=null}WE.prototype.get=function(){if(0<this.g){this.g--;var s=this.a;this.a=s.next,s.next=null}else s=this.h();return s};function sR(s,c){s.j(c),100>s.g&&(s.g++,c.next=s.a,s.a=c)}function aR(){this.g=this.a=null}var cR=new WE(function(){return new KE},function(s){s.reset()});aR.prototype.add=function(s,c){var u=cR.get();u.set(s,c),this.g?this.g.next=u:this.a=u,this.g=u};function Oz(){var s=uR,c=null;return s.a&&(c=s.a,s.a=s.a.next,s.a||(s.g=null),c.next=null),c}function KE(){this.next=this.g=this.a=null}KE.prototype.set=function(s,c){this.a=s,this.g=c,this.next=null},KE.prototype.reset=function(){this.next=this.g=this.a=null};function lR(s){v.setTimeout(function(){throw s},0)}var YE;function kz(){var s=v.MessageChannel;if(typeof s>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!at("Presto")&&(s=function(){var p=document.createElement("IFRAME");p.style.display="none",p.src="",document.documentElement.appendChild(p);var g=p.contentWindow;p=g.document,p.open(),p.write(""),p.close();var _="callImmediate"+Math.random(),A=g.location.protocol=="file:"?"*":g.location.protocol+"//"+g.location.host;p=Ie(function(j){(A=="*"||j.origin==A)&&j.data==_&&this.port1.onmessage()},this),g.addEventListener("message",p,!1),this.port1={},this.port2={postMessage:function(){g.postMessage(_,A)}}}),typeof s<"u"&&!at("Trident")&&!at("MSIE")){var c=new s,u={},f=u;return c.port1.onmessage=function(){if(y(u.next)){u=u.next;var p=u.gb;u.gb=null,p()}},function(p){f.next={gb:p},f=f.next,c.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(p){var g=document.createElement("SCRIPT");g.onreadystatechange=function(){g.onreadystatechange=null,g.parentNode.removeChild(g),g=null,p(),p=null},document.documentElement.appendChild(g)}:function(p){v.setTimeout(p,0)}}function QE(s,c){_y||Rz(),JE||(_y(),JE=!0),uR.add(s,c)}var _y;function Rz(){if(v.Promise&&v.Promise.resolve){var s=v.Promise.resolve(void 0);_y=function(){s.then(dR)}}else _y=function(){var c=dR;!ee(v.setImmediate)||v.Window&&v.Window.prototype&&!at("Edge")&&v.Window.prototype.setImmediate==v.setImmediate?(YE||(YE=kz()),YE(c)):v.setImmediate(c)}}var JE=!1,uR=new aR;function dR(){for(var s;s=Oz();){try{s.a.call(s.g)}catch(c){lR(c)}sR(cR,s)}JE=!1}function Un(s){if(this.a=rl,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,s!=T)try{var c=this;s.call(void 0,function(u){ol(c,Hf,u)},function(u){if(!(u instanceof Ku))try{throw u instanceof Error?u:Error("Promise rejected.")}catch{}ol(c,js,u)})}catch(u){ol(this,js,u)}}var rl=0,Hf=2,js=3;function hR(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}hR.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var fR=new WE(function(){return new hR},function(s){s.reset()});function XE(s,c,u){var f=fR.get();return f.s=s,f.g=c,f.j=u,f}function yn(s){if(s instanceof Un)return s;var c=new Un(T);return ol(c,Hf,s),c}function Wu(s){return new Un(function(c,u){u(s)})}Un.prototype.then=function(s,c,u){return mR(this,ee(s)?s:null,ee(c)?c:null,u)},Un.prototype.$goog_Thenable=!0,t=Un.prototype,t.fc=function(s,c){return s=XE(s,s,c),s.h=!0,ZE(this,s),this},t.Ca=function(s,c){return mR(this,null,s,c)},t.cancel=function(s){this.a==rl&&QE(function(){var c=new Ku(s);pR(this,c)},this)};function pR(s,c){if(s.a==rl)if(s.h){var u=s.h;if(u.g){for(var f=0,p=null,g=null,_=u.g;_&&(_.h||(f++,_.a==s&&(p=_),!(p&&1<f)));_=_.next)p||(g=_);p&&(u.a==rl&&f==1?pR(u,c):(g?(f=g,f.next==u.j&&(u.j=f),f.next=f.next.next):vR(u),yR(u,p,js,c)))}s.h=null}else ol(s,js,c)}function ZE(s,c){s.g||s.a!=Hf&&s.a!=js||gR(s),s.j?s.j.next=c:s.g=c,s.j=c}function mR(s,c,u,f){var p=XE(null,null,null);return p.a=new Un(function(g,_){p.s=c?function(A){try{var j=c.call(f,A);g(j)}catch(Y){_(Y)}}:g,p.g=u?function(A){try{var j=u.call(f,A);!y(j)&&A instanceof Ku?_(A):g(j)}catch(Y){_(Y)}}:_}),p.a.h=s,ZE(s,p),p.a}t.hc=function(s){this.a=rl,ol(this,Hf,s)},t.ic=function(s){this.a=rl,ol(this,js,s)};function ol(s,c,u){if(s.a==rl){s===u&&(c=js,u=new TypeError("Promise cannot resolve to itself")),s.a=1;e:{var f=u,p=s.hc,g=s.ic;if(f instanceof Un){ZE(f,XE(p||T,g||null,s));var _=!0}else if(oR(f))f.then(p,g,s),_=!0;else{if(U(f))try{var A=f.then;if(ee(A)){Nz(f,A,p,g,s),_=!0;break e}}catch(j){g.call(s,j),_=!0;break e}_=!1}}_||(s.A=u,s.a=c,s.h=null,gR(s),c!=js||u instanceof Ku||Fz(s,u))}}function Nz(s,c,u,f,p){function g(j){A||(A=!0,f.call(p,j))}function _(j){A||(A=!0,u.call(p,j))}var A=!1;try{c.call(s,_,g)}catch(j){g(j)}}function gR(s){s.i||(s.i=!0,QE(s.Hb,s))}function vR(s){var c=null;return s.g&&(c=s.g,s.g=c.next,c.next=null),s.g||(s.j=null),c}t.Hb=function(){for(var s;s=vR(this);)yR(this,s,this.a,this.A);this.i=!1};function yR(s,c,u,f){if(u==js&&c.g&&!c.h)for(;s&&s.s;s=s.h)s.s=!1;if(c.a)c.a.h=null,_R(c,u,f);else try{c.h?c.s.call(c.j):_R(c,u,f)}catch(p){wR.call(null,p)}sR(fR,c)}function _R(s,c,u){c==Hf?s.s.call(s.j,u):s.g&&s.g.call(s.j,u)}function Fz(s,c){s.s=!0,QE(function(){s.s&&wR.call(null,c)})}var wR=lR;function Ku(s){ie.call(this,s)}H(Ku,ie),Ku.prototype.name="cancel";function bR(s,c,u){c||(c={}),u=u||window;var f=s instanceof pr?s:sy(typeof s.href<"u"?s.href:String(s));s=c.target||s.target;var p=[];for(g in c)switch(g){case"width":case"height":case"top":case"left":p.push(g+"="+c[g]);break;case"target":case"noopener":case"noreferrer":break;default:p.push(g+"="+(c[g]?1:0))}var g=p.join(",");return(at("iPhone")&&!at("iPod")&&!at("iPad")||at("iPad")||at("iPod"))&&u.navigator&&u.navigator.standalone&&s&&s!="_self"?(g=u.document.createElement("A"),f=f instanceof pr?f:Rk(f),g.href=Ma(f),g.setAttribute("target",s),c.noreferrer&&g.setAttribute("rel","noreferrer"),c=document.createEvent("MouseEvent"),c.initMouseEvent("click",!0,!0,u,1),g.dispatchEvent(c),u={}):c.noreferrer?(u=u.open("",s,g),c=Ma(f).toString(),u&&(XG&&c.indexOf(";")!=-1&&(c="'"+c.replace(/'/g,"%27")+"'"),u.opener=null,c=Nf('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Rr(c)+'">',null),u.document.write(ay(c)),u.document.close())):(u=u.open(Ma(f).toString(),s,g))&&c.noopener&&(u.opener=null),u}function CR(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function Yu(s){bR(s,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function wy(s,c){if(s=U(s)&&s.nodeType==1?s:document.querySelector(String(s)),s==null)throw Error(c||"Cannot find element.");return s}function Us(){return window.location.href}function Lz(){var s=null;return new Un(function(c){v.document.readyState=="complete"?c():(s=function(){c()},$f(window,"load",s))}).Ca(function(c){throw il(window,"load",s),c})}function Vz(){for(var s=32,c=[];0<s;)c.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return c.join("")}function jz(s,c,u){return u=u===void 0?{}:u,Object.keys(s).filter(function(f){return c.includes(f)}).reduce(function(f,p){return f[p]=s[p],f},u)}function Fa(s){var c=$z;this.s=[],this.T=c,this.O=s||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}Fa.prototype.cancel=function(s){if(this.a)this.h instanceof Fa&&this.h.cancel();else{if(this.g){var c=this.g;delete this.g,s?c.cancel(s):(c.C--,0>=c.C&&c.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(s=new zf(this),by(this),Gf(this,!1,s))}},Fa.prototype.L=function(s,c){this.A=!1,Gf(this,s,c)};function Gf(s,c,u){s.a=!0,s.h=u,s.j=!c,SR(s)}function by(s){if(s.a){if(!s.J)throw new Cy(s);s.J=!1}}Fa.prototype.callback=function(s){by(this),Gf(this,!0,s)};function ER(s,c,u){s.s.push([c,u,void 0]),s.a&&SR(s)}Fa.prototype.then=function(s,c,u){var f,p,g=new Un(function(_,A){f=_,p=A});return ER(this,f,function(_){_ instanceof zf?g.cancel():p(_)}),g.then(s,c,u)},Fa.prototype.$goog_Thenable=!0;function IR(s){return fr(s.s,function(c){return ee(c[1])})}function SR(s){if(s.i&&s.a&&IR(s)){var c=s.i,u=Ey[c];u&&(v.clearTimeout(u.a),delete Ey[c]),s.i=0}s.g&&(s.g.C--,delete s.g),c=s.h;for(var f=u=!1;s.s.length&&!s.A;){var p=s.s.shift(),g=p[0],_=p[1];if(p=p[2],g=s.j?_:g)try{var A=g.call(p||s.O,c);y(A)&&(s.j=s.j&&(A==c||A instanceof Error),s.h=c=A),(oR(c)||typeof v.Promise=="function"&&c instanceof v.Promise)&&(f=!0,s.A=!0)}catch(j){c=j,s.j=!0,IR(s)||(u=!0)}}s.h=c,f&&(A=Ie(s.L,s,!0),f=Ie(s.L,s,!1),c instanceof Fa?(ER(c,A,f),c.l=!0):c.then(A,f)),u&&(c=new TR(c),Ey[c.a]=c,s.i=c.a)}function Cy(){ie.call(this)}H(Cy,ie),Cy.prototype.message="Deferred has already fired",Cy.prototype.name="AlreadyCalledError";function zf(){ie.call(this)}H(zf,ie),zf.prototype.message="Deferred was canceled",zf.prototype.name="CanceledError";function TR(s){this.a=v.setTimeout(Ie(this.h,this),0),this.g=s}TR.prototype.h=function(){throw delete Ey[this.a],this.g};var Ey={};function Uz(s){var c={},u=c.document||document,f=Pk(s).toString(),p=document.createElement("SCRIPT"),g={rb:p,sb:void 0},_=new Fa(g),A=null,j=c.timeout!=null?c.timeout:5e3;return 0<j&&(A=window.setTimeout(function(){Iy(p,!0);var Y=new eI(Gz,"Timeout reached for loading script "+f);by(_),Gf(_,!1,Y)},j),g.sb=A),p.onload=p.onreadystatechange=function(){p.readyState&&p.readyState!="loaded"&&p.readyState!="complete"||(Iy(p,c.xc||!1,A),_.callback(null))},p.onerror=function(){Iy(p,!0,A);var Y=new eI(Hz,"Error while loading script "+f);by(_),Gf(_,!1,Y)},g=c.attributes||{},Ns(g,{type:"text/javascript",charset:"UTF-8"}),oz(p,g),rz(p,s),Bz(u).appendChild(p),_}function Bz(s){var c=(s||document).getElementsByTagName("HEAD");return c&&c.length!=0?c[0]:s.documentElement}function $z(){if(this&&this.rb){var s=this.rb;s&&s.tagName=="SCRIPT"&&Iy(s,!0,this.sb)}}function Iy(s,c,u){u!=null&&v.clearTimeout(u),s.onload=T,s.onerror=T,s.onreadystatechange=T,c&&window.setTimeout(function(){el(s)},0)}var Hz=0,Gz=1;function eI(s,c){var u="Jsloader error (code #"+s+")";c&&(u+=": "+c),ie.call(this,u),this.code=s}H(eI,ie);function qf(){return v.google&&v.google.accounts&&v.google.accounts.id||null}function tI(s){this.a=s||qf(),this.h=!1,this.g=null}tI.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function DR(s,c,u){if(s.a&&c)return function(){return s.h=!0,new Un(function(p){s.g=p,s.a.initialize({client_id:c,callback:p,auto_select:!u}),s.a.prompt()})}();if(c){var f=nI.Xa().load().then(function(){return s.a=qf(),DR(s,c,u)}).Ca(function(){return null});return yn(f)}return yn(null)}O(tI);var zz=new Gu(Mk,"https://accounts.google.com/gsi/client");function nI(){this.a=null}nI.prototype.load=function(){var s=this;if(this.a)return this.a;var c=tz();return qf()?yn():this.a=Lz().then(function(){if(!qf())return new Un(function(u,f){var p=setTimeout(function(){s.a=null,f(Error("Network error!"))},1e4);v.onGoogleLibraryLoad=function(){clearTimeout(p),u()},yn(Uz(c)).then(function(){qf()&&u()}).Ca(function(g){clearTimeout(p),s.a=null,f(g)})})})},O(nI);function iI(s,c){this.a=s,this.g=c||function(u){throw u}}iI.prototype.confirm=function(s){return yn(this.a.confirm(s)).Ca(this.g)};function rI(s,c,u){this.reset(s,c,u,void 0,void 0)}rI.prototype.a=null;var qz=0;rI.prototype.reset=function(s,c,u,f,p){typeof p=="number"||qz++,this.h=f||an(),this.j=s,this.s=c,this.g=u,delete this.a};function oI(s){this.s=s,this.a=this.h=this.j=this.g=null}function Sy(s,c){this.name=s,this.value=c}Sy.prototype.toString=function(){return this.name};var xR=new Sy("SEVERE",1e3),AR=new Sy("WARNING",900),MR=new Sy("CONFIG",700);function PR(s){return s.j?s.j:s.g?PR(s.g):(nt("Root logger has no level set."),null)}oI.prototype.log=function(s,c,u){if(s.value>=PR(this).value)for(ee(c)&&(c=c()),s=new rI(s,String(c),this.s),u&&(s.a=u),u=this;u;){var f=u,p=s;if(f.a)for(var g=0;c=f.a[g];g++)c(p);u=u.g}};var sI={},Wf=null;function OR(){Wf||(Wf=new oI(""),sI[""]=Wf,Wf.j=MR)}function kR(s){OR();var c;if(!(c=sI[s])){c=new oI(s);var u=s.lastIndexOf("."),f=s.substr(u+1);u=kR(s.substr(0,u)),u.h||(u.h={}),u.h[f]=c,c.g=u,sI[s]=c}return c}function Ty(){this.a=an()}var aI=null;Ty.prototype.set=function(s){this.a=s},Ty.prototype.reset=function(){this.set(an())},Ty.prototype.get=function(){return this.a};function Kf(s){this.j=s||"",aI||(aI=new Ty),this.s=aI}Kf.prototype.a=!0,Kf.prototype.g=!0,Kf.prototype.h=!1;function sl(s){return 10>s?"0"+s:String(s)}function Wz(s,c){s=(s.h-c)/1e3,c=s.toFixed(3);var u=0;if(1>s)u=2;else for(;100>s;)u++,s*=10;for(;0<u--;)c=" "+c;return c}function RR(s){Kf.call(this,s)}H(RR,Kf);function Kz(s,c){var u=[];if(u.push(s.j," "),s.g){var f=new Date(c.h);u.push("[",sl(f.getFullYear()-2e3)+sl(f.getMonth()+1)+sl(f.getDate())+" "+sl(f.getHours())+":"+sl(f.getMinutes())+":"+sl(f.getSeconds())+"."+sl(Math.floor(f.getMilliseconds()/10)),"] ")}return u.push("[",Wz(c,s.s.get()),"s] "),u.push("[",c.g,"] "),u.push(c.s),s.h&&(c=c.a)&&u.push(`
`,c instanceof Error?c.message:c.toString()),s.a&&u.push(`
`),u.join("")}function NR(){this.s=Ie(this.h,this),this.a=new RR,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}NR.prototype.h=function(s){function c(g){if(g){if(g.value>=xR.value)return"error";if(g.value>=AR.value)return"warn";if(g.value>=MR.value)return"log"}return"debug"}if(!this.j[s.g]){var u=Kz(this.a,s),f=Yz;if(f){var p=c(s.j);Qz(f,p,u,s.a)}}};var Yz=v.console;function Qz(s,c,u,f){s[c]?s[c](u,f||""):s.log(u,f||"")}function gr(s,c){var u=cI;u&&u.log(xR,s,c)}var cI;cI=kR("firebaseui");var lI=new NR;if(lI.g!=1){var Dy;OR(),Dy=Wf;var Jz=lI.s;Dy.a||(Dy.a=[]),Dy.a.push(Jz),lI.g=!0}function La(s){var c=cI;c&&c.log(AR,s,void 0)}function FR(){this.a=(typeof document>"u"?null:document)||{cookie:""}}t=FR.prototype,t.set=function(s,c,u,f,p,g){if(/[;=\s]/.test(s))throw Error('Invalid cookie name "'+s+'"');if(/[;\r\n]/.test(c))throw Error('Invalid cookie value "'+c+'"');y(u)||(u=-1),p=p?";domain="+p:"",f=f?";path="+f:"",g=g?";secure":"",u=0>u?"":u==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(an()+1e3*u).toUTCString(),this.a.cookie=s+"="+c+p+f+u+g},t.get=function(s,c){for(var u=s+"=",f=(this.a.cookie||"").split(";"),p=0,g;p<f.length;p++){if(g=ni(f[p]),g.lastIndexOf(u,0)==0)return g.substr(u.length);if(g==s)return""}return c},t.ja=function(){return uI(this).keys},t.la=function(){return uI(this).values},t.clear=function(){for(var s=uI(this).keys,c=s.length-1;0<=c;c--){var u=s[c];this.get(u),this.set(u,"",0,void 0,void 0)}};function uI(s){s=(s.a.cookie||"").split(";");for(var c=[],u=[],f,p,g=0;g<s.length;g++)p=ni(s[g]),f=p.indexOf("="),f==-1?(c.push(""),u.push(p)):(c.push(p.substring(0,f)),u.push(p.substring(f+1)));return{keys:c,values:u}}var xy=new FR;function LR(){}function Qu(s,c,u,f){this.h=typeof s<"u"&&s!==null?s:-1,this.g=c||null,this.a=u||null,this.j=!!f}l(Qu,LR),Qu.prototype.set=function(s,c){xy.set(s,c,this.h,this.g,this.a,this.j)},Qu.prototype.get=function(s){return xy.get(s)||null},Qu.prototype.ra=function(s){var c=this.g,u=this.a;xy.get(s),xy.set(s,"",0,c,u)};function dI(s,c){this.g=s,this.a=c||null}function VR(s){return{email:s.g,credential:s.a&&s.a.toJSON()}}function jR(s){if(s&&s.email){var c=s.credential&&be.auth.AuthCredential.fromJSON(s.credential);return new dI(s.email,c)}return null}function UR(s){this.a=s||null}function BR(s){for(var c=[],u=0,f=0;f<s.length;f++){var p=s.charCodeAt(f);255<p&&(c[u++]=p&255,p>>=8),c[u++]=p}return c}function Xz(s){return xi(s,function(c){return c=c.toString(16),1<c.length?c:"0"+c}).join("")}function Ay(s){for(this.i=s,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(Ju*(this.j+1)),s=0;s<this.g;s++)this.a[s]=[this.i[4*s],this.i[4*s+1],this.i[4*s+2],this.i[4*s+3]];var c=Array(4);for(s=this.g;s<Ju*(this.j+1);s++){if(c[0]=this.a[s-1][0],c[1]=this.a[s-1][1],c[2]=this.a[s-1][2],c[3]=this.a[s-1][3],s%this.g==0){var u=c,f=u[0];u[0]=u[1],u[1]=u[2],u[2]=u[3],u[3]=f,qR(c),c[0]^=Py[s/this.g][0],c[1]^=Py[s/this.g][1],c[2]^=Py[s/this.g][2],c[3]^=Py[s/this.g][3]}else 6<this.g&&s%this.g==4&&qR(c);this.a[s]=Array(4),this.a[s][0]=this.a[s-this.g][0]^c[0],this.a[s][1]=this.a[s-this.g][1]^c[1],this.a[s][2]=this.a[s-this.g][2]^c[2],this.a[s][3]=this.a[s-this.g][3]^c[3]}}Ay.prototype.A=16;var Ju=Ay.prototype.A/4;function $R(s,c){for(var u,f=0;f<Ju;f++)for(var p=0;4>p;p++)u=4*p+f,u=c[u],s.h[f][p]=u}function HR(s){for(var c=[],u=0;u<Ju;u++)for(var f=0;4>f;f++)c[4*f+u]=s.h[u][f];return c}function Xu(s,c){for(var u=0;4>u;u++)for(var f=0;4>f;f++)s.h[u][f]^=s.a[4*c+f][u]}function My(s,c){for(var u=0;4>u;u++)for(var f=0;4>f;f++)s.h[u][f]=c[s.h[u][f]]}function GR(s){for(var c=1;4>c;c++)for(var u=0;4>u;u++)s.s[c][u]=s.h[c][u];for(c=1;4>c;c++)for(u=0;4>u;u++)s.h[c][u]=s.s[c][(u+c)%Ju]}function zR(s){for(var c=1;4>c;c++)for(var u=0;4>u;u++)s.s[c][(u+c)%Ju]=s.h[c][u];for(c=1;4>c;c++)for(u=0;4>u;u++)s.h[c][u]=s.s[c][u]}function qR(s){s[0]=Zu[s[0]],s[1]=Zu[s[1]],s[2]=Zu[s[2]],s[3]=Zu[s[3]]}var Zu=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],WR=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Py=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Oy=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],ky=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],Ry=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],Ny=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],Fy=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],Ly=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function KR(s,c){s=new Ay(QR(s)),c=BR(c);for(var u=c.splice(0,16),f="",p;u.length;){p=16-u.length;for(var g=0;g<p;g++)u.push(0);for(p=s,$R(p,u),Xu(p,0),u=1;u<p.j;++u){My(p,Zu),GR(p),g=p.h;for(var _=p.s[0],A=0;4>A;A++)_[0]=g[0][A],_[1]=g[1][A],_[2]=g[2][A],_[3]=g[3][A],g[0][A]=Oy[_[0]]^ky[_[1]]^_[2]^_[3],g[1][A]=_[0]^Oy[_[1]]^ky[_[2]]^_[3],g[2][A]=_[0]^_[1]^Oy[_[2]]^ky[_[3]],g[3][A]=ky[_[0]]^_[1]^_[2]^Oy[_[3]];Xu(p,u)}My(p,Zu),GR(p),Xu(p,p.j),f+=Xz(HR(p)),u=c.splice(0,16)}return f}function YR(s,c){s=new Ay(QR(s));for(var u=[],f=0;f<c.length;f+=2)u.push(parseInt(c.substring(f,f+2),16));var p=u.splice(0,16);for(c="";p.length;){for(f=s,$R(f,p),Xu(f,f.j),p=1;p<f.j;++p){zR(f),My(f,WR),Xu(f,f.j-p);for(var g=f.h,_=f.s[0],A=0;4>A;A++)_[0]=g[0][A],_[1]=g[1][A],_[2]=g[2][A],_[3]=g[3][A],g[0][A]=Ly[_[0]]^Ny[_[1]]^Fy[_[2]]^Ry[_[3]],g[1][A]=Ry[_[0]]^Ly[_[1]]^Ny[_[2]]^Fy[_[3]],g[2][A]=Fy[_[0]]^Ry[_[1]]^Ly[_[2]]^Ny[_[3]],g[3][A]=Ny[_[0]]^Fy[_[1]]^Ry[_[2]]^Ly[_[3]]}if(zR(f),My(f,WR),Xu(f,0),f=HR(f),8192>=f.length)f=String.fromCharCode.apply(null,f);else{for(p="",g=0;g<f.length;g+=8192)p+=String.fromCharCode.apply(null,ju(f,g,g+8192));f=p}c+=f,p=u.splice(0,16)}return c.replace(/(\x00)+$/,"")}function QR(s){s=BR(s.substring(0,32));for(var c=32-s.length,u=0;u<c;u++)s.push(0);return s}function JR(s){var c=[];return hI(new Zz,s,c),c.join("")}function Zz(){}function hI(s,c,u){if(c==null)u.push("null");else{if(typeof c=="object"){if($(c)){var f=c;c=f.length,u.push("[");for(var p="",g=0;g<c;g++)u.push(p),hI(s,f[g],u),p=",";u.push("]");return}if(c instanceof String||c instanceof Number||c instanceof Boolean)c=c.valueOf();else{u.push("{"),p="";for(f in c)Object.prototype.hasOwnProperty.call(c,f)&&(g=c[f],typeof g!="function"&&(u.push(p),ZR(f,u),u.push(":"),hI(s,g,u),p=","));u.push("}");return}}switch(typeof c){case"string":ZR(c,u);break;case"number":u.push(isFinite(c)&&!isNaN(c)?String(c):"null");break;case"boolean":u.push(String(c));break;case"function":u.push("null");break;default:throw Error("Unknown type: "+typeof c)}}}var XR={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},e8=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ZR(s,c){c.push('"',s.replace(e8,function(u){var f=XR[u];return f||(f="\\u"+(u.charCodeAt(0)|65536).toString(16).substr(1),XR[u]=f),f}),'"')}function Yf(s){this.a=s}Yf.prototype.set=function(s,c){y(c)?this.a.set(s,JR(c)):this.a.ra(s)},Yf.prototype.get=function(s){try{var c=this.a.get(s)}catch{return}if(c!==null)try{return JSON.parse(c)}catch{throw"Storage: Invalid value was encountered"}};function Vy(){}H(Vy,LR),Vy.prototype.clear=function(){var s=SE(this.ha(!0)),c=this;Rt(s,function(u){c.ra(u)})};function jy(s){this.a=s}H(jy,Vy);function Uy(s){if(!s.a)return!1;try{return s.a.setItem("__sak","1"),s.a.removeItem("__sak"),!0}catch{return!1}}t=jy.prototype,t.set=function(s,c){try{this.a.setItem(s,c)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},t.get=function(s){if(s=this.a.getItem(s),!b(s)&&s!==null)throw"Storage mechanism: Invalid value was encountered";return s},t.ra=function(s){this.a.removeItem(s)},t.ha=function(s){var c=0,u=this.a,f=new Fs;return f.next=function(){if(c>=u.length)throw Sa;var p=u.key(c++);if(s)return p;if(p=u.getItem(p),!b(p))throw"Storage mechanism: Invalid value was encountered";return p},f},t.clear=function(){this.a.clear()},t.key=function(s){return this.a.key(s)};function fI(){var s=null;try{s=window.localStorage||null}catch{}this.a=s}H(fI,jy);function pI(){var s=null;try{s=window.sessionStorage||null}catch{}this.a=s}H(pI,jy);function ed(s,c){this.g=s,this.a=c+"::"}H(ed,Vy),ed.prototype.set=function(s,c){this.g.set(this.a+s,c)},ed.prototype.get=function(s){return this.g.get(this.a+s)},ed.prototype.ra=function(s){this.g.ra(this.a+s)},ed.prototype.ha=function(s){var c=this.g.ha(!0),u=this,f=new Fs;return f.next=function(){for(var p=c.next();p.substr(0,u.a.length)!=u.a;)p=c.next();return s?p.substr(u.a.length):u.g.get(p)},f},Uy(new fI);var eN,tN=new pI;eN=Uy(tN)?new ed(tN,"firebaseui"):null;var mI=new Yf(eN),gI={name:"pendingEmailCredential",storage:mI},al={name:"redirectStatus",storage:mI},Qf={name:"redirectUrl",storage:mI},td={name:"emailForSignIn",storage:new Yf(new Qu(3600,"/"))},Jf={name:"pendingEncryptedCredential",storage:new Yf(new Qu(3600,"/"))};function nd(s,c){return s.storage.get(c?s.name+":"+c:s.name)}function rr(s,c){s.storage.a.ra(c?s.name+":"+c:s.name)}function id(s,c,u){s.storage.set(u?s.name+":"+u:s.name,c)}function nN(s){return nd(Qf,s)||null}function Go(s){return s=nd(gI,s)||null,jR(s)}function zo(s){rr(gI,s)}function iN(s,c){id(gI,VR(s),c)}function vI(s){return(s=nd(al,s)||null)&&typeof s.tenantId<"u"?new UR(s.tenantId):null}function t8(s,c){id(al,{tenantId:s.a},c)}function n8(s,c){c=nd(td,c);var u=null;if(c)try{var f=YR(s,c),p=JSON.parse(f);u=p&&p.email||null}catch{}return u}function i8(s,c){c=nd(Jf,c);var u=null;if(c)try{var f=YR(s,c);u=JSON.parse(f)}catch{}return jR(u||null)}function r8(s,c,u){id(Jf,KR(s,JSON.stringify(VR(c))),u)}function yI(){this.W={}}function An(s,c,u){if(c.toLowerCase()in s.W)throw Error("Configuration "+c+" has already been defined.");s.W[c.toLowerCase()]=u}function _I(s,c,u){if(!(c.toLowerCase()in s.W))throw Error("Configuration "+c+" is not defined.");s.W[c.toLowerCase()]=u}yI.prototype.get=function(s){if(!(s.toLowerCase()in this.W))throw Error("Configuration "+s+" is not defined.");return this.W[s.toLowerCase()]};function wI(s,c){if(s=s.get(c),!s)throw Error("Configuration "+c+" is required.");return s}function bI(){this.g=void 0,this.a={}}t=bI.prototype,t.set=function(s,c){rN(this,s,c,!1)},t.add=function(s,c){rN(this,s,c,!0)};function rN(s,c,u,f){for(var p=0;p<c.length;p++){var g=c.charAt(p);s.a[g]||(s.a[g]=new bI),s=s.a[g]}if(f&&s.g!==void 0)throw Error('The collection already contains the key "'+c+'"');s.g=u}t.get=function(s){e:{for(var c=this,u=0;u<s.length;u++)if(c=c.a[s.charAt(u)],!c){s=void 0;break e}s=c}return s?s.g:void 0},t.la=function(){var s=[];return oN(this,s),s};function oN(s,c){s.g!==void 0&&c.push(s.g);for(var u in s.a)oN(s.a[u],c)}t.ja=function(){var s=[];return sN(this,"",s),s};function sN(s,c,u){s.g!==void 0&&u.push(c);for(var f in s.a)sN(s.a[f],c+f,u)}t.clear=function(){this.a={},this.g=void 0};function aN(s){for(this.a=s,this.g=new bI,s=0;s<this.a.length;s++){var c=this.g.get("+"+this.a[s].b);c?c.push(this.a[s]):this.g.add("+"+this.a[s].b,[this.a[s]])}}function By(s,c){s=s.g;var u={},f=0;for(s.g!==void 0&&(u[f]=s.g);f<c.length;f++){var p=c.charAt(f);if(!(p in s.a))break;s=s.a[p],s.g!==void 0&&(u[f]=s.g)}for(var g in u)if(u.hasOwnProperty(g))return u[g];return[]}function cl(s){for(var c=0;c<qi.length;c++)if(qi[c].c===s)return qi[c];return null}function cN(s){s=s.toUpperCase();for(var c=[],u=0;u<qi.length;u++)qi[u].f===s&&c.push(qi[u]);return c}function lN(s){if(0<s.length&&s.charAt(0)=="+"){s=s.substring(1);for(var c=[],u=0;u<qi.length;u++)qi[u].b==s&&c.push(qi[u]);s=c}else s=cN(s);return s}function uN(s){s.sort(function(c,u){return c.name.localeCompare(u.name,"en")})}var qi=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"\xC5land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"C\xF4te d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Cura\xE7ao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"R\xE9union",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barth\xE9lemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"S\xE3o Tom\xE9 and Pr\xEDncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];uN(qi);var Xf=new aN(qi);function dN(s,c){this.a=s,this.Aa=c}function hN(s){s=ni(s);var c=By(Xf,s);return 0<c.length?new dN(c[0].b=="1"?"1-US-0":c[0].c,ni(s.substr(c[0].b.length+1))):null}function CI(s){var c=cl(s.a);if(!c)throw Error("Country ID "+s.a+" not found.");return"+"+c.b+s.Aa}function fN(s,c){for(var u=0;u<s.length;u++)if(!ut(pN,s[u])&&(rd!==null&&s[u]in rd||ut(c,s[u])))return s[u];return null}var pN=["emailLink","password","phone"],rd={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function o8(){this.a=new yI,An(this.a,"autoUpgradeAnonymousUsers"),An(this.a,"callbacks"),An(this.a,"credentialHelper",Gy),An(this.a,"immediateFederatedRedirect",!1),An(this.a,"popupMode",!1),An(this.a,"privacyPolicyUrl"),An(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),An(this.a,"queryParameterForWidgetMode","mode"),An(this.a,"signInFlow"),An(this.a,"signInOptions"),An(this.a,"signInSuccessUrl"),An(this.a,"siteName"),An(this.a,"tosUrl"),An(this.a,"widgetUrl"),An(this.a,"adminRestrictedOperation")}function $y(s){var c=!!s.a.get("autoUpgradeAnonymousUsers");return c&&!IN(s)&&gr('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),c}function Hy(s){s=s.a.get("signInOptions")||[];for(var c=[],u=0;u<s.length;u++){var f=s[u];f=U(f)?f:{provider:f},f.provider&&c.push(f)}return c}function vr(s,c){s=Hy(s);for(var u=0;u<s.length;u++)if(s[u].provider===c)return s[u];return null}function od(s){return Hy(s).map(function(c){return c.provider})}function Zf(s,c){s=mN(s);for(var u=0;u<s.length;u++)if(s[u].providerId===c)return s[u];return null}function mN(s){return Hy(s).map(function(c){if(rd[c.provider]||ut(m8,c.provider)){c={providerId:c.provider,S:c.providerName||null,V:c.fullLabel||null,ta:c.buttonColor||null,za:c.iconUrl?Ma(sy(c.iconUrl)).toString():null};for(var u in c)c[u]===null&&delete c[u];return c}return{providerId:c.provider,S:c.providerName||null,V:c.fullLabel||null,ta:c.buttonColor||null,za:c.iconUrl?Ma(sy(c.iconUrl)).toString():null,Ob:c.loginHintKey||null}})}function gN(s){var c=vr(s,be.auth.GoogleAuthProvider.PROVIDER_ID),u;if(u=c&&c.clientId){e:{if((window.location&&window.location.protocol)==="http:"||(window.location&&window.location.protocol)==="https:"){for(f in s=s.a.get("credentialHelper"),DI)if(DI[f]===s){var f=DI[f];break e}}f=Gy}u=f===TI}return u&&c.clientId||null}function vN(s){return s=vr(s,be.auth.EmailAuthProvider.PROVIDER_ID),!!(s&&s.disableSignUp&&s.disableSignUp.status)}function ll(s){return s=s.a.get("adminRestrictedOperation")||null,!(!s||!s.status)}function s8(s){var c=null;if(Hy(s).forEach(function(f){f.provider==be.auth.PhoneAuthProvider.PROVIDER_ID&&U(f.recaptchaParameters)&&!Array.isArray(f.recaptchaParameters)&&(c=Ia(f.recaptchaParameters))}),c){var u=[];g8.forEach(function(f){typeof c[f]<"u"&&(u.push(f),delete c[f])}),u.length&&La('The following provided "recaptchaParameters" keys are not allowed: '+u.join(", "))}return c}function a8(s){return(s=s.a.get("adminRestrictedOperation"))&&s.adminEmail?s.adminEmail:null}function c8(s){if(s=s.a.get("adminRestrictedOperation")||null){var c=s.helpLink||null;if(c&&typeof c=="string")return function(){Yu(c)}}return null}function l8(s){return(s=vr(s,be.auth.EmailAuthProvider.PROVIDER_ID))&&s.disableSignUp&&s.disableSignUp.adminEmail||null}function u8(s){if((s=vr(s,be.auth.EmailAuthProvider.PROVIDER_ID))&&s.disableSignUp){var c=s.disableSignUp.helpLink||null;if(c&&typeof c=="string")return function(){Yu(c)}}return null}function yN(s,c){return s=(s=vr(s,c))&&s.scopes,Array.isArray(s)?s:[]}function _N(s,c){return s=(s=vr(s,c))&&s.customParameters,U(s)?(s=Ia(s),c===be.auth.GoogleAuthProvider.PROVIDER_ID&&delete s.login_hint,c===be.auth.GithubAuthProvider.PROVIDER_ID&&delete s.login,s):null}function d8(s){s=vr(s,be.auth.PhoneAuthProvider.PROVIDER_ID);var c=null;return s&&typeof s.loginHint=="string"&&(c=hN(s.loginHint)),s&&s.defaultNationalNumber||c&&c.Aa||null}function h8(s){var c=(s=vr(s,be.auth.PhoneAuthProvider.PROVIDER_ID))&&s.defaultCountry||null;c=c&&cN(c);var u=null;return s&&typeof s.loginHint=="string"&&(u=hN(s.loginHint)),c&&c[0]||u&&cl(u.a)||null}function EI(s){if(s=vr(s,be.auth.PhoneAuthProvider.PROVIDER_ID),!s)return null;var c=s.whitelistedCountries,u=s.blacklistedCountries;if(typeof c<"u"&&(!Array.isArray(c)||c.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof u<"u"&&!Array.isArray(u))throw Error("BlacklistedCountries must be an array.");if(c&&u)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!c&&!u)return qi;if(s=[],c){u={};for(var f=0;f<c.length;f++)for(var p=lN(c[f]),g=0;g<p.length;g++)u[p[g].c]=p[g];for(var _ in u)u.hasOwnProperty(_)&&s.push(u[_])}else{for(_={},c=0;c<u.length;c++)for(p=lN(u[c]),f=0;f<p.length;f++)_[p[f].c]=p[f];for(p=0;p<qi.length;p++)_!==null&&qi[p].c in _||s.push(qi[p])}return s}function wN(s){return wI(s.a,"queryParameterForWidgetMode")}function Mn(s){var c=s.a.get("tosUrl")||null;if(s=s.a.get("privacyPolicyUrl")||null,c&&!s&&La("Privacy Policy URL is missing, the link will not be displayed."),c&&s){if(typeof c=="function")return c;if(typeof c=="string")return function(){Yu(c)}}return null}function Pn(s){var c=s.a.get("tosUrl")||null,u=s.a.get("privacyPolicyUrl")||null;if(u&&!c&&La("Term of Service URL is missing, the link will not be displayed."),c&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){Yu(u)}}return null}function bN(s){return(s=vr(s,be.auth.EmailAuthProvider.PROVIDER_ID))&&typeof s.requireDisplayName<"u"?!!s.requireDisplayName:!0}function sd(s){return s=vr(s,be.auth.EmailAuthProvider.PROVIDER_ID),!(!s||s.signInMethod!==be.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function f8(s){return s=vr(s,be.auth.EmailAuthProvider.PROVIDER_ID),!(!s||!s.forceSameDevice)}function p8(s){if(sd(s)){var c={url:Us(),handleCodeInApp:!0};(s=vr(s,be.auth.EmailAuthProvider.PROVIDER_ID))&&typeof s.emailLinkSignIn=="function"&&Ns(c,s.emailLinkSignIn()),s=c.url;var u=Us();u instanceof Ai||(u=Of(u)),s instanceof Ai||(s=Of(s));var f=u;u=new Ai(f);var p=!!s.j;p?Yc(u,s.j):p=!!s.A,p?u.A=s.A:p=!!s.h,p?u.h=s.h:p=s.C!=null;var g=s.g;if(p)Ta(u,s.C);else if(p=!!s.g){if(g.charAt(0)!="/"&&(f.h&&!f.g?g="/"+g:(f=u.g.lastIndexOf("/"),f!=-1&&(g=u.g.substr(0,f+1)+g))),g==".."||g==".")g="";else if(g.indexOf("./")!=-1||g.indexOf("/.")!=-1){f=g.lastIndexOf("/",0)==0,g=g.split("/");for(var _=[],A=0;A<g.length;){var j=g[A++];j=="."?f&&A==g.length&&_.push(""):j==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),f&&A==g.length&&_.push("")):(_.push(j),f=!0)}g=_.join("/")}}return p?u.g=g:p=s.a.toString()!=="",p?$o(u,wk(s.a)):p=!!s.s,p&&(u.s=s.s),c.url=u.toString(),c}return null}function II(s){var c=!!s.a.get("immediateFederatedRedirect"),u=od(s);return s=CN(s),c&&u.length==1&&!ut(pN,u[0])&&s==zy}function CN(s){s=s.a.get("signInFlow");for(var c in xI)if(xI[c]==s)return xI[c];return zy}function SI(s){return ep(s).signInSuccess||null}function EN(s){return ep(s).signInSuccessWithAuthResult||null}function IN(s){return ep(s).signInFailure||null}function ep(s){return s.a.get("callbacks")||{}}var TI="googleyolo",Gy="none",DI={nc:TI,NONE:Gy},zy="redirect",xI={qc:"popup",rc:zy},AI={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},m8=["anonymous"],g8=["sitekey","tabindex","callback","expired-callback"],tp,ad,MI,SN,Pt={};function ve(s,c,u,f){Pt[s].apply(null,Array.prototype.slice.call(arguments,1))}function TN(s){return s.classList?s.classList:(s=s.className,b(s)&&s.match(/\S+/g)||[])}function np(s,c){return s.classList?s.classList.contains(c):ut(TN(s),c)}function qo(s,c){s.classList?s.classList.add(c):np(s,c)||(s.className+=0<s.className.length?" "+c:c)}function Wo(s,c){s.classList?s.classList.remove(c):np(s,c)&&(s.className=gt(TN(s),function(u){return u!=c}).join(" "))}function ri(s){var c=s.type;switch(b(c)&&c.toLowerCase()){case"checkbox":case"radio":return s.checked?s.value:null;case"select-one":return c=s.selectedIndex,0<=c?s.options[c].value:null;case"select-multiple":c=[];for(var u,f=0;u=s.options[f];f++)u.selected&&c.push(u.value);return c.length?c:null;default:return s.value!=null?s.value:null}}function DN(s,c){var u=s.type;switch(b(u)&&u.toLowerCase()){case"checkbox":case"radio":s.checked=c;break;case"select-one":if(s.selectedIndex=-1,b(c)){for(var f=0;u=s.options[f];f++)if(u.value==c){u.selected=!0;break}}break;case"select-multiple":for(b(c)&&(c=[c]),f=0;u=s.options[f];f++)if(u.selected=!1,c)for(var p,g=0;p=c[g];g++)u.value==p&&(u.selected=!0);break;default:s.value=c??""}}function v8(s){if(s.altKey&&!s.ctrlKey||s.metaKey||112<=s.keyCode&&123>=s.keyCode)return!1;if(ip(s.keyCode))return!0;switch(s.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!ao;default:return 166>s.keyCode||183<s.keyCode}}function xN(s,c,u,f,p,g){if(Hi&&!Xc("525"))return!0;if(Aa&&p)return ip(s);if(p&&!f)return!1;if(!ao){typeof c=="number"&&(c=PI(c));var _=c==17||c==18||Aa&&c==91;if((!u||Aa)&&_||Aa&&c==16&&(f||g))return!1}if((Hi||xa)&&f&&u)switch(s){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(gn&&f&&c==s)return!1;switch(s){case 13:return ao?g||p?!1:!(u&&f):!0;case 27:return!(Hi||xa||ao)}return ao&&(f||p||g)?!1:ip(s)}function ip(s){if(48<=s&&57>=s||96<=s&&106>=s||65<=s&&90>=s||(Hi||xa)&&s==0)return!0;switch(s){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return ao;default:return!1}}function PI(s){if(ao)s=y8(s);else if(Aa&&Hi)switch(s){case 93:s=91}return s}function y8(s){switch(s){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return s}}function cd(s){jn.call(this),this.a=s,co(s,"keydown",this.g,!1,this),co(s,"click",this.h,!1,this)}H(cd,jn),cd.prototype.g=function(s){(s.keyCode==13||Hi&&s.keyCode==3)&&AN(this,s)},cd.prototype.h=function(s){AN(this,s)};function AN(s,c){var u=new PN(c);if(Na(s,u)){u=new MN(c);try{Na(s,u)}finally{c.stopPropagation()}}}cd.prototype.o=function(){cd.K.o.call(this),il(this.a,"keydown",this.g,!1,this),il(this.a,"click",this.h,!1,this),delete this.a};function MN(s){zi.call(this,s.a),this.type="action"}H(MN,zi);function PN(s){zi.call(this,s.a),this.type="beforeaction"}H(PN,zi);function ld(s){jn.call(this),this.a=s,s=gn?"focusout":"blur",this.g=co(this.a,gn?"focusin":"focus",this,!gn),this.h=co(this.a,s,this,!gn)}H(ld,jn),ld.prototype.handleEvent=function(s){var c=new zi(s.a);c.type=s.type=="focusin"||s.type=="focus"?"focusin":"focusout",Na(this,c)},ld.prototype.o=function(){ld.K.o.call(this),Ra(this.g),Ra(this.h),delete this.a};function qy(s,c){jn.call(this),this.g=s||1,this.a=c||v,this.h=Ie(this.gc,this),this.j=an()}H(qy,jn),t=qy.prototype,t.Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var s=an()-this.j;0<s&&s<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-s):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),Na(this,"tick"),this.Ka&&(Wy(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=an())};function Wy(s){s.Ka=!1,s.aa&&(s.a.clearTimeout(s.aa),s.aa=null)}t.o=function(){qy.K.o.call(this),Wy(this),delete this.a};function _8(s,c){if(ee(s))c&&(s=Ie(s,c));else if(s&&typeof s.handleEvent=="function")s=Ie(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<0?-1:v.setTimeout(s,0)}function ud(s){nl.call(this),this.g=s,this.a={}}H(ud,nl);var ON=[];function dd(s,c,u,f){$(u)||(u&&(ON[0]=u.toString()),u=ON);for(var p=0;p<u.length;p++){var g=co(c,u[p],f||s.handleEvent,!1,s.g||s);if(!g)break;s.a[g.key]=g}}function kN(s){Wc(s.a,function(c,u){this.a.hasOwnProperty(u)&&Ra(c)},s),s.a={}}ud.prototype.o=function(){ud.K.o.call(this),kN(this)},ud.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function rp(s){jn.call(this),this.a=null,this.g=s,s=gn||xa||Hi&&!Xc("531")&&s.tagName=="TEXTAREA",this.h=new ud(this),dd(this.h,this.g,s?["keydown","paste","cut","drop","input"]:"input",this)}H(rp,jn),rp.prototype.handleEvent=function(s){if(s.type=="input")gn&&Xc(10)&&s.keyCode==0&&s.j==0||(OI(this),Na(this,RN(s)));else if(s.type!="keydown"||v8(s)){var c=s.type=="keydown"?this.g.value:null;gn&&s.keyCode==229&&(c=null);var u=RN(s);OI(this),this.a=_8(function(){this.a=null,this.g.value!=c&&Na(this,u)},this)}};function OI(s){s.a!=null&&(v.clearTimeout(s.a),s.a=null)}function RN(s){return s=new zi(s.a),s.type="input",s}rp.prototype.o=function(){rp.K.o.call(this),this.h.m(),OI(this),delete this.g};function op(s,c){jn.call(this),s&&(this.Oa&&jN(this),this.qa=s,this.Na=co(this.qa,"keypress",this,c),this.Ya=co(this.qa,"keydown",this.Jb,c,this),this.Oa=co(this.qa,"keyup",this.Kb,c,this))}H(op,jn),t=op.prototype,t.qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var NN={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},FN={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},LN=!Hi||Xc("525"),VN=Aa&&ao;t=op.prototype,t.Jb=function(s){(Hi||xa)&&(this.R==17&&!s.ctrlKey||this.R==18&&!s.altKey||Aa&&this.R==91&&!s.metaKey)&&(this.X=this.R=-1),this.R==-1&&(s.ctrlKey&&s.keyCode!=17?this.R=17:s.altKey&&s.keyCode!=18?this.R=18:s.metaKey&&s.keyCode!=91&&(this.R=91)),LN&&!xN(s.keyCode,this.R,s.shiftKey,s.ctrlKey,s.altKey,s.metaKey)?this.handleEvent(s):(this.X=PI(s.keyCode),VN&&(this.Ua=s.altKey))},t.Kb=function(s){this.X=this.R=-1,this.Ua=s.altKey},t.handleEvent=function(s){var c=s.a,u=c.altKey;if(gn&&s.type=="keypress")var f=this.X,p=f!=13&&f!=27?c.keyCode:0;else(Hi||xa)&&s.type=="keypress"?(f=this.X,p=0<=c.charCode&&63232>c.charCode&&ip(f)?c.charCode:0):Tk&&!Hi?(f=this.X,p=ip(f)?c.keyCode:0):(s.type=="keypress"?(VN&&(u=this.Ua),c.keyCode==c.charCode?32>c.keyCode?(f=c.keyCode,p=0):(f=this.X,p=c.charCode):(f=c.keyCode||this.X,p=c.charCode||0)):(f=c.keyCode||this.X,p=c.charCode||0),Aa&&p==63&&f==224&&(f=191));var g=f=PI(f);f?63232<=f&&f in NN?g=NN[f]:f==25&&s.shiftKey&&(g=9):c.keyIdentifier&&c.keyIdentifier in FN&&(g=FN[c.keyIdentifier]),ao&&LN&&s.type=="keypress"&&!xN(g,this.R,s.shiftKey,s.ctrlKey,u,s.metaKey)||(s=g==this.R,this.R=g,c=new UN(g,p,s,c),c.altKey=u,Na(this,c))},t.N=function(){return this.qa};function jN(s){s.Na&&(Ra(s.Na),Ra(s.Ya),Ra(s.Oa),s.Na=null,s.Ya=null,s.Oa=null),s.qa=null,s.R=-1,s.X=-1}t.o=function(){op.K.o.call(this),jN(this)};function UN(s,c,u,f){zi.call(this,f),this.type="key",this.keyCode=s,this.j=c,this.repeat=u}H(UN,zi);function hd(s,c,u,f){this.top=s,this.right=c,this.bottom=u,this.left=f}hd.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},hd.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},hd.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},hd.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function Ky(s,c){var u=Ff(s);return u.defaultView&&u.defaultView.getComputedStyle&&(s=u.defaultView.getComputedStyle(s,null))&&(s[c]||s.getPropertyValue(c))||""}function BN(s){try{var c=s.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return gn&&s.ownerDocument.body&&(s=s.ownerDocument,c.left-=s.documentElement.clientLeft+s.body.clientLeft,c.top-=s.documentElement.clientTop+s.body.clientTop),c}function w8(s,c){c=c||ly(document);var u=c||ly(document),f=$N(s),p=$N(u);if(!gn||9<=Number(Rf)){_=Ky(u,"borderLeftWidth");var g=Ky(u,"borderRightWidth");A=Ky(u,"borderTopWidth"),j=Ky(u,"borderBottomWidth"),g=new hd(parseFloat(A),parseFloat(g),parseFloat(j),parseFloat(_))}else{var _=Yy(u,"borderLeft");g=Yy(u,"borderRight");var A=Yy(u,"borderTop"),j=Yy(u,"borderBottom");g=new hd(A,g,j,_)}u==ly(document)?(_=f.a-u.scrollLeft,f=f.g-u.scrollTop,!gn||10<=Number(Rf)||(_+=g.left,f+=g.top)):(_=f.a-p.a-g.left,f=f.g-p.g-g.top),p=s.offsetWidth,g=s.offsetHeight,A=Hi&&!p&&!g,y(p)&&!A||!s.getBoundingClientRect?s=new PE(p,g):(s=BN(s),s=new PE(s.right-s.left,s.bottom-s.top)),p=u.clientHeight-s.height,g=u.scrollLeft,A=u.scrollTop,g+=Math.min(_,Math.max(_-(u.clientWidth-s.width),0)),A+=Math.min(f,Math.max(f-p,0)),u=new Oa(g,A),c.scrollLeft=u.a,c.scrollTop=u.g}function $N(s){var c=Ff(s),u=new Oa(0,0),f=c?Ff(c):document;return f=!gn||9<=Number(Rf)||cy(f).a.compatMode=="CSS1Compat"?f.documentElement:f.body,s==f||(s=BN(s),f=cy(c).a,c=ly(f),f=f.parentWindow||f.defaultView,c=gn&&Xc("10")&&f.pageYOffset!=c.scrollTop?new Oa(c.scrollLeft,c.scrollTop):new Oa(f.pageXOffset||c.scrollLeft,f.pageYOffset||c.scrollTop),u.a=s.left+c.a,u.g=s.top+c.g),u}var HN={thin:2,medium:4,thick:6};function Yy(s,c){if((s.currentStyle?s.currentStyle[c+"Style"]:null)=="none")return 0;var u=s.currentStyle?s.currentStyle[c+"Width"]:null;if(u in HN)s=HN[u];else if(/^\d+px?$/.test(u))s=parseInt(u,10);else{c=s.style.left;var f=s.runtimeStyle.left;s.runtimeStyle.left=s.currentStyle.left,s.style.left=u,u=s.style.pixelLeft,s.style.left=c,s.runtimeStyle.left=f,s=+u}return s}function kI(){}O(kI),kI.prototype.a=0;function ul(s){jn.call(this),this.s=s||cy(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}H(ul,jn),t=ul.prototype,t.Lb=kI.Xa(),t.N=function(){return this.g};function yt(s,c){return s.g?kE(c,s.g||s.s.a):null}function sp(s){return s.L||(s.L=new ud(s)),s.L}t.Za=function(s){if(this.Y&&this.Y!=s)throw Error("Method not supported");ul.K.Za.call(this,s)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(s){if(this.na)throw Error("Component already rendered");this.g||this.kb(),s?s.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,RI(this,function(s){!s.na&&s.N()&&s.v()})},t.ya=function(){RI(this,function(s){s.na&&s.ya()}),this.L&&kN(this.L),this.na=!1},t.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),RI(this,function(s){s.m()}),this.g&&el(this.g),this.Y=this.g=this.oa=this.Ea=null,ul.K.o.call(this)};function RI(s,c){s.Ea&&Rt(s.Ea,c,void 0)}t.removeChild=function(s,c){if(s){var u=b(s)?s:s.cb||(s.cb=":"+(s.Lb.a++).toString(36));if(this.oa&&u?(s=this.oa,s=(s!==null&&u in s?s[u]:void 0)||null):s=null,u&&s){var f=this.oa;if(u in f&&delete f[u],Ln(this.Ea,s),c&&(s.ya(),s.g&&el(s.g)),c=s,c==null)throw Error("Unable to set parent component");c.Y=null,ul.K.Za.call(c,null)}}if(!s)throw Error("Child is not in parent component");return s};function _n(s,c){var u=Uk(s,"firebaseui-textfield");c?(Wo(s,"firebaseui-input-invalid"),qo(s,"firebaseui-input"),u&&Wo(u,"firebaseui-textfield-invalid")):(Wo(s,"firebaseui-input"),qo(s,"firebaseui-input-invalid"),u&&qo(u,"firebaseui-textfield-invalid"))}function fd(s,c,u){c=new rp(c),jf(s,$e(Uf,c)),dd(sp(s),c,"input",u)}function ap(s,c,u){c=new op(c),jf(s,$e(Uf,c)),dd(sp(s),c,"key",function(f){f.keyCode==13&&(f.stopPropagation(),f.preventDefault(),u(f))})}function b8(s,c,u){c=new ld(c),jf(s,$e(Uf,c)),dd(sp(s),c,"focusin",u)}function C8(s,c,u){c=new ld(c),jf(s,$e(Uf,c)),dd(sp(s),c,"focusout",u)}function pn(s,c,u){c=new cd(c),jf(s,$e(Uf,c)),dd(sp(s),c,"action",function(f){f.stopPropagation(),f.preventDefault(),u(f)})}function yr(s){qo(s,"firebaseui-hidden")}function oi(s,c){c&&RE(s,c),Wo(s,"firebaseui-hidden")}function pd(s){return!np(s,"firebaseui-hidden")&&s.style.display!="none"}function md(s){s=s||{};var c=s.email,u=s.disabled,f='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return f=s.wc?f+"Enter new email address":f+"Email",f+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+Gi(c??"")+'"'+(u?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',fe(f)}function or(s){s=s||{},s=s.label;var c='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return c=s?c+Oe(s):c+"Next",fe(c+"</button>")}function NI(){var s=""+or({label:vn("Sign In")});return fe(s)}function GN(){var s=""+or({label:vn("Save")});return fe(s)}function lo(){var s=""+or({label:vn("Continue")});return fe(s)}function zN(s){s=s||{},s=s.label;var c='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return c=s?c+Oe(s):c+"Choose password",fe(c+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function qN(){var s={},c='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return c=s.current?c+"Current password":c+"Password",fe(c+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function WN(){return fe('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function _r(s){s=s||{},s=s.label;var c='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return c=s?c+Oe(s):c+"Cancel",fe(c+"</button>")}function yi(s){var c="";return s.F&&s.D&&(c+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),fe(c)}function gd(s){var c="";return s.F&&s.D&&(c+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),fe(c)}function KN(s){return s='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+Oe(s.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',fe(s)}KN.a="firebaseui.auth.soy2.element.infoBar";function YN(s){var c=s.content;return s=s.Ab,fe('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(s?" "+Gi(s):"")+'">'+Oe(c)+"</dialog>")}function QN(s){var c=s.message;return fe(YN({content:Hk('<div class="firebaseui-dialog-icon-wrapper"><div class="'+Gi(s.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+Oe(c)+"</div>")}))}QN.a="firebaseui.auth.soy2.element.progressDialog";function JN(s){var c='<div class="firebaseui-list-box-actions">';s=s.items;for(var u=s.length,f=0;f<u;f++){var p=s[f];c+='<button type="button" data-listboxid="'+Gi(p.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(p.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+Gi(p.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+Oe(p.label)+"</div></button>"}return c=""+YN({Ab:vn("firebaseui-list-box-dialog"),content:Hk(c+"</div>")}),fe(c)}JN.a="firebaseui.auth.soy2.element.listBoxDialog";function Qy(s){return s=s||{},fe(s.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}Qy.a="firebaseui.auth.soy2.element.busyIndicator";function Va(s,c){return s=s||{},s=s.ga,Tt(s.S?s.S:c.hb[s.providerId]?""+c.hb[s.providerId]:s.providerId&&s.providerId.indexOf("saml.")==0||s.providerId&&s.providerId.indexOf("oidc.")==0?s.providerId.substring(5):""+s.providerId)}function FI(s){XN(s,"upgradeElement")}function LI(s){XN(s,"downgradeElements")}var E8=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function XN(s,c){s&&window.componentHandler&&window.componentHandler[c]&&E8.forEach(function(u){np(s,u)&&window.componentHandler[c](s),Rt(OE(u,s),function(f){window.componentHandler[c](f)})})}function ZN(s,c,u){if(Jy.call(this),document.body.appendChild(s),s.showModal||window.dialogPolyfill.registerDialog(s),s.showModal(),FI(s),c&&pn(this,s,function(g){var _=s.getBoundingClientRect();(g.clientX<_.left||_.left+_.width<g.clientX||g.clientY<_.top||_.top+_.height<g.clientY)&&Jy.call(this)}),!u){var f=this.N().parentElement||this.N().parentNode;if(f){var p=this;this.da=function(){if(s.open){var g=s.getBoundingClientRect().height,_=f.getBoundingClientRect().height,A=f.getBoundingClientRect().top-document.body.getBoundingClientRect().top,j=f.getBoundingClientRect().left-document.body.getBoundingClientRect().left,Y=s.getBoundingClientRect().width,_e=f.getBoundingClientRect().width;s.style.top=(A+(_-g)/2).toString()+"px",g=j+(_e-Y)/2,s.style.left=g.toString()+"px",s.style.right=(document.body.getBoundingClientRect().width-g-Y).toString()+"px"}else window.removeEventListener("resize",p.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function Jy(){var s=VI.call(this);s&&(LI(s),s.open&&s.close(),el(s),this.da&&window.removeEventListener("resize",this.da))}function VI(){return kE("firebaseui-id-dialog")}function eF(){el(tF.call(this))}function tF(){return yt(this,"firebaseui-id-info-bar")}function nF(){return yt(this,"firebaseui-id-dismiss-info-bar")}var I8={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function jI(s,c,u){Vs.call(this,s,c);for(var f in u)this[f]=u[f]}H(jI,Vs);function z(s,c,u,f,p){ul.call(this,u),this.fb=s,this.eb=c,this.Fa=!1,this.Ga=f||null,this.A=this.ca=null,this.Z=Ia(I8),Ns(this.Z,p||{})}H(z,ul),t=z.prototype,t.kb=function(){var s=Lf(this.fb,this.eb,this.Z,this.s);FI(s),this.g=s},t.v=function(){if(z.K.v.call(this),rR(ln(this),new jI("pageEnter",ln(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var s=this.Z.F;pn(this,this.bb(),function(){s()})}if(this.ab()&&this.Z.D){var c=this.Z.D;pn(this,this.ab(),function(){c()})}},t.ya=function(){rR(ln(this),new jI("pageExit",ln(this),{pageId:this.Ga})),z.K.ya.call(this)},t.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,LI(this.N()),z.K.o.call(this)};function S8(s){s.Fa=!0;var c=np(s.N(),"firebaseui-use-spinner");s.ca=window.setTimeout(function(){s.N()&&s.A===null&&(s.A=Lf(Qy,{tb:c},null,s.s),s.N().appendChild(s.A),FI(s.A))},500)}t.I=function(s,c,u,f){function p(){if(g.T)return null;g.Fa=!1,window.clearTimeout(g.ca),g.ca=null,g.A&&(LI(g.A),el(g.A),g.A=null)}var g=this;return g.Fa?null:(S8(g),s.apply(null,c).then(u,f).then(p,p))};function ln(s){return s.N().parentElement||s.N().parentNode}function cp(s,c,u){ap(s,c,function(){u.focus()})}function vd(s,c,u){ap(s,c,function(){u()})}Te(z.prototype,{a:function(s){eF.call(this);var c=Lf(KN,{message:s},null,this.s);this.N().appendChild(c),pn(this,nF.call(this),function(){el(c)})},yc:eF,Ac:tF,zc:nF,$:function(s,c){s=Lf(QN,{Ma:s,message:c},null,this.s),ZN.call(this,s)},h:Jy,Cb:VI,Cc:function(){return yt(this,"firebaseui-tos")},bb:function(){return yt(this,"firebaseui-tos-link")},ab:function(){return yt(this,"firebaseui-pp-link")},Dc:function(){return yt(this,"firebaseui-tos-list")}});function iF(s,c,u){s=s||{},c=s.Va;var f=s.ia;return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+md(s)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?_r(null):"")+or(null)+'</div></div><div class="firebaseui-card-footer">'+(f?gd(u):yi(u))+"</div></form></div>",fe(s)}iF.a="firebaseui.auth.soy2.page.signIn";function rF(s,c,u){return s=s||{},c=s.ia,s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+md(s)+qN()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+WN()+'</div><div class="firebaseui-form-actions">'+NI()+'</div></div><div class="firebaseui-card-footer">'+(c?gd(u):yi(u))+"</div></form></div>",fe(s)}rF.a="firebaseui.auth.soy2.page.passwordSignIn";function oF(s,c,u){s=s||{};var f=s.Tb;c=s.Ta;var p=s.ia,g='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+md(s);return f?(s=s||{},s=s.name,s='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+Gi(s??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',s=fe(s)):s="",u=g+s+zN(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?_r(null):"")+GN()+'</div></div><div class="firebaseui-card-footer">'+(p?gd(u):yi(u))+"</div></form></div>",fe(u)}oF.a="firebaseui.auth.soy2.page.passwordSignUp";function sF(s,c,u){return s=s||{},c=s.Ta,s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+md(s)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?_r(null):"")+or({label:vn("Send")})+'</div></div><div class="firebaseui-card-footer">'+yi(u)+"</div></form></div>",fe(s)}sF.a="firebaseui.auth.soy2.page.passwordRecovery";function aF(s,c,u){c=s.G;var f="";return s="Follow the instructions sent to <strong>"+(Oe(s.email)+"</strong> to recover your password"),f+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions">',c&&(f+='<div class="firebaseui-form-actions">'+or({label:vn("Done")})+"</div>"),f+='</div><div class="firebaseui-card-footer">'+yi(u)+"</div></div>",fe(f)}aF.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function cF(s,c,u){return fe('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+Qy(null,null,u)+"</div></div>")}cF.a="firebaseui.auth.soy2.page.callback";function lF(s,c,u){return fe('<div class="firebaseui-container firebaseui-id-page-spinner">'+Qy({tb:!0},null,u)+"</div>")}lF.a="firebaseui.auth.soy2.page.spinner";function uF(){return fe('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}uF.a="firebaseui.auth.soy2.page.blank";function dF(s,c,u){c="",s="A sign-in email with additional instructions was sent to <strong>"+(Oe(s.email)+"</strong>. Check your email to complete sign-in.");var f=fe('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+f+'</div><div class="firebaseui-form-actions">'+_r({label:vn("Back")})+'</div></div><div class="firebaseui-card-footer">'+yi(u)+"</div></form></div>",fe(c)}dF.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function hF(s,c,u){return s=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+fe('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+_r({label:vn("Back")})+'</div></div><div class="firebaseui-card-footer">'+yi(u)+"</div></form></div>",fe(s)}hF.a="firebaseui.auth.soy2.page.emailNotReceived";function fF(s,c,u){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+md(s)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+_r(null)+or(null)+'</div></div><div class="firebaseui-card-footer">'+yi(u)+"</div></form></div>",fe(s)}fF.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function pF(){var s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+_r({label:vn("Dismiss")})+"</div></div></div>";return fe(s)}pF.a="firebaseui.auth.soy2.page.differentDeviceError";function mF(){var s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+_r({label:vn("Dismiss")})+"</div></div></div>";return fe(s)}mF.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function gF(s,c,u){return c="",s="You\u2019ve already used <strong>"+(Oe(s.email)+"</strong> to sign in. Enter your password for that account."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+s+"</p>"+qN()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+WN()+'</div><div class="firebaseui-form-actions">'+NI()+'</div></div><div class="firebaseui-card-footer">'+yi(u)+"</div></form></div>",fe(c)}gF.a="firebaseui.auth.soy2.page.passwordLinking";function vF(s,c,u){var f=s.email;return c="",s=""+Va(s,u),s=vn(s),f="You\u2019ve already used <strong>"+(Oe(f)+("</strong>. You can connect your <strong>"+(Oe(s)+("</strong> account with <strong>"+(Oe(f)+"</strong> by signing in with email link below."))))),s="For this flow to successfully connect your "+(Oe(s)+" account with this email, you have to open the link on the same device or browser."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+f+'<p class="firebaseui-text firebaseui-text-justify">'+s+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+NI()+'</div></div><div class="firebaseui-card-footer">'+yi(u)+"</div></form></div>",fe(c)}vF.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function yF(s,c,u){c="";var f=""+Va(s,u);return f=vn(f),s="You originally intended to connect <strong>"+(Oe(f)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),f="If you still want to connect your <strong>"+(Oe(f)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+s+'</p><p class="firebaseui-text firebaseui-text-justify">'+f+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+lo()+'</div></div><div class="firebaseui-card-footer">'+yi(u)+"</div></form></div>",fe(c)}yF.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function _F(s,c,u){var f=s.email;return c="",s=""+Va(s,u),s=vn(s),f="You\u2019ve already used <strong>"+(Oe(f)+("</strong>. Sign in with "+(Oe(s)+" to continue."))),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+f+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+or({label:vn("Sign in with "+s)})+'</div></div><div class="firebaseui-card-footer">'+yi(u)+"</div></form></div>",fe(c)}_F.a="firebaseui.auth.soy2.page.federatedLinking";function wF(s,c,u){s=s||{};var f=s.kc;c=s.yb,s=s.Eb;var p='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return f?(f="<strong>"+(Oe(f)+"</strong> is not authorized to view the requested page."),p+=f):p+="User is not authorized to view the requested page.",p+="</p>",c&&(c="Please contact <strong>"+(Oe(c)+"</strong> for authorization."),p+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+c+"</p>"),p+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',s&&(p+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),p+='</div><div class="firebaseui-form-actions">'+_r({label:vn("Back")})+'</div></div><div class="firebaseui-card-footer">'+yi(u)+"</div></form></div>",fe(p)}wF.a="firebaseui.auth.soy2.page.unauthorizedUser";function bF(s,c,u){return c="",s="To continue sign in with <strong>"+(Oe(s.email)+"</strong> on this device, you have to recover the password."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+_r(null)+or({label:vn("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+yi(u)+"</div></form></div>",fe(c)}bF.a="firebaseui.auth.soy2.page.unsupportedProvider";function CF(s){var c="",u='<p class="firebaseui-text">for <strong>'+(Oe(s.email)+"</strong></p>");return c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+u+zN(fz(s))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+GN()+"</div></div></form></div>",fe(c)}CF.a="firebaseui.auth.soy2.page.passwordReset";function EF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+lo()+"</div>":"")+"</div></div>",fe(s)}EF.a="firebaseui.auth.soy2.page.passwordResetSuccess";function IF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+lo()+"</div>":"")+"</div></div>",fe(s)}IF.a="firebaseui.auth.soy2.page.passwordResetFailure";function SF(s){var c=s.G,u="";return s="Your sign-in email address has been changed back to <strong>"+(Oe(s.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p><p class="firebaseui-text">If you didn\u2019t ask to change your sign-in email, it\u2019s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(c?'<div class="firebaseui-form-actions">'+lo()+"</div>":"")+"</div></form></div>",fe(u)}SF.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function TF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can\u2019t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+lo()+"</div>":"")+"</div></div>",fe(s)}TF.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function DF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+lo()+"</div>":"")+"</div></div>",fe(s)}DF.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function xF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+lo()+"</div>":"")+"</div></div>",fe(s)}xF.a="firebaseui.auth.soy2.page.emailVerificationFailure";function AF(s){var c=s.G,u="";return s="You can now sign in with your new email <strong>"+(Oe(s.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions">'+(c?'<div class="firebaseui-form-actions">'+lo()+"</div>":"")+"</div></div>",fe(u)}AF.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function MF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+lo()+"</div>":"")+"</div></div>",fe(s)}MF.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function PF(s){var c=s.factorId,u=s.phoneNumber;s=s.G;var f='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(c){case"phone":c="The <strong>"+(Oe(c)+(" "+(Oe(u)+"</strong> was removed as a second authentication step."))),f+=c;break;default:f+="The device or app was removed as a second authentication step."}return f+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(s?'<div class="firebaseui-form-actions">'+lo()+"</div>":"")+"</div></form></div>",fe(f)}PF.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function OF(s){return s=s||{},s=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(s.G?'<div class="firebaseui-form-actions">'+lo()+"</div>":"")+"</div></div>",fe(s)}OF.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function kF(s){var c=s.zb;return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Oe(s.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',c&&(s+=or({label:vn("Retry")})),fe(s+"</div></div></div>")}kF.a="firebaseui.auth.soy2.page.recoverableError";function RF(s){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Oe(s.errorMessage)+"</p></div></div>",fe(s)}RF.a="firebaseui.auth.soy2.page.unrecoverableError";function NF(s,c,u){var f=s.Qb;return c="",s="Continue with "+(Oe(s.jc)+"?"),f="You originally wanted to sign in with "+Oe(f),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+s+'</h2><p class="firebaseui-text">'+f+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+_r(null)+or({label:vn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+yi(u)+"</div></form></div>",fe(c)}NF.a="firebaseui.auth.soy2.page.emailMismatch";function FF(s,c,u){var f='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';s=s.Sb,c=s.length;for(var p=0;p<c;p++){var g={ga:s[p]},_=u;g=g||{};var A=g.ga,j=g;j=j||{};var Y="";switch(j.ga.providerId){case"google.com":Y+="firebaseui-idp-google";break;case"github.com":Y+="firebaseui-idp-github";break;case"facebook.com":Y+="firebaseui-idp-facebook";break;case"twitter.com":Y+="firebaseui-idp-twitter";break;case"phone":Y+="firebaseui-idp-phone";break;case"anonymous":Y+="firebaseui-idp-anonymous";break;case"password":Y+="firebaseui-idp-password";break;default:Y+="firebaseui-idp-generic"}j='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+Gi(Tt(Y))+' firebaseui-id-idp-button" data-provider-id="'+Gi(A.providerId)+'" style="background-color:',Y=(Y=g)||{},Y=Y.ga,j=j+Gi(Gk(Tt(Y.ta?Y.ta:_.wa[Y.providerId]?""+_.wa[Y.providerId]:Y.providerId.indexOf("saml.")==0?""+_.wa.saml:Y.providerId.indexOf("oidc.")==0?""+_.wa.oidc:""+_.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var _e=g;Y=_,_e=_e||{},_e=_e.ga,Y=hz(_e.za?tl(_e.za):Y.xa[_e.providerId]?tl(Y.xa[_e.providerId]):_e.providerId.indexOf("saml.")==0?tl(Y.xa.saml):_e.providerId.indexOf("oidc.")==0?tl(Y.xa.oidc):tl(Y.xa.password)),j=j+Gi(tl(Y))+'"></span>',A.providerId=="password"?(j+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',A.V?j+=Oe(A.V):A.S?(g="Sign in with "+Oe(Va(g,_)),j+=g):j+="Sign in with email",j+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',j=A.S?j+Oe(A.S):j+"Email",j+="</span>"):A.providerId=="phone"?(j+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',A.V?j+=Oe(A.V):A.S?(g="Sign in with "+Oe(Va(g,_)),j+=g):j+="Sign in with phone",j+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',j=A.S?j+Oe(A.S):j+"Phone",j+="</span>"):A.providerId=="anonymous"?(j+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',A.V?j+=Oe(A.V):A.S?(g="Sign in with "+Oe(Va(g,_)),j+=g):j+="Continue as guest",j+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',j=A.S?j+Oe(A.S):j+"Guest",j+="</span>"):(j+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',A.V?j+=Oe(A.V):(Y="Sign in with "+Oe(Va(g,_)),j+=Y),j+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(A.S?Oe(A.S):Oe(Va(g,_)))+"</span>"),A=fe(j+"</button>"),f+='<li class="firebaseui-list-item">'+A+"</li>"}return f+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+gd(u)+"</div></div>",fe(f)}FF.a="firebaseui.auth.soy2.page.providerSignIn";function LF(s,c,u){s=s||{};var f=s.Gb,p=s.Va;c=s.ia,s=s||{},s=s.Aa,s='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+Gi(s??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+fe(s);var g;return f?g=fe('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):g="",g=s+g+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(p?_r(null):"")+or({label:vn("Verify")})+'</div></div><div class="firebaseui-card-footer">',c?(c='<p class="firebaseui-tos firebaseui-phone-tos">',c=u.F&&u.D?c+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':c+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",u=fe(c+"</p>")):u=fe('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+yi(u),fe(g+u+"</div></form></div>")}LF.a="firebaseui.auth.soy2.page.phoneSignInStart";function VF(s,c,u){s=s||{},c=s.phoneNumber;var f="";return s='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(Oe(c)+"</a>"),Oe(c),c=f,f=fe('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),u='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+"</p>"+f+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+_r(null)+or({label:vn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+yi(u)+"</div></form>",s=fe('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),fe(c+(u+s+"</div>"))}VF.a="firebaseui.auth.soy2.page.phoneSignInFinish";function jF(){return fe('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}jF.a="firebaseui.auth.soy2.page.signOut";function UF(s,c,u){var f='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';s=s.ec,c=s.length;for(var p=0;p<c;p++){var g=s[p],_="",A=Oe(g.displayName),j=g.tenantId?g.tenantId:"top-level-project";j=vn(j),_+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+Gi(j)+' firebaseui-id-tenant-selection-button"'+(g.tenantId?'data-tenant-id="'+Gi(g.tenantId)+'"':"")+'style="background-color:'+Gi(Gk(g.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+Gi(tl(g.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',g.V?_+=Oe(g.V):(g="Sign in to "+Oe(g.displayName),_+=g),_=fe(_+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+A+"</span></button>")),f+='<li class="firebaseui-list-item">'+_+"</li>"}return f+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+gd(u)+"</div></div>",fe(f)}UF.a="firebaseui.auth.soy2.page.selectTenant";function BF(s,c,u){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+md(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+or(null)+'</div></div><div class="firebaseui-card-footer">'+gd(u)+"</div></form></div>",fe(s)}BF.a="firebaseui.auth.soy2.page.providerMatchByEmail";function Yn(){return yt(this,"firebaseui-id-submit")}function Bn(){return yt(this,"firebaseui-id-secondary-link")}function si(s,c){pn(this,Yn.call(this),function(f){s(f)});var u=Bn.call(this);u&&c&&pn(this,u,function(f){c(f)})}function Xy(){return yt(this,"firebaseui-id-password")}function Zy(){return yt(this,"firebaseui-id-password-error")}function $F(){var s=Xy.call(this),c=Zy.call(this);fd(this,s,function(){pd(c)&&(_n(s,!0),yr(c))})}function HF(){var s=Xy.call(this),c=Zy.call(this);return ri(s)?(_n(s,!0),yr(c),c=!0):(_n(s,!1),oi(c,Tt("Enter your password").toString()),c=!1),c?ri(s):null}function yd(s,c,u,f,p,g){z.call(this,gF,{email:s},g,"passwordLinking",{F:f,D:p}),this.w=c,this.H=u}l(yd,z),yd.prototype.v=function(){this.P(),this.M(this.w,this.H),vd(this,this.i(),this.w),this.i().focus(),z.prototype.v.call(this)},yd.prototype.o=function(){this.w=null,z.prototype.o.call(this)},yd.prototype.j=function(){return ri(yt(this,"firebaseui-id-email"))},Te(yd.prototype,{i:Xy,B:Zy,P:$F,u:HF,ea:Yn,ba:Bn,M:si});var T8=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Bs(){return yt(this,"firebaseui-id-email")}function ja(){return yt(this,"firebaseui-id-email-error")}function _d(s){var c=Bs.call(this),u=ja.call(this);fd(this,c,function(){pd(u)&&(_n(c,!0),yr(u))}),s&&ap(this,c,function(){s()})}function wd(){return ni(ri(Bs.call(this))||"")}function bd(){var s=Bs.call(this),c=ja.call(this),u=ri(s)||"";return u?T8.test(u)?(_n(s,!0),yr(c),c=!0):(_n(s,!1),oi(c,Tt("That email address isn't correct").toString()),c=!1):(_n(s,!1),oi(c,Tt("Enter your email address to continue").toString()),c=!1),c?ni(ri(s)):null}function lp(s,c,u,f,p,g,_){z.call(this,rF,{email:u,ia:!!g},_,"passwordSignIn",{F:f,D:p}),this.w=s,this.H=c}l(lp,z),lp.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),cp(this,this.l(),this.i()),vd(this,this.i(),this.w),ri(this.l())?this.i().focus():this.l().focus(),z.prototype.v.call(this)},lp.prototype.o=function(){this.H=this.w=null,z.prototype.o.call(this)},Te(lp.prototype,{l:Bs,U:ja,P:_d,M:wd,j:bd,i:Xy,B:Zy,ea:$F,u:HF,ua:Yn,pa:Bn,ba:si});function Nt(s,c,u,f,p,g){z.call(this,s,c,f,p||"notice",g),this.i=u||null}H(Nt,z),Nt.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),Nt.K.v.call(this)},Nt.prototype.o=function(){this.i=null,Nt.K.o.call(this)},Te(Nt.prototype,{l:Yn,w:Bn,u:si});function e_(s,c,u,f,p){Nt.call(this,aF,{email:s,G:!!c},c,p,"passwordRecoveryEmailSent",{F:u,D:f})}H(e_,Nt);function GF(s,c){Nt.call(this,DF,{G:!!s},s,c,"emailVerificationSuccess")}H(GF,Nt);function zF(s,c){Nt.call(this,xF,{G:!!s},s,c,"emailVerificationFailure")}H(zF,Nt);function qF(s,c,u){Nt.call(this,AF,{email:s,G:!!c},c,u,"verifyAndChangeEmailSuccess")}H(qF,Nt);function WF(s,c){Nt.call(this,MF,{G:!!s},s,c,"verifyAndChangeEmailFailure")}H(WF,Nt);function KF(s,c){Nt.call(this,OF,{G:!!s},s,c,"revertSecondFactorAdditionFailure")}H(KF,Nt);function YF(s){Nt.call(this,jF,void 0,void 0,s,"signOut")}H(YF,Nt);function QF(s,c){Nt.call(this,EF,{G:!!s},s,c,"passwordResetSuccess")}H(QF,Nt);function JF(s,c){Nt.call(this,IF,{G:!!s},s,c,"passwordResetFailure")}H(JF,Nt);function XF(s,c){Nt.call(this,TF,{G:!!s},s,c,"emailChangeRevokeFailure")}H(XF,Nt);function ZF(s,c,u){Nt.call(this,kF,{errorMessage:s,zb:!!c},c,u,"recoverableError")}H(ZF,Nt);function e2(s,c){Nt.call(this,RF,{errorMessage:s},void 0,c,"unrecoverableError")}H(e2,Nt);function up(s){if(s.code==="auth/invalid-credential"&&s.message&&s.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(s.message&&s.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var c=JSON.parse(s.message.substring(s.message.indexOf("{"),s.message.lastIndexOf("}")+1));return{code:s.code,message:c&&c.error&&c.error.message||s.message}}return s}function $s(s,c,u,f){function p(_){if(!_.name||_.name!="cancel"){e:{var A=_.message;try{var j=((JSON.parse(A).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(j&&j.length){var Y=!0;break e}}catch{}Y=!1}if(Y)_=ln(c),c.m(),Ht(s,_,void 0,Tt("Your sign-in session has expired. Please try again.").toString());else{if(Y=_&&_.message||"",_.code){if(_.code=="auth/email-already-in-use"||_.code=="auth/credential-already-in-use")return;Y=Vt(_)}c.a(Y)}}}if(C2(s),f)return t2(s,u),yn();if(!u.credential)throw Error("No credential found!");if(!ct(s).currentUser&&!u.user)throw Error("User not logged in.");try{var g=rq(s,u)}catch(_){return gr(_.code||_.message,_),c.a(_.code||_.message),yn()}return u=g.then(function(_){t2(s,_)},p).then(void 0,p),Ge(s,g),yn(u)}function t2(s,c){if(!c.user)throw Error("No user found");var u=EN(q(s));if(SI(q(s))&&u&&La("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),u){u=EN(q(s));var f=nN(Me(s))||void 0;rr(Qf,Me(s));var p=!1;CR()?((!u||u(c,f))&&(p=!0,qu(window.opener.location,t_(s,f))),u||window.close()):(!u||u(c,f))&&(p=!0,qu(window.location,t_(s,f))),p||s.reset()}else{u=c.user,c=c.credential,f=SI(q(s)),p=nN(Me(s))||void 0,rr(Qf,Me(s));var g=!1;CR()?((!f||f(u,c,p))&&(g=!0,qu(window.opener.location,t_(s,p))),f||window.close()):(!f||f(u,c,p))&&(g=!0,qu(window.location,t_(s,p))),g||s.reset()}}function t_(s,c){if(s=c||q(s).a.get("signInSuccessUrl"),!s)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return s}function Vt(s){var c={code:s.code};c=c||{};var u="";switch(c.code){case"auth/email-already-in-use":u+="The email address is already used by another account";break;case"auth/requires-recent-login":u+=Yk();break;case"auth/too-many-requests":u+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":u+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":u+="That email address doesn't match an existing account";break;case"auth/user-token-expired":u+=Yk();break;case"auth/weak-password":u+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":u+="The email and password you entered don't match";break;case"auth/network-request-failed":u+="A network error has occurred";break;case"auth/invalid-phone-number":u+=VE();break;case"auth/invalid-verification-code":u+=Tt("Wrong code. Try again.");break;case"auth/code-expired":u+="This code is no longer valid";break;case"auth/expired-action-code":u+="This code has expired.";break;case"auth/invalid-action-code":u+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(c=Tt(u).toString())return c;try{return JSON.parse(s.message),gr("Internal error: "+s.message,void 0),qk().toString()}catch{return s.message}}function D8(s,c,u){var f=rd[c]&&be.auth[rd[c]]?new be.auth[rd[c]]:c.indexOf("saml.")==0?new be.auth.SAMLAuthProvider(c):new be.auth.OAuthProvider(c);if(!f)throw Error("Invalid Firebase Auth provider!");var p=yN(q(s),c);if(f.addScope)for(var g=0;g<p.length;g++)f.addScope(p[g]);return p=_N(q(s),c)||{},u&&(c==be.auth.GoogleAuthProvider.PROVIDER_ID?s="login_hint":c==be.auth.GithubAuthProvider.PROVIDER_ID?s="login":s=(s=Zf(q(s),c))&&s.Ob,s&&(p[s]=u)),f.setCustomParameters&&f.setCustomParameters(p),f}function dp(s,c,u,f){function p(){t8(new UR(s.h.tenantId||null),Me(s)),Ge(s,c.I(Ie(s.dc,s),[j],function(){if((window.location&&window.location.protocol)==="file:")return Ge(s,v2(s).then(function(Y){c.m(),rr(al,Me(s)),ve("callback",s,A,yn(Y))},g))},_))}function g(Y){if(rr(al,Me(s)),!Y.name||Y.name!="cancel")switch(Y=up(Y),Y.code){case"auth/popup-blocked":p();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":c.a(Vt(Y));break;case"auth/admin-restricted-operation":c.m(),ll(q(s))?ve("handleUnauthorizedUser",s,A,null,u):ve("callback",s,A,Wu(Y));break;default:c.m(),ve("callback",s,A,Wu(Y))}}function _(Y){rr(al,Me(s)),Y.name&&Y.name=="cancel"||(gr("signInWithRedirect: "+Y.code,void 0),Y=Vt(Y),c.Ga=="blank"&&II(q(s))?(c.m(),ve("providerSignIn",s,A,Y)):c.a(Y))}var A=ln(c),j=D8(s,u,f);CN(q(s))==zy?p():Ge(s,iq(s,j).then(function(Y){c.m(),ve("callback",s,A,yn(Y))},g))}function x8(s,c){Ge(s,c.I(Ie(s.$b,s),[],function(u){return c.m(),$s(s,c,u,!0)},function(u){u.name&&u.name=="cancel"||(gr("ContinueAsGuest: "+u.code,void 0),u=Vt(u),c.a(u))}))}function A8(s,c,u){function f(g){var _=!1;return g=c.I(Ie(s.ac,s),[g],function(A){var j=ln(c);c.m(),ve("callback",s,j,yn(A)),_=!0},function(A){if((!A.name||A.name!="cancel")&&(!A||A.code!="auth/credential-already-in-use"))if(A&&A.code=="auth/email-already-in-use"&&A.email&&A.credential){var j=ln(c);c.m(),ve("callback",s,j,Wu(A))}else A&&A.code=="auth/admin-restricted-operation"&&ll(q(s))?(A=ln(c),c.m(),ve("handleUnauthorizedUser",s,A,null,be.auth.GoogleAuthProvider.PROVIDER_ID)):(A=Vt(A),c.a(A))}),Ge(s,g),g.then(function(){return _},function(){return!1})}if(u&&u.credential&&u.clientId===gN(q(s))){if(yN(q(s),be.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var p=JSON.parse(atob(u.credential.split(".")[1])).email}catch{}return dp(s,c,be.auth.GoogleAuthProvider.PROVIDER_ID,p),yn(!0)}return f(be.auth.GoogleAuthProvider.credential(u.credential))}return u&&c.a(Tt("The selected credential for the authentication provider is not supported!").toString()),yn(!1)}function M8(s,c){var u=c.j(),f=c.u();if(u)if(f){var p=be.auth.EmailAuthProvider.credential(u,f);Ge(s,c.I(Ie(s.bc,s),[u,f],function(g){return $s(s,c,{user:g.user,credential:p,operationType:g.operationType,additionalUserInfo:g.additionalUserInfo})},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/email-already-in-use":break;case"auth/email-exists":_n(c.l(),!1),oi(c.U(),Vt(g));break;case"auth/too-many-requests":case"auth/wrong-password":_n(c.i(),!1),oi(c.B(),Vt(g));break;default:gr("verifyPassword: "+g.message,void 0),c.a(Vt(g))}}))}else c.i().focus();else c.l().focus()}function n_(s){return s=od(q(s)),s.length==1&&s[0]==be.auth.EmailAuthProvider.PROVIDER_ID}function n2(s){return s=od(q(s)),s.length==1&&s[0]==be.auth.PhoneAuthProvider.PROVIDER_ID}function Ht(s,c,u,f){n_(s)?f?ve("signIn",s,c,u,f):BI(s,c,u):s&&n2(s)&&!f?ve("phoneSignInStart",s,c):s&&II(q(s))&&!f?ve("federatedRedirect",s,c,u):ve("providerSignIn",s,c,f,u)}function i2(s,c,u,f){var p=ln(c);Ge(s,c.I(Ie(ct(s).fetchSignInMethodsForEmail,ct(s)),[u],function(g){c.m(),r2(s,p,g,u,f)},function(g){g=Vt(g),c.a(g)}))}function r2(s,c,u,f,p,g){u.length||sd(q(s))&&!sd(q(s))?ut(u,be.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ve("passwordSignIn",s,c,f,g):u.length==1&&u[0]===be.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?sd(q(s))?ve("sendEmailLinkForSignIn",s,c,f,function(){ve("signIn",s,c)}):ve("unsupportedProvider",s,c,f):(u=fN(u,od(q(s))))?(iN(new dI(f),Me(s)),ve("federatedSignIn",s,c,f,u,p)):ve("unsupportedProvider",s,c,f):vN(q(s))?ve("handleUnauthorizedUser",s,c,f,be.auth.EmailAuthProvider.PROVIDER_ID):sd(q(s))?ve("sendEmailLinkForSignIn",s,c,f,function(){ve("signIn",s,c)}):ve("passwordSignUp",s,c,f,void 0,void 0,g)}function UI(s,c,u,f,p,g){var _=ln(c);Ge(s,c.I(Ie(s.Ib,s),[u,g],function(){c.m(),ve("emailLinkSignInSent",s,_,u,f,g)},p))}function BI(s,c,u){u?ve("prefilledEmailSignIn",s,c,u):ve("signIn",s,c)}function hp(){return so(Us(),"oobCode")}function $I(){var s=so(Us(),"continueUrl");return s?function(){qu(window.location,s)}:null}function fp(s,c){z.call(this,mF,void 0,c,"anonymousUserMismatch"),this.i=s}l(fp,z),fp.prototype.v=function(){var s=this;pn(this,this.l(),function(){s.i()}),this.l().focus(),z.prototype.v.call(this)},fp.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(fp.prototype,{l:Bn}),Pt.anonymousUserMismatch=function(s,c){var u=new fp(function(){u.m(),Ht(s,c)});u.render(c),Ze(s,u)};function i_(s){z.call(this,cF,void 0,s,"callback")}l(i_,z),i_.prototype.I=function(s,c,u,f){return s.apply(null,c).then(u,f)};function o2(s,c,u){if(u.user){var f={user:u.user,credential:u.credential,operationType:u.operationType,additionalUserInfo:u.additionalUserInfo},p=Go(Me(s)),g=p&&p.g;if(g&&!O8(u.user,g))P8(s,c,f);else{var _=p&&p.a;_?Ge(s,u.user.linkWithCredential(_).then(function(A){f={user:A.user,credential:_,operationType:A.operationType,additionalUserInfo:A.additionalUserInfo},s2(s,c,f)},function(A){r_(s,c,A)})):s2(s,c,f)}}else u=ln(c),c.m(),zo(Me(s)),Ht(s,u)}function s2(s,c,u){zo(Me(s)),$s(s,c,u)}function r_(s,c,u){var f=ln(c);zo(Me(s)),u=Vt(u),c.m(),Ht(s,f,void 0,u)}function a2(s,c,u,f){var p=ln(c);Ge(s,ct(s).fetchSignInMethodsForEmail(u).then(function(g){c.m(),g.length?ut(g,be.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ve("passwordLinking",s,p,u):g.length==1&&g[0]===be.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ve("emailLinkSignInLinking",s,p,u):(g=fN(g,od(q(s))))?ve("federatedLinking",s,p,u,g,f):(zo(Me(s)),ve("unsupportedProvider",s,p,u)):(zo(Me(s)),ve("passwordRecovery",s,p,u,!1,Wk().toString()))},function(g){r_(s,c,g)}))}function P8(s,c,u){var f=ln(c);Ge(s,Ua(s).then(function(){c.m(),ve("emailMismatch",s,f,u)},function(p){p.name&&p.name=="cancel"||(p=Vt(p.code),c.a(p))}))}function O8(s,c){if(c==s.email)return!0;if(s.providerData){for(var u=0;u<s.providerData.length;u++)if(c==s.providerData[u].email)return!0}return!1}Pt.callback=function(s,c,u){var f=new i_;f.render(c),Ze(s,f),u=u||v2(s),Ge(s,u.then(function(p){o2(s,f,p)},function(p){if((p=up(p))&&(p.code=="auth/account-exists-with-different-credential"||p.code=="auth/email-already-in-use")&&p.email&&p.credential)iN(new dI(p.email,p.credential),Me(s)),a2(s,f,p.email);else if(p&&p.code=="auth/user-cancelled"){var g=Go(Me(s)),_=Vt(p);g&&g.a?a2(s,f,g.g,_):g?i2(s,f,g.g,_):r_(s,f,p)}else p&&p.code=="auth/credential-already-in-use"||(p&&p.code=="auth/operation-not-supported-in-this-environment"&&n_(s)?o2(s,f,{user:null,credential:null}):p&&p.code=="auth/admin-restricted-operation"&&ll(q(s))?(f.m(),zo(Me(s)),ve("handleUnauthorizedUser",s,c,null,null)):r_(s,f,p))}))};function pp(s,c){z.call(this,pF,void 0,c,"differentDeviceError"),this.i=s}l(pp,z),pp.prototype.v=function(){var s=this;pn(this,this.l(),function(){s.i()}),this.l().focus(),z.prototype.v.call(this)},pp.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(pp.prototype,{l:Bn}),Pt.differentDeviceError=function(s,c){var u=new pp(function(){u.m(),Ht(s,c)});u.render(c),Ze(s,u)};function mp(s,c,u,f){z.call(this,SF,{email:s,G:!!u},f,"emailChangeRevoke"),this.l=c,this.i=u||null}l(mp,z),mp.prototype.v=function(){var s=this;pn(this,yt(this,"firebaseui-id-reset-password-link"),function(){s.l()}),this.i&&(this.w(this.i),this.u().focus()),z.prototype.v.call(this)},mp.prototype.o=function(){this.l=this.i=null,z.prototype.o.call(this)},Te(mp.prototype,{u:Yn,B:Bn,w:si});function gp(){return yt(this,"firebaseui-id-new-password")}function o_(){return yt(this,"firebaseui-id-password-toggle")}function k8(){this.Ra=!this.Ra;var s=o_.call(this),c=gp.call(this);this.Ra?(c.type="text",qo(s,"firebaseui-input-toggle-off"),Wo(s,"firebaseui-input-toggle-on")):(c.type="password",qo(s,"firebaseui-input-toggle-on"),Wo(s,"firebaseui-input-toggle-off")),c.focus()}function s_(){return yt(this,"firebaseui-id-new-password-error")}function c2(){this.Ra=!1;var s=gp.call(this);s.type="password";var c=s_.call(this);fd(this,s,function(){pd(c)&&(_n(s,!0),yr(c))});var u=o_.call(this);qo(u,"firebaseui-input-toggle-on"),Wo(u,"firebaseui-input-toggle-off"),b8(this,s,function(){qo(u,"firebaseui-input-toggle-focus"),Wo(u,"firebaseui-input-toggle-blur")}),C8(this,s,function(){qo(u,"firebaseui-input-toggle-blur"),Wo(u,"firebaseui-input-toggle-focus")}),pn(this,u,Ie(k8,this))}function l2(){var s=gp.call(this),c=s_.call(this);return ri(s)?(_n(s,!0),yr(c),c=!0):(_n(s,!1),oi(c,Tt("Enter your password").toString()),c=!1),c?ri(s):null}function vp(s,c,u){z.call(this,CF,{email:s},u,"passwordReset"),this.l=c}l(vp,z),vp.prototype.v=function(){this.H(),this.B(this.l),vd(this,this.i(),this.l),this.i().focus(),z.prototype.v.call(this)},vp.prototype.o=function(){this.l=null,z.prototype.o.call(this)},Te(vp.prototype,{i:gp,w:s_,M:o_,H:c2,u:l2,U:Yn,P:Bn,B:si});function yp(s,c,u,f,p){z.call(this,PF,{factorId:s,phoneNumber:u||null,G:!!f},p,"revertSecondFactorAdditionSuccess"),this.l=c,this.i=f||null}l(yp,z),yp.prototype.v=function(){var s=this;pn(this,yt(this,"firebaseui-id-reset-password-link"),function(){s.l()}),this.i&&(this.w(this.i),this.u().focus()),z.prototype.v.call(this)},yp.prototype.o=function(){this.l=this.i=null,z.prototype.o.call(this)},Te(yp.prototype,{u:Yn,B:Bn,w:si});function R8(s,c,u,f,p){var g=u.u();g&&Ge(s,u.I(Ie(ct(s).confirmPasswordReset,ct(s)),[f,g],function(){u.m();var _=new QF(p);_.render(c),Ze(s,_)},function(_){u2(s,c,u,_)}))}function u2(s,c,u,f){(f&&f.code)=="auth/weak-password"?(s=Vt(f),_n(u.i(),!1),oi(u.w(),s),u.i().focus()):(u&&u.m(),u=new JF,u.render(c),Ze(s,u))}function N8(s,c,u){var f=new mp(u,function(){Ge(s,f.I(Ie(ct(s).sendPasswordResetEmail,ct(s)),[u],function(){f.m(),f=new e_(u,void 0,Mn(q(s)),Pn(q(s))),f.render(c),Ze(s,f)},function(){f.a(zk().toString())}))});f.render(c),Ze(s,f)}function F8(s,c,u,f){var p=new yp(f.factorId,function(){p.I(Ie(ct(s).sendPasswordResetEmail,ct(s)),[u],function(){p.m(),p=new e_(u,void 0,Mn(q(s)),Pn(q(s))),p.render(c),Ze(s,p)},function(){p.a(zk().toString())})},f.phoneNumber);p.render(c),Ze(s,p)}Pt.passwordReset=function(s,c,u,f){Ge(s,ct(s).verifyPasswordResetCode(u).then(function(p){var g=new vp(p,function(){R8(s,c,g,u,f)});g.render(c),Ze(s,g)},function(){u2(s,c)}))},Pt.emailChangeRevocation=function(s,c,u){var f=null;Ge(s,ct(s).checkActionCode(u).then(function(p){return f=p.data.email,ct(s).applyActionCode(u)}).then(function(){N8(s,c,f)},function(){var p=new XF;p.render(c),Ze(s,p)}))},Pt.emailVerification=function(s,c,u,f){Ge(s,ct(s).applyActionCode(u).then(function(){var p=new GF(f);p.render(c),Ze(s,p)},function(){var p=new zF;p.render(c),Ze(s,p)}))},Pt.revertSecondFactorAddition=function(s,c,u){var f=null,p=null;Ge(s,ct(s).checkActionCode(u).then(function(g){return f=g.data.email,p=g.data.multiFactorInfo,ct(s).applyActionCode(u)}).then(function(){F8(s,c,f,p)},function(){var g=new KF;g.render(c),Ze(s,g)}))},Pt.verifyAndChangeEmail=function(s,c,u,f){var p=null;Ge(s,ct(s).checkActionCode(u).then(function(g){return p=g.data.email,ct(s).applyActionCode(u)}).then(function(){var g=new qF(p,f);g.render(c),Ze(s,g)},function(){var g=new WF;g.render(c),Ze(s,g)}))};function a_(s,c){try{var u=typeof s.selectionStart=="number"}catch{u=!1}u?(s.selectionStart=c,s.selectionEnd=c):gn&&!Xc("9")&&(s.type=="textarea"&&(c=s.value.substring(0,c).replace(/(\r\n|\r|\n)/g,`
`).length),s=s.createTextRange(),s.collapse(!0),s.move("character",c),s.select())}function _p(s,c,u,f,p,g){z.call(this,fF,{email:u},g,"emailLinkSignInConfirmation",{F:f,D:p}),this.l=s,this.u=c}l(_p,z),_p.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),a_(this.i(),(this.i().value||"").length),z.prototype.v.call(this)},_p.prototype.o=function(){this.u=this.l=null,z.prototype.o.call(this)},Te(_p.prototype,{i:Bs,M:ja,w:_d,H:wd,j:bd,U:Yn,P:Bn,B:si}),Pt.emailLinkConfirmation=function(s,c,u,f,p,g){var _=new _p(function(){var A=_.j();A?(_.m(),f(s,c,A,u)):_.i().focus()},function(){_.m(),Ht(s,c,p||void 0)},p||void 0,Mn(q(s)),Pn(q(s)));_.render(c),Ze(s,_),g&&_.a(g)};function wp(s,c,u,f,p){z.call(this,yF,{ga:s},p,"emailLinkSignInLinkingDifferentDevice",{F:u,D:f}),this.i=c}l(wp,z),wp.prototype.v=function(){this.u(this.i),this.l().focus(),z.prototype.v.call(this)},wp.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(wp.prototype,{l:Yn,u:si}),Pt.emailLinkNewDeviceLinking=function(s,c,u,f){var p=new Jc(u);if(u=p.a.a.get(Vn.PROVIDER_ID)||null,Ck(p,null),u){var g=new wp(Zf(q(s),u),function(){g.m(),f(s,c,p.toString())},Mn(q(s)),Pn(q(s)));g.render(c),Ze(s,g)}else Ht(s,c)};function c_(s){z.call(this,uF,void 0,s,"blank")}l(c_,z);function HI(s,c,u,f,p){var g=new c_,_=new Jc(u),A=_.a.a.get(Vn.$a)||"",j=_.a.a.get(Vn.Sa)||"",Y=_.a.a.get(Vn.Qa)==="1",_e=bk(_),Ft=_.a.a.get(Vn.PROVIDER_ID)||null;_=_.a.a.get(Vn.vb)||null,E2(s,_);var fo=!nd(td,Me(s)),x2=f||n8(j,Me(s)),kp=(f=i8(j,Me(s)))&&f.a;Ft&&kp&&kp.providerId!==Ft&&(kp=null),g.render(c),Ze(s,g),Ge(s,g.I(function(){var Nr=yn(null);Nr=_e&&fo||fo&&Y?Wu(Error("anonymous-user-not-found")):eq(s,u).then(function(eS){if(Ft&&!kp)throw Error("pending-credential-not-found");return eS});var Rp=null;return Nr.then(function(eS){return Rp=eS,p?null:ct(s).checkActionCode(A)}).then(function(){return Rp})},[],function(Nr){x2?V8(s,g,x2,u,kp,Nr):Y?(g.m(),ve("differentDeviceError",s,c)):(g.m(),ve("emailLinkConfirmation",s,c,u,d2))},function(Nr){var Rp=void 0;if(!Nr||!Nr.name||Nr.name!="cancel")switch(g.m(),Nr&&Nr.message){case"anonymous-user-not-found":ve("differentDeviceError",s,c);break;case"anonymous-user-mismatch":ve("anonymousUserMismatch",s,c);break;case"pending-credential-not-found":ve("emailLinkNewDeviceLinking",s,c,u,L8);break;default:Nr&&(Rp=Vt(Nr)),Ht(s,c,void 0,Rp)}}))}function d2(s,c,u,f){HI(s,c,f,u,!0)}function L8(s,c,u){HI(s,c,u)}function V8(s,c,u,f,p,g){var _=ln(c);c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Tt("Signing in...").toString());var A=null;p=(g?tq(s,g,u,f,p):nq(s,u,f,p)).then(function(j){rr(Jf,Me(s)),rr(td,Me(s)),c.h(),c.$("firebaseui-icon-done",Tt("Signed in!").toString()),A=setTimeout(function(){c.h(),$s(s,c,j,!0)},1e3),Ge(s,function(){c&&(c.h(),c.m()),clearTimeout(A)})},function(j){if(c.h(),c.m(),!j.name||j.name!="cancel"){j=up(j);var Y=Vt(j);j.code=="auth/email-already-in-use"||j.code=="auth/credential-already-in-use"?(rr(Jf,Me(s)),rr(td,Me(s))):j.code=="auth/invalid-email"?(Y=Tt("The email provided does not match the current sign-in session.").toString(),ve("emailLinkConfirmation",s,_,f,d2,null,Y)):Ht(s,_,u,Y)}}),Ge(s,p)}Pt.emailLinkSignInCallback=HI;function bp(s,c,u,f,p,g){z.call(this,vF,{email:s,ga:c},g,"emailLinkSignInLinking",{F:f,D:p}),this.i=u}l(bp,z),bp.prototype.v=function(){this.u(this.i),this.l().focus(),z.prototype.v.call(this)},bp.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(bp.prototype,{l:Yn,u:si});function j8(s,c,u,f){var p=ln(c);UI(s,c,u,function(){Ht(s,p,u)},function(g){if(!g.name||g.name!="cancel"){var _=Vt(g);g&&g.code=="auth/network-request-failed"?c.a(_):(c.m(),Ht(s,p,u,_))}},f)}Pt.emailLinkSignInLinking=function(s,c,u){var f=Go(Me(s));if(zo(Me(s)),f){var p=f.a.providerId,g=new bp(u,Zf(q(s),p),function(){j8(s,g,u,f)},Mn(q(s)),Pn(q(s)));g.render(c),Ze(s,g)}else Ht(s,c)};function Cp(s,c,u,f,p,g){z.call(this,dF,{email:s},g,"emailLinkSignInSent",{F:f,D:p}),this.u=c,this.i=u}l(Cp,z),Cp.prototype.v=function(){var s=this;pn(this,this.l(),function(){s.i()}),pn(this,yt(this,"firebaseui-id-trouble-getting-email-link"),function(){s.u()}),this.l().focus(),z.prototype.v.call(this)},Cp.prototype.o=function(){this.i=this.u=null,z.prototype.o.call(this)},Te(Cp.prototype,{l:Bn}),Pt.emailLinkSignInSent=function(s,c,u,f,p){var g=new Cp(u,function(){g.m(),ve("emailNotReceived",s,c,u,f,p)},function(){g.m(),f()},Mn(q(s)),Pn(q(s)));g.render(c),Ze(s,g)};function Ep(s,c,u,f,p,g,_){z.call(this,NF,{jc:s,Qb:c},_,"emailMismatch",{F:p,D:g}),this.l=u,this.i=f}l(Ep,z),Ep.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),z.prototype.v.call(this)},Ep.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(Ep.prototype,{u:Yn,B:Bn,w:si}),Pt.emailMismatch=function(s,c,u){var f=Go(Me(s));if(f){var p=new Ep(u.user.email,f.g,function(){var g=p;zo(Me(s)),$s(s,g,u)},function(){var g=u.credential.providerId,_=ln(p);p.m(),f.a?ve("federatedLinking",s,_,f.g,g):ve("federatedSignIn",s,_,f.g,g)},Mn(q(s)),Pn(q(s)));p.render(c),Ze(s,p)}else Ht(s,c)};function Cd(s,c,u,f,p){z.call(this,hF,void 0,p,"emailNotReceived",{F:u,D:f}),this.l=s,this.i=c}l(Cd,z),Cd.prototype.v=function(){var s=this;pn(this,this.u(),function(){s.i()}),pn(this,this.Da(),function(){s.l()}),this.u().focus(),z.prototype.v.call(this)},Cd.prototype.Da=function(){return yt(this,"firebaseui-id-resend-email-link")},Cd.prototype.o=function(){this.i=this.l=null,z.prototype.o.call(this)},Te(Cd.prototype,{u:Bn}),Pt.emailNotReceived=function(s,c,u,f,p){var g=new Cd(function(){UI(s,g,u,f,function(_){_=Vt(_),g.a(_)},p)},function(){g.m(),Ht(s,c,u)},Mn(q(s)),Pn(q(s)));g.render(c),Ze(s,g)};function Ed(s,c,u,f,p,g){z.call(this,_F,{email:s,ga:c},g,"federatedLinking",{F:f,D:p}),this.i=u}l(Ed,z),Ed.prototype.v=function(){this.u(this.i),this.l().focus(),z.prototype.v.call(this)},Ed.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(Ed.prototype,{l:Yn,u:si}),Pt.federatedLinking=function(s,c,u,f,p){var g=Go(Me(s));if(g&&g.a){var _=new Ed(u,Zf(q(s),f),function(){dp(s,_,f,u)},Mn(q(s)),Pn(q(s)));_.render(c),Ze(s,_),p&&_.a(p)}else Ht(s,c)},Pt.federatedRedirect=function(s,c,u){var f=new c_;f.render(c),Ze(s,f),c=od(q(s))[0],dp(s,f,c,u)},Pt.federatedSignIn=function(s,c,u,f,p){var g=new Ed(u,Zf(q(s),f),function(){dp(s,g,f,u)},Mn(q(s)),Pn(q(s)));g.render(c),Ze(s,g),p&&g.a(p)};function U8(s,c,u,f){var p=c.u();p?Ge(s,c.I(Ie(s.Xb,s),[u,p],function(g){return g=g.user.linkWithCredential(f).then(function(_){return $s(s,c,{user:_.user,credential:f,operationType:_.operationType,additionalUserInfo:_.additionalUserInfo})}),Ge(s,g),g},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/wrong-password":_n(c.i(),!1),oi(c.B(),Vt(g));break;case"auth/too-many-requests":c.a(Vt(g));break;default:gr("signInWithEmailAndPassword: "+g.message,void 0),c.a(Vt(g))}})):c.i().focus()}Pt.passwordLinking=function(s,c,u){var f=Go(Me(s));zo(Me(s));var p=f&&f.a;if(p){var g=new yd(u,function(){U8(s,g,u,p)},function(){g.m(),ve("passwordRecovery",s,c,u)},Mn(q(s)),Pn(q(s)));g.render(c),Ze(s,g)}else Ht(s,c)};function Ip(s,c,u,f,p,g){z.call(this,sF,{email:u,Ta:!!c},g,"passwordRecovery",{F:f,D:p}),this.l=s,this.u=c}l(Ip,z),Ip.prototype.v=function(){this.B(),this.H(this.l,this.u),ri(this.i())||this.i().focus(),vd(this,this.i(),this.l),z.prototype.v.call(this)},Ip.prototype.o=function(){this.u=this.l=null,z.prototype.o.call(this)},Te(Ip.prototype,{i:Bs,w:ja,B:_d,M:wd,j:bd,U:Yn,P:Bn,H:si});function B8(s,c){var u=c.j();if(u){var f=ln(c);Ge(s,c.I(Ie(ct(s).sendPasswordResetEmail,ct(s)),[u],function(){c.m();var p=new e_(u,function(){p.m(),Ht(s,f)},Mn(q(s)),Pn(q(s)));p.render(f),Ze(s,p)},function(p){_n(c.i(),!1),oi(c.w(),Vt(p))}))}else c.i().focus()}Pt.passwordRecovery=function(s,c,u,f,p){var g=new Ip(function(){B8(s,g)},f?void 0:function(){g.m(),Ht(s,c)},u,Mn(q(s)),Pn(q(s)));g.render(c),Ze(s,g),p&&g.a(p)},Pt.passwordSignIn=function(s,c,u,f){var p=new lp(function(){M8(s,p)},function(){var g=p.M();p.m(),ve("passwordRecovery",s,c,g)},u,Mn(q(s)),Pn(q(s)),f);p.render(c),Ze(s,p)};function GI(){return yt(this,"firebaseui-id-name")}function zI(){return yt(this,"firebaseui-id-name-error")}function Sp(s,c,u,f,p,g,_,A,j){z.call(this,oF,{email:f,Tb:s,name:p,Ta:!!u,ia:!!A},j,"passwordSignUp",{F:g,D:_}),this.w=c,this.H=u,this.B=s}l(Sp,z),Sp.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(cp(this,this.i(),this.u()),cp(this,this.u(),this.l())):cp(this,this.i(),this.l()),this.w&&vd(this,this.l(),this.w),ri(this.i())?this.B&&!ri(this.u())?this.u().focus():this.l().focus():this.i().focus(),z.prototype.v.call(this)},Sp.prototype.o=function(){this.H=this.w=null,z.prototype.o.call(this)},Te(Sp.prototype,{i:Bs,U:ja,ea:_d,jb:wd,j:bd,u:GI,Bc:zI,Ja:function(){var s=GI.call(this),c=zI.call(this);fd(this,s,function(){pd(c)&&(_n(s,!0),yr(c))})},M:function(){var s=GI.call(this),c=zI.call(this),u=ri(s);return u=!/^[\s\xa0]*$/.test(u==null?"":String(u)),_n(s,u),u?(yr(c),c=!0):(oi(c,Tt("Enter your account name").toString()),c=!1),c?ni(ri(s)):null},l:gp,ba:s_,lb:o_,ua:c2,P:l2,Nb:Yn,Mb:Bn,pa:si});function $8(s,c){var u=bN(q(s)),f=c.j(),p=null;u&&(p=c.M());var g=c.P();if(f){if(u)if(p)p=Rr(p);else{c.u().focus();return}if(g){var _=be.auth.EmailAuthProvider.credential(f,g);Ge(s,c.I(Ie(s.Yb,s),[f,g],function(A){var j={user:A.user,credential:_,operationType:A.operationType,additionalUserInfo:A.additionalUserInfo};return u?(A=A.user.updateProfile({displayName:p}).then(function(){return $s(s,c,j)}),Ge(s,A),A):$s(s,c,j)},function(A){if(!A.name||A.name!="cancel"){var j=up(A);switch(A=Vt(j),j.code){case"auth/email-already-in-use":return H8(s,c,f,j);case"auth/too-many-requests":A=Tt("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":_n(c.l(),!1),oi(c.ba(),A);break;case"auth/admin-restricted-operation":ll(q(s))?(A=ln(c),c.m(),ve("handleUnauthorizedUser",s,A,f,be.auth.EmailAuthProvider.PROVIDER_ID)):c.a(A);break;default:j="setAccountInfo: "+JR(j),gr(j,void 0),c.a(A)}}}))}else c.l().focus()}else c.i().focus()}function H8(s,c,u,f){function p(){var _=Vt(f);_n(c.i(),!1),oi(c.U(),_),c.i().focus()}var g=ct(s).fetchSignInMethodsForEmail(u).then(function(_){_.length?p():(_=ln(c),c.m(),ve("passwordRecovery",s,_,u,!1,Wk().toString()))},function(){p()});return Ge(s,g),g}Pt.passwordSignUp=function(s,c,u,f,p,g){function _(){A.m(),Ht(s,c)}var A=new Sp(bN(q(s)),function(){$8(s,A)},p?void 0:_,u,f,Mn(q(s)),Pn(q(s)),g);A.render(c),Ze(s,A)};function qI(){return yt(this,"firebaseui-id-phone-confirmation-code")}function h2(){return yt(this,"firebaseui-id-phone-confirmation-code-error")}function f2(){return yt(this,"firebaseui-id-resend-countdown")}function Id(s,c,u,f,p,g,_,A,j){z.call(this,VF,{phoneNumber:p},j,"phoneSignInFinish",{F:_,D:A}),this.jb=g,this.i=new qy(1e3),this.B=g,this.P=s,this.l=c,this.H=u,this.M=f}l(Id,z),Id.prototype.v=function(){var s=this;this.U(this.jb),co(this.i,"tick",this.w,!1,this),this.i.start(),pn(this,yt(this,"firebaseui-id-change-phone-number-link"),function(){s.P()}),pn(this,this.Da(),function(){s.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),z.prototype.v.call(this)},Id.prototype.o=function(){this.M=this.H=this.l=this.P=null,Wy(this.i),il(this.i,"tick",this.w),this.i=null,z.prototype.o.call(this)},Id.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(Wy(this.i),il(this.i,"tick",this.w),this.ua(),this.lb())},Te(Id.prototype,{u:qI,pa:h2,Ja:function(s){var c=qI.call(this),u=h2.call(this);fd(this,c,function(){pd(u)&&(_n(c,!0),yr(u))}),s&&ap(this,c,function(){s()})},ba:function(){var s=ni(ri(qI.call(this))||"");return/^\d{6}$/.test(s)?s:null},Fb:f2,U:function(s){RE(f2.call(this),Tt("Resend code in "+((9<s?"0:":"0:0")+s)).toString())},ua:function(){yr(this.Fb())},Da:function(){return yt(this,"firebaseui-id-resend-link")},lb:function(){oi(this.Da())},Nb:Yn,Mb:Bn,ea:si});function G8(s,c,u,f){function p(_){c.u().focus(),_n(c.u(),!1),oi(c.pa(),_)}var g=c.ba();g?(c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Tt("Verifying...").toString()),Ge(s,c.I(Ie(f.confirm,f),[g],function(_){c.h(),c.$("firebaseui-icon-done",Tt("Verified!").toString());var A=setTimeout(function(){c.h(),c.m();var j={user:uo(s).currentUser,credential:null,operationType:_.operationType,additionalUserInfo:_.additionalUserInfo};$s(s,c,j,!0)},1e3);Ge(s,function(){c&&c.h(),clearTimeout(A)})},function(_){if(_.name&&_.name=="cancel")c.h();else{var A=up(_);switch(_=Vt(A),A.code){case"auth/credential-already-in-use":c.h();break;case"auth/code-expired":A=ln(c),c.h(),c.m(),ve("phoneSignInStart",s,A,u,_);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":c.h(),p(_);break;default:c.h(),c.a(_)}}}))):p(Tt("Wrong code. Try again.").toString())}Pt.phoneSignInFinish=function(s,c,u,f,p,g){var _=new Id(function(){_.m(),ve("phoneSignInStart",s,c,u)},function(){G8(s,_,u,p)},function(){_.m(),Ht(s,c)},function(){_.m(),ve("phoneSignInStart",s,c,u)},CI(u),f,Mn(q(s)),Pn(q(s)));_.render(c),Ze(s,_),g&&_.a(g)};var z8=!gn&&!(at("Safari")&&!(Sk()||at("Coast")||at("Opera")||at("Edge")||at("Firefox")||at("FxiOS")||at("Silk")||at("Android")));function l_(s,c){return/-[a-z]/.test(c)?null:z8&&s.dataset?!at("Android")||Sk()||at("Firefox")||at("FxiOS")||at("Opera")||at("Silk")||c in s.dataset?(s=s.dataset[c],s===void 0?null:s):null:s.getAttribute("data-"+String(c).replace(/([A-Z])/g,"-$1").toLowerCase())}function q8(s,c,u){var f=this;s=Lf(JN,{items:s},null,this.s),ZN.call(this,s,!0,!0),u&&(u=W8(s,u))&&(u.focus(),w8(u,s)),pn(this,s,function(p){(p=(p=Uk(p.target,"firebaseui-id-list-box-dialog-button"))&&l_(p,"listboxid"))&&(Jy.call(f),c(p))})}function W8(s,c){s=(s||document).getElementsByTagName("BUTTON");for(var u=0;u<s.length;u++)if(l_(s[u],"listboxid")===c)return s[u];return null}function dl(){return yt(this,"firebaseui-id-phone-number")}function p2(){return yt(this,"firebaseui-id-country-selector")}function WI(){return yt(this,"firebaseui-id-phone-number-error")}function K8(s,c){var u=s.a,f=KI("1-US-0",u),p=null;if(c&&KI(c,u)?p=c:f?p="1-US-0":p=0<u.length?u[0].c:null,!p)throw Error("No available default country");u_.call(this,p,s)}function KI(s,c){return s=cl(s),!(!s||!ut(c,s))}function Y8(s){return s.map(function(c){return{id:c.c,Ma:"firebaseui-flag "+YI(c),label:c.name+" "+("\u200E+"+c.b)}})}function YI(s){return"firebaseui-flag-"+s.f}function Q8(s){var c=this;q8.call(this,Y8(s.a),function(u){u_.call(c,u,s,!0),c.O().focus()},this.Ba)}function u_(s,c,u){var f=cl(s);f&&(u&&(u=ni(ri(dl.call(this))||""),c=By(c,u),c.length&&c[0].b!=f.b&&(u="+"+f.b+u.substr(c[0].b.length+1),DN(dl.call(this),u))),c=cl(this.Ba),this.Ba=s,s=yt(this,"firebaseui-id-country-selector-flag"),c&&Wo(s,YI(c)),qo(s,YI(f)),RE(yt(this,"firebaseui-id-country-selector-code"),"\u200E+"+f.b))}function Tp(s,c,u,f,p,g,_,A,j,Y){z.call(this,LF,{Gb:c,Aa:j||null,Va:!!u,ia:!!g},Y,"phoneSignInStart",{F:f,D:p}),this.H=A||null,this.M=c,this.l=s,this.w=u||null,this.pa=_||null}l(Tp,z),Tp.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||cp(this,this.O(),this.i()),vd(this,this.i(),this.l),this.O().focus(),a_(this.O(),(this.O().value||"").length),z.prototype.v.call(this)},Tp.prototype.o=function(){this.w=this.l=null,z.prototype.o.call(this)},Te(Tp.prototype,{Cb:VI,O:dl,B:WI,ea:function(s,c,u){var f=this,p=dl.call(this),g=p2.call(this),_=WI.call(this),A=s||Xf,j=A.a;if(j.length==0)throw Error("No available countries provided.");K8.call(f,A,c),pn(this,g,function(){Q8.call(f,A)}),fd(this,p,function(){pd(_)&&(_n(p,!0),yr(_));var Y=ni(ri(p)||""),_e=cl(this.Ba),Ft=By(A,Y);Y=KI("1-US-0",j),Ft.length&&Ft[0].b!=_e.b&&(_e=Ft[0],u_.call(f,_e.b=="1"&&Y?"1-US-0":_e.c,A))}),u&&ap(this,p,function(){u()})},U:function(s){var c=ni(ri(dl.call(this))||"");s=s||Xf;var u=s.a,f=By(Xf,c);if(f.length&&!ut(u,f[0]))throw DN(dl.call(this)),dl.call(this).focus(),oi(WI.call(this),Tt("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return u=cl(this.Ba),f.length&&f[0].b!=u.b&&u_.call(this,f[0].c,s),f.length&&(c=c.substr(f[0].b.length+1)),c?new dN(this.Ba,c):null},Ja:p2,ba:function(){return yt(this,"firebaseui-recaptcha-container")},u:function(){return yt(this,"firebaseui-id-recaptcha-error")},i:Yn,ua:Bn,P:si});function m2(s,c,u,f){try{var p=c.U(MI)}catch{return}p?tp?(c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Tt("Verifying...").toString()),Ge(s,c.I(Ie(s.cc,s),[CI(p),u],function(g){var _=ln(c);c.$("firebaseui-icon-done",Tt("Code sent!").toString());var A=setTimeout(function(){c.h(),c.m(),ve("phoneSignInFinish",s,_,p,15,g)},1e3);Ge(s,function(){c&&c.h(),clearTimeout(A)})},function(g){if(c.h(),!g.name||g.name!="cancel"){grecaptcha.reset(SN),tp=null;var _=g&&g.message||"";if(g.code)switch(g.code){case"auth/too-many-requests":_=Tt("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":c.O().focus(),oi(c.B(),VE().toString());return;case"auth/admin-restricted-operation":if(ll(q(s))){g=ln(c),c.m(),ve("handleUnauthorizedUser",s,g,CI(p),be.auth.PhoneAuthProvider.PROVIDER_ID);return}_=Vt(g);break;default:_=Vt(g)}c.a(_)}}))):ad?oi(c.u(),Tt("Solve the reCAPTCHA").toString()):!ad&&f&&c.i().click():(c.O().focus(),oi(c.B(),VE().toString()))}Pt.phoneSignInStart=function(s,c,u,f){var p=s8(q(s))||{};tp=null,ad=!(p&&p.size==="invisible");var g=n2(s),_=h8(q(s)),A=g?d8(q(s)):null;_=u&&u.a||_&&_.c||null,u=u&&u.Aa||A,(A=EI(q(s)))&&uN(A),MI=A?new aN(EI(q(s))):Xf;var j=new Tp(function(_e){m2(s,j,Y,!(!_e||!_e.keyCode))},ad,g?null:function(){Y.clear(),j.m(),Ht(s,c)},Mn(q(s)),Pn(q(s)),g,MI,_,u);j.render(c),Ze(s,j),f&&j.a(f),p.callback=function(_e){j.u()&&yr(j.u()),tp=_e,ad||m2(s,j,Y)},p["expired-callback"]=function(){tp=null};var Y=new be.auth.RecaptchaVerifier(ad?j.ba():j.i(),p,uo(s).app);Ge(s,j.I(Ie(Y.render,Y),[],function(_e){SN=_e},function(_e){_e.name&&_e.name=="cancel"||(_e=Vt(_e),j.m(),Ht(s,c,void 0,_e))}))},Pt.prefilledEmailSignIn=function(s,c,u){var f=new c_;f.render(c),Ze(s,f),Ge(s,f.I(Ie(ct(s).fetchSignInMethodsForEmail,ct(s)),[u],function(p){f.m();var g=!(!n_(s)||!y2(s));r2(s,c,p,u,void 0,g)},function(p){p=Vt(p),f.m(),ve("signIn",s,c,u,p)}))};function Dp(s,c,u,f,p){z.call(this,FF,{Sb:c},p,"providerSignIn",{F:u,D:f}),this.i=s}l(Dp,z),Dp.prototype.v=function(){this.l(this.i),z.prototype.v.call(this)},Dp.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(Dp.prototype,{l:function(s){function c(_){s(_)}for(var u=this.g?OE("firebaseui-id-idp-button",this.g||this.s.a):[],f=0;f<u.length;f++){var p=u[f],g=l_(p,"providerId");pn(this,p,$e(c,g))}}}),Pt.providerSignIn=function(s,c,u,f){var p=new Dp(function(g){g==be.auth.EmailAuthProvider.PROVIDER_ID?(p.m(),BI(s,c,f)):g==be.auth.PhoneAuthProvider.PROVIDER_ID?(p.m(),ve("phoneSignInStart",s,c)):g=="anonymous"?x8(s,p):dp(s,p,g,f),_t(s),s.l.cancel()},mN(q(s)),Mn(q(s)),Pn(q(s)));p.render(c),Ze(s,p),u&&p.a(u),Z8(s)},Pt.sendEmailLinkForSignIn=function(s,c,u,f){var p=new i_;p.render(c),Ze(s,p),UI(s,p,u,f,function(g){p.m(),g&&g.code=="auth/admin-restricted-operation"&&ll(q(s))?ve("handleUnauthorizedUser",s,c,u,be.auth.EmailAuthProvider.PROVIDER_ID):(g=Vt(g),ve("signIn",s,c,u,g))})};function xp(s,c,u,f,p,g,_){z.call(this,iF,{email:u,Va:!!c,ia:!!g},_,"signIn",{F:f,D:p}),this.i=s,this.u=c}l(xp,z),xp.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),a_(this.l(),(this.l().value||"").length),z.prototype.v.call(this)},xp.prototype.o=function(){this.u=this.i=null,z.prototype.o.call(this)},Te(xp.prototype,{l:Bs,M:ja,w:_d,H:wd,j:bd,U:Yn,P:Bn,B:si}),Pt.signIn=function(s,c,u,f){var p=n_(s),g=new xp(function(){var _=g,A=_.j()||"";A&&i2(s,_,A)},p?null:function(){g.m(),Ht(s,c,u)},u,Mn(q(s)),Pn(q(s)),p);g.render(c),Ze(s,g),f&&g.a(f)};function Ap(s,c,u,f,p,g,_){z.call(this,wF,{kc:s,yb:u,Eb:!!f},_,"unauthorizedUser",{F:p,D:g}),this.l=c,this.i=f}l(Ap,z),Ap.prototype.v=function(){var s=this,c=yt(this,"firebaseui-id-unauthorized-user-help-link");this.i&&c&&pn(this,c,function(){s.i()}),pn(this,this.u(),function(){s.l()}),this.u().focus(),z.prototype.v.call(this)},Ap.prototype.o=function(){this.i=this.l=null,z.prototype.o.call(this)},Te(Ap.prototype,{u:Bn}),Pt.handleUnauthorizedUser=function(s,c,u,f){function p(){Ht(s,c)}f===be.auth.EmailAuthProvider.PROVIDER_ID?p=function(){BI(s,c)}:f===be.auth.PhoneAuthProvider.PROVIDER_ID&&(p=function(){ve("phoneSignInStart",s,c)});var g=null,_=null;f===be.auth.EmailAuthProvider.PROVIDER_ID&&vN(q(s))?(g=l8(q(s)),_=u8(q(s))):ll(q(s))&&(g=a8(q(s)),_=c8(q(s)));var A=new Ap(u,function(){A.m(),p()},g,_,Mn(q(s)),Pn(q(s)));A.render(c),Ze(s,A)};function Mp(s,c,u,f,p,g){z.call(this,bF,{email:s},g,"unsupportedProvider",{F:f,D:p}),this.l=c,this.i=u}l(Mp,z),Mp.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),z.prototype.v.call(this)},Mp.prototype.o=function(){this.i=this.l=null,z.prototype.o.call(this)},Te(Mp.prototype,{u:Yn,B:Bn,w:si}),Pt.unsupportedProvider=function(s,c,u){var f=new Mp(u,function(){f.m(),ve("passwordRecovery",s,c,u)},function(){f.m(),Ht(s,c,u)},Mn(q(s)),Pn(q(s)));f.render(c),Ze(s,f)};function Ko(s,c){this.$=!1;var u=QI(c);if(Pp[u])throw Error('An AuthUI instance already exists for the key "'+u+'"');Pp[u]=this,this.a=s,this.u=null,this.Y=!1,g2(this.a),this.h=be.initializeApp({apiKey:s.app.options.apiKey,authDomain:s.app.options.authDomain},s.app.name+"-firebaseui-temp").auth(),(s=s.emulatorConfig)&&(u=s.port,this.h.useEmulator(s.protocol+"://"+s.host+(u===null?"":":"+u),s.options)),g2(this.h),this.h.setPersistence&&this.h.setPersistence(be.auth.Auth.Persistence.SESSION),this.oa=c,this.ca=new o8,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=tI.Xa(),this.j=this.C=null,this.da=this.A=!1}function g2(s){s&&s.INTERNAL&&s.INTERNAL.logFramework&&s.INTERNAL.logFramework("FirebaseUI-web")}var Pp={};function QI(s){return s||"[DEFAULT]"}function v2(s){return _t(s),s.i||(s.i=Hs(s,function(c){return c&&!Go(Me(s))?yn(uo(s).getRedirectResult().then(function(u){return u},function(u){if(u&&u.code=="auth/email-already-in-use"&&u.email&&u.credential)throw u;return Ba(s,u)})):yn(ct(s).getRedirectResult().then(function(u){return $y(q(s))&&!u.user&&s.j&&!s.j.isAnonymous?uo(s).getRedirectResult():u}))})),s.i}function Ze(s,c){_t(s),s.g=c}var Sd=null;function ct(s){return _t(s),s.h}function uo(s){return _t(s),s.a}function Me(s){return _t(s),s.oa}function y2(s){return _t(s),s.O?s.O.emailHint:void 0}t=Ko.prototype,t.nb=function(){return _t(this),!!vI(Me(this))||_2(Us())};function _2(s){return s=new Jc(s),(s.a.a.get(Vn.ub)||null)==="signIn"&&!!s.a.a.get(Vn.$a)}t.start=function(s,c){w2(this,s,c)};function w2(s,c,u,f){_t(s),typeof s.a.languageCode<"u"&&(s.u=s.a.languageCode);var p="en".replace(/_/g,"-");s.a.languageCode=p,s.h.languageCode=p,s.Y=!0,typeof s.a.tenantId<"u"&&(s.h.tenantId=s.a.tenantId),s.ib(u),s.O=f||null;var g=v.document;s.C?s.C.then(function(){g.readyState=="complete"?d_(s,c):$f(window,"load",function(){d_(s,c)})}):g.readyState=="complete"?d_(s,c):$f(window,"load",function(){d_(s,c)})}function d_(s,c){var u=wy(c,"Could not find the FirebaseUI widget element on the page.");if(u.setAttribute("lang","en".replace(/_/g,"-")),Sd){var f=Sd;_t(f),Go(Me(f))&&La("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),Sd.reset()}if(Sd=s,s.T=u,X8(s,u),Uy(new fI)&&Uy(new pI)){c=wy(c,"Could not find the FirebaseUI widget element on the page."),u=Us(),f=wI(q(s).a,"queryParameterForSignInSuccessUrl"),u=(u=so(u,f))?Ma(sy(u)).toString():null;e:{f=Us();var p=wN(q(s));f=so(f,p)||"";for(g in AI)if(AI[g].toLowerCase()==f.toLowerCase()){var g=AI[g];break e}g="callback"}switch(g){case"callback":u&&(g=Me(s),id(Qf,u,g)),s.nb()?ve("callback",s,c):Ht(s,c,y2(s));break;case"resetPassword":ve("passwordReset",s,c,hp(),$I());break;case"recoverEmail":ve("emailChangeRevocation",s,c,hp());break;case"revertSecondFactorAddition":ve("revertSecondFactorAddition",s,c,hp());break;case"verifyEmail":ve("emailVerification",s,c,hp(),$I());break;case"verifyAndChangeEmail":ve("verifyAndChangeEmail",s,c,hp(),$I());break;case"signIn":ve("emailLinkSignInCallback",s,c,Us()),I2();break;case"select":u&&(g=Me(s),id(Qf,u,g)),Ht(s,c);break;default:throw Error("Unhandled widget operation.")}c=q(s),(c=ep(c).uiShown||null)&&c()}else c=wy(c,"Could not find the FirebaseUI widget element on the page."),g=new e2(Tt("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),g.render(c),Ze(s,g);c=s.g&&s.g.Ga=="blank"&&II(q(s)),vI(Me(s))&&!c&&(c=vI(Me(s)),E2(s,c.a),rr(al,Me(s)))}function Hs(s,c){if(s.A)return c(b2(s));if(Ge(s,function(){s.A=!1}),$y(q(s))){var u=new Un(function(f){Ge(s,s.a.onAuthStateChanged(function(p){s.j=p,s.A||(s.A=!0,f(c(b2(s))))}))});return Ge(s,u),u}return s.A=!0,c(null)}function b2(s){return _t(s),$y(q(s))&&s.j&&s.j.isAnonymous?s.j:null}function Ge(s,c){if(_t(s),c){s.s.push(c);var u=function(){kr(s.s,function(f){return f==c})};typeof c!="function"&&c.then(u,u)}}t.Db=function(){_t(this),this.Z=!0};function J8(s){_t(s);var c;return(c=s.Z)||(s=q(s),s=_N(s,be.auth.GoogleAuthProvider.PROVIDER_ID),c=!(!s||s.prompt!=="select_account")),c}function C2(s){typeof s.a.languageCode<"u"&&s.Y&&(s.Y=!1,s.a.languageCode=s.u)}function E2(s,c){s.a.tenantId=c,s.h.tenantId=c}t.reset=function(){_t(this);var s=this;this.T&&this.T.removeAttribute("lang"),this.J&&Pz(this.J),C2(this),this.O=null,I2(),rr(al,Me(this)),_t(this),this.l.cancel(),this.i=yn({user:null,credential:null}),Sd==this&&(Sd=null),this.T=null;for(var c=0;c<this.s.length;c++)typeof this.s[c]=="function"?this.s[c]():this.s[c].cancel&&this.s[c].cancel();this.s=[],zo(Me(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=Ua(this).then(function(){s.C=null},function(){s.C=null}))};function X8(s,c){s.L=null,s.J=new yy(c),s.J.register(),co(s.J,"pageEnter",function(u){if(u=u&&u.pageId,s.L!=u){var f=q(s);(f=ep(f).uiChanged||null)&&f(s.L,u),s.L=u}})}t.ib=function(s){_t(this);var c=this.ca,u;for(u in s)try{_I(c.a,u,s[u])}catch{gr('Invalid config: "'+u+'"',void 0)}ZG&&_I(c.a,"popupMode",!1),EI(c),!this.da&&SI(q(this))&&(La("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function q(s){return _t(s),s.ca}t.Wb=function(){_t(this);var s=q(this),c=wI(s.a,"widgetUrl");s=wN(s);for(var u=c.search($i),f=0,p,g=[];0<=(p=ii(c,f,s,u));)g.push(c.substring(f,p)),f=Math.min(c.indexOf("&",p)+1||u,u);g.push(c.substr(f)),c=g.join("").replace(ry,"$1"),u="="+encodeURIComponent("select"),(s+=u)?(u=c.indexOf("#"),0>u&&(u=c.length),f=c.indexOf("?"),0>f||f>u?(f=u,p=""):p=c.substring(f+1,u),c=[c.substr(0,f),p,c.substr(u)],u=c[1],c[1]=s?u?u+"&"+s:s:u,u=c[0]+(c[1]?"?"+c[1]:"")+c[2]):u=c,q(this).a.get("popupMode")?(s=(window.screen.availHeight-600)/2,c=(window.screen.availWidth-500)/2,u=u||"about:blank",s={width:500,height:600,top:0<s?s:0,left:0<c?c:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},s.target=s.target||u.target||"google_popup",s.width=s.width||690,s.height=s.height||500,(s=bR(u,s))&&s.focus()):qu(window.location,u)};function _t(s){if(s.$)throw Error("AuthUI instance is deleted!")}t.Wa=function(){var s=this;return _t(this),this.h.app.delete().then(function(){var c=QI(Me(s));delete Pp[c],s.reset(),s.$=!0})};function Z8(s){_t(s);try{DR(s.l,gN(q(s)),J8(s)).then(function(c){return s.g?A8(s,s.g,c):!1})}catch{}}t.Ib=function(s,c){_t(this);var u=this,f=Vz();if(!sd(q(this)))return Wu(Error("Email link sign-in should be enabled to trigger email sending."));var p=p8(q(this)),g=new Jc(p.url);return YG(g,f),c&&c.a&&(r8(f,c,Me(this)),Ck(g,c.a.providerId)),QG(g,f8(q(this))),Hs(this,function(_){return _&&((_=_.uid)?g.a.a.set(Vn.Pa,_):Qc(g.a.a,Vn.Pa)),p.url=g.toString(),ct(u).sendSignInLinkToEmail(s,p)}).then(function(){var _=Me(u),A={};A.email=s,id(td,KR(f,JSON.stringify(A)),_)},function(_){throw rr(Jf,Me(u)),rr(td,Me(u)),_})};function eq(s,c){var u=bk(new Jc(c));return u?(c=new Un(function(f,p){var g=uo(s).onAuthStateChanged(function(_){g(),_&&_.isAnonymous&&_.uid===u?f(_):_&&_.isAnonymous&&_.uid!==u?p(Error("anonymous-user-mismatch")):p(Error("anonymous-user-not-found"))});Ge(s,g)}),Ge(s,c),c):yn(null)}function tq(s,c,u,f,p){_t(s);var g=p||null,_=be.auth.EmailAuthProvider.credentialWithLink(u,f);return u=g?ct(s).signInWithEmailLink(u,f).then(function(A){return A.user.linkWithCredential(g)}).then(function(){return Ua(s)}).then(function(){return Ba(s,{code:"auth/email-already-in-use"},g)}):ct(s).fetchSignInMethodsForEmail(u).then(function(A){return A.length?Ba(s,{code:"auth/email-already-in-use"},_):c.linkWithCredential(_)}),Ge(s,u),u}function nq(s,c,u,f){_t(s);var p=f||null,g;return c=ct(s).signInWithEmailLink(c,u).then(function(_){if(g={user:_.user,credential:null,operationType:_.operationType,additionalUserInfo:_.additionalUserInfo},p)return _.user.linkWithCredential(p).then(function(A){g={user:A.user,credential:p,operationType:g.operationType,additionalUserInfo:A.additionalUserInfo}})}).then(function(){Ua(s)}).then(function(){return uo(s).updateCurrentUser(g.user)}).then(function(){return g.user=uo(s).currentUser,g}),Ge(s,c),c}function I2(){var s=Us();if(_2(s)){s=new Jc(s);for(var c in Vn)Vn.hasOwnProperty(c)&&Qc(s.a.a,Vn[c]);c={state:"signIn",mode:"emailLink",operation:"clear"};var u=v.document.title;v.history&&v.history.replaceState&&v.history.replaceState(c,u,s.toString())}}t.bc=function(s,c){_t(this);var u=this;return ct(this).signInWithEmailAndPassword(s,c).then(function(f){return Hs(u,function(p){return p?Ua(u).then(function(){return Ba(u,{code:"auth/email-already-in-use"},be.auth.EmailAuthProvider.credential(s,c))}):f})})},t.Yb=function(s,c){_t(this);var u=this;return Hs(this,function(f){if(f){var p=be.auth.EmailAuthProvider.credential(s,c);return f.linkWithCredential(p)}return ct(u).createUserWithEmailAndPassword(s,c)})},t.ac=function(s){_t(this);var c=this;return Hs(this,function(u){return u?u.linkWithCredential(s).then(function(f){return f},function(f){if(f&&f.code=="auth/email-already-in-use"&&f.email&&f.credential)throw f;return Ba(c,f,s)}):ct(c).signInWithCredential(s)})};function iq(s,c){return _t(s),Hs(s,function(u){return u&&!Go(Me(s))?u.linkWithPopup(c).then(function(f){return f},function(f){if(f&&f.code=="auth/email-already-in-use"&&f.email&&f.credential)throw f;return Ba(s,f)}):ct(s).signInWithPopup(c)})}t.dc=function(s){_t(this);var c=this,u=this.i;return this.i=null,Hs(this,function(f){return f&&!Go(Me(c))?f.linkWithRedirect(s):ct(c).signInWithRedirect(s)}).then(function(){},function(f){throw c.i=u,f})},t.cc=function(s,c){_t(this);var u=this;return Hs(this,function(f){return f?f.linkWithPhoneNumber(s,c).then(function(p){return new iI(p,function(g){if(g.code=="auth/credential-already-in-use")return Ba(u,g);throw g})}):uo(u).signInWithPhoneNumber(s,c).then(function(p){return new iI(p)})})},t.$b=function(){return _t(this),uo(this).signInAnonymously()};function rq(s,c){return _t(s),Hs(s,function(u){if(s.j&&!s.j.isAnonymous&&$y(q(s))&&!ct(s).currentUser)return Ua(s).then(function(){return c.credential.providerId=="password"&&(c.credential=null),c});if(u)return Ua(s).then(function(){return u.linkWithCredential(c.credential)}).then(function(f){return c.user=f.user,c.credential=f.credential,c.operationType=f.operationType,c.additionalUserInfo=f.additionalUserInfo,c},function(f){if(f&&f.code=="auth/email-already-in-use"&&f.email&&f.credential)throw f;return Ba(s,f,c.credential)});if(!c.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Ua(s).then(function(){return uo(s).updateCurrentUser(c.user)}).then(function(){return c.user=uo(s).currentUser,c.operationType="signIn",c.credential&&c.credential.providerId&&c.credential.providerId=="password"&&(c.credential=null),c})})}t.Xb=function(s,c){return _t(this),ct(this).signInWithEmailAndPassword(s,c)};function Ua(s){return _t(s),ct(s).signOut()}function Ba(s,c,u){if(_t(s),c&&c.code&&(c.code=="auth/email-already-in-use"||c.code=="auth/credential-already-in-use")){var f=IN(q(s));return yn().then(function(){return f(new Vf("anonymous-upgrade-merge-conflict",null,u||c.credential))}).then(function(){throw s.g&&(s.g.m(),s.g=null),c})}return Wu(c)}function Op(s,c,u,f){z.call(this,BF,void 0,f,"providerMatchByEmail",{F:c,D:u}),this.i=s}l(Op,z),Op.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),a_(this.l(),(this.l().value||"").length),z.prototype.v.call(this)},Op.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(Op.prototype,{l:Bs,H:ja,u:_d,B:wd,j:bd,M:Yn,w:si});function h_(s,c,u,f,p){z.call(this,UF,{ec:c},p,"selectTenant",{F:u,D:f}),this.i=s}l(h_,z),h_.prototype.v=function(){oq(this,this.i),z.prototype.v.call(this)},h_.prototype.o=function(){this.i=null,z.prototype.o.call(this)};function oq(s,c){function u(A){c(A)}for(var f=s.g?OE("firebaseui-id-tenant-selection-button",s.g||s.s.a):[],p=0;p<f.length;p++){var g=f[p],_=l_(g,"tenantId");pn(s,g,$e(u,_))}}function JI(s){z.call(this,lF,void 0,s,"spinner")}l(JI,z);function sq(s){this.a=new yI,An(this.a,"authDomain"),An(this.a,"displayMode",p_),An(this.a,"tenants"),An(this.a,"callbacks"),An(this.a,"tosUrl"),An(this.a,"privacyPolicyUrl");for(var c in s)if(s.hasOwnProperty(c))try{_I(this.a,c,s[c])}catch{gr('Invalid config: "'+c+'"',void 0)}}function aq(s){s=s.a.get("displayMode");for(var c in ZI)if(ZI[c]===s)return ZI[c];return p_}function f_(s){return s.a.get("callbacks")||{}}function S2(s){var c=s.a.get("tosUrl")||null;if(s=s.a.get("privacyPolicyUrl")||null,c&&!s&&La("Privacy Policy URL is missing, the link will not be displayed."),c&&s){if(typeof c=="function")return c;if(typeof c=="string")return function(){Yu(c)}}return null}function T2(s){var c=s.a.get("tosUrl")||null,u=s.a.get("privacyPolicyUrl")||null;if(u&&!c&&La("Terms of Service URL is missing, the link will not be displayed."),c&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){Yu(u)}}return null}function XI(s,c){if(s=s.a.get("tenants"),!s||!s.hasOwnProperty(c)&&!s.hasOwnProperty(m_))throw Error("Invalid tenant configuration!")}function D2(s,c,u){if(s=s.a.get("tenants"),!s)throw Error("Invalid tenant configuration!");var f=[];if(s=s[c]||s[m_],!s)return gr("Invalid tenant configuration: "+(c+" is not configured!"),void 0),f;if(c=s.signInOptions,!c)throw Error("Invalid tenant configuration: signInOptions are invalid!");return c.forEach(function(p){if(typeof p=="string")f.push(p);else if(typeof p.provider=="string"){var g=p.hd;g&&u?(g instanceof RegExp?g:new RegExp("@"+g.replace(".","\\.")+"$")).test(u)&&f.push(p.provider):f.push(p.provider)}else p="Invalid tenant configuration: signInOption "+(JSON.stringify(p)+" is invalid!"),gr(p,void 0)}),f}function cq(s,c,u){return s=lq(s,c),(c=s.signInOptions)&&u&&(c=c.filter(function(f){return typeof f=="string"?u.includes(f):u.includes(f.provider)}),s.signInOptions=c),s}function lq(s,c){var u=uq,f=f===void 0?{}:f;return XI(s,c),s=s.a.get("tenants"),jz(s[c]||s[m_],u,f)}var uq=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],p_="optionFirst",ZI={pc:p_,oc:"identifierFirst"},m_="*";function ho(s,c){var u=this;this.s=wy(s),this.a={},Object.keys(c).forEach(function(f){u.a[f]=new sq(c[f])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(f){this.ob=f||null},enumerable:!1})}t=ho.prototype,t.Ub=function(s,c){var u=this;$a(this);var f=s.apiKey;return new Un(function(p,g){if(u.a.hasOwnProperty(f)){var _=f_(u.a[f]).selectTenantUiHidden||null;if(aq(u.a[f])===p_){var A=[];c.forEach(function(_e){_e=_e||"_";var Ft=u.a[f].a.get("tenants");if(!Ft)throw Error("Invalid tenant configuration!");(Ft=Ft[_e]||Ft[m_])?_e={tenantId:_e!=="_"?_e:null,V:Ft.fullLabel||null,displayName:Ft.displayName,za:Ft.iconUrl,ta:Ft.buttonColor}:(gr("Invalid tenant configuration: "+(_e+" is not configured!"),void 0),_e=null),_e&&A.push(_e)});var j=function(_e){_e={tenantId:_e,providerIds:D2(u.a[f],_e||"_")},p(_e)};if(A.length===1){j(A[0].tenantId);return}u.g=new h_(function(_e){$a(u),_&&_(),j(_e)},A,S2(u.a[f]),T2(u.a[f]))}else u.g=new Op(function(){var _e=u.g.j();if(_e){for(var Ft=0;Ft<c.length;Ft++){var fo=D2(u.a[f],c[Ft]||"_",_e);if(fo.length!==0){_e={tenantId:c[Ft],providerIds:fo,email:_e},$a(u),_&&_(),p(_e);return}}u.g.a(Kk({code:"no-matching-tenant-for-email"}).toString())}},S2(u.a[f]),T2(u.a[f]));u.g.render(u.s),(g=f_(u.a[f]).selectTenantUiShown||null)&&g()}else{var Y=Error("Invalid project configuration: API key is invalid!");Y.code="invalid-configuration",u.pb(Y),g(Y)}})},t.Pb=function(s,c){if(!this.a.hasOwnProperty(s))throw Error("Invalid project configuration: API key is invalid!");var u=c||void 0;XI(this.a[s],c||"_");try{this.i=be.app(u).auth()}catch{var f=this.a[s].a.get("authDomain");if(!f)throw Error("Invalid project configuration: authDomain is required!");s=be.initializeApp({apiKey:s,authDomain:f},u),s.auth().tenantId=c,this.i=s.auth()}return this.i},t.Zb=function(s,c){var u=this;return new Un(function(f,p){function g(Ft,fo){u.j=new Ko(s),w2(u.j,u.s,Ft,fo)}var _=s.app.options.apiKey;u.a.hasOwnProperty(_)||p(Error("Invalid project configuration: API key is invalid!"));var A=cq(u.a[_],s.tenantId||"_",c&&c.providerIds);$a(u),p={signInSuccessWithAuthResult:function(Ft){return f(Ft),!1}};var j=f_(u.a[_]).signInUiShown||null,Y=!1;p.uiChanged=function(Ft,fo){Ft===null&&fo==="callback"?((Ft=kE("firebaseui-id-page-callback",u.s))&&yr(Ft),u.h=new JI,u.h.render(u.s)):Y||Ft===null&&fo==="spinner"||fo==="blank"||(u.h&&(u.h.m(),u.h=null),Y=!0,j&&j(s.tenantId))},A.callbacks=p,A.credentialHelper="none";var _e;c&&c.email&&(_e={emailHint:c.email}),u.j?u.j.Wa().then(function(){g(A,_e)}):g(A,_e)})},t.reset=function(){var s=this;return yn().then(function(){s.j&&s.j.Wa()}).then(function(){s.j=null,$a(s)})},t.Vb=function(){var s=this;this.h||this.A||(this.A=window.setTimeout(function(){$a(s),s.h=new JI,s.g=s.h,s.h.render(s.s),s.A=null},500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},t.Bb=function(){return $a(this),this.g=new YF,this.g.render(this.s),yn()};function $a(s){s.j&&s.j.reset(),s.mb(),s.g&&s.g.m()}t.pb=function(s){var c=this,u=Kk({code:s.code}).toString()||s.message;$a(this);var f;s.retry&&typeof s.retry=="function"&&(f=function(){c.reset(),s.retry()}),this.g=new ZF(u,f),this.g.render(this.s)},t.Rb=function(s){var c=this;return yn().then(function(){var u=c.i&&c.i.app.options.apiKey;if(!c.a.hasOwnProperty(u))throw Error("Invalid project configuration: API key is invalid!");if(XI(c.a[u],s.tenantId||"_"),!c.i.currentUser||c.i.currentUser.uid!==s.uid)throw Error("The user being processed does not match the signed in user!");return(u=f_(c.a[u]).beforeSignInSuccess||null)?u(s):s}).then(function(u){if(u.uid!==s.uid)throw Error("User with mismatching UID returned.");return u})},Ye("firebaseui.auth.FirebaseUiHandler",ho),Ye("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",ho.prototype.Ub),Ye("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",ho.prototype.Pb),Ye("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",ho.prototype.Zb),Ye("firebaseui.auth.FirebaseUiHandler.prototype.reset",ho.prototype.reset),Ye("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",ho.prototype.Vb),Ye("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",ho.prototype.mb),Ye("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",ho.prototype.Bb),Ye("firebaseui.auth.FirebaseUiHandler.prototype.handleError",ho.prototype.pb),Ye("firebaseui.auth.FirebaseUiHandler.prototype.processUser",ho.prototype.Rb),Ye("firebaseui.auth.AuthUI",Ko),Ye("firebaseui.auth.AuthUI.getInstance",function(s){return s=QI(s),Pp[s]?Pp[s]:null}),Ye("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",Ko.prototype.Db),Ye("firebaseui.auth.AuthUI.prototype.start",Ko.prototype.start),Ye("firebaseui.auth.AuthUI.prototype.setConfig",Ko.prototype.ib),Ye("firebaseui.auth.AuthUI.prototype.signIn",Ko.prototype.Wb),Ye("firebaseui.auth.AuthUI.prototype.reset",Ko.prototype.reset),Ye("firebaseui.auth.AuthUI.prototype.delete",Ko.prototype.Wa),Ye("firebaseui.auth.AuthUI.prototype.isPendingRedirect",Ko.prototype.nb),Ye("firebaseui.auth.AuthUIError",Vf),Ye("firebaseui.auth.AuthUIError.prototype.toJSON",Vf.prototype.toJSON),Ye("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",TI),Ye("firebaseui.auth.CredentialHelper.NONE",Gy),Ye("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Un.prototype.catch=Un.prototype.Ca,Un.prototype.finally=Un.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=gG.default);var pk=firebaseui.auth;var Mf=(()=>{let e=class e{constructor(i){this.auth=i,this.localStorageKeyUser="firebase-user",this.userS=ac(JSON.parse(localStorage.getItem(this.localStorageKeyUser))),this.auth.setPersistence(fs),this.auth.onAuthStateChanged(r=>this.userS.set(r))}logout(){localStorage.removeItem(this.localStorageKeyUser),this.auth.signOut()}createButton(i,r,o,a){(pk.AuthUI.getInstance()||new pk.AuthUI(this.auth)).start(i,{callbacks:{uiShown:a,signInSuccessWithAuthResult:l=>(localStorage.setItem(this.localStorageKeyUser,JSON.stringify(l.user)),o&&o(l),!!r)},signInFlow:"popup",signInSuccessUrl:r,signInOptions:[Jl.PROVIDER_ID]})}awaitUser(){return C(this,null,function*(){return yield this.auth.authStateReady(),this.auth.currentUser})}};e.\u0275fac=function(r){return new(r||e)(oe(tu))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function She(t,e){if(t&1){let n=se();I(0,"div",6),k("onCreate",function(r){N(n);let o=M();return F(o.createAuthButton(r))}),E()}}function The(t,e){if(t&1&&(I(0,"div",13)(1,"span",14),L(2),E(),I(3,"span",15),L(4),E()()),t&2){let n=e.$implicit,i=e.index;D(2),ue(i+1+". "+n.text),D(2),ue(n.description)}}function Dhe(t,e){if(t&1){let n=se();ht(0),ne(1,"div",7),I(2,"span"),L(3,"Pravidl\xE1"),E(),G(4,The,5,2,"div",8),ne(5,"div",7),I(6,"div",9),k("click",function(){N(n);let r=M();return F(r.consent=!r.consent)}),ne(7,"i",10),I(8,"span",11),L(9,"S\xFAhlas\xEDm s pravidlami a budem ich dodr\u017Eiava\u0165"),E()(),I(10,"div",9),k("click",function(){N(n);let r=M();return F(r.agreeToPay=!r.agreeToPay)}),ne(11,"i",10),I(12,"span",11),L(13,"Rozumiem, \u017Ee prihl\xE1\u0161ka je platn\xE1 a\u017E po zaplaten\xED"),E()(),ne(14,"div",7),I(15,"div",12),k("click",function(){N(n);let r=M();return F(r.apply())}),L(16,"Potvrdi\u0165"),E(),ft()}if(t&2){let n=M();D(4),P("ngForOf",n.rules),D(3),P("ngClass",n.consent?"fa-regular fa-square-check":"fa-regular fa-square"),D(4),P("ngClass",n.agreeToPay?"fa-regular fa-square-check":"fa-regular fa-square"),D(4),ze("disabled",!n.consent)}}var vG=(()=>{let e=class e{constructor(i,r,o,a,l){this.router=i,this.firestoreService=r,this.eventManagerService=o,this.route=a,this.authService=l,this.rules=XH,this.consent=!1,this.agreeToPay=!1}ngOnInit(){this.event=this.eventManagerService.event}createAuthButton(i){this.authService.createButton(i.nativeElement)}apply(){this.consent&&console.log("applied")}};e.\u0275fac=function(r){return new(r||e)(R(Wn),R(xf),R(ks),R(nr),R(Mf))},e.\u0275cmp=de({type:e,selectors:[["app-event-application"]],standalone:!0,features:[me],decls:8,vars:3,consts:[[1,"auth-container"],[1,"auth-header"],[1,"auth-text"],[1,"user-name"],["class","auth-button auth-ui-button",3,"onCreate",4,"ngIf"],[4,"ngIf"],[1,"auth-button","auth-ui-button",3,"onCreate"],[1,"h-separator"],["class","rules-container",4,"ngFor","ngForOf"],[1,"consent-checkbox-container",3,"click"],[1,"consent-checkbox-icon",3,"ngClass"],[1,"consent-checkbox-label"],[1,"button","button-apply",3,"click"],[1,"rules-container"],[1,"rule-text"],[1,"rule-description"]],template:function(r,o){if(r&1&&(I(0,"div",0)(1,"div",1)(2,"span",2),L(3,"Prihl\xE1\u0161ka"),E(),I(4,"span",3),L(5),E()(),G(6,She,1,0,"div",4)(7,Dhe,17,5,"ng-container",5),E()),r&2){let a;D(5),ue((a=o.authService.userS())==null?null:a.displayName),D(),P("ngIf",!o.authService.userS()),D(),P("ngIf",o.authService.userS())}},dependencies:[ye,ki,tt,st,Os],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.6666666666rem 0}@media screen and (min-width: 1000px){[_nghost-%COMP%]{max-width:50%}}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.6666666666rem;gap:.6666666666rem}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-self:center}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   .auth-text[_ngcontent-%COMP%]{font-size:24px}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]{width:100%;height:auto;gap:.5rem;padding:.3333333333rem .6666666666rem}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .rules-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .rules-container[_ngcontent-%COMP%]   .rule-text[_ngcontent-%COMP%]{padding-left:1rem}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .rules-container[_ngcontent-%COMP%]   .rule-description[_ngcontent-%COMP%]{font-size:14px;text-align:justify}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .consent-checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3333333333rem;cursor:pointer;align-self:flex-start}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .button-apply[_ngcontent-%COMP%]{height:auto;padding:.3333333333rem .6666666666rem;gap:.5rem;align-self:center}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .button-apply[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}"]});let t=e;return t})();var yG=(()=>{let e=class e{constructor(i){this.elementRef=i}ngOnInit(){this.updateVisibility(window.innerWidth)}onResize(i){this.updateVisibility(i.target.innerWidth)}updateVisibility(i){i>1e3?this.elementRef.nativeElement.style.display="":this.elementRef.nativeElement.style.display="none"}};e.\u0275fac=function(r){return new(r||e)(R(nn))},e.\u0275dir=xt({type:e,selectors:[["","largescreen",""]],hostBindings:function(r,o){r&1&&k("resize",function(l){return o.onResize(l)},!1,rn)},standalone:!0});let t=e;return t})();var _G=(()=>{let e=class e{constructor(i){this.elementRef=i}ngOnInit(){this.updateVisibility(window.innerWidth)}onResize(i){this.updateVisibility(i.target.innerWidth)}updateVisibility(i){i<=1e3?this.elementRef.nativeElement.style.display="":this.elementRef.nativeElement.style.display="none"}};e.\u0275fac=function(r){return new(r||e)(R(nn))},e.\u0275dir=xt({type:e,selectors:[["","smallscreen",""]],hostBindings:function(r,o){r&1&&k("resize",function(l){return o.onResize(l)},!1,rn)},standalone:!0});let t=e;return t})();var wG={id:"2024-splav",title:"Splav 2024",questions:[{id:"termin",active:!0,title:"Ktor\xE9 v\xEDkendy m\xF4\u017Ee\u0161?",description:"Fakt vyber pros\xEDm \u010Do najviac, aby sme sa mali \u0161ancu zhodn\xFA\u0165. Nie \u017Ee kedy sa ti chce.",type:"checkbox",choices:[{id:"termin1",text:"15. - 16. J\xFAn",description:"Rock for People",selected:!0},{id:"termin2",text:"22. - 23. J\xFAn",selected:!0},{id:"termin3",text:"29. - 30. J\xFAn",selected:!0},{id:"termin4",text:"06. - 07. J\xFAl",selected:!0},{id:"termin5",text:"13. - 14. J\xFAl",description:"Pohoda",selected:!0},{id:"termin6",text:"20. - 21. J\xFAl",description:"Colours of Ostrava",selected:!0},{id:"termin7",text:"27. - 28. J\xFAl",selected:!0},{id:"termin8",text:"03. - 04. Aug",selected:!0},{id:"termin9",text:"10. - 11. Aug",description:"Grape, Sziget",selected:!0},{id:"termin10",text:"17. - 18. Aug",description:"Lovestream",selected:!0}]},{id:"nocivkempoch",active:!0,title:"Ko\u013Eko noc\xED chce\u0161 by\u0165 v kempoch?",description:"Chod\xEDme iba raz za rok a 3 noci s\xFA viac srandy ako 2. Ten posledn\xFD de\u0148 v\u0161ak b\xFDva dos\u0165 n\xE1ro\u010Dn\xFD.",type:"radio",dontcare:"true",choices:[{id:"3noci",text:"3 noci",description:"Streda ve\u010Der pr\xEDdeme na ubytov\u0148u, \u0160tvrtok r\xE1no \u0161tart, Nede\u013Ea ve\u010Der doma."},{id:"2noci",text:"2 noci",description:"\u0160tvrtok ve\u010Der pr\xEDdeme na ubytov\u0148u, Piatok r\xE1no \u0161tart, Nede\u013Ea ve\u010Der doma."}]},{id:"splavovatajposlednyden",active:!0,title:"Chce\u0161 aj v Nede\u013Eu e\u0161te splavova\u0165?",description:"Posledn\xFD de\u0148 b\xFDva dos\u0165 n\xE1ro\u010Dn\xFD.",type:"radio",dontcare:"true",choices:[{id:"ano",text:"\xC1no",description:"Jasn\xE9, pohodi\u010Dka."},{id:"nie",text:"Nie",description:"Posledn\xFD de\u0148 si chcem sadn\xFA\u0165 do auta a \xEDs\u0165 domov."}]}].map(t=>(t.dontcare&&t.choices.push({id:"dontcare",text:"Je mi to jedno",selected:!t.choices.some(e=>e.selected)}),t))};var bG=[wG];function xhe(t,e){if(t&1&&(I(0,"a",17),L(1),E()),t&2){let n=e.$implicit;P("routerLink",n.urlTree),D(),ue(n.text)}}function Ahe(t,e){if(t&1){let n=se();ht(0),I(1,"span",18),k("click",function(){N(n);let r=M(2);return F(r.authService.logout())}),L(2,"Odhl\xE1si\u0165 sa"),E(),ft()}}function Mhe(t,e){if(t&1){let n=se();I(0,"div",10)(1,"div",11)(2,"div",1)(3,"span"),L(4),E()(),I(5,"div",2)(6,"i",12),k("click",function(){N(n);let r=M();return F(r.sidebarVisible=!1)}),E()()(),I(7,"div",13)(8,"div",14),k("click",function(){N(n);let r=M();return F(r.sidebarVisible=!1)}),G(9,xhe,2,2,"a",15),E(),I(10,"div",16),k("click",function(){N(n);let r=M();return F(r.sidebarVisible=!1)}),G(11,Ahe,3,0,"ng-container",8),E()()()}if(t&2){let n=M();P("@fade",void 0),D(4),ue(n.event.title),D(5),P("ngForOf",n.getActiveMenus()),D(2),P("ngIf",n.authService.userS())}}var Phe=()=>["currentRoute"],Ohe=()=>({exact:!0});function khe(t,e){if(t&1&&(I(0,"a",19),L(1),E()),t&2){let n=e.$implicit;P("routerLink",n.urlTree)("routerLinkActive",Pl(4,Phe))("routerLinkActiveOptions",Pl(5,Ohe)),D(),ue(n.text)}}function Rhe(t,e){if(t&1){let n=se();ht(0),I(1,"div",20)(2,"span",21),k("click",function(){N(n);let r=M();return F(r.authService.logout())}),L(3,"Odhl\xE1si\u0165 sa"),E(),I(4,"span",22),L(5),E()(),ft()}if(t&2){let n=M();D(5),ue(n.authService.userS().displayName)}}var CG=(()=>{let e=class e{constructor(i,r,o){this.route=i,this.authService=r,this.eventManagerService=o,this.skip=!0,this.sidebarVisible=window.innerWidth<=1e3,this.menus=[{text:"Prihl\xE1\u0161ka",urlTree:["prihlaska"],active:!1},{text:"Hlasovanie",urlTree:["hlasovanie"],active:!0},{text:"V\xFDsledky",urlTree:["hlasovanie","vysledky"],active:!0}]}ngOnInit(){this.route.params.subscribe(i=>{this.event=JSON.parse(JSON.stringify(bG.find(r=>r.id==i.id))),this.eventManagerService.event=this.event})}getActiveMenus(){return this.menus.filter(i=>i.active)}};e.\u0275fac=function(r){return new(r||e)(R(nr),R(Mf),R(ks))},e.\u0275cmp=de({type:e,selectors:[["app-event-manager"]],hostVars:1,hostBindings:function(r,o){r&2&&Ml("@skip",o.skip)},standalone:!0,features:[me],decls:17,vars:5,consts:[["smallscreen","",1,"header"],[1,"header-left"],[1,"header-right"],[1,"fa-solid","fa-bars",3,"click"],["class","sidebar","smallscreen","",4,"ngIf"],["largescreen","",1,"header"],[1,"v-separator","margins"],["class","header-item",3,"routerLink","routerLinkActive","routerLinkActiveOptions",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"content"],["smallscreen","",1,"sidebar"],[1,"sidebar-header"],[1,"fa-solid","fa-xmark",3,"click"],[1,"sidebar-content"],[1,"sidebar-content-top",3,"click"],["class","sidebar-item",3,"routerLink",4,"ngFor","ngForOf"],[1,"sidebar-content-bottom",3,"click"],[1,"sidebar-item",3,"routerLink"],[1,"sidebar-item",3,"click"],[1,"header-item",3,"routerLink","routerLinkActive","routerLinkActiveOptions"],[1,"header-item","hover-container"],[1,"hover-visible",3,"click"],[1,"hover-hidden"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"div",1)(2,"span"),L(3),E()(),I(4,"div",2)(5,"i",3),k("click",function(){return o.sidebarVisible=!0}),E()()(),G(6,Mhe,12,4,"div",4),I(7,"div",5)(8,"div",1)(9,"span"),L(10),E(),ne(11,"div",6),G(12,khe,2,6,"a",7),E(),I(13,"div",2),G(14,Rhe,6,1,"ng-container",8),E()(),I(15,"div",9),ne(16,"router-outlet"),E()),r&2&&(D(3),ue(o.event.title),D(3),P("ngIf",o.sidebarVisible),D(4),ue(o.event.title),D(2),P("ngForOf",o.getActiveMenus()),D(2),P("ngIf",o.authService.userS()))},dependencies:[ye,tt,st,St,mf,m9,Pv,yG,_G],styles:["[_nghost-%COMP%]{flex:1;min-height:100vh;display:flex;flex-direction:column}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{position:sticky;top:0;height:40px;display:flex;gap:1.6666666665rem;border-bottom:1px solid var(--color-border);box-sizing:border-box;background-color:var(--color-background-primary);z-index:1;justify-content:space-between}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{padding:0 .6666666666rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{padding:0 1.6666666665rem}}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{gap:.6666666666rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{gap:1.6666666665rem}}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]{min-width:40px;justify-content:center;display:flex;align-items:center;cursor:pointer;height:100%;box-sizing:border-box;padding-top:3px;border-bottom:3px solid transparent}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-item.currentRoute[_ngcontent-%COMP%]{padding-bottom:2px;border-bottom-width:1px;border-bottom-color:var(--color-primary)}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]:hover{padding-bottom:0;color:var(--color-text-hover);border-bottom-width:3px;border-bottom-color:var(--color-primary)}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:100vw;height:100vh;background-color:var(--color-background-primary);position:absolute;z-index:1;display:flex;flex-direction:column}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{position:sticky;top:0;height:40px;display:flex;gap:1.6666666665rem;border-bottom:1px solid var(--color-border);box-sizing:border-box;justify-content:space-between}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:0 .6666666666rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:0 1.6666666665rem}}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;gap:1.6666666665rem;align-items:center}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]{min-width:40px;justify-content:center;display:flex;align-items:center;cursor:pointer;height:100%;box-sizing:border-box;padding-top:3px;border-bottom:3px solid transparent;transition-property:color,border-color;transition-duration:.25s}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]:hover{color:var(--color-text-hover);border-bottom-color:var(--color-primary)}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{margin:.6666666666rem;display:flex;flex-direction:column;gap:.6666666666rem;flex:1;justify-content:space-between}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .sidebar-content-top[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .sidebar-content-bottom[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6666666666rem}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .sidebar-item[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;align-items:center;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.6666666666rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;flex:1}"],data:{animation:[Lc,oE]}});let t=e;return t})();var EG=(()=>{let e=class e{constructor(i){this.eventManagerService=i}ngOnInit(){this.event=this.eventManagerService.event}};e.\u0275fac=function(r){return new(r||e)(R(ks))},e.\u0275cmp=de({type:e,selectors:[["app-rules"]],standalone:!0,features:[me],decls:8,vars:0,template:function(r,o){r&1&&(I(0,"span"),L(1,"V z\xE1ujme ment\xE1lneho zdravia, dobr\xFDch vz\u0165ahov a pohody som vymyslel p\xE1r pravidiel."),E(),I(2,"span"),L(3,"Nie je ich ve\u013Ea, o to viac v\u0161ak budem trva\u0165 na tom, aby sme ich v\u0161etci dodr\u017Eiavali."),E(),I(4,"span"),L(5,"1. Ka\u017Ed\xE9 r\xE1no vyr\xE1\u017Eame na\u010Das"),E(),I(6,"span"),L(7,"2. Po\u010Das splavovania sa dr\u017E\xEDme pohromade"),E())},dependencies:[ye],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.6666666666rem 0}"]});let t=e;return t})();function Nhe(t,e){if(t&1&&(I(0,"td",9)(1,"span"),L(2),E()()),t&2){let n=e.$implicit,i=M().$implicit;Ur("width",100/i.options.length,"%"),D(2),ue(n.text)}}function Fhe(t,e){t&1&&ne(0,"i",12)}function Lhe(t,e){if(t&1&&(I(0,"td"),G(1,Fhe,1,0,"i",11),E()),t&2){let n=e.$implicit,i=M().$implicit;D(),P("ngIf",n.people.includes(i.userDisplayName))}}function Vhe(t,e){if(t&1&&(I(0,"tr")(1,"td",10),L(2),E(),G(3,Lhe,2,1,"td",8),E()),t&2){let n=e.$implicit,i=M().$implicit,r=M(2);D(2),ue(r.getShortName(n.userDisplayName)),D(),P("ngForOf",i.options)}}function jhe(t,e){if(t&1){let n=se();I(0,"div",3),k("click",function(){let o=N(n).$implicit,a=M(2);return F(a.open(o))}),I(1,"span",4),L(2),E(),I(3,"div",5)(4,"table")(5,"tr"),ne(6,"td",6),G(7,Nhe,3,3,"td",7),E(),G(8,Vhe,4,2,"tr",8),E()()()}if(t&2){let n=e.$implicit,i=M(2);ze("closed",!n.open),D(2),ue(n.title),D(),ze("closed",!n.open),P("@drawer2",n.open),D(4),P("ngForOf",n.options),D(),P("ngForOf",i.userEntries)}}function Uhe(t,e){if(t&1&&(I(0,"div",1),G(1,jhe,9,8,"div",2),E()),t&2){let n=M();D(),P("ngForOf",n.statistics)}}var IG=(()=>{let e=class e{constructor(i,r){this.firestoreService=i,this.eventManagerService=r}ngOnInit(){this.event=this.eventManagerService.event,this.requestResults()}requestResults(){this.firestoreService.read(this.event.id).then(i=>{this.userEntries=i.sort((r,o)=>o.submitDate.localeCompare(r.submitDate)),this.statistics=this.event.questions.map(r=>({id:r.id,title:r.title,votes:i.filter(o=>!o.choices[r.id]?.includes("dontcare")).length,open:this.event.questions.indexOf(r)==0,options:r.choices?.map(o=>({id:o.id,text:o.text,description:o.description,hyperlink:o.hyperlink,people:i.filter(a=>a.choices[r.id]?.includes(o.id)).map(a=>a.userDisplayName),count:i.filter(a=>!a.choices[r.id]?.includes("dontcare")&&a.choices[r.id]?.includes(o.id)).length})).sort((o,a)=>a.count-o.count)}))})}open(i){this.statistics.forEach(r=>r.open=!1),i.open=!0}getShortName(i){if(window.innerWidth>1e3)return i;{let[r,o]=i.split(" ");return r.substring(0,10)+" "+o[0]}}};e.\u0275fac=function(r){return new(r||e)(R(xf),R(ks))},e.\u0275cmp=de({type:e,selectors:[["app-survey-results"]],standalone:!0,features:[me],decls:1,vars:1,consts:[["class","results",4,"ngIf"],[1,"results"],["class","result-container",3,"closed","click",4,"ngFor","ngForOf"],[1,"result-container",3,"click"],[1,"result-title"],[1,"result-options"],[1,"first-column","first-row"],["class","first-row",3,"width",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"first-row"],[1,"first-column"],["class","fa-solid fa-check",4,"ngIf"],[1,"fa-solid","fa-check"]],template:function(r,o){r&1&&G(0,Uhe,2,1,"div",0),r&2&&P("ngIf",o.statistics)},dependencies:[ye,tt,st,St],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.6666666666rem 0}@media screen and (max-width: 1000px){[_nghost-%COMP%]{width:calc(100vw - 1.3333333332rem);max-width:calc(100vw - 1.3333333332rem);padding:.6666666666rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]{padding:.6666666666rem 0}}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6666666666rem;max-width:100%}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:block;text-align:center;font-size:2rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]{border:1px solid var(--color-border);border-radius:.3333333333rem;display:flex;flex-direction:column;background-color:var(--color-background-secondary);padding:.6666666666rem;transition-property:gap;transition-duration:.5s}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container.closed[_ngcontent-%COMP%]{cursor:pointer;gap:0}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-title[_ngcontent-%COMP%]{font-size:24px;text-align:center}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-description[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem;width:100%;overflow-x:auto;overflow-y:hidden}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--color-border)}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;width:fit-content;padding:.5rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.first-column[_ngcontent-%COMP%]{width:0;white-space:nowrap;background-color:var(--color-background-secondary)}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.first-column[_ngcontent-%COMP%]{position:sticky;left:0}}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(.first-column){text-align:center}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.first-row[_ngcontent-%COMP%]{white-space:nowrap}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.first-row[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{writing-mode:tb}}"],data:{animation:[aE]}});let t=e;return t})();var gk=()=>["vysledky"];function Bhe(t,e){t&1&&(ht(0),I(1,"div",2)(2,"span"),L(3,"Hlasovanie teraz nie je akt\xEDvne"),E(),I(4,"a",3),ne(5,"i",4),L(6,"V\xFDsledky"),E()(),ft()),t&2&&(D(4),P("routerLink",Pl(1,gk)))}function $he(t,e){if(t&1){let n=se();I(0,"div",17),k("onCreate",function(r){N(n);let o=M(4);return F(o.createAuthButton(r))}),E()}}function Hhe(t,e){if(t&1){let n=se();I(0,"div",18),k("click",function(){N(n);let r=M(4);return F(r.updateVote())}),L(1,"Zmeni\u0165 hlasovanie"),E()}}function Ghe(t,e){if(t&1&&(I(0,"div",9)(1,"div",10)(2,"span",11),L(3,"Hlasovanie"),E()(),I(4,"div",12),G(5,$he,1,0,"div",13)(6,Hhe,2,0,"div",14),I(7,"span",15),L(8,"alebo"),E(),I(9,"a",16),ne(10,"i",4),L(11,"V\xFDsledky"),E()()()),t&2){let n=M(3);D(5),P("ngIf",!n.authService.userS()),D(),P("ngIf",n.authService.userS()&&!n.canVote),D(3),P("routerLink",Pl(3,gk))}}function zhe(t,e){if(t&1&&(I(0,"span",33),L(1),E()),t&2){let n=M().$implicit;D(),ue(n.description)}}function qhe(t,e){if(t&1&&ne(0,"i",41),t&2){let n=M().$implicit;P("ngClass",n.selected?"fa-regular fa-square-check":"fa-regular fa-square")}}function Whe(t,e){if(t&1&&ne(0,"i",41),t&2){let n=M().$implicit;P("ngClass",n.selected?"fa-regular fa-circle-check":"fa-regular fa-circle")}}function Khe(t,e){if(t&1&&(ht(0),ne(1,"div",42),I(2,"a",43),k("click",function(i){return i.stopImmediatePropagation()}),ne(3,"i",44),E(),ft()),t&2){let n=M().$implicit;D(2),P("href",n.hyperlink,Oi)}}function Yhe(t,e){if(t&1&&(ht(0),ne(1,"div",42),I(2,"span",45),L(3),E(),ft()),t&2){let n=M().$implicit;D(3),ue(n.description)}}function Qhe(t,e){if(t&1){let n=se();I(0,"div",36),k("click",function(){let o=N(n).$implicit,a=M(2).$implicit,l=M(4);return F(l.onChoiceClick(a,o))}),G(1,qhe,1,1,"i",37)(2,Whe,1,1,"i",37),I(3,"div",38)(4,"span",39),L(5),E(),G(6,Khe,4,1,"ng-container",40)(7,Yhe,4,1,"ng-container",40),E()()}if(t&2){let n=e.$implicit,i=M(2).$implicit;ze("disabled",n.disabled)("selected",n.selected),D(),P("ngIf",i.type=="checkbox"),D(),P("ngIf",i.type=="radio"),D(3),ue(n.text),D(),P("ngIf",n.hyperlink),D(),P("ngIf",n.description)}}function Jhe(t,e){if(t&1&&(I(0,"div",34),G(1,Qhe,8,9,"div",35),E()),t&2){let n=M().$implicit;D(),P("ngForOf",n.choices)}}function Xhe(t,e){if(t&1&&(I(0,"div",29)(1,"span",30),L(2),E(),G(3,zhe,2,1,"span",31)(4,Jhe,2,1,"div",32),E()),t&2){let n=e.$implicit,i=e.index,r=M(4);P("@drawer2",i==r.questionIndex),D(2),ue(n.title),D(),P("ngIf",n.description),D(),P("ngIf",n.choices)}}function Zhe(t,e){t&1&&(I(0,"a",3),ne(1,"i",4),L(2,"V\xFDsledky"),E()),t&2&&P("@crossfade",void 0)("routerLink",Pl(2,gk))}function efe(t,e){if(t&1){let n=se();I(0,"div",46),k("click",function(){N(n);let r=M(4);return F(r.back())}),L(1,"Sp\xE4\u0165"),E()}t&2&&P("@crossfade",void 0)}function tfe(t,e){if(t&1){let n=se();I(0,"div",46),k("click",function(){N(n);let r=M(4);return F(r.next())}),L(1,"\u010Ealej"),E()}t&2&&P("@crossfade",void 0)}function nfe(t,e){if(t&1){let n=se();I(0,"div",46),k("click",function(){N(n);let r=M(4);return F(r.submit())}),L(1,"Hlasova\u0165"),E()}if(t&2){let n=M(4);ze("disabled",!n.authService.userS()),P("@crossfade",void 0)}}function ife(t,e){if(t&1&&(I(0,"div",19)(1,"div",20),G(2,Xhe,5,4,"div",21),E(),I(3,"div",22)(4,"div",23),G(5,Zhe,3,3,"a",24)(6,efe,2,1,"div",25),E(),I(7,"div",23)(8,"div",26),L(9,"\xA0"),E()(),I(10,"div",23),G(11,tfe,2,1,"div",25)(12,nfe,2,3,"div",27),E()(),I(13,"span",28),L(14),E()()),t&2){let n=M(3);D(),P("@skip",void 0),D(),P("ngForOf",n.activeQuestions),D(2),P("@skip",void 0),D(),P("ngIf",n.questionIndex==0),D(),P("ngIf",n.questionIndex!=0),D(4),P("@skip",void 0),D(),P("ngIf",n.questionIndex<n.activeQuestions.length-1),D(),P("ngIf",n.questionIndex==n.activeQuestions.length-1),D(2),ue(n.questionIndex+1+" / "+n.activeQuestions.length)}}function rfe(t,e){if(t&1&&(I(0,"div",6),G(1,Ghe,12,4,"div",7)(2,ife,15,9,"div",8),E()),t&2){let n=M(2);D(),P("ngIf",!n.authService.userS()||!n.canVote),D(),P("ngIf",n.authService.userS()&&n.canVote)}}function ofe(t,e){if(t&1&&G(0,rfe,3,2,"div",5),t&2){let n=M();P("ngIf",!n.loading)}}var SG=(()=>{let e=class e{constructor(i,r,o,a,l){this.router=i,this.firestoreService=r,this.eventManagerService=o,this.route=a,this.authService=l,this.questionIndex=0,this.loading=!0}ngOnInit(){this.event=this.eventManagerService.event,this.activeQuestions=this.event.questions.filter(o=>o.active);let i=this.authService.awaitUser(),r=this.firestoreService.read(this.event.id,!0);Promise.all([i,r]).then(([o,a])=>{this.canVote=!a.some(l=>l.userId==o?.uid),this.loading=!1})}onChoiceClick(i,r){i.type=="checkbox"?i.dontcare?r.id=="dontcare"?(i.choices.forEach(o=>o.selected=!1),r.selected=!0):(i.choices.find(o=>o.id=="dontcare").selected=!1,r.selected=!r.selected):r.selected=!r.selected:i.type=="radio"&&(i.choices.forEach(o=>o.selected=!1),r.selected=!0)}back(){this.questionIndex>0&&this.questionIndex--}next(){this.questionIndex<this.event.questions.length-1&&this.questionIndex++}submit(){let i=this.authService.userS();if(i){let r={userId:i.uid,userDisplayName:i.displayName,submitDate:new Date().toISOString(),choices:{}};this.event.questions.filter(o=>o.choices).forEach(o=>{r.choices[o.id]=o.choices.filter(a=>a.selected).map(a=>a.id)}),this.firestoreService.write(this.event.id,i.uid,r).then(()=>{this.router.navigate(["./vysledky"],{relativeTo:this.route})})}}updateVote(){this.firestoreService.read(this.event.id).then(i=>{let r=i.find(o=>o.userId==this.authService.userS().uid);r&&this.event.questions.forEach(o=>{o.choices.forEach(a=>{r.choices&&r.choices[o.id]&&(a.selected=r.choices[o.id].includes(a.id))})}),this.canVote=!0})}createAuthButton(i){this.authService.createButton(i.nativeElement,null,r=>{r?.user&&this.firestoreService.read(this.event.id,!0).then(o=>{this.canVote=!o.some(a=>a.userId==r.user.uid)})})}};e.\u0275fac=function(r){return new(r||e)(R(Wn),R(xf),R(ks),R(nr),R(Mf))},e.\u0275cmp=de({type:e,selectors:[["app-survey"]],standalone:!0,features:[me],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["hasActiveQuestions",""],[1,"no-questions-container"],[1,"button",3,"routerLink"],[1,"fa-solid","fa-chart-simple"],["class","content-container",4,"ngIf"],[1,"content-container"],["class","auth-container",4,"ngIf"],["class","questions",4,"ngIf"],[1,"auth-container"],[1,"auth-header"],[1,"auth-text"],[1,"auth-buttons"],["class","auth-button auth-ui-button",3,"onCreate",4,"ngIf"],["class","auth-button button",3,"click",4,"ngIf"],[1,"auth-or"],[1,"auth-button","button",3,"routerLink"],[1,"auth-button","auth-ui-button",3,"onCreate"],[1,"auth-button","button",3,"click"],[1,"questions"],[1,"question-container"],["class","question-animation-container",4,"ngFor","ngForOf"],[1,"buttons"],[1,"button-container"],["class","button",3,"routerLink",4,"ngIf"],["class","button",3,"click",4,"ngIf"],[1,"button","transparent"],["class","button",3,"disabled","click",4,"ngIf"],[1,"question-progress"],[1,"question-animation-container"],[1,"question-title"],["class","question-description",4,"ngIf"],["class","question-choices",4,"ngIf"],[1,"question-description"],[1,"question-choices"],["class","question-choice",3,"disabled","selected","click",4,"ngFor","ngForOf"],[1,"question-choice",3,"click"],["class","question-selection-icon",3,"ngClass",4,"ngIf"],[1,"choice-labels"],[1,"choice-text"],[4,"ngIf"],[1,"question-selection-icon",3,"ngClass"],[1,"v-separator"],["target","_blank","rel","noopener noreferrer",1,"choice-hyperlink",3,"href","click"],[1,"fa-solid","fa-arrow-up-right-from-square"],[1,"choice-description"],[1,"button",3,"click"]],template:function(r,o){if(r&1&&G(0,Bhe,7,2,"ng-container",0)(1,ofe,1,1,"ng-template",null,1,Dj),r&2){let a=J0(2);P("ngIf",o.activeQuestions.length==0)("ngIfElse",a)}},dependencies:[ye,ki,tt,st,St,mf,Os],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}@media screen and (max-width: 1000px){[_nghost-%COMP%]{width:calc(100% - 1.3333333332rem);padding:.6666666666rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]{padding:1.3333333332rem 0}}[_nghost-%COMP%]   .no-questions-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.6666666666rem;gap:.6666666666rem;align-items:center}[_nghost-%COMP%]   .no-questions-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:auto;gap:.5rem;padding:.3333333333rem .6666666666rem}[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.6666666666rem;gap:.6666666666rem}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   .auth-text[_ngcontent-%COMP%]{font-size:24px;text-align:center}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   .auth-description[_ngcontent-%COMP%]{font-size:16px;text-align:center}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{display:grid;align-items:center}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{grid-template-columns:auto;justify-items:center;gap:.3333333333rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{grid-template-columns:1fr auto 1fr;gap:.6666666666rem}}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .auth-button.auth-ui-button[_ngcontent-%COMP%]{padding:0;border-radius:.3333333333rem;overflow:hidden}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .auth-or[_ngcontent-%COMP%]{font-size:14px}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]{width:100%;height:auto;align-self:center;gap:.5rem;padding:.3333333333rem .6666666666rem}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6666666666rem;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.6666666666rem;position:relative;width:100%}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse!important}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-description[_ngcontent-%COMP%]{margin-top:.1666666667rem;font-size:14px}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:.6666666666rem;align-self:start;gap:.5rem;width:100%}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;padding:.5rem;border:1px solid var(--color-border);border-radius:.3333333333rem;transition:.25s}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice.selected[_ngcontent-%COMP%]{background-color:var(--color-secondary)}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3333333333rem}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]   .choice-hyperlink[_ngcontent-%COMP%]{cursor:pointer;font-size:12px}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]   .choice-text[_ngcontent-%COMP%]{min-width:fit-content}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]   .choice-description[_ngcontent-%COMP%]{font-size:14px}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:.6666666666rem;justify-content:space-between;position:relative}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex:1}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]:first-child{justify-content:flex-start}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]:last-child{justify-content:flex-end}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{height:auto;padding:.3333333333rem .6666666666rem;gap:.5rem}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}[_nghost-%COMP%]   .question-progress[_ngcontent-%COMP%]{position:absolute;right:0;top:0;padding:.6666666666rem;font-size:12px}"],data:{animation:[sE,aE,Lc,oE]}});let t=e;return t})();var io=class{static isImage(e){return e.mimeType.includes("image")&&e.thumbnailLink!=null}static isVideo(e){return e.mimeType.includes("video")&&e.thumbnailLink!=null}static isFolder(e){return e.mimeType=="application/vnd.google-apps.folder"}};function sfe(t,e){if(t&1){let n=se();I(0,"span",6),k("click",function(){let o=N(n).$implicit,a=M(2);return F(a.onDataFileClick(o))}),L(1),E()}if(t&2){let n=e.$implicit;D(),ue(n.name.substring(0,n.name.length-10))}}function afe(t,e){if(t&1){let n=se();I(0,"span",6),k("click",function(){let o=N(n).$implicit,a=M(2);return F(a.onFolderClick(o))}),L(1),E()}if(t&2){let n=e.$implicit;D(),ue(n.name)}}function cfe(t,e){if(t&1&&(I(0,"div",4),G(1,sfe,2,1,"span",5)(2,afe,2,1,"span",5),E()),t&2){let n=M();D(),P("ngForOf",n.dataFiles),D(),P("ngForOf",n.folders)}}var TG=(()=>{let e=class e{constructor(i,r,o,a){this.router=i,this.dialogService=r,this.googleService=o,this.applicationService=a,this.applicationService.loading.next(!0)}ngOnInit(){this.googleService.getFolderMetadata().then(i=>{this.dataFiles=i.filter(o=>o.name.endsWith(".tagallery"));let r=this.dataFiles.map(o=>o.name.substring(0,o.name.indexOf(".tagallery")));this.folders=i.filter(o=>io.isFolder(o)&&!r.includes(o.name))}).finally(()=>{this.applicationService.loading.next(!1)})}onDataFileClick(i){this.applicationService.loading.next(!0),sessionStorage.setItem("dataFileId",i.id),this.router.navigate(["/gallery"])}onFolderClick(i){this.applicationService.loading.next(!0),this.googleService.createDataFile(i.name).then(r=>{sessionStorage.setItem("dataFileId",r.id),this.googleService.updateContent(r.id,{rootFolderId:i.id,imageProperties:[],groupProperties:[],tagGroups:[],heartsFilter:0,bookmarksFilter:0,groupSizeFilterMin:0,groupSizeFilterMax:999}).then(()=>{this.router.navigate(["/gallery"])})})}};e.\u0275fac=function(r){return new(r||e)(R(Wn),R(Bt),R(Ui),R(hn))},e.\u0275cmp=de({type:e,selectors:[["app-folder-picker"]],standalone:!0,features:[me],decls:4,vars:4,consts:[[1,"container"],["class","folders-container",4,"ngIf"],[1,"buttons-container"],["tp","Toggle Low Bandwidth Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"folders-container"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(r,o){r&1&&(I(0,"div",0),G(1,cfe,3,2,"div",1),I(2,"div",2)(3,"i",3),k("click",function(){return o.applicationService.reduceBandwidth=!o.applicationService.reduceBandwidth}),E()()()),r&2&&(ze("opacity-1",!o.applicationService.loading.value),D(),P("ngIf",!0),D(2),P("ngClass",o.applicationService.reduceBandwidth?"fa-signal":"fa-wifi"))},dependencies:[ye,ki,tt,st],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--color-text);gap:.3333333333rem;opacity:0;transition-property:opacity;transition-duration:.5s}.folders-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-text);border-radius:.3333333333rem;width:300px}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.3333333333rem;border-bottom:1px solid var(--color-text);cursor:pointer;-webkit-user-select:none;user-select:none}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{border:0}.buttons-container[_ngcontent-%COMP%]{display:flex}"]});let t=e;return t})();function lfe(t,e){if(t&1&&ne(0,"iframe",19),t&2){let n=M().$implicit;K0("max-width:"+n.videoMediaMetadata.width+"px;max-height:"+n.videoMediaMetadata.height+"px;"),P("src",n.contentLink,d1)}}function ufe(t,e){if(t&1){let n=se();I(0,"img",21),k("load",function(){N(n);let r=M(4);return F(r.loadingC=!1)}),E()}if(t&2){let n=M(2).$implicit;P("src",n.contentLink,Oi)}}function dfe(t,e){if(t&1){let n=se();ht(0),I(1,"img",20),k("click",function(){N(n);let r=M().$implicit,o=M(2);return F(o.onImageClick(r))}),E(),I(2,"img",21),k("load",function(){N(n);let r=M(3);return F(r.loadingT=!1)}),E(),G(3,ufe,1,1,"img",22),ft()}if(t&2){let n=M().$implicit,i=M(2);D(),P("src",i.getSrc(n),Oi),D(),P("src",n.thumbnailLink,Oi),D(),P("ngIf",n.contentLink)}}function hfe(t,e){if(t&1&&(I(0,"div",16),G(1,lfe,1,3,"iframe",17)(2,dfe,4,3,"ng-container",18),E()),t&2){let n=M(2);P("@fade",void 0),D(),P("ngIf",n.video),D(),P("ngIf",!n.video)}}function ffe(t,e){if(t&1){let n=se();I(0,"div",1)(1,"div",2)(2,"div")(3,"i",3),k("click",function(){N(n);let r=M();return F(r.stateService.fullscreenVisible.set(!1))}),E(),I(4,"i",4),k("click",function(){N(n);let r=M();return F(r.dialogService.openSettings())}),E()(),I(5,"div")(6,"i",5),k("click",function(){let o=N(n).ngVar,a=M();return F(a.stateService.toggleHeart(o))}),E(),I(7,"i",6),k("click",function(){let o=N(n).ngVar,a=M();return F(a.stateService.toggleBookmark(o))}),E(),I(8,"span",7),k("click",function(){let o=N(n).ngVar,a=M();return F(a.stateService.like(o))})("contextmenu",function(r){let a=N(n).ngVar,l=M();return r.preventDefault(),F(l.stateService.dislike(a))}),L(9),E()()(),I(10,"div",8)(11,"div",9)(12,"i",10),k("click",function(){N(n);let r=M();return F(r.stateService.moveTargetToTrash())}),E()(),ne(13,"div",11),I(14,"div",12)(15,"i",13),k("click",function(){N(n);let r=M();return F(r.stateService.setRandomGroupTarget())}),E(),I(16,"i",14),k("click",function(){N(n);let r=M();return F(r.stateService.setRandomTarget())}),E()()(),G(17,hfe,3,3,"div",15),E()}if(t&2){let n=e.ngVar,i=M();ze("transparent",!i.stateService.fullscreenVisible()),D(6),P("ngClass",n!=null&&n.heart?"fa-solid":"fa-regular"),D(),P("ngClass",n!=null&&n.bookmark?"fa-solid":"fa-regular"),D(2),ue(n==null?null:n.likes),D(6),ze("disabled",!(n!=null&&n.hasGroup())),D(2),P("ngForOf",i.crossfadeHelper)}}var DG=(()=>{let e=class e{constructor(i,r,o){this.applicationService=i,this.stateService=r,this.dialogService=o,this.crossfadeHelper=[],this.loadingT=!0,this.loadingC=!0,this.video=!1,cc(()=>{this.stateService.fullscreenVisible()?this.update(this.stateService.target()):this.crossfadeHelper.length=0})}update(i){this.crossfadeHelper[0]!=i&&(this.crossfadeHelper[0]=i,io.isVideo(i)?this.video=!0:(this.video=!1,this.loadingT=!0,this.loadingC=!0))}getSrc(i){if(!this.loadingC)return i.contentLink;if(!this.loadingT)return i.thumbnailLink}onImageClick(i){this.applicationService.reduceBandwidth&&(i.thumbnailLink=i.thumbnailLink.replace("=s220","=s440"))}snapshot(){let i=document.getElementById("video-element");if(i){let r=document.createElement("canvas");r.width=i.videoWidth,r.height=i.videoHeight,r.getContext("2d").drawImage(i,0,0),window.open("about:blank","Video Snapshot").document.write("<img src='"+r.toDataURL("image/png")+"' alt='from canvas'/>")}}};e.\u0275fac=function(r){return new(r||e)(R(hn),R(vi),R(Bt))},e.\u0275cmp=de({type:e,selectors:[["app-fullscreen"]],standalone:!0,features:[me],decls:1,vars:1,consts:[["class","fullscreen-container",3,"transparent",4,"ngVar"],[1,"fullscreen-container"],[1,"fullscreen-header"],[1,"icon-button","fa-solid","fa-arrow-left",3,"click"],["tp","Settings",1,"icon-button","fa-solid","fa-gear",3,"click"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],["tp","Like",1,"icon-button",3,"click","contextmenu"],[1,"fullscreen-footer"],[2,"justify-content","start"],["tp","Trash",1,"icon-button","fa-solid","fa-trash",3,"click"],[2,"justify-content","center"],[2,"justify-content","end"],[1,"icon-button","fa-solid","fa-arrows-spin",3,"click"],[1,"icon-button","fa-solid","fa-shuffle",3,"click"],["class","fullscreen-crossfade",4,"ngFor","ngForOf"],[1,"fullscreen-crossfade"],["class","fullscreen-content","frameborder","0","allowfullscreen","",3,"src","style",4,"ngIf"],[4,"ngIf"],["frameborder","0","allowfullscreen","",1,"fullscreen-content",3,"src"],[1,"fullscreen-content",3,"src","click"],[2,"display","none",3,"src","load"],["style","display: none;",3,"src","load",4,"ngIf"]],template:function(r,o){r&1&&G(0,ffe,18,8,"div",0),r&2&&P("ngVar",o.stateService.target())},dependencies:[ye,ki,tt,st,Tf],styles:['.fullscreen-container[_ngcontent-%COMP%]{width:100%;height:100%;top:0;left:0;position:absolute;background-color:#000000e6;overflow:hidden;z-index:20;transition:.5s}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-header[_ngcontent-%COMP%]{padding:.3333333333rem;position:absolute;right:0;display:flex;justify-content:space-between;top:0;left:0;pointer-events:none;z-index:30}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-header[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:all}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]{padding:.3333333333rem;position:absolute;right:0;display:flex;justify-content:space-between;bottom:0;left:0;pointer-events:none;z-index:30;align-items:flex-end}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:all}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]{width:100%;height:100%;padding:.3333333333rem;display:flex;align-items:center;justify-content:center;position:absolute;box-sizing:border-box}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]{width:100%;height:100%;outline:none;object-fit:contain;transition-property:opacity;transition-duration:.5s}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]   .fullscreen-content[src=""][_ngcontent-%COMP%]{opacity:0}'],data:{animation:[Lc]}});let t=e;return t})();function pfe(t,e){if(t&1){let n=se();I(0,"i",14),k("click",function(r){N(n);let o=M(2).$implicit,a=M(3);return F(a.onStarClick(r,o))}),E()}if(t&2){let n=M(2).$implicit;P("ngClass",n==n.group.star?"fa-solid active no-hover":"fa-regular")}}function mfe(t,e){if(t&1){let n=se();ht(0),I(1,"i",12),k("click",function(r){N(n);let o=M().$implicit,a=M(3);return F(a.onGroupToggleClick(r,o))}),E(),G(2,pfe,1,1,"i",13),ft()}if(t&2){let n=M().$implicit;D(),P("ngClass",n.group.open?"fa-square-minus":"fa-square-plus")("tp",n.group.open?"Collapse Group":"Expand Group"),D(),P("ngIf",n.group.open)}}function gfe(t,e){if(t&1){let n=se();I(0,"div",5),k("click",function(){let o=N(n).$implicit,a=M(3);return F(a.onImageClick(o))}),I(1,"img",6,7),k("onCreate",function(r){let a=N(n).$implicit,l=M(3);return F(l.onBrickCreate(r,a))})("load",function(){N(n);let r=J0(2);return F(r.style.opacity="1")}),E(),I(3,"div",8)(4,"i",9),k("click",function(r){let a=N(n).$implicit,l=M(3);return F(l.onHeartClick(r,a))}),E(),I(5,"i",10),k("click",function(r){let a=N(n).$implicit,l=M(3);return F(l.onBookmarkClick(r,a))}),E(),I(6,"span",11),k("click",function(r){let a=N(n).$implicit,l=M(3);return F(l.onLikeClick(r,a))})("contextmenu",function(r){let a=N(n).$implicit,l=M(3);return F(l.onDislikeClick(r,a))}),L(7),E(),G(8,mfe,3,3,"ng-container",0),E()()}if(t&2){let n=e.$implicit;K0("width: "+n.width+"px; top: "+n.top+"px; left: "+n.left+"px; "),P("@leave",void 0),D(),Ur("aspect-ratio",n.aspectRatio),P("src",n.thumbnailLink,Oi),D(3),P("ngClass",n.heart?"fa-solid active":"fa-regular"),D(),P("ngClass",n.bookmark?"fa-solid active":"fa-regular"),D(2),ue(n.likes),D(),P("ngIf",n.hasGroup())}}function vfe(t,e){if(t&1){let n=se();I(0,"div",3),k("onCreate",function(r){N(n);let o=M(2);return F(o.onMasonryElementCreate(r))}),G(1,gfe,9,10,"div",4),E()}if(t&2){let n=M(2);D(),P("ngForOf",n.stateService.filter())}}function yfe(t,e){if(t&1&&(ht(0),I(1,"div",1),G(2,vfe,2,1,"div",2),E(),ft()),t&2){let n=M();D(2),P("ngIf",n.stateService.filter)}}var xG=(()=>{let e=class e{constructor(i,r,o){this.googleService=i,this.applicationService=r,this.stateService=o,this.bricks={},cc(()=>this.scrollToTarget()),cc(()=>this.updateLayout())}scrollToTarget(){let i=this.stateService.target();if(i){let r=i.hasGroup()?this.stateService.getGroupRepresent(i):i,o=this.bricks[r?.id];if(o&&!Wt.isElementVisible(o)){let a=document.getElementsByClassName("masonry-scroll-container")[0],l=r.top-(a.clientHeight-o.height)/2;a.scrollTo({top:l,behavior:"smooth"})}}}updateLayout(){if(this.masonryContainer){let i=this.stateService.filter();if(i.length==0)return;let r=Wt.isLargeScreen()?200:150,o=6,a=this.masonryContainer.clientWidth,l=Math.floor(a/r),d=(a-o*(l-1))/l,h=[],m=[];for(let v=0;v<l;v++)h[v]=0,m[v]=v*(d+o);for(let v of i)v.width!=d&&(v.width=d,v.height=d/v.aspectRatio);for(let v of i)if(v.hasGroup()&&v.group.open){if(v==v.group.images[0]){let y=[this.getShortestColumnIndex(h)],b=[];for(let w=0;w<l;w++)b.push({top:0,bottom:0});for(let w of v.getGroupImages()){let S=[...y],T=Math.min(...y);if(T>0){let $=h[T-1]+w.height*.5;$>b[T].top&&$<b[T].bottom&&S.push(T-1)}let O=Math.max(...y);if(O<l-1){let $=h[O+1]+w.height*.5;$>b[O].top&&$<b[O].bottom&&S.push(O+1)}let V=this.getShortestColumnIndex(h.map(($,x)=>S.includes(x)?$:999999999));ae.push(y,V),w.top=h[V],w.left=m[V],h[V]+=w.height+o,b[V].top==0?(b[V].top=w.top,b[V].bottom=w.top+w.height):b[V].bottom+=o+w.height}}}else{let y=this.getShortestColumnIndex(h);v.left=m[y],v.top=h[y],h[y]=h[y]+v.height+o}}}getShortestColumnIndex(i){return i.indexOf(Math.min(...i))}onImageClick(i){Wt.isLargeScreen()&&i==this.stateService.target()&&this.stateService.fullscreenVisible.set(!0),this.stateService.target.set(i),this.stateService.sidebarVisible=!0}onHeartClick(i,r){Wt.isLargeScreen()&&(i.stopPropagation(),this.stateService.toggleHeart(r))}onBookmarkClick(i,r){Wt.isLargeScreen()&&(i.stopPropagation(),this.stateService.toggleBookmark(r))}onLikeClick(i,r){Wt.isLargeScreen()&&(i.stopPropagation(),this.stateService.like(r))}onDislikeClick(i,r){Wt.isLargeScreen()&&(i.preventDefault(),this.stateService.dislike(r))}onGroupToggleClick(i,r){Wt.isLargeScreen()&&(i.stopPropagation(),r.group.open=!r.group.open,this.stateService.refreshFilter())}onStarClick(i,r){Wt.isLargeScreen()&&(i.stopPropagation(),r.hasGroup()&&r.group.star!=r&&(r.group.star=r,this.googleService.updateData()))}onBrickCreate(i,r){this.bricks[r.id]=i.nativeElement}onMasonryElementCreate(i){this.masonryContainer=i.nativeElement,this.updateLayout()}onResize(){this.updateLayout()}};e.\u0275fac=function(r){return new(r||e)(R(Ui),R(hn),R(vi))},e.\u0275cmp=de({type:e,selectors:[["app-masonry"]],hostBindings:function(r,o){r&1&&k("resize",function(){return o.onResize()},!1,rn)},standalone:!0,features:[me],decls:1,vars:1,consts:[[4,"ngIf"],[1,"masonry-scroll-container"],["class","masonry-container",3,"onCreate",4,"ngIf"],[1,"masonry-container",3,"onCreate"],["class","masonry-brick",3,"style","click",4,"ngFor","ngForOf"],[1,"masonry-brick",3,"click"],[3,"src","onCreate","load"],["imageElement",""],[1,"brick-header"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],["tp","Like",1,"icon-button",3,"click","contextmenu"],[1,"icon-button","fa-solid",3,"ngClass","tp","click"],["class","icon-button fa-star","tp","Star",3,"ngClass","click",4,"ngIf"],["tp","Star",1,"icon-button","fa-star",3,"ngClass","click"]],template:function(r,o){r&1&&G(0,yfe,3,1,"ng-container",0),r&2&&P("ngIf",!o.applicationService.reduceBandwidth)},dependencies:[ye,ki,tt,st,Os,rE],styles:["[_nghost-%COMP%]{height:100%;display:flex}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:scroll;background-color:var(--color-background-primary);width:100%;padding:.3333333333rem}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{border-right:1px solid var(--color-border)}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%] > .masonry-brick[_ngcontent-%COMP%]{position:absolute;transition:.5s;display:flex;padding-bottom:.3333333333rem}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%] > .masonry-brick[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%;border-radius:.3333333333rem;opacity:0;transition-property:opacity;transition-duration:.5s}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%] > .masonry-brick[_ngcontent-%COMP%]:hover   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:1;pointer-events:all}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%] > .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;display:flex;flex-direction:column;align-items:flex-end;padding:.3333333333rem;box-sizing:border-box}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%] > .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:0;pointer-events:none}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%] > .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.no-hover[_ngcontent-%COMP%]{cursor:default!important;border-color:transparent!important;background-color:transparent!important}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%] > .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%]{opacity:1;pointer-events:all}"],data:{animation:[hH]}});let t=e;return t})();var _E=class{constructor(){this.images=[]}};var wE=class{};var bE=class extends wE{hasGroup(){return this.group?.images.length>1}getGroupImages(){return this.group?.images}};var CE=(()=>{let e=class e extends Ut{constructor(i,r,o){super(),this.dialogService=i,this.googleService=r,this.stateService=o,this.configuration={title:"Tag Group Editor",buttons:[{text:()=>this.group.name.length>0?"Save":"Create",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Delete",hidden:()=>!this.canDelete,click:()=>this.deleteGroup()}]}}ngOnInit(){this.group||(this.group={name:"",state:0,tags:[]}),this.groupName=this.group.name,this.canDelete=this.stateService.tagGroups.includes(this.group)}deleteGroup(){this.canDelete&&this.dialogService.createConfirmation("Delete Group",['Do you really want to delete tag group "'+this.group.name+'"?'],"Yes","No").then(i=>{if(i){let r=this.group.tags.map(o=>o.id);for(let o of this.stateService.images)ae.remove(o.tags,r);this.googleService.updateData(),this.resolve(null)}})}canSubmit(){return At.isEmpty(this.groupName)?!1:this.groupName==this.group.name?!0:this.stateService.tagGroups.find(i=>this.groupName==i.name)==null}submit(){this.canSubmit()&&(this.group.name=this.groupName,this.stateService.tagGroups.includes(this.group)||this.stateService.tagGroups.push(this.group),this.stateService.tagGroups.sort((i,r)=>i.name.localeCompare(r.name)),this.googleService.updateData(),this.resolve(this.group))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(R(Bt),R(Ui),R(vi))},e.\u0275cmp=de({type:e,selectors:[["app-gallery-tag-group-editor"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.submit(l)},!1,rn)},inputs:{group:"group"},standalone:!0,features:[wt,me],decls:3,vars:1,consts:[[1,"element-label"],[1,"element",3,"ngModel","ngModelChange"]],template:function(r,o){r&1&&(I(0,"span",0),L(1,"Group Name"),E(),I(2,"input",1),Le("ngModelChange",function(l){return je(o.groupName,l)||(o.groupName=l),l}),E()),r&2&&(D(2),Fe("ngModel",o.groupName))},dependencies:[ye,St,$t,en,Kt],styles:["[_nghost-%COMP%]{flex:1;display:flex;align-items:center;row-gap:.3333333333rem;column-gap:.3333333333rem;padding:.9999999999rem}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{flex:1;height:2rem;box-sizing:border-box}"]});let t=e;return t})();function _fe(t,e){if(t&1&&(I(0,"option",7),L(1),E()),t&2){let n=e.$implicit;P("ngValue",n),D(),ue(n.name)}}var AG=(()=>{let e=class e extends Ut{constructor(i,r,o){super(),this.googleService=i,this.dialogService=r,this.stateService=o,this.configuration={title:"Tag Editor",buttons:[{text:()=>this.group.name.length>0?"Save":"Create",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Delete",hidden:()=>!this.canDelete,click:()=>this.deleteTag()}]}}ngOnInit(){this.group?this.currentGroup=this.group:this.group={name:"",state:0,tags:[]},this.tag||(this.tag={id:Jv(),name:"",state:0}),this.tagName=this.tag.name,this.canDelete=this.group.tags.includes(this.tag)}editGroup(i){this.dialogService.create(CE,{group:i}).then(r=>{r?this.currentGroup.name=r.name:i&&!this.stateService.tagGroups.includes(i)&&this.resolve(null)})}deleteTag(){this.canDelete&&this.dialogService.createConfirmation("Delete Tag",['Do you really want to delete tag "'+this.tag.name+'"?'],"Yes","No").then(i=>{if(i){for(let r of this.stateService.images)ae.remove(r.tags,this.tag.id);for(let r of this.stateService.tagGroups)ae.remove(r.tags,this.tag);this.googleService.updateData(),this.resolve(null)}})}canSubmit(){return At.isEmpty(this.tagName)?!1:this.tagName==this.tag.name?!0:this.currentGroup?.tags.find(i=>this.tagName==i.name)==null}submit(){this.canSubmit()&&(this.tag.name=this.tagName,this.currentGroup!=this.group&&ae.remove(this.group.tags,this.tag),this.currentGroup.tags.includes(this.tag)||(this.currentGroup.tags.push(this.tag),this.stateService.tagCounts[this.tag.id]=this.stateService.images.filter(i=>i.tags.includes(this.tag.id)).length),this.currentGroup.tags.sort((i,r)=>i.name.localeCompare(r.name)),this.googleService.updateData(),this.resolve(this.tag))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(R(Ui),R(Bt),R(vi))},e.\u0275cmp=de({type:e,selectors:[["app-gallery-tag-editor"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.submit(l)},!1,rn)},inputs:{group:"group",tag:"tag"},standalone:!0,features:[wt,me],decls:12,vars:5,consts:[[1,"element-label"],[1,"element-container"],[1,"element",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"flex"],["tp","Edit Group",1,"icon-button","fa-solid","fa-edit",3,"click"],["tp","Create Group",1,"icon-button","fa-solid","fa-plus",3,"click"],[3,"ngValue"]],template:function(r,o){r&1&&(I(0,"span",0),L(1,"Group"),E(),I(2,"div",1)(3,"select",2),Le("ngModelChange",function(l){return je(o.currentGroup,l)||(o.currentGroup=l),l}),G(4,_fe,2,2,"option",3),E(),I(5,"div",4)(6,"i",5),k("click",function(){return o.editGroup(o.currentGroup)}),E(),I(7,"i",6),k("click",function(){return o.editGroup()}),E()()(),I(8,"span",0),L(9,"Name"),E(),I(10,"div",1)(11,"input",2),Le("ngModelChange",function(l){return je(o.tagName,l)||(o.tagName=l),l}),E()()),r&2&&(D(3),Fe("ngModel",o.currentGroup),D(),P("ngForOf",o.stateService.tagGroups),D(2),ze("disabled",!o.currentGroup),D(5),Fe("ngModel",o.tagName))},dependencies:[ye,tt,St,Ms,Ps,$t,to,en,Kt],styles:["[_nghost-%COMP%]{display:grid;align-content:center;grid-template-columns:auto 1fr;grid-auto-rows:min-content;row-gap:.3333333333rem;column-gap:.3333333333rem;padding:.9999999999rem}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .element-container[_ngcontent-%COMP%]{height:2rem;display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .element-container[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{flex:1;height:2rem;box-sizing:border-box}"]});let t=e;return t})();var MG=(()=>{let e=class e extends Ut{constructor(i){super(),this.stateService=i,this.configuration={title:"Group Size Filter Editor",buttons:[{text:()=>"Submit",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Close",click:()=>this.close()}]}}ngOnInit(){this.min=this.stateService.groupSizeFilterMin,this.max=this.stateService.groupSizeFilterMax}canSubmit(){return this.min!=null&&this.max!=null&&this.min<=this.max}submit(){this.canSubmit()&&(this.stateService.groupSizeFilterMin=this.min,this.stateService.groupSizeFilterMax=this.max,this.resolve(!0))}close(){this.resolve(!1)}};e.\u0275fac=function(r){return new(r||e)(R(vi))},e.\u0275cmp=de({type:e,selectors:[["app-group-size-filter-editor"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.submit(l)},!1,rn)},standalone:!0,features:[wt,me],decls:6,vars:2,consts:[[1,"element-label"],["min","2","max","999",1,"element",3,"ngModel","ngModelChange"]],template:function(r,o){r&1&&(I(0,"span",0),L(1,"Min Group Size"),E(),I(2,"input",1),Le("ngModelChange",function(l){return je(o.min,l)||(o.min=l),l}),E(),I(3,"span",0),L(4,"Max Group Size"),E(),I(5,"input",1),Le("ngModelChange",function(l){return je(o.max,l)||(o.max=l),l}),E()),r&2&&(D(2),Fe("ngModel",o.min),D(3),Fe("ngModel",o.max))},dependencies:[ye,St,$t,en,Kt],styles:["[_nghost-%COMP%]{width:max-content;display:grid;align-content:center;grid-template-columns:auto 1fr;grid-auto-rows:min-content;row-gap:.3333333333rem;column-gap:.3333333333rem;padding:.9999999999rem}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{flex:1;height:2rem;box-sizing:border-box}"]});let t=e;return t})();function wfe(t,e){if(t&1){let n=se();I(0,"img",38),k("onCreate",function(r){let a=N(n).$implicit,l=M(2);return F(l.onGroupPreviewCreate(r,a))})("load",function(){let o=N(n).$implicit,a=M(2);return F(a.onGroupPreviewLoad(o))})("click",function(r){let a=N(n).$implicit,l=M(2);return F(l.onGroupPreviewClick(r,a))})("dblclick",function(r){let a=N(n).$implicit,l=M(2);return F(l.onGroupPreviewDoubleClick(r,a))}),E()}if(t&2){let n=e.$implicit;Ur("aspect-ratio",n.aspectRatio),P("src",n.thumbnailLink,Oi)("draggable",!1)}}function bfe(t,e){if(t&1){let n=se();I(0,"i",39),k("click",function(){N(n);let r=M(2);return F(r.stateService.sidebarVisible=!1)}),E()}}function Cfe(t,e){if(t&1){let n=se();I(0,"div",31)(1,"app-switch",32),k("stateChange",function(r){let a=N(n).$implicit,l=M(3);return F(l.onFilterStateChange(a,r))}),E(),I(2,"span",45),k("click",function(r){let a=N(n).$implicit,l=M().$implicit,d=M(2);return F(d.openTagEditor(r,l,a))}),L(3),E(),I(4,"app-switch",35),k("stateChange",function(){let o=N(n).$implicit,a=M(2).ngVar,l=M();return F(l.stateService.toggleTag(a,o.id))}),E()()}if(t&2){let n=e.$implicit,i=M(2).ngVar,r=M();D(),P("tri",!0)("state",n.state),D(2),ue(n.name+" ("+(r.stateService.tagCounts[n.id]||0)+")"),D(),P("state",i!=null&&i.tags.includes(n.id)?1:-1)}}function Efe(t,e){if(t&1){let n=se();I(0,"div",40),ne(1,"div",41),I(2,"div",31)(3,"app-switch",32),k("stateChange",function(r){let a=N(n).$implicit,l=M(2);return F(l.onFilterStateChange(a,r))}),E(),I(4,"span",42),k("click",function(r){let a=N(n).$implicit,l=M(2);return F(l.openGroupEditor(r,a))}),L(5),E(),ne(6,"app-switch",43),E(),G(7,Cfe,5,4,"div",44),E()}if(t&2){let n=e.$implicit;D(3),P("tri",!0)("state",n.state),D(2),ue(n.name),D(),P("state",0),D(),P("ngForOf",n.tags)}}function Ife(t,e){if(t&1){let n=se();I(0,"div",2)(1,"div",3)(2,"div",4)(3,"img",5),k("click",function(){N(n);let r=M();return F(r.onPreviewClick())}),E()(),I(4,"div",6)(5,"div",7)(6,"div",8),G(7,wfe,1,4,"img",9),E()()(),I(8,"div",10),G(9,bfe,1,0,"i",11),I(10,"i",12),k("click",function(){N(n);let r=M();return F(r.dialogService.openSettings())}),E()(),I(11,"div",13)(12,"i",14),k("click",function(){let o=N(n).ngVar,a=M();return F(a.stateService.toggleHeart(o))}),E(),I(13,"i",15),k("click",function(){let o=N(n).ngVar,a=M();return F(a.stateService.toggleBookmark(o))}),E(),I(14,"span",16),k("click",function(){let o=N(n).ngVar,a=M();return F(a.stateService.like(o))})("contextmenu",function(r){let a=N(n).ngVar,l=M();return r.preventDefault(),F(l.stateService.dislike(a))}),L(15),E()(),I(16,"div",17)(17,"i",18),k("click",function(){N(n);let r=M();return F(r.stateService.moveTargetToTrash())}),E()(),ne(18,"div",19),E(),I(19,"div",20)(20,"div",21)(21,"div",22)(22,"i",23),k("click",function(){N(n);let r=M();return F(r.openGroupSizeFilterDialog())}),E()(),I(23,"div",24)(24,"i",25),k("click",function(){N(n);let r=M();return F(r.stateService.setRandomGroupTarget())}),E(),I(25,"i",26),k("click",function(){N(n);let r=M();return F(r.stateService.setRandomTarget())}),E()(),I(26,"div",27)(27,"i",28),k("click",function(){N(n);let r=M();return F(r.openTagEditor())}),E()()(),I(28,"div",29)(29,"div",30)(30,"div",31)(31,"app-switch",32),k("stateChange",function(r){N(n);let o=M();return F(o.onLikesStateChange(r))}),E(),I(32,"div"),ne(33,"i",33),I(34,"span",34),L(35),E()(),I(36,"app-switch",35),k("stateChange",function(){let o=N(n).ngVar,a=M();return F(a.stateService.toggleHeart(o))}),E()(),I(37,"div",31)(38,"app-switch",32),k("stateChange",function(r){N(n);let o=M();return F(o.onBookmarksStateChange(r))}),E(),I(39,"div"),ne(40,"i",36),I(41,"span",34),L(42),E()(),I(43,"app-switch",35),k("stateChange",function(){let o=N(n).ngVar,a=M();return F(a.stateService.toggleBookmark(o))}),E()(),G(44,Efe,8,5,"div",37),E()()()()}if(t&2){let n=e.ngVar,i=M();D(3),P("src",n==null?null:n.thumbnailLink,Oi),D(),ze("display-none",!(n!=null&&n.hasGroup())),D(3),P("ngForOf",n==null?null:n.getGroupImages()),D(2),P("ngIf",!i.applicationService.reduceBandwidth),D(3),P("ngClass",n!=null&&n.heart?"fa-solid":"fa-regular"),D(),P("ngClass",n!=null&&n.bookmark?"fa-solid":"fa-regular"),D(2),ue(n==null?null:n.likes),D(9),ze("disabled",!(n!=null&&n.hasGroup())),D(7),P("tri",!0)("state",i.stateService.heartsFilter),D(4),ue(" ("+(i.stateService.tagCounts._heart||0)+")"),D(),P("state",n!=null&&n.heart?1:-1),D(2),P("tri",!0)("state",i.stateService.bookmarksFilter),D(4),ue(" ("+(i.stateService.tagCounts._bookmark||0)+")"),D(),P("state",n!=null&&n.bookmark?1:-1),D(),P("ngForOf",i.stateService.tagGroups)}}var PG=(()=>{let e=class e{constructor(i,r,o,a){this.applicationService=i,this.stateService=r,this.dialogService=o,this.googleService=a,this.groupPreviews={},this.sidebarGroupPreviewsLoaded=0;let l;cc(d=>{d(()=>l=h),this.sidebarGroupPreviewsLoaded=0;let h=this.stateService.target();h?.hasGroup()&&l&&h.getGroupImages().includes(l)&&this.moveTargetGroupPreviewIntoView(!0)})}ngAfterViewInit(){this.setupTagListMouseDragEvents(),this.setupGroupPreviewMouseDragEvents()}setupTagListMouseDragEvents(){if(Wt.isLargeScreen()){let i,r,o=document.getElementsByClassName("taglist-scrollbar-container")[0];o.addEventListener("mousemove",a=>{if(r){a.preventDefault();let d=(a.pageY-o.offsetTop-this.tagListClickY)*2;o.scrollTop=i-d}}),window.addEventListener("mousedown",a=>{r=!0,i=o.scrollTop,this.tagListClickY=a.pageY-o.offsetTop}),window.addEventListener("mouseup",()=>{r=!1})}}setupGroupPreviewMouseDragEvents(){if(Wt.isLargeScreen()){let i,r,o,a=document.getElementsByClassName("sidebar-preview-group-scroll-container")[0],l=()=>{a.classList.remove("hovering"),clearTimeout(i),i=null,this.moveTargetGroupPreviewIntoView(!0)};a.addEventListener("mouseenter",()=>{i||(i=setTimeout(()=>{a.classList.add("hovering")},250))}),a.addEventListener("mouseleave",()=>{o||l()});let d=h=>{h.preventDefault();let v=h.pageX+a.offsetLeft-this.groupPreviewClickX;a.scrollLeft=r-v};a.addEventListener("mousedown",h=>{o=!0,r=a.scrollLeft,this.groupPreviewContainerOffsetLeft=a.offsetLeft,this.groupPreviewClickX=h.pageX+a.offsetLeft,window.addEventListener("mousemove",d)}),window.addEventListener("mouseup",h=>{o=!1,window.removeEventListener("mousemove",d),document.elementsFromPoint(h.x,h.y).includes(a)||l()})}}onGroupPreviewCreate(i,r){this.groupPreviews[r.id]=i.nativeElement}onGroupPreviewLoad(i){this.sidebarGroupPreviewsLoaded++,this.sidebarGroupPreviewsLoaded==i.getGroupImages().length&&this.moveTargetGroupPreviewIntoView(!1)}moveTargetGroupPreviewIntoView(i){let r=this.stateService.target();if(r){let o=this.groupPreviews[r.id],a=document.getElementsByClassName("sidebar-preview-group-scroll-container")[0];if(o&&!a.classList.contains("hovering")&&!Wt.isElementVisible(o,a)){let l=o.offsetLeft-(a.clientWidth-o.clientWidth)/2;a.scrollTo({left:l,behavior:i?"smooth":"auto"})}}}openTagEditor(i,r,o){(!i||!this.tagListClickY||Math.abs(i.pageY-this.tagListClickY-36)<Wt.MOUSE_MOVEMENT_TOLERANCE)&&this.dialogService.create(AG,{group:r,tag:o})}openGroupEditor(i,r){(!i||!this.tagListClickY||Math.abs(i.pageY-this.tagListClickY-36)<Wt.MOUSE_MOVEMENT_TOLERANCE)&&this.dialogService.create(CE,{group:r})}openGroupSizeFilterDialog(){this.dialogService.create(MG).then(i=>{i&&(this.stateService.refreshFilter(),this.googleService.updateData())})}onFilterStateChange(i,r){i.state=r.state,this.stateService.refreshFilter(),this.googleService.updateData()}onLikesStateChange(i){this.stateService.heartsFilter=i.state,this.stateService.refreshFilter(),this.googleService.updateData()}onBookmarksStateChange(i){this.stateService.bookmarksFilter=i.state,this.stateService.refreshFilter(),this.googleService.updateData()}onPreviewClick(){this.stateService.fullscreenVisible.set(!0)}onGroupPreviewClick(i,r){Math.abs(i.pageX+this.groupPreviewContainerOffsetLeft-this.groupPreviewClickX)<Wt.MOUSE_MOVEMENT_TOLERANCE&&this.stateService.target.set(r)}onGroupPreviewDoubleClick(i,r){Math.abs(i.pageX+this.groupPreviewContainerOffsetLeft-this.groupPreviewClickX)<Wt.MOUSE_MOVEMENT_TOLERANCE&&this.stateService.fullscreenVisible.set(!0)}};e.\u0275fac=function(r){return new(r||e)(R(hn),R(vi),R(Bt),R(Ui))},e.\u0275cmp=de({type:e,selectors:[["app-sidebar"]],standalone:!0,features:[me],decls:2,vars:3,consts:[[1,"sidebar-visibility-container"],["class","sidebar-content",4,"ngVar"],[1,"sidebar-content"],[1,"sidebar-half","sidebar-half-top"],[1,"sidebar-preview-container"],[1,"sidebar-preview",3,"src","click"],[1,"sidebar-preview-group-container"],[1,"sidebar-preview-group-scroll-container"],[1,"sidebar-preview-group-border-container"],["class","sidebar-preview-group-image",3,"aspect-ratio","src","draggable","onCreate","load","click","dblclick",4,"ngFor","ngForOf"],[1,"absolute","top","left"],["class","icon-button fa-solid fa-arrow-left desktop-hidden",3,"click",4,"ngIf"],["tp","Settings",1,"icon-button","fa-solid","fa-gear",3,"click"],[1,"absolute","top","right"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],["tp","Like",1,"icon-button",3,"click","contextmenu"],[1,"absolute","bottom","left"],["tp","Trash",1,"icon-button","fa-solid","fa-trash",3,"click"],[1,"absolute","bottom","right"],[1,"sidebar-half",2,"position","relative"],[1,"sidebar-filter-header"],[1,"flex",2,"justify-content","start"],["tp","Group Size Filter Configuration",1,"icon-button","fa-solid","fa-hashtag",3,"click"],[1,"flex",2,"justify-content","center"],[1,"icon-button","fa-solid","fa-arrows-spin",3,"click"],[1,"icon-button","fa-solid","fa-shuffle",3,"click"],[1,"flex",2,"justify-content","end"],["tp","Tag Editor",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"taglist-scrollbar-container"],[1,"sidebar-filter-list"],[1,"sidebar-item"],[3,"tri","state","stateChange"],[1,"fa-solid","fa-heart"],[1,"sidebar-item-label"],[3,"state","stateChange"],[1,"fa-solid","fa-bookmark"],["class","sidebar-group",4,"ngFor","ngForOf"],[1,"sidebar-preview-group-image",3,"src","draggable","onCreate","load","click","dblclick"],[1,"icon-button","fa-solid","fa-arrow-left","desktop-hidden",3,"click"],[1,"sidebar-group"],[1,"h-separator"],[1,"sidebar-group-header","sidebar-item-label",3,"click"],[2,"visibility","hidden",3,"state"],["class","sidebar-item",4,"ngFor","ngForOf"],[1,"sidebar-item-label",3,"click"]],template:function(r,o){r&1&&(I(0,"div",0),G(1,Ife,45,19,"div",1),E()),r&2&&(ze("visible",o.stateService.sidebarVisible),D(),P("ngVar",o.stateService.target()))},dependencies:[ye,ki,tt,st,cE,Os,Tf],styles:[".sidebar-visibility-container[_ngcontent-%COMP%]{height:100%;display:flex;z-index:10}@media screen and (min-width: 768px){.sidebar-visibility-container[_ngcontent-%COMP%]:not(.visible){display:none}}@media screen and (max-width: 768px){.sidebar-visibility-container[_ngcontent-%COMP%]{width:100%;position:absolute;transition:.5s}.sidebar-visibility-container[_ngcontent-%COMP%]:not(.visible){position:absolute;opacity:0;visibility:hidden;pointer-events:none}}.sidebar-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media screen and (min-width: 768px){.sidebar-content[_ngcontent-%COMP%]{width:300px;min-width:300px}}@media screen and (max-width: 768px){.sidebar-content[_ngcontent-%COMP%]{width:100%;min-width:initial;background-color:#000000e6;transition:.5s}}.sidebar-half[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;flex:1;min-height:0}.sidebar-half.sidebar-half-top[_ngcontent-%COMP%]{position:relative;margin:.3333333333rem}@media screen and (min-width: 768px){.sidebar-half.sidebar-half-top[_ngcontent-%COMP%]{gap:0}}.sidebar-preview-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:0;flex:1}.sidebar-preview[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:.3333333333rem;object-fit:contain}.sidebar-preview-group-container[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:hidden;min-height:110px;margin:.3333333333rem -.3333333333rem 0}@media screen and (min-width: 768px){.sidebar-preview-group-container[_ngcontent-%COMP%]{overflow:hidden;min-height:calc(110px + .6666666666rem);margin:0 -.3333333333rem -.3333333333rem}}.sidebar-preview-group-container[_ngcontent-%COMP%]   .sidebar-preview-group-scroll-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem;box-sizing:border-box;border-radius:.5rem;max-width:100vw}@media screen and (min-width: 768px){.sidebar-preview-group-container[_ngcontent-%COMP%]   .sidebar-preview-group-scroll-container[_ngcontent-%COMP%]{overflow:hidden}}.sidebar-preview-group-container[_ngcontent-%COMP%]   .sidebar-preview-group-scroll-container.hovering[_ngcontent-%COMP%]{position:absolute;z-index:21;padding-left:calc(100vw - 300px);right:-.3333333333rem;bottom:-.3333333333rem}.sidebar-preview-group-border-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem;padding:0 .3333333333rem}@media screen and (min-width: 768px){.sidebar-preview-group-border-container[_ngcontent-%COMP%]{background-color:var(--color-background-primary);padding:.3333333333rem;border-radius:.5rem}}.sidebar-preview-group-image[_ngcontent-%COMP%]{height:110px;border-radius:.3333333333rem}.sidebar-preset-filters[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.sidebar-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.1666666667rem}.sidebar-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;gap:.1666666667rem;border-radius:.6666666666rem}.sidebar-item[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--color-background-secondary)}.sidebar-item[_ngcontent-%COMP%]:hover{background-color:#ffffff26}.sidebar-group-header[_ngcontent-%COMP%]{font-size:18px;text-decoration:underline}.sidebar-item-label[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:text}.sidebar-filter-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;gap:.3333333333rem;padding:0 .3333333333rem}.sidebar-filter-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:-webkit-fill-available;height:30px;padding:0 .3333333333rem;border-radius:.3333333333rem;box-sizing:border-box;border:0}.sidebar-filter-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{outline:initial}.taglist-scrollbar-container[_ngcontent-%COMP%]{flex:1;overflow:auto;padding:.3333333333rem}.taglist-scrollbar-container[_ngcontent-%COMP%]   .sidebar-filter-list[_ngcontent-%COMP%]{font-size:16px;display:flex;flex-direction:column;gap:.1666666667rem}"]});let t=e;return t})();var OG=(()=>{let e=class e{constructor(i,r,o,a,l){this.sanitizer=i,this.dialogService=r,this.applicationService=o,this.stateService=a,this.googleService=l,this.applicationService.loading.next(!0)}ngOnInit(){return C(this,null,function*(){this.initKeybinds();let i=yield this.googleService.getData();this.stateService.rootFolderId=i.rootFolderId,this.stateService.heartsFilter=i.heartsFilter,this.stateService.bookmarksFilter=i.bookmarksFilter,this.stateService.settings=i.settings,this.stateService.groupSizeFilterMin=i.groupSizeFilterMin,this.stateService.groupSizeFilterMax=i.groupSizeFilterMax,this.stateService.tagGroups=i.tagGroups,i.settings||(this.stateService.settings={},yield this.dialogService.openSettings()),this.processData(i)})}processData(i,r=this.stateService.rootFolderId,o=[],a={calls:0}){a.calls++,this.googleService.getFolderMetadata(r).then(l=>{for(let d of l.filter(h=>io.isFolder(h)))this.processData(i,d.id,o,a);if(ae.push(o,this.metaToImages(l,i.imageProperties)),--a.calls==0){this.stateService.images=o,this.stateService.groups=i.groupProperties.map(d=>{let h=new _E;return h.images=this.stateService.images.filter(m=>d.imageIds.includes(m.id)),h.images.forEach(m=>m.group=h),h.star=d.starId?h.star=h.images.find(m=>m.id==d.starId):h.images[0],h}),this.stateService.refreshFilter(),this.stateService.target.set(ae.getFirst(this.stateService.filter()));for(let d of ae.difference(i.imageProperties,this.stateService.images,(h,m)=>h.id==m.id))console.log(d),console.log("This image does not exist, but has a data entry. Removing image entry from data."),ae.remove(this.stateService.images,this.stateService.images.find(h=>h.id==d.id));this.stateService.tagCounts._heart=this.stateService.images.filter(d=>d.heart).length,this.stateService.tagCounts._bookmark=this.stateService.images.filter(d=>d.bookmark).length;for(let d of this.stateService.tagGroups)for(let h of d.tags)this.stateService.tagCounts[h.id]=0;for(let d of this.stateService.images)for(let h of d.tags)this.stateService.tagCounts[h]++;this.applicationService.loading.next(!1)}})}metaToImages(i,r){return i.filter(o=>io.isImage(o)||io.isVideo(o)).map(o=>this.metaToImage(o,r.find(a=>a.id==o.id),this.applicationService.reduceBandwidth))}metaToImage(i,r,o){let a=new bE;return a.id=i.id,a.name=i.name,a.mimeType=i.mimeType,i.thumbnailLink&&(o?a.thumbnailLink=i.thumbnailLink:a.thumbnailLink=i.thumbnailLink.replace("=s220","=s440"),io.isImage(a)?(a.imageMediaMetadata=i.imageMediaMetadata,a.aspectRatio=a.imageMediaMetadata.width/a.imageMediaMetadata.height,a.contentLink=i.thumbnailLink.replace("=s220","=s"+Math.max(window.screen.width,window.screen.height))):io.isVideo(a)&&(a.videoMediaMetadata=i.videoMediaMetadata,a.videoMediaMetadata||(a.videoMediaMetadata={}),(!a.videoMediaMetadata.width||a.videoMediaMetadata.width==0)&&(a.videoMediaMetadata.width=1920),(!a.videoMediaMetadata.height||a.videoMediaMetadata.height==0)&&(a.videoMediaMetadata.height=1080),a.aspectRatio=a.videoMediaMetadata.width/a.videoMediaMetadata.height,a.contentLink=this.sanitizer.bypassSecurityTrustResourceUrl("https://drive.google.com/file/d/"+a.id+"/preview"))),r?(a.heart=r.heart,a.bookmark=r.bookmark,a.tags=r.tags||[],a.likes=r.likes||0):(this.stateService.settings.autoBookmark&&(a.bookmark=!0),a.tags=[],a.likes=0),a}initKeybinds(){document.addEventListener("keyup",i=>{if(["BODY","VIDEO"].includes(document.activeElement.nodeName))switch(i.code){case"KeyF":this.stateService.fullscreenVisible.update(r=>!r);break;case"KeyR":this.stateService.setRandomTarget();break;case"KeyG":this.stateService.setRandomGroupTarget();break;case"KeyW":case"ArrowUp":this.stateService.target.set(eo.getNearestImageUp(this.stateService.target(),this.stateService.filter()));break;case"KeyD":case"ArrowRight":this.stateService.target.set(eo.getNearestImageRight(this.stateService.target(),this.stateService.filter()));break;case"KeyS":case"ArrowDown":this.stateService.target.set(eo.getNearestImageDown(this.stateService.target(),this.stateService.filter()));break;case"KeyA":case"ArrowLeft":this.stateService.target.set(eo.getNearestImageLeft(this.stateService.target(),this.stateService.filter()));break}})}};e.\u0275fac=function(r){return new(r||e)(R(rP),R(Bt),R(hn),R(vi),R(Ui))},e.\u0275cmp=de({type:e,selectors:[["app-gallery"]],standalone:!0,features:[me],decls:4,vars:2,consts:[[1,"content-container"]],template:function(r,o){r&1&&(I(0,"div",0),ne(1,"app-masonry")(2,"app-fullscreen"),E(),ne(3,"app-sidebar")),r&2&&(D(),P("@enter",void 0),D(2),P("@enter",void 0))},dependencies:[ye,xG,DG,PG],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden;position:relative}@media screen and (min-width: 768px){[_nghost-%COMP%]{display:flex}}[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]{width:100%}@media screen and (max-width: 768px){[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]{position:absolute;height:100%}}"],data:{animation:[dH]}});let t=e;return t})();var kG="https://mazacik.github.io",vk={production:!0,baseUrl:kG,redirectUrl:kG+"/login"};var Pf=(()=>{let e=class e{constructor(i){this.http=i,this.CLIENT_ID="692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com",this.CLIENT_SECRET="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"}getAccessToken(){return this.accessToken}startAuthentication(){let a="https://accounts.google.com/o/oauth2/v2/auth?redirect_uri="+vk.redirectUrl+"&prompt=consent&response_type=code&client_id="+"692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com"+"&scope="+"https://www.googleapis.com/auth/drive"+"&access_type=offline";window.location=a}requestTokens(i){return C(this,null,function*(){let r="https://accounts.google.com/o/oauth2/token",o={"content-type":"form-data",grant_type:"authorization_code",code:i,client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET,redirect_uri:vk.redirectUrl,plugin_name:"TagalleryWeb"};yield $_(this.http.post(r,o)).then(a=>{a&&(this.accessToken=a.access_token,this.refreshToken=a.refresh_token,window.localStorage.setItem("googleRefreshToken",this.refreshToken))}).catch(a=>a)})}requestAccessToken(){return C(this,null,function*(){let i="https://accounts.google.com/o/oauth2/token",r={grant_type:"refresh_token",refresh_token:this.getRefreshToken(),client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET};return yield $_(this.http.post(i,r)).then(o=>{o&&(this.accessToken=o.access_token)}).catch(o=>o),this.accessToken})}getRefreshToken(){return this.refreshToken||(this.refreshToken=window.localStorage.getItem("googleRefreshToken")),this.refreshToken}};e.\u0275fac=function(r){return new(r||e)(oe(Rl))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var RG=(()=>{let e=class e{constructor(i,r,o){this.route=i,this.router=r,this.authenticationService=o}ngAfterViewInit(){this.route.queryParams.subscribe(i=>{let r=i.code;r&&this.authenticationService.requestTokens(r).finally(()=>{this.router.navigate([sessionStorage.getItem("appId")||""])})})}signIn(){this.authenticationService.startAuthentication()}};e.\u0275fac=function(r){return new(r||e)(R(nr),R(Wn),R(Pf))},e.\u0275cmp=de({type:e,selectors:[["app-login"]],decls:4,vars:0,consts:[[1,"sign-in-button",3,"click"],["src","assets/google-logo.svg"],[1,"sign-in-text"]],template:function(r,o){r&1&&(I(0,"div",0),k("click",function(){return o.signIn()}),ne(1,"img",1),I(2,"span",2),L(3,"Sign in with Google"),E()())},styles:["[_nghost-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]{width:18px;height:18px}.sign-in-button[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;gap:8px;padding:0 12px;cursor:pointer;background-color:#fff;border:1px solid #dadce0;border-radius:4px;-webkit-user-select:none;user-select:none}.sign-in-button[_ngcontent-%COMP%]:hover{background:#f8faff;border-color:#d2e3fc}.sign-in-text[_ngcontent-%COMP%]{color:#3c4043;font-family:Google Sans,arial,sans-serif;font-size:14px;letter-spacing:.25px}"]});let t=e;return t})();var EE=(t,e)=>C(void 0,null,function*(){sessionStorage.setItem("appId",t.url.join("")),console.log("guard: start");let n=J(Wn),i=J(Pf);if(i.getAccessToken())return console.log("guard: has access token, return true"),!0;if(console.log("guard: no access token"),i.getRefreshToken()){if(console.log("guard: has refresh token"),yield i.requestAccessToken())return console.log("guard: got access token from refresh token, return true"),!0;console.log("guard: could not get access token from refresh token")}return console.log("guard: return false"),n.navigate(["login"])});var NG=(t,e)=>{let n=J(Wn),i=sessionStorage.getItem("dataFileId");return At.isEmpty(i)?n.createUrlTree(["/folder-picker"]):!0};var FG=(t,e)=>{for(let n of["FB_IAB","FBAN","FBAV","FB4A","MESSENGER"])if(navigator.userAgent.includes(n))return J(Wn).createUrlTree(["/messenger-browser"]);return!0};var LG=(t,e)=>{for(let n of["FB_IAB","FBAN","FBAV","FB4A","MESSENGER"])if(navigator.userAgent.includes(n))return!0;return J(Wn).createUrlTree([""])};var VG=(()=>{let e=class e{constructor(){this.crossfade=!0,this.userAgent=window.navigator.userAgent}ngOnInit(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=de({type:e,selectors:[["app-fuck-messenger-browser"]],hostVars:1,hostBindings:function(r,o){r&2&&Ml("@crossfade",o.crossfade)},standalone:!0,features:[me],decls:7,vars:1,consts:[[1,"user-agent"],["src","/assets/fuck-messenger-browser.jpg",1,"picture"]],template:function(r,o){r&1&&(I(0,"span",0),L(1),E(),I(2,"span"),L(3,"Prehliada\u010D v aplik\xE1cii Messenger nesp\u013A\u0148a modern\xE9 \u0161tandardy a ned\xE1 sa v \u0148om prihl\xE1si\u0165 do \xFA\u010Dtu Google."),E(),I(4,"span"),L(5,"Vpravo hore by malo by\u0165 tla\u010D\xEDtko, ktor\xE9 ti str\xE1nku otvor\xED v norm\xE1lnom prehliada\u010Di."),E(),ne(6,"img",1)),r&2&&(D(),ue(o.userAgent))},dependencies:[ye,St],styles:["[_nghost-%COMP%]{height:100vh;width:100vw;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1.3333333332rem 0;text-align:center;gap:2rem;margin:0 .6666666666rem;position:relative;box-sizing:border-box}[_nghost-%COMP%]   .user-agent[_ngcontent-%COMP%]{font-size:.667rem;position:absolute;top:.667rem}[_nghost-%COMP%]   .picture[_ngcontent-%COMP%]{max-width:100%}"],data:{animation:[sE]}});let t=e;return t})();function Tfe(t,e){if(t&1){let n=se();I(0,"span",4),k("click",function(){N(n);let r=M();return F(r.parseText())}),L(1,"Parse"),E()}}function Dfe(t,e){if(t&1){let n=se();I(0,"div",6)(1,"span",4),k("click",function(){N(n);let r=M(2);return F(r.onEntryClick(r.tournament.comparison[0],r.tournament.comparison[1]))}),L(2),E(),I(3,"span",4),k("click",function(){N(n);let r=M(2);return F(r.onEntryClick(r.tournament.comparison[1],r.tournament.comparison[0]))}),L(4),E()()}if(t&2){let n=M(2);D(2),ue(n.tournament.comparison[0]),D(2),ue(n.tournament.comparison[1])}}function xfe(t,e){if(t&1&&(ht(0),G(1,Dfe,5,2,"div",5),ft()),t&2){let n=M();D(),P("ngIf",n.tournament.comparison)}}var jG=(()=>{let e=class e{constructor(){this.text=`01
02
03
04
05
06
07
08
`,this.entries=[],this.result=[]}ngOnInit(){}parseText(){this.entries=this.text.split(`
`).filter(i=>i?.length>0),this.tournament=new Ef(this.entries,i=>i),this.text=""}onEntryClick(i,r){this.tournament.addComparisonResult(i,r),this.text=this.tournament.outcome.join(`
`)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=de({type:e,selectors:[["app-tournament"]],standalone:!0,features:[me],decls:4,vars:5,consts:[[1,"input-container"],[3,"placeholder","ngModel","readOnly","ngModelChange"],["class","button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"button",3,"click"],["class","comparison",4,"ngIf"],[1,"comparison"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"textarea",1),Le("ngModelChange",function(l){return je(o.text,l)||(o.text=l),l}),E(),G(2,Tfe,2,0,"span",2),E(),G(3,xfe,2,1,"ng-container",3)),r&2&&(D(),P("placeholder",o.tournament?"Leaderboard":"Entries"),Fe("ngModel",o.text),P("readOnly",o.tournament),D(),P("ngIf",!o.tournament),D(),P("ngIf",o.tournament))},dependencies:[ye,st,St,$t,en,Kt],styles:["[_nghost-%COMP%]{display:flex;overflow-x:hidden;height:100%}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]{width:25%;display:flex;flex-direction:column;gap:.3333333333rem;margin:.3333333333rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;color:var(--color-text);overflow-wrap:anywhere;border-radius:.1666666667rem;box-sizing:border-box;border:1px solid var(--color-border);font-family:inherit;font-size:inherit;min-width:50px;background-color:transparent;resize:none;padding:.1666666667rem .3333333333rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus-visible{outline:initial}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex:3;overflow:hidden;gap:.3333333333rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{aspect-ratio:2}}"]});let t=e;return t})();var UG=[{path:"messenger-browser",canActivate:[LG],component:VG},{path:"login",component:RG},{path:"adventure",canActivate:[EE],component:JH},{path:"folder-picker",canActivate:[EE],component:TG},{path:"gallery",canActivate:[EE,NG],component:OG},{path:"tournament",component:jG},{path:"event/:id",component:CG,children:[{path:"hlasovanie/vysledky",component:IG},{path:"hlasovanie",canActivate:[FG],component:SG},{path:"prihlaska",component:vG},{path:"pravidla",component:EG},{path:"**",redirectTo:"hlasovanie"}]},{path:"**",redirectTo:"event/2024-splav"}];var BG=(t,e)=>{let n=J(Pf);return e($G(n,t)).pipe(Qo(i=>Afe(n,i,t,e)))},$G=(t,e)=>e.url.includes("googleapis.com")?e.clone({headers:e.headers.set("authorization","Bearer "+t.getAccessToken())}):e,Afe=(t,e,n,i)=>C(void 0,null,function*(){if(!e.url.includes("accounts.google.com")&&(yield t.requestAccessToken()))return i($G(t,n))});n$(_H,{providers:[N$(),g9(UG,v9({paramsInheritanceStrategy:"always"})),nU(rU(),iU([BG])),tm(OU(()=>kU({apiKey:"AIzaSyDOAks7IYxZn0CfhQfDYp06r5rP9B-4Jc8",authDomain:"mazacik-69cda.firebaseapp.com",projectId:"mazacik-69cda",storageBucket:"mazacik-69cda.appspot.com",messagingSenderId:"43148772573",appId:"1:43148772573:web:86c8a9749dd20d99260734"}))),tm(G5(()=>K5())),tm(FB(()=>LB())),uH({defaultVariation:"tooltip",variations:{tooltip:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!1,offset:[0,6]}}})]}).catch(t=>console.error(t));
