var vP=Object.defineProperty,yP=Object.defineProperties;var _P=Object.getOwnPropertyDescriptors;var cu=Object.getOwnPropertySymbols,wP=Object.getPrototypeOf,P0=Object.prototype.hasOwnProperty,O0=Object.prototype.propertyIsEnumerable,EP=Reflect.get;var M0=(t,e,n)=>e in t?vP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R=(t,e)=>{for(var n in e||={})P0.call(e,n)&&M0(t,n,e[n]);if(cu)for(var n of cu(e))O0.call(e,n)&&M0(t,n,e[n]);return t},Se=(t,e)=>yP(t,_P(e));var cp=(t,e)=>{var n={};for(var r in t)P0.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&cu)for(var r of cu(t))e.indexOf(r)<0&&O0.call(t,r)&&(n[r]=t[r]);return n};var _i=(t,e,n)=>EP(wP(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function IP(t,e){return Object.is(t,e)}var It=null,qa=!1,lu=1,wi=Symbol("SIGNAL");function xe(t){let e=It;return It=t,e}function CP(){return qa}var uu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function R0(t){if(qa)throw new Error("");if(It===null)return;It.consumerOnSignalRead(t);let e=It.nextProducerIndex++;if(ws(It),e<It.producerNode.length&&It.producerNode[e]!==t&&Ga(It)){let n=It.producerNode[e];hu(n,It.producerIndexOfThis[e])}It.producerNode[e]!==t&&(It.producerNode[e]=t,It.producerIndexOfThis[e]=Ga(It)?V0(t,It,e):0),It.producerLastReadVersion[e]=t.version}function bP(){lu++}function TP(t){if(!(Ga(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===lu)){if(!t.producerMustRecompute(t)&&!du(t)){t.dirty=!1,t.lastCleanEpoch=lu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=lu}}function N0(t){if(t.liveConsumerNode===void 0)return;let e=qa;qa=!0;try{for(let n of t.liveConsumerNode)n.dirty||F0(n)}finally{qa=e}}function k0(){return It?.consumerAllowSignalWrites!==!1}function F0(t){t.dirty=!0,N0(t),t.consumerMarkedDirty?.(t)}function up(t){return t&&(t.nextProducerIndex=0),xe(t)}function dp(t,e){if(xe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ga(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)hu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function du(t){ws(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(TP(n),r!==n.version))return!0}return!1}function hp(t){if(ws(t),Ga(t))for(let e=0;e<t.producerNode.length;e++)hu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function V0(t,e,n){if(L0(t),ws(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=V0(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function hu(t,e){if(L0(t),ws(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)hu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ws(i),i.producerIndexOfThis[r]=e}}function Ga(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ws(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function L0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function DP(){throw new Error}var j0=DP;function U0(){j0()}function B0(t){j0=t}var SP=null;function $0(t){let e=Object.create(z0);e.value=t;let n=()=>(R0(e),e.value);return n[wi]=e,n}function fp(t,e){k0()||U0(),t.equal(t.value,e)||(t.value=e,AP(t))}function H0(t,e){k0()||U0(),fp(t,e(t.value))}var z0=Se(R({},uu),{equal:IP,value:void 0});function AP(t){t.version++,bP(),N0(t),SP?.()}function q0(t,e,n){let r=Object.create(xP);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=c=>{r.cleanupFn=c};function o(c){return c.fn===null&&c.schedule===null}function s(c){o(c)||(hp(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=lp)}let a=()=>{if(r.fn===null)return;if(CP())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!du(r))return;r.hasRun=!0;let c=up(r);try{r.cleanupFn(),r.cleanupFn=lp,r.fn(i)}finally{dp(r,c)}};return r.ref={notify:()=>F0(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[wi]:r},r.ref}var lp=()=>{},xP=Se(R({},uu),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:lp});function te(t){return typeof t=="function"}function Es(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var fu=Es(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function po(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var st=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(o){e=o instanceof fu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{G0(o)}catch(s){e=e??[],s instanceof fu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new fu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)G0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&po(n,e)}remove(e){let{_finalizers:n}=this;n&&po(n,e),e instanceof t&&e._removeParent(this)}};st.EMPTY=(()=>{let t=new st;return t.closed=!0,t})();var pp=st.EMPTY;function pu(t){return t instanceof st||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function G0(t){te(t)?t():t.unsubscribe()}var qn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Is={setTimeout(t,e,...n){let{delegate:r}=Is;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Is;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function mu(t){Is.setTimeout(()=>{let{onUnhandledError:e}=qn;if(e)e(t);else throw t})}function Wa(){}var W0=mp("C",void 0,void 0);function K0(t){return mp("E",void 0,t)}function Q0(t){return mp("N",t,void 0)}function mp(t,e,n){return{kind:t,value:e,error:n}}var mo=null;function Cs(t){if(qn.useDeprecatedSynchronousErrorHandling){let e=!mo;if(e&&(mo={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=mo;if(mo=null,n)throw r}}else t()}function Y0(t){qn.useDeprecatedSynchronousErrorHandling&&mo&&(mo.errorThrown=!0,mo.error=t)}var go=class extends st{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,pu(e)&&e.add(this)):this.destination=OP}static create(e,n,r){return new Ei(e,n,r)}next(e){this.isStopped?vp(Q0(e),this):this._next(e)}error(e){this.isStopped?vp(K0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?vp(W0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},MP=Function.prototype.bind;function gp(t,e){return MP.call(t,e)}var yp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){gu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){gu(r)}else gu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){gu(n)}}},Ei=class extends go{constructor(e,n,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&qn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&gp(e.next,o),error:e.error&&gp(e.error,o),complete:e.complete&&gp(e.complete,o)}):i=e}this.destination=new yp(i)}};function gu(t){qn.useDeprecatedSynchronousErrorHandling?Y0(t):mu(t)}function PP(t){throw t}function vp(t,e){let{onStoppedNotification:n}=qn;n&&Is.setTimeout(()=>n(t,e))}var OP={closed:!0,next:Wa,error:PP,complete:Wa};var bs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function _n(t){return t}function _p(...t){return wp(t)}function wp(t){return t.length===0?_n:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var se=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=NP(n)?n:new Ei(n,r,i);return Cs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=X0(r),new r((i,o)=>{let s=new Ei({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[bs](){return this}pipe(...n){return wp(n)(this)}toPromise(n){return n=X0(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function X0(t){var e;return(e=t??qn.Promise)!==null&&e!==void 0?e:Promise}function RP(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}function NP(t){return t&&t instanceof go||RP(t)&&pu(t)}function Ep(t){return te(t?.lift)}function _e(t){return e=>{if(Ep(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function me(t,e,n,r,i){return new Ip(t,e,n,r,i)}var Ip=class extends go{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ts(){return _e((t,e)=>{let n=null;t._refCount++;let r=me(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ds=class extends se{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ep(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new st;let n=this.getSubject();e.add(this.source.subscribe(me(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=st.EMPTY)}return e}refCount(){return Ts()(this)}};var J0=Es(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ft=(()=>{class t extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new vu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new J0}next(n){Cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?pp:(this.currentObservers=null,o.push(n),new st(()=>{this.currentObservers=null,po(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new se;return n.source=this,n}}return t.create=(e,n)=>new vu(e,n),t})(),vu=class extends Ft{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:pp}};var Vt=class extends Ft{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Cp={now(){return(Cp.delegate||Date).now()},delegate:void 0};var yu=class extends st{constructor(e,n){super()}schedule(e,n=0){return this}};var Ka={setInterval(t,e,...n){let{delegate:r}=Ka;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ka;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ss=class extends yu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ka.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ka.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,po(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var As=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};As.now=Cp.now;var xs=class extends As{constructor(e,n=As.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ms=new xs(Ss),bp=Ms;var _u=class extends Ss{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var wu=class extends xs{};var Tp=new wu(_u);var un=new se(t=>t.complete());function Eu(t){return t&&te(t.schedule)}function Dp(t){return t[t.length-1]}function Iu(t){return te(Dp(t))?t.pop():void 0}function fr(t){return Eu(Dp(t))?t.pop():void 0}function Z0(t,e){return typeof Dp(t)=="number"?t.pop():e}function Sp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tE(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function eE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function vo(t){return this instanceof vo?(this.v=t,this):new vo(t)}function nE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(v,I){o.push([h,f,v,I])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(v){d(o[0][3],v)}}function c(h){h.value instanceof vo?Promise.resolve(h.value.v).then(l,u):d(o[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function rE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof eE=="function"?eE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Ps=t=>t&&typeof t.length=="number"&&typeof t!="function";function Cu(t){return te(t?.then)}function bu(t){return te(t[bs])}function Tu(t){return Symbol.asyncIterator&&te(t?.[Symbol.asyncIterator])}function Du(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function kP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Su=kP();function Au(t){return te(t?.[Su])}function xu(t){return nE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield vo(n.read());if(i)return yield vo(void 0);yield yield vo(r)}}finally{n.releaseLock()}})}function Mu(t){return te(t?.getReader)}function Be(t){if(t instanceof se)return t;if(t!=null){if(bu(t))return FP(t);if(Ps(t))return VP(t);if(Cu(t))return LP(t);if(Tu(t))return iE(t);if(Au(t))return jP(t);if(Mu(t))return UP(t)}throw Du(t)}function FP(t){return new se(e=>{let n=t[bs]();if(te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function VP(t){return new se(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function LP(t){return new se(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,mu)})}function jP(t){return new se(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function iE(t){return new se(e=>{BP(t,e).catch(n=>e.error(n))})}function UP(t){return iE(xu(t))}function BP(t,e){var n,r,i,o;return tE(this,void 0,void 0,function*(){try{for(n=rE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function dn(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Ii(t,e=0){return _e((n,r)=>{n.subscribe(me(r,i=>dn(r,t,()=>r.next(i),e),()=>dn(r,t,()=>r.complete(),e),i=>dn(r,t,()=>r.error(i),e)))})}function Ci(t,e=0){return _e((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function oE(t,e){return Be(t).pipe(Ci(e),Ii(e))}function sE(t,e){return Be(t).pipe(Ci(e),Ii(e))}function aE(t,e){return new se(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function cE(t,e){return new se(n=>{let r;return dn(n,e,()=>{r=t[Su](),dn(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function Pu(t,e){if(!t)throw new Error("Iterable cannot be null");return new se(n=>{dn(n,e,()=>{let r=t[Symbol.asyncIterator]();dn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function lE(t,e){return Pu(xu(t),e)}function uE(t,e){if(t!=null){if(bu(t))return oE(t,e);if(Ps(t))return aE(t,e);if(Cu(t))return sE(t,e);if(Tu(t))return Pu(t,e);if(Au(t))return cE(t,e);if(Mu(t))return lE(t,e)}throw Du(t)}function je(t,e){return e?uE(t,e):Be(t)}function ae(...t){let e=fr(t);return je(t,e)}function bi(t,e){let n=te(t)?t:()=>t,r=i=>i.error(n());return new se(e?i=>e.schedule(r,0,i):r)}function Ap(t){return!!t&&(t instanceof se||te(t.lift)&&te(t.subscribe))}var wn=Es(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function En(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=!1,s;t.subscribe({next:a=>{s=a,o=!0},error:i,complete:()=>{o?r(s):n?r(e.defaultValue):i(new wn)}})})}function Ou(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=new Ei({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new wn)}});t.subscribe(o)})}function dE(t){return t instanceof Date&&!isNaN(t)}function ie(t,e){return _e((n,r)=>{let i=0;n.subscribe(me(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:$P}=Array;function HP(t,e){return $P(e)?t(...e):t(e)}function Os(t){return ie(e=>HP(t,e))}var{isArray:zP}=Array,{getPrototypeOf:qP,prototype:GP,keys:WP}=Object;function Ru(t){if(t.length===1){let e=t[0];if(zP(e))return{args:e,keys:null};if(KP(e)){let n=WP(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function KP(t){return t&&typeof t=="object"&&qP(t)===GP}function Nu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ku(...t){let e=fr(t),n=Iu(t),{args:r,keys:i}=Ru(t);if(r.length===0)return je([],e);let o=new se(QP(r,e,i?s=>Nu(i,s):_n));return n?o.pipe(Os(n)):o}function QP(t,e,n=_n){return r=>{hE(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)hE(e,()=>{let l=je(t[c],e),u=!1;l.subscribe(me(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function hE(t,e,n){t?dn(n,t,e):e()}function fE(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},f=I=>l<r?v(I):c.push(I),v=I=>{o&&e.next(I),l++;let T=!1;Be(n(I,u++)).subscribe(me(e,D=>{i?.(D),o?f(D):e.next(D)},()=>{T=!0},void 0,()=>{if(T)try{for(l--;c.length&&l<r;){let D=c.shift();s?dn(e,s,()=>v(D)):v(D)}h()}catch(D){e.error(D)}}))};return t.subscribe(me(e,f,()=>{d=!0,h()})),()=>{a?.()}}function at(t,e,n=1/0){return te(e)?at((r,i)=>ie((o,s)=>e(r,o,i,s))(Be(t(r,i))),n):(typeof e=="number"&&(n=e),_e((r,i)=>fE(r,i,t,n)))}function Qa(t=1/0){return at(_n,t)}function pE(){return Qa(1)}function Rs(...t){return pE()(je(t,fr(t)))}function Fu(t){return new se(e=>{Be(t()).subscribe(e)})}function xp(...t){let e=Iu(t),{args:n,keys:r}=Ru(t),i=new se(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Be(n[u]).subscribe(me(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Nu(r,a):a),o.complete())}))}});return e?i.pipe(Os(e)):i}var YP=["addListener","removeListener"],XP=["addEventListener","removeEventListener"],JP=["on","off"];function Ns(t,e,n,r){if(te(n)&&(r=n,n=void 0),r)return Ns(t,e,n).pipe(Os(r));let[i,o]=tO(t)?XP.map(s=>a=>t[s](e,a,n)):ZP(t)?YP.map(mE(t,e)):eO(t)?JP.map(mE(t,e)):[];if(!i&&Ps(t))return at(s=>Ns(s,e,n))(Be(t));if(!i)throw new TypeError("Invalid event target");return new se(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function mE(t,e){return n=>r=>t[n](e,r)}function ZP(t){return te(t.addListener)&&te(t.removeListener)}function eO(t){return te(t.on)&&te(t.off)}function tO(t){return te(t.addEventListener)&&te(t.removeEventListener)}function gE(t=0,e,n=bp){let r=-1;return e!=null&&(Eu(e)?n=e:r=e),new se(i=>{let o=dE(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Ya(...t){let e=fr(t),n=Z0(t,1/0),r=t;return r.length?r.length===1?Be(r[0]):Qa(n)(je(r,e)):un}function Yt(t,e){return _e((n,r)=>{let i=0;n.subscribe(me(r,o=>t.call(e,o,i++)&&r.next(o)))})}function vE(t){return _e((e,n)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,n.next(l)}s&&n.complete()},c=()=>{o=null,s&&n.complete()};e.subscribe(me(n,l=>{r=!0,i=l,o||Be(t(l)).subscribe(o=me(n,a,c))},()=>{s=!0,(!r||!o||o.closed)&&n.complete()}))})}function Mp(t,e=Ms){return vE(()=>gE(t,e))}function Gn(t){return _e((e,n)=>{let r=null,i=!1,o;r=e.subscribe(me(n,void 0,void 0,s=>{o=Be(t(s,Gn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function yE(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(me(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Ti(t,e){return te(e)?at(t,e,1):at(t,1)}function Di(t){return _e((e,n)=>{let r=!1;e.subscribe(me(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Br(t){return t<=0?()=>un:_e((e,n)=>{let r=0;e.subscribe(me(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Pp(t){return ie(()=>t)}function Vu(t=nO){return _e((e,n)=>{let r=!1;e.subscribe(me(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function nO(){return new wn}function yo(t){return _e((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function pr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Yt((i,o)=>t(i,o,r)):_n,Br(1),n?Di(e):Vu(()=>new wn))}function ks(t){return t<=0?()=>un:_e((e,n)=>{let r=[];e.subscribe(me(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Op(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Yt((i,o)=>t(i,o,r)):_n,ks(1),n?Di(e):Vu(()=>new wn))}function Rp(t,e){return _e(yE(t,e,arguments.length>=2,!0))}function Np(...t){let e=fr(t);return _e((n,r)=>{(e?Rs(t,n,e):Rs(t,n)).subscribe(r)})}function Ct(t,e){return _e((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(me(r,c=>{i?.unsubscribe();let l=0,u=o++;Be(t(c,u)).subscribe(i=me(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Wn(t){return _e((e,n)=>{Be(t).subscribe(me(n,()=>n.complete(),Wa)),!n.closed&&e.subscribe(n)})}function ct(t,e,n){let r=te(t)||e||n?{next:t,error:e,complete:n}:t;return r?_e((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(me(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):_n}var oI="https://g.co/ng/security#xss",P=class extends Error{constructor(e,n){super(pd(e,n)),this.code=e}};function pd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var Yp=class extends Ft{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=xe(null);try{super.next(e)}finally{xe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=kp(o),i&&(i=kp(i)),s&&(s=kp(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof st&&e.add(a),a}};function kp(t){return e=>{setTimeout(t,void 0,e)}}var Ye=Yp;var ve=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ve||{});function nn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(nn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Xp(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var sI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(sI||{}),vr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(vr||{});function lc(t){return{toString:t}.toString()}var _o=globalThis;var Bs={},hn=[];function Ue(t){for(let e in t)if(t[e]===Ue)return e;throw Error("Could not find renamed property on target object.")}function rO(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var iO=Ue({\u0275cmp:Ue}),oO=Ue({\u0275dir:Ue}),sO=Ue({\u0275pipe:Ue}),aO=Ue({\u0275mod:Ue}),Yu=Ue({\u0275fac:Ue}),Xa=Ue({__NG_ELEMENT_ID__:Ue}),_E=Ue({__NG_ENV_ID__:Ue}),re=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(re||{});function aI(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Jp(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];lO(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function cO(t){return t===3||t===4||t===6}function lO(t){return t.charCodeAt(0)===64}function Ja(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?wE(t,n,i,null,e[++r]):wE(t,n,i,null,null))}}return t}function wE(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var cI="ng-template";function uO(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if(typeof o=="string"&&i){let s=t[r++];if(n&&o==="class"&&aI(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;r<t.length&&typeof(o=t[r++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function lI(t){return t.type===4&&t.value!==cI}function dO(t,e,n){let r=t.type===4&&!n?cI:t.value;return e===r}function hO(t,e,n){let r=4,i=t.attrs||[],o=mO(i),s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Kn(r)&&!Kn(c))return!1;if(s&&Kn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!dO(t,c,n)||c===""&&e.length===1){if(Kn(r))return!1;s=!0}}else{let l=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!uO(t.attrs,l,n)){if(Kn(r))return!1;s=!0}continue}let u=r&8?"class":c,d=fO(u,i,lI(t),n);if(d===-1){if(Kn(r))return!1;s=!0;continue}if(l!==""){let h;d>o?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&aI(f,l,0)!==-1||r&2&&l!==h){if(Kn(r))return!1;s=!0}}}}return Kn(r)||s}function Kn(t){return(t&1)===0}function fO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return gO(e,t)}function pO(t,e,n=!1){for(let r=0;r<e.length;r++)if(hO(t,e[r],n))return!0;return!1}function mO(t){for(let e=0;e<t.length;e++){let n=t[e];if(cO(n))return e}return t.length}function gO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function EE(t,e){return t?":not("+e.trim()+")":e}function vO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Kn(s)&&(e+=EE(o,i),i=""),r=s,o=o||!Kn(r);n++}return i!==""&&(e+=EE(o,i)),e}function yO(t){return t.map(vO).join(",")}function _O(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Kn(i))break;i=o}r++}return{attrs:e,classes:n}}function K(t){return lc(()=>{let e=pI(t),n=Se(R({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===sI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||vr.Emulated,styles:t.styles||hn,_:null,schemas:t.schemas||null,tView:null,id:""});mI(n);let r=t.dependencies;return n.directiveDefs=CE(r,!1),n.pipeDefs=CE(r,!0),n.id=IO(n),n})}function wO(t){return xi(t)||uI(t)}function EO(t){return t!==null}function rn(t){return lc(()=>({type:t.type,bootstrap:t.bootstrap||hn,declarations:t.declarations||hn,imports:t.imports||hn,exports:t.exports||hn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function IE(t,e){if(t==null)return Bs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=re.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==re.None?[r,a]:r,e[o]=s):n[o]=r}return n}function ut(t){return lc(()=>{let e=pI(t);return mI(e),e})}function xi(t){return t[iO]||null}function uI(t){return t[oO]||null}function dI(t){return t[sO]||null}function hI(t){let e=xi(t)||uI(t)||dI(t);return e!==null?e.standalone:!1}function fI(t,e){let n=t[aO]||null;if(!n&&e===!0)throw new Error(`Type ${nn(t)} does not have '\u0275mod' property.`);return n}function pI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Bs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||hn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:IE(t.inputs,e),outputs:IE(t.outputs),debugInfo:null}}function mI(t){t.features?.forEach(e=>e(t))}function CE(t,e){if(!t)return null;let n=e?dI:wO;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(EO)}function IO(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var Ir=0,ge=1,ne=2,Lt=3,Qn=4,Jn=5,Xu=6,Za=7,Yn=8,$s=9,$r=10,lt=11,ec=12,bE=13,Xs=14,yr=15,uc=16,Fs=17,Hr=18,md=19,gI=20,Ai=21,Hu=22,Io=23,_r=25,Jm=1;var Co=7,Ju=8,Hs=9,In=10,Zm=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Zm||{});function wo(t){return Array.isArray(t)&&typeof t[Jm]=="object"}function Qr(t){return Array.isArray(t)&&t[Jm]===!0}function eg(t){return(t.flags&4)!==0}function gd(t){return t.componentOffset>-1}function vd(t){return(t.flags&1)===1}function zr(t){return!!t.template}function CO(t){return(t[ne]&512)!==0}var bO="svg",TO="math",DO=!1;function SO(){return DO}function wr(t){for(;Array.isArray(t);)t=t[Ir];return t}function AO(t){for(;Array.isArray(t);){if(typeof t[Jm]=="object")return t;t=t[Ir]}return null}function vI(t,e){return wr(e[t])}function Zn(t,e){return wr(e[t.index])}function yI(t,e){return t.data[e]}function xO(t,e){return t[e]}function Oi(t,e){let n=e[t];return wo(n)?n:n[Ir]}function MO(t){return(t[ne]&4)===4}function tg(t){return(t[ne]&128)===128}function PO(t){return Qr(t[Lt])}function zs(t,e){return e==null?null:t[e]}function _I(t){t[Fs]=0}function OO(t){t[ne]&1024||(t[ne]|=1024,tg(t)&&tc(t))}function RO(t,e){for(;t>0;)e=e[Xs],t--;return e}function ng(t){return!!(t[ne]&9216||t[Io]?.dirty)}function Zp(t){ng(t)?tc(t):t[ne]&64&&(SO()?(t[ne]|=1024,tc(t)):t[$r].changeDetectionScheduler?.notify())}function tc(t){t[$r].changeDetectionScheduler?.notify();let e=nc(t);for(;e!==null&&!(e[ne]&8192||(e[ne]|=8192,!tg(e)));)e=nc(e)}function wI(t,e){if((t[ne]&256)===256)throw new P(911,!1);t[Ai]===null&&(t[Ai]=[]),t[Ai].push(e)}function NO(t,e){if(t[Ai]===null)return;let n=t[Ai].indexOf(e);n!==-1&&t[Ai].splice(n,1)}function nc(t){let e=t[Lt];return Qr(e)?e[Lt]:e}var pe={lFrame:AI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function kO(){return pe.lFrame.elementDepthCount}function FO(){pe.lFrame.elementDepthCount++}function VO(){pe.lFrame.elementDepthCount--}function EI(){return pe.bindingsEnabled}function LO(){return pe.skipHydrationRootTNode!==null}function jO(t){return pe.skipHydrationRootTNode===t}function UO(){pe.skipHydrationRootTNode=null}function Ae(){return pe.lFrame.lView}function Tt(){return pe.lFrame.tView}function S(t){return pe.lFrame.contextLView=t,t[Yn]}function A(t){return pe.lFrame.contextLView=null,t}function fn(){let t=II();for(;t!==null&&t.type===64;)t=t.parent;return t}function II(){return pe.lFrame.currentTNode}function BO(){let t=pe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Mo(t,e){let n=pe.lFrame;n.currentTNode=t,n.isParent=e}function rg(){return pe.lFrame.isParent}function CI(){pe.lFrame.isParent=!1}function $O(){return pe.lFrame.contextLView}function HO(){let t=pe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function zO(){return pe.lFrame.bindingIndex}function qO(t){return pe.lFrame.bindingIndex=t}function yd(){return pe.lFrame.bindingIndex++}function ig(t){let e=pe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function GO(){return pe.lFrame.inI18n}function WO(t,e){let n=pe.lFrame;n.bindingIndex=n.bindingRootIndex=t,em(e)}function KO(){return pe.lFrame.currentDirectiveIndex}function em(t){pe.lFrame.currentDirectiveIndex=t}function bI(t){let e=pe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function TI(){return pe.lFrame.currentQueryIndex}function og(t){pe.lFrame.currentQueryIndex=t}function QO(t){let e=t[ge];return e.type===2?e.declTNode:e.type===1?t[Jn]:null}function DI(t,e,n){if(n&ve.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ve.Host);)if(i=QO(o),i===null||(o=o[Xs],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=pe.lFrame=SI();return r.currentTNode=e,r.lView=t,!0}function sg(t){let e=SI(),n=t[ge];pe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function SI(){let t=pe.lFrame,e=t===null?null:t.child;return e===null?AI(t):e}function AI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function xI(){let t=pe.lFrame;return pe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var MI=xI;function ag(){let t=xI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function YO(t){return(pe.lFrame.contextLView=RO(t,pe.lFrame.contextLView))[Yn]}function Ri(){return pe.lFrame.selectedIndex}function bo(t){pe.lFrame.selectedIndex=t}function cg(){let t=pe.lFrame;return yI(t.tView,t.selectedIndex)}function XO(){return pe.lFrame.currentNamespace}var PI=!0;function _d(){return PI}function wd(t){PI=t}function JO(){return Js(fn(),Ae())}function Js(t,e){return new gt(Zn(t,e))}var gt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=JO;let t=e;return t})();function ZO(t){return t instanceof gt?t.nativeElement:t}function eR(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function tR(t){return t.flat(Number.POSITIVE_INFINITY)}function lg(t,e){t.forEach(n=>Array.isArray(n)?lg(n,e):e(n))}function OI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Zu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function nR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Ed(t,e,n){let r=dc(t,e);return r>=0?t[r|1]=n:(r=~r,nR(t,r,e,n)),r}function Fp(t,e){let n=dc(t,e);if(n>=0)return t[n|1]}function dc(t,e){return rR(t,e,1)}function rR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}function iR(){return this._results[Symbol.iterator]()}var tm=class t{get changes(){return this._changes??=new Ye}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=iR)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=tR(e);(this._changesDetected=!eR(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function RI(t){return(t.flags&128)===128}var nm;function NI(t){nm=t}function oR(){if(nm!==void 0)return nm;if(typeof document<"u")return document;throw new P(210,!1)}function V(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function on(t){return{providers:t.providers||[],imports:t.imports||[]}}function Id(t){return TE(t,FI)||TE(t,VI)}function kI(t){return Id(t)!==null}function TE(t,e){return t.hasOwnProperty(e)?t[e]:null}function sR(t){let e=t&&(t[FI]||t[VI]);return e||null}function DE(t){return t&&(t.hasOwnProperty(SE)||t.hasOwnProperty(aR))?t[SE]:null}var FI=Ue({\u0275prov:Ue}),SE=Ue({\u0275inj:Ue}),VI=Ue({ngInjectableDef:Ue}),aR=Ue({ngInjectorDef:Ue}),G=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=V({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},ug=new G("",{providedIn:"root",factory:()=>cR}),cR="ng",dg=new G(""),Rn=new G("",{providedIn:"platform",factory:()=>"unknown"});var hg=new G(""),fg=new G("",{providedIn:"root",factory:()=>oR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var lR=Ue({__forward_ref__:Ue});function hc(t){return t.__forward_ref__=hc,t.toString=function(){return nn(this())},t}function tn(t){return LI(t)?t():t}function LI(t){return typeof t=="function"&&t.hasOwnProperty(lR)&&t.__forward_ref__===hc}function jI(t){return t&&!!t.\u0275providers}function rc(t){return typeof t=="string"?t:t==null?"":String(t)}function uR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():rc(t)}function dR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new P(-200,t)}function pg(t,e){throw new P(-201,!1)}var rm;function UI(){return rm}function On(t){let e=rm;return rm=t,e}function BI(t,e,n){let r=Id(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ve.Optional)return null;if(e!==void 0)return e;pg(t,"Injector")}var hR={},ic=hR,im="__NG_DI_FLAG__",ed="ngTempTokenPath",fR="ngTokenPath",pR=/\n/gm,mR="\u0275",AE="__source",js;function gR(){return js}function Si(t){let e=js;return js=t,e}function vR(t,e=ve.Default){if(js===void 0)throw new P(-203,!1);return js===null?BI(t,void 0,e):js.get(t,e&ve.Optional?null:void 0,e)}function L(t,e=ve.Default){return(UI()||vR)(tn(t),e)}function O(t,e=ve.Default){return L(t,Cd(e))}function Cd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function om(t){let e=[];for(let n=0;n<t.length;n++){let r=tn(t[n]);if(Array.isArray(r)){if(r.length===0)throw new P(900,!1);let i,o=ve.Default;for(let s=0;s<r.length;s++){let a=r[s],c=yR(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(L(i,o))}else e.push(L(r))}return e}function $I(t,e){return t[im]=e,t.prototype[im]=e,t}function yR(t){return t[im]}function _R(t,e,n,r){let i=t[ed];throw e[AE]&&i.unshift(e[AE]),t.message=wR(`
`+t.message,i,n,r),t[fR]=i,t[ed]=null,t}function wR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==mR?t.slice(2):t;let i=nn(e);if(Array.isArray(e))i=e.map(nn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):nn(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(pR,`
  `)}`}var ER="h",IR="b";var CR=()=>null;function mg(t,e,n=!1){return CR(t,e,n)}var Lu="__parameters__";function bR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function HI(t,e,n){return lc(()=>{let r=bR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Lu)?c[Lu]:Object.defineProperty(c,Lu,{value:[]})[Lu];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var sn=$I(HI("Optional"),8);var zI=$I(HI("SkipSelf"),4);function qs(t,e){let n=t.hasOwnProperty(Yu);return n?t[Yu]:null}var Gs=new G(""),qI=new G("",-1),GI=new G(""),td=class{get(e,n=ic){if(n===ic){let r=new Error(`NullInjectorError: No provider for ${nn(e)}!`);throw r.name="NullInjectorError",r}return n}};function Ni(t){return{\u0275providers:t}}function fc(...t){return{\u0275providers:WI(!0,t),\u0275fromNgModule:!0}}function WI(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return lg(e,s=>{let a=s;sm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&KI(i,o),n}function KI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];gg(i,o=>{e(o,r)})}}function sm(t,e,n,r){if(t=tn(t),!t)return!1;let i=null,o=DE(t),s=!o&&xi(t);if(!o&&!s){let c=t.ngModule;if(o=DE(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)sm(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{lg(o.imports,u=>{sm(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&KI(l,e)}if(!a){let l=qs(i)||(()=>new i);e({provide:i,useFactory:l,deps:hn},i),e({provide:GI,useValue:i,multi:!0},i),e({provide:Gs,useValue:()=>L(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;gg(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function gg(t,e){for(let n of t)jI(n)&&(n=n.\u0275providers),Array.isArray(n)?gg(n,e):e(n)}var TR=Ue({provide:String,useValue:Ue});function QI(t){return t!==null&&typeof t=="object"&&TR in t}function DR(t){return!!(t&&t.useExisting)}function SR(t){return!!(t&&t.useFactory)}function Ws(t){return typeof t=="function"}function AR(t){return!!t.useClass}var bd=new G(""),zu={},xR={},Vp;function Td(){return Vp===void 0&&(Vp=new td),Vp}var bt=class{},oc=class extends bt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cm(e,s=>this.processProvider(s)),this.records.set(qI,Vs(void 0,this)),i.has("environment")&&this.records.set(bt,Vs(void 0,this));let o=this.records.get(bd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(GI,hn,ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=xe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),xe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Si(this),r=On(void 0),i;try{return e()}finally{Si(n),On(r)}}get(e,n=ic,r=ve.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(_E))return e[_E](this);r=Cd(r);let i,o=Si(this),s=On(void 0);try{if(!(r&ve.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=NR(e)&&Id(e);l&&this.injectableDefInScope(l)?c=Vs(am(e),zu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ve.Self?Td():this.parent;return n=r&ve.Optional&&n===ic?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[ed]=a[ed]||[]).unshift(nn(e)),o)throw a;return _R(a,e,"R3InjectorError",this.source)}else throw a}finally{On(s),Si(o)}}resolveInjectorInitializers(){let e=xe(null),n=Si(this),r=On(void 0),i;try{let o=this.get(Gs,hn,ve.Self);for(let s of o)s()}finally{Si(n),On(r),xe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(nn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(e){e=tn(e);let n=Ws(e)?e:tn(e&&e.provide),r=PR(e);if(!Ws(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Vs(void 0,zu,!0),i.factory=()=>om(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=xe(null);try{return n.value===zu&&(n.value=xR,n.value=n.factory()),typeof n.value=="object"&&n.value&&RR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{xe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=tn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function am(t){let e=Id(t),n=e!==null?e.factory:qs(t);if(n!==null)return n;if(t instanceof G)throw new P(204,!1);if(t instanceof Function)return MR(t);throw new P(204,!1)}function MR(t){if(t.length>0)throw new P(204,!1);let n=sR(t);return n!==null?()=>n.factory(t):()=>new t}function PR(t){if(QI(t))return Vs(void 0,t.useValue);{let e=YI(t);return Vs(e,zu)}}function YI(t,e,n){let r;if(Ws(t)){let i=tn(t);return qs(i)||am(i)}else if(QI(t))r=()=>tn(t.useValue);else if(SR(t))r=()=>t.useFactory(...om(t.deps||[]));else if(DR(t))r=()=>L(tn(t.useExisting));else{let i=tn(t&&(t.useClass||t.provide));if(OR(t))r=()=>new i(...om(t.deps));else return qs(i)||am(i)}return r}function Vs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function OR(t){return!!t.deps}function RR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function NR(t){return typeof t=="function"||typeof t=="object"&&t instanceof G}function cm(t,e){for(let n of t)Array.isArray(n)?cm(n,e):n&&jI(n)?cm(n.\u0275providers,e):e(n)}function Yr(t,e){t instanceof oc&&t.assertNotDestroyed();let n,r=Si(t),i=On(void 0);try{return e()}finally{Si(r),On(i)}}function kR(t){if(!UI()&&!gR())throw new P(-203,!1)}function FR(t){return typeof t=="function"}var lm=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function XI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Xr(){return JI}function JI(t){return t.type.prototype.ngOnChanges&&(t.setInput=LR),VR}Xr.ngInherit=!0;function VR(){let t=eC(this),e=t?.current;if(e){let n=t.previous;if(n===Bs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function LR(t,e,n,r,i){let o=this.declaredInputs[r],s=eC(t)||jR(t,{previous:Bs,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new lm(l&&l.currentValue,n,c===Bs),XI(t,e,i,n)}var ZI="__ngSimpleChanges__";function eC(t){return t[ZI]||null}function jR(t,e){return t[ZI]=e}var xE=null;var mr=function(t,e,n){xE?.(t,e,n)};function UR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=JI(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Dd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function qu(t,e,n){tC(t,e,3,n)}function Gu(t,e,n,r){(t[ne]&3)===n&&tC(t,e,n,r)}function Lp(t,e){let n=t[ne];(n&3)===e&&(n&=16383,n+=1,t[ne]=n)}function tC(t,e,n,r){let i=r!==void 0?t[Fs]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Fs]+=65536),(a<o||o==-1)&&(BR(t,n,e,c),t[Fs]=(t[Fs]&4294901760)+c+2),c++}function ME(t,e){mr(4,t,e);let n=xe(null);try{e.call(t)}finally{xe(n),mr(5,t,e)}}function BR(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ne]>>14<t[Fs]>>16&&(t[ne]&3)===e&&(t[ne]+=16384,ME(a,o)):ME(a,o)}var Us=-1,To=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function $R(t){return t instanceof To}function HR(t){return(t.flags&8)!==0}function zR(t){return(t.flags&16)!==0}function nC(t){return t!==Us}function nd(t){return t&32767}function qR(t){return t>>16}function rd(t,e){let n=qR(t),r=e;for(;n>0;)r=r[Xs],n--;return r}var um=!0;function PE(t){let e=um;return um=t,e}var GR=256,rC=GR-1,iC=5,WR=0,gr={};function KR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Xa)&&(r=n[Xa]),r==null&&(r=n[Xa]=WR++);let i=r&rC,o=1<<i;e.data[t+(i>>iC)]|=o}function id(t,e){let n=oC(t,e);if(n!==-1)return n;let r=e[ge];r.firstCreatePass&&(t.injectorIndex=e.length,jp(r.data,t),jp(e,null),jp(r.blueprint,null));let i=vg(t,e),o=t.injectorIndex;if(nC(i)){let s=nd(i),a=rd(i,e),c=a[ge].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function jp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function oC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function vg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=uC(i),r===null)return Us;if(n++,i=i[Xs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Us}function dm(t,e,n){KR(t,e,n)}function sC(t,e,n){if(n&ve.Optional||t!==void 0)return t;pg(e,"NodeInjector")}function aC(t,e,n,r){if(n&ve.Optional&&r===void 0&&(r=null),!(n&(ve.Self|ve.Host))){let i=t[$s],o=On(void 0);try{return i?i.get(e,r,n&ve.Optional):BI(e,r,n&ve.Optional)}finally{On(o)}}return sC(r,e,n)}function cC(t,e,n,r=ve.Default,i){if(t!==null){if(e[ne]&2048&&!(r&ve.Self)){let s=JR(t,e,n,r,gr);if(s!==gr)return s}let o=lC(t,e,n,r,gr);if(o!==gr)return o}return aC(e,n,r,i)}function lC(t,e,n,r,i){let o=YR(n);if(typeof o=="function"){if(!DI(e,t,r))return r&ve.Host?sC(i,n,r):aC(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ve.Optional))pg(n);else return s}finally{MI()}}else if(typeof o=="number"){let s=null,a=oC(t,e),c=Us,l=r&ve.Host?e[yr][Jn]:null;for((a===-1||r&ve.SkipSelf)&&(c=a===-1?vg(t,e):e[a+8],c===Us||!RE(r,!1)?a=-1:(s=e[ge],a=nd(c),e=rd(c,e)));a!==-1;){let u=e[ge];if(OE(o,a,u.data)){let d=QR(a,e,n,s,r,l);if(d!==gr)return d}c=e[a+8],c!==Us&&RE(r,e[ge].data[a+8]===l)&&OE(o,a,e)?(s=u,a=nd(c),e=rd(c,e)):a=-1}}return i}function QR(t,e,n,r,i,o){let s=e[ge],a=s.data[t+8],c=r==null?gd(a)&&um:r!=s&&(a.type&3)!==0,l=i&ve.Host&&o===a,u=Wu(a,s,n,c,l);return u!==null?Do(e,s,u,a):gr}function Wu(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,h=i?a+u:l;for(let f=d;f<h;f++){let v=s[f];if(f<c&&n===v||f>=c&&v.type===n)return f}if(i){let f=s[c];if(f&&zr(f)&&f.type===n)return c}return null}function Do(t,e,n,r){let i=t[n],o=e.data;if($R(i)){let s=i;s.resolving&&dR(uR(o[n]));let a=PE(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?On(s.injectImpl):null,u=DI(t,r,ve.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&UR(n,o[n],e)}finally{l!==null&&On(l),PE(a),s.resolving=!1,MI()}}return i}function YR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Xa)?t[Xa]:void 0;return typeof e=="number"?e>=0?e&rC:XR:e}function OE(t,e,n){let r=1<<t;return!!(n[e+(t>>iC)]&r)}function RE(t,e){return!(t&ve.Self)&&!(t&ve.Host&&e)}var Eo=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return cC(this._tNode,this._lView,e,Cd(r),n)}};function XR(){return new Eo(fn(),Ae())}function er(t){return lc(()=>{let e=t.prototype.constructor,n=e[Yu]||hm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Yu]||hm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function hm(t){return LI(t)?()=>{let e=hm(tn(t));return e&&e()}:qs(t)}function JR(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ne]&2048&&!(s[ne]&512);){let a=lC(o,s,n,r|ve.Self,gr);if(a!==gr)return a;let c=o.parent;if(!c){let l=s[gI];if(l){let u=l.get(n,gr,r);if(u!==gr)return u}c=uC(s),s=s[Xs]}o=c}return i}function uC(t){let e=t[ge],n=e.type;return n===2?e.declTNode:n===1?t[Jn]:null}function NE(t,e=null,n=null,r){let i=dC(t,e,n,r);return i.resolveInjectorInitializers(),i}function dC(t,e=null,n=null,r,i=new Set){let o=[n||hn,fc(t)];return r=r||(typeof t=="object"?void 0:nn(t)),new oc(o,e||Td(),r||null,i)}var Xe=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return NE({name:""},i,r,"");{let o=r.name??"";return NE({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=ic,e.NULL=new td,e.\u0275prov=V({token:e,providedIn:"any",factory:()=>L(qI)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),ZR="ngOriginalError";function Up(t){return t[ZR]}var Er=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Up(e);for(;n&&Up(n);)n=Up(n);return n||null}},hC=new G("",{providedIn:"root",factory:()=>O(Er).handleError.bind(void 0)});var fC=!1,eN=new G("",{providedIn:"root",factory:()=>fC}),ju;function tN(){if(ju===void 0&&(ju=null,_o.trustedTypes))try{ju=_o.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ju}function Sd(t){return tN()?.createHTML(t)||t}var qr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${oI})`}},fm=class extends qr{getTypeName(){return"HTML"}},pm=class extends qr{getTypeName(){return"Style"}},mm=class extends qr{getTypeName(){return"Script"}},gm=class extends qr{getTypeName(){return"URL"}},vm=class extends qr{getTypeName(){return"ResourceURL"}};function tr(t){return t instanceof qr?t.changingThisBreaksApplicationSecurity:t}function Po(t,e){let n=nN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${oI})`)}return n===e}function nN(t){return t instanceof qr&&t.getTypeName()||null}function pC(t){return new fm(t)}function mC(t){return new pm(t)}function gC(t){return new mm(t)}function vC(t){return new gm(t)}function yC(t){return new vm(t)}function rN(t){let e=new _m(t);return iN()?new ym(e):e}var ym=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Sd(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},_m=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Sd(e),n}};function iN(){try{return!!new window.DOMParser().parseFromString(Sd(""),"text/html")}catch{return!1}}var oN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ad(t){return t=String(t),t.match(oN)?t:"unsafe:"+t}function Jr(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function pc(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var _C=Jr("area,br,col,hr,img,wbr"),wC=Jr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),EC=Jr("rp,rt"),sN=pc(EC,wC),aN=pc(wC,Jr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cN=pc(EC,Jr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),kE=pc(_C,aN,cN,sN),IC=Jr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lN=Jr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),uN=Jr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),dN=pc(IC,lN,uN),hN=Jr("script,style,template"),wm=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!kE.hasOwnProperty(n))return this.sanitizedSomething=!0,!hN.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!dN.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;IC[a]&&(c=Ad(c)),this.buf.push(" ",s,'="',FE(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();kE.hasOwnProperty(n)&&!_C.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(FE(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},fN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pN=/([^\#-~ |!])/g;function FE(t){return t.replace(/&/g,"&amp;").replace(fN,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(pN,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Uu;function CC(t,e){let n=null;try{Uu=Uu||rN(t);let r=e?String(e):"";n=Uu.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Uu.getInertBodyElement(r)}while(r!==o);let a=new wm().sanitizeChildren(VE(n)||n);return Sd(a)}finally{if(n){let r=VE(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function VE(t){return"content"in t&&mN(t)?t.content:null}function mN(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Zr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Zr||{});function pn(t){let e=gN();return e?e.sanitize(Zr.URL,t)||"":Po(t,"URL")?tr(t):Ad(rc(t))}function gN(){let t=Ae();return t&&t[$r].sanitizer}var vN=/^>|^->|<!--|-->|--!>|<!-$/g,yN=/(<|>)/g,_N="\u200B$1\u200B";function wN(t){return t.replace(vN,e=>e.replace(yN,_N))}var bC=new Map,EN=0;function IN(){return EN++}function CN(t){bC.set(t[md],t)}function bN(t){bC.delete(t[md])}var LE="__ngContext__";function Mi(t,e){wo(e)?(t[LE]=e[md],CN(e)):t[LE]=e}function TC(t){return t.ownerDocument.defaultView}function mc(t){return t.ownerDocument}function DC(t){return t instanceof Function?t():t}var Gr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Gr||{}),TN;function yg(t,e){return TN(t,e)}function Ls(t,e,n,r,i){if(r!=null){let o,s=!1;Qr(r)?o=r:wo(r)&&(s=!0,r=r[Ir]);let a=wr(r);t===0&&n!==null?i==null?PC(e,n,a):od(e,n,a,i||null,!0):t===1&&n!==null?od(e,n,a,i||null,!0):t===2?HN(e,a,s):t===3&&e.destroyNode(a),o!=null&&qN(e,t,o,n,i)}}function DN(t,e){return t.createText(e)}function SN(t,e,n){t.setValue(e,n)}function AN(t,e){return t.createComment(wN(e))}function SC(t,e,n){return t.createElement(e,n)}function xN(t,e){AC(t,e),e[Ir]=null,e[Jn]=null}function MN(t,e,n,r,i,o){r[Ir]=i,r[Jn]=e,Md(t,r,n,1,i,o)}function AC(t,e){Md(t,e,e[lt],2,null,null)}function PN(t){let e=t[ec];if(!e)return Bp(t[ge],t);for(;e;){let n=null;if(wo(e))n=e[ec];else{let r=e[In];r&&(n=r)}if(!n){for(;e&&!e[Qn]&&e!==t;)wo(e)&&Bp(e[ge],e),e=e[Lt];e===null&&(e=t),wo(e)&&Bp(e[ge],e),n=e&&e[Qn]}e=n}}function ON(t,e,n,r){let i=In+r,o=n.length;r>0&&(n[i-1][Qn]=e),r<o-In?(e[Qn]=n[i],OI(n,In+r,e)):(n.push(e),e[Qn]=null),e[Lt]=n;let s=e[uc];s!==null&&n!==s&&RN(s,e);let a=e[Hr];a!==null&&a.insertView(t),Zp(e),e[ne]|=128}function RN(t,e){let n=t[Hs],i=e[Lt][Lt][yr];e[yr]!==i&&(t[ne]|=Zm.HasTransplantedViews),n===null?t[Hs]=[e]:n.push(e)}function xC(t,e){let n=t[Hs],r=n.indexOf(e);n.splice(r,1)}function Em(t,e){if(t.length<=In)return;let n=In+e,r=t[n];if(r){let i=r[uc];i!==null&&i!==t&&xC(i,r),e>0&&(t[n-1][Qn]=r[Qn]);let o=Zu(t,In+e);xN(r[ge],r);let s=o[Hr];s!==null&&s.detachView(o[ge]),r[Lt]=null,r[Qn]=null,r[ne]&=-129}return r}function MC(t,e){if(!(e[ne]&256)){let n=e[lt];n.destroyNode&&Md(t,e,n,3,null,null),PN(e)}}function Bp(t,e){if(e[ne]&256)return;let n=xe(null);try{e[ne]&=-129,e[ne]|=256,e[Io]&&hp(e[Io]),kN(t,e),NN(t,e),e[ge].type===1&&e[lt].destroy();let r=e[uc];if(r!==null&&Qr(e[Lt])){r!==e[Lt]&&xC(r,e);let i=e[Hr];i!==null&&i.detachView(t)}bN(e)}finally{xe(n)}}function NN(t,e){let n=t.cleanup,r=e[Za];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Za]=null);let i=e[Ai];if(i!==null){e[Ai]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function kN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof To)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];mr(4,a,c);try{c.call(a)}finally{mr(5,a,c)}}else{mr(4,i,o);try{o.call(i)}finally{mr(5,i,o)}}}}}function FN(t,e,n){return VN(t,e.parent,n)}function VN(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Ir];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===vr.None||o===vr.Emulated)return null}return Zn(r,n)}}function od(t,e,n,r,i){t.insertBefore(e,n,r,i)}function PC(t,e,n){t.appendChild(e,n)}function jE(t,e,n,r,i){r!==null?od(t,e,n,r,i):PC(t,e,n)}function LN(t,e,n,r){t.removeChild(e,n,r)}function _g(t,e){return t.parentNode(e)}function jN(t,e){return t.nextSibling(e)}function UN(t,e,n){return $N(t,e,n)}function BN(t,e,n){return t.type&40?Zn(t,n):null}var $N=BN,UE;function xd(t,e,n,r){let i=FN(t,r,e),o=e[lt],s=r.parent||e[Jn],a=UN(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)jE(o,i,n[c],a,!1);else jE(o,i,n,a,!1);UE!==void 0&&UE(o,r,e,n,i)}function Ku(t,e){if(e!==null){let n=e.type;if(n&3)return Zn(e,t);if(n&4)return Im(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ku(t,r);{let i=t[e.index];return Qr(i)?Im(-1,i):wr(i)}}else{if(n&32)return yg(e,t)()||wr(t[e.index]);{let r=OC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=nc(t[yr]);return Ku(i,r)}else return Ku(t,e.next)}}}return null}function OC(t,e){if(e!==null){let r=t[yr][Jn],i=e.projection;return r.projection[i]}return null}function Im(t,e){let n=In+t+1;if(n<e.length){let r=e[n],i=r[ge].firstChild;if(i!==null)return Ku(r,i)}return e[Co]}function HN(t,e,n){let r=_g(t,e);r&&LN(t,r,e,n)}function wg(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Mi(wr(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)wg(t,e,n.child,r,i,o,!1),Ls(e,t,i,a,o);else if(c&32){let l=yg(n,r),u;for(;u=l();)Ls(e,t,i,u,o);Ls(e,t,i,a,o)}else c&16?zN(t,e,r,n,i,o):Ls(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Md(t,e,n,r,i,o){wg(n,r,t.firstChild,e,i,o,!1)}function zN(t,e,n,r,i,o){let s=n[yr],c=s[Jn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Ls(e,t,i,u,o)}else{let l=c,u=s[Lt];RI(r)&&(l.flags|=128),wg(t,e,l,u,i,o,!0)}}function qN(t,e,n,r,i){let o=n[Co],s=wr(n);o!==s&&Ls(e,t,r,o,i);for(let a=In;a<n.length;a++){let c=n[a];Md(c[ge],c,t,e,r,o)}}function GN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Gr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Gr.Important),t.setStyle(n,r,i,o))}}function WN(t,e,n){t.setAttribute(e,"style",n)}function RC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function NC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Jp(t,e,r),i!==null&&RC(t,e,i),o!==null&&WN(t,e,o)}var nr={};function y(t=1){kC(Tt(),Ae(),Ri()+t,!1)}function kC(t,e,n,r){if(!r)if((e[ne]&3)===3){let o=t.preOrderCheckHooks;o!==null&&qu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Gu(e,o,0,n)}bo(n)}function x(t,e=ve.Default){let n=Ae();if(n===null)return L(t,e);let r=fn();return cC(r,n,tn(t),e)}function FC(t,e,n,r,i,o){let s=xe(null);try{let a=null;i&re.SignalBased&&(a=e[r][wi]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&re.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):XI(e,a,r,o)}finally{xe(s)}}function KN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)bo(~i);else{let o=i,s=n[++r],a=n[++r];WO(s,o);let c=e[o];a(2,c)}}}finally{bo(-1)}}function Pd(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Ir]=i,d[ne]=r|4|128|8|64,(l!==null||t&&t[ne]&2048)&&(d[ne]|=2048),_I(d),d[Lt]=d[Xs]=t,d[Yn]=n,d[$r]=s||t&&t[$r],d[lt]=a||t&&t[lt],d[$s]=c||t&&t[$s]||null,d[Jn]=o,d[md]=IN(),d[Xu]=u,d[gI]=l,d[yr]=e.type==2?t[yr]:d,d}function gc(t,e,n,r,i){let o=t.data[e];if(o===null)o=QN(t,e,n,r,i),GO()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=BO();o.injectorIndex=s===null?-1:s.injectorIndex}return Mo(o,!0),o}function QN(t,e,n,r,i){let o=II(),s=rg(),a=s?o:o&&o.parent,c=t.data[e]=tk(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function VC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function LC(t,e,n,r,i){let o=Ri(),s=r&2;try{bo(-1),s&&e.length>_r&&kC(t,e,_r,!1),mr(s?2:0,i),n(r,i)}finally{bo(o),mr(s?3:1,i)}}function Eg(t,e,n){if(eg(e)){let r=xe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{xe(r)}}}function Ig(t,e,n){EI()&&(ak(t,e,n,Zn(n,e)),(n.flags&64)===64&&BC(t,e,n))}function Cg(t,e,n=Zn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function jC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=bg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function bg(t,e,n,r,i,o,s,a,c,l,u){let d=_r+r,h=d+i,f=YN(d,h),v=typeof l=="function"?l():l;return f[ge]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:u}}function YN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:nr);return n}function XN(t,e,n,r){let o=r.get(eN,fC)||n===vr.ShadowDom,s=t.selectRootElement(e,o);return JN(s),s}function JN(t){ZN(t)}var ZN=()=>null;function ek(t,e,n,r){let i=zC(e);i.push(n),t.firstCreatePass&&qC(t).push(r,i.length-1)}function tk(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return LO()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function BE(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=re.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?$E(r,n,l,a,c):$E(r,n,l,a)}return r}function $E(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function nk(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],h=n?n.get(d):null,f=h?h.inputs:null,v=h?h.outputs:null;c=BE(0,d.inputs,u,c,f),l=BE(1,d.outputs,u,l,v);let I=c!==null&&s!==null&&!lI(e)?gk(c,u,s):null;a.push(I)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function rk(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Tg(t,e,n,r,i,o,s,a){let c=Zn(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Sg(t,n,u,r,i),gd(e)&&ik(n,e.index)):e.type&3?(r=rk(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function ik(t,e){let n=Oi(e,t);n[ne]&16||(n[ne]|=64)}function Dg(t,e,n,r){if(EI()){let i=r===null?null:{"":-1},o=lk(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&UC(t,e,n,s,i,a),i&&uk(n,r,i)}n.mergedAttrs=Ja(n.mergedAttrs,n.attrs)}function UC(t,e,n,r,i,o){for(let l=0;l<r.length;l++)dm(id(n,e),t,r[l].type);hk(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=VC(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=Ja(n.mergedAttrs,u.hostAttrs),fk(t,n,e,c,u),dk(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}nk(t,n,o)}function ok(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;sk(s)!=a&&s.push(a),s.push(n,r,o)}}function sk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function ak(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;gd(n)&&pk(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||id(n,e),Mi(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=Do(e,t,a,n);if(Mi(l,e),s!==null&&mk(e,a-i,l,c,n,s),zr(c)){let u=Oi(n.index,e);u[Yn]=Do(e,t,a,n)}}}function BC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=KO();try{bo(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];em(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&ck(c,l)}}finally{bo(-1),em(s)}}function ck(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function lk(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(pO(e,s.selectors,!1))if(r||(r=[]),zr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Cm(t,e,c)}else r.unshift(s),Cm(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Cm(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function uk(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new P(-301,!1);r.push(e[i],o)}}}function dk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;zr(e)&&(n[""]=t)}}function hk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function fk(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=qs(i.type,!0)),s=new To(o,zr(i),x);t.blueprint[r]=s,n[r]=s,ok(t,e,r,VC(t,n,i.hostVars,nr),i)}function pk(t,e,n){let r=Zn(e,t),i=jC(n),o=t[$r].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Od(t,Pd(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function mk(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];FC(r,n,c,l,u,d)}}function gk(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function $C(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function HC(t,e){let n=t.contentQueries;if(n!==null){let r=xe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];og(o),a.contentQueries(2,e[s],s)}}}finally{xe(r)}}}function Od(t,e){return t[ec]?t[bE][Qn]=e:t[ec]=e,t[bE]=e,e}function bm(t,e,n){og(0);let r=xe(null);try{e(t,n)}finally{xe(r)}}function zC(t){return t[Za]||(t[Za]=[])}function qC(t){return t.cleanup||(t.cleanup=[])}function vk(t,e,n){return(t===null||zr(t))&&(n=AO(n[e.index])),n[lt]}function GC(t,e){let n=t[$s],r=n?n.get(Er,null):null;r&&r.handleError(e)}function Sg(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];FC(u,l,r,a,c,i)}}function WC(t,e,n){let r=vI(e,t);SN(t[lt],r,n)}function yk(t,e){let n=Oi(e,t),r=n[ge];_k(r,n);let i=n[Ir];i!==null&&n[Xu]===null&&(n[Xu]=mg(i,n[$s])),Ag(r,n,n[Yn])}function _k(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Ag(t,e,n){sg(e);try{let r=t.viewQuery;r!==null&&bm(1,r,n);let i=t.template;i!==null&&LC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Hr]?.finishViewCreation(t),t.staticContentQueries&&HC(t,e),t.staticViewQueries&&bm(2,t.viewQuery,n);let o=t.components;o!==null&&wk(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ne]&=-5,ag()}}function wk(t,e){for(let n=0;n<e.length;n++)yk(t,e[n])}function Ek(t,e,n,r){let i=xe(null);try{let o=e.tView,a=t[ne]&4096?4096:16,c=Pd(t,o,n,a,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),l=t[e.index];c[uc]=l;let u=t[Hr];return u!==null&&(c[Hr]=u.createEmbeddedView(o)),Ag(o,c,n),c}finally{xe(i)}}function HE(t,e){return!e||e.firstChild===null||RI(t)}function Ik(t,e,n,r=!0){let i=e[ge];if(ON(i,e,t,n),r){let s=Im(n,t),a=e[lt],c=_g(a,t[Co]);c!==null&&MN(i,t[Jn],a,e,c,s)}let o=e[Xu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function sd(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(wr(o)),Qr(o)&&Ck(o,r);let s=n.type;if(s&8)sd(t,e,n.child,r);else if(s&32){let a=yg(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=OC(e,n);if(Array.isArray(a))r.push(...a);else{let c=nc(e[yr]);sd(c[ge],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Ck(t,e){for(let n=In;n<t.length;n++){let r=t[n],i=r[ge].firstChild;i!==null&&sd(r[ge],r,i,e)}t[Co]!==t[Ir]&&e.push(t[Co])}var KC=[];function bk(t){return t[Io]??Tk(t)}function Tk(t){let e=KC.pop()??Object.create(Sk);return e.lView=t,e}function Dk(t){t.lView[Io]!==t&&(t.lView=null,KC.push(t))}var Sk=Se(R({},uu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{tc(t.lView)},consumerOnSignalRead(){this.lView[Io]=this}});function QC(t){return XC(t[ec])}function YC(t){return XC(t[Qn])}function XC(t){for(;t!==null&&!Qr(t);)t=t[Qn];return t}var JC=100;function ZC(t,e=!0,n=0){let r=t[$r],i=r.rendererFactory,o=!1;o||i.begin?.();try{Ak(t,n)}catch(s){throw e&&GC(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Ak(t,e){Tm(t,e);let n=0;for(;ng(t);){if(n===JC)throw new P(103,!1);n++,Tm(t,1)}}function xk(t,e,n,r){let i=e[ne];if((i&256)===256)return;let o=!1;!o&&e[$r].inlineEffectRunner?.flush(),sg(e);let s=null,a=null;!o&&Mk(t)&&(a=bk(e),s=up(a));try{_I(e),qO(t.bindingStartIndex),n!==null&&LC(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&qu(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Gu(e,d,0,null),Lp(e,0)}if(Pk(e),eb(e,0),t.contentQueries!==null&&HC(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&qu(e,d)}else{let d=t.contentHooks;d!==null&&Gu(e,d,1),Lp(e,1)}KN(t,e);let l=t.components;l!==null&&nb(e,l,0);let u=t.viewQuery;if(u!==null&&bm(2,u,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&qu(e,d)}else{let d=t.viewHooks;d!==null&&Gu(e,d,2),Lp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Hu]){for(let d of e[Hu])d();e[Hu]=null}o||(e[ne]&=-73)}catch(c){throw tc(e),c}finally{a!==null&&(dp(a,s),Dk(a)),ag()}}function Mk(t){return t.type!==2}function eb(t,e){for(let n=QC(t);n!==null;n=YC(n))for(let r=In;r<n.length;r++){let i=n[r];tb(i,e)}}function Pk(t){for(let e=QC(t);e!==null;e=YC(e)){if(!(e[ne]&Zm.HasTransplantedViews))continue;let n=e[Hs];for(let r=0;r<n.length;r++){let i=n[r],o=i[Lt];OO(i)}}}function Ok(t,e,n){let r=Oi(e,t);tb(r,n)}function tb(t,e){tg(t)&&Tm(t,e)}function Tm(t,e){let r=t[ge],i=t[ne],o=t[Io],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&du(o)),o&&(o.dirty=!1),t[ne]&=-9217,s)xk(r,t,r.template,t[Yn]);else if(i&8192){eb(t,1);let a=r.components;a!==null&&nb(t,a,1)}}function nb(t,e,n){for(let r=0;r<e.length;r++)Ok(t,e[r],n)}function xg(t){for(t[$r].changeDetectionScheduler?.notify();t;){t[ne]|=64;let e=nc(t);if(CO(t)&&!e)return t;t=e}return null}var So=class{get rootNodes(){let e=this._lView,n=e[ge];return sd(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Yn]}set context(e){this._lView[Yn]=e}get destroyed(){return(this._lView[ne]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Lt];if(Qr(e)){let n=e[Ju],r=n?n.indexOf(this):-1;r>-1&&(Em(e,r),Zu(n,r))}this._attachedToViewContainer=!1}MC(this._lView[ge],this._lView)}onDestroy(e){wI(this._lView,e)}markForCheck(){xg(this._cdRefInjectingView||this._lView)}detach(){this._lView[ne]&=-129}reattach(){Zp(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,ZC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,AC(this._lView[ge],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=e,Zp(this._lView)}},Xn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=kk;let t=e;return t})(),Rk=Xn,Nk=class extends Rk{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Ek(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new So(i)}};function kk(){return Mg(fn(),Ae())}function Mg(t,e){return t.type&4?new Nk(e,t,Js(t,e)):null}var b7=new RegExp(`^(\\d+)*(${IR}|${ER})*(.*)`);var Fk=()=>null;function zE(t,e){return Fk(t,e)}var sc=class{},Dm=class{},ad=class{};function Vk(t){let e=Error(`No component factory found for ${nn(t)}.`);return e[Lk]=t,e}var Lk="ngComponent";var Sm=class{resolveComponentFactory(e){throw Vk(e)}},Rd=(()=>{let e=class e{};e.NULL=new Sm;let t=e;return t})(),Ao=class{},Oo=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>jk();let t=e;return t})();function jk(){let t=Ae(),e=fn(),n=Oi(e.index,t);return(wo(n)?n:t)[lt]}var Uk=(()=>{let e=class e{};e.\u0275prov=V({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),$p={},rb=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Bk,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Am=class extends rb{constructor(e){super(),this._lView=e}onDestroy(e){return wI(this._lView,e),()=>NO(this._lView,e)}};function Bk(){return new Am(Ae())}var qE=new Set;function Ro(t){qE.has(t)||(qE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function GE(...t){}function $k(){let t=typeof _o.requestAnimationFrame=="function",e=_o[t?"requestAnimationFrame":"setTimeout"],n=_o[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ie=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1),typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=$k().nativeRequestAnimationFrame,qk(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new P(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Hk,GE,GE);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Hk={};function Pg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function zk(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(_o,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,xm(t),t.isCheckStableRunning=!0,Pg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),xm(t))}function qk(t){let e=()=>{zk(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(Gk(a))return n.invokeTask(i,o,s,a);try{return WE(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),KE(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return WE(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),KE(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,xm(t),Pg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function xm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function WE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function KE(t){t._nesting--,Pg(t)}function Gk(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var ib=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=V({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function cd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Xp(i,a);else if(o==2){let c=a,l=e[++s];r=Xp(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var ld=class extends Rd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=xi(e);return new Ks(n,this.ngModule)}};function QE(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function Wk(t){let e=t.toLowerCase();return e==="svg"?bO:e==="math"?TO:null}var Mm=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Cd(r);let i=this.injector.get(e,$p,r);return i!==$p||n===$p?i:this.parentInjector.get(e,n,r)}},Ks=class extends ad{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=QE(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return QE(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=yO(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=xe(null);try{i=i||this.ngModule;let s=i instanceof bt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Mm(e,s):e,c=a.get(Ao,null);if(c===null)throw new P(407,!1);let l=a.get(Uk,null),u=a.get(ib,null),d=a.get(sc,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",I=r?XN(f,r,this.componentDef.encapsulation,a):SC(f,v,Wk(v)),T=512;this.componentDef.signals?T|=4096:this.componentDef.onPush||(T|=16);let D=null;I!==null&&(D=mg(I,a,!0));let $=bg(0,null,null,1,0,null,null,null,null,null,null),z=Pd(null,$,null,T,null,null,h,f,a,null,D);sg(z);let p,X;try{let M=this.componentDef,W,ue=null;M.findHostDirectiveDefs?(W=[],ue=new Map,M.findHostDirectiveDefs(M,W,ue),W.push(M)):W=[M];let Ee=Kk(z,I),be=Qk(Ee,I,M,W,z,h,f);X=yI($,_r),I&&Jk(f,M,I,r),n!==void 0&&Zk(X,this.ngContentSelectors,n),p=Xk(be,M,W,ue,z,[e1]),Ag($,z,null)}finally{ag()}return new Pm(this.componentType,p,Js(X,z),z,X)}finally{xe(o)}}},Pm=class extends Dm{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new So(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Sg(o[ge],o,i,e,n),this.previousInputValues.set(e,n);let s=Oi(this._tNode.index,o);xg(s)}}get injector(){return new Eo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Kk(t,e){let n=t[ge],r=_r;return t[r]=e,gc(n,r,2,"#host",null)}function Qk(t,e,n,r,i,o,s){let a=i[ge];Yk(r,t,e,s);let c=null;e!==null&&(c=mg(e,i[$s]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Pd(i,jC(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Cm(a,t,r.length-1),Od(i,d),i[t.index]=d}function Yk(t,e,n,r){for(let i of t)e.mergedAttrs=Ja(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(cd(e,e.mergedAttrs,!0),n!==null&&NC(r,n,e))}function Xk(t,e,n,r,i,o){let s=fn(),a=i[ge],c=Zn(s,i);UC(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,h=Do(i,a,d,s);Mi(h,i)}BC(a,i,s),c&&Mi(c,i);let l=Do(i,a,s.directiveStart+s.componentOffset,s);if(t[Yn]=i[Yn]=l,o!==null)for(let u of o)u(l,e);return Eg(a,s,i),l}function Jk(t,e,n,r){if(r)Jp(t,n,["ng-version","17.2.4"]);else{let{attrs:i,classes:o}=_O(e.selectors[0]);i&&Jp(t,n,i),o&&o.length>0&&RC(t,n,o.join(" "))}}function Zk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function e1(){let t=fn();Dd(Ae()[ge],t)}var jt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=t1;let t=e;return t})();function t1(){let t=fn();return sb(t,Ae())}var n1=jt,ob=class extends n1{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Js(this._hostTNode,this._hostLView)}get injector(){return new Eo(this._hostTNode,this._hostLView)}get parentInjector(){let e=vg(this._hostTNode,this._hostLView);if(nC(e)){let n=rd(e,this._hostLView),r=nd(e),i=n[ge].data[r+8];return new Eo(i,n)}else return new Eo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=YE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-In}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=zE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,HE(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!FR(e),a;if(s)a=n;else{let v=n||{};a=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}let c=s?e:new Ks(xi(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let I=(s?l:this.parentInjector).get(bt,null);I&&(o=I)}let u=xi(c.componentType??{}),d=zE(this._lContainer,u?.id??null),h=d?.firstChild??null,f=c.create(l,i,h,o);return this.insertImpl(f.hostView,a,HE(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(PO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Lt],l=new ob(c,c[Jn],c[Lt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Ik(s,i,o,r),e.attachToViewContainerRef(),OI(Hp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=YE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Em(this._lContainer,n);r&&(Zu(Hp(this._lContainer),n),MC(r[ge],r))}detach(e){let n=this._adjustIndex(e,-1),r=Em(this._lContainer,n);return r&&Zu(Hp(this._lContainer),n)!=null?new So(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function YE(t){return t[Ju]}function Hp(t){return t[Ju]||(t[Ju]=[])}function sb(t,e){let n,r=e[t.index];return Qr(r)?n=r:(n=$C(r,e,null,t),e[t.index]=n,Od(e,n)),i1(n,e,t,r),new ob(n,t,e)}function r1(t,e){let n=t[lt],r=n.createComment(""),i=Zn(e,t),o=_g(n,i);return od(n,o,r,jN(n,i),!1),r}var i1=a1,o1=()=>!1;function s1(t,e,n){return o1(t,e,n)}function a1(t,e,n,r){if(t[Co])return;let i;n.type&8?i=wr(r):i=r1(e,n),t[Co]=i}var Om=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Rm=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Og(e,n).matches!==null&&this.queries[n].setDirty()}},Nm=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=m1(e):this.predicate=e}},km=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Fm=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,c1(n,o)),this.matchTNodeWithReadOption(e,n,Wu(n,e,o,!1,!1))}else r===Xn?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Wu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===gt||i===jt||i===Xn&&n.type&4)this.addMatch(n.index,-2);else{let o=Wu(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function c1(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function l1(t,e){return t.type&11?Js(t,e):t.type&4?Mg(t,e):null}function u1(t,e,n,r){return n===-1?l1(e,t):n===-2?d1(t,e,r):Do(t,t[ge],n,e)}function d1(t,e,n){if(n===gt)return Js(e,t);if(n===Xn)return Mg(e,t);if(n===jt)return sb(e,t)}function ab(t,e,n,r){let i=e[Hr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(u1(e,u,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Vm(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=ab(t,e,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=In;d<u.length;d++){let h=u[d];h[uc]===h[Lt]&&Vm(h[ge],h,l,r)}if(u[Hs]!==null){let d=u[Hs];for(let h=0;h<d.length;h++){let f=d[h];Vm(f[ge],f,l,r)}}}}}return r}function h1(t,e){return t[Hr].queries[e].queryList}function f1(t,e,n){let r=new tm((n&4)===4);return ek(t,e,r,r.destroy),(e[Hr]??=new Rm).queries.push(new Om(r))-1}function p1(t,e,n){let r=Tt();return r.firstCreatePass&&(g1(r,new Nm(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),f1(r,Ae(),e)}function m1(t){return t.split(",").map(e=>e.trim())}function g1(t,e,n){t.queries===null&&(t.queries=new km),t.queries.track(new Fm(e,n))}function Og(t,e){return t.queries.getByIndex(e)}function v1(t,e){let n=t[ge],r=Og(n,e);return r.crossesNgTemplate?Vm(n,t,e,[]):ab(n,t,r,e)}function y1(t){return typeof t=="function"&&t[wi]!==void 0}function ei(t,e){Ro("NgSignals");let n=$0(t),r=n[wi];return e?.equal&&(r.equal=e.equal),n.set=i=>fp(r,i),n.update=i=>H0(r,i),n.asReadonly=_1.bind(n),n}function _1(){let t=this[wi];if(t.readonlyFn===void 0){let e=()=>this();e[wi]=t,t.readonlyFn=e}return t.readonlyFn}function cb(t){return y1(t)&&typeof t.set=="function"}function w1(t){return Object.getPrototypeOf(t.prototype).constructor}function $e(t){let e=w1(t.type),n=!0,r=[t];for(;e;){let i;if(zr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new P(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Bu(t.inputs),s.inputTransforms=Bu(t.inputTransforms),s.declaredInputs=Bu(t.declaredInputs),s.outputs=Bu(t.outputs);let a=i.hostBindings;a&&T1(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&C1(t,c),l&&b1(t,l),E1(t,i),rO(t.outputs,i.outputs),zr(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===$e&&(n=!1)}}e=Object.getPrototypeOf(e)}I1(r)}function E1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function I1(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ja(i.hostAttrs,n=Ja(n,i.hostAttrs))}}function Bu(t){return t===Bs?{}:t===hn?[]:t}function C1(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function b1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function T1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Nd(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Pi=class{},ac=class{};var Lm=class extends Pi{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ld(this);let i=fI(e);this._bootstrapComponents=DC(i.bootstrap),this._r3Injector=dC(e,n,[{provide:Pi,useValue:this},{provide:Rd,useValue:this.componentFactoryResolver},...r],nn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},jm=class extends ac{constructor(e){super(),this.moduleType=e}create(e){return new Lm(this.moduleType,e,[])}};var ud=class extends Pi{constructor(e){super(),this.componentFactoryResolver=new ld(this),this.instance=null;let n=new oc([...e.providers,{provide:Pi,useValue:this},{provide:Rd,useValue:this.componentFactoryResolver}],e.parent||Td(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Rg(t,e,n=null){return new ud({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var No=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Vt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function lb(t){return S1(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function D1(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function S1(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function A1(t,e,n){return t[e]=n}function Wr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function x1(t,e,n,r){let i=Wr(t,e,n);return Wr(t,e+1,r)||i}function M1(t,e,n,r,i,o,s,a,c){let l=e.consts,u=gc(e,t,4,s||null,zs(l,a));Dg(e,n,u,zs(l,c)),Dd(e,u);let d=u.tView=bg(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function U(t,e,n,r,i,o,s,a){let c=Ae(),l=Tt(),u=t+_r,d=l.firstCreatePass?M1(u,l,c,e,n,r,i,o,s):l.data[u];Mo(d,!1);let h=P1(l,c,d,t);_d()&&xd(l,c,h,d),Mi(h,c);let f=$C(h,c,h,d);return c[u]=f,Od(c,f),s1(f,d,c),vd(d)&&Ig(l,c,d),s!=null&&Cg(c,d,a),U}var P1=O1;function O1(t,e,n,r){return wd(!0),e[lt].createComment("")}function R1(t,e,n,r){return Wr(t,yd(),n)?e+rc(n)+r:nr}function N1(t,e,n,r,i,o){let s=zO(),a=x1(t,s,n,i);return ig(2),a?e+rc(n)+r+rc(i)+o:nr}function $u(t,e){return t<<17|e<<2}function xo(t){return t>>17&32767}function k1(t){return(t&2)==2}function F1(t,e){return t&131071|e<<17}function Um(t){return t|2}function Qs(t){return(t&131068)>>2}function zp(t,e){return t&-131069|e<<2}function V1(t){return(t&1)===1}function Bm(t){return t|1}function L1(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=xo(s),c=Qs(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||dc(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let h=xo(t[a+1]);t[r+1]=$u(h,a),h!==0&&(t[h+1]=zp(t[h+1],r)),t[a+1]=F1(t[a+1],r)}else t[r+1]=$u(a,0),a!==0&&(t[a+1]=zp(t[a+1],r)),a=r;else t[r+1]=$u(c,0),a===0?a=r:t[c+1]=zp(t[c+1],r),c=r;l&&(t[r+1]=Um(t[r+1])),XE(t,u,r,!0),XE(t,u,r,!1),j1(e,u,t,r,o),s=$u(a,c),o?e.classBindings=s:e.styleBindings=s}function j1(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&dc(o,e)>=0&&(n[r+1]=Bm(n[r+1]))}function XE(t,e,n,r){let i=t[n+1],o=e===null,s=r?xo(i):Qs(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];U1(c,e)&&(a=!0,t[s+1]=r?Bm(l):Um(l)),s=r?xo(l):Qs(l)}a&&(t[n+1]=r?Um(i):Bm(i))}function U1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?dc(t,e)>=0:!1}var mt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ub(t){return t.substring(mt.key,mt.keyEnd)}function B1(t){return t.substring(mt.value,mt.valueEnd)}function $1(t){return fb(t),db(t,Ys(t,0,mt.textEnd))}function db(t,e){let n=mt.textEnd;return n===e?-1:(e=mt.keyEnd=z1(t,mt.key=e,n),Ys(t,e,n))}function H1(t){return fb(t),hb(t,Ys(t,0,mt.textEnd))}function hb(t,e){let n=mt.textEnd,r=mt.key=Ys(t,e,n);return n===r?-1:(r=mt.keyEnd=q1(t,r,n),r=JE(t,r,n,58),r=mt.value=Ys(t,r,n),r=mt.valueEnd=G1(t,r,n),JE(t,r,n,59))}function fb(t){mt.key=0,mt.keyEnd=0,mt.value=0,mt.valueEnd=0,mt.textEnd=t.length}function Ys(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function z1(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function q1(t,e,n){let r;for(;e<n&&((r=t.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function JE(t,e,n,r){return e=Ys(t,e,n),e<n&&e++,e}function G1(t,e,n){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<n;){let c=t.charCodeAt(s++);if(c===59)return a;c===34||c===39?a=s=ZE(t,c,s,n):e===s-4&&o===85&&i===82&&r===76&&c===40?a=s=ZE(t,41,s,n):c>32&&(a=s),o=i,i=r,r=c&-33}return a}function ZE(t,e,n,r){let i=-1,o=n;for(;o<r;){let s=t.charCodeAt(o++);if(s==e&&i!==92)return o;s==92&&i===92?i=0:i=s}throw new Error}function w(t,e,n){let r=Ae(),i=yd();if(Wr(r,i,e)){let o=Tt(),s=cg();Tg(o,s,r,t,e,r[lt],n,!1)}return w}function $m(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Sg(t,n,o[s],s,r)}function Ut(t,e,n){return gb(t,e,n,!1),Ut}function Fe(t,e){return gb(t,e,null,!0),Fe}function pb(t){vb(wb,W1,t,!1)}function W1(t,e){for(let n=H1(e);n>=0;n=hb(e,n))wb(t,ub(e),B1(e))}function mb(t){vb(eF,K1,t,!0)}function K1(t,e){for(let n=$1(e);n>=0;n=db(e,n))Ed(t,ub(e),!0)}function gb(t,e,n,r){let i=Ae(),o=Tt(),s=ig(2);if(o.firstUpdatePass&&_b(o,t,s,r),e!==nr&&Wr(i,s,e)){let a=o.data[Ri()];Eb(o,a,i,i[lt],t,i[s+1]=nF(e,n),r,s)}}function vb(t,e,n,r){let i=Tt(),o=ig(2);i.firstUpdatePass&&_b(i,null,o,r);let s=Ae();if(n!==nr&&Wr(s,o,n)){let a=i.data[Ri()];if(Ib(a,r)&&!yb(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Xp(c,n||"")),$m(i,a,s,n,r)}else tF(i,a,s,s[lt],s[o+1],s[o+1]=Z1(t,e,n),r,o)}}function yb(t,e){return e>=t.expandoStartIndex}function _b(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Ri()],s=yb(t,n);Ib(o,r)&&e===null&&!s&&(e=!1),e=Q1(i,o,e,r),L1(i,o,e,n,s,r)}}function Q1(t,e,n,r){let i=bI(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=qp(null,t,e,n,r),n=cc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=qp(i,t,e,n,r),o===null){let c=Y1(t,e,r);c!==void 0&&Array.isArray(c)&&(c=qp(null,t,e,c[1],r),c=cc(c,e.attrs,r),X1(t,e,r,c))}else o=J1(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function Y1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Qs(r)!==0)return t[xo(r)]}function X1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[xo(i)]=r}function J1(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=cc(r,s,n)}return cc(r,e.attrs,n)}function qp(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=cc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function cc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Ed(t,s,n?!0:e[++o]))}return t===void 0?null:t}function Z1(t,e,n){if(n==null||n==="")return hn;let r=[],i=tr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function wb(t,e,n){Ed(t,e,tr(n))}function eF(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Ed(t,r,n)}function tF(t,e,n,r,i,o,s,a){i===nr&&(i=hn);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let h=c<i.length?i[c+1]:void 0,f=l<o.length?o[l+1]:void 0,v=null,I;u===d?(c+=2,l+=2,h!==f&&(v=d,I=f)):d===null||u!==null&&u<d?(c+=2,v=u):(l+=2,v=d,I=f),v!==null&&Eb(t,e,n,r,v,I,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function Eb(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=V1(l)?eI(c,e,n,i,Qs(l),s):void 0;if(!dd(u)){dd(o)||k1(l)&&(o=eI(c,null,n,i,a,s));let d=vI(Ri(),n);GN(r,s,d,i,o)}}function eI(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[i+1];h===nr&&(h=d?hn:void 0);let f=d?Fp(h,r):u===r?h:void 0;if(l&&!dd(f)&&(f=Fp(c,r)),dd(f)&&(a=f,s))return a;let v=t[i+1];i=s?xo(v):Qs(v)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Fp(c,r))}return a}function dd(t){return t!==void 0}function nF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=nn(tr(t)))),t}function Ib(t,e){return(t.flags&(e?8:16))!==0}function rF(t,e,n,r,i,o){let s=e.consts,a=zs(s,i),c=gc(e,t,2,r,a);return Dg(e,n,c,zs(s,o)),c.attrs!==null&&cd(c,c.attrs,!1),c.mergedAttrs!==null&&cd(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function m(t,e,n,r){let i=Ae(),o=Tt(),s=_r+t,a=i[lt],c=o.firstCreatePass?rF(s,o,i,e,n,r):o.data[s],l=iF(o,i,c,a,e,t);i[s]=l;let u=vd(c);return Mo(c,!0),NC(a,l,c),(c.flags&32)!==32&&_d()&&xd(o,i,l,c),kO()===0&&Mi(l,i),FO(),u&&(Ig(o,i,c),Eg(o,c,i)),r!==null&&Cg(i,c),m}function g(){let t=fn();rg()?CI():(t=t.parent,Mo(t,!1));let e=t;jO(e)&&UO(),VO();let n=Tt();return n.firstCreatePass&&(Dd(n,t),eg(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&HR(e)&&$m(n,e,Ae(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&zR(e)&&$m(n,e,Ae(),e.stylesWithoutHost,!1),g}function Z(t,e,n,r){return m(t,e,n,r),g(),Z}var iF=(t,e,n,r,i,o)=>(wd(!0),SC(r,i,XO()));function oF(t,e,n,r,i){let o=e.consts,s=zs(o,r),a=gc(e,t,8,"ng-container",s);s!==null&&cd(a,s,!0);let c=zs(o,i);return Dg(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Je(t,e,n){let r=Ae(),i=Tt(),o=t+_r,s=i.firstCreatePass?oF(o,i,r,e,n):i.data[o];Mo(s,!0);let a=sF(i,r,s,t);return r[o]=a,_d()&&xd(i,r,a,s),Mi(a,r),vd(s)&&(Ig(i,r,s),Eg(i,s,r)),n!=null&&Cg(r,s),Je}function Ze(){let t=fn(),e=Tt();return rg()?CI():(t=t.parent,Mo(t,!1)),e.firstCreatePass&&(Dd(e,t),eg(t)&&e.queries.elementEnd(t)),Ze}function Ng(t,e,n){return Je(t,e,n),Ze(),Ng}var sF=(t,e,n,r)=>(wd(!0),AN(e[lt],""));function Q(){return Ae()}function kg(t,e,n){let r=Ae(),i=yd();if(Wr(r,i,e)){let o=Tt(),s=cg(),a=bI(o.data),c=vk(a,s,r);Tg(o,s,r,t,e,c,n,!0)}return kg}var hd="en-US";var aF=hd;function cF(t){typeof t=="string"&&(aF=t.toLowerCase().replace(/_/g,"-"))}function C(t,e,n,r){let i=Ae(),o=Tt(),s=fn();return Cb(o,i,i[lt],s,t,e,r),C}function lF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Za],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Cb(t,e,n,r,i,o,s){let a=vd(r),l=t.firstCreatePass&&qC(t),u=e[Yn],d=zC(e),h=!0;if(r.type&3||s){let I=Zn(r,e),T=s?s(I):I,D=d.length,$=s?p=>s(wr(p[r.index])):r.index,z=null;if(!s&&a&&(z=lF(t,e,i,r.index)),z!==null){let p=z.__ngLastListenerFn__||z;p.__ngNextListenerFn__=o,z.__ngLastListenerFn__=o,h=!1}else{o=nI(r,e,u,o,!1);let p=n.listen(T,i,o);d.push(o,p),l&&l.push(i,$,D,D+1)}}else o=nI(r,e,u,o,!1);let f=r.outputs,v;if(h&&f!==null&&(v=f[i])){let I=v.length;if(I)for(let T=0;T<I;T+=2){let D=v[T],$=v[T+1],X=e[D][$].subscribe(o),M=d.length;if(d.push(o,X),l){let W=typeof X=="function"?M+1:-(M+1);l.push(i,r.index,M,W)}}}}function tI(t,e,n,r){let i=xe(null);try{return mr(6,e,n),n(r)!==!1}catch(o){return GC(t,o),!1}finally{mr(7,e,n),xe(i)}}function nI(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Oi(t.index,e):e;xg(a);let c=tI(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=tI(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function E(t=1){return YO(t)}function bb(t,e,n){p1(t,e,n)}function Fg(t){let e=Ae(),n=Tt(),r=TI();og(r+1);let i=Og(n,r);if(t.dirty&&MO(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=v1(e,r);t.reset(o,ZO),t.notifyOnChanges()}return!0}return!1}function Vg(){return h1(Ae(),TI())}function Ke(t){let e=$O();return xO(e,_r+t)}function k(t,e=""){let n=Ae(),r=Tt(),i=t+_r,o=r.firstCreatePass?gc(r,i,1,e,null):r.data[i],s=uF(r,n,o,e,t);n[i]=s,_d()&&xd(r,n,s,o),Mo(o,!1)}var uF=(t,e,n,r,i)=>(wd(!0),DN(e[lt],r));function ye(t){return Tb("",t,""),ye}function Tb(t,e,n){let r=Ae(),i=R1(r,t,e,n);return i!==nr&&WC(r,Ri(),i),Tb}function ti(t,e,n,r,i){let o=Ae(),s=N1(o,t,e,n,r,i);return s!==nr&&WC(o,Ri(),s),ti}function ni(t,e,n){cb(e)&&(e=e());let r=Ae(),i=yd();if(Wr(r,i,e)){let o=Tt(),s=cg();Tg(o,s,r,t,e,r[lt],n,!1)}return ni}function ki(t,e){let n=cb(t);return n&&t.set(e),n}function ri(t,e){let n=Ae(),r=Tt(),i=fn();return Cb(r,n,n[lt],i,t,e),ri}function dF(t,e,n){let r=Tt();if(r.firstCreatePass){let i=zr(t);Hm(n,r.data,r.blueprint,i,!0),Hm(e,r.data,r.blueprint,i,!1)}}function Hm(t,e,n,r,i){if(t=tn(t),Array.isArray(t))for(let o=0;o<t.length;o++)Hm(t[o],e,n,r,i);else{let o=Tt(),s=Ae(),a=fn(),c=Ws(t)?t:tn(t.provide),l=YI(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Ws(t)||!t.multi){let f=new To(l,i,x),v=Wp(c,e,i?u:u+h,d);v===-1?(dm(id(a,s),o,c),Gp(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[v]=f,s[v]=f)}else{let f=Wp(c,e,u+h,d),v=Wp(c,e,u,u+h),I=f>=0&&n[f],T=v>=0&&n[v];if(i&&!T||!i&&!I){dm(id(a,s),o,c);let D=pF(i?fF:hF,n.length,i,r,l);!i&&T&&(n[v].providerFactory=D),Gp(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(D),s.push(D)}else{let D=Db(n[i?v:f],l,!i&&r);Gp(o,t,f>-1?f:v,D)}!i&&r&&T&&n[v].componentProviders++}}}function Gp(t,e,n,r){let i=Ws(e),o=AR(e);if(i||o){let c=(o?tn(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function Db(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Wp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function hF(t,e,n,r){return zm(this.multi,[])}function fF(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Do(n,n[ge],this.providerFactory.index,r);o=a.slice(0,s),zm(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],zm(i,o);return o}function zm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function pF(t,e,n,r,i){let o=new To(t,n,x);return o.multi=[],o.index=e,o.componentProviders=0,Db(o,i,r&&!n),o}function Lg(t,e=[]){return n=>{n.providersResolver=(r,i)=>dF(r,i?i(t):t,e)}}var mF=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=WI(!1,r.type),o=i.length>0?Rg([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=V({token:e,providedIn:"environment",factory:()=>new e(L(bt))});let t=e;return t})();function Y(t){Ro("NgStandalone"),t.getStandaloneInjector=e=>e.get(mF).getOrCreateStandaloneInjector(t)}function kd(t,e,n,r){return vF(Ae(),HO(),t,e,n,r)}function gF(t,e){let n=t[e];return n===nr?void 0:n}function vF(t,e,n,r,i,o){let s=e+n;return Wr(t,s,i)?A1(t,s+1,o?r.call(o,i):r(i)):gF(t,s+1)}var Kr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Sb=new Kr("17.2.4"),Fd=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Ab=new G("");function ko(t){return!!t&&typeof t.then=="function"}function xb(t){return!!t&&typeof t.subscribe=="function"}var Mb=new G(""),Pb=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=O(Mb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(ko(s))r.push(s);else if(xb(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vd=new G("");function yF(){B0(()=>{throw new P(600,!1)})}function _F(t){return t.isBoundToModule}function wF(t,e,n){try{let r=n();return ko(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Cr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(hC),this.afterRenderEffectManager=O(ib),this.componentTypes=[],this.components=[],this.isStable=O(No).hasPendingTasks.pipe(ie(r=>!r)),this._injector=O(bt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof ad;if(!this._injector.get(Pb).done){let f=!o&&hI(r),v=!1;throw new P(405,v)}let a;o?a=r:a=this._injector.get(Rd).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=_F(a)?void 0:this._injector.get(Pi),l=i||a.selector,u=a.create(Xe.NULL,[],l,c),d=u.location.nativeElement,h=u.injector.get(Ab,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Kp(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new P(101,!1);let r=xe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,xe(r)}}detectChangesInAttachedViews(){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===JC)throw new P(103,!1);let o=r===0;for(let{_lView:s,notifyErrorHandler:a}of this._views)!o&&!Qp(s)||this.detectChangesInView(s,a,o);if(r++,i.executeInternalCallbacks(),!this._views.some(({_lView:s})=>Qp(s))&&(i.execute(),!this._views.some(({_lView:s})=>Qp(s))))break}}detectChangesInView(r,i,o){let s;o?(s=0,r[ne]|=1024):r[ne]&64?s=0:s=1,ZC(r,i,s)}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Kp(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Vd,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Kp(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new P(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Kp(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Qp(t){return ng(t)}var qm=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},jg=(()=>{let e=class e{compileModuleSync(r){return new jm(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=fI(r),s=DC(o.declarations).reduce((a,c)=>{let l=xi(c);return l&&a.push(new Ks(l)),a},[]);return new qm(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var EF=(()=>{let e=class e{constructor(){this.zone=O(Ie),this.applicationRef=O(Cr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function IF(t){return[{provide:Ie,useFactory:t},{provide:Gs,multi:!0,useFactory:()=>{let e=O(EF,{optional:!0});return()=>e.initialize()}},{provide:Gs,multi:!0,useFactory:()=>{let e=O(DF);return()=>{e.initialize()}}},{provide:hC,useFactory:CF}]}function CF(){let t=O(Ie),e=O(Er);return n=>t.runOutsideAngular(()=>e.handleError(n))}function bF(t){let e=IF(()=>new Ie(TF(t)));return Ni([[],e])}function TF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var DF=(()=>{let e=class e{constructor(){this.subscription=new st,this.initialized=!1,this.zone=O(Ie),this.pendingTasks=O(No)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function SF(){return typeof $localize<"u"&&$localize.locale||hd}var Ug=new G("",{providedIn:"root",factory:()=>O(Ug,ve.Optional|ve.SkipSelf)||SF()});var Ob=new G("");var Qu=null;function AF(t=[],e){return Xe.create({name:e,providers:[{provide:bd,useValue:"platform"},{provide:Ob,useValue:new Set([()=>Qu=null])},...t]})}function xF(t=[]){if(Qu)return Qu;let e=AF(t);return Qu=e,yF(),MF(e),e}function MF(t){t.get(dg,null)?.forEach(n=>n())}var Fi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=PF;let t=e;return t})();function PF(t){return OF(fn(),Ae(),(t&16)===16)}function OF(t,e,n){if(gd(t)&&!n){let r=Oi(t.index,e);return new So(r,r)}else if(t.type&47){let r=e[yr];return new So(r,e)}return null}var Gm=class{constructor(){}supports(e){return lb(e)}create(e){return new Wm(e)}},RF=(t,e)=>e,Wm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||RF}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<rI(r,i,o)?n:r,a=rI(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){let f=h<o.length?o[h]:o[h]=0,v=f+h;u<=v&&v<l&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!lb(e))throw new P(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,D1(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Km(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new fd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new fd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Km=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Qm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},fd=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Qm,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function rI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function iI(){return new Bg([new Gm])}var Bg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||iI()),deps:[[e,new zI,new sn]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new P(901,!1)}};e.\u0275prov=V({token:e,providedIn:"root",factory:iI});let t=e;return t})();function Rb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=xF(r),o=[bF(),...n||[]],a=new ud({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Ie);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(Er,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:f=>{l.handleError(f)}})});let d=()=>a.destroy(),h=i.get(Ob);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),wF(l,c,()=>{let f=a.get(Pb);return f.runInitializers(),f.donePromise.then(()=>{let v=a.get(Ug,hd);cF(v||hd);let I=a.get(Cr);return e!==void 0&&I.bootstrap(e),I})})})}catch(e){return Promise.reject(e)}}function Nn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var NF=new G("",{providedIn:"root",factory:()=>O(kF)}),kF=(()=>{let e=class e{};e.\u0275prov=V({token:e,providedIn:"root",factory:()=>new Ym});let t=e;return t})(),Ym=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=O(No),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},Xm=class{constructor(e,n,r,i,o,s){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=o,this.watcher=q0(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(Er,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function Vi(t,e){Ro("NgSignals"),!e?.injector&&kR(Vi);let n=e?.injector??O(Xe),r=e?.manualCleanup!==!0?n.get(rb):null,i=new Xm(n.get(NF),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),o=n.get(Fi,null,{optional:!0});return!o||!(o._lView[ne]&8)?i.watcher.notify():(o._lView[Hu]??=[]).push(i.watcher.notify),i}function Ld(t,e){let n=xi(t),r=e.elementInjector||Td();return new Ks(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}var jb=null;function ii(){return jb}function Ub(t){jb??=t}var jd=class{};var Bt=new G(""),Bb=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>O(VF),providedIn:"platform"});let t=e;return t})();var VF=(()=>{let e=class e extends Bb{constructor(){super(),this._doc=O(Bt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ii().getBaseHref(this._doc)}onPopState(r){let i=ii().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=ii().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function $b(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Nb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Fo(t){return t&&t[0]!=="?"?"?"+t:t}var Ud=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>O(Hb),providedIn:"root"});let t=e;return t})(),LF=new G(""),Hb=(()=>{let e=class e extends Ud{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??O(Bt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return $b(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Fo(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Fo(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Fo(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(L(Bb),L(LF,8))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var vc=(()=>{let e=class e{constructor(r){this._subject=new Ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=BF(Nb(kb(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Fo(i))}normalize(r){return e.stripTrailingSlash(UF(this._basePath,kb(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Fo(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Fo(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Fo,e.joinWithSlash=$b,e.stripTrailingSlash=Nb,e.\u0275fac=function(i){return new(i||e)(L(Ud))},e.\u0275prov=V({token:e,factory:()=>jF(),providedIn:"root"});let t=e;return t})();function jF(){return new vc(L(Ud))}function UF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function kb(t){return t.replace(/\/index.html$/,"")}function BF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Bd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var $g=/\s+/,Fb=[],Dt=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=Fb,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split($g):Fb}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split($g):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split($g).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(x(gt),x(Oo))},e.\u0275dir=ut({type:e,selectors:[["","ngClass",""]],inputs:{klass:[re.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Hg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},He=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Hg(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),Vb(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);Vb(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(x(jt),x(Xn),x(Bg))},e.\u0275dir=ut({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Vb(t,e){t.context.$implicit=e.item}var Oe=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new zg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Lb("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Lb("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(x(jt),x(Xn))},e.\u0275dir=ut({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),zg=class{constructor(){this.$implicit=null,this.ngIf=null}};function Lb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${nn(e)}'.`)}var J=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=rn({type:e}),e.\u0275inj=on({});let t=e;return t})(),zb="browser",$F="server";function yc(t){return t===$F}var Zs=class{};var wc=class{},Ec=class{},oi=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Wg=class{encodeKey(e){return qb(e)}encodeValue(e){return qb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function qF(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var GF=/%(\d[a-f0-9])/gi,WF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function qb(t){return encodeURIComponent(t).replace(GF,(e,n)=>WF[n]??e)}function $d(t){return`${t}`}var ji=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Wg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=qF(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map($d):[$d(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push($d(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf($d(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Kg=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function KF(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Gb(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Wb(t){return typeof Blob<"u"&&t instanceof Blob}function Kb(t){return typeof FormData<"u"&&t instanceof FormData}function QF(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var _c=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(KF(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new oi,this.context??=new Kg,!this.params)this.params=new ji,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:Gb(this.body)||Wb(this.body)||Kb(this.body)||QF(this.body)||typeof this.body=="string"?this.body:this.body instanceof ji?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Kb(this.body)?null:Wb(this.body)?this.body.type||null:Gb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ji?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,s=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,l=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),l)),new t(n,r,o,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:s})}},Ui=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Ui||{}),Ic=class{constructor(e,n=bc.Ok,r="OK"){this.headers=e.headers||new oi,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Hd=class t extends Ic{constructor(e={}){super(e),this.type=Ui.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Cc=class t extends Ic{constructor(e={}){super(e),this.type=Ui.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Li=class extends Ic{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},bc=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(bc||{});function qg(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Vo=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof _c)s=r;else{let l;o.headers instanceof oi?l=o.headers:l=new oi(o.headers);let u;o.params&&(o.params instanceof ji?u=o.params:u=new ji({fromObject:o.params})),s=new _c(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=ae(s).pipe(Ti(l=>this.handler.handle(l)));if(r instanceof _c||o.observe==="events")return a;let c=a.pipe(Yt(l=>l instanceof Cc));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(ie(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(ie(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(ie(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(ie(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new ji().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,qg(o,i))}post(r,i,o={}){return this.request("POST",r,qg(o,i))}put(r,i,o={}){return this.request("PUT",r,qg(o,i))}};e.\u0275fac=function(i){return new(i||e)(L(wc))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),YF=/^\)\]\}',?\n/,XF="X-Request-URL";function Qb(t){if(t.url)return t.url;let e=XF.toLocaleLowerCase();return t.headers.get(e)}var Gg=(()=>{let e=class e{constructor(){this.fetchImpl=O(Qg,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=O(Ie)}handle(r){return new se(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then(Yg,s=>i.error(new Li({error:s}))),()=>o.abort()})}doRequest(r,i,o){return _(this,null,function*(){let s=this.createRequestInit(r),a;try{let v=this.fetchImpl(r.urlWithParams,R({signal:i},s));JF(v),o.next({type:Ui.Sent}),a=yield v}catch(v){o.error(new Li({error:v,status:v.status??0,statusText:v.statusText,url:r.urlWithParams,headers:v.headers}));return}let c=new oi(a.headers),l=a.statusText,u=Qb(a)??r.urlWithParams,d=a.status,h=null;if(r.reportProgress&&o.next(new Hd({headers:c,status:d,statusText:l,url:u})),a.body){let v=a.headers.get("content-length"),I=[],T=a.body.getReader(),D=0,$,z,p=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>_(this,null,function*(){for(;;){let{done:M,value:W}=yield T.read();if(M)break;if(I.push(W),D+=W.length,r.reportProgress){z=r.responseType==="text"?(z??"")+($??=new TextDecoder).decode(W,{stream:!0}):void 0;let ue=()=>o.next({type:Ui.DownloadProgress,total:v?+v:void 0,loaded:D,partialText:z});p?p.run(ue):ue()}}}));let X=this.concatChunks(I,D);try{let M=a.headers.get("Content-Type")??"";h=this.parseBody(r,X,M)}catch(M){o.error(new Li({error:M,headers:new oi(a.headers),status:a.status,statusText:a.statusText,url:Qb(a)??r.urlWithParams}));return}}d===0&&(d=h?bc.Ok:0),d>=200&&d<300?(o.next(new Cc({body:h,headers:c,status:d,statusText:l,url:u})),o.complete()):o.error(new Li({error:h,headers:c,status:d,statusText:l,url:u}))})}parseBody(r,i,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(i).replace(YF,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>i[s]=a.join(",")),i.Accept??="application/json, text/plain, */*",!i["Content-Type"]){let s=r.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),Qg=class{};function Yg(){}function JF(t){t.then(Yg,Yg)}function ZF(t,e){return e(t)}function eV(t,e,n){return(r,i)=>Yr(n,()=>e(r,o=>t(o,i)))}var Xg=new G(""),tV=new G(""),Jb=new G("");var Yb=(()=>{let e=class e extends wc{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=O(No);let o=O(Jb,{optional:!0});this.backend=o??r}handle(r){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(Xg),...this.injector.get(tV,[])]));this.chain=o.reduceRight((s,a)=>eV(s,a,this.injector),ZF)}let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(yo(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(L(Ec),L(bt))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})();var nV=/^\)\]\}',?\n/;function rV(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Xb=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new P(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?je(i.\u0275loadImpl()):ae(null)).pipe(Ct(()=>new se(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((T,D)=>a.setRequestHeader(T,D.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let T=r.detectContentTypeHeader();T!==null&&a.setRequestHeader("Content-Type",T)}if(r.responseType){let T=r.responseType.toLowerCase();a.responseType=T!=="json"?T:"text"}let c=r.serializeBody(),l=null,u=()=>{if(l!==null)return l;let T=a.statusText||"OK",D=new oi(a.getAllResponseHeaders()),$=rV(a)||r.url;return l=new Hd({headers:D,status:a.status,statusText:T,url:$}),l},d=()=>{let{headers:T,status:D,statusText:$,url:z}=u(),p=null;D!==bc.NoContent&&(p=typeof a.response>"u"?a.responseText:a.response),D===0&&(D=p?bc.Ok:0);let X=D>=200&&D<300;if(r.responseType==="json"&&typeof p=="string"){let M=p;p=p.replace(nV,"");try{p=p!==""?JSON.parse(p):null}catch(W){p=M,X&&(X=!1,p={error:W,text:p})}}X?(s.next(new Cc({body:p,headers:T,status:D,statusText:$,url:z||void 0})),s.complete()):s.error(new Li({error:p,headers:T,status:D,statusText:$,url:z||void 0}))},h=T=>{let{url:D}=u(),$=new Li({error:T,status:a.status||0,statusText:a.statusText||"Unknown Error",url:D||void 0});s.error($)},f=!1,v=T=>{f||(s.next(u()),f=!0);let D={type:Ui.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(D.total=T.total),r.responseType==="text"&&a.responseText&&(D.partialText=a.responseText),s.next(D)},I=T=>{let D={type:Ui.UploadProgress,loaded:T.loaded};T.lengthComputable&&(D.total=T.total),s.next(D)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",v),c!==null&&a.upload&&a.upload.addEventListener("progress",I)),a.send(c),s.next({type:Ui.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",v),c!==null&&a.upload&&a.upload.removeEventListener("progress",I)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(L(Zs))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),Zb=new G(""),iV="XSRF-TOKEN",oV=new G("",{providedIn:"root",factory:()=>iV}),sV="X-XSRF-TOKEN",aV=new G("",{providedIn:"root",factory:()=>sV}),zd=class{},cV=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Bd(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(L(Bt),L(Rn),L(oV))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})();function lV(t,e){let n=t.url.toLowerCase();if(!O(Zb)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=O(zd).getToken(),i=O(aV);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Jg=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Jg||{});function eT(t,e){return{\u0275kind:t,\u0275providers:e}}function tT(...t){let e=[Vo,Xb,Yb,{provide:wc,useExisting:Yb},{provide:Ec,useExisting:Xb},{provide:Xg,useValue:lV,multi:!0},{provide:Zb,useValue:!0},{provide:zd,useClass:cV}];for(let n of t)e.push(...n.\u0275providers);return Ni(e)}function nT(t){return eT(Jg.Interceptors,t.map(e=>({provide:Xg,useValue:e,multi:!0})))}function rT(){return eT(Jg.Fetch,[Gg,{provide:Ec,useExisting:Gg},{provide:Jb,useExisting:Gg}])}var oT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},uV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},sT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|l>>6,f=l&63;c||(f=64,s||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new tv;let h=o<<2|a>>4;if(r.push(h),l!==64){let f=a<<4&240|l>>2;if(r.push(f),d!==64){let v=l<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},tv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},dV=function(t){let e=oT(t);return sT.encodeByteArray(e,!0)},Tc=function(t){return dV(t).replace(/\./g,"")},rv=function(t){try{return sT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var fV=()=>hV().__FIREBASE_DEFAULTS__,pV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&rv(t[1]);return e&&JSON.parse(e)},iv=()=>{try{return fV()||pV()||mV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ov=t=>{var e,n;return(n=(e=iv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},aT=t=>{let e=ov(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},sv=()=>{var t;return(t=iv())===null||t===void 0?void 0:t.config},av=t=>{var e;return(e=iv())===null||e===void 0?void 0:e[`_${t}`]};var qd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function cT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Tc(JSON.stringify(n)),Tc(JSON.stringify(s)),""].join(".")}function St(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function uT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hT(){let t=St();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cv(){try{return typeof indexedDB=="object"}catch{return!1}}function fT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var gV="FirebaseError",Cn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,si.prototype.create)}},si=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?vV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Cn(i,a,r)}};function vV(t,e){return t.replace(yV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var yV=/\{\$([^}]+)}/g;function pT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(iT(o)&&iT(s)){if(!Lo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function iT(t){return t!==null&&typeof t=="object"}function Dc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mT(t,e){let n=new nv(t,e);return n.subscribe.bind(n)}var nv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_V(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ev),i.error===void 0&&(i.error=ev),i.complete===void 0&&(i.complete=ev);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function _V(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ev(){}var lQ=4*60*60*1e3;function Bi(t){return t&&t._delegate?t._delegate:t}var kn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var jo="[DEFAULT]";var lv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new qd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EV(e))try{this.getOrInitializeService({instanceIdentifier:jo})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=jo){return this.instances.has(e)}getOptions(e=jo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jo){return this.component?this.component.multipleInstances?e:jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function wV(t){return t===jo?void 0:t}function EV(t){return t.instantiationMode==="EAGER"}var Gd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new lv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var IV=[],Me=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Me||{}),CV={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},bV=Me.INFO,TV={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},DV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=TV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},$i=class{constructor(e){this.name=e,this._logLevel=bV,this._logHandler=DV,this._userLogHandler=null,IV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}};var SV=(t,e)=>e.some(n=>t instanceof n),gT,vT;function AV(){return gT||(gT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xV(){return vT||(vT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var yT=new WeakMap,dv=new WeakMap,_T=new WeakMap,uv=new WeakMap,fv=new WeakMap;function MV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(br(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&yT.set(n,t)}).catch(()=>{}),fv.set(e,t),e}function PV(t){if(dv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});dv.set(t,e)}var hv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_T.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return br(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wT(t){hv=t(hv)}function OV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Wd(this),e,...n);return _T.set(r,e.sort?e.sort():[e]),br(r)}:xV().includes(t)?function(...e){return t.apply(Wd(this),e),br(yT.get(this))}:function(...e){return br(t.apply(Wd(this),e))}}function RV(t){return typeof t=="function"?OV(t):(t instanceof IDBTransaction&&PV(t),SV(t,AV())?new Proxy(t,hv):t)}function br(t){if(t instanceof IDBRequest)return MV(t);if(uv.has(t))return uv.get(t);let e=RV(t);return e!==t&&(uv.set(t,e),fv.set(e,t)),e}var Wd=t=>fv.get(t);function IT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=br(s);return r&&s.addEventListener("upgradeneeded",c=>{r(br(s.result),c.oldVersion,c.newVersion,br(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var NV=["get","getKey","getAll","getAllKeys","count"],kV=["put","add","delete","clear"],pv=new Map;function ET(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pv.get(e))return pv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=kV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||NV.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return pv.set(e,o),o}wT(t=>Se(R({},t),{get:(e,n,r)=>ET(e,n)||t.get(e,n,r),has:(e,n)=>!!ET(e,n)||t.has(e,n)}));var gv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function FV(t){let e=t.getComponent();return e?.type==="VERSION"}var vv="@firebase/app",CT="0.9.28";var Uo=new $i("@firebase/app"),VV="@firebase/app-compat",LV="@firebase/analytics-compat",jV="@firebase/analytics",UV="@firebase/app-check-compat",BV="@firebase/app-check",$V="@firebase/auth",HV="@firebase/auth-compat",zV="@firebase/database",qV="@firebase/database-compat",GV="@firebase/functions",WV="@firebase/functions-compat",KV="@firebase/installations",QV="@firebase/installations-compat",YV="@firebase/messaging",XV="@firebase/messaging-compat",JV="@firebase/performance",ZV="@firebase/performance-compat",eL="@firebase/remote-config",tL="@firebase/remote-config-compat",nL="@firebase/storage",rL="@firebase/storage-compat",iL="@firebase/firestore",oL="@firebase/firestore-compat",sL="firebase",aL="10.8.1";var yv="[DEFAULT]",cL={[vv]:"fire-core",[VV]:"fire-core-compat",[jV]:"fire-analytics",[LV]:"fire-analytics-compat",[BV]:"fire-app-check",[UV]:"fire-app-check-compat",[$V]:"fire-auth",[HV]:"fire-auth-compat",[zV]:"fire-rtdb",[qV]:"fire-rtdb-compat",[GV]:"fire-fn",[WV]:"fire-fn-compat",[KV]:"fire-iid",[QV]:"fire-iid-compat",[YV]:"fire-fcm",[XV]:"fire-fcm-compat",[JV]:"fire-perf",[ZV]:"fire-perf-compat",[eL]:"fire-rc",[tL]:"fire-rc-compat",[nL]:"fire-gcs",[rL]:"fire-gcs-compat",[iL]:"fire-fst",[oL]:"fire-fst-compat","fire-js":"fire-js",[sL]:"fire-js-all"};var Sc=new Map,_v=new Map;function lL(t,e){try{t.container.addComponent(e)}catch(n){Uo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zi(t){let e=t.name;if(_v.has(e))return Uo.debug(`There were multiple attempts to register component ${e}.`),!1;_v.set(e,t);for(let n of Sc.values())lL(n,t);return!0}function xc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var uL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Hi=new si("app","Firebase",uL);var wv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}};var qi=aL;function Cv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:yv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Hi.create("bad-app-name",{appName:String(i)});if(n||(n=sv()),!n)throw Hi.create("no-options");let o=Sc.get(i);if(o){if(Lo(n,o.options)&&Lo(r,o.config))return o;throw Hi.create("duplicate-app",{appName:i})}let s=new Gd(i);for(let c of _v.values())s.addComponent(c);let a=new wv(n,r,s);return Sc.set(i,a),a}function ea(t=yv){let e=Sc.get(t);if(!e&&t===yv&&sv())return Cv();if(!e)throw Hi.create("no-app",{appName:t});return e}function Kd(){return Array.from(Sc.values())}function vt(t,e,n){var r;let i=(r=cL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Uo.warn(a.join(" "));return}zi(new kn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var dL="firebase-heartbeat-database",hL=1,Ac="firebase-heartbeat-store",mv=null;function ST(){return mv||(mv=IT(dL,hL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ac)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hi.create("idb-open",{originalErrorMessage:t.message})})),mv}function fL(t){return _(this,null,function*(){try{let n=(yield ST()).transaction(Ac),r=yield n.objectStore(Ac).get(AT(t));return yield n.done,r}catch(e){if(e instanceof Cn)Uo.warn(e.message);else{let n=Hi.create("idb-get",{originalErrorMessage:e?.message});Uo.warn(n.message)}}})}function bT(t,e){return _(this,null,function*(){try{let r=(yield ST()).transaction(Ac,"readwrite");yield r.objectStore(Ac).put(e,AT(t)),yield r.done}catch(n){if(n instanceof Cn)Uo.warn(n.message);else{let r=Hi.create("idb-set",{originalErrorMessage:n?.message});Uo.warn(r.message)}}})}function AT(t){return`${t.name}!${t.options.appId}`}var pL=1024,mL=30*24*60*60*1e3,Ev=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Iv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=TT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=mL}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return _(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=TT(),{heartbeatsToSend:r,unsentEntries:i}=gL(this._heartbeatsCache.heartbeats),o=Tc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function TT(){return new Date().toISOString().substring(0,10)}function gL(t,e=pL){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),DT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),DT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Iv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return cv()?fT().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield fL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return bT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return bT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function DT(t){return Tc(JSON.stringify({version:2,heartbeats:t})).length}function vL(t){zi(new kn("platform-logger",e=>new gv(e),"PRIVATE")),zi(new kn("heartbeat",e=>new Ev(e),"PRIVATE")),vt(vv,CT,t),vt(vv,CT,"esm2017"),vt("fire-js","")}vL("");var yL="firebase",_L="10.8.1";vt(yL,_L,"app");var $o=new Kr("ANGULARFIRE2_VERSION");function Yd(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Mc=(t,e)=>{let n=e?[e]:Kd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},na=class{constructor(){return Mc(wL)}},wL="app-check";function ta(){}var Qd=class{zone;delegate;constructor(e,n=Tp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},bv=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ta,{},ta,ta)),n.pipe(ct({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ra=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Qd(Zone.current)),this.insideAngular=n.run(()=>new Qd(Zone.current,Ms)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(L(Ie))};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Xd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function EL(t){return Xd().ngZone.runOutsideAngular(()=>t())}function Bo(t){return Xd().ngZone.run(()=>t())}function IL(t){return CL(Xd())(t)}function CL(t){return function(n){return n=n.lift(new bv(t.ngZone)),n.pipe(Ci(t.outsideAngular),Ii(t.insideAngular))}}var bL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Bo(()=>t.apply(void 0,r))},ia=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Bo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ta,{},ta,ta))),r[o]=bL(r[o],n));let i=EL(()=>t.apply(this,r));if(!e)if(i instanceof se){let o=Xd();return i.pipe(Ci(o.outsideAngular),Ii(o.insideAngular))}else return Bo(()=>i);return i instanceof se?i.pipe(IL):i instanceof Promise?Bo(()=>new Promise((o,s)=>i.then(a=>Bo(()=>o(a)),a=>Bo(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Bo(()=>i)};var ai=class{constructor(e){return e}},Ho=class{constructor(){return Kd()}};function TL(t){return t&&t.length===1?t[0]:new ai(ea())}var Tv=new G("angularfire2._apps"),DL={provide:ai,useFactory:TL,deps:[[new sn,Tv]]},SL={provide:Ho,deps:[[new sn,Tv]]};function AL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ai(r)}}var xL=(()=>{class t{constructor(n){vt("angularfire",$o.full,"core"),vt("angularfire",$o.full,"app"),vt("angular",Sb.full,n.toString())}static \u0275fac=function(r){return new(r||t)(L(Rn))};static \u0275mod=rn({type:t});static \u0275inj=on({providers:[DL,SL]})}return t})();function xT(t,...e){return{ngModule:xL,providers:[{provide:Tv,useFactory:AL(t),multi:!0,deps:[Ie,Xe,ra,...e]}]}}var MT=ia(Cv,!0);function zT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var qT=zT,GT=new si("auth","Firebase",zT());var rh=new $i("@firebase/auth");function ML(t,...e){rh.logLevel<=Me.WARN&&rh.warn(`Auth (${qi}): ${t}`,...e)}function Zd(t,...e){rh.logLevel<=Me.ERROR&&rh.error(`Auth (${qi}): ${t}`,...e)}function Wi(t,...e){throw qv(t,...e)}function zo(t,...e){return qv(t,...e)}function PL(t,e,n){let r=Object.assign(Object.assign({},qT()),{[e]:n});return new si("auth","Firebase",r).create(e,{appName:t.name})}function qv(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GT.create(t,...e)}function de(t,e,...n){if(!t)throw qv(e,...n)}function ci(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Zd(e),new Error(e)}function Ki(t,e){t||ci(e)}function xv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function OL(){return PT()==="http:"||PT()==="https:"}function PT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function RL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OL()||uT()||"connection"in navigator)?navigator.onLine:!0}function NL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var qo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ki(n>e,"Short delay should be less than long delay!"),this.isMobile=lT()||dT()}get(){return RL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Gv(t,e){Ki(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var ih=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var kL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var FL=new qo(3e4,6e4);function Wv(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function oa(o,s,a,c){return _(this,arguments,function*(t,e,n,r,i={}){return WT(t,i,()=>_(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=Dc(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),ih.fetch()(KT(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},l))}))})}function WT(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},kL),e);try{let i=new Mv(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Jd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jd(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Jd(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Jd(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw PL(t,u,l);Wi(t,u)}}catch(i){if(i instanceof Cn)throw i;Wi(t,"network-request-failed",{message:String(i)})}})}function VL(o,s,a,c){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield oa(t,e,n,r,i);return"mfaPendingCredential"in l&&Wi(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function KT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Gv(t.config,i):`${t.config.apiScheme}://${i}`}var Mv=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zo(this.auth,"network-request-failed")),FL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Jd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=zo(t,e,r);return i.customData._tokenResponse=n,i}function LL(t,e){return _(this,null,function*(){return oa(t,"POST","/v1/accounts:delete",e)})}function jL(t,e){return _(this,null,function*(){return oa(t,"POST","/v1/accounts:lookup",e)})}function Pc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Kv(t,e=!1){return _(this,null,function*(){let n=Bi(t),r=yield n.getIdToken(e),i=Qv(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Pc(Dv(i.auth_time)),issuedAtTime:Pc(Dv(i.iat)),expirationTime:Pc(Dv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Dv(t){return Number(t)*1e3}function Qv(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zd("JWT malformed, contained fewer than 3 sections"),null;try{let i=rv(n);return i?JSON.parse(i):(Zd("Failed to decode base64 JWT payload"),null)}catch(i){return Zd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function UL(t){let e=Qv(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Oc(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Cn&&BL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function BL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Pv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var oh=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pc(this.lastLoginAt),this.creationTime=Pc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function sh(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Oc(t,jL(n,{idToken:r}));de(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?HL(o.providerUserInfo):[],a=$L(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new oh(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function Yv(t){return _(this,null,function*(){let e=Bi(t);yield sh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function $L(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function HL(t){return t.map(e=>{var{providerId:n}=e,r=Sp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function zL(t,e){return _(this,null,function*(){let n=yield WT(t,{},()=>_(this,null,function*(){let r=Dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=KT(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ih.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function qL(t,e){return _(this,null,function*(){return oa(t,"POST","/v2/accounts:revokeToken",Wv(t,e))})}var ah=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return _(this,null,function*(){return de(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield zL(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(de(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(de(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ci("not implemented")}};function Gi(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Rc=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Sp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new oh(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield Oc(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Kv(this,e)}reload(){return Yv(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield sh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){let e=yield this.getIdToken();return yield Oc(this,LL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,D=(l=n.createdAt)!==null&&l!==void 0?l:void 0,$=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:z,emailVerified:p,isAnonymous:X,providerData:M,stsTokenManager:W}=n;de(z&&W,e,"internal-error");let ue=ah.fromJSON(this.name,W);de(typeof z=="string",e,"internal-error"),Gi(d,e.name),Gi(h,e.name),de(typeof p=="boolean",e,"internal-error"),de(typeof X=="boolean",e,"internal-error"),Gi(f,e.name),Gi(v,e.name),Gi(I,e.name),Gi(T,e.name),Gi(D,e.name),Gi($,e.name);let Ee=new t({uid:z,auth:e,email:h,emailVerified:p,displayName:d,isAnonymous:X,photoURL:v,phoneNumber:f,tenantId:I,stsTokenManager:ue,createdAt:D,lastLoginAt:$});return M&&Array.isArray(M)&&(Ee.providerData=M.map(be=>Object.assign({},be))),T&&(Ee._redirectEventId=T),Ee}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new ah;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield sh(o),o})}};var OT=new Map;function li(t){Ki(t instanceof Function,"Expected a class definition");let e=OT.get(t);return e?(Ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,OT.set(t,e),e)}var GL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Ov=GL;function eh(t,e,n){return`firebase:${t}:${e}:${n}`}var ch=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=eh(this.userKey,i.apiKey,o),this.fullPersistenceKey=eh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Rc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(li(Ov),e,r);let i=(yield Promise.all(n.map(l=>_(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||li(Ov),s=eh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=Rc._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>_(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function RT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZT(e))return"Blackberry";if(eD(e))return"Webos";if(Xv(e))return"Safari";if((e.includes("chrome/")||YT(e))&&!e.includes("edge/"))return"Chrome";if(JT(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function QT(t=St()){return/firefox\//i.test(t)}function Xv(t=St()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YT(t=St()){return/crios\//i.test(t)}function XT(t=St()){return/iemobile/i.test(t)}function JT(t=St()){return/android/i.test(t)}function ZT(t=St()){return/blackberry/i.test(t)}function eD(t=St()){return/webos/i.test(t)}function gh(t=St()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WL(t=St()){var e;return gh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KL(){return hT()&&document.documentMode===10}function tD(t=St()){return gh(t)||JT(t)||eD(t)||ZT(t)||/windows phone/i.test(t)||XT(t)}function QL(){try{return!!(window&&window!==window.top)}catch{return!1}}function nD(t,e=[]){let n;switch(t){case"Browser":n=RT(St());break;case"Worker":n=`${RT(St())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qi}/${r}`}var Rv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function YL(n){return _(this,arguments,function*(t,e={}){return oa(t,"GET","/v2/passwordPolicy",Wv(t,e))})}var XL=6,Nv=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:XL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var kv=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lh(this),this.idTokenSubscription=new lh(this),this.beforeStateQueue=new Rv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield ch.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield sh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=NL()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){let n=e?Bi(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(li(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield YL(this),n=new Nv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new si("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield qL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&li(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=yield ch.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&ML(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Jv(t){return Bi(t)}var lh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=mT(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Zv={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JL(t){Zv=t}function ZL(t){return Zv.loadJS(t)}function e2(){return Zv.gapiScript}function rD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function ey(t,e){let n=xc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Lo(o,e??{}))return i;Wi(i,"already-initialized")}return n.initialize({options:e})}function t2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(li);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function ty(t,e,n){let r=Jv(t);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=iD(e),{host:s,port:a}=n2(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||r2()}function iD(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function n2(t){let e=iD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:NT(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:NT(s)}}}function NT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function r2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var uh=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ci("not implemented")}_getIdTokenResponse(e){return ci("not implemented")}_linkToIdToken(e,n){return ci("not implemented")}_getReauthenticationResolver(e){return ci("not implemented")}};function Sv(t,e){return _(this,null,function*(){return VL(t,"POST","/v1/accounts:signInWithIdp",Wv(t,e))})}var dh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Fv=class extends dh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Nc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield Rc._fromIdTokenResponse(e,r,i),s=kT(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=kT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function kT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Vv=class t extends Cn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function oD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Vv._fromErrorAndOperation(t,o,e,r):o})}function i2(t,e,n=!1){return _(this,null,function*(){let r=yield Oc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Nc._forOperation(t,"link",r)})}function o2(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let o=yield Oc(t,oD(r,i,e,t),n);de(o.idToken,r,"internal-error");let s=Qv(o.idToken);de(s,r,"internal-error");let{sub:a}=s;return de(t.uid===a,r,"user-mismatch"),Nc._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Wi(r,"user-mismatch"),o}})}function s2(t,e,n=!1){return _(this,null,function*(){let r="signIn",i=yield oD(t,r,e),o=yield Nc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function ny(t,e,n,r){return Bi(t).onIdTokenChanged(e,n,r)}function ry(t,e,n){return Bi(t).beforeAuthStateChanged(e,n)}var hh="__sak";var fh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function a2(){let t=St();return Xv(t)||gh(t)}var c2=1e3,l2=10,u2=(()=>{class t extends fh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=a2()&&QL(),this.fallbackToPolling=tD(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);KL()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,l2):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},c2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield _i(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield _i(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield _i(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),sD=u2;var d2=(()=>{class t extends fh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),iy=d2;function h2(t){return Promise.all(t.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var f2=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>_(this,null,function*(){return u(r.origin,s)})),l=yield h2(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function aD(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Lv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=aD("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Tr(){return window}function p2(t){Tr().location.href=t}function cD(){return typeof Tr().WorkerGlobalScope<"u"&&typeof Tr().importScripts=="function"}function m2(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function g2(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function v2(){return cD()?self:null}var lD="firebaseLocalStorageDb",y2=1,ph="firebaseLocalStorage",uD="fbase_key",Go=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function vh(t,e){return t.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function _2(){let t=indexedDB.deleteDatabase(lD);return new Go(t).toPromise()}function jv(){let t=indexedDB.open(lD,y2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(ph,{keyPath:uD})}catch(i){n(i)}}),t.addEventListener("success",()=>_(this,null,function*(){let r=t.result;r.objectStoreNames.contains(ph)?e(r):(r.close(),yield _2(),e(yield jv()))}))})}function FT(t,e,n){return _(this,null,function*(){let r=vh(t,!0).put({[uD]:e,value:n});return new Go(r).toPromise()})}function w2(t,e){return _(this,null,function*(){let n=vh(t,!1).get(e),r=yield new Go(n).toPromise();return r===void 0?null:r.value})}function VT(t,e){let n=vh(t,!0).delete(e);return new Go(n).toPromise()}var E2=800,I2=3,C2=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield jv(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>I2)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return cD()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=f2._getInstance(v2()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield m2(),!this.activeServiceWorker)return;this.sender=new Lv(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||g2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield jv();return yield FT(n,hh,"1"),yield VT(n,hh),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>FT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>w2(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>VT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=vh(o,!1).getAll();return new Go(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),E2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),dD=C2;var tY=rD("rcb"),nY=new qo(3e4,6e4);function b2(t,e){return e?li(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var kc=class extends uh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sv(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sv(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sv(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function T2(t){return s2(t.auth,new kc(t),t.bypassAuthState)}function D2(t){let{auth:e,user:n}=t;return de(n,e,"internal-error"),o2(n,new kc(t),t.bypassAuthState)}function S2(t){return _(this,null,function*(){let{auth:e,user:n}=t;return de(n,e,"internal-error"),i2(n,new kc(t),t.bypassAuthState)})}var Uv=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T2;case"linkViaPopup":case"linkViaRedirect":return S2;case"reauthViaPopup":case"reauthViaRedirect":return D2;default:Wi(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var rY=new qo(2e3,1e4);var A2="pendingRedirect",th=new Map,Bv=class t extends Uv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=th.get(this.auth._key());if(!e){try{let r=(yield x2(this.resolver,this.auth))?yield _i(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}th.set(this.auth._key(),e)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return _i(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,_i(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function x2(t,e){return _(this,null,function*(){let n=O2(e),r=P2(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function M2(t,e){th.set(t._key(),e)}function P2(t){return li(t._redirectPersistence)}function O2(t){return eh(A2,t.config.apiKey,t.name)}function R2(t,e,n=!1){return _(this,null,function*(){let r=Jv(t),i=b2(r,e),s=yield new Bv(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var N2=10*60*1e3,$v=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!k2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!hD(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(zo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=N2&&this.cachedEventUids.clear(),this.cachedEventUids.has(LT(e))}saveEventToCache(e){this.cachedEventUids.add(LT(e)),this.lastProcessedEventTime=Date.now()}};function LT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function k2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hD(t);default:return!1}}function F2(n){return _(this,arguments,function*(t,e={}){return oa(t,"GET","/v1/projects",e)})}var V2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,L2=/^https?/;function j2(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield F2(t);for(let n of e)try{if(U2(n))return}catch{}Wi(t,"unauthorized-domain")})}function U2(t){let e=xv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!L2.test(n))return!1;if(V2.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var B2=new qo(3e4,6e4);function jT(){let t=Tr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $2(t){return new Promise((e,n)=>{var r,i,o;function s(){jT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jT(),n(zo(t,"network-request-failed"))},timeout:B2.get()})}if(!((i=(r=Tr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Tr().gapi)===null||o===void 0)&&o.load)s();else{let a=rD("iframefcb");return Tr()[a]=()=>{gapi.load?s():n(zo(t,"network-request-failed"))},ZL(`${e2()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw nh=null,e})}var nh=null;function H2(t){return nh=nh||$2(t),nh}var z2=new qo(5e3,15e3),q2="__/auth/iframe",G2="emulator/auth/iframe",W2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},K2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Q2(t){let e=t.config;de(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Gv(e,G2):`https://${t.config.authDomain}/${q2}`,r={apiKey:e.apiKey,appName:t.name,v:qi},i=K2.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Dc(r).slice(1)}`}function Y2(t){return _(this,null,function*(){let e=yield H2(t),n=Tr().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:Q2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:W2,dontclear:!0},r=>new Promise((i,o)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=zo(t,"network-request-failed"),a=Tr().setTimeout(()=>{o(s)},z2.get());function c(){Tr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var X2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},J2=500,Z2=600,ej="_blank",tj="http://localhost",mh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function nj(t,e,n,r=J2,i=Z2){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},X2),{width:r.toString(),height:i.toString(),top:o,left:s}),l=St().toLowerCase();n&&(a=YT(l)?ej:n),QT(l)&&(e=e||tj,c.scrollbars="yes");let u=Object.entries(c).reduce((h,[f,v])=>`${h}${f}=${v},`,"");if(WL(l)&&a!=="_self")return rj(e||"",a),new mh(null);let d=window.open(e||"",a,u);de(d,t,"popup-blocked");try{d.focus()}catch{}return new mh(d)}function rj(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var ij="__/auth/handler",oj="emulator/auth/handler",sj=encodeURIComponent("fac");function UT(t,e,n,r,i,o){return _(this,null,function*(){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qi,eventId:i};if(e instanceof dh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",pT(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof Fv){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${sj}=${encodeURIComponent(c)}`:"";return`${aj(t)}?${Dc(a).slice(1)}${l}`})}function aj({config:t}){return t.emulator?Gv(t,oj):`https://${t.authDomain}/${ij}`}var Av="webStorageSupport",Hv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iy,this._completeRedirectFn=R2,this._overrideRedirectResult=M2}_openPopup(e,n,r,i){return _(this,null,function*(){var o;Ki((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield UT(e,n,r,xv(),i);return nj(e,s,aD())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield UT(e,n,r,xv(),i);return p2(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ki(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield Y2(e),r=new $v(e);return n.register("authEvent",i=>(de(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Av,{type:Av},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Av];s!==void 0&&n(!!s),Wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=j2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tD()||Xv()||gh()}},fD=Hv;var BT="@firebase/auth",$T="1.6.1";var zv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function cj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lj(t){zi(new kn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;de(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nD(t)},l=new kv(r,i,o,c);return t2(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zi(new kn("auth-internal",e=>{let n=Jv(e.getProvider("auth").getImmediate());return(r=>new zv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vt(BT,$T,cj(t)),vt(BT,$T,"esm2017")}var uj=5*60,dj=av("authIdTokenMaxAge")||uj,HT=null,hj=t=>e=>_(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dj)return;let i=n?.token;HT!==i&&(HT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function oy(t=ea()){let e=xc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=ey(t,{popupRedirectResolver:fD,persistence:[dD,sD,iy]}),r=av("authTokenSyncURL");if(r){let o=hj(r);ry(n,o,()=>o(n.currentUser)),ny(n,s=>o(s))}let i=ov("auth");return i&&ty(n,`http://${i}`),n}function fj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}JL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=zo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",fj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lj("Browser");var pD="auth",Fc=class{constructor(e){return e}},Vc=class{constructor(){return Mc(pD)}};var sy=new G("angularfire2.auth-instances");function a3(t,e){let n=Yd(pD,t,e);return n&&new Fc(n)}function c3(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Fc(r)}}var l3={provide:Vc,deps:[[new sn,sy]]},u3={provide:Fc,useFactory:a3,deps:[[new sn,sy],ai]},d3=(()=>{class t{constructor(){vt("angularfire",$o.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=rn({type:t});static \u0275inj=on({providers:[u3,l3]})}return t})();function mD(t,...e){return{ngModule:d3,providers:[{provide:sy,useFactory:c3(t),multi:!0,deps:[Ie,Xe,ra,Ho,[new sn,na],...e]}]}}var gD=ia(oy,!0);var h3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ir={},j,Ay=Ay||{},ce=h3||self;function Ph(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Xc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function f3(t){return Object.prototype.hasOwnProperty.call(t,ay)&&t[ay]||(t[ay]=++p3)}var ay="closure_uid_"+(1e9*Math.random()>>>0),p3=0;function m3(t,e,n){return t.call.apply(t.bind,arguments)}function g3(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Xt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Xt=m3:Xt=g3,Xt.apply(null,arguments)}function yh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function xt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Qi(){this.s=this.s,this.o=this.o}var v3=0;Qi.prototype.s=!1;Qi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),v3!=0)&&f3(this)};Qi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var xD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function xy(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function vD(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Ph(r)){let i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Jt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Jt.prototype.h=function(){this.defaultPrevented=!0};var y3=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};ce.addEventListener("test",n,e),ce.removeEventListener("test",n,e)}catch{}return t}();function Hc(t){return/^[\s\xa0]*$/.test(t)}function Oh(){var t=ce.navigator;return t&&(t=t.userAgent)?t:""}function Dr(t){return Oh().indexOf(t)!=-1}function My(t){return My[" "](t),t}My[" "]=function(){};function _3(t,e){var n=aU;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var w3=Dr("Opera"),la=Dr("Trident")||Dr("MSIE"),MD=Dr("Edge"),hy=MD||la,PD=Dr("Gecko")&&!(Oh().toLowerCase().indexOf("webkit")!=-1&&!Dr("Edge"))&&!(Dr("Trident")||Dr("MSIE"))&&!Dr("Edge"),E3=Oh().toLowerCase().indexOf("webkit")!=-1&&!Dr("Edge");function OD(){var t=ce.document;return t?t.documentMode:void 0}var fy;e:{if(_h="",wh=function(){var t=Oh();if(PD)return/rv:([^\);]+)(\)|;)/.exec(t);if(MD)return/Edge\/([\d\.]+)/.exec(t);if(la)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(E3)return/WebKit\/(\S+)/.exec(t);if(w3)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),wh&&(_h=wh?wh[1]:""),la&&(Eh=OD(),Eh!=null&&Eh>parseFloat(_h))){fy=String(Eh);break e}fy=_h}var _h,wh,Eh,py;ce.document&&la?(cy=OD(),py=cy||parseInt(fy,10)||void 0):py=void 0;var cy,I3=py;function zc(t,e){if(Jt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(PD){e:{try{My(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:C3[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&zc.$.h.call(this)}}xt(zc,Jt);var C3={2:"touch",3:"pen",4:"mouse"};zc.prototype.h=function(){zc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Jc="closure_listenable_"+(1e6*Math.random()|0),b3=0;function T3(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++b3,this.fa=this.ia=!1}function Rh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Py(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function D3(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function RD(t){let e={};for(let n in t)e[n]=t[n];return e}var yD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ND(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<yD.length;o++)n=yD[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Nh(t){this.src=t,this.g={},this.h=0}Nh.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=gy(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new T3(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function my(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=xD(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Rh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function gy(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Oy="closure_lm_"+(1e6*Math.random()|0),ly={};function kD(t,e,n,r,i){if(r&&r.once)return VD(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)kD(t,e[o],n,r,i);return null}return n=ky(n),t&&t[Jc]?t.O(e,n,Xc(r)?!!r.capture:!!r,i):FD(t,e,n,!1,r,i)}function FD(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Xc(i)?!!i.capture:!!i,a=Ny(t);if(a||(t[Oy]=a=new Nh(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=S3(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)y3||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(jD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function S3(){function t(n){return e.call(t.src,t.listener,n)}let e=A3;return t}function VD(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)VD(t,e[o],n,r,i);return null}return n=ky(n),t&&t[Jc]?t.P(e,n,Xc(r)?!!r.capture:!!r,i):FD(t,e,n,!0,r,i)}function LD(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)LD(t,e[o],n,r,i);else r=Xc(r)?!!r.capture:!!r,n=ky(n),t&&t[Jc]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=gy(o,n,r,i),-1<n&&(Rh(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ny(t))&&(e=t.g[e.toString()],t=-1,e&&(t=gy(e,n,r,i)),(n=-1<t?e[t]:null)&&Ry(n))}function Ry(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Jc])my(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(jD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ny(e))?(my(n,t),n.h==0&&(n.src=null,e[Oy]=null)):Rh(t)}}}function jD(t){return t in ly?ly[t]:ly[t]="on"+t}function A3(t,e){if(t.fa)t=!0;else{e=new zc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Ry(t),t=n.call(r,e)}return t}function Ny(t){return t=t[Oy],t instanceof Nh?t:null}var uy="__closure_events_fn_"+(1e9*Math.random()>>>0);function ky(t){return typeof t=="function"?t:(t[uy]||(t[uy]=function(e){return t.handleEvent(e)}),t[uy])}function At(){Qi.call(this),this.i=new Nh(this),this.S=this,this.J=null}xt(At,Qi);At.prototype[Jc]=!0;At.prototype.removeEventListener=function(t,e,n,r){LD(this,t,e,n,r)};function Ht(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Jt(e,t);else if(e instanceof Jt)e.target=e.target||t;else{var i=e;e=new Jt(r,t),ND(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Ih(s,r,!0,e)&&i}if(s=e.g=t,i=Ih(s,r,!0,e)&&i,i=Ih(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Ih(s,r,!1,e)&&i}At.prototype.N=function(){if(At.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Rh(n[r]);delete t.g[e],t.h--}}this.J=null};At.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};At.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ih(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&my(t.i,s),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Fy=ce.JSON.stringify,vy=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function x3(){var t=Vy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var yy=class{constructor(){this.h=this.g=null}add(e,n){let r=UD.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},UD=new vy(()=>new _y,t=>t.reset()),_y=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function M3(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function P3(t){ce.setTimeout(()=>{throw t},0)}var qc,Gc=!1,Vy=new yy,BD=()=>{let t=ce.Promise.resolve(void 0);qc=()=>{t.then(O3)}},O3=()=>{for(var t;t=x3();){try{t.h.call(t.g)}catch(n){P3(n)}var e=UD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Gc=!1};function kh(t,e){At.call(this),this.h=t||1,this.g=e||ce,this.j=Xt(this.qb,this),this.l=Date.now()}xt(kh,At);j=kh.prototype;j.ga=!1;j.T=null;j.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ht(this,"tick"),this.ga&&(Ly(this),this.start()))}};j.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ly(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}j.N=function(){kh.$.N.call(this),Ly(this),delete this.g};function jy(t,e,n){if(typeof t=="function")n&&(t=Xt(t,n));else if(t&&typeof t.handleEvent=="function")t=Xt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ce.setTimeout(t,e||0)}function $D(t){t.g=jy(()=>{t.g=null,t.i&&(t.i=!1,$D(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var wy=class extends Qi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$D(this)}N(){super.N(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Wc(t){Qi.call(this),this.h=t,this.g={}}xt(Wc,Qi);var _D=[];function HD(t,e,n,r){Array.isArray(n)||(n&&(_D[0]=n.toString()),n=_D);for(var i=0;i<n.length;i++){var o=kD(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function zD(t){Py(t.g,function(e,n){this.g.hasOwnProperty(n)&&Ry(e)},t),t.g={}}Wc.prototype.N=function(){Wc.$.N.call(this),zD(this)};Wc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Fh(){this.g=!0}Fh.prototype.Ea=function(){this.g=!1};function R3(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&d[1]=="type"?s+(u+"="+l+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function N3(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function aa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+F3(t,n)+(r?" "+r:"")})}function k3(t,e){t.info(function(){return"TIMEOUT: "+e})}Fh.prototype.info=function(){};function F3(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Fy(n)}catch{return e}}var Yo={},wD=null;function Vh(){return wD=wD||new At}Yo.Ta="serverreachability";function qD(t){Jt.call(this,Yo.Ta,t)}xt(qD,Jt);function Kc(t){let e=Vh();Ht(e,new qD(e))}Yo.STAT_EVENT="statevent";function GD(t,e){Jt.call(this,Yo.STAT_EVENT,t),this.stat=e}xt(GD,Jt);function an(t){let e=Vh();Ht(e,new GD(e,t))}Yo.Ua="timingevent";function WD(t,e){Jt.call(this,Yo.Ua,t),this.size=e}xt(WD,Jt);function Zc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){t()},e)}var Lh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},KD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Uy(){}Uy.prototype.h=null;function ED(t){return t.h||(t.h=t.i())}function QD(){}var el={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function By(){Jt.call(this,"d")}xt(By,Jt);function $y(){Jt.call(this,"c")}xt($y,Jt);var Ey;function jh(){}xt(jh,Uy);jh.prototype.g=function(){return new XMLHttpRequest};jh.prototype.i=function(){return{}};Ey=new jh;function tl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Wc(this),this.P=V3,t=hy?125:void 0,this.V=new kh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new YD}function YD(){this.i=null,this.g="",this.h=!1}var V3=45e3,XD={},Iy={};j=tl.prototype;j.setTimeout=function(t){this.P=t};function Cy(t,e,n){t.L=1,t.A=Bh(di(e)),t.u=n,t.S=!0,JD(t,null)}function JD(t,e){t.G=Date.now(),nl(t),t.B=di(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),sS(n.i,"t",r),t.o=0,n=t.l.J,t.h=new YD,t.g=SS(t.l,n?e:null,!t.u),0<t.O&&(t.M=new wy(Xt(t.Pa,t,t.g),t.O)),HD(t.U,t.g,"readystatechange",t.nb),e=t.I?RD(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Kc(),R3(t.j,t.v,t.B,t.m,t.W,t.u)}j.nb=function(t){t=t.target;let e=this.M;e&&Sr(t)==3?e.l():this.Pa(t)};j.Pa=function(t){try{if(t==this.g)e:{let u=Sr(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>u)&&(u!=3||hy||this.g&&(this.h.h||this.g.ja()||TD(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Kc(3):Kc(2)),Uh(this);var n=this.g.da();this.ca=n;t:if(ZD(this)){var r=TD(this.g);t="";var i=r.length,o=Sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wo(this),$c(this);var s="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,N3(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hc(a)){var l=a;break t}}l=null}if(n=l)aa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,by(this,n);else{this.i=!1,this.s=3,an(12),Wo(this),$c(this);break e}}this.S?(eS(this,u,s),hy&&this.i&&u==3&&(HD(this.U,this.V,"tick",this.mb),this.V.start())):(aa(this.j,this.m,s,null),by(this,s)),u==4&&Wo(this),this.i&&!this.J&&(u==4?CS(this.l,this):(this.i=!1,nl(this)))}else iU(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,an(12)):(this.s=0,an(13)),Wo(this),$c(this)}}}catch{}finally{}};function ZD(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function eS(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=L3(t,n),i==Iy){e==4&&(t.s=4,an(14),r=!1),aa(t.j,t.m,null,"[Incomplete Response]");break}else if(i==XD){t.s=4,an(15),aa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else aa(t.j,t.m,i,null),by(t,i);ZD(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,an(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ky(e),e.M=!0,an(11))):(aa(t.j,t.m,n,"[Invalid Chunked Response]"),Wo(t),$c(t))}j.mb=function(){if(this.g){var t=Sr(this.g),e=this.g.ja();this.o<e.length&&(Uh(this),eS(this,t,e),this.i&&t!=4&&nl(this))}};function L3(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Iy:(n=Number(e.substring(n,r)),isNaN(n)?XD:(r+=1,r+n>e.length?Iy:(e=e.slice(r,r+n),t.o=r+n,e)))}j.cancel=function(){this.J=!0,Wo(this)};function nl(t){t.Y=Date.now()+t.P,tS(t,t.P)}function tS(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Zc(Xt(t.lb,t),e)}function Uh(t){t.C&&(ce.clearTimeout(t.C),t.C=null)}j.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(k3(this.j,this.B),this.L!=2&&(Kc(),an(17)),Wo(this),this.s=2,$c(this)):tS(this,this.Y-t)};function $c(t){t.l.H==0||t.J||CS(t.l,t)}function Wo(t){Uh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ly(t.V),zD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function by(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ty(n.i,t))){if(!t.K&&Ty(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Sh(n),zh(n);else break e;Wy(n),an(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Zc(Xt(n.ib,n),6e3));if(1>=lS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ko(n,11)}else if((t.K||n.g==t)&&Sh(n),!Hc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=l[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let v=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var o=r.i;o.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Hy(o,o.h),o.h=null))}if(r.F){let I=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,ze(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=DS(r,r.J?r.pa:null,r.Y),s.K){uS(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&(Uh(a),nl(a)),r.g=s}else ES(r);0<n.j.length&&qh(n)}else l[0]!="stop"&&l[0]!="close"||Ko(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Ko(n,7):Gy(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Kc(4)}catch{}}function j3(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ph(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function U3(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ph(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function nS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ph(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=U3(t),r=j3(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var rS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function B3(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Qo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Qo){this.h=t.h,Th(this,t.j),this.s=t.s,this.g=t.g,Dh(this,t.m),this.l=t.l;var e=t.i,n=new Qc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ID(this,n),this.o=t.o}else t&&(e=String(t).match(rS))?(this.h=!1,Th(this,e[1]||"",!0),this.s=Uc(e[2]||""),this.g=Uc(e[3]||"",!0),Dh(this,e[4]),this.l=Uc(e[5]||"",!0),ID(this,e[6]||"",!0),this.o=Uc(e[7]||"")):(this.h=!1,this.i=new Qc(null,this.h))}Qo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Bc(e,CD,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Bc(e,CD,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Bc(n,n.charAt(0)=="/"?z3:H3,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Bc(n,G3)),t.join("")};function di(t){return new Qo(t)}function Th(t,e,n){t.j=n?Uc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Dh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ID(t,e,n){e instanceof Qc?(t.i=e,W3(t.i,t.h)):(n||(e=Bc(e,q3)),t.i=new Qc(e,t.h))}function ze(t,e,n){t.i.set(e,n)}function Bh(t){return ze(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Uc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Bc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,$3),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $3(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var CD=/[#\/\?@]/g,H3=/[#\?:]/g,z3=/[#\?]/g,q3=/[#\?@]/g,G3=/#/g;function Qc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Yi(t){t.g||(t.g=new Map,t.h=0,t.i&&B3(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}j=Qc.prototype;j.add=function(t,e){Yi(this),this.i=null,t=ua(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function iS(t,e){Yi(t),e=ua(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function oS(t,e){return Yi(t),e=ua(t,e),t.g.has(e)}j.forEach=function(t,e){Yi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};j.ta=function(){Yi(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};j.Z=function(t){Yi(this);let e=[];if(typeof t=="string")oS(this,t)&&(e=e.concat(this.g.get(ua(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};j.set=function(t,e){return Yi(this),this.i=null,t=ua(this,t),oS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};j.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function sS(t,e,n){iS(t,e),0<n.length&&(t.i=null,t.g.set(ua(t,e),xy(n)),t.h+=n.length)}j.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function ua(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function W3(t,e){e&&!t.j&&(Yi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(iS(this,r),sS(this,i,n))},t)),t.j=e}var K3=class{constructor(t,e){this.g=t,this.map=e}};function aS(t){this.l=t||Q3,ce.PerformanceNavigationTiming?(t=ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ce.g&&ce.g.Ka&&ce.g.Ka()&&ce.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Q3=10;function cS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function lS(t){return t.h?1:t.g?t.g.size:0}function Ty(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Hy(t,e){t.g?t.g.add(e):t.h=e}function uS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}aS.prototype.cancel=function(){if(this.i=dS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function dS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return xy(t.i)}var Y3=class{stringify(t){return ce.JSON.stringify(t,void 0)}parse(t){return ce.JSON.parse(t,void 0)}};function X3(){this.g=new Y3}function J3(t,e,n){let r=n||"";try{nS(t,function(i,o){let s=i;Xc(i)&&(s=Fy(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Z3(t,e){let n=new Fh;if(ce.Image){let r=new Image;r.onload=yh(Ch,n,r,"TestLoadImage: loaded",!0,e),r.onerror=yh(Ch,n,r,"TestLoadImage: error",!1,e),r.onabort=yh(Ch,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=yh(Ch,n,r,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ch(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function rl(t){this.l=t.ec||null,this.j=t.ob||!1}xt(rl,Uy);rl.prototype.g=function(){return new $h(this.l,this.j)};rl.prototype.i=function(t){return function(){return t}}({});function $h(t,e){At.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=zy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xt($h,At);var zy=0;j=$h.prototype;j.open=function(t,e){if(this.readyState!=zy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Yc(this)};j.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};j.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,il(this)),this.readyState=zy};j.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Yc(this)),this.g&&(this.readyState=3,Yc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function hS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}j.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?il(this):Yc(this),this.readyState==3&&hS(this)}};j.Za=function(t){this.g&&(this.response=this.responseText=t,il(this))};j.Ya=function(t){this.g&&(this.response=t,il(this))};j.ka=function(){this.g&&il(this)};function il(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Yc(t)}j.setRequestHeader=function(t,e){this.v.append(t,e)};j.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};j.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Yc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty($h.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var eU=ce.JSON.parse;function tt(t){At.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fS,this.L=this.M=!1}xt(tt,At);var fS="",tU=/^https?$/i,nU=["POST","PUT"];j=tt.prototype;j.Oa=function(t){this.M=t};j.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ey.g(),this.C=this.u?ED(this.u):ED(Ey),this.g.onreadystatechange=Xt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){bD(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=ce.FormData&&t instanceof ce.FormData,!(0<=xD(nU,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gS(this),0<this.B&&((this.L=rU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xt(this.ua,this)):this.A=jy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){bD(this,o)}};function rU(t){return la&&typeof t.timeout=="number"&&t.ontimeout!==void 0}j.ua=function(){typeof Ay<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ht(this,"timeout"),this.abort(8))};function bD(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,pS(t),Hh(t)}function pS(t){t.F||(t.F=!0,Ht(t,"complete"),Ht(t,"error"))}j.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ht(this,"complete"),Ht(this,"abort"),Hh(this))};j.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hh(this,!0)),tt.$.N.call(this)};j.La=function(){this.s||(this.G||this.v||this.l?mS(this):this.kb())};j.kb=function(){mS(this)};function mS(t){if(t.h&&typeof Ay<"u"&&(!t.C[1]||Sr(t)!=4||t.da()!=2)){if(t.v&&Sr(t)==4)jy(t.La,0,t);else if(Ht(t,"readystatechange"),Sr(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(rS)[1]||null;!i&&ce.self&&ce.self.location&&(i=ce.self.location.protocol.slice(0,-1)),r=!tU.test(i?i.toLowerCase():"")}n=r}if(n)Ht(t,"complete"),Ht(t,"success");else{t.m=6;try{var o=2<Sr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",pS(t)}}finally{Hh(t)}}}}function Hh(t,e){if(t.g){gS(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ht(t,"ready");try{n.onreadystatechange=r}catch{}}}function gS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ce.clearTimeout(t.A),t.A=null)}j.isActive=function(){return!!this.g};function Sr(t){return t.g?t.g.readyState:0}j.da=function(){try{return 2<Sr(this)?this.g.status:-1}catch{return-1}};j.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};j.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),eU(e)}};function TD(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case fS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function iU(t){let e={};t=(t.g&&2<=Sr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Hc(t[r]))continue;var n=M3(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[i]||[];e[i]=o,o.push(n)}D3(e,function(r){return r.join(", ")})}j.Ia=function(){return this.m};j.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function vS(t){let e="";return Py(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function qy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=vS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ze(t,e,n))}function Lc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function yS(t){this.Ga=0,this.j=[],this.l=new Fh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Lc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Lc("baseRetryDelayMs",5e3,t),this.hb=Lc("retryDelaySeedMs",1e4,t),this.eb=Lc("forwardChannelMaxRetries",2,t),this.xa=Lc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new aS(t&&t.concurrentRequestLimit),this.Ja=new X3,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}j=yS.prototype;j.ra=8;j.H=1;function Gy(t){if(_S(t),t.H==3){var e=t.W++,n=di(t.I);if(ze(n,"SID",t.K),ze(n,"RID",e),ze(n,"TYPE","terminate"),ol(t,n),e=new tl(t,t.l,e),e.L=2,e.A=Bh(di(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon)try{n=ce.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ce.Image&&(new Image().src=e.A,n=!0),n||(e.g=SS(e.l,null),e.g.ha(e.A)),e.G=Date.now(),nl(e)}TS(t)}function zh(t){t.g&&(Ky(t),t.g.cancel(),t.g=null)}function _S(t){zh(t),t.u&&(ce.clearTimeout(t.u),t.u=null),Sh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ce.clearTimeout(t.m),t.m=null)}function qh(t){if(!cS(t.i)&&!t.m){t.m=!0;var e=t.Na;qc||BD(),Gc||(qc(),Gc=!0),Vy.add(e,t),t.C=0}}function oU(t,e){return lS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Zc(Xt(t.Na,t,e),bS(t,t.C)),t.C++,!0)}j.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new tl(this,this.l,t),o=this.s;if(this.U&&(o?(o=RD(o),ND(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=wS(this,i,e),n=di(this.I),ze(n,"RID",t),ze(n,"CVER",22),this.F&&ze(n,"X-HTTP-Session-Id",this.F),ol(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(vS(o)))+"&"+e:this.o&&qy(n,this.o,o)),Hy(this.i,i),this.bb&&ze(n,"TYPE","init"),this.P?(ze(n,"$req",e),ze(n,"SID","null"),i.aa=!0,Cy(i,n,null)):Cy(i,n,e),this.H=2}}else this.H==3&&(t?DD(this,t):this.j.length==0||cS(this.i)||DD(this))};function DD(t,e){var n;e?n=e.m:n=t.W++;let r=di(t.I);ze(r,"SID",t.K),ze(r,"RID",n),ze(r,"AID",t.V),ol(t,r),t.o&&t.s&&qy(r,t.o,t.s),n=new tl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=wS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Hy(t.i,n),Cy(n,r,e)}function ol(t,e){t.na&&Py(t.na,function(n,r){ze(e,r,n)}),t.h&&nS({},function(n,r){ze(e,r,n)})}function wS(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Xt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=i[c].g,u=i[c].map;if(l-=o,0>l)o=Math.max(0,i[c].g-100),a=!1;else try{J3(u,s,"req"+l+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function ES(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;qc||BD(),Gc||(qc(),Gc=!0),Vy.add(e,t),t.A=0}}function Wy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Zc(Xt(t.Ma,t),bS(t,t.A)),t.A++,!0)}j.Ma=function(){if(this.u=null,IS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Zc(Xt(this.jb,this),t)}};j.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,an(10),zh(this),IS(this))};function Ky(t){t.B!=null&&(ce.clearTimeout(t.B),t.B=null)}function IS(t){t.g=new tl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=di(t.wa);ze(e,"RID","rpc"),ze(e,"SID",t.K),ze(e,"AID",t.V),ze(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ze(e,"TO",t.qa),ze(e,"TYPE","xmlhttp"),ol(t,e),t.o&&t.s&&qy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Bh(di(e)),n.u=null,n.S=!0,JD(n,t)}j.ib=function(){this.v!=null&&(this.v=null,zh(this),Wy(this),an(19))};function Sh(t){t.v!=null&&(ce.clearTimeout(t.v),t.v=null)}function CS(t,e){var n=null;if(t.g==e){Sh(t),Ky(t),t.g=null;var r=2}else if(Ty(t.i,e))n=e.F,uS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Vh(),Ht(r,new WD(r,n)),qh(t)}else ES(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&oU(t,e)||r==2&&Wy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ko(t,5);break;case 4:Ko(t,10);break;case 3:Ko(t,6);break;default:Ko(t,2)}}}function bS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ko(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Xt(t.pb,t);n||(n=new Qo("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||Th(n,"https"),Bh(n)),Z3(n.toString(),r)}else an(2);t.H=0,t.h&&t.h.za(e),TS(t),_S(t)}j.pb=function(t){t?(this.l.info("Successfully pinged google.com"),an(2)):(this.l.info("Failed to ping google.com"),an(1))};function TS(t){if(t.H=0,t.ma=[],t.h){let e=dS(t.i);(e.length!=0||t.j.length!=0)&&(vD(t.ma,e),vD(t.ma,t.j),t.i.i.length=0,xy(t.j),t.j.length=0),t.h.ya()}}function DS(t,e,n){var r=n instanceof Qo?di(n):new Qo(n);if(r.g!="")e&&(r.g=e+"."+r.g),Dh(r,r.m);else{var i=ce.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Qo(null);r&&Th(o,r),e&&(o.g=e),i&&Dh(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&ze(r,n,e),ze(r,"VER",t.ra),ol(t,r),r}function SS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new tt(new rl({ob:n})):new tt(t.va),e.Oa(t.J),e}j.isActive=function(){return!!this.h&&this.h.isActive(this)};function AS(){}j=AS.prototype;j.Ba=function(){};j.Aa=function(){};j.za=function(){};j.ya=function(){};j.isActive=function(){return!0};j.Va=function(){};function Ah(){if(la&&!(10<=Number(I3)))throw Error("Environmental error: no available transport.")}Ah.prototype.g=function(t,e){return new bn(t,e)};function bn(t,e){At.call(this),this.g=new yS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Hc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new da(this)}xt(bn,At);bn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;an(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=DS(t,null,t.Y),qh(t)};bn.prototype.close=function(){Gy(this.g)};bn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Fy(t),t=n);e.j.push(new K3(e.fb++,t)),e.H==3&&qh(e)};bn.prototype.N=function(){this.g.h=null,delete this.j,Gy(this.g),delete this.g,bn.$.N.call(this)};function xS(t){By.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}xt(xS,By);function MS(){$y.call(this),this.status=1}xt(MS,$y);function da(t){this.g=t}xt(da,AS);da.prototype.Ba=function(){Ht(this.g,"a")};da.prototype.Aa=function(t){Ht(this.g,new xS(t))};da.prototype.za=function(t){Ht(this.g,new MS)};da.prototype.ya=function(){Ht(this.g,"b")};function sU(){this.blockSize=-1}function rr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}xt(rr,sU);rr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function dy(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}rr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)dy(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){dy(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){dy(this,r),i=0;break}}this.h=i,this.i+=e};rr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ve(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var aU={};function Qy(t){return-128<=t&&128>t?_3(t,function(e){return new Ve([e|0],0>e?-1:0)}):new Ve([t|0],0>t?-1:0)}function Ar(t){if(isNaN(t)||!isFinite(t))return ca;if(0>t)return $t(Ar(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Dy;return new Ve(e,0)}function PS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return $t(PS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ar(Math.pow(e,8)),r=ca,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Ar(Math.pow(e,o)),r=r.R(o).add(Ar(s))):(r=r.R(n),r=r.add(Ar(s)))}return r}var Dy=4294967296,ca=Qy(0),Sy=Qy(1),SD=Qy(16777216);j=Ve.prototype;j.ea=function(){if(Fn(this))return-$t(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Dy+r)*e,e*=Dy}return t};j.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ui(this))return"0";if(Fn(this))return"-"+$t(this).toString(t);for(var e=Ar(Math.pow(t,6)),n=this,r="";;){var i=Mh(n,e).g;n=xh(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ui(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};j.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ui(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Fn(t){return t.h==-1}j.X=function(t){return t=xh(this,t),Fn(t)?-1:ui(t)?0:1};function $t(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ve(n,~t.h).add(Sy)}j.abs=function(){return Fn(this)?$t(this):this};j.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Ve(n,n[n.length-1]&-2147483648?-1:0)};function xh(t,e){return t.add($t(e))}j.R=function(t){if(ui(this)||ui(t))return ca;if(Fn(this))return Fn(t)?$t(this).R($t(t)):$t($t(this).R(t));if(Fn(t))return $t(this.R($t(t)));if(0>this.X(SD)&&0>t.X(SD))return Ar(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=s*c,bh(n,2*r+2*i),n[2*r+2*i+1]+=o*c,bh(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,bh(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,bh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ve(n,0)};function bh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function jc(t,e){this.g=t,this.h=e}function Mh(t,e){if(ui(e))throw Error("division by zero");if(ui(t))return new jc(ca,ca);if(Fn(t))return e=Mh($t(t),e),new jc($t(e.g),$t(e.h));if(Fn(e))return e=Mh(t,$t(e)),new jc($t(e.g),e.h);if(30<t.g.length){if(Fn(t)||Fn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Sy,r=e;0>=r.X(t);)n=AD(n),r=AD(r);var i=sa(n,1),o=sa(r,1);for(r=sa(r,2),n=sa(n,2);!ui(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=sa(r,1),n=sa(n,1)}return e=xh(t,i.R(e)),new jc(i,e)}for(i=ca;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Ar(n),s=o.R(e);Fn(s)||0<s.X(t);)n-=r,o=Ar(n),s=o.R(e);ui(o)&&(o=Sy),i=i.add(o),t=xh(t,s)}return new jc(i,t)}j.gb=function(t){return Mh(this,t).h};j.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ve(n,this.h&t.h)};j.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ve(n,this.h|t.h)};j.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ve(n,this.h^t.h)};function AD(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ve(n,t.h)}function sa(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ve(i,t.h)}Ah.prototype.createWebChannel=Ah.prototype.g;bn.prototype.send=bn.prototype.u;bn.prototype.open=bn.prototype.m;bn.prototype.close=bn.prototype.close;Lh.NO_ERROR=0;Lh.TIMEOUT=8;Lh.HTTP_ERROR=6;KD.COMPLETE="complete";QD.EventType=el;el.OPEN="a";el.CLOSE="b";el.ERROR="c";el.MESSAGE="d";At.prototype.listen=At.prototype.O;tt.prototype.listenOnce=tt.prototype.P;tt.prototype.getLastError=tt.prototype.Sa;tt.prototype.getLastErrorCode=tt.prototype.Ia;tt.prototype.getStatus=tt.prototype.da;tt.prototype.getResponseJson=tt.prototype.Wa;tt.prototype.getResponseText=tt.prototype.ja;tt.prototype.send=tt.prototype.ha;tt.prototype.setWithCredentials=tt.prototype.Oa;rr.prototype.digest=rr.prototype.l;rr.prototype.reset=rr.prototype.reset;rr.prototype.update=rr.prototype.j;Ve.prototype.add=Ve.prototype.add;Ve.prototype.multiply=Ve.prototype.R;Ve.prototype.modulo=Ve.prototype.gb;Ve.prototype.compare=Ve.prototype.X;Ve.prototype.toNumber=Ve.prototype.ea;Ve.prototype.toString=Ve.prototype.toString;Ve.prototype.getBits=Ve.prototype.D;Ve.fromNumber=Ar;Ve.fromString=PS;var cU=ir.createWebChannelTransport=function(){return new Ah},lU=ir.getStatEventTarget=function(){return Vh()},uU=ir.ErrorCode=Lh,dU=ir.EventType=KD,hU=ir.Event=Yo,fU=ir.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qY=ir.FetchXmlHttpFactory=rl,pU=ir.WebChannel=QD,mU=ir.XhrIo=tt,gU=ir.Md5=rr,OS=ir.Integer=Ve;var RS="@firebase/firestore";var Mt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");var sl="10.8.1";var fa=new $i("@firebase/firestore");function Tn(t,...e){if(fa.logLevel<=Me.DEBUG){let n=e.map(v_);fa.debug(`Firestore (${sl}): ${t}`,...n)}}function g_(t,...e){if(fa.logLevel<=Me.ERROR){let n=e.map(v_);fa.error(`Firestore (${sl}): ${t}`,...n)}}function vU(t,...e){if(fa.logLevel<=Me.WARN){let n=e.map(v_);fa.warn(`Firestore (${sl}): ${t}`,...n)}}function v_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function mn(t="Unexpected state"){let e=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: `+t;throw g_(e),new Error(e)}function Xy(t,e){t||mn()}var zt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},yt=class extends Cn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ji=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Gh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Jy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}},Zy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},e_=class{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ji,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>_(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{Tn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Tn("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ji)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Tn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xy(typeof r.accessToken=="string"),new Gh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Xy(e===null||typeof e=="string"),new Mt(e)}},t_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},n_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new t_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},r_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},i_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&Tn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,Tn("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Tn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):Tn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xy(typeof n.token=="string"),this.R=n.token,new r_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function yU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var o_=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=yU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function VS(t,e){return t<e?-1:t>e?1:0}var s_=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&mn(),r===void 0?r=e.length-n:r>e.length-n&&mn(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Xi=class t extends s_{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new yt(zt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}};var Xo=class t{constructor(e){this.path=e}static fromPath(e){return new t(Xi.fromString(e))}static fromName(e){return new t(Xi.fromString(e).popFirst(5))}static empty(){return new t(Xi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xi.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xi.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Xi(e.slice()))}};var a_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};a_.UNKNOWN_ID=-1;function LS(t){return t.name==="IndexedDbTransactionError"}function _U(t){return t===0&&1/t==-1/0}var wU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],nX=[...wU,"documentOverlays"],EU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],IU=EU,rX=[...IU,"indexConfiguration","indexState","indexEntries"];var pa=class t{constructor(e,n){this.comparator=e,this.root=n||Mr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ha(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ha(this.root,e,this.comparator,!1)}getReverseIterator(){return new ha(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ha(this.root,e,this.comparator,!0)}},ha=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Mr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mn();let e=this.left.check();if(e!==this.right.check())throw mn();return e+(this.isRed()?0:1)}};Mr.EMPTY=null,Mr.RED=!0,Mr.BLACK=!1;Mr.EMPTY=new class{constructor(){this.size=0}get key(){throw mn()}get value(){throw mn()}get color(){throw mn()}get left(){throw mn()}get right(){throw mn()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Mr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Wh=class t{constructor(e){this.comparator=e,this.data=new pa(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kh(this.data.getIterator())}getIteratorFrom(e){return new Kh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Kh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var c_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ma=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new c_("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return VS(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ma.EMPTY_BYTE_STRING=new ma("");var oX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function NS(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function CU(t){return typeof t=="string"?ma.fromBase64String(t):ma.fromUint8Array(t)}var l_=class{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},u_=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function bU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var sX=new pa(Xo.comparator);var aX=new pa(Xo.comparator);var cX=new pa(Xo.comparator),lX=new Wh(Xo.comparator);var uX=new Wh(VS);var kS,Ce;(Ce=kS||(kS={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";var dX=new OS([4294967295,4294967295],0);var Qh=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(NS(e.integerValue));else if("doubleValue"in e){let r=NS(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),_U(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(CU(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?bU(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):mn()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),Xo.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Qh.bt=new Qh;var hX=new Uint8Array(0);var xr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};xr.DEFAULT_COLLECTION_PERCENTILE=10,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xr.DEFAULT=new xr(41943040,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xr.DISABLED=new xr(-1,0,0);function Yy(){return typeof document<"u"?document:null}var d_=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&Tn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var h_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(zt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function TU(t,e){if(g_("AsyncQueue",`${e}: ${t}`),LS(t))return new yt(zt.UNAVAILABLE,`${e}: ${t}`);throw t}var f_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mt.UNAUTHENTICATED,this.clientId=o_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>_(this,null,function*(){Tn("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(Tn("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new yt(zt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=TU(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function jS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var FS=new Map;function DU(t,e,n,r){if(e===!0&&r===!0)throw new yt(zt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function SU(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":mn()}function AU(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new yt(zt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=SU(t);throw new yt(zt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Yh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new yt(zt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new yt(zt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new yt(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new yt(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new yt(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Xh=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new yt(zt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new yt(zt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Jy;switch(r.type){case"firstParty":return new n_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new yt(zt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=FS.get(n);r&&(Tn("ComponentProvider","Removing Datastore"),FS.delete(n),r.terminate())}(this),Promise.resolve()}};function US(t,e,n,r={}){var i;let o=(t=AU(t,Xh))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&vU("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Mt.MOCK_USER;else{a=cT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new yt(zt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Mt(l)}t._authCredentials=new Zy(new Gh(a,c))}}var p_=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new d_(this,"async_queue_retry"),this._u=()=>{let n=Yy();n&&Tn("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Yy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=Yy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new Ji;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return _(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!LS(e))throw e;Tn("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw g_("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);let i=h_.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&mn()}verifyOperationInProgress(){}hu(){return _(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};var m_=class extends Xh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new p_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||xU(this),this._firestoreClient.terminate()}};function BS(t,e){let n=typeof t=="object"?t:ea(),r=typeof t=="string"?t:e||"(default)",i=xc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=aT("firestore");o&&US(i,...o)}return i}function xU(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,l,u){return new l_(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,jS(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new f_(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var fX=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(i){sl=i})(qi),zi(new kn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new m_(new e_(r.getProvider("auth-internal")),new i_(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new yt(zt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new u_(l.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),vt(RS,"4.4.3",e),vt(RS,"4.4.3","esm2017")})();var al=class{constructor(e){return e}},$S="firestore",y_=class{constructor(){return Mc($S)}};var __=new G("angularfire2.firestore-instances");function MU(t,e){let n=Yd($S,t,e);return n&&new al(n)}function PU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new al(r)}}var OU={provide:y_,deps:[[new sn,__]]},RU={provide:al,useFactory:MU,deps:[[new sn,__],ai]},NU=(()=>{class t{constructor(){vt("angularfire",$o.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=rn({type:t});static \u0275inj=on({providers:[RU,OU]})}return t})();function HS(t,...e){return{ngModule:NU,providers:[{provide:__,useFactory:PU(t),multi:!0,deps:[Ie,Xe,ra,Ho,[new sn,Vc],[new sn,na],...e]}]}}var zS=ia(BS,!0);var I_=class extends jd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},C_=class t extends I_{static makeCurrent(){Ub(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=kU();return n==null?null:FU(n)}resetBaseElement(){cl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Bd(document.cookie,e)}},cl=null;function kU(){return cl=cl||document.querySelector("base"),cl?cl.getAttribute("href"):null}function FU(t){return new URL(t,document.baseURI).pathname}var VU=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),b_=new G(""),WS=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new P(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(L(b_),L(Ie))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),Jh=class{constructor(e){this._doc=e}},w_="ng-app-id",KS=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yc(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${w_}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(w_),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(w_,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(L(Bt),L(ug),L(fg,8),L(Rn))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),E_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},D_=/%COMP%/g,QS="%COMP%",LU=`_nghost-${QS}`,jU=`_ngcontent-${QS}`,UU=!0,BU=new G("",{providedIn:"root",factory:()=>UU});function $U(t){return jU.replace(D_,t)}function HU(t){return LU.replace(D_,t)}function YS(t,e){return e.map(n=>n.replace(D_,t))}var Zh=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=yc(c),this.defaultRenderer=new ll(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===vr.ShadowDom&&(i=Se(R({},i),{encapsulation:vr.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof ef?o.applyToHost(r):o instanceof ul&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case vr.Emulated:s=new ef(l,u,i,this.appId,d,a,c,h);break;case vr.ShadowDom:return new T_(l,u,r,i,a,c,this.nonce,h);default:s=new ul(l,u,i,d,a,c,h);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(L(WS),L(KS),L(ug),L(BU),L(Bt),L(Rn),L(Ie),L(fg))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),ll=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(E_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(qS(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(qS(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new P(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=E_[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=E_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Gr.DashCase|Gr.Important)?e.style.setProperty(n,r,i&Gr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Gr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=ii().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function qS(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var T_=class extends ll{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=YS(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ul=class extends ll{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?YS(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ef=class extends ul{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=$U(l),this.hostAttr=HU(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},zU=(()=>{let e=class e extends Jh{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(L(Bt))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),GS=["alt","control","meta","shift"],qU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},GU={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},WU=(()=>{let e=class e extends Jh{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ii().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),GS.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=qU[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),GS.forEach(a=>{if(a!==o){let c=GU[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(L(Bt))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})();function XS(t,e){return Rb(R({rootComponent:t},KU(e)))}function KU(t){return{appProviders:[...ZU,...t?.providers??[]],platformProviders:JU}}function QU(){C_.makeCurrent()}function YU(){return new Er}function XU(){return NI(document),document}var JU=[{provide:Rn,useValue:zb},{provide:dg,useValue:QU,multi:!0},{provide:Bt,useFactory:XU,deps:[]}];var ZU=[{provide:bd,useValue:"root"},{provide:Er,useFactory:YU,deps:[]},{provide:b_,useClass:zU,multi:!0,deps:[Bt,Ie,Rn]},{provide:b_,useClass:WU,multi:!0,deps:[Bt]},Zh,KS,WS,{provide:Ao,useExisting:Zh},{provide:Zs,useClass:VU,deps:[]},[]];var JS=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(L(Bt))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var S_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:function(i){let o=null;return i?o=new(i||e):o=L(eB),o},providedIn:"root"});let t=e;return t})(),eB=(()=>{let e=class e extends S_{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case Zr.NONE:return i;case Zr.HTML:return Po(i,"HTML")?tr(i):CC(this._doc,String(i)).toString();case Zr.STYLE:return Po(i,"Style")?tr(i):i;case Zr.SCRIPT:if(Po(i,"Script"))return tr(i);throw new P(5200,!1);case Zr.URL:return Po(i,"URL")?tr(i):Ad(String(i));case Zr.RESOURCE_URL:if(Po(i,"ResourceURL"))return tr(i);throw new P(5201,!1);default:throw new P(5202,!1)}}bypassSecurityTrustHtml(r){return pC(r)}bypassSecurityTrustStyle(r){return mC(r)}bypassSecurityTrustScript(r){return gC(r)}bypassSecurityTrustUrl(r){return vC(r)}bypassSecurityTrustResourceUrl(r){return yC(r)}};e.\u0275fac=function(i){return new(i||e)(L(Bt))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var he=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(he||{}),Pr="*";function Or(t,e){return{type:he.Trigger,name:t,definitions:e,options:{}}}function Zt(t,e=null){return{type:he.Animate,styles:e,timings:t}}function eA(t,e=null){return{type:he.Sequence,steps:t,options:e}}function we(t){return{type:he.Style,styles:t,offset:null}}function tA(t,e,n){return{type:he.State,name:t,styles:e,options:n}}function Pt(t,e,n=null){return{type:he.Transition,expr:t,animation:e,options:n}}var Zi=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},dl=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},tf="!";function nA(t){return new P(3e3,!1)}function tB(){return new P(3100,!1)}function nB(){return new P(3101,!1)}function rB(t){return new P(3001,!1)}function iB(t){return new P(3003,!1)}function oB(t){return new P(3004,!1)}function sB(t,e){return new P(3005,!1)}function aB(){return new P(3006,!1)}function cB(){return new P(3007,!1)}function lB(t,e){return new P(3008,!1)}function uB(t){return new P(3002,!1)}function dB(t,e,n,r,i){return new P(3010,!1)}function hB(){return new P(3011,!1)}function fB(){return new P(3012,!1)}function pB(){return new P(3200,!1)}function mB(){return new P(3202,!1)}function gB(){return new P(3013,!1)}function vB(t){return new P(3014,!1)}function yB(t){return new P(3015,!1)}function _B(t){return new P(3016,!1)}function wB(t,e){return new P(3404,!1)}function EB(t){return new P(3502,!1)}function IB(t){return new P(3503,!1)}function CB(){return new P(3300,!1)}function bB(t){return new P(3504,!1)}function TB(t){return new P(3301,!1)}function DB(t,e){return new P(3302,!1)}function SB(t){return new P(3303,!1)}function AB(t,e){return new P(3400,!1)}function xB(t){return new P(3401,!1)}function MB(t){return new P(3402,!1)}function PB(t,e){return new P(3505,!1)}function eo(t){switch(t.length){case 0:return new Zi;case 1:return t[0];default:return new dl(t)}}function gA(t,e,n=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((h,f)=>{let v=f,I=h;if(f!=="offset")switch(v=t.normalizePropertyName(v,i),I){case tf:I=n.get(f);break;case Pr:I=r.get(f);break;default:I=t.normalizeStyleValue(f,v,I,i);break}d.set(v,I)}),u||o.push(d),a=d,s=l}),i.length)throw EB(i);return o}function Y_(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&A_(n,"start",t)));break;case"done":t.onDone(()=>r(n&&A_(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&A_(n,"destroy",t)));break}}function A_(t,e,n){let r=n.totalTime,i=!!n.disabled,o=X_(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),s=t._data;return s!=null&&(o._data=s),o}function X_(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Sn(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function rA(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var OB=typeof document>"u"?null:document.documentElement;function J_(t){let e=t.parentNode||t.host||null;return e===OB?null:e}function RB(t){return t.substring(1,6)=="ebkit"}var Jo=null,iA=!1;function NB(t){Jo||(Jo=kB()||{},iA=Jo.style?"WebkitAppearance"in Jo.style:!1);let e=!0;return Jo.style&&!RB(t)&&(e=t in Jo.style,!e&&iA&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Jo.style)),e}function kB(){return typeof document<"u"?document.body:null}function vA(t,e){for(;e;){if(e===t)return!0;e=J_(e)}return!1}function yA(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var Z_=(()=>{let e=class e{validateStyleProperty(r){return NB(r)}matchesElement(r,i){return!1}containsElement(r,i){return vA(r,i)}getParentElement(r){return J_(r)}query(r,i,o){return yA(r,i,o)}computeStyle(r,i,o){return o||""}animate(r,i,o,s,a,c=[],l){return new Zi(o,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),rw=class rw{};rw.NOOP=new Z_;var ts=rw,ns=class{};var FB=1e3,_A="{{",VB="}}",wA="ng-enter",N_="ng-leave",nf="ng-trigger",cf=".ng-trigger",oA="ng-animating",k_=".ng-animating";function hi(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:F_(parseFloat(e[1]),e[2])}function F_(t,e){switch(e){case"s":return t*FB;default:return t}}function lf(t,e,n){return t.hasOwnProperty("duration")?t:LB(t,e,n)}function LB(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(nA(t)),{duration:0,delay:0,easing:""};i=F_(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=F_(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=t;if(!n){let a=!1,c=e.length;i<0&&(e.push(tB()),a=!0),o<0&&(e.push(nB()),a=!0),a&&e.splice(c,0,nA(t))}return{duration:i,delay:o,easing:s}}function jB(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Rr(t,e,n){e.forEach((r,i)=>{let o=ew(i);n&&!n.has(i)&&n.set(i,t.style[o]),t.style[o]=r})}function es(t,e){e.forEach((n,r)=>{let i=ew(r);t.style[i]=""})}function hl(t){return Array.isArray(t)?t.length==1?t[0]:eA(t):t}function UB(t,e,n){let r=e.params||{},i=EA(t);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||n.push(rB(o))})}var V_=new RegExp(`${_A}\\s*(.+?)\\s*${VB}`,"g");function EA(t){let e=[];if(typeof t=="string"){let n;for(;n=V_.exec(t);)e.push(n[1]);V_.lastIndex=0}return e}function pl(t,e,n){let r=`${t}`,i=r.replace(V_,(o,s)=>{let a=e[s];return a==null&&(n.push(iB(s)),a=""),a.toString()});return i==r?t:i}var BB=/-+([a-z0-9])/g;function ew(t){return t.replace(BB,(...e)=>e[1].toUpperCase())}function $B(t,e){return t===0||e===0}function HB(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,tw(t,a)))}}return e}function Dn(t,e,n){switch(e.type){case he.Trigger:return t.visitTrigger(e,n);case he.State:return t.visitState(e,n);case he.Transition:return t.visitTransition(e,n);case he.Sequence:return t.visitSequence(e,n);case he.Group:return t.visitGroup(e,n);case he.Animate:return t.visitAnimate(e,n);case he.Keyframes:return t.visitKeyframes(e,n);case he.Style:return t.visitStyle(e,n);case he.Reference:return t.visitReference(e,n);case he.AnimateChild:return t.visitAnimateChild(e,n);case he.AnimateRef:return t.visitAnimateRef(e,n);case he.Query:return t.visitQuery(e,n);case he.Stagger:return t.visitStagger(e,n);default:throw oB(e.type)}}function tw(t,e){return window.getComputedStyle(t)[e]}var zB=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),uf=class extends ns{normalizePropertyName(e,n){return ew(e)}normalizeStyleValue(e,n,r,i){let o="",s=r.toString().trim();if(zB.has(n)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(sB(e,r))}return s+o}};var df="*";function qB(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>GB(r,n,e)):n.push(t),n}function GB(t,e,n){if(t[0]==":"){let c=WB(t,n);if(typeof c=="function"){e.push(c);return}t=c}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(yB(t)),e;let i=r[1],o=r[2],s=r[3];e.push(sA(i,s));let a=i==df&&s==df;o[0]=="<"&&!a&&e.push(sA(s,i))}function WB(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(_B(t)),"* => *"}}var rf=new Set(["true","1"]),of=new Set(["false","0"]);function sA(t,e){let n=rf.has(t)||of.has(t),r=rf.has(e)||of.has(e);return(i,o)=>{let s=t==df||t==i,a=e==df||e==o;return!s&&n&&typeof i=="boolean"&&(s=i?rf.has(t):of.has(t)),!a&&r&&typeof o=="boolean"&&(a=o?rf.has(e):of.has(e)),s&&a}}var IA=":self",KB=new RegExp(`s*${IA}s*,?`,"g");function CA(t,e,n,r){return new L_(t).build(e,n,r)}var aA="",L_=class{constructor(e){this._driver=e}build(e,n,r){let i=new j_(n);return this._resetContextStyleTimingState(i),Dn(this,hl(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=aA,e.collectedStyles=new Map,e.collectedStyles.set(aA,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&n.errors.push(aB()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==he.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,n))}),c.name=l}else if(a.type==he.Transition){let c=this.visitTransition(a,n);r+=c.queryCount,i+=c.depCount,s.push(c)}else n.errors.push(cB())}),{type:he.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{EA(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&n.errors.push(lB(e.name,[...o.values()]))}return{type:he.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=Dn(this,hl(e.animation),n),i=qB(e.expr,n.errors);return{type:he.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Zo(e.options)}}visitSequence(e,n){return{type:he.Sequence,steps:e.steps.map(r=>Dn(this,r,n)),options:Zo(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,o=e.steps.map(s=>{n.currentTime=r;let a=Dn(this,s,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:he.Group,steps:o,options:Zo(e.options)}}visitAnimate(e,n){let r=JB(e.timings,n.errors);n.currentAnimateTimings=r;let i,o=e.styles?e.styles:we({});if(o.type==he.Keyframes)i=this.visitKeyframes(o,n);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=we(l)}n.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,n);c.isEmptyStep=a,i=c}return n.currentAnimateTimings=null,{type:he.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Pr?r.push(a):n.errors.push(uB(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(_A)>=0){o=!0;break}}}),{type:he.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,o=n.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=n.collectedStyles.get(n.currentQuerySelector),u=l.get(c),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(n.errors.push(dB(c,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),n.options&&UB(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:he.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(hB()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,u=e.steps.map(D=>{let $=this._makeStyleAst(D,n),z=$.offset!=null?$.offset:XB($.styles),p=0;return z!=null&&(o++,p=$.offset=z),c=c||p<0||p>1,a=a||p<l,l=p,s.push(p),$});c&&n.errors.push(fB()),a&&n.errors.push(pB());let d=e.steps.length,h=0;o>0&&o<d?n.errors.push(mB()):o==0&&(h=i/(d-1));let f=d-1,v=n.currentTime,I=n.currentAnimateTimings,T=I.duration;return u.forEach((D,$)=>{let z=h>0?$==f?1:h*$:s[$],p=z*T;n.currentTime=v+I.delay+p,I.duration=p,this._validateStyleAst(D,n),D.offset=z,r.styles.push(D)}),r}visitReference(e,n){return{type:he.Reference,animation:Dn(this,hl(e.animation),n),options:Zo(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:he.AnimateChild,options:Zo(e.options)}}visitAnimateRef(e,n){return{type:he.AnimateRef,animation:this.visitReference(e.animation,n),options:Zo(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[o,s]=QB(e.selector);n.currentQuerySelector=r.length?r+" "+o:o,Sn(n.collectedStyles,n.currentQuerySelector,new Map);let a=Dn(this,hl(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:he.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Zo(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(gB());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:lf(e.timings,n.errors,!0);return{type:he.Stagger,animation:Dn(this,hl(e.animation),n),timings:r,options:null}}};function QB(t){let e=!!t.split(/\s*,\s*/).find(n=>n==IA);return e&&(t=t.replace(KB,"")),t=t.replace(/@\*/g,cf).replace(/@\w+/g,n=>cf+"-"+n.slice(1)).replace(/:animating/g,k_),[t,e]}function YB(t){return t?R({},t):null}var j_=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function XB(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function JB(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=lf(t,e).duration;return x_(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=x_(0,0,"");return o.dynamic=!0,o.strValue=n,o}let i=lf(n,e);return x_(i.duration,i.delay,i.easing)}function Zo(t){return t?(t=R({},t),t.params&&(t.params=YB(t.params))):t={},t}function x_(t,e,n){return{duration:t,delay:e,easing:n}}function nw(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var ml=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},ZB=1,e$=":enter",t$=new RegExp(e$,"g"),n$=":leave",r$=new RegExp(n$,"g");function bA(t,e,n,r,i,o=new Map,s=new Map,a,c,l=[]){return new U_().buildKeyframes(t,e,n,r,i,o,s,a,c,l)}var U_=class{buildKeyframes(e,n,r,i,o,s,a,c,l,u=[]){l=l||new ml;let d=new B_(e,n,l,i,o,u,[]);d.options=c;let h=c.delay?hi(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,c),Dn(this,r,d);let f=d.timelines.filter(v=>v.containsAnimation());if(f.length&&a.size){let v;for(let I=f.length-1;I>=0;I--){let T=f[I];if(T.element===n){v=T;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,d.errors,c)}return f.length?f.map(v=>v.buildKeyframes()):[nw(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:hi(pl(o,i?.params??{},n.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,n,r){let o=n.currentTimeline.currentTime,s=r.duration!=null?hi(r.duration):null,a=r.delay!=null?hi(r.delay):null;return s!==0&&e.forEach(c=>{let l=n.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),Dn(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,o=e.options;if(o&&(o.params||o.delay)&&(i=n.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==he.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=hf);let s=hi(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Dn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,o=e.options&&e.options.delay?hi(e.options.delay):0;e.steps.forEach(s=>{let a=n.createSubContext(e.options);o&&a.delayNextStep(o),Dn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?pl(r,n.params,n.errors):r;return lf(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==he.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(r.duration),this.visitStyle(o,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,o=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+o),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},o=i.delay?hi(i.delay):0;o&&(n.previousNode.type===he.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=hf);let s=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(e.options,l);o&&d.delayNextStep(o),l===n.element&&(c=d.currentTimeline),Dn(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;s=Math.max(s,h)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1),c=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let u=n.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;Dn(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},hf={},B_=class t{constructor(e,n,r,i,o,s,a,c){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=hf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new ff(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=hi(r.duration)),r.delay!=null&&(i.delay=hi(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=pl(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=hf,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new $_(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(t$,"."+this._enterClassName),e=e.replace(r$,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(vB(n)),a}},ff=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=ZB,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Pr),this._currentKeyframe.set(n,Pr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let o=i&&i.params||{},s=i$(e,this._globalTimelineStyles);for(let[a,c]of s){let l=pl(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Pr),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===tf?e.add(d):u===Pr&&n.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...n.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return nw(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},$_=class extends ff{constructor(e,n,r,i,o,s,a=!1){super(e,n,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],s=r+n,a=n/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",cA(a)),o.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]),f=h.get("offset"),v=n+f*r;h.set("offset",cA(v/s)),o.push(h)}r=s,n=0,i="",e=o}return nw(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function cA(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function i$(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)n.set(o,Pr)}else for(let[o,s]of i)n.set(o,s)}),n}function lA(t,e,n,r,i,o,s,a,c,l,u,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}var M_={},pf=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return o$(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,o,s,a,c,l,u){let d=[],h=this.ast.options&&this.ast.options.params||M_,f=a&&a.params||M_,v=this.buildStyles(r,f,d),I=c&&c.params||M_,T=this.buildStyles(i,I,d),D=new Set,$=new Map,z=new Map,p=i==="void",X={params:TA(I,h),delay:this.ast.options?.delay},M=u?[]:bA(e,n,this.ast.animation,o,s,v,T,X,l,d),W=0;return M.forEach(ue=>{W=Math.max(ue.duration+ue.delay,W)}),d.length?lA(n,this._triggerName,r,i,p,v,T,[],[],$,z,W,d):(M.forEach(ue=>{let Ee=ue.element,be=Sn($,Ee,new Set);ue.preStyleProps.forEach(Pe=>be.add(Pe));let Qe=Sn(z,Ee,new Set);ue.postStyleProps.forEach(Pe=>Qe.add(Pe)),Ee!==n&&D.add(Ee)}),lA(n,this._triggerName,r,i,p,v,T,M,[...D.values()],$,z,W))}};function o$(t,e,n,r,i){return t.some(o=>o(e,n,r,i))}function TA(t,e){let n=R({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var H_=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=TA(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=pl(s,i,n));let c=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,c,s,n),r.set(a,s)})}),r}};function s$(t,e,n){return new z_(t,e,n)}var z_=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new H_(i.style,o,r))}),uA(this.states,"true","1"),uA(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new pf(e,i,this.states))}),this.fallbackTransition=a$(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(s=>s.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function a$(t,e,n){let r=[(s,a)=>!0],i={type:he.Sequence,steps:[],options:null},o={type:he.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new pf(t,o,e)}function uA(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var c$=new ml,q_=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],o=CA(this._driver,n,r,i);if(r.length)throw IB(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,n,r){let i=e.element,o=gA(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=bA(this._driver,n,o,wA,N_,new Map,new Map,r,c$,i),s.forEach(u=>{let d=Sn(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(CB()),s=[]),i.length)throw bB(i);a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Pr))})});let c=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=eo(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw TB(e);return n}listen(e,n,r,i){let o=X_(n,"","","");return Y_(this._getPlayer(e),r,o,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,n,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},dA="ng-animate-queued",l$=".ng-animate-queued",P_="ng-animate-disabled",u$=".ng-animate-disabled",d$="ng-star-inserted",h$=".ng-star-inserted",f$=[],DA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},p$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},or="__ng_removed",gl=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=g$(i),r){let o=e,{value:s}=o,a=cp(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},fl="void",O_=new gl(fl),G_=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Vn(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw DB(r,n);if(r==null||r.length==0)throw SB(n);if(!v$(r))throw AB(r,n);let o=Sn(this._elementListeners,e,[]),s={name:n,phase:r,callback:i};o.push(s);let a=Sn(this._engine.statesByElement,e,new Map);return a.has(n)||(Vn(e,nf),Vn(e,nf+"-"+n),a.set(n,O_)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw xB(e);return n}trigger(e,n,r,i=!0){let o=this._getTrigger(n),s=new vl(this.id,n,e),a=this._engine.statesByElement.get(e);a||(Vn(e,nf),Vn(e,nf+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),l=new gl(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(n,l),c||(c=O_),!(l.value===fl)&&c.value===l.value){if(!w$(c.params,l.params)){let I=[],T=o.matchStyles(c.value,c.params,I),D=o.matchStyles(l.value,l.params,I);I.length?this._engine.reportError(I):this._engine.afterFlush(()=>{es(e,T),Rr(e,D)})}return}let h=Sn(this._engine.playersByElement,e,[]);h.forEach(I=>{I.namespaceId==this.id&&I.triggerName==n&&I.queued&&I.destroy()});let f=o.matchTransition(c.value,l.value,e,l.params),v=!1;if(!f){if(!i)return;f=o.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:c,toState:l,player:s,isFallbackTransition:v}),v||(Vn(e,dA),s.onStart(()=>{ga(e,dA)})),s.onDone(()=>{let I=this.players.indexOf(s);I>=0&&this.players.splice(I,1);let T=this._engine.playersByElement.get(e);if(T){let D=T.indexOf(s);D>=0&&T.splice(D,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,cf,!0);r.forEach(i=>{if(i[or])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,fl,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),r&&eo(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||O_,u=new gl(fl),d=new vl(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let o=e[or];(!o||o===DA)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Vn(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=X_(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,Y_(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},W_=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r,i){this.bodyNode=e,this.driver=n,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new G_(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&n.add(o)}}return n}trigger(e,n,r,i){if(sf(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!sf(n))return;let o=n[or];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Vn(e,P_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ga(e,P_))}removeNode(e,n,r){if(sf(n)){this.scheduler?.notify();let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,o){this.collectedLeaveElements.push(n),n[or]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,r,i,o){return sf(n)?this._fetchNamespace(e).listen(n,r,i,o):()=>{}}_buildInstruction(e,n,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,cf,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,k_,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return eo(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[or];if(n&&n.setForRemoval){if(e[or]=DA,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(P_)&&this.markElementAsDisabled(e,!1),this.driver.query(e,u$,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Vn(i,d$)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?eo(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw MB(e)}_flushAnimations(e,n){let r=new ml,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(F=>{u.add(F);let B=this.driver.query(F,l$,!0);for(let H=0;H<B.length;H++)u.add(B[H])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=pA(h,this.collectedEnterElements),v=new Map,I=0;f.forEach((F,B)=>{let H=wA+I++;v.set(B,H),F.forEach(le=>Vn(le,H))});let T=[],D=new Set,$=new Set;for(let F=0;F<this.collectedLeaveElements.length;F++){let B=this.collectedLeaveElements[F],H=B[or];H&&H.setForRemoval&&(T.push(B),D.add(B),H.hasAnimation?this.driver.query(B,h$,!0).forEach(le=>D.add(le)):$.add(B))}let z=new Map,p=pA(h,Array.from(D));p.forEach((F,B)=>{let H=N_+I++;z.set(B,H),F.forEach(le=>Vn(le,H))}),e.push(()=>{f.forEach((F,B)=>{let H=v.get(B);F.forEach(le=>ga(le,H))}),p.forEach((F,B)=>{let H=z.get(B);F.forEach(le=>ga(le,H))}),T.forEach(F=>{this.processLeaveNode(F)})});let X=[],M=[];for(let F=this._namespaceList.length-1;F>=0;F--)this._namespaceList[F].drainQueuedTransitions(n).forEach(H=>{let le=H.player,Ne=H.element;if(X.push(le),this.collectedEnterElements.length){let We=Ne[or];if(We&&We.setForMove){if(We.previousTriggersValues&&We.previousTriggersValues.has(H.triggerName)){let kt=We.previousTriggersValues.get(H.triggerName),pt=this.statesByElement.get(H.element);if(pt&&pt.has(H.triggerName)){let yn=pt.get(H.triggerName);yn.value=kt,pt.set(H.triggerName,yn)}}le.destroy();return}}let Et=!d||!this.driver.containsElement(d,Ne),qe=z.get(Ne),Qt=v.get(Ne),Te=this._buildInstruction(H,r,Qt,qe,Et);if(Te.errors&&Te.errors.length){M.push(Te);return}if(Et){le.onStart(()=>es(Ne,Te.fromStyles)),le.onDestroy(()=>Rr(Ne,Te.toStyles)),i.push(le);return}if(H.isFallbackTransition){le.onStart(()=>es(Ne,Te.fromStyles)),le.onDestroy(()=>Rr(Ne,Te.toStyles)),i.push(le);return}let ln=[];Te.timelines.forEach(We=>{We.stretchStartingKeyframe=!0,this.disabledNodes.has(We.element)||ln.push(We)}),Te.timelines=ln,r.append(Ne,Te.timelines);let zn={instruction:Te,player:le,element:Ne};s.push(zn),Te.queriedElements.forEach(We=>Sn(a,We,[]).push(le)),Te.preStyleProps.forEach((We,kt)=>{if(We.size){let pt=c.get(kt);pt||c.set(kt,pt=new Set),We.forEach((yn,hr)=>pt.add(hr))}}),Te.postStyleProps.forEach((We,kt)=>{let pt=l.get(kt);pt||l.set(kt,pt=new Set),We.forEach((yn,hr)=>pt.add(hr))})});if(M.length){let F=[];M.forEach(B=>{F.push(PB(B.triggerName,B.errors))}),X.forEach(B=>B.destroy()),this.reportError(F)}let W=new Map,ue=new Map;s.forEach(F=>{let B=F.element;r.has(B)&&(ue.set(B,B),this._beforeAnimationBuild(F.player.namespaceId,F.instruction,W))}),i.forEach(F=>{let B=F.element;this._getPreviousPlayers(B,!1,F.namespaceId,F.triggerName,null).forEach(le=>{Sn(W,B,[]).push(le),le.destroy()})});let Ee=T.filter(F=>mA(F,c,l)),be=new Map;fA(be,this.driver,$,l,Pr).forEach(F=>{mA(F,c,l)&&Ee.push(F)});let Pe=new Map;f.forEach((F,B)=>{fA(Pe,this.driver,new Set(F),c,tf)}),Ee.forEach(F=>{let B=be.get(F),H=Pe.get(F);be.set(F,new Map([...B?.entries()??[],...H?.entries()??[]]))});let Le=[],Wt=[],Kt={};s.forEach(F=>{let{element:B,player:H,instruction:le}=F;if(r.has(B)){if(u.has(B)){H.onDestroy(()=>Rr(B,le.toStyles)),H.disabled=!0,H.overrideTotalTime(le.totalTime),i.push(H);return}let Ne=Kt;if(ue.size>1){let qe=B,Qt=[];for(;qe=qe.parentNode;){let Te=ue.get(qe);if(Te){Ne=Te;break}Qt.push(qe)}Qt.forEach(Te=>ue.set(Te,Ne))}let Et=this._buildAnimation(H.namespaceId,le,W,o,Pe,be);if(H.setRealPlayer(Et),Ne===Kt)Le.push(H);else{let qe=this.playersByElement.get(Ne);qe&&qe.length&&(H.parentPlayer=eo(qe)),i.push(H)}}else es(B,le.fromStyles),H.onDestroy(()=>Rr(B,le.toStyles)),Wt.push(H),u.has(B)&&i.push(H)}),Wt.forEach(F=>{let B=o.get(F.element);if(B&&B.length){let H=eo(B);F.setRealPlayer(H)}}),i.forEach(F=>{F.parentPlayer?F.syncPlayerEvents(F.parentPlayer):F.destroy()});for(let F=0;F<T.length;F++){let B=T[F],H=B[or];if(ga(B,N_),H&&H.hasAnimation)continue;let le=[];if(a.size){let Et=a.get(B);Et&&Et.length&&le.push(...Et);let qe=this.driver.query(B,k_,!0);for(let Qt=0;Qt<qe.length;Qt++){let Te=a.get(qe[Qt]);Te&&Te.length&&le.push(...Te)}}let Ne=le.filter(Et=>!Et.destroyed);Ne.length?y$(this,B,Ne):this.processLeaveNode(B)}return T.length=0,Le.forEach(F=>{this.players.push(F),F.onDone(()=>{F.destroy();let B=this.players.indexOf(F);this.players.splice(B,1)}),F.play()}),Le}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,o){let s=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==fl;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,n,r){let i=n.triggerName,o=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let c of n.timelines){let l=c.element,u=l!==o,d=Sn(r,l,[]);this._getPreviousPlayers(l,u,s,a,n.toState).forEach(f=>{let v=f.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),f.destroy(),d.push(f)})}es(o,n.fromStyles)}_buildAnimation(e,n,r,i,o,s){let a=n.triggerName,c=n.element,l=[],u=new Set,d=new Set,h=n.timelines.map(v=>{let I=v.element;u.add(I);let T=I[or];if(T&&T.removedBeforeQueried)return new Zi(v.duration,v.delay);let D=I!==c,$=_$((r.get(I)||f$).map(W=>W.getRealPlayer())).filter(W=>{let ue=W;return ue.element?ue.element===I:!1}),z=o.get(I),p=s.get(I),X=gA(this._normalizer,v.keyframes,z,p),M=this._buildPlayer(v,X,$);if(v.subTimeline&&i&&d.add(I),D){let W=new vl(e,a,I);W.setRealPlayer(M),l.push(W)}return M});l.forEach(v=>{Sn(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>m$(this.playersByQueriedElement,v.element,v))}),u.forEach(v=>Vn(v,oA));let f=eo(h);return f.onDestroy(()=>{u.forEach(v=>ga(v,oA)),Rr(c,n.toStyles)}),d.forEach(v=>{Sn(i,v,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Zi(e.duration,e.delay)}},vl=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Zi,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>Y_(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Sn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function m$(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function g$(t){return t??null}function sf(t){return t&&t.nodeType===1}function v$(t){return t=="start"||t=="done"}function hA(t,e){let n=t.style.display;return t.style.display=e??"none",n}function fA(t,e,n,r,i){let o=[];n.forEach(c=>o.push(hA(c)));let s=[];r.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let h=e.computeStyle(l,d,i);u.set(d,h),(!h||h.length==0)&&(l[or]=p$,s.push(l))}),t.set(l,u)});let a=0;return n.forEach(c=>hA(c,o[a++])),s}function pA(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return n.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&n.get(c).push(a)}),n}function Vn(t,e){t.classList?.add(e)}function ga(t,e){t.classList?.remove(e)}function y$(t,e,n){eo(n).onDone(()=>t.processLeaveNode(e))}function _$(t){let e=[];return SA(t,e),e}function SA(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof dl?SA(r.players,e):e.push(r)}}function w$(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function mA(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(o=>i.add(o)):e.set(t,r),n.delete(t),!0}var ya=class{constructor(e,n,r,i){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new W_(e.body,n,r,i),this._timelineEngine=new q_(e.body,n,r),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,n,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],u=CA(this._driver,o,c,l);if(c.length)throw wB(i,c);l.length&&void 0,a=s$(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[o,s]=rA(r),a=i;this._timelineEngine.command(o,n,s,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,o){if(r.charAt(0)=="@"){let[s,a]=rA(r);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(e,n,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function E$(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=R_(e[0]),e.length>1&&(r=R_(e[e.length-1]))):e instanceof Map&&(n=R_(e)),n||r?new K_(t,n,r):null}var va=class va{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=va.initialStylesByElement.get(e);i||va.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Rr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Rr(this._element,this._initialStyles),this._endStyles&&(Rr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(va.initialStylesByElement.delete(this._element),this._startStyles&&(es(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(es(this._element,this._endStyles),this._endStyles=null),Rr(this._element,this._initialStyles),this._state=3)}};va.initialStylesByElement=new WeakMap;var K_=va;function R_(t){let e=null;return t.forEach((n,r)=>{I$(r)&&(e=e||new Map,e.set(r,n))}),e}function I$(t){return t==="display"||t==="position"}var mf=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:tw(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},gf=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return vA(e,n)}getParentElement(e){return J_(e)}query(e,n,r){return yA(e,n,r)}computeStyle(e,n,r){return tw(e,n)}animate(e,n,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,u=s.filter(f=>f instanceof mf);$B(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((v,I)=>l.set(I,v))});let d=jB(n).map(f=>new Map(f));d=HB(e,d,l);let h=E$(e,d);return new mf(e,d,c,h)}};var af="@",AA="@.disabled",vf=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==af&&n==AA?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},Q_=class extends vf{constructor(e,n,r,i,o){super(n,r,i,o),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==af?n.charAt(1)=="."&&n==AA?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==af){let i=C$(e),o=n.slice(1),s="";return o.charAt(0)!=af&&([o,s]=b$(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,n,r)}};function C$(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function b$(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var yf=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,o)=>{let s=o?.parentNode(i);s&&o.removeChild(s,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let d=()=>l.delete(i);u=new vf(r,i,this.engine,d),l.set(i,u)}return u}let o=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return n.data.animation.forEach(a),new Q_(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var D$=(()=>{let e=class e extends ya{constructor(r,i,o){super(r,i,o,O(sc,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(L(Bt),L(ts),L(ns))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})();function S$(){return new uf}function A$(t,e,n){return new yf(t,e,n)}var xA=[{provide:ns,useFactory:S$},{provide:ya,useClass:D$},{provide:Ao,useFactory:A$,deps:[Zh,ya,Ie]}],x$=[{provide:ts,useFactory:()=>new gf},{provide:hg,useValue:"BrowserAnimations"},...xA],pZ=[{provide:ts,useClass:Z_},{provide:hg,useValue:"NoopAnimations"},...xA];function MA(){return Ro("NgEagerAnimations"),[...x$]}var fe="primary",Ol=Symbol("RouteTitle"),cw=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ca(t){return new cw(t)}function P$(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function O$(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Nr(t[n],e[n]))return!1;return!0}function Nr(t,e){let n=t?lw(t):void 0,r=e?lw(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!FA(t[i],e[i]))return!1;return!0}function lw(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function FA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function VA(t){return t.length>0?t[t.length-1]:null}function io(t){return Ap(t)?t:ko(t)?je(Promise.resolve(t)):ae(t)}var R$={exact:jA,subset:UA},LA={exact:N$,subset:k$,ignored:()=>!0};function PA(t,e,n){return R$[n.paths](t.root,e.root,n.matrixParams)&&LA[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function N$(t,e){return Nr(t,e)}function jA(t,e,n){if(!is(t.segments,e.segments)||!Ef(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!jA(t.children[r],e.children[r],n))return!1;return!0}function k$(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>FA(t[n],e[n]))}function UA(t,e,n){return BA(t,e,e.segments,n)}function BA(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!is(i,n)||e.hasChildren()||!Ef(i,n,r))}else if(t.segments.length===n.length){if(!is(t.segments,n)||!Ef(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!UA(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!is(t.segments,i)||!Ef(t.segments,i,r)||!t.children[fe]?!1:BA(t.children[fe],e,o,r)}}function Ef(t,e,n){return e.every((r,i)=>LA[n](t[i].parameters,r.parameters))}var to=class{constructor(e=new Re([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ca(this.queryParams),this._queryParamMap}toString(){return L$.serialize(this)}},Re=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return If(this)}},rs=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ca(this.parameters),this._parameterMap}toString(){return HA(this)}};function F$(t,e){return is(t,e)&&t.every((n,r)=>Nr(n.parameters,e[r].parameters))}function is(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function V$(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===fe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==fe&&(n=n.concat(e(i,r)))}),n}var kw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>new bf,providedIn:"root"});let t=e;return t})(),bf=class{parse(e){let n=new dw(e);return new to(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${yl(e.root,!0)}`,r=B$(e.queryParams),i=typeof e.fragment=="string"?`#${j$(e.fragment)}`:"";return`${n}${r}${i}`}},L$=new bf;function If(t){return t.segments.map(e=>HA(e)).join("/")}function yl(t,e){if(!t.hasChildren())return If(t);if(e){let n=t.children[fe]?yl(t.children[fe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==fe&&r.push(`${i}:${yl(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=V$(t,(r,i)=>i===fe?[yl(t.children[fe],!1)]:[`${i}:${yl(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[fe]!=null?`${If(t)}/${n[0]}`:`${If(t)}/(${n.join("//")})`}}function $A(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _f(t){return $A(t).replace(/%3B/gi,";")}function j$(t){return encodeURI(t)}function uw(t){return $A(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cf(t){return decodeURIComponent(t)}function OA(t){return Cf(t.replace(/\+/g,"%20"))}function HA(t){return`${uw(t.path)}${U$(t.parameters)}`}function U$(t){return Object.entries(t).map(([e,n])=>`;${uw(e)}=${uw(n)}`).join("")}function B$(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${_f(n)}=${_f(i)}`).join("&"):`${_f(n)}=${_f(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var $$=/^[^\/()?;#]+/;function iw(t){let e=t.match($$);return e?e[0]:""}var H$=/^[^\/()?;=#]+/;function z$(t){let e=t.match(H$);return e?e[0]:""}var q$=/^[^=?&#]+/;function G$(t){let e=t.match(q$);return e?e[0]:""}var W$=/^[^&#]+/;function K$(t){let e=t.match(W$);return e?e[0]:""}var dw=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[fe]=new Re(e,n)),r}parseSegment(){let e=iw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(e),new rs(Cf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=z$(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=iw(this.remaining);i&&(r=i,this.capture(r))}e[Cf(n)]=Cf(r)}parseQueryParam(e){let n=G$(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=K$(this.remaining);s&&(r=s,this.capture(r))}let i=OA(n),o=OA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=iw(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new P(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=fe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[fe]:new Re([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new P(4011,!1)}};function zA(t){return t.segments.length>0?new Re([],{[fe]:t}):t}function qA(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=qA(i);if(r===fe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Re(t.segments,e);return Q$(n)}function Q$(t){if(t.numberOfChildren===1&&t.children[fe]){let e=t.children[fe];return new Re(t.segments.concat(e.segments),e.children)}return t}function ba(t){return t instanceof to}function Y$(t,e,n=null,r=null){let i=GA(t);return WA(i,e,n,r)}function GA(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Re(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=zA(r);return e??i}function WA(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return ow(i,i,i,n,r);let o=X$(e);if(o.toRoot())return ow(i,i,new Re([],{}),n,r);let s=J$(o,i,t),a=s.processChildren?El(s.segmentGroup,s.index,o.commands):QA(s.segmentGroup,s.index,o.commands);return ow(i,s.segmentGroup,a,n,r)}function Tf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function bl(t){return typeof t=="object"&&t!=null&&t.outlets}function ow(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=KA(t,e,n);let a=zA(qA(s));return new to(a,o,i)}function KA(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=KA(o,e,n)}),new Re(t.segments,r)}var Df=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Tf(r[0]))throw new P(4003,!1);let i=r.find(bl);if(i&&i!==VA(r))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function X$(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Df(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Df(n,e,r)}var Ea=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function J$(t,e,n){if(t.isAbsolute)return new Ea(e,!0,0);if(!n)return new Ea(e,!1,NaN);if(n.parent===null)return new Ea(n,!0,0);let r=Tf(t.commands[0])?0:1,i=n.segments.length-1+r;return Z$(n,i,t.numberOfDoubleDots)}function Z$(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new P(4005,!1);i=r.segments.length}return new Ea(r,!1,i-o)}function e4(t){return bl(t[0])?t[0].outlets:{[fe]:t}}function QA(t,e,n){if(t??=new Re([],{}),t.segments.length===0&&t.hasChildren())return El(t,e,n);let r=t4(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Re(t.segments.slice(0,r.pathIndex),{});return o.children[fe]=new Re(t.segments.slice(r.pathIndex),t.children),El(o,0,i)}else return r.match&&i.length===0?new Re(t.segments,{}):r.match&&!t.hasChildren()?hw(t,e,n):r.match?El(t,0,i):hw(t,e,n)}function El(t,e,n){if(n.length===0)return new Re(t.segments,{});{let r=e4(n),i={};if(Object.keys(r).some(o=>o!==fe)&&t.children[fe]&&t.numberOfChildren===1&&t.children[fe].segments.length===0){let o=El(t.children[fe],e,n);return new Re(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=QA(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Re(t.segments,i)}}function t4(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(bl(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!NA(c,l,s))return o;r+=2}else{if(!NA(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function hw(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(bl(o)){let c=n4(o.outlets);return new Re(r,c)}if(i===0&&Tf(n[0])){let c=t.segments[e];r.push(new rs(c.path,RA(n[0]))),i++;continue}let s=bl(o)?o.outlets[fe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Tf(a)?(r.push(new rs(s,RA(a))),i+=2):(r.push(new rs(s,{})),i++)}return new Re(r,{})}function n4(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=hw(new Re([],{}),0,r))}),e}function RA(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function NA(t,e,n){return t==n.path&&Nr(e,n.parameters)}var Il="imperative",qt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(qt||{}),jn=class{constructor(e,n){this.id=e,this.url=n}},Tl=class extends jn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=qt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},os=class extends jn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=qt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ln=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ln||{}),fw=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(fw||{}),no=class extends jn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=qt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ss=class extends jn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=qt.NavigationSkipped}},Dl=class extends jn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=qt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Sf=class extends jn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=qt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pw=class extends jn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=qt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mw=class extends jn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=qt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},gw=class extends jn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=qt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vw=class extends jn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=qt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yw=class{constructor(e){this.route=e,this.type=qt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},_w=class{constructor(e){this.route=e,this.type=qt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ww=class{constructor(e){this.snapshot=e,this.type=qt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ew=class{constructor(e){this.snapshot=e,this.type=qt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Iw=class{constructor(e){this.snapshot=e,this.type=qt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cw=class{constructor(e){this.snapshot=e,this.type=qt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Sl=class{},Al=class{constructor(e){this.url=e}};var bw=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Rf,this.attachRef=null}},Rf=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new bw,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Af=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Tw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Tw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Dw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Dw(e,this._root).map(n=>n.value)}};function Tw(t,e){if(t===e.value)return e;for(let n of e.children){let r=Tw(t,n);if(r)return r}return null}function Dw(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Dw(t,n);if(r.length)return r.unshift(e),r}return[]}var An=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function wa(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var xf=class extends Af{constructor(e,n){super(e),this.snapshot=n,Vw(this,e)}toString(){return this.snapshot.toString()}};function YA(t){let e=r4(t),n=new Vt([new rs("",{})]),r=new Vt({}),i=new Vt({}),o=new Vt({}),s=new Vt(""),a=new ro(n,r,o,s,i,fe,t,e.root);return a.snapshot=e.root,new xf(new An(a,[]),e)}function r4(t){let e={},n={},r={},i="",o=new xl([],e,r,i,n,fe,t,null,{});return new Mf("",new An(o,[]))}var ro=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ie(l=>l[Ol]))??ae(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>Ca(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>Ca(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Fw(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:R(R({},e.params),t.params),data:R(R({},e.data),t.data),resolve:R(R(R(R({},t.data),e.data),i?.data),t._resolvedData)}:r={params:R({},t.params),data:R({},t.data),resolve:R(R({},t.data),t._resolvedData??{})},i&&JA(i)&&(r.resolve[Ol]=i.title),r}var xl=class{get title(){return this.data?.[Ol]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ca(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ca(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Mf=class extends Af{constructor(e,n){super(n),this.url=e,Vw(this,n)}toString(){return XA(this._root)}};function Vw(t,e){e.value._routerState=t,e.children.forEach(n=>Vw(t,n))}function XA(t){let e=t.children.length>0?` { ${t.children.map(XA).join(", ")} } `:"";return`${t.value}${e}`}function sw(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Nr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Nr(e.params,n.params)||t.paramsSubject.next(n.params),O$(e.url,n.url)||t.urlSubject.next(n.url),Nr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Sw(t,e){let n=Nr(t.params,e.params)&&F$(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Sw(t.parent,e.parent))}function JA(t){return typeof t.title=="string"||t.title===null}var Lw=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=fe,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.parentContexts=O(Rf),this.location=O(jt),this.changeDetector=O(Fi),this.environmentInjector=O(bt),this.inputBinder=O(jw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Aw(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ut({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Xr]});let t=e;return t})(),Aw=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ro?this.route:e===Rf?this.childContexts:this.parent.get(e,n)}},jw=new G("");function i4(t,e,n){let r=Ml(t,e._root,n?n._root:void 0);return new xf(r,e)}function Ml(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=o4(t,e,n);return new An(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ml(t,a)),s}}let r=s4(e.value),i=e.children.map(o=>Ml(t,o));return new An(r,i)}}function o4(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ml(t,r,i);return Ml(t,r)})}function s4(t){return new ro(new Vt(t.url),new Vt(t.params),new Vt(t.queryParams),new Vt(t.fragment),new Vt(t.data),t.outlet,t.component,t)}var ZA="ngNavigationCancelingError";function ex(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ba(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=tx(!1,Ln.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function tx(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[ZA]=!0,n.cancellationCode=e,n}function a4(t){return nx(t)&&ba(t.url)}function nx(t){return!!t&&t[ZA]}var c4=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=K({type:e,selectors:[["ng-component"]],standalone:!0,features:[Y],decls:1,vars:0,template:function(i,o){i&1&&Z(0,"router-outlet")},dependencies:[Lw],encapsulation:2});let t=e;return t})();function l4(t,e){return t.providers&&!t._injector&&(t._injector=Rg(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Uw(t){let e=t.children&&t.children.map(Uw),n=e?Se(R({},t),{children:e}):R({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==fe&&(n.component=c4),n}function kr(t){return t.outlet||fe}function u4(t,e){let n=t.filter(r=>kr(r)===e);return n.push(...t.filter(r=>kr(r)!==e)),n}function Rl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var d4=(t,e,n,r)=>ie(i=>(new xw(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),xw=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),sw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=wa(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=wa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=wa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=wa(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Cw(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ew(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(sw(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),sw(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Rl(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Pf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ia=class{constructor(e,n){this.component=e,this.route=n}};function h4(t,e,n){let r=t._root,i=e?e._root:null;return _l(r,i,n,[r.value])}function f4(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Da(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!kI(t)?t:e.get(t):r}function _l(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=wa(e);return t.children.forEach(s=>{p4(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Cl(a,n.getContext(s),i)),i}function p4(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=m4(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Pf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?_l(t,e,a?a.children:null,r,i):_l(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ia(a.outlet.component,s))}else s&&Cl(e,a,i),i.canActivateChecks.push(new Pf(r)),o.component?_l(t,null,a?a.children:null,r,i):_l(t,null,n,r,i);return i}function m4(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!is(t.url,e.url);case"pathParamsOrQueryParamsChange":return!is(t.url,e.url)||!Nr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sw(t,e)||!Nr(t.queryParams,e.queryParams);case"paramsChange":default:return!Sw(t,e)}}function Cl(t,e,n){let r=wa(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Cl(s,e.children.getContext(o),n):Cl(s,null,n):Cl(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ia(e.outlet.component,i)):n.canDeactivateChecks.push(new Ia(null,i)):n.canDeactivateChecks.push(new Ia(null,i))}function Nl(t){return typeof t=="function"}function g4(t){return typeof t=="boolean"}function v4(t){return t&&Nl(t.canLoad)}function y4(t){return t&&Nl(t.canActivate)}function _4(t){return t&&Nl(t.canActivateChild)}function w4(t){return t&&Nl(t.canDeactivate)}function E4(t){return t&&Nl(t.canMatch)}function rx(t){return t instanceof wn||t?.name==="EmptyError"}var wf=Symbol("INITIAL_VALUE");function Ta(){return Ct(t=>ku(t.map(e=>e.pipe(Br(1),Np(wf)))).pipe(ie(e=>{for(let n of e)if(n!==!0){if(n===wf)return wf;if(n===!1||n instanceof to)return n}return!0}),Yt(e=>e!==wf),Br(1)))}function I4(t,e){return at(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ae(Se(R({},n),{guardsResult:!0})):C4(s,r,i,t).pipe(at(a=>a&&g4(a)?b4(r,o,t,e):ae(a)),ie(a=>Se(R({},n),{guardsResult:a})))})}function C4(t,e,n,r){return je(t).pipe(at(i=>x4(i.component,i.route,n,e,r)),pr(i=>i!==!0,!0))}function b4(t,e,n,r){return je(e).pipe(Ti(i=>Rs(D4(i.route.parent,r),T4(i.route,r),A4(t,i.path,n),S4(t,i.route,n))),pr(i=>i!==!0,!0))}function T4(t,e){return t!==null&&e&&e(new Iw(t)),ae(!0)}function D4(t,e){return t!==null&&e&&e(new ww(t)),ae(!0)}function S4(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ae(!0);let i=r.map(o=>Fu(()=>{let s=Rl(e)??n,a=Da(o,s),c=y4(a)?a.canActivate(e,t):Yr(s,()=>a(e,t));return io(c).pipe(pr())}));return ae(i).pipe(Ta())}function A4(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>f4(s)).filter(s=>s!==null).map(s=>Fu(()=>{let a=s.guards.map(c=>{let l=Rl(s.node)??n,u=Da(c,l),d=_4(u)?u.canActivateChild(r,t):Yr(l,()=>u(r,t));return io(d).pipe(pr())});return ae(a).pipe(Ta())}));return ae(o).pipe(Ta())}function x4(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ae(!0);let s=o.map(a=>{let c=Rl(e)??i,l=Da(a,c),u=w4(l)?l.canDeactivate(t,e,n,r):Yr(c,()=>l(t,e,n,r));return io(u).pipe(pr())});return ae(s).pipe(Ta())}function M4(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ae(!0);let o=i.map(s=>{let a=Da(s,t),c=v4(a)?a.canLoad(e,n):Yr(t,()=>a(e,n));return io(c)});return ae(o).pipe(Ta(),ix(r))}function ix(t){return _p(ct(e=>{if(ba(e))throw ex(t,e)}),ie(e=>e===!0))}function P4(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ae(!0);let o=i.map(s=>{let a=Da(s,t),c=E4(a)?a.canMatch(e,n):Yr(t,()=>a(e,n));return io(c)});return ae(o).pipe(Ta(),ix(r))}var Pl=class{constructor(e){this.segmentGroup=e||null}},Of=class extends Error{constructor(e){super(),this.urlTree=e}};function _a(t){return bi(new Pl(t))}function O4(t){return bi(new P(4e3,!1))}function R4(t){return bi(tx(!1,Ln.GuardRejected))}var Mw=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ae(r);if(i.numberOfChildren>1||!i.children[fe])return O4(e.redirectTo);i=i.children[fe]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Of(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new to(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Re(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new P(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Pw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function N4(t,e,n,r,i){let o=Bw(t,e,n);return o.matched?(r=l4(e,r),P4(r,e,n,i).pipe(ie(s=>s===!0?o:R({},Pw)))):ae(o)}function Bw(t,e,n){if(e.path==="**")return k4(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?R({},Pw):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||P$)(n,t,e);if(!i)return R({},Pw);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?R(R({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function k4(t){return{matched:!0,parameters:t.length>0?VA(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function kA(t,e,n,r){return n.length>0&&L4(t,n,r)?{segmentGroup:new Re(e,V4(r,new Re(n,t.children))),slicedSegments:[]}:n.length===0&&j4(t,n,r)?{segmentGroup:new Re(t.segments,F4(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Re(t.segments,t.children),slicedSegments:n}}function F4(t,e,n,r){let i={};for(let o of n)if(Nf(t,e,o)&&!r[kr(o)]){let s=new Re([],{});i[kr(o)]=s}return R(R({},r),i)}function V4(t,e){let n={};n[fe]=e;for(let r of t)if(r.path===""&&kr(r)!==fe){let i=new Re([],{});n[kr(r)]=i}return n}function L4(t,e,n){return n.some(r=>Nf(t,e,r)&&kr(r)!==fe)}function j4(t,e,n){return n.some(r=>Nf(t,e,r))}function Nf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function U4(t,e,n,r){return kr(t)!==r&&(r===fe||!Nf(e,n,t))?!1:Bw(e,t,n).matched}function B4(t,e,n){return e.length===0&&!t.children[n]}var Ow=class{};function $4(t,e,n,r,i,o,s="emptyOnly"){return new Rw(t,e,n,r,i,s,o).recognize()}var H4=31,Rw=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Mw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new P(4002,`'${e.segmentGroup}'`)}recognize(){let e=kA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(n=>{let r=new xl([],Object.freeze({}),Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,{},fe,this.rootComponentType,null,{}),i=new An(r,n),o=new Mf("",i),s=Y$(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,fe).pipe(Gn(r=>{if(r instanceof Of)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Pl?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Fw(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(ie(o=>o instanceof An?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return je(i).pipe(Ti(o=>{let s=r.children[o],a=u4(n,o);return this.processSegmentGroup(e,a,s,o)}),Rp((o,s)=>(o.push(...s),o)),Di(null),Op(),at(o=>{if(o===null)return _a(r);let s=ox(o);return z4(s),ae(s)}))}processSegment(e,n,r,i,o,s){return je(n).pipe(Ti(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Gn(c=>{if(c instanceof Pl)return ae(null);throw c}))),pr(a=>!!a),Gn(a=>{if(rx(a))return B4(r,i,o)?ae(new Ow):_a(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return U4(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):_a(i):_a(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=Bw(n,i,o);if(!a)return _a(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>H4&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(at(h=>this.processSegment(e,r,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=N4(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Ct(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ct(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new xl(u,h,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,G4(r),kr(r),r.component??r._loadedComponent??null,r,W4(r)),{segmentGroup:v,slicedSegments:I}=kA(n,u,d,c);if(I.length===0&&v.hasChildren())return this.processChildren(l,c,v).pipe(ie(D=>D===null?null:new An(f,D)));if(c.length===0&&I.length===0)return ae(new An(f,[]));let T=kr(r)===o;return this.processSegment(l,c,v,I,T?fe:o,!0).pipe(ie(D=>new An(f,D instanceof An?[D]:[])))}))):_a(n)))}getChildConfig(e,n,r){return n.children?ae({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ae({routes:n._loadedRoutes,injector:n._loadedInjector}):M4(e,n,r,this.urlSerializer).pipe(at(i=>i?this.configLoader.loadChildren(e,n).pipe(ct(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):R4(n))):ae({routes:[],injector:e})}};function z4(t){t.sort((e,n)=>e.value.outlet===fe?-1:n.value.outlet===fe?1:e.value.outlet.localeCompare(n.value.outlet))}function q4(t){let e=t.value.routeConfig;return e&&e.path===""}function ox(t){let e=[],n=new Set;for(let r of t){if(!q4(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=ox(r.children);e.push(new An(r.value,i))}return e.filter(r=>!n.has(r))}function G4(t){return t.data||{}}function W4(t){return t.resolve||{}}function K4(t,e,n,r,i,o){return at(s=>$4(t,e,n,r,s.extractedUrl,i,o).pipe(ie(({state:a,tree:c})=>Se(R({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function Q4(t,e){return at(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ae(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of sx(c))s.add(l);let a=0;return je(s).pipe(Ti(c=>o.has(c)?Y4(c,r,t,e):(c.data=Fw(c,c.parent,t).resolve,ae(void 0))),ct(()=>a++),ks(1),at(c=>a===s.size?ae(n):un))})}function sx(t){let e=t.children.map(n=>sx(n)).flat();return[t,...e]}function Y4(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!JA(i)&&(o[Ol]=i.title),X4(o,t,e,r).pipe(ie(s=>(t._resolvedData=s,t.data=Fw(t,t.parent,n).resolve,null)))}function X4(t,e,n,r){let i=lw(t);if(i.length===0)return ae({});let o={};return je(i).pipe(at(s=>J4(t[s],e,n,r).pipe(pr(),ct(a=>{o[s]=a}))),ks(1),Pp(o),Gn(s=>rx(s)?un:bi(s)))}function J4(t,e,n,r){let i=Rl(e)??r,o=Da(t,i),s=o.resolve?o.resolve(e,n):Yr(i,()=>o(e,n));return io(s)}function aw(t){return Ct(e=>{let n=t(e);return n?je(n).pipe(ie(()=>e)):ae(e)})}var ax=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===fe);return i}getResolvedTitleForRoute(r){return r.data[Ol]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>O(Z4),providedIn:"root"});let t=e;return t})(),Z4=(()=>{let e=class e extends ax{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(L(JS))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kf=new G("",{providedIn:"root",factory:()=>({})}),$w=new G(""),eH=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(jg)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ae(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=io(r.loadComponent()).pipe(ie(cx),ct(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),yo(()=>{this.componentLoaders.delete(r)})),o=new Ds(i,()=>new Ft).pipe(Ts());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ae({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=tH(i,this.compiler,r,this.onLoadEndListener).pipe(yo(()=>{this.childrenLoaders.delete(i)})),a=new Ds(s,()=>new Ft).pipe(Ts());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tH(t,e,n,r){return io(t.loadChildren()).pipe(ie(cx),at(i=>i instanceof ac||Array.isArray(i)?ae(i):je(e.compileModuleAsync(i))),ie(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get($w,[],{optional:!0,self:!0}).flat()),{routes:s.map(Uw),injector:o}}))}function nH(t){return t&&typeof t=="object"&&"default"in t}function cx(t){return nH(t)?t.default:t}var Hw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>O(rH),providedIn:"root"});let t=e;return t})(),rH=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),iH=new G("");var oH=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ft,this.transitionAbortSubject=new Ft,this.configLoader=O(eH),this.environmentInjector=O(bt),this.urlSerializer=O(kw),this.rootContexts=O(Rf),this.location=O(vc),this.inputBindingEnabled=O(jw,{optional:!0})!==null,this.titleStrategy=O(ax),this.options=O(kf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(Hw),this.createViewTransition=O(iH,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ae(void 0),this.rootComponentType=null;let r=o=>this.events.next(new yw(o)),i=o=>this.events.next(new _w(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Se(R(R({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Vt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Il,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Yt(s=>s.id!==0),ie(s=>Se(R({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ct(s=>{this.currentTransition=s;let a=!1,c=!1;return ae(s).pipe(ct(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Se(R({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ct(l=>{let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new ss(l.id,this.urlSerializer.serialize(l.rawUrl),h,fw.IgnoredSameUrlNavigation)),l.resolve(null),un}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ae(l).pipe(Ct(h=>{let f=this.transitions?.getValue();return this.events.next(new Tl(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?un:Promise.resolve(h)}),K4(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ct(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=Se(R({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Sf(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:f,source:v,restoredState:I,extras:T}=l,D=new Tl(h,this.urlSerializer.serialize(f),v,I);this.events.next(D);let $=YA(this.rootComponentType).snapshot;return this.currentTransition=s=Se(R({},l),{targetSnapshot:$,urlAfterRedirects:f,extras:Se(R({},T),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,ae(s)}else{let h="";return this.events.next(new ss(l.id,this.urlSerializer.serialize(l.extractedUrl),h,fw.IgnoredByUrlHandlingStrategy)),l.resolve(null),un}}),ct(l=>{let u=new pw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),ie(l=>(this.currentTransition=s=Se(R({},l),{guards:h4(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),I4(this.environmentInjector,l=>this.events.next(l)),ct(l=>{if(s.guardsResult=l.guardsResult,ba(l.guardsResult))throw ex(this.urlSerializer,l.guardsResult);let u=new mw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Yt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ln.GuardRejected),!1)),aw(l=>{if(l.guards.canActivateChecks.length)return ae(l).pipe(ct(u=>{let d=new gw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Ct(u=>{let d=!1;return ae(u).pipe(Q4(this.paramsInheritanceStrategy,this.environmentInjector),ct({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Ln.NoDataFromResolver)}}))}),ct(u=>{let d=new vw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),aw(l=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(ct(f=>{d.component=f}),ie(()=>{})));for(let f of d.children)h.push(...u(f));return h};return ku(u(l.targetSnapshot.root)).pipe(Di(null),Br(1))}),aw(()=>this.afterPreactivation()),Ct(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?je(d).pipe(ie(()=>s)):ae(s)}),ie(l=>{let u=i4(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Se(R({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),ct(()=>{this.events.next(new Sl)}),d4(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Br(1),ct({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new os(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Wn(this.transitionAbortSubject.pipe(ct(l=>{throw l}))),yo(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",Ln.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Gn(l=>{if(c=!0,nx(l))this.events.next(new no(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),a4(l)?this.events.next(new Al(l.url)):s.resolve(!1);else{this.events.next(new Dl(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return un}))}))}cancelNavigationTransition(r,i,o){let s=new no(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sH(t){return t!==Il}var aH=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>O(cH),providedIn:"root"});let t=e;return t})(),Nw=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},cH=(()=>{let e=class e extends Nw{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>O(lH),providedIn:"root"});let t=e;return t})(),lH=(()=>{let e=class e extends lx{constructor(){super(...arguments),this.location=O(vc),this.urlSerializer=O(kw),this.options=O(kf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(Hw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new to,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=YA(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Tl)this.stateMemento=this.createStateMemento();else if(r instanceof ss)this.rawUrlTree=i.initialUrl;else if(r instanceof Sf){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Sl?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof no&&(r.code===Ln.GuardRejected||r.code===Ln.NoDataFromResolver)?this.restoreHistory(i):r instanceof Dl?this.restoreHistory(i,!0):r instanceof os&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=R(R({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=R(R({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(wl||{});function uH(t,e){t.events.pipe(Yt(n=>n instanceof os||n instanceof no||n instanceof Dl||n instanceof ss),ie(n=>n instanceof os||n instanceof ss?wl.COMPLETE:(n instanceof no?n.code===Ln.Redirect||n.code===Ln.SupersededByNewNavigation:!1)?wl.REDIRECTING:wl.FAILED),Yt(n=>n!==wl.REDIRECTING),Br(1)).subscribe(()=>{e()})}function dH(t){throw t}var hH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},gn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=O(Fd),this.stateManager=O(lx),this.options=O(kf,{optional:!0})||{},this.pendingTasks=O(No),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(oH),this.urlSerializer=O(kw),this.location=O(vc),this.urlHandlingStrategy=O(Hw),this._events=new Ft,this.errorHandler=this.options.errorHandler||dH,this.navigated=!1,this.routeReuseStrategy=O(aH),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O($w,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(jw,{optional:!0}),this.eventsSubscription=new st,this.isNgZoneEnabled=O(Ie)instanceof Ie&&Ie.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof no&&i.code!==Ln.Redirect&&i.code!==Ln.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof os)this.navigated=!0;else if(i instanceof Al){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||sH(o.source)};this.scheduleNavigation(a,Il,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}mH(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Il,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=R({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Uw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=R(R({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=o?o.snapshot:this.routerState.snapshot.root;h=GA(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return WA(h,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=ba(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Il,null,i)}navigate(r,i={skipLocationChange:!1}){return pH(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=R({},hH):i===!1?o=R({},fH):o=i,ba(r))return PA(this.currentUrlTree,r,o);let s=this.parseUrl(r);return PA(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((h,f)=>{c=h,l=f});let d=this.pendingTasks.add();return uH(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pH(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new P(4008,!1)}function mH(t){return!(t instanceof Sl)&&!(t instanceof Al)}var gH=new G("");function ux(t,...e){return Ni([{provide:$w,multi:!0,useValue:t},[],{provide:ro,useFactory:vH,deps:[gn]},{provide:Vd,multi:!0,useFactory:_H},e.map(n=>n.\u0275providers)])}function vH(t){return t.routerState.root}function yH(t,e){return{\u0275kind:t,\u0275providers:e}}function _H(){let t=O(Xe);return e=>{let n=t.get(Cr);if(e!==n.components[0])return;let r=t.get(gn),i=t.get(wH);t.get(EH)===1&&r.initialNavigation(),t.get(IH,null,ve.Optional)?.setUpPreloading(),t.get(gH,null,ve.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var wH=new G("",{factory:()=>new Ft}),EH=new G("",{providedIn:"root",factory:()=>1});var IH=new G("");function dx(t){return yH(5,[{provide:kf,useValue:t}])}var nt="top",_t="bottom",ht="right",dt="left",Ff="auto",oo=[nt,_t,ht,dt],fi="start",as="end",hx="clippingParents",Vf="viewport",Sa="popper",fx="reference",qw=oo.reduce(function(t,e){return t.concat([e+"-"+fi,e+"-"+as])},[]),Lf=[].concat(oo,[Ff]).reduce(function(t,e){return t.concat([e,e+"-"+fi,e+"-"+as])},[]),CH="beforeRead",bH="read",TH="afterRead",DH="beforeMain",SH="main",AH="afterMain",xH="beforeWrite",MH="write",PH="afterWrite",px=[CH,bH,TH,DH,SH,AH,xH,MH,PH];function Ot(t){return t?(t.nodeName||"").toLowerCase():null}function Ge(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Un(t){var e=Ge(t).Element;return t instanceof e||t instanceof Element}function wt(t){var e=Ge(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Aa(t){if(typeof ShadowRoot>"u")return!1;var e=Ge(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function OH(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!wt(o)||!Ot(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function RH(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(c,l){return c[l]="",c},{});!wt(i)||!Ot(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(c){i.removeAttribute(c)}))})}}var kl={name:"applyStyles",enabled:!0,phase:"write",fn:OH,effect:RH,requires:["computeStyles"]};function Rt(t){return t.split("-")[0]}var sr=Math.max,cs=Math.min,pi=Math.round;function xa(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Fl(){return!/^((?!chrome|android).)*safari/i.test(xa())}function Bn(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&wt(t)&&(i=t.offsetWidth>0&&pi(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&pi(r.height)/t.offsetHeight||1);var s=Un(t)?Ge(t):window,a=s.visualViewport,c=!Fl()&&n,l=(r.left+(c&&a?a.offsetLeft:0))/i,u=(r.top+(c&&a?a.offsetTop:0))/o,d=r.width/i,h=r.height/o;return{width:d,height:h,top:u,right:l+d,bottom:u+h,left:l,x:l,y:u}}function ls(t){var e=Bn(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Vl(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Aa(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function cn(t){return Ge(t).getComputedStyle(t)}function Gw(t){return["table","td","th"].indexOf(Ot(t))>=0}function Gt(t){return((Un(t)?t.ownerDocument:t.document)||window.document).documentElement}function mi(t){return Ot(t)==="html"?t:t.assignedSlot||t.parentNode||(Aa(t)?t.host:null)||Gt(t)}function mx(t){return!wt(t)||cn(t).position==="fixed"?null:t.offsetParent}function NH(t){var e=/firefox/i.test(xa()),n=/Trident/i.test(xa());if(n&&wt(t)){var r=cn(t);if(r.position==="fixed")return null}var i=mi(t);for(Aa(i)&&(i=i.host);wt(i)&&["html","body"].indexOf(Ot(i))<0;){var o=cn(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function ar(t){for(var e=Ge(t),n=mx(t);n&&Gw(n)&&cn(n).position==="static";)n=mx(n);return n&&(Ot(n)==="html"||Ot(n)==="body"&&cn(n).position==="static")?e:n||NH(t)||e}function us(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ds(t,e,n){return sr(t,cs(e,n))}function gx(t,e,n){var r=ds(t,e,n);return r>n?n:r}function Ll(){return{top:0,right:0,bottom:0,left:0}}function jl(t){return Object.assign({},Ll(),t)}function Ul(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var kH=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,jl(typeof e!="number"?e:Ul(e,oo))};function FH(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Rt(n.placement),c=us(a),l=[dt,ht].indexOf(a)>=0,u=l?"height":"width";if(!(!o||!s)){var d=kH(i.padding,n),h=ls(o),f=c==="y"?nt:dt,v=c==="y"?_t:ht,I=n.rects.reference[u]+n.rects.reference[c]-s[c]-n.rects.popper[u],T=s[c]-n.rects.reference[c],D=ar(o),$=D?c==="y"?D.clientHeight||0:D.clientWidth||0:0,z=I/2-T/2,p=d[f],X=$-h[u]-d[v],M=$/2-h[u]/2+z,W=ds(p,M,X),ue=c;n.modifiersData[r]=(e={},e[ue]=W,e.centerOffset=W-M,e)}}function VH(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Vl(e.elements.popper,i)&&(e.elements.arrow=i))}var vx={name:"arrow",enabled:!0,phase:"main",fn:FH,effect:VH,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $n(t){return t.split("-")[1]}var LH={top:"auto",right:"auto",bottom:"auto",left:"auto"};function jH(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:pi(n*i)/i||0,y:pi(r*i)/i||0}}function yx(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,c=t.gpuAcceleration,l=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=s.x,f=h===void 0?0:h,v=s.y,I=v===void 0?0:v,T=typeof u=="function"?u({x:f,y:I}):{x:f,y:I};f=T.x,I=T.y;var D=s.hasOwnProperty("x"),$=s.hasOwnProperty("y"),z=dt,p=nt,X=window;if(l){var M=ar(n),W="clientHeight",ue="clientWidth";if(M===Ge(n)&&(M=Gt(n),cn(M).position!=="static"&&a==="absolute"&&(W="scrollHeight",ue="scrollWidth")),M=M,i===nt||(i===dt||i===ht)&&o===as){p=_t;var Ee=d&&M===X&&X.visualViewport?X.visualViewport.height:M[W];I-=Ee-r.height,I*=c?1:-1}if(i===dt||(i===nt||i===_t)&&o===as){z=ht;var be=d&&M===X&&X.visualViewport?X.visualViewport.width:M[ue];f-=be-r.width,f*=c?1:-1}}var Qe=Object.assign({position:a},l&&LH),Pe=u===!0?jH({x:f,y:I},Ge(n)):{x:f,y:I};if(f=Pe.x,I=Pe.y,c){var Le;return Object.assign({},Qe,(Le={},Le[p]=$?"0":"",Le[z]=D?"0":"",Le.transform=(X.devicePixelRatio||1)<=1?"translate("+f+"px, "+I+"px)":"translate3d("+f+"px, "+I+"px, 0)",Le))}return Object.assign({},Qe,(e={},e[p]=$?I+"px":"",e[z]=D?f+"px":"",e.transform="",e))}function UH(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,c=a===void 0?!0:a,l={placement:Rt(e.placement),variation:$n(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,yx(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,yx(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var _x={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:UH,data:{}};var jf={passive:!0};function BH(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,c=Ge(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&l.forEach(function(u){u.addEventListener("scroll",n.update,jf)}),a&&c.addEventListener("resize",n.update,jf),function(){o&&l.forEach(function(u){u.removeEventListener("scroll",n.update,jf)}),a&&c.removeEventListener("resize",n.update,jf)}}var wx={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:BH,data:{}};var $H={left:"right",right:"left",bottom:"top",top:"bottom"};function Ma(t){return t.replace(/left|right|bottom|top/g,function(e){return $H[e]})}var HH={start:"end",end:"start"};function Uf(t){return t.replace(/start|end/g,function(e){return HH[e]})}function hs(t){var e=Ge(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function fs(t){return Bn(Gt(t)).left+hs(t).scrollLeft}function Ww(t,e){var n=Ge(t),r=Gt(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;var l=Fl();(l||!l&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a+fs(t),y:c}}function Kw(t){var e,n=Gt(t),r=hs(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=sr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=sr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+fs(t),c=-r.scrollTop;return cn(i||n).direction==="rtl"&&(a+=sr(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:c}}function ps(t){var e=cn(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Bf(t){return["html","body","#document"].indexOf(Ot(t))>=0?t.ownerDocument.body:wt(t)&&ps(t)?t:Bf(mi(t))}function so(t,e){var n;e===void 0&&(e=[]);var r=Bf(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Ge(r),s=i?[o].concat(o.visualViewport||[],ps(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(so(mi(s)))}function Pa(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function zH(t,e){var n=Bn(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Ex(t,e,n){return e===Vf?Pa(Ww(t,n)):Un(e)?zH(e,n):Pa(Kw(Gt(t)))}function qH(t){var e=so(mi(t)),n=["absolute","fixed"].indexOf(cn(t).position)>=0,r=n&&wt(t)?ar(t):t;return Un(r)?e.filter(function(i){return Un(i)&&Vl(i,r)&&Ot(i)!=="body"}):[]}function Qw(t,e,n,r){var i=e==="clippingParents"?qH(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(c,l){var u=Ex(t,l,r);return c.top=sr(u.top,c.top),c.right=cs(u.right,c.right),c.bottom=cs(u.bottom,c.bottom),c.left=sr(u.left,c.left),c},Ex(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Bl(t){var e=t.reference,n=t.element,r=t.placement,i=r?Rt(r):null,o=r?$n(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,c;switch(i){case nt:c={x:s,y:e.y-n.height};break;case _t:c={x:s,y:e.y+e.height};break;case ht:c={x:e.x+e.width,y:a};break;case dt:c={x:e.x-n.width,y:a};break;default:c={x:e.x,y:e.y}}var l=i?us(i):null;if(l!=null){var u=l==="y"?"height":"width";switch(o){case fi:c[l]=c[l]-(e[u]/2-n[u]/2);break;case as:c[l]=c[l]+(e[u]/2-n[u]/2);break;default:}}return c}function cr(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,c=a===void 0?hx:a,l=n.rootBoundary,u=l===void 0?Vf:l,d=n.elementContext,h=d===void 0?Sa:d,f=n.altBoundary,v=f===void 0?!1:f,I=n.padding,T=I===void 0?0:I,D=jl(typeof T!="number"?T:Ul(T,oo)),$=h===Sa?fx:Sa,z=t.rects.popper,p=t.elements[v?$:h],X=Qw(Un(p)?p:p.contextElement||Gt(t.elements.popper),c,u,s),M=Bn(t.elements.reference),W=Bl({reference:M,element:z,strategy:"absolute",placement:i}),ue=Pa(Object.assign({},z,W)),Ee=h===Sa?ue:M,be={top:X.top-Ee.top+D.top,bottom:Ee.bottom-X.bottom+D.bottom,left:X.left-Ee.left+D.left,right:Ee.right-X.right+D.right},Qe=t.modifiersData.offset;if(h===Sa&&Qe){var Pe=Qe[i];Object.keys(be).forEach(function(Le){var Wt=[ht,_t].indexOf(Le)>=0?1:-1,Kt=[nt,_t].indexOf(Le)>=0?"y":"x";be[Le]+=Pe[Kt]*Wt})}return be}function Yw(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,l=c===void 0?Lf:c,u=$n(r),d=u?a?qw:qw.filter(function(v){return $n(v)===u}):oo,h=d.filter(function(v){return l.indexOf(v)>=0});h.length===0&&(h=d);var f=h.reduce(function(v,I){return v[I]=cr(t,{placement:I,boundary:i,rootBoundary:o,padding:s})[Rt(I)],v},{});return Object.keys(f).sort(function(v,I){return f[v]-f[I]})}function GH(t){if(Rt(t)===Ff)return[];var e=Ma(t);return[Uf(t),e,Uf(e)]}function WH(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,v=f===void 0?!0:f,I=n.allowedAutoPlacements,T=e.options.placement,D=Rt(T),$=D===T,z=c||($||!v?[Ma(T)]:GH(T)),p=[T].concat(z).reduce(function(Te,ln){return Te.concat(Rt(ln)===Ff?Yw(e,{placement:ln,boundary:u,rootBoundary:d,padding:l,flipVariations:v,allowedAutoPlacements:I}):ln)},[]),X=e.rects.reference,M=e.rects.popper,W=new Map,ue=!0,Ee=p[0],be=0;be<p.length;be++){var Qe=p[be],Pe=Rt(Qe),Le=$n(Qe)===fi,Wt=[nt,_t].indexOf(Pe)>=0,Kt=Wt?"width":"height",F=cr(e,{placement:Qe,boundary:u,rootBoundary:d,altBoundary:h,padding:l}),B=Wt?Le?ht:dt:Le?_t:nt;X[Kt]>M[Kt]&&(B=Ma(B));var H=Ma(B),le=[];if(o&&le.push(F[Pe]<=0),a&&le.push(F[B]<=0,F[H]<=0),le.every(function(Te){return Te})){Ee=Qe,ue=!1;break}W.set(Qe,le)}if(ue)for(var Ne=v?3:1,Et=function(ln){var zn=p.find(function(We){var kt=W.get(We);if(kt)return kt.slice(0,ln).every(function(pt){return pt})});if(zn)return Ee=zn,"break"},qe=Ne;qe>0;qe--){var Qt=Et(qe);if(Qt==="break")break}e.placement!==Ee&&(e.modifiersData[r]._skip=!0,e.placement=Ee,e.reset=!0)}}var Ix={name:"flip",enabled:!0,phase:"main",fn:WH,requiresIfExists:["offset"],data:{_skip:!1}};function Cx(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function bx(t){return[nt,ht,_t,dt].some(function(e){return t[e]>=0})}function KH(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=cr(e,{elementContext:"reference"}),a=cr(e,{altBoundary:!0}),c=Cx(s,r),l=Cx(a,i,o),u=bx(c),d=bx(l);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var Tx={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:KH};function QH(t,e,n){var r=Rt(t),i=[dt,nt].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[dt,ht].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function YH(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=Lf.reduce(function(u,d){return u[d]=QH(d,e.rects,o),u},{}),a=s[e.placement],c=a.x,l=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=s}var Dx={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:YH};function XH(t){var e=t.state,n=t.name;e.modifiersData[n]=Bl({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Sx={name:"popperOffsets",enabled:!0,phase:"read",fn:XH,data:{}};function Xw(t){return t==="x"?"y":"x"}function JH(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,v=n.tetherOffset,I=v===void 0?0:v,T=cr(e,{boundary:c,rootBoundary:l,padding:d,altBoundary:u}),D=Rt(e.placement),$=$n(e.placement),z=!$,p=us(D),X=Xw(p),M=e.modifiersData.popperOffsets,W=e.rects.reference,ue=e.rects.popper,Ee=typeof I=="function"?I(Object.assign({},e.rects,{placement:e.placement})):I,be=typeof Ee=="number"?{mainAxis:Ee,altAxis:Ee}:Object.assign({mainAxis:0,altAxis:0},Ee),Qe=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Pe={x:0,y:0};if(M){if(o){var Le,Wt=p==="y"?nt:dt,Kt=p==="y"?_t:ht,F=p==="y"?"height":"width",B=M[p],H=B+T[Wt],le=B-T[Kt],Ne=f?-ue[F]/2:0,Et=$===fi?W[F]:ue[F],qe=$===fi?-ue[F]:-W[F],Qt=e.elements.arrow,Te=f&&Qt?ls(Qt):{width:0,height:0},ln=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Ll(),zn=ln[Wt],We=ln[Kt],kt=ds(0,W[F],Te[F]),pt=z?W[F]/2-Ne-kt-zn-be.mainAxis:Et-kt-zn-be.mainAxis,yn=z?-W[F]/2+Ne+kt+We+be.mainAxis:qe+kt+We+be.mainAxis,hr=e.elements.arrow&&ar(e.elements.arrow),Xl=hr?p==="y"?hr.clientTop||0:hr.clientLeft||0:0,Ua=(Le=Qe?.[p])!=null?Le:0,Jl=B+pt-Ua-Xl,Zl=B+yn-Ua,Ba=ds(f?cs(H,Jl):H,B,f?sr(le,Zl):le);M[p]=Ba,Pe[p]=Ba-B}if(a){var $a,eu=p==="x"?nt:dt,tu=p==="x"?_t:ht,Ur=M[X],yi=X==="y"?"height":"width",Ha=Ur+T[eu],ho=Ur-T[tu],za=[nt,dt].indexOf(D)!==-1,nu=($a=Qe?.[X])!=null?$a:0,ru=za?Ha:Ur-W[yi]-ue[yi]-nu+be.altAxis,iu=za?Ur+W[yi]+ue[yi]-nu-be.altAxis:ho,ou=f&&za?gx(ru,Ur,iu):ds(f?ru:Ha,Ur,f?iu:ho);M[X]=ou,Pe[X]=ou-Ur}e.modifiersData[r]=Pe}}var Ax={name:"preventOverflow",enabled:!0,phase:"main",fn:JH,requiresIfExists:["offset"]};function Jw(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Zw(t){return t===Ge(t)||!wt(t)?hs(t):Jw(t)}function ZH(t){var e=t.getBoundingClientRect(),n=pi(e.width)/t.offsetWidth||1,r=pi(e.height)/t.offsetHeight||1;return n!==1||r!==1}function e0(t,e,n){n===void 0&&(n=!1);var r=wt(e),i=wt(e)&&ZH(e),o=Gt(e),s=Bn(t,i,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Ot(e)!=="body"||ps(o))&&(a=Zw(e)),wt(e)?(c=Bn(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):o&&(c.x=fs(o))),{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function ez(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var c=e.get(a);c&&i(c)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function t0(t){var e=ez(t);return px.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function n0(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function r0(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var xx={placement:"bottom",modifiers:[],strategy:"absolute"};function Mx(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Px(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?xx:i;return function(a,c,l){l===void 0&&(l=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},xx,o),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},d=[],h=!1,f={state:u,setOptions:function(D){var $=typeof D=="function"?D(u.options):D;I(),u.options=Object.assign({},o,u.options,$),u.scrollParents={reference:Un(a)?so(a):a.contextElement?so(a.contextElement):[],popper:so(c)};var z=t0(r0([].concat(r,u.options.modifiers)));return u.orderedModifiers=z.filter(function(p){return p.enabled}),v(),f.update()},forceUpdate:function(){if(!h){var D=u.elements,$=D.reference,z=D.popper;if(Mx($,z)){u.rects={reference:e0($,ar(z),u.options.strategy==="fixed"),popper:ls(z)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(be){return u.modifiersData[be.name]=Object.assign({},be.data)});for(var p=0;p<u.orderedModifiers.length;p++){if(u.reset===!0){u.reset=!1,p=-1;continue}var X=u.orderedModifiers[p],M=X.fn,W=X.options,ue=W===void 0?{}:W,Ee=X.name;typeof M=="function"&&(u=M({state:u,options:ue,name:Ee,instance:f})||u)}}}},update:n0(function(){return new Promise(function(T){f.forceUpdate(),T(u)})}),destroy:function(){I(),h=!0}};if(!Mx(a,c))return f;f.setOptions(l).then(function(T){!h&&l.onFirstUpdate&&l.onFirstUpdate(T)});function v(){u.orderedModifiers.forEach(function(T){var D=T.name,$=T.options,z=$===void 0?{}:$,p=T.effect;if(typeof p=="function"){var X=p({state:u,name:D,instance:f,options:z}),M=function(){};d.push(X||M)}})}function I(){d.forEach(function(T){return T()}),d=[]}return f}}var tz=[wx,Sx,_x,kl,Dx,Ix,Ax,vx,Tx],i0=Px({defaultModifiers:tz});var nz="tippy-box",Bx="tippy-content",rz="tippy-backdrop",$x="tippy-arrow",Hx="tippy-svg-arrow",ms={passive:!0,capture:!0},zx=function(){return document.body};function o0(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function d0(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function qx(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Ox(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function iz(t){return t.split(/\s+/).filter(Boolean)}function Oa(t){return[].concat(t)}function Rx(t,e){t.indexOf(e)===-1&&t.push(e)}function oz(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function sz(t){return t.split("-")[0]}function Hf(t){return[].slice.call(t)}function Nx(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function $l(){return document.createElement("div")}function zf(t){return["Element","Fragment"].some(function(e){return d0(t,e)})}function az(t){return d0(t,"NodeList")}function cz(t){return d0(t,"MouseEvent")}function lz(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function uz(t){return zf(t)?[t]:az(t)?Hf(t):Array.isArray(t)?t:Hf(document.querySelectorAll(t))}function s0(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function kx(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function dz(t){var e,n=Oa(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function hz(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var o=i.popperRect,s=i.popperState,a=i.props,c=a.interactiveBorder,l=sz(s.placement),u=s.modifiersData.offset;if(!u)return!0;var d=l==="bottom"?u.top.y:0,h=l==="top"?u.bottom.y:0,f=l==="right"?u.left.x:0,v=l==="left"?u.right.x:0,I=o.top-r+d>c,T=r-o.bottom-h>c,D=o.left-n+f>c,$=n-o.right-v>c;return I||T||D||$})}function a0(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function Fx(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Fr={isTouch:!1},Vx=0;function fz(){Fr.isTouch||(Fr.isTouch=!0,window.performance&&document.addEventListener("mousemove",Gx))}function Gx(){var t=performance.now();t-Vx<20&&(Fr.isTouch=!1,document.removeEventListener("mousemove",Gx)),Vx=t}function pz(){var t=document.activeElement;if(lz(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function mz(){document.addEventListener("touchstart",fz,ms),window.addEventListener("blur",pz)}var gz=typeof window<"u"&&typeof document<"u",vz=gz?!!window.msCrypto:!1;var yz={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},_z={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},lr=Object.assign({appendTo:zx,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},yz,_z),wz=Object.keys(lr),Ez=function(e){var n=Object.keys(e);n.forEach(function(r){lr[r]=e[r]})};function Wx(t){var e=t.plugins||[],n=e.reduce(function(r,i){var o=i.name,s=i.defaultValue;if(o){var a;r[o]=t[o]!==void 0?t[o]:(a=lr[o])!=null?a:s}return r},{});return Object.assign({},t,n)}function Iz(t,e){var n=e?Object.keys(Wx(Object.assign({},lr,{plugins:e}))):wz,r=n.reduce(function(i,o){var s=(t.getAttribute("data-tippy-"+o)||"").trim();if(!s)return i;if(o==="content")i[o]=s;else try{i[o]=JSON.parse(s)}catch{i[o]=s}return i},{});return r}function Lx(t,e){var n=Object.assign({},e,{content:qx(e.content,[t])},e.ignoreAttributes?{}:Iz(t,e.plugins));return n.aria=Object.assign({},lr.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var Cz=function(){return"innerHTML"};function l0(t,e){t[Cz()]=e}function jx(t){var e=$l();return t===!0?e.className=$x:(e.className=Hx,zf(t)?e.appendChild(t):l0(e,t)),e}function Ux(t,e){zf(e.content)?(l0(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?l0(t,e.content):t.textContent=e.content)}function u0(t){var e=t.firstElementChild,n=Hf(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(Bx)}),arrow:n.find(function(r){return r.classList.contains($x)||r.classList.contains(Hx)}),backdrop:n.find(function(r){return r.classList.contains(rz)})}}function Kx(t){var e=$l(),n=$l();n.className=nz,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=$l();r.className=Bx,r.setAttribute("data-state","hidden"),Ux(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(o,s){var a=u0(e),c=a.box,l=a.content,u=a.arrow;s.theme?c.setAttribute("data-theme",s.theme):c.removeAttribute("data-theme"),typeof s.animation=="string"?c.setAttribute("data-animation",s.animation):c.removeAttribute("data-animation"),s.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?c.setAttribute("role",s.role):c.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&Ux(l,t.props),s.arrow?u?o.arrow!==s.arrow&&(c.removeChild(u),c.appendChild(jx(s.arrow))):c.appendChild(jx(s.arrow)):u&&c.removeChild(u)}return{popper:e,onUpdate:i}}Kx.$$tippy=!0;var bz=1,$f=[],c0=[];function Tz(t,e){var n=Lx(t,Object.assign({},lr,Wx(Nx(e)))),r,i,o,s=!1,a=!1,c=!1,l=!1,u,d,h,f=[],v=Ox(Jl,n.interactiveDebounce),I,T=bz++,D=null,$=oz(n.plugins),z={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},p={id:T,reference:t,popper:$l(),popperInstance:D,props:n,state:z,plugins:$,clearDelayTimeouts:ru,setProps:iu,setContent:ou,show:dP,hide:hP,hideWithInteractivity:fP,enable:za,disable:nu,unmount:pP,destroy:mP};if(!n.render)return p;var X=n.render(p),M=X.popper,W=X.onUpdate;M.setAttribute("data-tippy-root",""),M.id="tippy-"+p.id,p.popper=M,t._tippy=p,M._tippy=p;var ue=$.map(function(b){return b.fn(p)}),Ee=t.hasAttribute("aria-expanded");return hr(),Ne(),B(),H("onCreate",[p]),n.showOnCreate&&Ha(),M.addEventListener("mouseenter",function(){p.props.interactive&&p.state.isVisible&&p.clearDelayTimeouts()}),M.addEventListener("mouseleave",function(){p.props.interactive&&p.props.trigger.indexOf("mouseenter")>=0&&Wt().addEventListener("mousemove",v)}),p;function be(){var b=p.props.touch;return Array.isArray(b)?b:[b,0]}function Qe(){return be()[0]==="hold"}function Pe(){var b;return!!((b=p.props.render)!=null&&b.$$tippy)}function Le(){return I||t}function Wt(){var b=Le().parentNode;return b?dz(b):document}function Kt(){return u0(M)}function F(b){return p.state.isMounted&&!p.state.isVisible||Fr.isTouch||u&&u.type==="focus"?0:o0(p.props.delay,b?0:1,lr.delay)}function B(b){b===void 0&&(b=!1),M.style.pointerEvents=p.props.interactive&&!b?"":"none",M.style.zIndex=""+p.props.zIndex}function H(b,q,oe){if(oe===void 0&&(oe=!0),ue.forEach(function(De){De[b]&&De[b].apply(De,q)}),oe){var ke;(ke=p.props)[b].apply(ke,q)}}function le(){var b=p.props.aria;if(b.content){var q="aria-"+b.content,oe=M.id,ke=Oa(p.props.triggerTarget||t);ke.forEach(function(De){var en=De.getAttribute(q);if(p.state.isVisible)De.setAttribute(q,en?en+" "+oe:oe);else{var Pn=en&&en.replace(oe,"").trim();Pn?De.setAttribute(q,Pn):De.removeAttribute(q)}})}}function Ne(){if(!(Ee||!p.props.aria.expanded)){var b=Oa(p.props.triggerTarget||t);b.forEach(function(q){p.props.interactive?q.setAttribute("aria-expanded",p.state.isVisible&&q===Le()?"true":"false"):q.removeAttribute("aria-expanded")})}}function Et(){Wt().removeEventListener("mousemove",v),$f=$f.filter(function(b){return b!==v})}function qe(b){if(!(Fr.isTouch&&(c||b.type==="mousedown"))){var q=b.composedPath&&b.composedPath()[0]||b.target;if(!(p.props.interactive&&Fx(M,q))){if(Oa(p.props.triggerTarget||t).some(function(oe){return Fx(oe,q)})){if(Fr.isTouch||p.state.isVisible&&p.props.trigger.indexOf("click")>=0)return}else H("onClickOutside",[p,b]);p.props.hideOnClick===!0&&(p.clearDelayTimeouts(),p.hide(),a=!0,setTimeout(function(){a=!1}),p.state.isMounted||zn())}}}function Qt(){c=!0}function Te(){c=!1}function ln(){var b=Wt();b.addEventListener("mousedown",qe,!0),b.addEventListener("touchend",qe,ms),b.addEventListener("touchstart",Te,ms),b.addEventListener("touchmove",Qt,ms)}function zn(){var b=Wt();b.removeEventListener("mousedown",qe,!0),b.removeEventListener("touchend",qe,ms),b.removeEventListener("touchstart",Te,ms),b.removeEventListener("touchmove",Qt,ms)}function We(b,q){pt(b,function(){!p.state.isVisible&&M.parentNode&&M.parentNode.contains(M)&&q()})}function kt(b,q){pt(b,q)}function pt(b,q){var oe=Kt().box;function ke(De){De.target===oe&&(a0(oe,"remove",ke),q())}if(b===0)return q();a0(oe,"remove",d),a0(oe,"add",ke),d=ke}function yn(b,q,oe){oe===void 0&&(oe=!1);var ke=Oa(p.props.triggerTarget||t);ke.forEach(function(De){De.addEventListener(b,q,oe),f.push({node:De,eventType:b,handler:q,options:oe})})}function hr(){Qe()&&(yn("touchstart",Ua,{passive:!0}),yn("touchend",Zl,{passive:!0})),iz(p.props.trigger).forEach(function(b){if(b!=="manual")switch(yn(b,Ua),b){case"mouseenter":yn("mouseleave",Zl);break;case"focus":yn(vz?"focusout":"blur",Ba);break;case"focusin":yn("focusout",Ba);break}})}function Xl(){f.forEach(function(b){var q=b.node,oe=b.eventType,ke=b.handler,De=b.options;q.removeEventListener(oe,ke,De)}),f=[]}function Ua(b){var q,oe=!1;if(!(!p.state.isEnabled||$a(b)||a)){var ke=((q=u)==null?void 0:q.type)==="focus";u=b,I=b.currentTarget,Ne(),!p.state.isVisible&&cz(b)&&$f.forEach(function(De){return De(b)}),b.type==="click"&&(p.props.trigger.indexOf("mouseenter")<0||s)&&p.props.hideOnClick!==!1&&p.state.isVisible?oe=!0:Ha(b),b.type==="click"&&(s=!oe),oe&&!ke&&ho(b)}}function Jl(b){var q=b.target,oe=Le().contains(q)||M.contains(q);if(!(b.type==="mousemove"&&oe)){var ke=yi().concat(M).map(function(De){var en,Pn=De._tippy,ys=(en=Pn.popperInstance)==null?void 0:en.state;return ys?{popperRect:De.getBoundingClientRect(),popperState:ys,props:n}:null}).filter(Boolean);hz(ke,b)&&(Et(),ho(b))}}function Zl(b){var q=$a(b)||p.props.trigger.indexOf("click")>=0&&s;if(!q){if(p.props.interactive){p.hideWithInteractivity(b);return}ho(b)}}function Ba(b){p.props.trigger.indexOf("focusin")<0&&b.target!==Le()||p.props.interactive&&b.relatedTarget&&M.contains(b.relatedTarget)||ho(b)}function $a(b){return Fr.isTouch?Qe()!==b.type.indexOf("touch")>=0:!1}function eu(){tu();var b=p.props,q=b.popperOptions,oe=b.placement,ke=b.offset,De=b.getReferenceClientRect,en=b.moveTransition,Pn=Pe()?u0(M).arrow:null,ys=De?{getBoundingClientRect:De,contextElement:De.contextElement||Le()}:t,x0={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(su){var _s=su.state;if(Pe()){var gP=Kt(),ap=gP.box;["placement","reference-hidden","escaped"].forEach(function(au){au==="placement"?ap.setAttribute("data-placement",_s.placement):_s.attributes.popper["data-popper-"+au]?ap.setAttribute("data-"+au,""):ap.removeAttribute("data-"+au)}),_s.attributes.popper={}}}},fo=[{name:"offset",options:{offset:ke}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!en}},x0];Pe()&&Pn&&fo.push({name:"arrow",options:{element:Pn,padding:3}}),fo.push.apply(fo,q?.modifiers||[]),p.popperInstance=i0(ys,M,Object.assign({},q,{placement:oe,onFirstUpdate:h,modifiers:fo}))}function tu(){p.popperInstance&&(p.popperInstance.destroy(),p.popperInstance=null)}function Ur(){var b=p.props.appendTo,q,oe=Le();p.props.interactive&&b===zx||b==="parent"?q=oe.parentNode:q=qx(b,[oe]),q.contains(M)||q.appendChild(M),p.state.isMounted=!0,eu()}function yi(){return Hf(M.querySelectorAll("[data-tippy-root]"))}function Ha(b){p.clearDelayTimeouts(),b&&H("onTrigger",[p,b]),ln();var q=F(!0),oe=be(),ke=oe[0],De=oe[1];Fr.isTouch&&ke==="hold"&&De&&(q=De),q?r=setTimeout(function(){p.show()},q):p.show()}function ho(b){if(p.clearDelayTimeouts(),H("onUntrigger",[p,b]),!p.state.isVisible){zn();return}if(!(p.props.trigger.indexOf("mouseenter")>=0&&p.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(b.type)>=0&&s)){var q=F(!1);q?i=setTimeout(function(){p.state.isVisible&&p.hide()},q):o=requestAnimationFrame(function(){p.hide()})}}function za(){p.state.isEnabled=!0}function nu(){p.hide(),p.state.isEnabled=!1}function ru(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function iu(b){if(!p.state.isDestroyed){H("onBeforeUpdate",[p,b]),Xl();var q=p.props,oe=Lx(t,Object.assign({},q,Nx(b),{ignoreAttributes:!0}));p.props=oe,hr(),q.interactiveDebounce!==oe.interactiveDebounce&&(Et(),v=Ox(Jl,oe.interactiveDebounce)),q.triggerTarget&&!oe.triggerTarget?Oa(q.triggerTarget).forEach(function(ke){ke.removeAttribute("aria-expanded")}):oe.triggerTarget&&t.removeAttribute("aria-expanded"),Ne(),B(),W&&W(q,oe),p.popperInstance&&(eu(),yi().forEach(function(ke){requestAnimationFrame(ke._tippy.popperInstance.forceUpdate)})),H("onAfterUpdate",[p,b])}}function ou(b){p.setProps({content:b})}function dP(){var b=p.state.isVisible,q=p.state.isDestroyed,oe=!p.state.isEnabled,ke=Fr.isTouch&&!p.props.touch,De=o0(p.props.duration,0,lr.duration);if(!(b||q||oe||ke)&&!Le().hasAttribute("disabled")&&(H("onShow",[p],!1),p.props.onShow(p)!==!1)){if(p.state.isVisible=!0,Pe()&&(M.style.visibility="visible"),B(),ln(),p.state.isMounted||(M.style.transition="none"),Pe()){var en=Kt(),Pn=en.box,ys=en.content;s0([Pn,ys],0)}h=function(){var fo;if(!(!p.state.isVisible||l)){if(l=!0,M.offsetHeight,M.style.transition=p.props.moveTransition,Pe()&&p.props.animation){var sp=Kt(),su=sp.box,_s=sp.content;s0([su,_s],De),kx([su,_s],"visible")}le(),Ne(),Rx(c0,p),(fo=p.popperInstance)==null||fo.forceUpdate(),H("onMount",[p]),p.props.animation&&Pe()&&kt(De,function(){p.state.isShown=!0,H("onShown",[p])})}},Ur()}}function hP(){var b=!p.state.isVisible,q=p.state.isDestroyed,oe=!p.state.isEnabled,ke=o0(p.props.duration,1,lr.duration);if(!(b||q||oe)&&(H("onHide",[p],!1),p.props.onHide(p)!==!1)){if(p.state.isVisible=!1,p.state.isShown=!1,l=!1,s=!1,Pe()&&(M.style.visibility="hidden"),Et(),zn(),B(!0),Pe()){var De=Kt(),en=De.box,Pn=De.content;p.props.animation&&(s0([en,Pn],ke),kx([en,Pn],"hidden"))}le(),Ne(),p.props.animation?Pe()&&We(ke,p.unmount):p.unmount()}}function fP(b){Wt().addEventListener("mousemove",v),Rx($f,v),v(b)}function pP(){p.state.isVisible&&p.hide(),p.state.isMounted&&(tu(),yi().forEach(function(b){b._tippy.unmount()}),M.parentNode&&M.parentNode.removeChild(M),c0=c0.filter(function(b){return b!==p}),p.state.isMounted=!1,H("onHidden",[p]))}function mP(){p.state.isDestroyed||(p.clearDelayTimeouts(),p.unmount(),Xl(),delete t._tippy,p.state.isDestroyed=!0,H("onDestroy",[p]))}}function Hl(t,e){e===void 0&&(e={});var n=lr.plugins.concat(e.plugins||[]);mz();var r=Object.assign({},e,{plugins:n}),i=uz(t);if(0)var o,s;var a=i.reduce(function(c,l){var u=l&&Tz(l,r);return u&&c.push(u),c},[]);return zf(t)?a[0]:a}Hl.defaultProps=lr;Hl.setDefaultProps=Ez;Hl.currentInput=Fr;var Vre=Object.assign({},kl,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});Hl.setDefaultProps({render:Kx});var h0=Hl;var f0=class{constructor(e){this.options=e,e.vcr?this.ref=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector}):(this.ref=Ld(e.component,{elementInjector:e.injector,environmentInjector:e.environmentInjector}),e.appRef.attachView(this.ref.hostView))}setInput(e,n){return this.ref.setInput(e,n),this}setInputs(e){return Object.keys(e).forEach(n=>{this.ref.setInput(n,e[n])}),this}detectChanges(){return this.ref.hostView.detectChanges(),this}updateContext(e){return this.options.contextSignal?.set(e),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.ref.location.nativeElement}destroy(){this.ref.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.ref.hostView),this.ref=null}};function qf(t){return t instanceof Xn}function zl(t){return typeof t=="function"}function ql(t){return typeof t=="string"}var p0=class{constructor(e){this.args=e,this.args.vcr?(this.ref=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{},{injector:e.injector}),this.ref.detectChanges()):(this.ref=this.args.tpl.createEmbeddedView(this.args.context||{},e.injector),this.ref.detectChanges(),this.args.appRef.attachView(this.ref))}detectChanges(){return this.ref.detectChanges(),this}getElement(){let e=this.ref.rootNodes;return e.length===1&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){this.ref.rootNodes[0]!==1&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.ref),this.ref.destroy(),this.ref=null}updateContext(e){return Object.assign(this.ref.context,e),this}},m0=class{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){return this}updateContext(){return this}destroy(){}},Dz=new G("Component context"),g0=(()=>{let e=class e{constructor(){this.injector=O(Xe),this.appRef=O(Cr),this.environmentInjector=O(bt)}createComponent(r,i={}){let o=i.injector??this.injector,s;return i.context&&(s=ei(i.context),o=Xe.create({providers:[{provide:Dz,useValue:s.asReadonly()}],parent:o})),new f0({component:r,vcr:i.vcr,injector:o,appRef:this.appRef,environmentInjector:i.environmentInjector||this.environmentInjector,contextSignal:s})}createTemplate(r,i={}){return new p0({vcr:i.vcr,appRef:this.appRef,tpl:r,context:i.context,injector:i.injector})}createView(r,i={}){if(qf(r))return this.createTemplate(r,i);if(zl(r))return this.createComponent(r,i);if(ql(r))return new m0(r);throw"Type of content is not supported"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Yx=!1,Xx=!1;typeof window<"u"&&(Yx="IntersectionObserver"in window,Xx="ResizeObserver"in window);function Qx(t,e={root:null,threshold:.3}){let n=tM(t);return new se(r=>{if(!Yx){r.next(),r.complete();return}let i=new IntersectionObserver(o=>{o[o.length-1].isIntersecting&&(r.next(),r.complete())},e);return i.observe(n),()=>i.disconnect()})}function Jx(t){let e=t.offsetWidth;return e>t.parentElement.offsetWidth||e<t.scrollWidth}function Az(t){let e=tM(t);return Zx(e).pipe(Mp(150),ie(()=>Jx(e)))}function Zx(t){return xz(t)}function xz(t){return new se(e=>{if(!Xx){e.next(),e.complete();return}let n=new ResizeObserver(()=>e.next(!0));return n.observe(t),()=>n.disconnect()})}function Gl(t){let e={},n=["useTextContent","variations","useHostWidth","defaultVariation","beforeRender","isLazy","variation","isEnabled","className","onlyTextOverflow","data","content","context","hideOnEscape","customHost","injector","preserveView","vcr","popperWidth","zIndexGetter","staticWidthHost"],r=["onShow","onHidden","onCreate"];return Object.keys(t).forEach(i=>{!n.includes(i)&&!r.includes(i)&&(e[i]=t[i])}),e}function eM(t){return(Pz(t)?t.split(" "):t).map(n=>n?.trim()).filter(Boolean)}function Mz(t){return Oz(t)?"":typeof t=="string"?t:`${t}px`}function Pz(t){return typeof t=="string"}function Oz(t){return t==null}function tM(t){return t instanceof gt?t.nativeElement:t}var v0,y0=new WeakMap;function Rz(t,e){return v0??=new IntersectionObserver(n=>{n.forEach(r=>{r.isIntersecting||y0.get(r.target)()})}),y0.set(t,e),v0.observe(t),()=>{y0.delete(t),v0.unobserve(t)}}var _0=new G("Tippy config",{providedIn:"root",factory(){return{}}}),nM=new G("TIPPY_REF"),Hn=(()=>{let e=class e{set appendTo(r){this.updateProps({appendTo:r})}constructor(r,i,o,s,a,c,l){this.platformId=r,this.globalConfig=i,this.injector=o,this.viewService=s,this.vcr=a,this.zone=c,this.hostRef=l,this.onlyTextOverflow=!1,this.staticWidthHost=!1,this.useHostWidth=!1,this.hideOnEscape=!1,this.detectChangesComponent=!0,this.isVisible=!1,this.visible=new Ye,this.destroyed=new Ft,this.enabled=!0,this.variationDefined=!1,this.visibleInternal=new Ft,this.contentChanged=new Ft}ngOnChanges(r){if(this.isServerSide)return;let i=Object.keys(r).reduce((s,a)=>(a==="isVisible"||(s[a]=r[a].currentValue),s),{}),o;Gf("content",r)&&this.contentChanged.next(),Gf("variation",r)?(o=r.variation.currentValue,this.variationDefined=!0):this.variationDefined||(o=this.globalConfig.defaultVariation,this.variationDefined=!0),o&&(i=R(R({},this.globalConfig.variations[o]),i)),Gf("isEnabled",r)&&(this.enabled=r.isEnabled.currentValue,this.setStatus()),Gf("isVisible",r)&&(this.isVisible?this.show():this.hide()),this.updateProps(i)}ngOnInit(){this.useHostWidth&&(this.props.maxWidth=this.hostWidth)}ngAfterViewInit(){this.isServerSide||this.zone.runOutsideAngular(()=>{this.isLazy?this.onlyTextOverflow?Qx(this.host).pipe(Ct(()=>this.isOverflowing$()),Wn(this.destroyed)).subscribe(r=>{this.checkOverflow(r)}):Qx(this.host).pipe(Wn(this.destroyed)).subscribe(()=>{this.createInstance()}):this.onlyTextOverflow?this.isOverflowing$().pipe(Wn(this.destroyed)).subscribe(r=>{this.checkOverflow(r)}):this.createInstance()})}ngOnDestroy(){this.destroyed.next(),this.instance?.destroy(),this.destroyView(),this.visibilityObserverCleanup?.()}destroyView(){this.viewOptions$=null,this.viewRef?.destroy(),this.viewRef=null}observeHostVisibility(){if(!this.isServerSide&&this.props.appendTo&&this.props.appendTo!==document.body)return this.visibilityObserverCleanup?.(),this.visibleInternal.asObservable().pipe(Wn(this.destroyed)).subscribe(r=>{r?this.zone.runOutsideAngular(()=>{this.visibilityObserverCleanup=Rz(this.instance.reference,()=>{this.hide(),this.props.animation&&this.onHidden()})}):this.visibilityObserverCleanup?.()})}show(){this.instance?.show()}hide(){this.instance?.hide()}enable(){this.instance?.enable()}disable(){this.instance?.disable()}updateProps(r){this.setProps(R(R({},this.props),r))}setProps(r){this.props=r,this.instance?.setProps(Gl(r))}setStatus(){this.enabled?this.instance?.enable():this.instance?.disable()}get host(){return this.customHost||this.hostRef.nativeElement}get hostWidth(){return this.host.getBoundingClientRect().width}createInstance(){!this.content&&!this.useTextContent||this.zone.runOutsideAngular(()=>{this.instance=h0(this.host,Se(R(R(R({allowHTML:!0,appendTo:document.body},this.globalConfig.zIndexGetter?{zIndex:this.globalConfig.zIndexGetter()}:{}),Gl(this.globalConfig)),Gl(this.props)),{onMount:r=>{this.isVisible=!0,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.useHostWidth&&this.listenToHostResize(),this.globalConfig.onMount?.(r)},onCreate:r=>{if(r.popper.classList.add(`tippy-variation-${this.variation||this.globalConfig.defaultVariation}`),this.className)for(let i of eM(this.className))r.popper.classList.add(i);this.globalConfig.onCreate?.(r),this.isVisible===!0&&r.show()},onShow:r=>{r.reference.setAttribute("data-tippy-open",""),this.zone.run(()=>{let i=this.resolveContent(r);ql(i)&&(r.setProps({allowHTML:!1}),i?.trim()?this.enable():this.disable()),r.setContent(i),this.hideOnEscape&&this.handleEscapeButton()}),this.useHostWidth?this.setInstanceWidth(r,this.hostWidth):this.popperWidth&&this.setInstanceWidth(r,this.popperWidth),this.globalConfig.onShow?.(r)},onHide(r){r.reference.removeAttribute("data-tippy-open")},onHidden:r=>{this.onHidden(r)}})),this.setStatus(),this.setProps(this.props),this.variation==="contextMenu"&&this.handleContextMenu()})}resolveContent(r){if(!this.viewOptions$&&!ql(this.content)){let o=Xe.create({providers:[{provide:nM,useValue:this.instance}],parent:this.injector});zl(this.content)?(this.instance.data=this.data,this.viewOptions$={injector:o}):qf(this.content)&&(this.viewOptions$={injector:o,context:{$implicit:this.hide.bind(this),data:this.data}})}this.viewRef=this.viewService.createView(this.content,R({vcr:this.vcr},this.viewOptions$)),this.detectChangesComponent&&zl(this.content)&&this.viewRef.detectChanges();let i=this.viewRef.getElement();return this.useTextContent&&(i=r.reference.textContent),ql(i)&&this.globalConfig.beforeRender&&(i=this.globalConfig.beforeRender(i)),i}handleContextMenu(){Ns(this.host,"contextmenu").pipe(Wn(this.destroyed)).subscribe(r=>{r.preventDefault(),this.instance.setProps({getReferenceClientRect:()=>({width:0,height:0,top:r.clientY,bottom:r.clientY,left:r.clientX,right:r.clientX})}),this.instance.show()})}handleEscapeButton(){this.zone.runOutsideAngular(()=>{Ns(document.body,"keydown").pipe(Yt(({code:r})=>r==="Escape"),Wn(Ya(this.destroyed,this.visibleInternal.pipe(Yt(r=>!r))))).subscribe(()=>this.hide())})}checkOverflow(r){r?this.instance?this.instance.enable():this.createInstance():this.instance?.disable()}listenToHostResize(){Zx(this.host).pipe(Wn(Ya(this.destroyed,this.visibleInternal))).subscribe(()=>{this.setInstanceWidth(this.instance,this.hostWidth)})}setInstanceWidth(r,i){let o=Mz(i);r.popper.style.width=o,r.popper.style.maxWidth=o,r.popper.firstElementChild.style.maxWidth=o}get isServerSide(){return yc(this.platformId)}onHidden(r=this.instance){this.destroyView(),this.isVisible=!1,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.globalConfig.onHidden?.(r)}isOverflowing$(){let r=[Az(this.host)];return this.staticWidthHost&&r.push(this.contentChanged.asObservable().pipe(Ct(()=>new se(i=>{let o=window.requestAnimationFrame(()=>{i.next(),i.complete()});return()=>cancelAnimationFrame(o)})),ie(()=>Jx(this.host)))),Ya(...r)}};e.\u0275fac=function(i){return new(i||e)(x(Rn),x(_0),x(Xe),x(g0),x(jt),x(Ie),x(gt))},e.\u0275dir=ut({type:e,selectors:[["","tp",""]],inputs:{appendTo:[re.None,"tpAppendTo","appendTo"],content:[re.None,"tp","content"],delay:[re.None,"tpDelay","delay"],duration:[re.None,"tpDuration","duration"],hideOnClick:[re.None,"tpHideOnClick","hideOnClick"],interactive:[re.None,"tpInteractive","interactive"],interactiveBorder:[re.None,"tpInteractiveBorder","interactiveBorder"],maxWidth:[re.None,"tpMaxWidth","maxWidth"],offset:[re.None,"tpOffset","offset"],placement:[re.None,"tpPlacement","placement"],popperOptions:[re.None,"tpPopperOptions","popperOptions"],showOnCreate:[re.None,"tpShowOnCreate","showOnCreate"],trigger:[re.None,"tpTrigger","trigger"],triggerTarget:[re.None,"tpTriggerTarget","triggerTarget"],zIndex:[re.None,"tpZIndex","zIndex"],animation:[re.None,"tpAnimation","animation"],useTextContent:[re.HasDecoratorInputTransform,"tpUseTextContent","useTextContent",Nn],isLazy:[re.HasDecoratorInputTransform,"tpIsLazy","isLazy",Nn],variation:[re.None,"tpVariation","variation"],isEnabled:[re.None,"tpIsEnabled","isEnabled"],className:[re.None,"tpClassName","className"],onlyTextOverflow:[re.HasDecoratorInputTransform,"tpOnlyTextOverflow","onlyTextOverflow",Nn],staticWidthHost:[re.HasDecoratorInputTransform,"tpStaticWidthHost","staticWidthHost",Nn],data:[re.None,"tpData","data"],useHostWidth:[re.HasDecoratorInputTransform,"tpUseHostWidth","useHostWidth",Nn],hideOnEscape:[re.HasDecoratorInputTransform,"tpHideOnEscape","hideOnEscape",Nn],detectChangesComponent:[re.None,"tpDetectChangesComponent","detectChangesComponent"],popperWidth:[re.None,"tpPopperWidth","popperWidth"],customHost:[re.None,"tpHost","customHost"],isVisible:[re.HasDecoratorInputTransform,"tpIsVisible","isVisible",Nn]},outputs:{visible:"tpVisible"},exportAs:["tippy"],standalone:!0,features:[Nd,Xr]});let t=e;return t})();function Gf(t,e){return t in e}var rM=(()=>{let e=class e{constructor(r,i,o){this.globalConfig=r,this.view=i,this.injector=o}create(r,i,o={}){let s=o.variation||this.globalConfig.defaultVariation,a=Se(R(R(R({onShow:c=>{if(r.setAttribute("data-tippy-open",""),!c.$viewOptions){c.$viewOptions={};let l=Xe.create({providers:[{provide:nM,useValue:c}],parent:o.injector||this.injector});c.$viewOptions.injector=l,qf(i)?c.$viewOptions.context=R({$implicit:c.hide.bind(c)},o.context):zl(i)&&(c.context=o.context,c.data=o.data)}c.view||(c.view=this.view.createView(i,R(R({},o),c.$viewOptions))),c.setContent(c.view.getElement()),o?.onShow?.(c)},onHidden:c=>{r.removeAttribute("data-tippy-open"),o.preserveView||(c.view.destroy(),c.view=null),o?.onHidden?.(c)}},Gl(this.globalConfig)),this.globalConfig.variations[s]),Gl(o)),{onCreate:c=>{if(c.popper.classList.add(`tippy-variation-${s}`),o.className)for(let l of eM(o.className))c.popper.classList.add(l);this.globalConfig.onCreate?.(c),o.onCreate?.(c)}});return h0(r,a)}};e.\u0275fac=function(i){return new(i||e)(L(_0),L(g0),L(Xe))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function iM(t={}){return Ni([{provide:_0,useValue:t}])}var ao=class{constructor(e,n){this.length=e,n&&n>e&&(this.maxLength=n)}restart(e){clearTimeout(this.timeout),this.runnable=e,this.timeout=setTimeout(()=>{e&&e(),this.timeout=null,this.maxLengthTimeout&&(clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null)},this.length),this.maxLength&&!this.maxLengthTimeout&&(this.maxLengthTimeout=setTimeout(()=>{e&&e(),this.maxLengthTimeout=null,clearTimeout(this.timeout),this.timeout=null},this.maxLength))}stop(){clearTimeout(this.timeout),this.timeout=null,clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null}complete(){this.stop(),this.runnable&&this.runnable()}isActive(){return this.timeout!=null}};var kz=500,xn=kz+"ms ease",oie=Or("skip",[Pt(":enter",[])]),Ra=Or("fade",[Pt(":enter",[we({opacity:0}),Zt("333ms ease",we({opacity:1}))]),Pt(":leave",[we({opacity:1,"pointer-events":"none","z-index":-1}),Zt("333ms 333ms ease",we({opacity:0}))])]),sie=Or("scalefade",[Pt(":enter",[we({opacity:0,width:0,"min-width":0,height:0,"min-height":0}),Zt(xn,we({opacity:"*",width:"*","min-width":"*",height:"*","min-height":"*"}))]),Pt(":leave",[we({opacity:"*","pointer-events":"none",width:"*","min-width":"*",height:"*","min-height":"*"}),Zt(xn,we({opacity:0,width:0,"min-width":0,height:0,"min-height":0}))])]),oM=Or("crossfade",[Pt(":enter",[we({opacity:0}),Zt(xn,we({opacity:1}))]),Pt(":leave",[we({opacity:1,"pointer-events":"none",position:"absolute"}),Zt(xn,we({opacity:0}))])]),sM=Or("enter",[Pt(":enter",[we({opacity:0}),Zt(xn,we({opacity:1}))])]),aie=Or("leave",[Pt(":leave",[we({opacity:1}),Zt(xn,we({opacity:0}))])]),cie=Or("hidden",[Pt("* => true",[we({opacity:"*"}),Zt(xn,we({opacity:0}))]),Pt("true => *",[we({opacity:0}),Zt(xn,we({opacity:"*"}))])]),lie=Or("drawer2",[tA("0",we({height:0})),Pt("1 => void",[]),Pt("1 => *",[we({height:"*"}),Zt(xn,we({height:0}))]),Pt("0 => void",[we({height:0}),Zt(xn,we({height:0}))]),Pt("0 => *",[we({height:0}),Zt(xn,we({height:"*"}))])]),aM=Or("drawer",[Pt(":enter",[we({height:0,opacity:0}),Zt(xn,we({height:"*",opacity:"*"}))]),Pt(":leave",[we({height:"*",opacity:"*"}),Zt(xn,we({height:0,opacity:0}))])]);var rt=(()=>{let e=class e{constructor(){this.darkTheme=!0,this.loading=ei(void 0),this.changes=ei(void 0),this.errors=ei(void 0),this.darkTheme?(document.body.classList.add("dark-theme"),document.body.style.colorScheme="dark"):(document.body.classList.add("light-theme"),document.body.style.colorScheme="light")}isDarkTheme(){return this.darkTheme}toggleTheme(){this.darkTheme?(this.darkTheme=!1,document.body.classList.toggle("dark-theme",!1),document.body.classList.toggle("light-theme",!0),document.body.style.colorScheme="light"):(this.darkTheme=!0,document.body.classList.toggle("dark-theme",!0),document.body.classList.toggle("light-theme",!1),document.body.style.colorScheme="dark")}get reduceBandwidth(){return window.localStorage.getItem("REDUCE_BANDWIDTH")=="1"}set reduceBandwidth(r){window.localStorage.setItem("REDUCE_BANDWIDTH",r?"1":"0")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var N=class{static isEmpty(e){return!e||!Array.isArray(e)||e.length==0}static includes(e,n,r){if(!this.isEmpty(e)&&n)return r?e.map(i=>r(i)).includes(r(n)):e.includes(n)}static push(e,n){if(Array.isArray(e))if(Array.isArray(n))for(let r of n)r!=null&&!e.includes(r)&&e.push(r);else n!=null&&!e.includes(n)&&e.push(n)}static remove(e,n,r){if(!this.isEmpty(e)&&n)if(Array.isArray(n)){if(n.length>0)if(r){let i=e.map(o=>r(o));for(let o of n.map(s=>r(s)))this._remove(e,o,i)}else for(let i of n)this._remove(e,i)}else return r?this._remove(e,r(n),e.map(i=>r(i))):this._remove(e,n)}static _remove(e,n,r){if(r){let i=r.indexOf(n);if(i!=-1)return r.splice(i,1),e.splice(i,1).length>0}else{let i=e.indexOf(n);if(i!=-1)return e.splice(i,1).length>0}}static toggle(e,n){Array.isArray(e)&&n!=null&&(e.includes(n)?this._remove(e,n):e.push(n))}static distinct(e,n){if(!this.isEmpty(e)){let r=[],i=new Map,o;for(let s of e)o=n(s),i.has(o)||(i.set(o,!0),r.push(s));return r}return[]}static getFirst(e){if(!this.isEmpty(e))return e[0]}static isFirst(e,n){if(!this.isEmpty(e)&&n)return n==e[0]}static makeFirst(e,n){!this.isEmpty(e)&&n&&(this._remove(e,n),e.unshift(n))}static getLast(e){if(!this.isEmpty(e))return e[e.length-1]}static isLast(e,n){if(!this.isEmpty(e)&&n)return n==e[e.length-1]}static makeLast(e,n){!this.isEmpty(e)&&n&&(this._remove(e,n),e.push(n))}static getPrevious(e,n,r=!1){if(!this.isEmpty(e))return e[e.indexOf(n)-1]||(r?e[e.length-1]:void 0)}static findPrevious(e,n,r,i=!1){if(!this.isEmpty(e)){let o=e.indexOf(n),s=o;for(;s>0;)if(r(e[--s]))return e[s];if(i){for(s=e.length-1;s>o;)if(r(e[--s]))return e[s]}return}}static getNext(e,n,r=!1){if(!this.isEmpty(e))return e[e.indexOf(n)+1]||(r?e[0]:void 0)}static findNext(e,n,r,i=!1){if(!this.isEmpty(e)){let o=e.indexOf(n),s=o;for(;s<e.length-1;)if(r(e[++s]))return e[s];if(i){for(s=0;s<o;)if(r(e[++s]))return e[s]}return}}static findClosest(e,n,r){if(!this.isEmpty(e)){let i=e.indexOf(n),o=0,s,a=!0,c=!0;for(;a||c;)if(o++,c&&(s=e[i+o],s||(c=!1),s&&(!r||r(s)))||a&&(s=e[i-o],s||(a=!1),s&&(!r||r(s))))return s;return}}static getRandom(e,n){return this.isEmpty(e)?null:e.length==1?e[0]:(e=e.slice(),this.remove(e,n),e[Math.floor(Math.random()*e.length)])}static nearestRightFirst(e,n,r){if(n+1<e.length){for(let i=n+1;i<e.length;i++)if(!r||r(e[i]))return e[i]}if(n>0){for(let i=n-1;i>-1;i--)if(!r||r(e[i]))return e[i]}return null}static shuffle(e){let n=e.length,r;for(;n!=0;)r=Math.floor(Math.random()*n),n--,[e[n],e[r]]=[e[r],e[n]];return e}};var Fz=["content"];function Vz(t,e){if(t&1){let n=Q();m(0,"div",6,7),C("click",function(){S(n);let i=E(2);return A(i.overlayClick())}),g()}}function Lz(t,e){if(t&1){let n=Q();m(0,"i",12),C("click",function(){S(n);let i=E(3);return A(i.contentComponentInstance.close())}),g()}}function jz(t,e){if(t&1){let n=Q();m(0,"div",8,9),C("mousedown",function(i){S(n);let o=Ke(1),s=E(2);return A(s.onHeaderMouseDown(i,o))}),m(2,"span",10),k(3),g(),U(4,Lz,1,0,"i",11),g()}if(t&2){let n=E(2);y(3),ye(n.contentComponentInstance.configuration.title),y(),w("ngIf",!n.contentComponentInstance.configuration.hideHeaderCloseButton)}}function Uz(t,e){if(t&1&&(Je(0),Z(1,"div",3),U(2,Vz,2,0,"div",4)(3,jz,5,2,"div",5),Ze()),t&2){let n=E();y(2),w("ngIf",!n.contentComponentInstance.configuration.hideClickOverlay),y(),w("ngIf",n.contentComponentInstance.configuration.title)}}function Bz(t,e){t&1&&(m(0,"div",13),Ng(1,null,14),g())}function $z(t,e){if(t&1){let n=Q();m(0,"i",19),C("click",function(){S(n);let i=E(2).$implicit;return A(i.click&&i.click())}),g()}if(t&2){let n=E(2).$implicit,r=E(2);mb("icon-button "+r.getIconClass(n)),Fe("disabled",r.isDisabled(n))}}function Hz(t,e){if(t&1){let n=Q();m(0,"div",20),C("click",function(){S(n);let i=E(2).$implicit;return A(i.click&&i.click())}),k(1),g()}if(t&2){let n=E(2).$implicit,r=E(2);Fe("disabled",r.isDisabled(n)),y(),ye(r.getText(n))}}function zz(t,e){if(t&1&&(Je(0),U(1,$z,1,4,"i",17)(2,Hz,2,3,"div",18),Ze()),t&2){let n=E().$implicit;y(),w("ngIf",n.iconClass),y(),w("ngIf",n.text)}}function qz(t,e){if(t&1&&(Je(0),U(1,zz,3,2,"ng-container",0),Ze()),t&2){let n=e.$implicit,r=E(2);y(),w("ngIf",!r.isHidden(n))}}function Gz(t,e){if(t&1&&(m(0,"div",15),U(1,qz,2,1,"ng-container",16),g()),t&2){let n=E();y(),w("ngForOf",n.contentComponentInstance.configuration.buttons)}}var cM=(()=>{let e=class e{constructor(r,i){this.elementRef=r,this.dialogService=i,this.borderWarning=!1,this.isMouseDown=!1,this.result=new Promise(o=>this.resolve=o)}ngAfterViewInit(){this.top||(this.top=Number.parseInt(window.localStorage.getItem(this.contentComponentType.name+".top"))),this.left||(this.left=Number.parseInt(window.localStorage.getItem(this.contentComponentType.name+".left")));let r=this.containerRef.createComponent(this.contentComponentType);this.contentComponentInstance=r.instance,this.contentComponentInstance.inputs=this.inputs,this.contentComponentInstance.resolve=this.resolve,this.result.finally(()=>r.destroy()),r.changeDetectorRef.detectChanges()}onContainerClick(){N.makeLast(this.dialogService.dialogs,this)}isHidden(r){return r.hidden&&r.hidden()}isDisabled(r){return r.disabled&&r.disabled()}getText(r){if(r.text)return typeof r.text=="function"?r.text():r.text}getIconClass(r){if(r.iconClass)return typeof r.iconClass=="function"?r.iconClass():r.iconClass}onHeaderMouseDown(r,i){if(r.buttons==1&&r.target==i){if(this.isMouseDown=!0,this.mouseDownOffsetX=r.offsetX,this.mouseDownOffsetY=r.offsetY,(this.top||this.top===0)&&(this.left||this.left===0))return;let o=this.elementRef.nativeElement.getBoundingClientRect();this.top=o.top,this.left=o.left,localStorage.setItem(this.contentComponentType.name+".top",this.top.toString()),localStorage.setItem(this.contentComponentType.name+".left",this.left.toString())}}onHeaderMouseUp(){this.isMouseDown=!1,localStorage.setItem(this.contentComponentType.name+".top",this.top.toString()),localStorage.setItem(this.contentComponentType.name+".left",this.left.toString())}onHeaderMouseMove(r){if(r.preventDefault(),this.isMouseDown){let i=this.elementRef.nativeElement.getBoundingClientRect(),o=r.clientX-i.left;r.movementX<0&&o<this.mouseDownOffsetX?(this.left=this.left+r.movementX,this.left<0&&(this.left=0)):r.movementX>0&&o>this.mouseDownOffsetX&&(this.left=this.left+r.movementX,this.left+i.width>window.innerWidth+1&&(this.left=window.innerWidth-i.width+1));let s=r.clientY-i.top;r.movementY<0&&s<this.mouseDownOffsetY?(this.top=this.top+r.movementY,this.top<0&&(this.top=0)):r.movementY>0&&s>this.mouseDownOffsetY&&(this.top=this.top+r.movementY,this.top+i.height>window.innerHeight+2&&(this.top=window.innerHeight-i.height+2))}}overlayClick(){let r=this.dialogService.dialogs.findIndex(i=>i==this);for(let i=r;i<this.dialogService.dialogs.length;i++){let o=this.dialogService.dialogs[i];o.borderWarning=!0,setTimeout(()=>o.borderWarning=!1,500)}}};e.\u0275fac=function(i){return new(i||e)(x(gt),x(ft))},e.\u0275cmp=K({type:e,selectors:[["app-dialog-container"]],viewQuery:function(i,o){if(i&1&&bb(Fz,5,jt),i&2){let s;Fg(s=Vg())&&(o.containerRef=s.first)}},hostVars:6,hostBindings:function(i,o){i&1&&C("click",function(a){return o.onContainerClick(a)})("mouseup",function(a){return o.onHeaderMouseUp(a)},!1,mc)("mousemove",function(a){return o.onHeaderMouseMove(a)},!1,mc),i&2&&(Ut("top",o.top,"px")("left",o.left,"px"),Fe("border-warning",o.borderWarning))},standalone:!0,features:[Y],decls:3,vars:3,consts:[[4,"ngIf"],["class","content",4,"ngIf"],["class","buttons",4,"ngIf"],[1,"glass-effect"],["class","overlay-effect",3,"click",4,"ngIf"],["class","header",3,"mousedown",4,"ngIf"],[1,"overlay-effect",3,"click"],["overlay",""],[1,"header",3,"mousedown"],["header",""],[1,"header-title"],["class","icon-button fa-solid fa-times",3,"click",4,"ngIf"],[1,"icon-button","fa-solid","fa-times",3,"click"],[1,"content"],["content",""],[1,"buttons"],[4,"ngFor","ngForOf"],[3,"class","disabled","click",4,"ngIf"],["class","button",3,"disabled","click",4,"ngIf"],[3,"click"],[1,"button",3,"click"]],template:function(i,o){i&1&&U(0,Uz,4,2,"ng-container",0)(1,Bz,3,0,"div",1)(2,Gz,2,1,"div",2),i&2&&(w("ngIf",o.contentComponentInstance),y(),w("ngIf",o.contentComponentType),y(),w("ngIf",o.contentComponentInstance))},dependencies:[J,He,Oe],styles:["[_nghost-%COMP%]{border:1px solid var(--color-border);position:fixed;border-radius:.5rem;overflow:hidden;z-index:200}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{text-shadow:1px 1px 2px black}@media screen and (max-width: 768px){[_nghost-%COMP%]{max-width:calc(100% - 1.3333333332rem);max-height:calc(100% - 1.3333333332rem)}}@media screen and (min-width: 768px){[_nghost-%COMP%]{max-width:80%;max-height:80%}}.border-warning[_nghost-%COMP%]{border-color:var(--color-negative)}[_nghost-%COMP%]:not(.border-warning){transition:border-color .5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{overflow:auto;border-top:1px solid var(--color-border);border-bottom:1px solid var(--color-border)}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;-webkit-user-select:none;user-select:none;padding:1rem;gap:.3333333333rem}.header[_ngcontent-%COMP%]:has(i){padding:.3333333333rem .3333333333rem .3333333333rem 1rem}.header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{pointer-events:none}.buttons[_ngcontent-%COMP%]{gap:.3333333333rem;padding:.3333333333rem;height:3rem;display:flex;align-items:center;justify-content:space-evenly}.button[_ngcontent-%COMP%]{flex:1;transition:.5s;white-space:nowrap;min-width:auto}.glass-effect[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:-1;background-color:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.overlay-effect[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:-2;-webkit-user-select:none;user-select:none}"]});let t=e;return t})();var it=class{submit(){this.close()}};function Wz(t,e){if(t&1&&(m(0,"span"),k(1),g()),t&2){let n=e.$implicit;y(),ye(n)}}var lM=(()=>{let e=class e extends it{ngOnInit(){this.configuration={title:this.inputs.title,buttons:[{text:()=>this.inputs.positiveButtonText,click:()=>this.resolve(!0)},{text:()=>this.inputs.negativeButtonText,click:()=>this.resolve(!1)}]}}submit(){this.resolve(!0)}close(){this.resolve(!1)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275cmp=K({type:e,selectors:[["app-confirmation-dialog"]],standalone:!0,features:[$e,Y],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(m(0,"div",0),U(1,Wz,2,1,"span",1),g()),i&2&&(y(),w("ngForOf",o.inputs.messages))},dependencies:[J,He],styles:[".container[_ngcontent-%COMP%]{padding:.9999999999rem}"]});let t=e;return t})();var vM=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(x(Oo),x(gt))},e.\u0275dir=ut({type:e});let t=e;return t})(),Kz=(()=>{let e=class e extends vM{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275dir=ut({type:e,features:[$e]});let t=e;return t})(),yM=new G("");var Qz={provide:yM,useExisting:hc(()=>Lr),multi:!0};function Yz(){let t=ii()?ii().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Xz=new G(""),Lr=(()=>{let e=class e extends vM{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Yz())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(x(Oo),x(gt),x(Xz,8))},e.\u0275dir=ut({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&C("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Lg([Qz]),$e]});let t=e;return t})();var Jz=new G(""),Zz=new G("");function _M(t){return t!=null}function wM(t){return ko(t)?je(t):t}function EM(t){let e={};return t.forEach(n=>{e=n!=null?R(R({},e),n):e}),Object.keys(e).length===0?null:e}function IM(t,e){return e.map(n=>n(t))}function eq(t){return!t.validate}function CM(t){return t.map(e=>eq(e)?e:n=>e.validate(n))}function tq(t){if(!t)return null;let e=t.filter(_M);return e.length==0?null:function(n){return EM(IM(n,e))}}function bM(t){return t!=null?tq(CM(t)):null}function nq(t){if(!t)return null;let e=t.filter(_M);return e.length==0?null:function(n){let r=IM(n,e).map(wM);return xp(r).pipe(ie(EM))}}function TM(t){return t!=null?nq(CM(t)):null}function uM(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function rq(t){return t._rawValidators}function iq(t){return t._rawAsyncValidators}function w0(t){return t?Array.isArray(t)?t:[t]:[]}function Kf(t,e){return Array.isArray(t)?t.includes(e):t===e}function dM(t,e){let n=w0(e);return w0(t).forEach(i=>{Kf(n,i)||n.push(i)}),n}function hM(t,e){return w0(e).filter(n=>!Kf(t,n))}var Qf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=bM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=TM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},E0=class extends Qf{get formDirective(){return null}get path(){return null}},Ql=class extends Qf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},I0=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},oq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Bie=Se(R({},oq),{"[class.ng-submitted]":"isSubmitted"}),co=(()=>{let e=class e extends I0{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(x(Ql,2))},e.\u0275dir=ut({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Fe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[$e]});let t=e;return t})();var Wl="VALID",Wf="INVALID",Na="PENDING",Kl="DISABLED";function sq(t){return(Yf(t)?t.validators:t)||null}function aq(t){return Array.isArray(t)?bM(t):t||null}function cq(t,e){return(Yf(e)?e.asyncValidators:t)||null}function lq(t){return Array.isArray(t)?TM(t):t||null}function Yf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var C0=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Wl}get invalid(){return this.status===Wf}get pending(){return this.status==Na}get disabled(){return this.status===Kl}get enabled(){return this.status!==Kl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(dM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(dM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(hM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(hM(e,this._rawAsyncValidators))}hasValidator(e){return Kf(this._rawValidators,e)}hasAsyncValidator(e){return Kf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Na,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Kl,this.errors=null,this._forEachChild(r=>{r.disable(Se(R({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Se(R({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Wl,this._forEachChild(r=>{r.enable(Se(R({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Se(R({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wl||this.status===Na)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Kl:Wl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Na,this._hasOwnPendingAsyncValidator=!0;let n=wM(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?Kl:this.errors?Wf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Na)?Na:this._anyControlsHaveStatus(Wf)?Wf:Wl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Yf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=aq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=lq(this._rawAsyncValidators)}};var DM=new G("CallSetDisabledState",{providedIn:"root",factory:()=>b0}),b0="always";function uq(t,e){return[...e.path,t]}function dq(t,e,n=b0){fq(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),pq(t,e),gq(t,e),mq(t,e),hq(t,e)}function fM(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function hq(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function fq(t,e){let n=rq(t);e.validator!==null?t.setValidators(uM(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=iq(t);e.asyncValidator!==null?t.setAsyncValidators(uM(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();fM(e._rawValidators,i),fM(e._rawAsyncValidators,i)}function pq(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&SM(t,e)})}function mq(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&SM(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function SM(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function gq(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function vq(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function yq(t){return Object.getPrototypeOf(t.constructor)===Kz}function _q(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Lr?n=o:yq(o)?r=o:i=o}),i||r||n||null}function pM(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function mM(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var wq=class extends C0{constructor(e=null,n,r){super(sq(n),cq(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Yf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(mM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){pM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){pM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){mM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Eq={provide:Ql,useExisting:hc(()=>gi)},gM=Promise.resolve(),gi=(()=>{let e=class e extends Ql{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new wq,this._registered=!1,this.name="",this.update=new Ye,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=_q(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),vq(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){dq(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){gM.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Nn(i);gM.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?uq(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(x(E0,9),x(Jz,10),x(Zz,10),x(yM,10),x(Fi,8),x(DM,8))},e.\u0275dir=ut({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[re.None,"disabled","isDisabled"],model:[re.None,"ngModel","model"],options:[re.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Lg([Eq]),$e,Xr]});let t=e;return t})();var Iq=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=rn({type:e}),e.\u0275inj=on({});let t=e;return t})();var vn=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:DM,useValue:r.callSetDisabledState??b0}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=rn({type:e}),e.\u0275inj=on({imports:[Iq]});let t=e;return t})();var Nt=class{static format(e,...n){do e=e.replace("%s",n.shift()||"");while(e.includes("%s"));return e}static capitalize(e){if(!this.isEmpty(e))return e.substring(0,1).toUpperCase()+e.substring(1)}static isEmpty(e){return!e||typeof e!="string"||e.trim().length<=0}static getWordCount(e){return e.split(new RegExp(`[^ /
]+`,"g")).length-1}};var AM=(()=>{let e=class e extends it{ngOnInit(){this.value=this.inputs.defaultValue,this.configuration={title:this.inputs.title,buttons:[{text:()=>"Cancel",click:()=>this.resolve(null)},{text:()=>this.inputs.positiveButtonText,disabled:()=>!this.canSubmit(),click:()=>{this.canSubmit()&&this.resolve(this.value)}}]}}canSubmit(){return!Nt.isEmpty(this.value)}submit(){this.canSubmit()&&this.resolve(this.value)}close(){this.resolve(null)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275cmp=K({type:e,selectors:[["app-input-dialog"]],standalone:!0,features:[$e,Y],decls:1,vars:2,consts:[["autofocus","",3,"ngModel","placeholder","ngModelChange"]],template:function(i,o){i&1&&(m(0,"input",0),ri("ngModelChange",function(a){return ki(o.value,a)||(o.value=a),a}),g()),i&2&&(ni("ngModel",o.value),w("placeholder",o.inputs.placeholder))},dependencies:[J,vn,Lr,co,gi],styles:["[_nghost-%COMP%]{width:650px;padding:.5rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}"]});let t=e;return t})();function Cq(t,e){if(t&1&&(m(0,"span"),k(1),g()),t&2){let n=e.$implicit;y(),ye(n)}}var xM=(()=>{let e=class e extends it{ngOnInit(){this.configuration={title:this.inputs.title,buttons:[{text:()=>"OK",click:()=>this.resolve()}]}}close(){this.resolve()}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275cmp=K({type:e,selectors:[["app-message-dialog"]],standalone:!0,features:[$e,Y],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(m(0,"div",0),U(1,Cq,2,1,"span",1),g()),i&2&&(y(),w("ngForOf",o.inputs.messages))},dependencies:[J,He],styles:[".container[_ngcontent-%COMP%]{padding:.9999999999rem}"]});let t=e;return t})();var ft=(()=>{let e=class e{constructor(r,i){this.applicationRef=r,this.injector=i,this.dialogs=[],document.addEventListener("keydown",o=>{this.dialogs.length>0&&(o.key=="Enter"?(o.stopImmediatePropagation(),N.getLast(this.dialogs)?.contentComponentInstance.submit()):o.key=="Escape"&&(o.stopImmediatePropagation(),N.getLast(this.dialogs)?.contentComponentInstance.close()))})}createMessage(r,i){return this.create(xM,{title:r,messages:i})}createConfirmation(r,i,o,s){return this.create(lM,{title:r,messages:i,positiveButtonText:o,negativeButtonText:s})}createInput(r,i,o,s){return this.create(AM,{title:r,placeholder:i,defaultValue:o,positiveButtonText:s})}create(r,i){let o=N.getLast(this.dialogs.filter(c=>c.contentComponentType==r));if(o&&!o.contentComponentInstance.configuration.allowMultiple)return;let s=Ld(cM,{environmentInjector:this.injector}),a=s.instance;return a.contentComponentType=r,a.inputs=i,a.result.finally(()=>{N.remove(this.dialogs,this.dialogs.find(c=>c==a)),this.applicationRef.detachView(s.hostView),s.destroy()}),o&&(a.top=o.top+10,a.left=o.left+10),this.dialogs.push(a),this.applicationRef.attachView(s.hostView),document.body.firstElementChild.appendChild(s.location.nativeElement),s.changeDetectorRef.detectChanges(),a.result}};e.\u0275fac=function(i){return new(i||e)(L(Cr),L(bt))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bq(t,e){t&1&&Z(0,"div",3),t&2&&w("@fade",void 0)}function Tq(t,e){t&1&&Z(0,"span",4),t&2&&w("@fade",void 0)}var MM=(()=>{let e=class e{constructor(r,i){this.applicationService=r,this.dialogService=i,this.hideLoadingBarDelay=new ao(1500),Vi(()=>{this.applicationService.changes()!==void 0&&this.hideLoadingBarDelay.restart()})}isBlurOverlayVisible(){return this.applicationService.loading()}getLoadingBarColor(){return this.applicationService.changes()?"orange":this.applicationService.errors()?"red":this.hideLoadingBarDelay.isActive()?"limegreen":"transparent"}};e.\u0275fac=function(i){return new(i||e)(x(rt),x(ft))},e.\u0275cmp=K({type:e,selectors:[["app-root"]],standalone:!0,features:[Y],decls:4,vars:4,consts:[["class","overlay-blur",4,"ngIf"],[1,"overlay-loading-bar"],["class","loading-spinner",4,"ngIf"],[1,"overlay-blur"],[1,"loading-spinner"]],template:function(i,o){i&1&&(U(0,bq,1,1,"div",0),Z(1,"div",1),U(2,Tq,1,1,"span",2),Z(3,"router-outlet")),i&2&&(w("ngIf",o.isBlurOverlayVisible()),y(),Ut("background-color",o.getLoadingBarColor()),y(),w("ngIf",o.applicationService.loading()))},dependencies:[J,Oe,Lw],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:var(--color-text);background-color:var(--color-background-primary)}.overlay-blur[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);z-index:100;position:absolute}.overlay-loading-bar[_ngcontent-%COMP%]{width:100%;height:1px;align-self:start;pointer-events:none;z-index:100;position:absolute;background-color:transparent;transition-property:background-color;transition-duration:.5s}.loading-spinner[_ngcontent-%COMP%]{width:75px;height:75px;border-width:3px;border-color:var(--color-background-secondary);border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s infinite linear;border-radius:50%;border-style:solid;position:absolute;z-index:100}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"],data:{animation:[Ra]}});let t=e;return t})();var Mn=class{static isImage(e){return e.mimeType.includes("image")&&e.thumbnailLink!=null}static isVideo(e){return e.mimeType.includes("video")&&e.thumbnailLink!=null}static isFolder(e){return e.mimeType=="application/vnd.google-apps.folder"}};var ka=class{constructor(e){this.http=e,this.API_KEY="AIzaSyBLAfLb8QHSIqXPFTh2YJEMfMoW8EhJpRU"}createFile(e,n,r){let i="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return En(this.http.post(i,{name:e,parents:n,mimeType:r}))}createFolder(e,n){let r="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return En(this.http.post(r,{name:e,mimeType:"application/vnd.google-apps.folder",parents:[n]}))}getFolderMetadata(e="root"){let r="https://content.googleapis.com/drive/v3/files?pageSize=1000&q="+("'"+e+"' in parents and trashed=false")+"&fields=files("+this.FIELDS+")&key="+this.API_KEY;return this.getFileArrayPromise(r)}getEntityMetadata(e){let n="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return En(this.http.get(n))}getContent(e){let n="https://www.googleapis.com/drive/v3/files/"+e;return En(this.http.get(n,{params:{alt:"media"},responseType:"json"}))}updateContent(e,n){let r="https://www.googleapis.com/upload/drive/v3/files/"+e+"?uploadType=media";return En(this.http.patch(r,n))}move(e,n,r){let i="https://www.googleapis.com/drive/v3/files/"+e+"?removeParents="+n+"&addParents="+r+"&key="+this.API_KEY;return En(this.http.patch(i,{}))}trash(e){return this.updateMetadata(e,{trashed:!0})}updateProperty(e,n,r){return this.updateMetadata(e,{appProperties:{[n]:r}})}updateProperties(e,n){return this.updateMetadata(e,{appProperties:n})}openFolderById(e){let n="https://drive.google.com/drive/folders/"+e;window.open(n,"_blank")}openSearch(e){let n="https://drive.google.com/drive/search?q="+e+"%20title:"+e;window.open(n,"_blank")}updateMetadata(e,n){let r="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return En(this.http.patch(r,n))}getFileArrayPromise(e,n){return n?En(this.http.post(e,n).pipe(ie(r=>r?r.files:[]))):En(this.http.get(e).pipe(ie(r=>r?r.files:[])))}};var Fa=(()=>{let e=class e extends ka{constructor(r){super(r),this.http=r,this.FIELDS="id,name,thumbnailLink,mimeType,imageMediaMetadata,videoMediaMetadata"}get dataFileId(){if(!this._fileId){let r=sessionStorage.getItem("dataFileId");r&&(this._fileId=r)}return this._fileId}set dataFileId(r){this._fileId=r,sessionStorage.setItem("dataFileId",r)}getData(){return _(this,null,function*(){let r="https://www.googleapis.com/drive/v3/files/"+this.dataFileId;return yield En(this.http.get(r,{params:{alt:"media"},responseType:"json"})).catch(i=>i)})}getBase64(r){return _(this,null,function*(){return new Promise(i=>{let o="https://www.googleapis.com/drive/v3/files/"+r;this.http.get(o,{params:{alt:"media"},responseType:"blob"}).subscribe(s=>{let a=new FileReader;a.onload=c=>i(c.target.result),a.readAsDataURL(s)})})})}};e.\u0275fac=function(i){return new(i||e)(L(Vo))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Dq(t,e){if(t&1){let n=Q();m(0,"span",6),C("click",function(){let o=S(n).$implicit,s=E(2);return A(s.onDataFileClick(o))}),k(1),g()}if(t&2){let n=e.$implicit;y(),ye(n.name.substring(0,n.name.length-10))}}function Sq(t,e){if(t&1){let n=Q();m(0,"span",6),C("click",function(){let o=S(n).$implicit,s=E(2);return A(s.onFolderClick(o))}),k(1),g()}if(t&2){let n=e.$implicit;y(),ye(n.name)}}function Aq(t,e){if(t&1&&(m(0,"div",4),U(1,Dq,2,1,"span",5)(2,Sq,2,1,"span",5),g()),t&2){let n=E();y(),w("ngForOf",n.dataFiles),y(),w("ngForOf",n.folders)}}var PM=(()=>{let e=class e{constructor(r,i,o){this.router=r,this.googleService=i,this.applicationService=o,this.FOLDER_ROOT="root",this.FOLDER_GALLERY_DATA="gallerydata",this.SUFFIX_DATA_FILE="-data.json",this.SUFFIX_ARCHIVE_FOLDER="-archive",this.applicationService.loading.set(!0)}ngOnInit(){return _(this,null,function*(){let r=yield this.googleService.getFolderMetadata();this.dataFolder=r.find(s=>s.name==this.FOLDER_GALLERY_DATA),this.dataFolder||(this.dataFolder=yield this.googleService.createFolder(this.FOLDER_GALLERY_DATA,this.FOLDER_ROOT));let i=yield this.googleService.getFolderMetadata(this.dataFolder.id);this.dataFiles=i.filter(s=>s.name.endsWith(this.SUFFIX_DATA_FILE));let o=this.dataFiles.map(s=>s.name.substring(0,s.name.indexOf(this.SUFFIX_DATA_FILE)));this.folders=r.filter(s=>Mn.isFolder(s)&&!o.includes(s.name)&&s.name!=this.FOLDER_GALLERY_DATA),this.applicationService.loading.set(!1)})}onDataFileClick(r){this.applicationService.loading.set(!0),this.googleService.dataFileId=r.id,this.router.navigate(["/gallery"])}onFolderClick(r){return _(this,null,function*(){this.applicationService.loading.set(!0);let i=yield this.googleService.createFile(r.name+this.SUFFIX_DATA_FILE,[this.dataFolder.id],"application/json"),o=yield this.googleService.createFolder(r.name+this.SUFFIX_ARCHIVE_FOLDER,this.dataFolder.id);this.googleService.dataFileId=i.id,this.googleService.updateContent(i.id,{dataFolderId:r.id,archiveFolderId:o.id,imageProperties:[],groupProperties:[],tags:[],heartsFilter:0,bookmarksFilter:0,groupSizeFilterMin:0,groupSizeFilterMax:999}).then(()=>{this.router.navigate(["/gallery"])})})}};e.\u0275fac=function(i){return new(i||e)(x(gn),x(Fa),x(rt))},e.\u0275cmp=K({type:e,selectors:[["app-folder-picker"]],standalone:!0,features:[Y],decls:4,vars:4,consts:[[1,"container"],["class","folders-container",4,"ngIf"],[1,"buttons-container"],["tp","Toggle Low Bandwidth Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"folders-container"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(i,o){i&1&&(m(0,"div",0),U(1,Aq,3,2,"div",1),m(2,"div",2)(3,"i",3),C("click",function(){return o.applicationService.reduceBandwidth=!o.applicationService.reduceBandwidth}),g()()()),i&2&&(Fe("opacity-1",!o.applicationService.loading()),y(),w("ngIf",!0),y(2),w("ngClass",o.applicationService.reduceBandwidth?"fa-signal":"fa-wifi"))},dependencies:[J,Dt,He,Oe],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--color-text);gap:.3333333333rem;opacity:0;transition-property:opacity;transition-duration:.5s}.folders-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-text);border-radius:.3333333333rem;width:300px}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.3333333333rem;border-bottom:1px solid var(--color-text);cursor:pointer;-webkit-user-select:none;user-select:none}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{border:0}.buttons-container[_ngcontent-%COMP%]{display:flex}"]});let t=e;return t})();var OM=(()=>{let e=class e{set ngVar(r){this.context.ngVar=r}static ngTemplateContextGuard(r,i){return!0}constructor(r,i){this.containerRef=r,this.templateRef=i,this.context=new D0,this.containerRef.createEmbeddedView(this.templateRef,this.context)}};e.\u0275fac=function(i){return new(i||e)(x(jt),x(Xn))},e.\u0275dir=ut({type:e,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"},standalone:!0});let t=e;return t})(),D0=class{};var Jf=class{constructor(){this.images=[]}};var Zf=class{};var ep=class extends Zf{};function xq(t,e){if(t&1){let n=Q();m(0,"i",4),C("mousedown",function(i){S(n);let o=E();return A(o.onMouseDown(i))})("click",function(i){S(n);let o=E();return A(o.nextState(i))})("contextmenu",function(i){S(n);let o=E();return A(o.previousState(i))}),g()}if(t&2){let n=E();w("ngClass",n.tri?"fa-circle-xmark":"fa-circle")}}function Mq(t,e){if(t&1){let n=Q();m(0,"i",5),C("mousedown",function(i){S(n);let o=E();return A(o.onMouseDown(i))})("click",function(i){S(n);let o=E();return A(o.nextState(i))})("contextmenu",function(i){S(n);let o=E();return A(o.previousState(i))}),g()}}function Pq(t,e){if(t&1){let n=Q();m(0,"i",6),C("mousedown",function(i){S(n);let o=E();return A(o.onMouseDown(i))})("click",function(i){S(n);let o=E();return A(o.nextState(i))})("contextmenu",function(i){S(n);let o=E();return A(o.previousState(i))}),g()}}var RM=(()=>{let e=class e{constructor(){this.tri=!1,this.stateChange=new Ye}ngOnInit(){this.state||(this.state=this.tri?0:-1)}onMouseDown(r){this.clickX=r.pageX,this.clickY=r.pageY}nextState(r){switch(this.state){case-1:this.state=this.tri?0:1,r.state=this.tri?0:1;break;case 0:this.state=1,r.state=1;break;case 1:this.state=-1,r.state=-1;break}this.stateChange.emit(r)}previousState(r){switch(r.preventDefault(),this.state){case-1:this.state=1,r.state=1;break;case 0:this.state=-1,r.state=-1;break;case 1:this.state=this.tri?0:-1,r.state=this.tri?0:-1;break}this.stateChange.emit(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=K({type:e,selectors:[["app-switch"]],inputs:{tri:"tri",state:"state"},outputs:{stateChange:"stateChange"},standalone:!0,features:[Y],decls:4,vars:5,consts:[[1,"container"],["class","negative fa-regular",3,"ngClass","mousedown","click","contextmenu",4,"ngIf"],["class","neutral fa-regular fa-circle",3,"mousedown","click","contextmenu",4,"ngIf"],["class","positive fa-regular fa-circle-check",3,"mousedown","click","contextmenu",4,"ngIf"],[1,"negative","fa-regular",3,"ngClass","mousedown","click","contextmenu"],[1,"neutral","fa-regular","fa-circle",3,"mousedown","click","contextmenu"],[1,"positive","fa-regular","fa-circle-check",3,"mousedown","click","contextmenu"]],template:function(i,o){i&1&&(m(0,"div",0),U(1,xq,1,1,"i",1)(2,Mq,1,0,"i",2)(3,Pq,1,0,"i",3),g()),i&2&&(Fe("tri",o.tri),y(),w("ngIf",o.state==-1),y(),w("ngIf",o.state==0),y(),w("ngIf",o.state==1))},dependencies:[J,Dt,Oe],styles:[".container[_ngcontent-%COMP%]{cursor:pointer;margin-left:1px}.container.tri[_ngcontent-%COMP%] > .negative[_ngcontent-%COMP%]{color:#b22222}.container[_ngcontent-%COMP%] > .positive[_ngcontent-%COMP%]{color:#228b22}"]});let t=e;return t})();function Oq(t,e){if(t&1){let n=Q();Je(0),m(1,"div",1)(2,"app-switch",2),C("stateChange",function(i){S(n);let o=E();return A(o.onShowVideosStateChange(i))}),g(),m(3,"span",3),k(4,"Show Videos"),g()(),m(5,"div",1)(6,"app-switch",4),C("stateChange",function(i){S(n);let o=E();return A(o.onAutoBookmarkStateChange(i))}),g(),m(7,"span",3),k(8,"Auto Bookmark"),g()(),Ze()}if(t&2){let n=E();y(2),w("state",n.stateService.settings.showVideos),y(4),w("state",n.stateService.settings.autoBookmark)}}var tp=(()=>{let e=class e extends it{constructor(r){super(),this.stateService=r,this.configuration={title:"Settings",buttons:[{text:()=>"OK",click:()=>this.submit()}],hideHeaderCloseButton:!0},this.needsFilterRefresh=!1,this.needsDataUpdate=!1}ngOnInit(){this.stateService.settings||(this.stateService.settings={})}onShowVideosStateChange(r){this.needsFilterRefresh=!0,this.needsDataUpdate=!0,this.stateService.settings.showVideos=r.state}onAutoBookmarkStateChange(r){this.needsDataUpdate=!0,this.stateService.settings.autoBookmark=r.state}close(){this.stateService.images&&(this.needsFilterRefresh&&this.stateService.updateFilters(),this.needsDataUpdate&&this.stateService.save()),this.resolve(!0)}};e.\u0275fac=function(i){return new(i||e)(x(ot))},e.\u0275cmp=K({type:e,selectors:[["app-gallery-settings"]],standalone:!0,features:[$e,Y],decls:1,vars:1,consts:[[4,"ngIf"],[1,"switch-container"],["tp","Show videos",3,"state","stateChange"],[1,"nowrap"],["tp","Bookmark new images automatically",3,"state","stateChange"]],template:function(i,o){i&1&&U(0,Oq,9,2,"ng-container",0),i&2&&w("ngIf",o.stateService.settings)},dependencies:[J,Oe,RM],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem;padding:.6666666666rem}[_nghost-%COMP%] > .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%] > .switch-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}"]});let t=e;return t})();var ot=(()=>{let e=class e{constructor(r,i,o,s){this.sanitizer=r,this.applicationService=i,this.googleService=o,this.dialogService=s,this.updateDelay=new ao(5e3),this.images=[],this.filter=ei([]),this.target=ei(null),this.filterFavorite={},this.filterBookmark={},this.filterGroupSizeMin={},this.filterGroupSizeMax={}}processData(){return _(this,null,function*(){let r=yield this.googleService.getData();this.dataFolderId=r.dataFolderId,this.archiveFolderId=r.archiveFolderId,this.filterFavorite.state=r.heartsFilter,this.filterBookmark.state=r.bookmarksFilter,this.filterGroupSizeMin.state=r.groupSizeFilterMin,this.filterGroupSizeMax.state=r.groupSizeFilterMax,this.comparison=r.comparison,this.tags=r.tags,this.tags.forEach(o=>o.lowerCaseName=o.name.toLowerCase()),r.settings?this.settings=r.settings:yield this.dialogService.create(tp);let i=new Set;yield this.processImages(r,this.dataFolderId,this.images,i),yield Promise.all(i);for(let o of r.imageProperties.filter(s=>!this.images.some(a=>s.id==a.id)))console.log(o),console.log("This image does not exist, but has a data entry. Removing image entry from data."),N.remove(this.images,this.images.find(s=>s.id==o.id));this.groups=r.groupProperties.map(o=>{let s=new Jf;return s.images=this.images.filter(a=>o.imageIds.includes(a.id)),s.images.sort((a,c)=>o.imageIds.indexOf(a.id)-o.imageIds.indexOf(c.id)),s.images.forEach(a=>a.group=s),s}),this.updateFilters(),this.applicationService.loading.set(!1),this.save()})}processImages(r,i,o,s){return _(this,null,function*(){let a=yield this.googleService.getFolderMetadata(i);for(let c of a.filter(l=>Mn.isFolder(l)))s.add(this.processImages(r,c.id,o,s));N.push(o,a.filter(c=>Mn.isImage(c)||Mn.isVideo(c)).map(c=>this.metaToImage(c,r.imageProperties.find(l=>l.id==c.id),i,this.applicationService.reduceBandwidth)))})}metaToImage(r,i,o,s){let a=new ep;return a.id=r.id,a.name=r.name,a.mimeType=r.mimeType,a.parentFolderId=o,s?a.thumbnailLink=r.thumbnailLink:a.thumbnailLink=r.thumbnailLink.replace("=s220","=w440"),Mn.isImage(a)?(a.imageMediaMetadata=r.imageMediaMetadata,a.aspectRatio=a.imageMediaMetadata.width/a.imageMediaMetadata.height,a.contentLink=r.thumbnailLink.replace("=s220","=s"+Math.max(window.screen.width,window.screen.height))):Mn.isVideo(a)&&(a.videoMediaMetadata=r.videoMediaMetadata,a.videoMediaMetadata||(a.videoMediaMetadata={}),(!a.videoMediaMetadata.width||a.videoMediaMetadata.width==0)&&(a.videoMediaMetadata.width=1920),(!a.videoMediaMetadata.height||a.videoMediaMetadata.height==0)&&(a.videoMediaMetadata.height=1080),a.aspectRatio=a.videoMediaMetadata.width/a.videoMediaMetadata.height,a.contentLink=this.sanitizer.bypassSecurityTrustResourceUrl("https://drive.google.com/file/d/"+a.id+"/preview")),i?(a.heart=i.heart,a.bookmark=i.bookmark,a.tagIds=i.tagIds||[]):(this.settings.autoBookmark&&(a.bookmark=!0),a.tagIds=[]),a}save(r=!1){this.applicationService.changes.set(!0),this.updateDelay.restart(()=>{this.googleService.updateContent(this.googleService.dataFileId,{dataFolderId:this.dataFolderId,archiveFolderId:this.archiveFolderId,settings:this.settings,imageProperties:this.images.map(i=>({id:i.id,heart:i.heart,bookmark:i.bookmark,tagIds:i.tagIds})),groupProperties:this.groups.filter(i=>i.images?.length>1).map(i=>({imageIds:i.images.map(o=>o.id)})),tags:this.tags.map(i=>({id:i.id,name:i.name,state:i.state})).sort((i,o)=>i.name.localeCompare(o.name)),heartsFilter:this.filterFavorite.state,bookmarksFilter:this.filterBookmark.state,groupSizeFilterMin:this.filterGroupSizeMin.state,groupSizeFilterMax:this.filterGroupSizeMax.state,comparison:this.comparison}).then(i=>{i||this.applicationService.errors.set(!0)}).finally(()=>{this.applicationService.changes.set(!1)})}),r&&this.updateDelay.complete()}updateFilters(r){r?r.passesFilter=this.doesPassFilter(r):this.images.forEach(i=>i.passesFilter=this.doesPassFilter(i)),this.filter.set(this.images.filter(i=>i.passesFilter))}doesPassFilter(r){if(!r||this.filterFavorite.state==-1&&r.heart||this.filterFavorite.state==1&&!r.heart||this.filterBookmark.state==-1&&r.bookmark||this.filterBookmark.state==1&&!r.bookmark||this.settings.showVideos==-1&&Mn.isVideo(r))return!1;let i=r.group?r.group.images.length:0;if(i<this.filterGroupSizeMin.state||i>this.filterGroupSizeMax.state)return!1;let o;for(let s of this.tags)if(o=r.tagIds.includes(s.id),s.state==-1&&o||s.state==1&&!o)return!1;return!0}toggleFavorite(r,i=!1){r.heart=!r.heart,i&&(this.updateFilters(r),this.save())}toggleBookmark(r,i=!1){r.bookmark=!r.bookmark,i&&(this.updateFilters(r),this.save())}toggleTag(r,i,o=!1){N.toggle(r.tagIds,i.id),o&&(this.updateFilters(r),this.save())}delete(r,i,o=!0){return _(this,null,function*(){if(!(o&&!(yield this.dialogService.createConfirmation("Confirmation",["Are you sure you want to "+(i?"archive":"delete")+" this image?"],"Yes","No")))){if(this.applicationService.loading.set(!0),i?yield this.googleService.move(r.id,r.parentFolderId,this.archiveFolderId):yield this.googleService.trash(r.id),N.remove(this.images,this.images.find(s=>s.id==r.id)),r.group&&(r.group.images.length>2?N.remove(r.group.images,r):(r.group.images.forEach(s=>delete s.group),N.remove(this.groups,r.group))),this.comparison!=null)for(let s of Object.values(this.comparison))s.includes(r.id)&&N.remove(s,r.id);this.filter.set(this.images.filter(s=>s.passesFilter)),this.target.set(null),this.save(!0),this.applicationService.loading.set(!1)}})}getTag(r){return this.tags.find(i=>i.id==r)}};e.\u0275fac=function(i){return new(i||e)(L(S_),L(rt),L(Fa),L(ft))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Rq(t,e){if(t&1){let n=Q();m(0,"span",12),C("click",function(){let o=S(n).$implicit,s=E();return A(s.toggleFilter(o))})("contextmenu",function(i){let s=S(n).$implicit,a=E();return i.preventDefault(),A(a.galleryService.openTagEditor(s))}),k(1),g()}if(t&2){let n=e.$implicit,r=E();w("ngClass",r.getFilterClass(n)),y(),ye(n.name)}}var NM=(()=>{let e=class e extends it{constructor(r,i){super(),this.galleryService=r,this.stateService=i,this.configuration={title:"Filter Configuration",buttons:[{text:()=>"OK",click:()=>this.submit()}],hideHeaderCloseButton:!0}}getFilterClass(r,i=!1){switch(r.state){case 1:return"positive "+(i?"fa-solid":"");case-1:return"negative "+(i?"fa-solid":"");default:return i?"fa-regular":""}}toggleFilter(r){r.state=r.state==0?1:r.state==1?-1:0,this.stateService.updateFilters()}clearFilters(){this.stateService.tags.forEach(r=>r.state=0),this.stateService.updateFilters()}isActiveFilter(){return this.stateService.tags.some(r=>r.state!=0)}close(){this.stateService.save(),this.resolve(!0)}};e.\u0275fac=function(i){return new(i||e)(x(jr),x(ot))},e.\u0275cmp=K({type:e,selectors:[["app-filter"]],standalone:!0,features:[$e,Y],decls:21,vars:7,consts:[[2,"display","flex","gap","1rem","justify-content","center"],[1,"filter-list-row","flex","gap","center",3,"click","contextmenu"],[1,"fa-heart",3,"ngClass"],[3,"ngClass"],[1,"fa-bookmark",3,"ngClass"],[1,"h-separator"],[1,"filter-list-container"],["class","filter-list-row",3,"ngClass","click","contextmenu",4,"ngFor","ngForOf"],[1,"buttons-container"],[1,"button",2,"flex","1","gap","0.33333333rem",3,"click"],[1,"fa-solid","fa-plus"],[1,"fa-solid","fa-filter-circle-xmark"],[1,"filter-list-row",3,"ngClass","click","contextmenu"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"div",1),C("click",function(){return o.toggleFilter(o.stateService.filterFavorite)})("contextmenu",function(a){return a.preventDefault(),o.toggleFilter(o.stateService.filterFavorite)}),Z(2,"i",2),m(3,"span",3),k(4,"Favorites"),g()(),m(5,"div",1),C("click",function(){return o.toggleFilter(o.stateService.filterBookmark)})("contextmenu",function(a){return a.preventDefault(),o.toggleFilter(o.stateService.filterBookmark)}),Z(6,"i",4),m(7,"span",3),k(8,"Bookmarks"),g()()(),Z(9,"div",5),m(10,"div",6),U(11,Rq,2,2,"span",7),g(),m(12,"div",8)(13,"div",9),C("click",function(){return o.galleryService.openTagEditor()}),Z(14,"i",10),m(15,"span"),k(16,"Create"),g()(),m(17,"div",9),C("click",function(){return o.clearFilters()}),Z(18,"i",11),m(19,"span"),k(20,"Clear"),g()()()),i&2&&(y(2),w("ngClass",o.getFilterClass(o.stateService.filterFavorite,!0)),y(),w("ngClass",o.getFilterClass(o.stateService.filterFavorite)),y(3),w("ngClass",o.getFilterClass(o.stateService.filterBookmark,!0)),y(),w("ngClass",o.getFilterClass(o.stateService.filterBookmark)),y(4),w("ngForOf",o.stateService.tags),y(6),Fe("disabled",!o.isActiveFilter()))},dependencies:[J,Dt,He],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:1rem;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .filter-list-container[_ngcontent-%COMP%]{max-height:50vh;display:flex;flex-direction:column;flex-wrap:wrap;column-gap:1rem;row-gap:.3333333333rem;overflow:auto}@media screen and (min-width: 768px){[_nghost-%COMP%]   .filter-list-container[_ngcontent-%COMP%]{width:max-content}}[_nghost-%COMP%]   .filter-list-row[_ngcontent-%COMP%]{cursor:pointer;white-space:nowrap}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem;margin:-.6666666666rem;margin-top:0}"]});let t=e;return t})();var kM=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var FM=(()=>{let e=class e extends it{constructor(r,i){super(),this.dialogService=r,this.stateService=i,this.configuration={title:"Tag Editor",buttons:[{text:()=>"Delete",hidden:()=>this.inputs.tag==null,click:()=>this.deleteTag()},{text:()=>"Cancel",click:()=>this.close()},{text:()=>this.inputs.tag?"Save":"Create",disabled:()=>!this.canSubmit(),click:()=>this.submit()}]}}ngOnInit(){this.inputs.tag&&(this.inputs.tagName=this.inputs.tag.name)}deleteTag(){this.inputs.tag&&this.dialogService.createConfirmation("Delete Tag",['Are you sure you want to delete tag "'+this.inputs.tag.name+'"?'],"Yes","No").then(r=>{if(r){for(let i of this.stateService.images)N.remove(i.tagIds,this.inputs.tag.id);N.remove(this.stateService.tags,this.inputs.tag),this.stateService.save(),this.resolve(null)}})}canSubmit(){return Nt.isEmpty(this.inputs.tagName)?!1:this.inputs.tag&&this.inputs.tagName==this.inputs.tag.name?!0:this.stateService.tags.find(r=>this.inputs.tagName==r.name)==null}submit(){this.canSubmit()&&(this.inputs.tag?(this.inputs.tag.name=this.inputs.tagName,this.inputs.tag.lowerCaseName=this.inputs.tagName.toLowerCase()):(this.inputs.tag={id:kM(),name:this.inputs.tagName,state:0,lowerCaseName:this.inputs.tagName.toLowerCase()},this.stateService.tags.push(this.inputs.tag)),this.stateService.tags.sort((r,i)=>r.name.localeCompare(i.name)),this.stateService.save(),this.resolve(this.inputs.tag))}close(){this.resolve(null)}};e.\u0275fac=function(i){return new(i||e)(x(ft),x(ot))},e.\u0275cmp=K({type:e,selectors:[["app-gallery-tag-editor"]],standalone:!0,features:[$e,Y],decls:4,vars:1,consts:[[1,"element-label"],[1,"element-container"],[1,"element",3,"ngModel","ngModelChange"]],template:function(i,o){i&1&&(m(0,"span",0),k(1,"Name"),g(),m(2,"div",1)(3,"input",2),ri("ngModelChange",function(a){return ki(o.inputs.tagName,a)||(o.inputs.tagName=a),a}),g()()),i&2&&(y(3),ni("ngModel",o.inputs.tagName))},dependencies:[J,vn,Lr,co,gi],styles:["[_nghost-%COMP%]{display:grid;align-content:center;grid-template-columns:auto 1fr;grid-auto-rows:min-content;row-gap:.3333333333rem;column-gap:.3333333333rem;padding:.9999999999rem}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .element-container[_ngcontent-%COMP%]{width:300px;height:3rem;display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .element-container[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{flex:1;height:3rem;box-sizing:border-box}"]});let t=e;return t})();var Va=(()=>{let e=class e{constructor(r){let i=r.element.nativeElement;i.draggable=!0,i.ondragstart=()=>e.onDragStart(this.array,this.array.indexOf(this.object)),i.ondragenter=()=>e.onDragEnter(this.array,this.array.indexOf(this.object)),i.ondragend=()=>e.onDragEnd(this.array),i.ondragover=o=>o.preventDefault()}static onDragStart(r,i){this.currentArray==null&&this.currentIndex==null&&(this.currentArray=r,this.currentIndex=i)}static onDragEnter(r,i){this.currentArray==r&&this.currentIndex!=i&&(this.currentArray.splice(i,0,this.currentArray.splice(this.currentIndex,1)[0]),this.currentIndex=i)}static onDragEnd(r){this.currentArray==r&&(console.log("onDragEnd"),this.currentArray=null,this.currentIndex=null)}};e.\u0275fac=function(i){return new(i||e)(x(jt))},e.\u0275dir=ut({type:e,selectors:[["","dragdrop",""]],inputs:{object:[re.None,"dragdrop","object"],array:[re.None,"dragdropParent","array"]},standalone:!0});let t=e;return t})();function Nq(t,e){t&1&&(m(0,"span"),k(1,"No Images"),g())}function kq(t,e){if(t&1){let n=Q();m(0,"div",4),C("click",function(){let o=S(n).$implicit,s=E(3);return A(s.stateService.target.set(o))}),m(1,"i",5),C("click",function(i){let s=S(n).$implicit,a=E(3);return i.stopPropagation(),A(a.removeImage(s))}),g(),m(2,"img",6,7),C("load",function(){S(n);let i=Ke(3);return A(i.style.opacity="1")}),g()()}if(t&2){let n=e.$implicit,r=E(3);w("dragdrop",n)("dragdropParent",r.stateService.groupEditorGroup.images),y(2),Ut("width",120*n.aspectRatio,"px"),w("src",n.thumbnailLink,pn)}}function Fq(t,e){if(t&1&&(m(0,"div",2),U(1,kq,4,5,"div",3),g()),t&2){let n=E(2);y(),w("ngForOf",n.stateService.groupEditorGroup.images)}}function Vq(t,e){if(t&1&&(Je(0),U(1,Nq,2,0,"span",0)(2,Fq,2,1,"div",1),Ze()),t&2){let n=E();y(),w("ngIf",n.stateService.groupEditorGroup.images.length==0),y(),w("ngIf",n.stateService.groupEditorGroup.images.length>0)}}var VM=(()=>{let e=class e extends it{constructor(r,i){super(),this.stateService=r,this.dialogService=i,this.configuration={title:"Group Manager",buttons:[{text:()=>"Disband",hidden:()=>this.inputs.sourceGroup==null,click:()=>{this.dialogService.createConfirmation("Confirmation",["Are you sure you want to disband this group of images?"],"Yes","No").then(o=>{o&&this.disband()})}},{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Save",disabled:()=>this.stateService.groupEditorGroup.images.length==0,click:()=>this.submit()}],hideClickOverlay:!0}}ngOnInit(){this.stateService.groupEditorGroup={images:this.inputs.sourceGroup?[...this.inputs.sourceGroup.images]:[]},this.stateService.updateFilters()}removeImage(r){N.remove(this.stateService.groupEditorGroup.images,r)}disband(){let r=this.inputs.sourceGroup;if(r){N.remove(this.stateService.groups,r);for(let i of r.images)i.group=null;this.close()}}submit(){let r=this.inputs.sourceGroup,i=this.stateService.groupEditorGroup;i.images.length>0&&(r?(r.images.forEach(o=>o.group=null),r.images=[...i.images],r.images.forEach(o=>o.group=r)):(this.stateService.groups.push(i),i.images.forEach(o=>o.group=i)),this.stateService.save(),this.close())}close(){this.stateService.groupEditorGroup=null,this.stateService.updateFilters(),this.resolve()}};e.\u0275fac=function(i){return new(i||e)(x(ot),x(ft))},e.\u0275cmp=K({type:e,selectors:[["app-group-editor"]],standalone:!0,features:[$e,Y],decls:1,vars:1,consts:[[4,"ngIf"],["class","order-container",4,"ngIf"],[1,"order-container"],["class","image-container",3,"dragdrop","dragdropParent","click",4,"ngFor","ngForOf"],[1,"image-container",3,"dragdrop","dragdropParent","click"],["tp","Remove",1,"icon-button-small","fa-solid","fa-times",3,"click"],[3,"src","load"],["imageElement",""]],template:function(i,o){i&1&&U(0,Vq,3,2,"ng-container",0),i&2&&w("ngIf",o.stateService.groupEditorGroup)},dependencies:[J,He,Oe,Va,Hn],styles:["[_nghost-%COMP%]{height:120px;min-height:120px;display:flex;align-items:center;justify-content:center;padding:.3333333333rem}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]{height:120px;min-height:120px;display:flex;gap:.3333333333rem;overflow:auto}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;position:relative;justify-content:center;align-items:center;border-radius:.3333333333rem;cursor:pointer}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{opacity:0;pointer-events:none;position:absolute;top:0;right:0}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]:hover > i[_ngcontent-%COMP%]{opacity:1;pointer-events:all}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;border-radius:.3333333333rem;opacity:0;transition-property:opacity;transition-duration:.5s}"]});let t=e;return t})();var gs=class t{static getBetterThan(e,n,r,i=[]){for(let o of r[e])N.push(i,o),t.getBetterThan(o,n,r,i);return i}static getFirst(e){for(let n of e)if(n.getBetterThan().length==e.length-1)return n}static getLeaderboard(e,n){let r=[],i=e;for(;i;)r.push(i),i.directlyBetterThan.length==1?i=i.directlyBetterThan[0]:i=null;let o=[];return n.filter(s=>!r.includes(s)).forEach(s=>o.push([s,s.getBetterThan().length])),o.sort((s,a)=>a[1]-s[1]),N.push(r,o.map(s=>s[0])),r}};var np=class{constructor(e,n){this.id=e,this.object=n,this.directlyBetterThan=[]}isBetterThan(e){return this.betterThan||this.getBetterThan(),this.betterThan.includes(e)}getBetterThan(){if(!this.betterThan){this.betterThan=this.directlyBetterThan.slice();for(let e of this.directlyBetterThan)N.push(this.betterThan,e.getBetterThan())}return this.betterThan}clearBetterThan(){this.betterThan&&(this.betterThan.length=0)}};var La=class{constructor(e,n,r){if(this.contenders=[],this.queue=[],this.winnersQueue=[],this.losersQueue=[],this.leaderboard=[],this.first=null,this.resolvingTiesFor=null,this.history=[],this.contenders=e.map(i=>new np(n(i),i)),this.maxHistoryLength=Math.min(10,Math.round(this.contenders.length/4)),r&&Object.keys(r).length>0)for(let i of this.contenders)i.directlyBetterThan=r[i.id]?.map(o=>this.contenders.find(s=>s.id==o))||[];this.first=gs.getFirst(this.contenders),this.first?this.currentQueueType="tiebreaker":(this.currentQueueType="start",this.queue=this.contenders.slice()),this.leaderboard=gs.getLeaderboard(this.first,this.contenders),this.nextComparison()}nextComparison(){switch(this.currentQueueType){case"start":case"winners":case"losers":this.nextComparisonUntilFirst();break;case"tiebreaker":this.nextComparisonTiebreaker();break}}nextComparisonUntilFirst(){let e=this.queue.shift(),n=this.queue.shift();e.isBetterThan(n)?this.handleUserInput(e,n):n.isBetterThan(e)?this.handleUserInput(n,e):(this.currentComparison=[e,n],this.leaderboard=gs.getLeaderboard(this.first,this.contenders))}nextComparisonTiebreaker(){this.resolvingTiesFor=null,this.history.length=Math.min(this.history.length,this.maxHistoryLength);let e=this.history.slice(),n=1,r,i;do{for(let o of this.contenders)i=o.directlyBetterThan.filter(s=>!e.includes(s)),i.length>n&&(n=i.length,r=i,this.resolvingTiesFor=o);if(e.length==0)break;e.length=e.length-2}while(this.resolvingTiesFor==null);if(this.resolvingTiesFor){let o=r[0],s=r[1];o.isBetterThan(s)?(N.remove(this.resolvingTiesFor.directlyBetterThan,s),N.push(o.directlyBetterThan,s),this.nextComparison()):s.isBetterThan(o)?(N.remove(this.resolvingTiesFor.directlyBetterThan,o),N.push(s.directlyBetterThan,o),this.nextComparison()):(this.currentComparison=[o,s],this.history.unshift(o,s),this.leaderboard=gs.getLeaderboard(this.first,this.contenders))}else this.currentComparison=null}handleUserInput(e,n){switch(this.currentQueueType){case"start":if(N.push(this.winnersQueue,e),N.push(this.losersQueue,n),N.push(e.directlyBetterThan,n),this.queue.length<=1){let r=this.queue.shift();r&&this.winnersQueue.unshift(r),this.queue=this.winnersQueue.slice(),this.winnersQueue.length=0,this.currentQueueType="winners"}break;case"winners":N.push(this.winnersQueue,e),N.push(e.directlyBetterThan,n),this.queue.length<=1&&(this.queue.length==1&&this.winnersQueue.unshift(this.queue[0]),this.queue=this.losersQueue.slice(),this.losersQueue.length=0,this.currentQueueType="losers");break;case"losers":N.push(this.losersQueue,n),N.push(e.directlyBetterThan,n),this.queue.length<=1&&(this.queue.length==1&&this.losersQueue.unshift(this.queue[0]),this.queue=this.winnersQueue.slice(),this.queue.length==1?(this.first=this.winnersQueue.shift(),console.log(this.first),this.queue.length=0,this.currentQueueType="tiebreaker"):(this.winnersQueue.length=0,this.currentQueueType="winners"));break;case"tiebreaker":N.remove(this.resolvingTiesFor.directlyBetterThan,n),N.push(e.directlyBetterThan,n);break}this.contenders.forEach(r=>r.clearBetterThan()),this.nextComparison()}reset(){this.first=null,this.currentQueueType="start",this.leaderboard=this.contenders.slice(),this.contenders.forEach(e=>e.directlyBetterThan.length=0),this.queue=this.contenders.slice(),this.nextComparison()}};function Lq(t,e){if(t&1){let n=Q();m(0,"div",4)(1,"div",5),C("click",function(){S(n);let i=E();return A(i.onImageClick(i.tournament.currentComparison[0],i.tournament.currentComparison[1]))}),Z(2,"img",6),g(),Z(3,"div",7),m(4,"div",5),C("click",function(){S(n);let i=E();return A(i.onImageClick(i.tournament.currentComparison[1],i.tournament.currentComparison[0]))}),Z(5,"img",6),g()()}if(t&2){let n=E();y(2),w("src",n.tournament.currentComparison[0].object.thumbnailLink,pn),y(3),w("src",n.tournament.currentComparison[1].object.thumbnailLink,pn)}}function jq(t,e){if(t&1&&(m(0,"div",8),Z(1,"img",6),g()),t&2){let n=e.$implicit;y(),w("src",n.object.thumbnailLink,pn)}}var LM=(()=>{let e=class e extends it{constructor(r){super(),this.stateService=r,this.configuration={title:"Image Comparison",buttons:[{text:()=>"Reset",click:()=>this.reset()},{text:()=>"Save",click:()=>this.save()}]}}ngOnInit(){this.tournament=new La(this.inputs.images,r=>r.id,this.stateService.comparison)}onImageClick(r,i){this.tournament.handleUserInput(r,i)}reset(){this.tournament.reset()}save(){let r={};for(let i of this.tournament.contenders)r[i.id]=i.directlyBetterThan.map(o=>o.id);this.stateService.comparison=r,this.stateService.save(!0),this.resolve(!1)}close(){this.resolve(!1)}};e.\u0275fac=function(i){return new(i||e)(x(ot))},e.\u0275cmp=K({type:e,selectors:[["app-image-comparison"]],standalone:!0,features:[$e,Y],decls:4,vars:2,consts:[["class","comparison",4,"ngIf"],[1,"h-separator"],[1,"results"],["class","image-container",4,"ngFor","ngForOf"],[1,"comparison"],[1,"image-container",3,"click"],[1,"image",3,"src"],[1,"v-separator"],[1,"image-container"]],template:function(i,o){i&1&&(U(0,Lq,6,2,"div",0),Z(1,"div",1),m(2,"div",2),U(3,jq,2,1,"div",3),g()),i&2&&(w("ngIf",o.tournament.currentComparison),y(3),w("ngForOf",o.tournament.leaderboard))},dependencies:[J,He,Oe],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;overflow-x:hidden;width:max-content}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{display:flex;overflow:hidden}@media screen and (max-width: 768px){[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{aspect-ratio:2}}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:1;padding:.3333333333rem;display:flex;align-items:center;justify-content:center;cursor:pointer}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]:hover{background-color:var(--color-border)}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain;border-radius:.3333333333rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{height:200px;min-height:200px;overflow:auto;display:flex;flex-wrap:wrap;justify-content:center;gap:.3333333333rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{width:calc(300px + .6666666666rem);padding:.3333333333rem}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{width:calc(700px + 1.9999999998rem + .5533333333rem);padding:.3333333333rem 0 .3333333333rem .5533333333rem}}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:100px;height:100px;display:flex;position:relative;justify-content:center;align-items:center}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:.3333333333rem}"]});let t=e;return t})();function Uq(t,e){if(t&1){let n=Q();m(0,"span",11),C("click",function(){let o=S(n).$implicit,s=E();return A(s.stateService.toggleTag(s.inputs.image,o))})("contextmenu",function(i){let s=S(n).$implicit,a=E();return i.preventDefault(),A(a.galleryService.openTagEditor(s))}),k(1),g()}if(t&2){let n=e.$implicit,r=E();w("ngClass",r.getTagClass(n)),y(),ye(n.name)}}var jM=(()=>{let e=class e extends it{constructor(r,i){super(),this.galleryService=r,this.stateService=i,this.configuration={title:"Tag Manager",buttons:[{text:()=>"Save",click:()=>this.submit()}],hideHeaderCloseButton:!0}}getFavoriteClass(r){return this.inputs.image.heart?r?"positive fa-solid":"positive":r?"fa-regular":""}getBookmarkClass(r){return this.inputs.image.bookmark?r?"positive fa-solid":"positive":r?"fa-regular":""}getTagClass(r,i=!1){return this.inputs.image.tagIds.includes(r.id)?i?"positive fa-solid":"positive":i?"fa-regular":""}close(){this.stateService.save(),this.stateService.updateFilters(),this.resolve(!0)}};e.\u0275fac=function(i){return new(i||e)(x(jr),x(ot))},e.\u0275cmp=K({type:e,selectors:[["app-tag-manager"]],standalone:!0,features:[$e,Y],decls:17,vars:5,consts:[[2,"display","flex","gap","1rem","justify-content","center"],[1,"filter-list-row","flex","gap","center",3,"click","contextmenu"],[1,"fa-heart",3,"ngClass"],[3,"ngClass"],[1,"fa-bookmark",3,"ngClass"],[1,"h-separator"],[1,"filter-list-container"],["class","filter-list-row",3,"ngClass","click","contextmenu",4,"ngFor","ngForOf"],[1,"buttons-container"],[1,"button",2,"flex","1","gap","0.33333333rem",3,"click"],[1,"fa-solid","fa-plus"],[1,"filter-list-row",3,"ngClass","click","contextmenu"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"div",1),C("click",function(){return o.stateService.toggleFavorite(o.inputs.image)})("contextmenu",function(a){return a.preventDefault(),o.stateService.toggleFavorite(o.inputs.image)}),Z(2,"i",2),m(3,"span",3),k(4,"Favorite"),g()(),m(5,"div",1),C("click",function(){return o.stateService.toggleBookmark(o.inputs.image)})("contextmenu",function(a){return a.preventDefault(),o.stateService.toggleBookmark(o.inputs.image)}),Z(6,"i",4),m(7,"span",3),k(8,"Bookmark"),g()()(),Z(9,"div",5),m(10,"div",6),U(11,Uq,2,2,"span",7),g(),m(12,"div",8)(13,"div",9),C("click",function(){return o.galleryService.openTagEditor()}),Z(14,"i",10),m(15,"span"),k(16,"Create"),g()()()),i&2&&(y(2),w("ngClass",o.getFavoriteClass(!0)),y(),w("ngClass",o.getFavoriteClass(!1)),y(3),w("ngClass",o.getBookmarkClass(!0)),y(),w("ngClass",o.getBookmarkClass(!1)),y(4),w("ngForOf",o.stateService.tags))},dependencies:[J,Dt,He],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:1rem;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .filter-list-container[_ngcontent-%COMP%]{max-height:50vh;display:flex;flex-direction:column;flex-wrap:wrap;column-gap:1rem;row-gap:.3333333333rem;overflow:auto}@media screen and (min-width: 768px){[_nghost-%COMP%]   .filter-list-container[_ngcontent-%COMP%]{width:max-content}}[_nghost-%COMP%]   .filter-list-row[_ngcontent-%COMP%]{cursor:pointer;white-space:nowrap}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem;margin:-.6666666666rem;margin-top:0}"]});let t=e;return t})();var jr=(()=>{let e=class e{constructor(r,i,o){this.dialogService=r,this.stateService=i,this.tippyService=o}openImageComparison(){this.dialogService.create(LM,{images:N.shuffle(this.stateService.images.slice())})}openGroupEditor(r){this.dialogService.create(VM,{sourceGroup:r})}openFilter(){this.dialogService.create(NM)}openSettings(){this.dialogService.create(tp)}openTagEditor(r){this.dialogService.create(FM,{tag:r})}openTagManager(r){this.dialogService.create(jM,{image:r})}openYandexReverseImageSearch(r,i){let o="https://yandex.com/images/search?rpt=imageview&url="+encodeURIComponent(i.thumbnailLink.replace(new RegExp("=s..."),"=s9999"));r.altKey?(navigator.clipboard.writeText(o),this.tippyService.create(r.target,"URL copied to clipboard!",{trigger:"click",onShow(s){setTimeout(()=>{s.hide()},3e3)},onHidden(s){s.destroy()}}).show()):window.open(o,"_blank")}};e.\u0275fac=function(i){return new(i||e)(L(ft),L(ot),L(rM))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Bq(t,e){if(t&1){let n=Q();m(0,"i",17),C("click",function(){S(n);let i=E(2);return A(i.setRandomGroupTarget())}),g()}}function $q(t,e){if(t&1){let n=Q();m(0,"div",23)(1,"img",24,25),C("click",function(){let o=S(n).$implicit,s=E(4);return A(s.onImageClick(o))})("load",function(){S(n);let i=Ke(2);return A(i.style.opacity="1")}),g()()}if(t&2){let n=e.$implicit,r=E(4);w("@fade",void 0),y(),w("src",r.getSrc(n),pn)}}var S0=t=>[t];function Hq(t,e){if(t&1&&(m(0,"div",21),U(1,$q,3,2,"div",22),g()),t&2){let n=E(2).ngVar;w("@fade",void 0),y(),w("ngForOf",kd(2,S0,n))}}function zq(t,e){if(t&1){let n=Q();m(0,"div",23)(1,"img",24,25),C("click",function(){let o=S(n).$implicit,s=E(4);return A(s.onImageClick(o))})("load",function(){S(n);let i=Ke(2);return A(i.style.opacity="1")}),g()()}if(t&2){let n=e.$implicit,r=E(4);w("@fade",void 0),y(),w("src",r.getSrc(n),pn)}}function qq(t,e){if(t&1){let n=Q();m(0,"img",24,32),C("click",function(){let o=S(n).$implicit,s=E(5);return A(s.stateService.target.set(o))})("load",function(){S(n);let i=Ke(1);return A(i.style.opacity="1")}),g()}if(t&2){let n=e.$implicit;Ut("height",120,"px")("width",120*n.aspectRatio,"px"),w("src",n.thumbnailLink,pn)}}function Gq(t,e){if(t&1&&(m(0,"div",30),U(1,qq,2,5,"img",31),g()),t&2){let n=e.$implicit;w("@fade",void 0),y(),w("ngForOf",n.images)}}function Wq(t,e){if(t&1&&(m(0,"div",26)(1,"div",27),U(2,zq,3,2,"div",22),g(),m(3,"div",28),U(4,Gq,2,2,"div",29),g()()),t&2){let n=E(2).ngVar;w("@fade",void 0),y(2),w("ngForOf",kd(3,S0,n)),y(2),w("ngForOf",kd(5,S0,n.group))}}function Kq(t,e){if(t&1&&(m(0,"div",18),U(1,Hq,2,4,"div",19)(2,Wq,5,7,"div",20),g()),t&2){let n=E().ngVar;w("@fade",void 0),y(),w("ngIf",!n.group),y(),w("ngIf",n.group)}}function Qq(t,e){if(t&1&&(m(0,"div",33)(1,"span",34),k(2),g()()),t&2){let n=E().ngVar;y(2),ti("",n.imageMediaMetadata.width," x ",n.imageMediaMetadata.height,"")}}function Yq(t,e){if(t&1){let n=Q();Je(0),m(1,"img",1),C("load",function(){S(n);let i=E();return A(i.loadingT=!1)}),g(),m(2,"img",1),C("load",function(){S(n);let i=E();return A(i.loadingC=!1)}),g(),m(3,"div",2)(4,"div",3)(5,"div",4)(6,"i",5),C("click",function(){S(n);let i=E();return A(i.stateService.target.set(null))}),g(),m(7,"i",6),C("click",function(){S(n);let i=E();return A(i.setRandomTarget())}),g(),U(8,Bq,1,0,"i",7),g(),Z(9,"div",8),m(10,"div",9)(11,"i",10),C("click",function(){let o=S(n).ngVar,s=E();return A(s.stateService.delete(o,!0))}),g(),m(12,"i",11),C("click",function(){let o=S(n).ngVar,s=E();return A(s.stateService.delete(o,!1))}),g()()(),U(13,Kq,3,3,"div",12),m(14,"div",13)(15,"div",4)(16,"i",14),C("click",function(){let o=S(n).ngVar,s=E();return A(s.stateService.toggleFavorite(o,!0))}),g(),m(17,"i",15),C("click",function(){let o=S(n).ngVar,s=E();return A(s.stateService.toggleBookmark(o,!0))}),g()(),Z(18,"div",8),m(19,"div",9),U(20,Qq,3,2,"div",16),g()()(),Ze()}if(t&2){let n=e.ngVar;y(),w("src",n==null?null:n.thumbnailLink,pn),y(),w("src",n==null?null:n.contentLink,pn),y(6),w("ngIf",n==null?null:n.group),y(5),w("ngIf",n),y(3),w("ngClass",n!=null&&n.heart?"fa-solid":"fa-regular"),y(),w("ngClass",n!=null&&n.bookmark?"fa-solid":"fa-regular"),y(3),w("ngIf",n)}}var UM=(()=>{let e=class e{constructor(r,i,o,s){this.applicationService=r,this.stateService=i,this.dialogService=o,this.galleryService=s,this.loadingT=!0,this.loadingC=!0,this.video=!1,Vi(()=>{let a=this.stateService.target();a&&(Mn.isVideo(a)?this.video=!0:(this.video=!1,this.loadingT=!0,this.loadingC=!0))})}initKeybinds(r){if(this.dialogService.dialogs.length==0){switch(r.code){case"Escape":this.stateService.target.set(null);return}if(["BODY","VIDEO"].includes(r.target.nodeName)&&this.stateService.target())switch(r.code){case"KeyR":this.setRandomTarget();return;case"KeyG":this.setRandomGroupTarget();return}}}setRandomTarget(){if(!N.isEmpty(this.stateService.filter())){let r,i=this.stateService.target();i?i.group?r=N.getRandom(this.stateService.filter(),i.group.images):r=N.getRandom(this.stateService.filter(),[i]):r=N.getRandom(this.stateService.filter()),r&&this.stateService.target.set(r)}}setRandomGroupTarget(){let r=this.stateService.target();r?.group&&this.stateService.target.set(N.getRandom(r.group.images,[r]))}getSrc(r){if(!this.loadingC)return r.contentLink;if(!this.loadingT)return r.thumbnailLink}onImageClick(r){this.applicationService.reduceBandwidth&&(r.thumbnailLink=r.thumbnailLink.replace("=s220","=s440"))}snapshot(){let r=document.getElementById("video-element");if(r){let i=document.createElement("canvas");i.width=r.videoWidth,i.height=r.videoHeight,i.getContext("2d").drawImage(r,0,0),window.open("about:blank","Video Snapshot").document.write("<img src='"+i.toDataURL("image/png")+"' alt='from canvas'/>")}}isFirstGroupImage(r){return N.isFirst(r.group.images.filter(i=>i.passesFilter),r)}isLastGroupImage(r){return N.isLast(r.group.images.filter(i=>i.passesFilter),r)}moveTargetGroupLeft(r){this.stateService.target.set(N.getPrevious(r.group.images.filter(i=>i.passesFilter),r,!0))}moveTargetGroupRight(r){this.stateService.target.set(N.getNext(r.group.images.filter(i=>i.passesFilter),r,!0))}};e.\u0275fac=function(i){return new(i||e)(x(rt),x(ot),x(ft),x(jr))},e.\u0275cmp=K({type:e,selectors:[["app-fullscreen"]],hostBindings:function(i,o){i&1&&C("keydown",function(a){return o.initKeybinds(a)},!1,mc)},standalone:!0,features:[Y],decls:1,vars:1,consts:[[4,"ngVar"],[2,"display","none",3,"src","load"],[1,"fullscreen-container"],[1,"sidebar-left"],[1,"sidebar-start"],["tp","Back","tpPlacement","right",1,"icon-button","fa-solid","fa-arrow-left",3,"click"],["tp","Random Image","tpPlacement","right",1,"icon-button","fa-solid","fa-shuffle",3,"click"],["class","icon-button fa-solid fa-arrows-spin","tp","Random Image from Group","tpPlacement","right",3,"click",4,"ngIf"],[1,"sidebar-center"],[1,"sidebar-end"],["tp","Archive","tpPlacement","right",1,"icon-button","fa-solid","fa-box",3,"click"],["tp","Delete","tpPlacement","right",1,"icon-button","fa-solid","fa-trash",3,"click"],["class","stack-container",4,"ngIf"],[1,"sidebar-right"],["tp","Favorite","tpPlacement","left",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark","tpPlacement","left",1,"icon-button","fa-bookmark",3,"ngClass","click"],["class","resolution-info",4,"ngIf"],["tp","Random Image from Group","tpPlacement","right",1,"icon-button","fa-solid","fa-arrows-spin",3,"click"],[1,"stack-container"],["class","non-group-container stack-container",4,"ngIf"],["class","group-container",4,"ngIf"],[1,"non-group-container","stack-container"],["class","image-container",4,"ngFor","ngForOf"],[1,"image-container"],[3,"src","click","load"],["imageElement",""],[1,"group-container"],[1,"stack-container",2,"overflow","auto"],[1,"stack-container","group-images-container"],["class","group-image-container",4,"ngFor","ngForOf"],[1,"group-image-container"],[3,"height","width","src","click","load",4,"ngFor","ngForOf"],["groupImageElement",""],[1,"resolution-info"],[2,"white-space","nowrap","padding","1rem"]],template:function(i,o){i&1&&U(0,Yq,21,7,"ng-container",0),i&2&&w("ngVar",o.stateService.target())},dependencies:[J,Dt,He,Oe,OM,Hn],styles:["[_nghost-%COMP%]{-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background-color:#00000080;transition:.5s;overflow:hidden}[_nghost-%COMP%]   .fullscreen-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex}[_nghost-%COMP%]   .non-group-container[_ngcontent-%COMP%]{overflow:auto}[_nghost-%COMP%]   .non-group-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{padding:.3333333333rem 0}[_nghost-%COMP%]   .group-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:auto;gap:.3333333333rem;padding:.3333333333rem 0}[_nghost-%COMP%]   .group-container[_ngcontent-%COMP%]   .group-images-container[_ngcontent-%COMP%]{height:auto}[_nghost-%COMP%]   .group-container[_ngcontent-%COMP%]   .group-image-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;overflow-y:hidden;padding:0;gap:.3333333333rem}[_nghost-%COMP%]   .group-container[_ngcontent-%COMP%]   .group-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:0;cursor:pointer}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;overflow:auto;box-sizing:border-box}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;overflow:auto;object-fit:contain}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{outline:none;-webkit-user-select:none;user-select:none;transition-property:opacity;transition-duration:.5s;opacity:0}[_nghost-%COMP%]   .sidebar-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]{width:42px;display:flex;flex-direction:column;justify-content:space-between;padding:.3333333333rem}[_nghost-%COMP%]   .sidebar-left[_ngcontent-%COMP%]   .sidebar-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-left[_ngcontent-%COMP%]   .sidebar-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-left[_ngcontent-%COMP%]   .sidebar-end[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-end[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]{align-items:flex-end}"],data:{animation:[Ra]}});let t=e;return t})();var BM=(()=>{let e=class e{constructor(r){this.elementRef=r,this.create=new Ye}ngOnInit(){this.create.emit(this.elementRef)}};e.\u0275fac=function(i){return new(i||e)(x(gt))},e.\u0275dir=ut({type:e,selectors:[["","create",""]],outputs:{create:"create"},standalone:!0});let t=e;return t})();var vi=class{constructor(){}static isLargeScreen(){return window.innerWidth>1e3}static isElementVisible(e,n){if(e){let r=e.getBoundingClientRect();return r.top>=0&&r.left>=0&&r.bottom<=(n?n.clientHeight:window.innerHeight)&&r.right<=(n?n.clientWidth:window.innerWidth)}}};function Xq(t,e){if(t&1){let n=Q();m(0,"i",8),C("click",function(){S(n);let i=E();return A(i.galleryService.openFilter())}),g()}}var $M=(()=>{let e=class e{constructor(r,i,o){this.applicationService=r,this.stateService=i,this.galleryService=o}};e.\u0275fac=function(i){return new(i||e)(x(rt),x(ot),x(jr))},e.\u0275cmp=K({type:e,selectors:[["app-header"]],standalone:!0,features:[Y],decls:8,vars:2,consts:[[1,"header-start"],["tp","Open Comparison",1,"icon-button","fa-solid","fa-code-compare",3,"click"],["tp","Create Image Group",1,"icon-button","fa-solid","fa-folder-plus",3,"click"],[1,"header-center"],["class","icon-button fa-solid fa-filter","tp","Filter",3,"click",4,"ngIf"],[1,"header-end"],["tp","Brightness Mode",1,"icon-button","fa-solid",3,"ngClass","click"],["tp","Settings",1,"icon-button","fa-solid","fa-gear",3,"click"],["tp","Filter",1,"icon-button","fa-solid","fa-filter",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"i",1),C("click",function(){return o.galleryService.openImageComparison()}),g(),m(2,"i",2),C("click",function(){return o.galleryService.openGroupEditor()}),g()(),m(3,"div",3),U(4,Xq,1,0,"i",4),g(),m(5,"div",5)(6,"i",6),C("click",function(){return o.applicationService.toggleTheme()}),g(),m(7,"i",7),C("click",function(){return o.galleryService.openSettings()}),g()()),i&2&&(y(4),w("ngIf",o.stateService.images.length>0),y(2),w("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"))},dependencies:[J,Dt,Oe,Hn],styles:["[_nghost-%COMP%]{padding:.3333333333rem;height:3rem;display:flex;justify-content:space-between}[_nghost-%COMP%]   .header-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .header-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .header-end[_ngcontent-%COMP%]{flex:1;display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .header-start[_ngcontent-%COMP%]{justify-content:start}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.3333333333rem}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{background-color:var(--color-hover)}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .filter-bubble[_ngcontent-%COMP%]{min-height:3rem;display:flex;align-items:center;justify-content:center;border-radius:.3333333333rem;background-color:var(--color-hover);cursor:pointer}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .filter-bubble[_ngcontent-%COMP%]   .filter-bubble-text[_ngcontent-%COMP%]{height:100%;align-content:center;padding-left:1rem}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .filter-input-container[_ngcontent-%COMP%]{min-width:3rem;min-height:3rem;display:flex;align-items:center;justify-content:center;border-radius:.3333333333rem;background-color:var(--color-hover)}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .filter-input-container[_ngcontent-%COMP%]   .filter-input-text[_ngcontent-%COMP%]{width:100%;padding-left:.99rem}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .filter-input-container[_ngcontent-%COMP%]   .filter-input-text[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:not(#filter-input){position:absolute;width:100%;border:0;padding:0;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .filter-input-container[_ngcontent-%COMP%]   .filter-input-text[_ngcontent-%COMP%] > input#filter-input[_ngcontent-%COMP%]{position:relative;width:100%;border:0;padding:0}[_nghost-%COMP%]   .header-end[_ngcontent-%COMP%]{justify-content:end}"]});let t=e;return t})();function Jq(t,e){if(t&1){let n=Q();m(0,"i",15),C("click",function(){S(n);let i=E(2).$implicit,o=E();return A(o.galleryService.openGroupEditor(i.group))}),g()}}function Zq(t,e){if(t&1){let n=Q();Je(0),m(1,"div",8)(2,"i",9),C("click",function(i){S(n);let o=E().$implicit,s=E();return i.stopPropagation(),A(s.stateService.toggleFavorite(o,!0))}),g(),m(3,"i",10),C("click",function(i){S(n);let o=E().$implicit,s=E();return i.stopPropagation(),A(s.stateService.toggleBookmark(o,!0))}),g()(),m(4,"div",11)(5,"i",12),C("click",function(i){S(n);let o=E().$implicit,s=E();return i.stopPropagation(),A(s.googleService.openSearch(o.name))}),g(),m(6,"i",13),C("click",function(i){S(n);let o=E().$implicit,s=E();return i.stopPropagation(),A(s.galleryService.openYandexReverseImageSearch(i,o))}),g(),U(7,Jq,1,0,"i",14),g(),Ze()}if(t&2){let n=E().$implicit;y(2),w("ngClass",n.heart?"fa-solid active":"fa-regular"),y(),w("ngClass",n.bookmark?"fa-solid active":"fa-regular"),y(4),w("ngIf",n.group)}}function eG(t,e){if(t&1){let n=Q();m(0,"div",3),C("click",function(){let o=S(n).$implicit,s=E();return A(s.onImageClick(o))}),m(1,"div",4)(2,"img",5,6),C("create",function(i){let s=S(n).$implicit,a=E();return A(a.onBrickCreate(i,s))})("load",function(){S(n);let i=Ke(3);return A(i.style.opacity="1")}),g()(),U(4,Zq,8,3,"ng-container",7),g()}if(t&2){let n=e.$implicit,r=E();pb("width: "+n.width+"px; height: "+n.height+"px; top: "+n.top+"px; left: "+n.left+"px; "),Ut("opacity",n.group&&r.stateService.groupEditorGroup&&!r.stateService.groupEditorGroup.images.includes(n)?"0.15":"1"),w("@fade",void 0),y(2),w("src",n.thumbnailLink,pn),y(2),w("ngIf",r.areBrickButtonsVisible())}}var HM=(()=>{let e=class e{constructor(r,i,o,s){this.applicationService=r,this.stateService=i,this.googleService=o,this.galleryService=s,this.bricks={},Vi(()=>this.updateLayout()),Vi(()=>this.scrollTo(this.stateService.target()))}updateLayout(){if(this.masonryContainer){if(this.masonryImages=this.stateService.filter().filter(u=>u.group?u==u.group.images.find(d=>d.passesFilter):!0),this.masonryImages.length==0)return;let r=vi.isLargeScreen()?250:200,i=vi.isLargeScreen()?9.6666666666:4.3333333333,o=this.masonryContainer.clientWidth,s=Math.max(Math.floor(o/r),2),a=(o-i*(s-1))/s,c=[],l=[];for(let u=0;u<s;u++)c[u]=0,l[u]=u*(a+i);for(let u of this.masonryImages){u.width!=a&&(u.width=a,u.height=a/u.aspectRatio);let d=this.getShortestColumnIndex(c);u.top=c[d],u.left=l[d],c[d]=c[d]+u.height+i}}}scrollTo(r){if(r){let i=r.group?r.group.images.find(s=>s.passesFilter):r,o=this.bricks[i?.id];if(o&&!vi.isElementVisible(o)){let s=document.getElementsByClassName("masonry-scroll-container")[0],a=i.top-(s.clientHeight-o.height)/2;s.scrollTo({top:a,behavior:"smooth"})}}}getShortestColumnIndex(r){return r.indexOf(Math.min(...r))}onImageClick(r){let i=this.stateService.groupEditorGroup;if(i){if(r.group&&i!=r.group)return;N.toggle(i.images,r);return}this.stateService.target.set(r)}onBrickCreate(r,i){this.bricks[i.id]=r.nativeElement}onMasonryContainerCreate(r){this.masonryContainer=r.nativeElement,this.updateLayout()}onResize(){this.updateLayout()}areBrickButtonsVisible(){return vi.isLargeScreen()&&!this.stateService.groupEditorGroup}};e.\u0275fac=function(i){return new(i||e)(x(rt),x(ot),x(Fa),x(jr))},e.\u0275cmp=K({type:e,selectors:[["app-masonry"]],hostBindings:function(i,o){i&1&&C("resize",function(){return o.onResize()},!1,TC)},standalone:!0,features:[Y],decls:4,vars:1,consts:[[1,"masonry-scroll-container"],[1,"masonry-container",3,"create"],["class","masonry-brick",3,"style","opacity","click",4,"ngFor","ngForOf"],[1,"masonry-brick",3,"click"],[1,"brick-container"],[3,"src","create","load"],["imageElement",""],[4,"ngIf"],[1,"brick-header"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],[1,"brick-footer"],["tp","Open in Google Drive",1,"icon-button","fa-brands","fa-google-drive",3,"click"],["tp","Open Yandex RIS",1,"icon-button","fa-brands","fa-yandex-international",3,"click"],["class","icon-button active fa-solid fa-object-group","tp","Open Group Manager",3,"click",4,"ngIf"],["tp","Open Group Manager",1,"icon-button","active","fa-solid","fa-object-group",3,"click"]],template:function(i,o){i&1&&(Z(0,"app-header"),m(1,"div",0)(2,"div",1),C("create",function(a){return o.onMasonryContainerCreate(a)}),U(3,eG,5,7,"div",2),g()()),i&2&&(y(3),w("ngForOf",o.masonryImages))},dependencies:[J,Dt,He,Oe,BM,Hn,$M],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:scroll;background-color:var(--color-background-primary);height:100%;padding:1px .3333333333rem .3333333333rem}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{border-right:1px solid var(--color-border)}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]{position:absolute;transition-property:top,left;transition-duration:.5s;padding-bottom:.3333333333rem;transition:opacity .5s;cursor:pointer}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]{border-radius:.3333333333rem;width:100%;height:100%;display:flex;background-color:var(--color-background-secondary);transition-property:outline,background-color;transition-duration:.5s;outline:1px solid transparent}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;-webkit-user-select:none;user-select:none;border-radius:.3333333333rem;contain:size;opacity:0;transition-property:opacity,margin;transition-duration:.5s}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]:hover   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]:hover   .brick-footer[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:1;pointer-events:all}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]{width:100%;position:absolute;display:flex;padding:.3333333333rem;box-sizing:border-box;-webkit-user-select:none;user-select:none;justify-content:center;align-items:center}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:0;pointer-events:none}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.no-hover[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button.no-hover[_ngcontent-%COMP%]{cursor:default!important;border-color:transparent!important;background-color:transparent!important}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%]{opacity:1;pointer-events:all}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]{top:0}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]{bottom:0;padding-bottom:.6666666666rem}"],data:{animation:[Ra]}});let t=e;return t})();var zM=(()=>{let e=class e{constructor(r,i){this.applicationService=r,this.stateService=i,this.applicationService.loading.set(!0)}ngOnInit(){this.stateService.processData()}};e.\u0275fac=function(i){return new(i||e)(x(rt),x(ot))},e.\u0275cmp=K({type:e,selectors:[["app-gallery"]],standalone:!0,features:[Y],decls:3,vars:3,consts:[[1,"stack-container"]],template:function(i,o){i&1&&(m(0,"div",0),Z(1,"app-masonry")(2,"app-fullscreen"),g()),i&2&&(y(),w("@enter",void 0),y(),Fe("transparent",!o.stateService.target()))},dependencies:[J,HM,UM],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden;position:relative;display:flex}"],data:{animation:[sM]}});let t=e;return t})();var vs=class{static random(e,n){return Math.random()*(n?n-e:e)+(n?e:0)}static from(e,n){return n&&(Array.isArray(n)?e=e.filter(r=>!n.includes(r)):e=e.filter(r=>r!=n)),e[Math.floor(this.random(e.length))]}static percentage(e){return Math.random()<e/100}static oneIn(e){return Math.random()<1/e}static color(){let e=(Math.random()+.618033988749895)%1,n=this.random(.4,.6),r=.95,i=Math.floor(e*6),o=e*6-i,s=r*(1-n),a=r*(1-o*n),c=r*(1-(1-o)*n),l,u,d;switch(i%6){case 0:l=r,u=c,d=s;break;case 1:l=a,u=r,d=s;break;case 2:l=s,u=r,d=c;break;case 3:l=s,u=a,d=r;break;case 4:l=c,u=s,d=r;break;case 5:l=r,u=s,d=a;break}return"#"+Math.round(l*255).toString(16)+Math.round(u*255).toString(16)+Math.round(d*255).toString(16)}};function tG(t,e){if(t&1){let n=Q();m(0,"div",5)(1,"div",6)(2,"span"),k(3,"po\u010Det t\xEDmov"),g(),m(4,"input",7,8),C("input",function(){S(n);let i=Ke(5),o=E();return A(o.onTeamCountChange(i))}),g()(),m(6,"div",6)(7,"span"),k(8,"trvanie kola"),g(),m(9,"input",7,9),C("input",function(){S(n);let i=Ke(10),o=E();return A(o.onRoundDurationChange(i))}),g()(),m(11,"span",10),C("click",function(){S(n);let i=E();return A(i.settingsDone())}),k(12,"\u0161tart"),g()()}if(t&2){let n=E();y(4),w("value",4),y(5),w("value",60),y(2),Fe("disabled",!n.validateSettings())}}function nG(t,e){t&1&&(m(0,"span"),k(1,"pre v\u0161etk\xFDch"),g())}function rG(t,e){if(t&1){let n=Q();m(0,"div",11),U(1,nG,2,0,"span",12),m(2,"span"),k(3),g(),m(4,"span"),k(5),g(),m(6,"span",10),C("click",function(){S(n);let i=E();return A(i.startRound())}),k(7,"\u0161tart"),g()()}if(t&2){let n=E();y(),w("ngIf",n.isCurrentRoundForEveryone()),y(2),ye(n.getCurrentDiscipline()),y(2),ye(n.availablePhrases[0])}}function iG(t,e){if(t&1){let n=Q();m(0,"span",10),C("click",function(){S(n);let i=E(2);return A(i.endRoundEarly())}),k(1,"hotovo"),g()}}function oG(t,e){if(t&1&&(m(0,"div",13)(1,"span"),k(2),g(),U(3,iG,2,0,"span",14),g()),t&2){let n=E();y(2),ye(n.timeLeft),y(),w("ngIf",n.showEndRoundEarlyButton)}}function sG(t,e){t&1&&(m(0,"span"),k(1,"pre v\u0161etk\xFDch"),g())}function aG(t,e){if(t&1){let n=Q();m(0,"input",18,19),C("input",function(){S(n);let i=Ke(1),o=E(2);return A(o.onForEveryoneWinnerChange(i))}),g()}}function cG(t,e){if(t&1){let n=Q();m(0,"div",15),U(1,sG,2,0,"span",12),m(2,"span"),k(3),g(),m(4,"span"),k(5),g(),m(6,"div",16),U(7,aG,2,0,"input",17),m(8,"span",10),C("click",function(){S(n);let i=E();return A(i.roundOver(!0))}),k(9,"uh\xE1dli"),g()(),m(10,"span",10),C("click",function(){S(n);let i=E();return A(i.roundOver(!1))}),k(11,"neuh\xE1dli"),g()()}if(t&2){let n=E();y(),w("ngIf",n.isCurrentRoundForEveryone()),y(2),ye(n.getCurrentDiscipline()),y(2),ye(n.availablePhrases[0]),y(),Ut("gap","2rem"),y(),w("ngIf",n.isCurrentRoundForEveryone()),y(),Ut("width",100,"%"),Fe("disabled",n.isCurrentRoundForEveryone()&&!n.forEveryoneWinnerTeamIndexValid)}}function lG(t,e){if(t&1&&(m(0,"span"),k(1),g()),t&2){let n=e.$implicit,r=e.index;y(),ti("",r+1,". t\xEDm: ",n.wins,"")}}function uG(t,e){if(t&1){let n=Q();m(0,"div",20)(1,"span"),k(2,"sk\xF3re"),g(),U(3,lG,2,2,"span",21),m(4,"span",10),C("click",function(){S(n);let i=E();return A(i.currentView="instructions")}),k(5,"\u010Fa\u013E\u0161ie kolo"),g()()}if(t&2){let n=E();y(3),w("ngForOf",n.teams)}}var qM=(()=>{let e=class e{constructor(){this.phrases=["koh\xFAtik","sliepo\u010Dka","kuriatko"],this.currentView="settings",this.teamCount=4,this.teamCountValid=!0,this.roundDuration=60,this.roundDurationValid=!0,this.forEveryoneChanceOneIn=6,this.beforeRoundStartDuration=3,this.forEveryoneWinnerTeamIndexValid=!1}ngOnInit(){}onTeamCountChange(r){let i=Number.parseInt(r.value);i>=2?(this.teamCount=i,this.teamCountValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--border-color")):(this.teamCountValid=!1,r.style.borderColor="red")}onRoundDurationChange(r){let i=Number.parseInt(r.value);i>0?(this.roundDuration=i,this.roundDurationValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--border-color")):(this.roundDurationValid=!1,r.style.borderColor="red")}validateSettings(){return this.teamCountValid&&this.roundDurationValid}settingsDone(){this.validateSettings()&&this.startGame()}startGame(){this.currentView="instructions",this.currentTeamIndex=0,this.availablePhrases=N.shuffle(this.phrases.slice()),this.teams=[];for(let o=0;o<this.teamCount;o++)this.teams.push({wins:0,roundDisciplines:[],roundsForEveryone:[]});let r=Math.floor(this.phrases.length/3);for(let o=0;o<r;o++)this.teams.forEach(s=>N.push(s.roundDisciplines,N.shuffle(["hovorenie","kreslenie","ukazovanie"])));let i=Math.ceil(this.phrases.length/this.forEveryoneChanceOneIn);for(let o=0;o<i;o++)this.teams.forEach(s=>s.roundsForEveryone.push(Math.floor(vs.random(o*this.forEveryoneChanceOneIn,(o+1)*this.forEveryoneChanceOneIn))))}getCurrentDiscipline(){let r=this.teams[this.currentTeamIndex];return r.roundDisciplines[r.wins]}isCurrentRoundForEveryone(){let r=this.teams[this.currentTeamIndex];return r.roundsForEveryone.includes(r.wins)}startRound(){this.currentView="countdown",this.timeLeft=this.beforeRoundStartDuration,this.showEndRoundEarlyButton=!1,this.interval=setInterval(()=>{--this.timeLeft<1&&(clearInterval(this.interval),this.timeLeft=this.roundDuration,this.showEndRoundEarlyButton=!0,this.interval=setInterval(()=>{--this.timeLeft<1&&(clearInterval(this.interval),this.currentView="result")},1e3))},1e3)}endRoundEarly(){clearInterval(this.interval),this.currentView="result"}onForEveryoneWinnerChange(r){let i=Number.parseInt(r.value);i>0&&i<=this.teams.length?(this.forEveryoneWinnerTeamIndex=i-1,this.forEveryoneWinnerTeamIndexValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--border-color")):(this.forEveryoneWinnerTeamIndexValid=!1,r.style.borderColor="red")}roundOver(r){this.availablePhrases.shift(),r&&this.teams[this.forEveryoneWinnerTeamIndex||this.currentTeamIndex].wins++,this.forEveryoneWinnerTeamIndex=null,++this.currentTeamIndex==this.teamCount&&(this.currentTeamIndex=0),this.currentView="score"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=K({type:e,selectors:[["app-activity"]],standalone:!0,features:[Y],decls:5,vars:5,consts:[["class","settings-container",4,"ngIf"],["class","instructions-container",4,"ngIf"],["class","countdown-container",4,"ngIf"],["class","result-container",4,"ngIf"],["class","score-container",4,"ngIf"],[1,"settings-container"],[1,"flex","column","gap"],["type","number",3,"value","input"],["teamCountInput",""],["roundDurationInput",""],[1,"button",3,"click"],[1,"instructions-container"],[4,"ngIf"],[1,"countdown-container"],["class","button",3,"click",4,"ngIf"],[1,"result-container"],[1,"flex","column","center"],["type","number","placeholder","ktor\xFD t\xEDm uh\xE1dol?",3,"input",4,"ngIf"],["type","number","placeholder","ktor\xFD t\xEDm uh\xE1dol?",3,"input"],["forEveryoneWinnerInput",""],[1,"score-container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&U(0,tG,13,4,"div",0)(1,rG,8,3,"div",1)(2,oG,4,2,"div",2)(3,cG,12,10,"div",3)(4,uG,6,1,"div",4),i&2&&(w("ngIf",o.currentView=="settings"),y(),w("ngIf",o.currentView=="instructions"),y(),w("ngIf",o.currentView=="countdown"),y(),w("ngIf",o.currentView=="result"),y(),w("ngIf",o.currentView=="score"))},dependencies:[J,He,Oe,vn],styles:["[_nghost-%COMP%]{font-size:2rem}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]{width:fit-content;display:flex;flex-direction:column;gap:1.9999999998rem}[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]   span.button[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .instructions-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.9999999998rem;align-items:center}[_nghost-%COMP%]   .countdown-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.9999999998rem}[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;gap:1.9999999998rem}[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .score-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.9999999999rem}"]});let t=e;return t})();var GM=["nikdy som si neochutnal \u0161u\u0161e\u0148","nikdy som neukradol nie\u010Do nad 10 eur","nikdy som nepodaroval dar\u010Dek \u010Falej","nikdy som neupchal toaletu na n\xE1v\u0161teve","nikdy som neprezradil niekoho tajomstvo","nikdy som si nevytvoril falo\u0161n\xFD profil na soci\xE1lnej sieti","nikdy som sa ako dospel\xFD tak nesmial, \u017Ee som sa pocikal","nikdy som sa ako dospel\xFD neposral","nikdy som sa netv\xE1ril, \u017Ee som si zabudol pe\u0148a\u017Eenku, lebo som nechcel plati\u0165","nikdy som nepochyboval o svojej sexu\xE1lnej orient\xE1cii","nikdy som nesledoval susedov \u010Falekohladom","nikdy som si neprdol v uzavretom priestore a tv\xE1ril sa, akoby sa ni\u010D nestalo","nikdy som nemusel uteka\u0165 o \u017Eivot","nikdy som sa nemusel v nebezpe\u010Dnej situ\xE1cii schov\xE1va\u0165","nikdy som nepokreslil spiaceho kamar\xE1ta","nikdy som nezaspal opit\xFD na verejnosti","nikdy som sa nevkradol na cudziu p\xE1rty, kde som nikoho nepoznal","nikdy som sa neodmietol \xEDs\u0165 na k\xFApalisko preto, \u017Ee som sa hanbil za svoju postavu","nikdy som sa z hlboka nenad\xFDchol svojho prdu","nikdy som nebol vyhoden\xFD z podniku","nikdy som neochutnal \u017Er\xE1dlo pre zvierat\xE1","nikdy som po\u010Das tejto hry neklamal","nikdy som sa aspo\u0148 3 dni neosprchoval","nikdy som si aspo\u0148 3 dni neumyl zuby","nikdy som nikoho nepodplatil","nikdy som nebol na verejnosti \xFAplne nah\xFD","nikdy som nenast\xFApil do nespr\xE1vneho autobusu","nikdy som sa nepozeral na svoju ri\u0165 v zrkadle"],WM=["nikdy som si nezaplatil za porno","nikdy som nikoho nepodviedol","nikdy som sa nevyka\u0161lal na rande bez ozn\xE1menia","nikdy som nikomu omylom neposlal nah\xFA fotku","nikdy som nek\xFApil drink niekomu, koho som nepoznal","nikdy som nebol na rande s viacero osobami za jeden de\u0148","nikdy som nehladal vz\u0165ah na zoznamke","nikdy som nehladal sex na zoznamke","nikdy som neh\u013Eadal n\xE1vod, ako niekoho zbali\u0165","nikdy som neh\u013Eadal n\xE1vod, ako sa bozk\xE1va\u0165","nikdy som neh\u013Eadal n\xE1vod, ako ma\u0165 sex","nikdy som nepo\u010Dul susedov alebo spolub\xFDvaj\xFAcich ma\u0165 sex","nikdy som si nemusel zakr\xFDva\u0165 cucflek","nikdy som s niek\xFDm neflirtoval len preto, aby niekto in\xFD \u017Eiarlil","nikdy som nebol v gay bare","nikdy som opit\xFD nep\xEDsal ex, \u017Ee mi ch\xFDba","nikdy som net\xFA\u017Eil po partnerke svojho kamar\xE1ta","nikdy som si s nik\xFDm neporovn\xE1val svoju p\xFDchu alebo prsia"],KM=["nikdy som si pri sexe nepredstavoval, \u017Ee som s niekym in\xFDm","nikdy som nemal sex s niek\xFDm, kde vekov\xFD rozdiel bol aspo\u0148 5 rokov","nikdy som s nik\xFDm nestr\xE1vil cel\xFD de\u0148 v posteli","nikdy som nemal sex, ke\u010F sa na n\xE1s pozeralo dom\xE1ce zvieratko","nikdy som nemal sex s osobou rovnak\xE9ho pohlavia","nikdy som nikomu neplatil za sex","nikdy som nemal erotick\xE9 predstavy o niekom z tejto miestnosti","nikdy som nemal sex vo v\xFD\u0165ahu","nikdy som nemal sex v sk\xFA\u0161obnej kab\xEDnke","nikdy som nemal sex v aute","nikdy som nemal sex v pr\xEDrode","nikdy som nemal sex na pl\xE1\u017Ei","nikdy som nemal sex na z\xE1chodoch","nikdy som nikomu nerobil stript\xEDz","nikdy som nepou\u017Eil erotick\xFA hra\u010Dku alebo pom\xF4cku","nikdy som nenosil spodn\xE9 pr\xE1dlo opa\u010Dn\xE9ho pohlavia","nikdy som sa nepok\xFA\u0161al nie\u010Do si vopcha\u0165 do zadku","nikdy som nesk\xFAsil nie\u010Do z BDSM","nikdy som nesk\xFAsil roleplay","nikdy som sa nezobudil na or\xE1lny sex","nikdy som nerealizoval svoje sexu\xE1lne fant\xE1zie","nikdy som nemal sex bez ochrany","nikdy sme si s in\xFDm p\xE1rom nevymenili partnerky","nikdy som ned\xE1val partnerke mas\xE1\u017E cel\xE9ho tela","nikdy som nebol na mas\xE1\u017Ei cel\xE9ho tela"];var QM=(()=>{let e=class e{constructor(){this.availableQuestions=[]}ngOnInit(){this.reset()}reset(){this.availableQuestions.length=0,N.push(this.availableQuestions,GM),N.push(this.availableQuestions,WM),N.push(this.availableQuestions,KM),N.shuffle(this.availableQuestions),this.next()}next(){this.currentQuestion=this.availableQuestions.pop()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=K({type:e,selectors:[["app-nikdy-som"]],standalone:!0,features:[Y],decls:3,vars:1,consts:[[1,"container",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0),C("click",function(){return o.next()}),m(1,"span"),k(2),g()()),i&2&&(y(2),ye(o.currentQuestion))},dependencies:[J],styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:100%;display:block;text-align:center;align-content:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;mix-blend-mode:difference;-webkit-user-select:none;user-select:none;font-size:64px}"]});let t=e;return t})();var YM=(()=>{let e=class e{constructor(){this.limbs=["prav\xE1 ruka","\u013Eav\xE1 ruka","prav\xE1 noha","\u013Eav\xE1 noha"],this.colors=[["\u010Derven\xE1","red"],["zelen\xE1","limegreen"],["modr\xE1","blue"],["\u017Elt\xE1","yellow"]]}ngOnInit(){this.spin()}spin(){this.limb=vs.from(this.limbs,this.limb),[this.color,this.backgroundColor]=vs.from(this.colors)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=K({type:e,selectors:[["app-twister"]],standalone:!0,features:[Y],decls:3,vars:4,consts:[[1,"container",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0),C("click",function(){return o.spin()}),m(1,"span"),k(2),g()()),i&2&&(Ut("background-color",o.backgroundColor),y(2),ti("",o.limb," ",o.color,""))},dependencies:[J],styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:100%;display:block;text-align:center;align-content:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;mix-blend-mode:difference;-webkit-user-select:none;user-select:none;font-size:64px}"]});let t=e;return t})();function dG(t,e){if(t&1){let n=Q();Je(0),m(1,"span",1),C("click",function(){S(n);let i=E();return A(i.navigate("gallery"))}),k(2,"Gallery"),g(),m(3,"span",1),C("click",function(){S(n);let i=E();return A(i.navigate("story-manager"))}),k(4,"Story Manager"),g(),m(5,"span",1),C("click",function(){S(n);let i=E();return A(i.navigate("comparison"))}),k(6,"Comparison"),g(),Ze()}}var XM=(()=>{let e=class e{constructor(r,i){this.router=r,this.applicationService=i,this.dev=0}ngOnInit(){}navigate(r){sessionStorage.setItem("appId",r),this.router.navigate([r])}};e.\u0275fac=function(i){return new(i||e)(x(gn),x(rt))},e.\u0275cmp=K({type:e,selectors:[["app-landing"]],standalone:!0,features:[Y],decls:12,vars:2,consts:[[1,"column"],[1,"button",3,"click"],[4,"ngIf"],[1,"v-separator"],["tp","Toggle Theme",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"dev-container",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"span",1),C("click",function(){return o.navigate("games/activity")}),k(2,"Activity"),g(),m(3,"span",1),C("click",function(){return o.navigate("games/twister")}),k(4,"Twister"),g(),m(5,"span",1),C("click",function(){return o.navigate("games/nikdy-som")}),k(6,"Nikdy som"),g(),U(7,dG,7,0,"ng-container",2),g(),Z(8,"div",3),m(9,"div",0)(10,"i",4),C("click",function(){return o.applicationService.toggleTheme()}),g()(),m(11,"div",5),C("click",function(){return o.dev=o.dev+1}),g()),i&2&&(y(7),w("ngIf",o.dev>4),y(3),w("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"))},dependencies:[J,Dt,Oe],styles:["[_nghost-%COMP%]{display:flex;gap:.3333333333rem}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.3333333333rem}.column[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%;cursor:pointer;-webkit-user-select:none;user-select:none;background-color:var(--color-hover)}.dev-container[_ngcontent-%COMP%]{height:100px;position:absolute;right:0;bottom:0;left:0}"]});let t=e;return t})();var JM="https://mazacik.github.io",A0={production:!0,baseUrl:JM,redirectUrl:JM+"/login"};var ja=(()=>{let e=class e{constructor(r){this.http=r,this.CLIENT_ID="692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com",this.CLIENT_SECRET="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"}getAccessToken(){return this.accessToken}startAuthentication(){let s="https://accounts.google.com/o/oauth2/v2/auth?redirect_uri="+A0.redirectUrl+"&prompt=consent&response_type=code&client_id="+"692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com"+"&scope="+"https://www.googleapis.com/auth/drive"+"&access_type=offline";window.location=s}requestTokens(r){return _(this,null,function*(){let i="https://accounts.google.com/o/oauth2/token",o={"content-type":"form-data",grant_type:"authorization_code",code:r,client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET,redirect_uri:A0.redirectUrl,plugin_name:"TagalleryWeb"};yield Ou(this.http.post(i,o)).then(s=>{s&&(this.accessToken=s.access_token,this.refreshToken=s.refresh_token,window.localStorage.setItem("googleRefreshToken",this.refreshToken))}).catch(s=>s)})}requestAccessToken(){return _(this,null,function*(){let r="https://accounts.google.com/o/oauth2/token",i={grant_type:"refresh_token",refresh_token:this.getRefreshToken(),client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET};return yield Ou(this.http.post(r,i)).then(o=>{o&&(this.accessToken=o.access_token)}).catch(o=>o),this.accessToken})}getRefreshToken(){return this.refreshToken||(this.refreshToken=window.localStorage.getItem("googleRefreshToken")),this.refreshToken}};e.\u0275fac=function(i){return new(i||e)(L(Vo))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ZM=(()=>{let e=class e{constructor(r,i,o){this.route=r,this.router=i,this.authenticationService=o}ngAfterViewInit(){this.route.queryParams.subscribe(r=>{let i=r.code;i&&this.authenticationService.requestTokens(i).finally(()=>{this.router.navigate([sessionStorage.getItem("appId")||""])})})}signIn(){this.authenticationService.startAuthentication()}};e.\u0275fac=function(i){return new(i||e)(x(ro),x(gn),x(ja))},e.\u0275cmp=K({type:e,selectors:[["app-login"]],decls:4,vars:0,consts:[[1,"sign-in-button",3,"click"],["src","assets/google-logo.svg"],[1,"sign-in-text"]],template:function(i,o){i&1&&(m(0,"div",0),C("click",function(){return o.signIn()}),Z(1,"img",1),m(2,"span",2),k(3,"Sign in with Google"),g()())},styles:["[_nghost-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]{width:18px;height:18px}.sign-in-button[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;gap:8px;padding:0 12px;cursor:pointer;background-color:#fff;border:1px solid #dadce0;border-radius:4px;-webkit-user-select:none;user-select:none}.sign-in-button[_ngcontent-%COMP%]:hover{background:#f8faff;border-color:#d2e3fc}.sign-in-text[_ngcontent-%COMP%]{color:#3c4043;font-family:Google Sans,arial,sans-serif;font-size:14px;letter-spacing:.25px}"]});let t=e;return t})();var rp=(t,e)=>_(void 0,null,function*(){sessionStorage.setItem("appId",t.url.join("")),console.log("guard: start");let n=O(gn),r=O(ja);if(r.getAccessToken())return console.log("guard: has access token, return true"),!0;if(console.log("guard: no access token"),r.getRefreshToken()){if(console.log("guard: has refresh token"),yield r.requestAccessToken())return console.log("guard: got access token from refresh token, return true"),!0;console.log("guard: could not get access token from refresh token")}return console.log("guard: return false"),n.navigate(["login"])});var eP=(t,e)=>{let n=O(gn),r=sessionStorage.getItem("dataFileId");return Nt.isEmpty(r)?n.createUrlTree(["/folder-picker"]):!0};var tP=(t,e)=>{for(let n of["FB_IAB","FBAN","FBAV","FB4A","MESSENGER"])if(navigator.userAgent.includes(n))return!0;return O(gn).createUrlTree([""])};var nP=(()=>{let e=class e{constructor(){this.crossfade=!0,this.userAgent=window.navigator.userAgent}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=K({type:e,selectors:[["app-fuck-messenger-browser"]],hostVars:1,hostBindings:function(i,o){i&2&&kg("@crossfade",o.crossfade)},standalone:!0,features:[Y],decls:7,vars:1,consts:[[1,"user-agent"],["src","/assets/fuck-messenger-browser.jpg",1,"picture"]],template:function(i,o){i&1&&(m(0,"span",0),k(1),g(),m(2,"span"),k(3,"Prehliada\u010D v aplik\xE1cii Messenger nesp\u013A\u0148a modern\xE9 \u0161tandardy a ned\xE1 sa v \u0148om prihl\xE1si\u0165 do \xFA\u010Dtu Google."),g(),m(4,"span"),k(5,"Vpravo hore by malo by\u0165 tla\u010D\xEDtko, ktor\xE9 ti str\xE1nku otvor\xED v norm\xE1lnom prehliada\u010Di."),g(),Z(6,"img",1)),i&2&&(y(),ye(o.userAgent))},dependencies:[J,vn],styles:["[_nghost-%COMP%]{height:100vh;width:100vw;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1.3333333332rem 0;text-align:center;gap:2rem;margin:0 .6666666666rem;position:relative;box-sizing:border-box}[_nghost-%COMP%]   .user-agent[_ngcontent-%COMP%]{font-size:.667rem;position:absolute;top:.667rem}[_nghost-%COMP%]   .picture[_ngcontent-%COMP%]{max-width:100%}"],data:{animation:[oM]}});let t=e;return t})();var lo=(()=>{let e=class e{constructor(){this.sidebarVisible=!0}initialize(r){if(r&&!N.isEmpty(r.stories)){this.stories=r.stories,this.currentStory=this.stories[0],N.isEmpty(this.currentStory.notes)||(this.currentNote=N.getFirst(this.currentStory.notes));for(let i of this.stories)for(let o of i.notes)o.parent=i,o.wordCount=Nt.getWordCount(o.text)}this.stories||(this.stories=[])}serialize(){return{stories:this.stories.map(r=>({title:r.title,notes:r.notes.map(i=>({title:i.title,text:i.text,tags:i.tags})),noteTags:r.noteTags}))}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var uo=(()=>{let e=class e extends ka{constructor(r,i,o,s){super(r),this.http=r,this.applicationService=i,this.stateService=o,this.dialogService=s,this.delay=new ao(3e3),this.FILE_ID="1ydFjvWYG3p-m3S_gDodNJbc0Cyeqv82Z",this.FIELDS="id,name,mimeType,appProperties"}request(){let r=this.getContent(this.FILE_ID);return r.catch(i=>{this.applicationService.errors.set(!0),this.dialogService.createMessage("Error",["Google Drive Error, check console."]),console.log(i)}),r}update(r=!1){this.applicationService.changes.set(!0);let i=()=>{this.updateContent(this.FILE_ID,JSON.stringify(this.stateService.serialize())).then(()=>{this.applicationService.errors.set(!1)}).catch(o=>{this.applicationService.errors.set(!0),this.dialogService.createMessage("Error",["Google Drive Error, check console."]),console.log(o)}).finally(()=>{this.applicationService.changes.set(!1)})};r?(this.delay.stop(),i()):this.delay.restart(()=>i())}};e.\u0275fac=function(i){return new(i||e)(L(Vo),L(rt),L(lo),L(ft))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fG(t,e){if(t&1){let n=Q();m(0,"div",6),C("click",function(){let o=S(n).$implicit,s=E();return A(s.remove(o))}),m(1,"i",7),C("click",function(i){let s=S(n).$implicit;return E().editTag(s),A(i.stopPropagation())}),g(),m(2,"span"),k(3),g(),Z(4,"i",8),g()}if(t&2){let n=e.$implicit,r=E();w("dragdrop",n)("dragdropParent",r.currentTags),y(3),ye(n)}}function pG(t,e){if(t&1){let n=Q();m(0,"div",9),C("click",function(){let o=S(n).$implicit,s=E();return A(s.add(o))}),Z(1,"i",10),m(2,"span"),k(3),g(),m(4,"div",11)(5,"i",7),C("click",function(i){let s=S(n).$implicit;return E().editTag(s),A(i.stopPropagation())}),g(),m(6,"i",12),C("click",function(i){let s=S(n).$implicit;return E().deleteTag(s),A(i.stopPropagation())}),g()()()}if(t&2){let n=e.$implicit;y(3),ye(n)}}var rP=(()=>{let e=class e extends it{constructor(r,i){super(),this.dialogService=r,this.googleService=i,this.configuration={title:"Tag Manager",buttons:[{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Save",click:()=>this.submit()}]}}ngOnInit(){this.inputs.note.tags?this.currentTags=this.inputs.note.tags.slice():this.currentTags=[],this.availableTags=this.inputs.note.parent.noteTags.filter(r=>!this.currentTags.includes(r))}add(r){this.currentTags.push(r),N.remove(this.availableTags,r)}remove(r){N.remove(this.currentTags,r),this.availableTags.push(r),this.availableTags.sort((i,o)=>i.localeCompare(o))}editTag(r){this.dialogService.createInput("Tag","Tag Title",r,"OK").then(i=>{if(!Nt.isEmpty(i)){if(this.inputs.note.parent.noteTags.includes(i))return;r?i!=r&&(this.currentTags.includes(r)?(N.remove(this.currentTags,r),this.currentTags.push(i),this.currentTags.sort((o,s)=>o.localeCompare(s))):(N.remove(this.availableTags,r),this.availableTags.push(i),this.availableTags.sort((o,s)=>o.localeCompare(s))),N.remove(this.inputs.note.parent.noteTags,r),this.inputs.note.parent.noteTags.push(i),this.inputs.note.parent.noteTags.sort((o,s)=>o.localeCompare(s))):(this.availableTags.push(i),this.availableTags.sort((o,s)=>o.localeCompare(s)),this.inputs.note.parent.noteTags.push(i),this.inputs.note.parent.noteTags.sort((o,s)=>o.localeCompare(s))),this.googleService.update(!0)}})}deleteTag(r){this.dialogService.createConfirmation("Delete",['Are you sure you want to delete "'+r+'"?'],"Yes","No").then(i=>{i&&(this.currentTags.includes(r)?N.remove(this.currentTags,r):N.remove(this.availableTags,r),this.inputs.note.parent.notes.forEach(o=>N.remove(o.tags,r)),N.remove(this.inputs.note.parent.noteTags,r),this.googleService.update(!0))})}submit(){this.resolve(this.currentTags)}close(){this.resolve(null)}};e.\u0275fac=function(i){return new(i||e)(x(ft),x(uo))},e.\u0275cmp=K({type:e,selectors:[["app-note-tag-manager"]],standalone:!0,features:[$e,Y],decls:12,vars:2,consts:[[1,"flex","column","gap"],[1,"h-separator"],["class","tag-container-current",3,"dragdrop","dragdropParent","click",4,"ngFor","ngForOf"],[1,"v-separator"],["class","tag-container-available",3,"click",4,"ngFor","ngForOf"],[1,"icon-button-small","fa-solid","fa-plus","create-tag-button",3,"click"],[1,"tag-container-current",3,"dragdrop","dragdropParent","click"],[1,"icon-button-small","fa-solid","fa-pen-to-square",3,"click"],[1,"fa-solid","fa-caret-right",2,"justify-self","end"],[1,"tag-container-available",3,"click"],[1,"fa-solid","fa-caret-left"],[1,"flex",2,"justify-content","end"],[1,"icon-button-small","fa-solid","fa-trash",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"span"),k(2,"Tags"),g(),Z(3,"div",1),U(4,fG,5,3,"div",2),g(),Z(5,"div",3),m(6,"div",0)(7,"span"),k(8,"Available Tags"),g(),Z(9,"div",1),U(10,pG,7,1,"div",4),m(11,"i",5),C("click",function(){return o.editTag()}),g()()),i&2&&(y(4),w("ngForOf",o.currentTags),y(6),w("ngForOf",o.availableTags))},dependencies:[J,He,Va],styles:["[_nghost-%COMP%]{min-width:650px;min-height:350px;display:grid;grid-template-columns:1fr auto 1fr;grid-auto-rows:min-content;gap:.3333333333rem;padding:.6666666666rem}[_nghost-%COMP%] > .v-separator[_ngcontent-%COMP%]{min-height:350px}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;gap:.3333333333rem;cursor:pointer;align-items:center}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;text-align:center}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{visibility:visible}[_nghost-%COMP%]   .create-tag-button[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();function mG(t,e){t&1&&Z(0,"div",31)}function gG(t,e){if(t&1&&(Je(0),U(1,mG,1,0,"div",29),m(2,"span",30),k(3),g(),Ze()),t&2){let n=e.$implicit,r=e.index;y(),w("ngIf",r!=0),y(2),ye(n)}}function vG(t,e){if(t&1){let n=Q();m(0,"div",20),C("click",function(){let o=S(n).$implicit,s=E(3);return A(s.setCurrentNote(o))})("dragend",function(){S(n);let i=E(3);return A(i.googleService.update())}),m(1,"div",21)(2,"span",22),k(3),g(),m(4,"div",23),U(5,gG,4,2,"ng-container",24),g()(),m(6,"div",25)(7,"span",26),k(8),g(),m(9,"div",27)(10,"i",28),C("click",function(i){let s=S(n).$implicit;return E(3).editTags(s),A(i.stopPropagation())}),g(),m(11,"i",13),C("click",function(i){let s=S(n).$implicit;return E(3).renameNote(s),A(i.stopPropagation())}),g(),m(12,"i",14),C("click",function(i){let s=S(n).$implicit,a=E(2).$implicit;return E().deleteNote(a,s),A(i.stopPropagation())}),g()()()()}if(t&2){let n=e.$implicit,r=E(2).$implicit,i=E();w("dragdrop",n)("dragdropParent",r.notes),y(2),Fe("highlight",n==i.stateService.currentNote)("negative",i.searchNotes.includes(n)),y(),ye(n.title),y(2),w("ngForOf",n.tags),y(3),ye(n.wordCount)}}function yG(t,e){if(t&1){let n=Q();m(0,"div",16),U(1,vG,13,9,"div",17),m(2,"div",18)(3,"i",19),C("click",function(i){S(n);let o=E().$implicit;return E().createNote(o),A(i.stopPropagation())}),g()()()}if(t&2){let n=E().$implicit;w("@drawer",void 0),y(),w("ngForOf",n.notes)}}function _G(t,e){if(t&1){let n=Q();m(0,"div",7)(1,"div",8),C("click",function(){let o=S(n).$implicit,s=E();return A(s.setCurrentStory(o))})("dragend",function(){S(n);let i=E();return A(i.googleService.update())}),m(2,"span",9),k(3),g(),m(4,"div",10)(5,"span",11),k(6),g(),m(7,"div",12)(8,"i",13),C("click",function(i){let s=S(n).$implicit;return E().renameStory(s),A(i.stopPropagation())}),g(),m(9,"i",14),C("click",function(i){let s=S(n).$implicit;return E().deleteStory(s),A(i.stopPropagation())}),g()()()(),U(10,yG,4,2,"div",15),g()}if(t&2){let n=e.$implicit,r=E();y(),w("dragdrop",n)("dragdropParent",r.stateService.stories),y(),Fe("highlight",n==(r.stateService.currentNote==null?null:r.stateService.currentNote.parent))("negative",r.searchStories.includes(n)),y(),ye(n.title),y(3),ye(r.getNotesWordCount(n)),y(4),w("ngIf",n==r.stateService.currentStory)}}var iP=(()=>{let e=class e{constructor(r,i,o){this.dialogService=r,this.googleService=i,this.stateService=o,this.searchStories=[],this.searchNotes=[]}ngOnInit(){}setCurrentNote(r){this.setCurrentStory(r.parent),this.stateService.currentNote=r,vi.isLargeScreen()||(this.stateService.sidebarVisible=!1)}setCurrentStory(r){this.stateService.currentStory=r}createStory(){this.dialogService.createInput("Story Title","Title",null,"OK").then(r=>{r&&(this.stateService.stories.push({title:r,notes:[],noteTags:[]}),this.googleService.update(!0))})}renameStory(r){this.dialogService.createInput("Rename","Story Title",r.title,"OK").then(i=>{Nt.isEmpty(i)||(r.title=i,this.googleService.update(!0))})}deleteStory(r){this.dialogService.createConfirmation("Delete",['Are you sure you want to delete "'+r.title+'"?'],"Yes","No").then(i=>{i&&(r==this.stateService.currentStory&&this.setCurrentStory(N.nearestRightFirst(this.stateService.stories,this.stateService.stories.indexOf(r))),N.remove(this.stateService.stories,r),this.googleService.update())})}getNotesWordCount(r){let i=r.notes.flatMap(o=>o.wordCount).reduce((o,s)=>o+s,0);return i>0?i+"":""}editTags(r){this.dialogService.create(rP,{note:r}).then(i=>{i&&Array.isArray(i)&&(r.tags=i,this.googleService.update(!0))})}createNote(r){this.dialogService.createInput("Note Title","Title",null,"OK").then(i=>{if(i){let o={title:i,text:"",tags:[],wordCount:0,parent:r};r.notes.push(o),this.stateService.currentNote=o,this.stateService.currentStory=r,this.googleService.update(!0)}})}renameNote(r){this.dialogService.createInput("Rename","Note Title",r.title,"OK").then(i=>{Nt.isEmpty(i)||(r.title=i,this.googleService.update(!0))})}deleteNote(r,i){let o=r.notes;this.dialogService.createConfirmation("Delete",['Are you sure you want to delete "'+i.title+'"?'],"Yes","No").then(s=>{s&&(i==this.stateService.currentNote&&(this.stateService.currentNote=null),N.remove(o,i),this.googleService.update(!0))})}onSearchInputChange(r){if(this.searchQuery=r.value,this.searchStories.length=0,this.searchNotes.length=0,!Nt.isEmpty(this.searchQuery))for(let i of this.stateService.stories)for(let o of i.notes)o.text.match(new RegExp(this.searchQuery,"i"))&&(N.push(this.searchStories,i),N.push(this.searchNotes,o))}};e.\u0275fac=function(i){return new(i||e)(x(ft),x(uo),x(lo))},e.\u0275cmp=K({type:e,selectors:[["app-sidebar"]],standalone:!0,features:[Y],decls:8,vars:1,consts:[["placeholder","Search",1,"desktop-only","search-input",3,"input","focus"],["searchInput",""],[1,"h-separator","margins"],[1,"content-container","y-scrollbar-container"],["class","story-container",4,"ngFor","ngForOf"],[1,"button-container"],["tp","Create Story",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"story-container"],[1,"story-label-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"story-label"],[1,"story-info"],[1,"story-notes-word-count"],[1,"story-buttons"],["tp","Rename",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Delete",1,"icon-button","fa-solid","fa-times",3,"click"],["class","notes-container",4,"ngIf"],[1,"notes-container"],["class","note-container",3,"dragdrop","dragdropParent","click","dragend",4,"ngFor","ngForOf"],[1,"flex","center","gap"],["tp","Create Note",1,"icon-button","fa-solid","fa-plus",2,"align-self","center",3,"click"],[1,"note-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"note-title-container"],[1,"note-title"],[1,"note-tag-container"],[4,"ngFor","ngForOf"],[1,"note-info-container","stack-container"],[1,"note-word-count"],[1,"note-buttons"],["tp","Tags",1,"icon-button","fa-solid","fa-tag",3,"click"],["class","v-separator",4,"ngIf"],[2,"text-wrap","nowrap"],[1,"v-separator"]],template:function(i,o){if(i&1){let s=Q();m(0,"input",0,1),C("input",function(){S(s);let c=Ke(1);return A(o.onSearchInputChange(c))})("focus",function(){S(s);let c=Ke(1);return A(c.select())}),g(),Z(2,"div",2),m(3,"div",3),U(4,_G,11,9,"div",4),g(),Z(5,"div",2),m(6,"div",5)(7,"i",6),C("click",function(){return o.createStory()}),g()()}i&2&&(y(4),w("ngForOf",o.stateService.stories))},dependencies:[J,He,Oe,vn,Va,Hn],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;overflow-x:hidden;overflow-y:auto}.search-input[_ngcontent-%COMP%]{border:none;text-align:center;caret-color:var(--color-text);font-variant-numeric:tabular-nums;-webkit-user-select:none;user-select:none}.search-input.error[_ngcontent-%COMP%]{color:var(--color-negative)}.content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.3333333333rem;flex:1}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]:not(:first-child){padding-top:.1666666667rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]:not(:last-child){padding-bottom:.1666666667rem;border-bottom:1px solid var(--color-border)}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:space-between;line-height:3rem;border-radius:.3333333333rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover   .story-notes-word-count[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover   .story-buttons[_ngcontent-%COMP%]{display:flex!important}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-label[_ngcontent-%COMP%]{margin:0 .3333333333rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]{text-align:end}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]   .story-notes-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]   .story-buttons[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]{display:flex;border-radius:.3333333333rem;justify-content:space-between;padding:.1666666667rem;align-items:center;cursor:pointer}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-word-count[_ngcontent-%COMP%]{visibility:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-buttons[_ngcontent-%COMP%]{visibility:visible!important}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:.6666666666rem}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .navigation-note-label[_ngcontent-%COMP%]{width:100%}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .note-tag-container[_ngcontent-%COMP%]{display:flex;font-size:10px;padding-left:.6666666666rem;gap:.3333333333rem}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]{justify-content:end}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]   .note-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem;text-align:end;align-content:center}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]   .note-buttons[_ngcontent-%COMP%]{display:flex;visibility:hidden;align-items:center}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:.3333333333rem 0;gap:.3333333333rem}"],data:{animation:[aM]}});let t=e;return t})();function wG(t,e){if(t&1){let n=Q();Je(0),m(1,"div",1)(2,"span",2),k(3),g()(),m(4,"div",3)(5,"textarea",4),ri("ngModelChange",function(i){S(n);let o=E();return ki(o.stateService.currentNote.text,i)||(o.stateService.currentNote.text=i),A(i)}),C("ngModelChange",function(){S(n);let i=E();return A(i.onChange())}),g()(),Ze()}if(t&2){let n=E();y(),Fe("focus-mode",!n.stateService.sidebarVisible),y(2),ti("",n.stateService.currentNote.parent.title," / ",n.stateService.currentNote.title,""),y(2),Fe("focus-mode",!n.stateService.sidebarVisible),ni("ngModel",n.stateService.currentNote.text)}}var oP=(()=>{let e=class e{constructor(r,i,o){this.googleService=r,this.applicationService=i,this.stateService=o,this.applicationService.loading.set(!0)}ngOnInit(){}onChange(){this.stateService.currentNote.wordCount=Nt.getWordCount(this.stateService.currentNote.text),this.googleService.update()}};e.\u0275fac=function(i){return new(i||e)(x(uo),x(rt),x(lo))},e.\u0275cmp=K({type:e,selectors:[["app-note-editor"]],standalone:!0,features:[Y],decls:1,vars:1,consts:[[4,"ngIf"],[1,"note-header"],[1,"note-title"],[1,"y-scrollbar-container"],["spellcheck","false","placeholder","Text",1,"note-content",3,"ngModel","ngModelChange"]],template:function(i,o){i&1&&U(0,wG,6,7,"ng-container",0),i&2&&w("ngIf",o.stateService.currentNote)},dependencies:[J,Oe,vn,Lr,co,gi],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;transition-property:margin;transition-duration:.5s}[_nghost-%COMP%]   .note-header[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid var(--color-border)}@media screen and (min-width: 768px){[_nghost-%COMP%]   .note-header.focus-mode[_ngcontent-%COMP%]{margin:0 25%}}[_nghost-%COMP%]   .note-header[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%]{flex:1;min-width:100px;border:0;border-radius:0;padding:.3333333333rem}[_nghost-%COMP%]   .y-scrollbar-container[_ngcontent-%COMP%]{flex:1;display:flex}[_nghost-%COMP%]   .y-scrollbar-container[_ngcontent-%COMP%]   .note-content[_ngcontent-%COMP%]{flex:1;resize:none;border:none;line-height:1.25rem;padding:.1666666667rem .3333333333rem;overflow-wrap:normal}@media screen and (min-width: 768px){[_nghost-%COMP%]   .y-scrollbar-container[_ngcontent-%COMP%]   .note-content.focus-mode[_ngcontent-%COMP%]{margin-left:25%;padding-right:25%}}"]});let t=e;return t})();var sP=(()=>{let e=class e{constructor(r,i,o){this.googleService=r,this.applicationService=i,this.stateService=o,this.countdownInputRegex=/^([0-9]*[1-9]+[0-9]*[hms])+$/gi,this.countdown={hours:0,minutes:0,seconds:0},this.focusMode=!1,this.applicationService.loading.set(!0)}ngOnInit(){this.googleService.request().then(r=>{r&&(this.stateService.initialize(r),this.applicationService.loading.set(!1))})}import(){navigator.clipboard.readText().then(r=>this.stateService.initialize(JSON.parse(r)))}export(){let r=JSON.stringify(this.stateService.serialize());navigator.clipboard.writeText(r),console.log(r)}onCountdownInputChange(r){r.value.replace(/\W/g,"").match(this.countdownInputRegex)?r.classList.remove("error"):r.classList.add("error")}onCountdownInputSubmit(r,i){if(r.key==="Enter"){let o=i.value.replace(/\W/g,"");if(o.match(this.countdownInputRegex)){i.readOnly=!0;let s=a=>a&&a.map(c=>c.replace(/\D/g,"")).reduce((c,l)=>c+Number.parseInt(l),0);this.countdown.hours=s(o.match(/\d+h/gi)),this.countdown.minutes=s(o.match(/\d+m/gi)),this.countdown.seconds=s(o.match(/\d+s/gi)),this.countdown.minutes+=+Math.floor(this.countdown.seconds/60),this.countdown.seconds%=60,this.countdown.hours+=+Math.floor(this.countdown.minutes/60),this.countdown.minutes%=60,this.countdownInterval=setInterval(()=>{this.countdown.hours>0?i.value=this.countdown.hours.toString().padStart(2,"0")+"h "+this.countdown.minutes.toString().padStart(2,"0")+"m "+this.countdown.seconds.toString().padStart(2,"0")+"s":this.countdown.minutes>0?i.value=this.countdown.minutes.toString().padStart(2,"0")+"m "+this.countdown.seconds.toString().padStart(2,"0")+"s":i.value=this.countdown.seconds.toString().padStart(2,"0")+"s",this.countdown.seconds--==0&&(this.countdown.seconds=59,this.countdown.minutes--==0&&(this.countdown.hours==0?(i.value="",i.readOnly=!1,clearInterval(this.countdownInterval)):(this.countdown.minutes=59,this.countdown.hours--)))},1e3)}}}onCountdownInputClick(r){r.readOnly&&(r.value="",r.readOnly=!1,clearInterval(this.countdownInterval))}};e.\u0275fac=function(i){return new(i||e)(x(uo),x(rt),x(lo))},e.\u0275cmp=K({type:e,selectors:[["app-story-manager"]],standalone:!0,features:[Y],decls:14,vars:10,consts:[[1,"header"],[1,"header-start"],[1,"mobile-only","icon-button","fa-solid","fa-bars",3,"click"],["tp","Focus Mode",1,"desktop-only","icon-button","fa-solid",3,"ngClass","click"],[1,"header-center"],["placeholder","Countdown",1,"desktop-only","countdown-input",3,"click","input","keypress","focus"],["countdownInput",""],[1,"header-end"],["tp","Toggle Brightness Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"content"],[1,"v-separator","desktop-only"],[1,"modules"]],template:function(i,o){if(i&1){let s=Q();m(0,"div",0)(1,"div",1)(2,"i",2),C("click",function(){return o.stateService.sidebarVisible=!o.stateService.sidebarVisible}),g(),m(3,"i",3),C("click",function(){return o.stateService.sidebarVisible=!o.stateService.sidebarVisible}),g()(),m(4,"div",4)(5,"input",5,6),C("click",function(){S(s);let c=Ke(6);return A(o.onCountdownInputClick(c))})("input",function(){S(s);let c=Ke(6);return A(o.onCountdownInputChange(c))})("keypress",function(c){S(s);let l=Ke(6);return A(o.onCountdownInputSubmit(c,l))})("focus",function(){S(s);let c=Ke(6);return A(c.select())}),g()(),m(7,"div",7)(8,"i",8),C("click",function(){return o.applicationService.toggleTheme()}),g()()(),m(9,"div",9),Z(10,"app-sidebar")(11,"div",10),m(12,"div",11),Z(13,"app-note-editor"),g()()}if(i&2){let s=Ke(6);y(3),w("ngClass",o.stateService.sidebarVisible?"fa-bullseye":"fa-circle-dot"),y(2),Fe("user-select-none",s.readOnly),y(3),w("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"),y(2),Fe("hidden",!o.stateService.sidebarVisible),y(),Fe("mobile-only",!o.stateService.sidebarVisible),y(),Fe("desktop-only",o.stateService.sidebarVisible)}},dependencies:[J,Dt,iP,oP,Hn],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;padding:.3333333333rem;gap:.3333333333rem;border-bottom:1px solid var(--color-border);justify-content:space-between}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-end[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .countdown-input[_ngcontent-%COMP%]{border:none;text-align:center;caret-color:var(--color-text);font-variant-numeric:tabular-nums;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .countdown-input.error[_ngcontent-%COMP%]{color:var(--color-negative)}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;display:flex;overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]{flex:3;width:0;display:flex;transition-property:flex;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;margin:.6666666666rem;gap:.6666666666rem;-webkit-user-select:none;user-select:none;height:-webkit-fill-available}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-end;flex:1}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{gap:.6666666666rem;display:flex;flex-direction:column;align-items:center;justify-content:center;height:33%;transition-property:opacity;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}"]});let t=e;return t})();function EG(t,e){if(t&1){let n=Q();m(0,"span",4),C("click",function(){S(n);let i=E();return A(i.parseText())}),k(1,"Parse"),g()}}function IG(t,e){if(t&1){let n=Q();m(0,"div",6)(1,"span",4),C("click",function(){S(n);let i=E(2);return A(i.onEntryClick(i.tournament.currentComparison[0],i.tournament.currentComparison[1]))}),k(2),g(),m(3,"span",4),C("click",function(){S(n);let i=E(2);return A(i.onEntryClick(i.tournament.currentComparison[1],i.tournament.currentComparison[0]))}),k(4),g()()}if(t&2){let n=E(2);y(2),ye(n.tournament.currentComparison[0].id),y(2),ye(n.tournament.currentComparison[1].id)}}function CG(t,e){if(t&1&&(Je(0),U(1,IG,5,2,"div",5),Ze()),t&2){let n=E();y(),w("ngIf",n.tournament.currentComparison)}}var aP=(()=>{let e=class e{constructor(){this.text=`13
09
04
08
15
02
06
03
01
11
16
07
12
10
14
05
`,this.entries=[],this.result=[]}ngOnInit(){}parseText(){this.entries=this.text.split(`
`).filter(r=>r?.length>0),this.tournament=new La(this.entries,r=>r),this.text=""}onEntryClick(r,i){this.tournament.handleUserInput(r,i),this.text=this.tournament.leaderboard.map(o=>o.id).join(`
`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=K({type:e,selectors:[["app-tournament"]],standalone:!0,features:[Y],decls:4,vars:5,consts:[[1,"input-container"],[3,"placeholder","ngModel","readOnly","ngModelChange"],["class","button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"button",3,"click"],["class","comparison",4,"ngIf"],[1,"comparison"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"textarea",1),ri("ngModelChange",function(a){return ki(o.text,a)||(o.text=a),a}),g(),U(2,EG,2,0,"span",2),g(),U(3,CG,2,1,"ng-container",3)),i&2&&(y(),w("placeholder",o.tournament?"Leaderboard":"Entries"),ni("ngModel",o.text),w("readOnly",o.tournament),y(),w("ngIf",!o.tournament),y(),w("ngIf",o.tournament))},dependencies:[J,Oe,vn,Lr,co,gi],styles:["[_nghost-%COMP%]{display:flex;overflow-x:hidden;width:100%;height:100%}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]{width:25%;display:flex;flex-direction:column;gap:.3333333333rem;margin:.3333333333rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;color:var(--color-text);overflow-wrap:anywhere;border-radius:.1666666667rem;box-sizing:border-box;border:1px solid var(--color-border);font-family:inherit;font-size:inherit;min-width:50px;background-color:transparent;resize:none;padding:.1666666667rem .3333333333rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus-visible{outline:initial}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex:3;overflow:hidden;gap:.3333333333rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{aspect-ratio:2}}"]});let t=e;return t})();var cP=[{path:"messenger-browser",canActivate:[tP],component:nP},{path:"login",component:ZM},{path:"story-manager",canActivate:[rp],component:sP},{path:"folder-picker",canActivate:[rp],component:PM},{path:"gallery",canActivate:[rp,eP],component:zM},{path:"comparison",component:aP},{path:"home",component:XM},{path:"games",children:[{path:"activity",component:qM},{path:"twister",component:YM},{path:"nikdy-som",component:QM},{path:"**",redirectTo:"/"}]},{path:"**",redirectTo:"home"}];var uP=(t,e)=>{let n=O(ja);return e(lP(n,t)).pipe(Gn(r=>{if(r.url.includes("googleapis.com")&&n.getRefreshToken())return console.log(r),je(n.requestAccessToken()).pipe(Ct(()=>e(lP(n,t))),Gn(i=>bi(()=>i)))}))},lP=(t,e)=>e.url.includes("googleapis.com")?e.clone({headers:e.headers.set("authorization","Bearer "+t.getAccessToken())}):e;XS(MM,{providers:[MA(),ux(cP,dx({paramsInheritanceStrategy:"always"})),tT(rT(),nT([uP])),fc(xT(()=>MT({apiKey:"AIzaSyDOAks7IYxZn0CfhQfDYp06r5rP9B-4Jc8",authDomain:"mazacik-69cda.firebaseapp.com",projectId:"mazacik-69cda",storageBucket:"mazacik-69cda.appspot.com",messagingSenderId:"43148772573",appId:"1:43148772573:web:86c8a9749dd20d99260734"}))),fc(HS(()=>zS())),fc(mD(()=>gD())),iM({defaultVariation:"tooltip",variations:{tooltip:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!1,offset:[0,8]},contextmenu:{arrow:!0,animation:"fade",trigger:"click",hideOnClick:!0,offset:[0,8],interactive:!0},hovermenu:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!0,offset:[0,8],interactive:!0},focusmenu:{arrow:!0,animation:"fade",trigger:"focus",hideOnClick:!0,offset:[0,8],interactive:!0}}})]}).catch(t=>console.error(t));
