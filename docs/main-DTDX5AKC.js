var hq=Object.create;var p_=Object.defineProperty,fq=Object.defineProperties,pq=Object.getOwnPropertyDescriptor,mq=Object.getOwnPropertyDescriptors,gq=Object.getOwnPropertyNames,f_=Object.getOwnPropertySymbols,D2=Object.getPrototypeOf,ZI=Object.prototype.hasOwnProperty,A2=Object.prototype.propertyIsEnumerable,vq=Reflect.get;var T2=(t,e,n)=>e in t?p_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,te=(t,e)=>{for(var n in e||={})ZI.call(e,n)&&T2(t,n,e[n]);if(f_)for(var n of f_(e))A2.call(e,n)&&T2(t,n,e[n]);return t},It=(t,e)=>fq(t,mq(e));var eS=(t,e)=>{var n={};for(var i in t)ZI.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&f_)for(var i of f_(t))e.indexOf(i)<0&&A2.call(t,i)&&(n[i]=t[i]);return n};var yq=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),_q=(t,e)=>{for(var n in e)p_(t,n,{get:e[n],enumerable:!0})},wq=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of gq(e))!ZI.call(t,r)&&r!==n&&p_(t,r,{get:()=>e[r],enumerable:!(i=pq(e,r))||i.enumerable});return t};var bq=(t,e,n)=>(n=t!=null?hq(D2(t)):{},wq(e||!t||!t.__esModule?p_(n,"default",{value:t,enumerable:!0}):n,t));var $a=(t,e,n)=>vq(D2(t),n,e);var C=(t,e,n)=>new Promise((i,r)=>{var o=d=>{try{l(n.next(d))}catch(h){r(h)}},a=d=>{try{l(n.throw(d))}catch(h){r(h)}},l=d=>d.done?i(d.value):Promise.resolve(d.value).then(o,a);l((n=n.apply(t,e)).next())});var fG=yq((qMe,pE)=>{(function(){var t=window.CustomEvent;(!t||typeof t=="object")&&(t=function(E,T){T=T||{};var O=document.createEvent("CustomEvent");return O.initCustomEvent(E,!!T.bubbles,!!T.cancelable,T.detail||null),O},t.prototype=window.Event.prototype);function e(w){for(;w&&w!==document.body;){var E=window.getComputedStyle(w),T=function(O,L){return!(E[O]===void 0||E[O]===L)};if(E.opacity<1||T("zIndex","auto")||T("transform","none")||T("mixBlendMode","normal")||T("filter","none")||T("perspective","none")||E.isolation==="isolate"||E.position==="fixed"||E.webkitOverflowScrolling==="touch")return!0;w=w.parentElement}return!1}function n(w){for(;w;){if(w.localName==="dialog")return w;w=w.parentElement}return null}function i(w){w&&w.blur&&w!==document.body&&w.blur()}function r(w,E){for(var T=0;T<w.length;++T)if(w[T]===E)return!0;return!1}function o(w){return!w||!w.hasAttribute("method")?!1:w.getAttribute("method").toLowerCase()==="dialog"}function a(w){if(this.dialog_=w,this.replacedStyleTop_=!1,this.openAsModal_=!1,w.hasAttribute("role")||w.setAttribute("role","dialog"),w.show=this.show.bind(this),w.showModal=this.showModal.bind(this),w.close=this.close.bind(this),"returnValue"in w||(w.returnValue=""),"MutationObserver"in window){var E=new MutationObserver(this.maybeHideModal.bind(this));E.observe(w,{attributes:!0,attributeFilter:["open"]})}else{var T=!1,O=(function(){T?this.downgradeModal():this.maybeHideModal(),T=!1}).bind(this),L,$=function(A){if(A.target===w){var ee="DOMNodeRemoved";T|=A.type.substr(0,ee.length)===ee,window.clearTimeout(L),L=window.setTimeout(O,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(A){w.addEventListener(A,$)})}Object.defineProperty(w,"open",{set:this.setOpen.bind(this),get:w.hasAttribute.bind(w,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}a.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),l.dm.removeDialog(this))},setOpen:function(w){w?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(w){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var E=document.createElement("div");this.dialog_.insertBefore(E,this.dialog_.firstChild),E.tabIndex=-1,E.focus(),this.dialog_.removeChild(E)}var T=document.createEvent("MouseEvents");T.initMouseEvent(w.type,w.bubbles,w.cancelable,window,w.detail,w.screenX,w.screenY,w.clientX,w.clientY,w.ctrlKey,w.altKey,w.shiftKey,w.metaKey,w.button,w.relatedTarget),this.dialog_.dispatchEvent(T),w.stopPropagation()},focus_:function(){var w=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!w&&this.dialog_.tabIndex>=0&&(w=this.dialog_),!w){var E=["button","input","keygen","select","textarea"],T=E.map(function(O){return O+":not([disabled])"});T.push('[tabindex]:not([disabled]):not([tabindex=""])'),w=this.dialog_.querySelector(T.join(", "))}i(document.activeElement),w&&w.focus()},updateZIndex:function(w,E){if(w<E)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=w,this.backdrop_.style.zIndex=E},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!l.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");e(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,l.needsCentering(this.dialog_)?(l.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(w){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),w!==void 0&&(this.dialog_.returnValue=w);var E=new t("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(E)}};var l={};if(l.reposition=function(w){var E=document.body.scrollTop||document.documentElement.scrollTop,T=E+(window.innerHeight-w.offsetHeight)/2;w.style.top=Math.max(E,T)+"px"},l.isInlinePositionSetByStylesheet=function(w){for(var E=0;E<document.styleSheets.length;++E){var T=document.styleSheets[E],O=null;try{O=T.cssRules}catch{}if(O)for(var L=0;L<O.length;++L){var $=O[L],A=null;try{A=document.querySelectorAll($.selectorText)}catch{}if(!(!A||!r(A,w))){var ee=$.style.getPropertyValue("top"),U=$.style.getPropertyValue("bottom");if(ee&&ee!=="auto"||U&&U!=="auto")return!0}}}return!1},l.needsCentering=function(w){var E=window.getComputedStyle(w);return E.position!=="absolute"||w.style.top!=="auto"&&w.style.top!==""||w.style.bottom!=="auto"&&w.style.bottom!==""?!1:!l.isInlinePositionSetByStylesheet(w)},l.forceRegisterDialog=function(w){if((window.HTMLDialogElement||w.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",w),w.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new a(w)},l.registerDialog=function(w){w.showModal||l.forceRegisterDialog(w)},l.DialogManager=function(){this.pendingDialogStack=[];var w=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(E){this.forwardTab_=void 0,E.stopPropagation(),w([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(E){var T=[];E.forEach(function(O){for(var L=0,$;$=O.removedNodes[L];++L){if($ instanceof Element)$.localName==="dialog"&&T.push($);else continue;T=T.concat($.querySelectorAll("dialog"))}}),T.length&&w(T)}))},l.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},l.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},l.DialogManager.prototype.updateStacking=function(){for(var w=this.zIndexHigh_,E=0,T;T=this.pendingDialogStack[E];++E)T.updateZIndex(--w,--w),E===0&&(this.overlay.style.zIndex=--w);var O=this.pendingDialogStack[0];if(O){var L=O.dialog.parentNode||document.body;L.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},l.DialogManager.prototype.containedByTopDialog_=function(w){for(;w=n(w);){for(var E=0,T;T=this.pendingDialogStack[E];++E)if(T.dialog===w)return E===0;w=w.parentElement}return!1},l.DialogManager.prototype.handleFocus_=function(w){if(!this.containedByTopDialog_(w.target)&&(w.preventDefault(),w.stopPropagation(),i(w.target),this.forwardTab_!==void 0)){var E=this.pendingDialogStack[0],T=E.dialog,O=T.compareDocumentPosition(w.target);return O&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?E.focus_():document.documentElement.focus()),!1}},l.DialogManager.prototype.handleKey_=function(w){if(this.forwardTab_=void 0,w.keyCode===27){w.preventDefault(),w.stopPropagation();var E=new t("cancel",{bubbles:!1,cancelable:!0}),T=this.pendingDialogStack[0];T&&T.dialog.dispatchEvent(E)&&T.dialog.close()}else w.keyCode===9&&(this.forwardTab_=!w.shiftKey)},l.DialogManager.prototype.checkDOM_=function(w){var E=this.pendingDialogStack.slice();E.forEach(function(T){w.indexOf(T.dialog)!==-1?T.downgradeModal():T.maybeHideModal()})},l.DialogManager.prototype.pushDialog=function(w){var E=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=E?!1:(this.pendingDialogStack.unshift(w)===1&&this.blockDocument(),this.updateStacking(),!0)},l.DialogManager.prototype.removeDialog=function(w){var E=this.pendingDialogStack.indexOf(w);E!==-1&&(this.pendingDialogStack.splice(E,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},l.dm=new l.DialogManager,l.formSubmitter=null,l.useValue=null,window.HTMLDialogElement===void 0){var d=document.createElement("form");if(d.setAttribute("method","dialog"),d.method!=="dialog"){var h=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(h){var m=h.get;h.get=function(){return o(this)?"dialog":m.call(this)};var v=h.set;h.set=function(w){return typeof w=="string"&&w.toLowerCase()==="dialog"?this.setAttribute("method",w):v.call(this,w)},Object.defineProperty(HTMLFormElement.prototype,"method",h)}}document.addEventListener("click",function(w){if(l.formSubmitter=null,l.useValue=null,!w.defaultPrevented){var E=w.target;if(!(!E||!o(E.form))){var T=E.type==="submit"&&["button","input"].indexOf(E.localName)>-1;if(!T){if(!(E.localName==="input"&&E.type==="image"))return;l.useValue=w.offsetX+","+w.offsetY}var O=n(E);O&&(l.formSubmitter=E)}}},!1);var y=HTMLFormElement.prototype.submit,b=function(){if(!o(this))return y.call(this);var w=n(this);w&&w.close()};HTMLFormElement.prototype.submit=b,document.addEventListener("submit",function(w){var E=w.target;if(o(E)){w.preventDefault();var T=n(E);if(T){var O=l.formSubmitter;O&&O.form===E?T.close(l.useValue||O.value):T.close(),l.formSubmitter=null}}},!0)}l.forceRegisterDialog=l.forceRegisterDialog,l.registerDialog=l.registerDialog,typeof define=="function"&&"amd"in define?define(function(){return l}):typeof pE=="object"&&typeof pE.exports=="object"?pE.exports=l:window.dialogPolyfill=l})()});function Cq(t,e){return Object.is(t,e)}var si=null,Op=!1,m_=1,Ha=Symbol("SIGNAL");function Ot(t){let e=si;return si=t,e}function Eq(){return Op}var g_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function x2(t){if(Op)throw new Error("");if(si===null)return;si.consumerOnSignalRead(t);let e=si.nextProducerIndex++;if(Id(si),e<si.producerNode.length&&si.producerNode[e]!==t&&Rp(si)){let n=si.producerNode[e];y_(n,si.producerIndexOfThis[e])}si.producerNode[e]!==t&&(si.producerNode[e]=t,si.producerIndexOfThis[e]=Rp(si)?R2(t,si,e):0),si.producerLastReadVersion[e]=t.version}function Iq(){m_++}function Sq(t){if(!(Rp(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===m_)){if(!t.producerMustRecompute(t)&&!v_(t)){t.dirty=!1,t.lastCleanEpoch=m_;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=m_}}function M2(t){if(t.liveConsumerNode===void 0)return;let e=Op;Op=!0;try{for(let n of t.liveConsumerNode)n.dirty||O2(n)}finally{Op=e}}function P2(){return si?.consumerAllowSignalWrites!==!1}function O2(t){t.dirty=!0,M2(t),t.consumerMarkedDirty?.(t)}function nS(t){return t&&(t.nextProducerIndex=0),Ot(t)}function iS(t,e){if(Ot(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Rp(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)y_(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function v_(t){Id(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(Sq(n),i!==n.version))return!0}return!1}function rS(t){if(Id(t),Rp(t))for(let e=0;e<t.producerNode.length;e++)y_(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function R2(t,e,n){if(N2(t),Id(t),t.liveConsumerNode.length===0)for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=R2(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function y_(t,e){if(N2(t),Id(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)y_(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Id(r),r.producerIndexOfThis[i]=e}}function Rp(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Id(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function N2(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Tq(){throw new Error}var k2=Tq;function F2(){k2()}function L2(t){k2=t}var Dq=null;function V2(t){let e=Object.create(U2);e.value=t;let n=()=>(x2(e),e.value);return n[Ha]=e,n}function oS(t,e){P2()||F2(),t.equal(t.value,e)||(t.value=e,Aq(t))}function j2(t,e){P2()||F2(),oS(t,e(t.value))}var U2=It(te({},g_),{equal:Cq,value:void 0});function Aq(t){t.version++,Iq(),M2(t),Dq?.()}function B2(t,e,n){let i=Object.create(xq);n&&(i.consumerAllowSignalWrites=!0),i.fn=t,i.schedule=e;let r=d=>{i.cleanupFn=d};function o(d){return d.fn===null&&d.schedule===null}function a(d){o(d)||(rS(d),d.cleanupFn(),d.fn=null,d.schedule=null,d.cleanupFn=tS)}let l=()=>{if(i.fn===null)return;if(Eq())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!v_(i))return;i.hasRun=!0;let d=nS(i);try{i.cleanupFn(),i.cleanupFn=tS,i.fn(r)}finally{iS(i,d)}};return i.ref={notify:()=>O2(i),run:l,cleanup:()=>i.cleanupFn(),destroy:()=>a(i),[Ha]:i},i.ref}var tS=()=>{},xq=It(te({},g_),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:tS});function De(t){return typeof t=="function"}function Sd(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var __=Sd(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ul(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Pn=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(De(i))try{i()}catch(o){e=o instanceof __?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{$2(o)}catch(a){e=e??[],a instanceof __?e=[...e,...a.errors]:e.push(a)}}if(e)throw new __(e)}}add(e){var n;if(e&&e!==this)if(this.closed)$2(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ul(n,e)}remove(e){let{_finalizers:n}=this;n&&ul(n,e),e instanceof t&&e._removeParent(this)}};Pn.EMPTY=(()=>{let t=new Pn;return t.closed=!0,t})();var sS=Pn.EMPTY;function w_(t){return t instanceof Pn||t&&"closed"in t&&De(t.remove)&&De(t.add)&&De(t.unsubscribe)}function $2(t){De(t)?t():t.unsubscribe()}var ho={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Td={setTimeout(t,e,...n){let{delegate:i}=Td;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Td;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function b_(t){Td.setTimeout(()=>{let{onUnhandledError:e}=ho;if(e)e(t);else throw t})}function Np(){}var H2=aS("C",void 0,void 0);function G2(t){return aS("E",void 0,t)}function z2(t){return aS("N",t,void 0)}function aS(t,e,n){return{kind:t,value:e,error:n}}var dl=null;function Dd(t){if(ho.useDeprecatedSynchronousErrorHandling){let e=!dl;if(e&&(dl={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=dl;if(dl=null,n)throw i}}else t()}function q2(t){ho.useDeprecatedSynchronousErrorHandling&&dl&&(dl.errorThrown=!0,dl.error=t)}var hl=class extends Pn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,w_(e)&&e.add(this)):this.destination=Oq}static create(e,n,i){return new Ga(e,n,i)}next(e){this.isStopped?lS(z2(e),this):this._next(e)}error(e){this.isStopped?lS(G2(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?lS(H2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Mq=Function.prototype.bind;function cS(t,e){return Mq.call(t,e)}var uS=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){C_(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){C_(i)}else C_(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){C_(n)}}},Ga=class extends hl{constructor(e,n,i){super();let r;if(De(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&ho.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&cS(e.next,o),error:e.error&&cS(e.error,o),complete:e.complete&&cS(e.complete,o)}):r=e}this.destination=new uS(r)}};function C_(t){ho.useDeprecatedSynchronousErrorHandling?q2(t):b_(t)}function Pq(t){throw t}function lS(t,e){let{onStoppedNotification:n}=ho;n&&Td.setTimeout(()=>n(t,e))}var Oq={closed:!0,next:Np,error:Pq,complete:Np};var Ad=typeof Symbol=="function"&&Symbol.observable||"@@observable";function _r(t){return t}function dS(...t){return hS(t)}function hS(t){return t.length===0?_r:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var Ue=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=Nq(n)?n:new Ga(n,i,r);return Dd(()=>{let{operator:a,source:l}=this;o.add(a?a.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=W2(i),new i((r,o)=>{let a=new Ga({next:l=>{try{n(l)}catch(d){o(d),a.unsubscribe()}},error:o,complete:r});this.subscribe(a)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Ad](){return this}pipe(...n){return hS(n)(this)}toPromise(n){return n=W2(n),new n((i,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>i(o))})}}return t.create=e=>new t(e),t})();function W2(t){var e;return(e=t??ho.Promise)!==null&&e!==void 0?e:Promise}function Rq(t){return t&&De(t.next)&&De(t.error)&&De(t.complete)}function Nq(t){return t&&t instanceof hl||Rq(t)&&w_(t)}function fS(t){return De(t?.lift)}function lt(t){return e=>{if(fS(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function nt(t,e,n,i,r){return new pS(t,e,n,i,r)}var pS=class extends hl{constructor(e,n,i,r,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(l){try{n(l)}catch(d){e.error(d)}}:super._next,this._error=r?function(l){try{r(l)}catch(d){e.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function xd(){return lt((t,e)=>{let n=null;t._refCount++;let i=nt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var Md=class extends Ue{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,fS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pn;let n=this.getSubject();e.add(this.source.subscribe(nt(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pn.EMPTY)}return e}refCount(){return xd()(this)}};var K2=Sd(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ai=(()=>{class t extends Ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new E_(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new K2}next(n){Dd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Dd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Dd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?sS:(this.currentObservers=null,o.push(n),new Pn(()=>{this.currentObservers=null,ul(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new Ue;return n.source=this,n}}return t.create=(e,n)=>new E_(e,n),t})(),E_=class extends ai{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:sS}};var Yn=class extends ai{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var mS={now(){return(mS.delegate||Date).now()},delegate:void 0};var I_=class extends Pn{constructor(e,n){super()}schedule(e,n=0){return this}};var kp={setInterval(t,e,...n){let{delegate:i}=kp;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=kp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Pd=class extends I_{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return kp.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&kp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ul(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Od=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};Od.now=mS.now;var Rd=class extends Od{constructor(e,n=Od.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var Nd=new Rd(Pd),gS=Nd;var S_=class extends Pd{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var T_=class extends Rd{};var vS=new T_(S_);var rr=new Ue(t=>t.complete());function D_(t){return t&&De(t.schedule)}function yS(t){return t[t.length-1]}function A_(t){return De(yS(t))?t.pop():void 0}function Ko(t){return D_(yS(t))?t.pop():void 0}function Y2(t,e){return typeof yS(t)=="number"?t.pop():e}function x_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function X2(t,e,n,i){function r(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(m){try{h(i.next(m))}catch(v){a(v)}}function d(m){try{h(i.throw(m))}catch(v){a(v)}}function h(m){m.done?o(m.value):r(m.value).then(l,d)}h((i=i.apply(t,e||[])).next())})}function Q2(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fl(t){return this instanceof fl?(this.v=t,this):new fl(t)}function J2(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(y){i[y]&&(r[y]=function(b){return new Promise(function(w,E){o.push([y,b,w,E])>1||l(y,b)})})}function l(y,b){try{d(i[y](b))}catch(w){v(o[0][3],w)}}function d(y){y.value instanceof fl?Promise.resolve(y.value.v).then(h,m):v(o[0][2],y)}function h(y){l("next",y)}function m(y){l("throw",y)}function v(y,b){y(b),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Z2(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Q2=="function"?Q2(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(a){return new Promise(function(l,d){a=t[o](a),r(l,d,a.done,a.value)})}}function r(o,a,l,d){Promise.resolve(d).then(function(h){o({value:h,done:l})},a)}}var kd=t=>t&&typeof t.length=="number"&&typeof t!="function";function M_(t){return De(t?.then)}function P_(t){return De(t[Ad])}function O_(t){return Symbol.asyncIterator&&De(t?.[Symbol.asyncIterator])}function R_(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function kq(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var N_=kq();function k_(t){return De(t?.[N_])}function F_(t){return J2(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield fl(n.read());if(r)return yield fl(void 0);yield yield fl(i)}}finally{n.releaseLock()}})}function L_(t){return De(t?.getReader)}function qt(t){if(t instanceof Ue)return t;if(t!=null){if(P_(t))return Fq(t);if(kd(t))return Lq(t);if(M_(t))return Vq(t);if(O_(t))return eL(t);if(k_(t))return jq(t);if(L_(t))return Uq(t)}throw R_(t)}function Fq(t){return new Ue(e=>{let n=t[Ad]();if(De(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Lq(t){return new Ue(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Vq(t){return new Ue(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,b_)})}function jq(t){return new Ue(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function eL(t){return new Ue(e=>{Bq(t,e).catch(n=>e.error(n))})}function Uq(t){return eL(F_(t))}function Bq(t,e){var n,i,r,o;return X2(this,void 0,void 0,function*(){try{for(n=Z2(t);i=yield n.next(),!i.done;){let a=i.value;if(e.next(a),e.closed)return}}catch(a){r={error:a}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function or(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function za(t,e=0){return lt((n,i)=>{n.subscribe(nt(i,r=>or(i,t,()=>i.next(r),e),()=>or(i,t,()=>i.complete(),e),r=>or(i,t,()=>i.error(r),e)))})}function qa(t,e=0){return lt((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function tL(t,e){return qt(t).pipe(qa(e),za(e))}function nL(t,e){return qt(t).pipe(qa(e),za(e))}function iL(t,e){return new Ue(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function rL(t,e){return new Ue(n=>{let i;return or(n,e,()=>{i=t[N_](),or(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(a){n.error(a);return}o?n.complete():n.next(r)},0,!0)}),()=>De(i?.return)&&i.return()})}function V_(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ue(n=>{or(n,e,()=>{let i=t[Symbol.asyncIterator]();or(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function oL(t,e){return V_(F_(t),e)}function sL(t,e){if(t!=null){if(P_(t))return tL(t,e);if(kd(t))return iL(t,e);if(M_(t))return nL(t,e);if(O_(t))return V_(t,e);if(k_(t))return rL(t,e);if(L_(t))return oL(t,e)}throw R_(t)}function Wt(t,e){return e?sL(t,e):qt(t)}function Ne(...t){let e=Ko(t);return Wt(t,e)}function Fd(t,e){let n=De(t)?t:()=>t,i=r=>r.error(n());return new Ue(e?r=>e.schedule(i,0,r):i)}function _S(t){return!!t&&(t instanceof Ue||De(t.lift)&&De(t.subscribe))}var wr=Sd(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function br(t,e){let n=typeof e=="object";return new Promise((i,r)=>{let o=!1,a;t.subscribe({next:l=>{a=l,o=!0},error:r,complete:()=>{o?i(a):n?i(e.defaultValue):r(new wr)}})})}function j_(t,e){let n=typeof e=="object";return new Promise((i,r)=>{let o=new Ga({next:a=>{i(a),o.unsubscribe()},error:r,complete:()=>{n?i(e.defaultValue):r(new wr)}});t.subscribe(o)})}function aL(t){return t instanceof Date&&!isNaN(t)}function ke(t,e){return lt((n,i)=>{let r=0;n.subscribe(nt(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:$q}=Array;function Hq(t,e){return $q(e)?t(...e):t(e)}function Ld(t){return ke(e=>Hq(t,e))}var{isArray:Gq}=Array,{getPrototypeOf:zq,prototype:qq,keys:Wq}=Object;function U_(t){if(t.length===1){let e=t[0];if(Gq(e))return{args:e,keys:null};if(Kq(e)){let n=Wq(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function Kq(t){return t&&typeof t=="object"&&zq(t)===qq}function B_(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function $_(...t){let e=Ko(t),n=A_(t),{args:i,keys:r}=U_(t);if(i.length===0)return Wt([],e);let o=new Ue(Yq(i,e,r?a=>B_(r,a):_r));return n?o.pipe(Ld(n)):o}function Yq(t,e,n=_r){return i=>{cL(e,()=>{let{length:r}=t,o=new Array(r),a=r,l=r;for(let d=0;d<r;d++)cL(e,()=>{let h=Wt(t[d],e),m=!1;h.subscribe(nt(i,v=>{o[d]=v,m||(m=!0,l--),l||i.next(n(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}function cL(t,e,n){t?or(n,t,e):e()}function lL(t,e,n,i,r,o,a,l){let d=[],h=0,m=0,v=!1,y=()=>{v&&!d.length&&!h&&e.complete()},b=E=>h<i?w(E):d.push(E),w=E=>{o&&e.next(E),h++;let T=!1;qt(n(E,m++)).subscribe(nt(e,O=>{r?.(O),o?b(O):e.next(O)},()=>{T=!0},void 0,()=>{if(T)try{for(h--;d.length&&h<i;){let O=d.shift();a?or(e,a,()=>w(O)):w(O)}y()}catch(O){e.error(O)}}))};return t.subscribe(nt(e,b,()=>{v=!0,y()})),()=>{l?.()}}function On(t,e,n=1/0){return De(e)?On((i,r)=>ke((o,a)=>e(i,o,r,a))(qt(t(i,r))),n):(typeof e=="number"&&(n=e),lt((i,r)=>lL(i,r,t,n)))}function Wa(t=1/0){return On(_r,t)}function uL(){return Wa(1)}function Vd(...t){return uL()(Wt(t,Ko(t)))}function H_(t){return new Ue(e=>{qt(t()).subscribe(e)})}function wS(...t){let e=A_(t),{args:n,keys:i}=U_(t),r=new Ue(o=>{let{length:a}=n;if(!a){o.complete();return}let l=new Array(a),d=a,h=a;for(let m=0;m<a;m++){let v=!1;qt(n[m]).subscribe(nt(o,y=>{v||(v=!0,h--),l[m]=y},()=>d--,void 0,()=>{(!d||!v)&&(h||o.next(i?B_(i,l):l),o.complete())}))}});return e?r.pipe(Ld(e)):r}var Qq=["addListener","removeListener"],Xq=["addEventListener","removeEventListener"],Jq=["on","off"];function jd(t,e,n,i){if(De(n)&&(i=n,n=void 0),i)return jd(t,e,n).pipe(Ld(i));let[r,o]=tW(t)?Xq.map(a=>l=>t[a](e,l,n)):Zq(t)?Qq.map(dL(t,e)):eW(t)?Jq.map(dL(t,e)):[];if(!r&&kd(t))return On(a=>jd(a,e,n))(qt(t));if(!r)throw new TypeError("Invalid event target");return new Ue(a=>{let l=(...d)=>a.next(1<d.length?d:d[0]);return r(l),()=>o(l)})}function dL(t,e){return n=>i=>t[n](e,i)}function Zq(t){return De(t.addListener)&&De(t.removeListener)}function eW(t){return De(t.on)&&De(t.off)}function tW(t){return De(t.addEventListener)&&De(t.removeEventListener)}function hL(t=0,e,n=gS){let i=-1;return e!=null&&(D_(e)?n=e:i=e),new Ue(r=>{let o=aL(t)?+t-n.now():t;o<0&&(o=0);let a=0;return n.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Fp(...t){let e=Ko(t),n=Y2(t,1/0),i=t;return i.length?i.length===1?qt(i[0]):Wa(n)(Wt(i,e)):rr}function ci(t,e){return lt((n,i)=>{let r=0;n.subscribe(nt(i,o=>t.call(e,o,r++)&&i.next(o)))})}function fL(t){return lt((e,n)=>{let i=!1,r=null,o=null,a=!1,l=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let h=r;r=null,n.next(h)}a&&n.complete()},d=()=>{o=null,a&&n.complete()};e.subscribe(nt(n,h=>{i=!0,r=h,o||qt(t(h)).subscribe(o=nt(n,l,d))},()=>{a=!0,(!i||!o||o.closed)&&n.complete()}))})}function bS(t,e=Nd){return fL(()=>hL(t,e))}function Yo(t){return lt((e,n)=>{let i=null,r=!1,o;i=e.subscribe(nt(n,void 0,void 0,a=>{o=qt(t(a,Yo(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function pL(t,e,n,i,r){return(o,a)=>{let l=n,d=e,h=0;o.subscribe(nt(a,m=>{let v=h++;d=l?t(d,m,v):(l=!0,m),i&&a.next(d)},r&&(()=>{l&&a.next(d),a.complete()})))}}function Ka(t,e){return De(e)?On(t,e,1):On(t,1)}function Ya(t){return lt((e,n)=>{let i=!1;e.subscribe(nt(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function Hs(t){return t<=0?()=>rr:lt((e,n)=>{let i=0;e.subscribe(nt(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function CS(t){return ke(()=>t)}function G_(t=nW){return lt((e,n)=>{let i=!1;e.subscribe(nt(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function nW(){return new wr}function pl(t){return lt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Qo(t,e){let n=arguments.length>=2;return i=>i.pipe(t?ci((r,o)=>t(r,o,i)):_r,Hs(1),n?Ya(e):G_(()=>new wr))}function Ud(t){return t<=0?()=>rr:lt((e,n)=>{let i=[];e.subscribe(nt(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function ES(t,e){let n=arguments.length>=2;return i=>i.pipe(t?ci((r,o)=>t(r,o,i)):_r,Ud(1),n?Ya(e):G_(()=>new wr))}function IS(t,e){return lt(pL(t,e,arguments.length>=2,!0))}function SS(t){return ci((e,n)=>t<=n)}function TS(...t){let e=Ko(t);return lt((n,i)=>{(e?Vd(t,n,e):Vd(t,n)).subscribe(i)})}function xi(t,e){return lt((n,i)=>{let r=null,o=0,a=!1,l=()=>a&&!r&&i.complete();n.subscribe(nt(i,d=>{r?.unsubscribe();let h=0,m=o++;qt(t(d,m)).subscribe(r=nt(i,v=>i.next(e?e(d,v,m,h++):v),()=>{r=null,l()}))},()=>{a=!0,l()}))})}function fo(t){return lt((e,n)=>{qt(t).subscribe(nt(n,()=>n.complete(),Np)),!n.closed&&e.subscribe(n)})}function Rn(t,e,n){let i=De(t)||e||n?{next:t,error:e,complete:n}:t;return i?lt((r,o)=>{var a;(a=i.subscribe)===null||a===void 0||a.call(i);let l=!0;r.subscribe(nt(o,d=>{var h;(h=i.next)===null||h===void 0||h.call(i,d),o.next(d)},()=>{var d;l=!1,(d=i.complete)===null||d===void 0||d.call(i),o.complete()},d=>{var h;l=!1,(h=i.error)===null||h===void 0||h.call(i,d),o.error(d)},()=>{var d,h;l&&((d=i.unsubscribe)===null||d===void 0||d.call(i)),(h=i.finalize)===null||h===void 0||h.call(i)}))}):_r}var nV="https://g.co/ng/security#xss",J=class extends Error{constructor(e,n){super(I0(e,n)),this.code=e}};function I0(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var $S=class extends ai{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=Ot(null);try{super.next(e)}finally{Ot(n)}}subscribe(e,n,i){let r=e,o=n||(()=>null),a=i;if(e&&typeof e=="object"){let d=e;r=d.next?.bind(d),o=d.error?.bind(d),a=d.complete?.bind(d)}this.__isAsync&&(o=DS(o),r&&(r=DS(r)),a&&(a=DS(a)));let l=super.subscribe({next:r,error:o,complete:a});return e instanceof Pn&&e.add(l),l}};function DS(t){return e=>{setTimeout(t,void 0,e)}}var $t=$S;var rt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(rt||{});function Wi(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Wi).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function HS(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var iV=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(iV||{}),Zo=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Zo||{});function Kp(t){return{toString:t}.toString()}var Gs=globalThis;var qd={},sr=[];function Ht(t){for(let e in t)if(t[e]===Ht)return e;throw Error("Could not find renamed property on target object.")}function iW(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var rW=Ht({\u0275cmp:Ht}),oW=Ht({\u0275dir:Ht}),sW=Ht({\u0275pipe:Ht}),aW=Ht({\u0275mod:Ht}),r0=Ht({\u0275fac:Ht}),Lp=Ht({__NG_ELEMENT_ID__:Ht}),mL=Ht({__NG_ENV_ID__:Ht}),Ae=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ae||{});function rV(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function GS(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],a=n[i++],l=n[i++];t.setAttribute(e,a,l,o)}else{let o=r,a=n[++i];cW(o)?t.setProperty(e,o,a):t.setAttribute(e,o,a),i++}}return i}function oV(t){return t===3||t===4||t===6}function cW(t){return t.charCodeAt(0)===64}function Vp(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?gL(t,n,r,null,e[++i]):gL(t,n,r,null,null))}}return t}function gL(t,e,n,i,r){let o=0,a=t.length;if(e===-1)a=-1;else for(;o<t.length;){let l=t[o++];if(typeof l=="number"){if(l===e){a=-1;break}else if(l>e){a=o-1;break}}}for(;o<t.length;){let l=t[o];if(typeof l=="number")break;if(l===n){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}a!==-1&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var sV="ng-template";function lW(t,e,n){let i=0,r=!0;for(;i<t.length;){let o=t[i++];if(typeof o=="string"&&r){let a=t[i++];if(n&&o==="class"&&rV(a.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;i<t.length&&typeof(o=t[i++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(r=!1)}return!1}function aV(t){return t.type===4&&t.value!==sV}function uW(t,e,n){let i=t.type===4&&!n?sV:t.value;return e===i}function dW(t,e,n){let i=4,r=t.attrs||[],o=pW(r),a=!1;for(let l=0;l<e.length;l++){let d=e[l];if(typeof d=="number"){if(!a&&!po(i)&&!po(d))return!1;if(a&&po(d))continue;a=!1,i=d|i&1;continue}if(!a)if(i&4){if(i=2|i&1,d!==""&&!uW(t,d,n)||d===""&&e.length===1){if(po(i))return!1;a=!0}}else{let h=i&8?d:e[++l];if(i&8&&t.attrs!==null){if(!lW(t.attrs,h,n)){if(po(i))return!1;a=!0}continue}let m=i&8?"class":d,v=hW(m,r,aV(t),n);if(v===-1){if(po(i))return!1;a=!0;continue}if(h!==""){let y;v>o?y="":y=r[v+1].toLowerCase();let b=i&8?y:null;if(b&&rV(b,h,0)!==-1||i&2&&h!==y){if(po(i))return!1;a=!0}}}}return po(i)||a}function po(t){return(t&1)===0}function hW(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let a=e[r];if(a===t)return r;if(a===3||a===6)o=!0;else if(a===1||a===2){let l=e[++r];for(;typeof l=="string";)l=e[++r];continue}else{if(a===4)break;if(a===0){r+=4;continue}}r+=o?1:2}return-1}else return mW(e,t)}function fW(t,e,n=!1){for(let i=0;i<e.length;i++)if(dW(t,e[i],n))return!0;return!1}function pW(t){for(let e=0;e<t.length;e++){let n=t[e];if(oV(n))return e}return t.length}function mW(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function vL(t,e){return t?":not("+e.trim()+")":e}function gW(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let a=t[n];if(typeof a=="string")if(i&2){let l=t[++n];r+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else i&8?r+="."+a:i&4&&(r+=" "+a);else r!==""&&!po(a)&&(e+=vL(o,r),r=""),i=a,o=o||!po(i);n++}return r!==""&&(e+=vL(o,r)),e}function vW(t){return t.map(gW).join(",")}function yW(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!po(r))break;r=o}i++}return{attrs:e,classes:n}}function he(t){return Kp(()=>{let e=hV(t),n=It(te({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===iV.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Zo.Emulated,styles:t.styles||sr,_:null,schemas:t.schemas||null,tView:null,id:""});fV(n);let i=t.dependencies;return n.directiveDefs=_L(i,!1),n.pipeDefs=_L(i,!0),n.id=bW(n),n})}function _W(t){return Ja(t)||cV(t)}function wW(t){return t!==null}function Ki(t){return Kp(()=>({type:t.type,bootstrap:t.bootstrap||sr,declarations:t.declarations||sr,imports:t.imports||sr,exports:t.exports||sr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function yL(t,e){if(t==null)return qd;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,a,l=Ae.None;Array.isArray(r)?(l=r[0],o=r[1],a=r[2]??o):(o=r,a=r),e?(n[o]=l!==Ae.None?[i,l]:i,e[o]=a):n[o]=i}return n}function Tt(t){return Kp(()=>{let e=hV(t);return fV(e),e})}function Ja(t){return t[rW]||null}function cV(t){return t[oW]||null}function lV(t){return t[sW]||null}function uV(t){let e=Ja(t)||cV(t)||lV(t);return e!==null?e.standalone:!1}function dV(t,e){let n=t[aW]||null;if(!n&&e===!0)throw new Error(`Type ${Wi(t)} does not have '\u0275mod' property.`);return n}function hV(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||qd,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||sr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yL(t.inputs,e),outputs:yL(t.outputs),debugInfo:null}}function fV(t){t.features?.forEach(e=>e(t))}function _L(t,e){if(!t)return null;let n=e?lV:_W;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(wW)}function bW(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var rs=0,it=1,Re=2,yi=3,mo=4,yo=5,o0=6,jp=7,go=8,Wd=9,zs=10,vn=11,Up=12,wL=13,nh=14,es=15,Yp=16,Bd=17,qs=18,S0=19,pV=20,Xa=21,X_=22,vl=23,ts=25,HT=1;var yl=7,s0=8,Kd=9,Cr=10,GT=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(GT||{});function ml(t){return Array.isArray(t)&&typeof t[HT]=="object"}function Js(t){return Array.isArray(t)&&t[HT]===!0}function zT(t){return(t.flags&4)!==0}function T0(t){return t.componentOffset>-1}function D0(t){return(t.flags&1)===1}function Ws(t){return!!t.template}function CW(t){return(t[Re]&512)!==0}var EW="svg",IW="math",SW=!1;function TW(){return SW}function ns(t){for(;Array.isArray(t);)t=t[rs];return t}function DW(t){for(;Array.isArray(t);){if(typeof t[HT]=="object")return t;t=t[rs]}return null}function mV(t,e){return ns(e[t])}function Lr(t,e){return ns(e[t.index])}function gV(t,e){return t.data[e]}function AW(t,e){return t[e]}function tc(t,e){let n=e[t];return ml(n)?n:n[rs]}function xW(t){return(t[Re]&4)===4}function qT(t){return(t[Re]&128)===128}function MW(t){return Js(t[yi])}function Yd(t,e){return e==null?null:t[e]}function vV(t){t[Bd]=0}function PW(t){t[Re]&1024||(t[Re]|=1024,qT(t)&&Bp(t))}function OW(t,e){for(;t>0;)e=e[nh],t--;return e}function WT(t){return!!(t[Re]&9216||t[vl]?.dirty)}function zS(t){WT(t)?Bp(t):t[Re]&64&&(TW()?(t[Re]|=1024,Bp(t)):t[zs].changeDetectionScheduler?.notify())}function Bp(t){t[zs].changeDetectionScheduler?.notify();let e=$p(t);for(;e!==null&&!(e[Re]&8192||(e[Re]|=8192,!qT(e)));)e=$p(e)}function yV(t,e){if((t[Re]&256)===256)throw new J(911,!1);t[Xa]===null&&(t[Xa]=[]),t[Xa].push(e)}function RW(t,e){if(t[Xa]===null)return;let n=t[Xa].indexOf(e);n!==-1&&t[Xa].splice(n,1)}function $p(t){let e=t[yi];return Js(e)?e[yi]:e}var Ze={lFrame:TV(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function NW(){return Ze.lFrame.elementDepthCount}function kW(){Ze.lFrame.elementDepthCount++}function FW(){Ze.lFrame.elementDepthCount--}function _V(){return Ze.bindingsEnabled}function LW(){return Ze.skipHydrationRootTNode!==null}function VW(t){return Ze.skipHydrationRootTNode===t}function jW(){Ze.skipHydrationRootTNode=null}function wt(){return Ze.lFrame.lView}function Bn(){return Ze.lFrame.tView}function k(t){return Ze.lFrame.contextLView=t,t[go]}function F(t){return Ze.lFrame.contextLView=null,t}function Mi(){let t=wV();for(;t!==null&&t.type===64;)t=t.parent;return t}function wV(){return Ze.lFrame.currentTNode}function UW(){let t=Ze.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Sl(t,e){let n=Ze.lFrame;n.currentTNode=t,n.isParent=e}function KT(){return Ze.lFrame.isParent}function bV(){Ze.lFrame.isParent=!1}function BW(){return Ze.lFrame.contextLView}function $W(){let t=Ze.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function HW(){return Ze.lFrame.bindingIndex}function GW(t){return Ze.lFrame.bindingIndex=t}function Qp(){return Ze.lFrame.bindingIndex++}function YT(t){let e=Ze.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function zW(){return Ze.lFrame.inI18n}function qW(t,e){let n=Ze.lFrame;n.bindingIndex=n.bindingRootIndex=t,qS(e)}function WW(){return Ze.lFrame.currentDirectiveIndex}function qS(t){Ze.lFrame.currentDirectiveIndex=t}function CV(t){let e=Ze.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function EV(){return Ze.lFrame.currentQueryIndex}function QT(t){Ze.lFrame.currentQueryIndex=t}function KW(t){let e=t[it];return e.type===2?e.declTNode:e.type===1?t[yo]:null}function IV(t,e,n){if(n&rt.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(n&rt.Host);)if(r=KW(o),r===null||(o=o[nh],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=Ze.lFrame=SV();return i.currentTNode=e,i.lView=t,!0}function XT(t){let e=SV(),n=t[it];Ze.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function SV(){let t=Ze.lFrame,e=t===null?null:t.child;return e===null?TV(t):e}function TV(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function DV(){let t=Ze.lFrame;return Ze.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var AV=DV;function JT(){let t=DV();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function YW(t){return(Ze.lFrame.contextLView=OW(t,Ze.lFrame.contextLView))[go]}function nc(){return Ze.lFrame.selectedIndex}function _l(t){Ze.lFrame.selectedIndex=t}function A0(){let t=Ze.lFrame;return gV(t.tView,t.selectedIndex)}function QW(){return Ze.lFrame.currentNamespace}var xV=!0;function x0(){return xV}function M0(t){xV=t}function XW(){return ih(Mi(),wt())}function ih(t,e){return new Zt(Lr(t,e))}var Zt=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=XW;let t=e;return t})();function JW(t){return t instanceof Zt?t.nativeElement:t}function ZW(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function e7(t){return t.flat(Number.POSITIVE_INFINITY)}function ZT(t,e){t.forEach(n=>Array.isArray(n)?ZT(n,e):e(n))}function MV(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function a0(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function t7(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function PV(t,e,n){let i=Xp(t,e);return i>=0?t[i|1]=n:(i=~i,t7(t,i,e,n)),i}function AS(t,e){let n=Xp(t,e);if(n>=0)return t[n|1]}function Xp(t,e){return n7(t,e,1)}function n7(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),a=t[o<<n];if(e===a)return o<<n;a>e?r=o:i=o+1}return~(r<<n)}function i7(){return this._results[Symbol.iterator]()}var WS=class t{get changes(){return this._changes??=new $t}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=i7)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=e7(e);(this._changesDetected=!ZW(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function OV(t){return(t.flags&128)===128}var KS;function RV(t){KS=t}function r7(){if(KS!==void 0)return KS;if(typeof document<"u")return document;throw new J(210,!1)}function Z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Yi(t){return{providers:t.providers||[],imports:t.imports||[]}}function P0(t){return bL(t,kV)||bL(t,FV)}function NV(t){return P0(t)!==null}function bL(t,e){return t.hasOwnProperty(e)?t[e]:null}function o7(t){let e=t&&(t[kV]||t[FV]);return e||null}function CL(t){return t&&(t.hasOwnProperty(EL)||t.hasOwnProperty(s7))?t[EL]:null}var kV=Ht({\u0275prov:Ht}),EL=Ht({\u0275inj:Ht}),FV=Ht({ngInjectableDef:Ht}),s7=Ht({ngInjectorDef:Ht}),ye=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},e1=new ye("",{providedIn:"root",factory:()=>a7}),a7="ng",t1=new ye(""),Vr=new ye("",{providedIn:"platform",factory:()=>"unknown"});var n1=new ye(""),i1=new ye("",{providedIn:"root",factory:()=>r7().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var c7=Ht({__forward_ref__:Ht});function ic(t){return t.__forward_ref__=ic,t.toString=function(){return Wi(this())},t}function qi(t){return LV(t)?t():t}function LV(t){return typeof t=="function"&&t.hasOwnProperty(c7)&&t.__forward_ref__===ic}function VV(t){return t&&!!t.\u0275providers}function Qd(t){return typeof t=="string"?t:t==null?"":String(t)}function l7(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Qd(t)}function u7(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new J(-200,t)}function r1(t,e){throw new J(-201,!1)}var YS;function jV(){return YS}function Fr(t){let e=YS;return YS=t,e}function UV(t,e,n){let i=P0(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&rt.Optional)return null;if(e!==void 0)return e;r1(t,"Injector")}var d7={},Hp=d7,QS="__NG_DI_FLAG__",c0="ngTempTokenPath",h7="ngTokenPath",f7=/\n/gm,p7="\u0275",IL="__source",Gd;function m7(){return Gd}function Qa(t){let e=Gd;return Gd=t,e}function g7(t,e=rt.Default){if(Gd===void 0)throw new J(-203,!1);return Gd===null?UV(t,void 0,e):Gd.get(t,e&rt.Optional?null:void 0,e)}function re(t,e=rt.Default){return(jV()||g7)(qi(t),e)}function X(t,e=rt.Default){return re(t,O0(e))}function O0(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function XS(t){let e=[];for(let n=0;n<t.length;n++){let i=qi(t[n]);if(Array.isArray(i)){if(i.length===0)throw new J(900,!1);let r,o=rt.Default;for(let a=0;a<i.length;a++){let l=i[a],d=v7(l);typeof d=="number"?d===-1?r=l.token:o|=d:r=l}e.push(re(r,o))}else e.push(re(i))}return e}function BV(t,e){return t[QS]=e,t.prototype[QS]=e,t}function v7(t){return t[QS]}function y7(t,e,n,i){let r=t[c0];throw e[IL]&&r.unshift(e[IL]),t.message=_7(`
`+t.message,r,n,i),t[h7]=r,t[c0]=null,t}function _7(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==p7?t.slice(2):t;let r=Wi(e);if(Array.isArray(e))r=e.map(Wi).join(" -> ");else if(typeof e=="object"){let o=[];for(let a in e)if(e.hasOwnProperty(a)){let l=e[a];o.push(a+":"+(typeof l=="string"?JSON.stringify(l):Wi(l)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(f7,`
  `)}`}var w7="h",b7="b";var C7=()=>null;function o1(t,e,n=!1){return C7(t,e,n)}var z_="__parameters__";function E7(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function $V(t,e,n){return Kp(()=>{let i=E7(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let a=new r(...o);return l.annotation=a,l;function l(d,h,m){let v=d.hasOwnProperty(z_)?d[z_]:Object.defineProperty(d,z_,{value:[]})[z_];for(;v.length<=m;)v.push(null);return(v[m]=v[m]||[]).push(a),d}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Qi=BV($V("Optional"),8);var HV=BV($V("SkipSelf"),4);function Xd(t,e){let n=t.hasOwnProperty(r0);return n?t[r0]:null}var Jd=new ye(""),GV=new ye("",-1),zV=new ye(""),l0=class{get(e,n=Hp){if(n===Hp){let i=new Error(`NullInjectorError: No provider for ${Wi(e)}!`);throw i.name="NullInjectorError",i}return n}};function rc(t){return{\u0275providers:t}}function Jp(...t){return{\u0275providers:qV(!0,t),\u0275fromNgModule:!0}}function qV(t,...e){let n=[],i=new Set,r,o=a=>{n.push(a)};return ZT(e,a=>{let l=a;JS(l,o,[],i)&&(r||=[],r.push(l))}),r!==void 0&&WV(r,o),n}function WV(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];s1(r,o=>{e(o,i)})}}function JS(t,e,n,i){if(t=qi(t),!t)return!1;let r=null,o=CL(t),a=!o&&Ja(t);if(!o&&!a){let d=t.ngModule;if(o=CL(d),o)r=d;else return!1}else{if(a&&!a.standalone)return!1;r=t}let l=i.has(r);if(a){if(l)return!1;if(i.add(r),a.dependencies){let d=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let h of d)JS(h,e,n,i)}}else if(o){if(o.imports!=null&&!l){i.add(r);let h;try{ZT(o.imports,m=>{JS(m,e,n,i)&&(h||=[],h.push(m))})}finally{}h!==void 0&&WV(h,e)}if(!l){let h=Xd(r)||(()=>new r);e({provide:r,useFactory:h,deps:sr},r),e({provide:zV,useValue:r,multi:!0},r),e({provide:Jd,useValue:()=>re(r),multi:!0},r)}let d=o.providers;if(d!=null&&!l){let h=t;s1(d,m=>{e(m,h)})}}else return!1;return r!==t&&t.providers!==void 0}function s1(t,e){for(let n of t)VV(n)&&(n=n.\u0275providers),Array.isArray(n)?s1(n,e):e(n)}var I7=Ht({provide:String,useValue:Ht});function KV(t){return t!==null&&typeof t=="object"&&I7 in t}function S7(t){return!!(t&&t.useExisting)}function T7(t){return!!(t&&t.useFactory)}function Zd(t){return typeof t=="function"}function D7(t){return!!t.useClass}var R0=new ye(""),J_={},A7={},xS;function N0(){return xS===void 0&&(xS=new l0),xS}var li=class{},Gp=class extends li{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,eT(e,a=>this.processProvider(a)),this.records.set(GV,$d(void 0,this)),r.has("environment")&&this.records.set(li,$d(void 0,this));let o=this.records.get(R0);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(zV,sr,rt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ot(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ot(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Qa(this),i=Fr(void 0),r;try{return e()}finally{Qa(n),Fr(i)}}get(e,n=Hp,i=rt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(mL))return e[mL](this);i=O0(i);let r,o=Qa(this),a=Fr(void 0);try{if(!(i&rt.SkipSelf)){let d=this.records.get(e);if(d===void 0){let h=R7(e)&&P0(e);h&&this.injectableDefInScope(h)?d=$d(ZS(e),J_):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d)}let l=i&rt.Self?N0():this.parent;return n=i&rt.Optional&&n===Hp?null:n,l.get(e,n)}catch(l){if(l.name==="NullInjectorError"){if((l[c0]=l[c0]||[]).unshift(Wi(e)),o)throw l;return y7(l,e,"R3InjectorError",this.source)}else throw l}finally{Fr(a),Qa(o)}}resolveInjectorInitializers(){let e=Ot(null),n=Qa(this),i=Fr(void 0),r;try{let o=this.get(Jd,sr,rt.Self);for(let a of o)a()}finally{Qa(n),Fr(i),Ot(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(Wi(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new J(205,!1)}processProvider(e){e=qi(e);let n=Zd(e)?e:qi(e&&e.provide),i=M7(e);if(!Zd(e)&&e.multi===!0){let r=this.records.get(n);r||(r=$d(void 0,J_,!0),r.factory=()=>XS(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=Ot(null);try{return n.value===J_&&(n.value=A7,n.value=n.factory()),typeof n.value=="object"&&n.value&&O7(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ot(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=qi(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ZS(t){let e=P0(t),n=e!==null?e.factory:Xd(t);if(n!==null)return n;if(t instanceof ye)throw new J(204,!1);if(t instanceof Function)return x7(t);throw new J(204,!1)}function x7(t){if(t.length>0)throw new J(204,!1);let n=o7(t);return n!==null?()=>n.factory(t):()=>new t}function M7(t){if(KV(t))return $d(void 0,t.useValue);{let e=YV(t);return $d(e,J_)}}function YV(t,e,n){let i;if(Zd(t)){let r=qi(t);return Xd(r)||ZS(r)}else if(KV(t))i=()=>qi(t.useValue);else if(T7(t))i=()=>t.useFactory(...XS(t.deps||[]));else if(S7(t))i=()=>re(qi(t.useExisting));else{let r=qi(t&&(t.useClass||t.provide));if(P7(t))i=()=>new r(...XS(t.deps));else return Xd(r)||ZS(r)}return i}function $d(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function P7(t){return!!t.deps}function O7(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function R7(t){return typeof t=="function"||typeof t=="object"&&t instanceof ye}function eT(t,e){for(let n of t)Array.isArray(n)?eT(n,e):n&&VV(n)?eT(n.\u0275providers,e):e(n)}function Zs(t,e){t instanceof Gp&&t.assertNotDestroyed();let n,i=Qa(t),r=Fr(void 0);try{return e()}finally{Qa(i),Fr(r)}}function N7(t){if(!jV()&&!m7())throw new J(-203,!1)}function k7(t){return typeof t=="function"}var tT=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function QV(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function _o(){return XV}function XV(t){return t.type.prototype.ngOnChanges&&(t.setInput=L7),F7}_o.ngInherit=!0;function F7(){let t=ZV(this),e=t?.current;if(e){let n=t.previous;if(n===qd)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function L7(t,e,n,i,r){let o=this.declaredInputs[i],a=ZV(t)||V7(t,{previous:qd,current:null}),l=a.current||(a.current={}),d=a.previous,h=d[o];l[o]=new tT(h&&h.currentValue,n,d===qd),QV(t,e,r,n)}var JV="__ngSimpleChanges__";function ZV(t){return t[JV]||null}function V7(t,e){return t[JV]=e}var SL=null;var Xo=function(t,e,n){SL?.(t,e,n)};function j7(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let a=XV(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function k0(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:d,ngAfterViewChecked:h,ngOnDestroy:m}=o;a&&(t.contentHooks??=[]).push(-n,a),l&&((t.contentHooks??=[]).push(n,l),(t.contentCheckHooks??=[]).push(n,l)),d&&(t.viewHooks??=[]).push(-n,d),h&&((t.viewHooks??=[]).push(n,h),(t.viewCheckHooks??=[]).push(n,h)),m!=null&&(t.destroyHooks??=[]).push(n,m)}}function Z_(t,e,n){e3(t,e,3,n)}function e0(t,e,n,i){(t[Re]&3)===n&&e3(t,e,n,i)}function MS(t,e){let n=t[Re];(n&3)===e&&(n&=16383,n+=1,t[Re]=n)}function e3(t,e,n,i){let r=i!==void 0?t[Bd]&65535:0,o=i??-1,a=e.length-1,l=0;for(let d=r;d<a;d++)if(typeof e[d+1]=="number"){if(l=e[d],i!=null&&l>=i)break}else e[d]<0&&(t[Bd]+=65536),(l<o||o==-1)&&(U7(t,n,e,d),t[Bd]=(t[Bd]&4294901760)+d+2),d++}function TL(t,e){Xo(4,t,e);let n=Ot(null);try{e.call(t)}finally{Ot(n),Xo(5,t,e)}}function U7(t,e,n,i){let r=n[i]<0,o=n[i+1],a=r?-n[i]:n[i],l=t[a];r?t[Re]>>14<t[Bd]>>16&&(t[Re]&3)===e&&(t[Re]+=16384,TL(l,o)):TL(l,o)}var zd=-1,wl=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function B7(t){return t instanceof wl}function $7(t){return(t.flags&8)!==0}function H7(t){return(t.flags&16)!==0}function t3(t){return t!==zd}function u0(t){return t&32767}function G7(t){return t>>16}function d0(t,e){let n=G7(t),i=e;for(;n>0;)i=i[nh],n--;return i}var nT=!0;function DL(t){let e=nT;return nT=t,e}var z7=256,n3=z7-1,i3=5,q7=0,Jo={};function W7(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Lp)&&(i=n[Lp]),i==null&&(i=n[Lp]=q7++);let r=i&n3,o=1<<r;e.data[t+(r>>i3)]|=o}function h0(t,e){let n=r3(t,e);if(n!==-1)return n;let i=e[it];i.firstCreatePass&&(t.injectorIndex=e.length,PS(i.data,t),PS(e,null),PS(i.blueprint,null));let r=a1(t,e),o=t.injectorIndex;if(t3(r)){let a=u0(r),l=d0(r,e),d=l[it].data;for(let h=0;h<8;h++)e[o+h]=l[a+h]|d[a+h]}return e[o+8]=r,o}function PS(t,e){t.push(0,0,0,0,0,0,0,0,e)}function r3(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function a1(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=l3(r),i===null)return zd;if(n++,r=r[nh],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return zd}function iT(t,e,n){W7(t,e,n)}function K7(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(oV(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===e)return n[r+1];r=r+2}}}return null}function o3(t,e,n){if(n&rt.Optional||t!==void 0)return t;r1(e,"NodeInjector")}function s3(t,e,n,i){if(n&rt.Optional&&i===void 0&&(i=null),!(n&(rt.Self|rt.Host))){let r=t[Wd],o=Fr(void 0);try{return r?r.get(e,i,n&rt.Optional):UV(e,i,n&rt.Optional)}finally{Fr(o)}}return o3(i,e,n)}function a3(t,e,n,i=rt.Default,r){if(t!==null){if(e[Re]&2048&&!(i&rt.Self)){let a=J7(t,e,n,i,Jo);if(a!==Jo)return a}let o=c3(t,e,n,i,Jo);if(o!==Jo)return o}return s3(e,n,i,r)}function c3(t,e,n,i,r){let o=Q7(n);if(typeof o=="function"){if(!IV(e,t,i))return i&rt.Host?o3(r,n,i):s3(e,n,i,r);try{let a;if(a=o(i),a==null&&!(i&rt.Optional))r1(n);else return a}finally{AV()}}else if(typeof o=="number"){let a=null,l=r3(t,e),d=zd,h=i&rt.Host?e[es][yo]:null;for((l===-1||i&rt.SkipSelf)&&(d=l===-1?a1(t,e):e[l+8],d===zd||!xL(i,!1)?l=-1:(a=e[it],l=u0(d),e=d0(d,e)));l!==-1;){let m=e[it];if(AL(o,l,m.data)){let v=Y7(l,e,n,a,i,h);if(v!==Jo)return v}d=e[l+8],d!==zd&&xL(i,e[it].data[l+8]===h)&&AL(o,l,e)?(a=m,l=u0(d),e=d0(d,e)):l=-1}}return r}function Y7(t,e,n,i,r,o){let a=e[it],l=a.data[t+8],d=i==null?T0(l)&&nT:i!=a&&(l.type&3)!==0,h=r&rt.Host&&o===l,m=t0(l,a,n,d,h);return m!==null?bl(e,a,m,l):Jo}function t0(t,e,n,i,r){let o=t.providerIndexes,a=e.data,l=o&1048575,d=t.directiveStart,h=t.directiveEnd,m=o>>20,v=i?l:l+m,y=r?l+m:h;for(let b=v;b<y;b++){let w=a[b];if(b<d&&n===w||b>=d&&w.type===n)return b}if(r){let b=a[d];if(b&&Ws(b)&&b.type===n)return d}return null}function bl(t,e,n,i){let r=t[n],o=e.data;if(B7(r)){let a=r;a.resolving&&u7(l7(o[n]));let l=DL(a.canSeeViewProviders);a.resolving=!0;let d,h=a.injectImpl?Fr(a.injectImpl):null,m=IV(t,i,rt.Default);try{r=t[n]=a.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&j7(n,o[n],e)}finally{h!==null&&Fr(h),DL(l),a.resolving=!1,AV()}}return r}function Q7(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Lp)?t[Lp]:void 0;return typeof e=="number"?e>=0?e&n3:X7:e}function AL(t,e,n){let i=1<<t;return!!(n[e+(t>>i3)]&i)}function xL(t,e){return!(t&rt.Self)&&!(t&rt.Host&&e)}var gl=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return a3(this._tNode,this._lView,e,O0(i),n)}};function X7(){return new gl(Mi(),wt())}function ar(t){return Kp(()=>{let e=t.prototype.constructor,n=e[r0]||rT(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[r0]||rT(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function rT(t){return LV(t)?()=>{let e=rT(qi(t));return e&&e()}:Xd(t)}function J7(t,e,n,i,r){let o=t,a=e;for(;o!==null&&a!==null&&a[Re]&2048&&!(a[Re]&512);){let l=c3(o,a,n,i|rt.Self,Jo);if(l!==Jo)return l;let d=o.parent;if(!d){let h=a[pV];if(h){let m=h.get(n,Jo,i);if(m!==Jo)return m}d=l3(a),a=a[nh]}o=d}return r}function l3(t){let e=t[it],n=e.type;return n===2?e.declTNode:n===1?t[yo]:null}function c1(t){return K7(Mi(),t)}function ML(t,e=null,n=null,i){let r=u3(t,e,n,i);return r.resolveInjectorInitializers(),r}function u3(t,e=null,n=null,i,r=new Set){let o=[n||sr,Jp(t)];return i=i||(typeof t=="object"?void 0:Wi(t)),new Gp(o,e||N0(),i||null,r)}var Kt=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return ML({name:""},r,i,"");{let o=i.name??"";return ML({name:o},i.parent,i.providers,o)}}};e.THROW_IF_NOT_FOUND=Hp,e.NULL=new l0,e.\u0275prov=Z({token:e,providedIn:"any",factory:()=>re(GV)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),Z7="ngOriginalError";function OS(t){return t[Z7]}var is=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&OS(e);for(;n&&OS(n);)n=OS(n);return n||null}},d3=new ye("",{providedIn:"root",factory:()=>X(is).handleError.bind(void 0)});var h3=!1,eK=new ye("",{providedIn:"root",factory:()=>h3}),q_;function tK(){if(q_===void 0&&(q_=null,Gs.trustedTypes))try{q_=Gs.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return q_}function F0(t){return tK()?.createHTML(t)||t}var W_;function nK(){if(W_===void 0&&(W_=null,Gs.trustedTypes))try{W_=Gs.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return W_}function PL(t){return nK()?.createScriptURL(t)||t}var Ks=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nV})`}},oT=class extends Ks{getTypeName(){return"HTML"}},sT=class extends Ks{getTypeName(){return"Style"}},aT=class extends Ks{getTypeName(){return"Script"}},cT=class extends Ks{getTypeName(){return"URL"}},lT=class extends Ks{getTypeName(){return"ResourceURL"}};function jr(t){return t instanceof Ks?t.changingThisBreaksApplicationSecurity:t}function oc(t,e){let n=iK(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${nV})`)}return n===e}function iK(t){return t instanceof Ks&&t.getTypeName()||null}function f3(t){return new oT(t)}function p3(t){return new sT(t)}function m3(t){return new aT(t)}function g3(t){return new cT(t)}function v3(t){return new lT(t)}function rK(t){let e=new dT(t);return oK()?new uT(e):e}var uT=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(F0(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},dT=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=F0(e),n}};function oK(){try{return!!new window.DOMParser().parseFromString(F0(""),"text/html")}catch{return!1}}var sK=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function L0(t){return t=String(t),t.match(sK)?t:"unsafe:"+t}function ea(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Zp(...t){let e={};for(let n of t)for(let i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}var y3=ea("area,br,col,hr,img,wbr"),_3=ea("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),w3=ea("rp,rt"),aK=Zp(w3,_3),cK=Zp(_3,ea("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),lK=Zp(w3,ea("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),OL=Zp(y3,cK,lK,aK),b3=ea("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uK=ea("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),dK=ea("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),hK=Zp(b3,uK,dK),fK=ea("script,style,template"),hT=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,i=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let r=this.checkClobberedElement(n,n.nextSibling);if(r){n=r;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!OL.hasOwnProperty(n))return this.sanitizedSomething=!0,!fK.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),a=o.name,l=a.toLowerCase();if(!hK.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let d=o.value;b3[l]&&(d=L0(d)),this.buf.push(" ",a,'="',RL(d),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();OL.hasOwnProperty(n)&&!y3.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(RL(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},pK=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mK=/([^\#-~ |!])/g;function RL(t){return t.replace(/&/g,"&amp;").replace(pK,function(e){let n=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(mK,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var K_;function C3(t,e){let n=null;try{K_=K_||rK(t);let i=e?String(e):"";n=K_.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=K_.getInertBodyElement(i)}while(i!==o);let l=new hT().sanitizeChildren(NL(n)||n);return F0(l)}finally{if(n){let i=NL(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function NL(t){return"content"in t&&gK(t)?t.content:null}function gK(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var os=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(os||{});function Pi(t){let e=I3();return e?e.sanitize(os.URL,t)||"":oc(t,"URL")?jr(t):L0(Qd(t))}function l1(t){let e=I3();if(e)return PL(e.sanitize(os.RESOURCE_URL,t)||"");if(oc(t,"ResourceURL"))return PL(jr(t));throw new J(904,!1)}function vK(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?l1:Pi}function E3(t,e,n){return vK(e,n)(t)}function I3(){let t=wt();return t&&t[zs].sanitizer}var yK=/^>|^->|<!--|-->|--!>|<!-$/g,_K=/(<|>)/g,wK="\u200B$1\u200B";function bK(t){return t.replace(yK,e=>e.replace(_K,wK))}var S3=new Map,CK=0;function EK(){return CK++}function IK(t){S3.set(t[S0],t)}function SK(t){S3.delete(t[S0])}var kL="__ngContext__";function Za(t,e){ml(e)?(t[kL]=e[S0],IK(e)):t[kL]=e}function yn(t){return t.ownerDocument.defaultView}function T3(t){return t instanceof Function?t():t}var Ys=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ys||{}),TK;function u1(t,e){return TK(t,e)}function Hd(t,e,n,i,r){if(i!=null){let o,a=!1;Js(i)?o=i:ml(i)&&(a=!0,i=i[rs]);let l=ns(i);t===0&&n!==null?r==null?P3(e,n,l):f0(e,n,l,r||null,!0):t===1&&n!==null?f0(e,n,l,r||null,!0):t===2?GK(e,l,a):t===3&&e.destroyNode(l),o!=null&&qK(e,t,o,n,r)}}function DK(t,e){return t.createText(e)}function AK(t,e,n){t.setValue(e,n)}function xK(t,e){return t.createComment(bK(e))}function D3(t,e,n){return t.createElement(e,n)}function MK(t,e){A3(t,e),e[rs]=null,e[yo]=null}function PK(t,e,n,i,r,o){i[rs]=r,i[yo]=e,j0(t,i,n,1,r,o)}function A3(t,e){j0(t,e,e[vn],2,null,null)}function OK(t){let e=t[Up];if(!e)return RS(t[it],t);for(;e;){let n=null;if(ml(e))n=e[Up];else{let i=e[Cr];i&&(n=i)}if(!n){for(;e&&!e[mo]&&e!==t;)ml(e)&&RS(e[it],e),e=e[yi];e===null&&(e=t),ml(e)&&RS(e[it],e),n=e&&e[mo]}e=n}}function RK(t,e,n,i){let r=Cr+i,o=n.length;i>0&&(n[r-1][mo]=e),i<o-Cr?(e[mo]=n[r],MV(n,Cr+i,e)):(n.push(e),e[mo]=null),e[yi]=n;let a=e[Yp];a!==null&&n!==a&&NK(a,e);let l=e[qs];l!==null&&l.insertView(t),zS(e),e[Re]|=128}function NK(t,e){let n=t[Kd],r=e[yi][yi][es];e[es]!==r&&(t[Re]|=GT.HasTransplantedViews),n===null?t[Kd]=[e]:n.push(e)}function x3(t,e){let n=t[Kd],i=n.indexOf(e);n.splice(i,1)}function fT(t,e){if(t.length<=Cr)return;let n=Cr+e,i=t[n];if(i){let r=i[Yp];r!==null&&r!==t&&x3(r,i),e>0&&(t[n-1][mo]=i[mo]);let o=a0(t,Cr+e);MK(i[it],i);let a=o[qs];a!==null&&a.detachView(o[it]),i[yi]=null,i[mo]=null,i[Re]&=-129}return i}function M3(t,e){if(!(e[Re]&256)){let n=e[vn];n.destroyNode&&j0(t,e,n,3,null,null),OK(e)}}function RS(t,e){if(e[Re]&256)return;let n=Ot(null);try{e[Re]&=-129,e[Re]|=256,e[vl]&&rS(e[vl]),FK(t,e),kK(t,e),e[it].type===1&&e[vn].destroy();let i=e[Yp];if(i!==null&&Js(e[yi])){i!==e[yi]&&x3(i,e);let r=e[qs];r!==null&&r.detachView(t)}SK(e)}finally{Ot(n)}}function kK(t,e){let n=t.cleanup,i=e[jp];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let a=n[o+3];a>=0?i[a]():i[-a].unsubscribe(),o+=2}else{let a=i[n[o+1]];n[o].call(a)}i!==null&&(e[jp]=null);let r=e[Xa];if(r!==null){e[Xa]=null;for(let o=0;o<r.length;o++){let a=r[o];a()}}}function FK(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof wl)){let o=n[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let l=r[o[a]],d=o[a+1];Xo(4,l,d);try{d.call(l)}finally{Xo(5,l,d)}}else{Xo(4,r,o);try{o.call(r)}finally{Xo(5,r,o)}}}}}function LK(t,e,n){return VK(t,e.parent,n)}function VK(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[rs];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===Zo.None||o===Zo.Emulated)return null}return Lr(i,n)}}function f0(t,e,n,i,r){t.insertBefore(e,n,i,r)}function P3(t,e,n){t.appendChild(e,n)}function FL(t,e,n,i,r){i!==null?f0(t,e,n,i,r):P3(t,e,n)}function jK(t,e,n,i){t.removeChild(e,n,i)}function d1(t,e){return t.parentNode(e)}function UK(t,e){return t.nextSibling(e)}function BK(t,e,n){return HK(t,e,n)}function $K(t,e,n){return t.type&40?Lr(t,n):null}var HK=$K,LL;function V0(t,e,n,i){let r=LK(t,i,e),o=e[vn],a=i.parent||e[yo],l=BK(a,i,e);if(r!=null)if(Array.isArray(n))for(let d=0;d<n.length;d++)FL(o,r,n[d],l,!1);else FL(o,r,n,l,!1);LL!==void 0&&LL(o,i,e,n,r)}function n0(t,e){if(e!==null){let n=e.type;if(n&3)return Lr(e,t);if(n&4)return pT(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return n0(t,i);{let r=t[e.index];return Js(r)?pT(-1,r):ns(r)}}else{if(n&32)return u1(e,t)()||ns(t[e.index]);{let i=O3(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=$p(t[es]);return n0(r,i)}else return n0(t,e.next)}}}return null}function O3(t,e){if(e!==null){let i=t[es][yo],r=e.projection;return i.projection[r]}return null}function pT(t,e){let n=Cr+t+1;if(n<e.length){let i=e[n],r=i[it].firstChild;if(r!==null)return n0(i,r)}return e[yl]}function GK(t,e,n){let i=d1(t,e);i&&jK(t,i,e,n)}function h1(t,e,n,i,r,o,a){for(;n!=null;){let l=i[n.index],d=n.type;if(a&&e===0&&(l&&Za(ns(l),i),n.flags|=2),(n.flags&32)!==32)if(d&8)h1(t,e,n.child,i,r,o,!1),Hd(e,t,r,l,o);else if(d&32){let h=u1(n,i),m;for(;m=h();)Hd(e,t,r,m,o);Hd(e,t,r,l,o)}else d&16?zK(t,e,i,n,r,o):Hd(e,t,r,l,o);n=a?n.projectionNext:n.next}}function j0(t,e,n,i,r,o){h1(n,i,t.firstChild,e,r,o,!1)}function zK(t,e,n,i,r,o){let a=n[es],d=a[yo].projection[i.projection];if(Array.isArray(d))for(let h=0;h<d.length;h++){let m=d[h];Hd(e,t,r,m,o)}else{let h=d,m=a[yi];OV(i)&&(h.flags|=128),h1(t,e,h,m,r,o,!0)}}function qK(t,e,n,i,r){let o=n[yl],a=ns(n);o!==a&&Hd(e,t,i,o,r);for(let l=Cr;l<n.length;l++){let d=n[l];j0(d[it],d,t,e,i,o)}}function WK(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:Ys.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ys.Important),t.setStyle(n,i,r,o))}}function KK(t,e,n){t.setAttribute(e,"style",n)}function R3(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function N3(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&GS(t,e,i),r!==null&&R3(t,e,r),o!==null&&KK(t,e,o)}var wo={};function D(t=1){k3(Bn(),wt(),nc()+t,!1)}function k3(t,e,n,i){if(!i)if((e[Re]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Z_(e,o,n)}else{let o=t.preOrderHooks;o!==null&&e0(e,o,0,n)}_l(n)}function N(t,e=rt.Default){let n=wt();if(n===null)return re(t,e);let i=Mi();return a3(i,n,qi(t),e)}function F3(t,e,n,i,r,o){let a=Ot(null);try{let l=null;r&Ae.SignalBased&&(l=e[i][Ha]),l!==null&&l.transformFn!==void 0&&(o=l.transformFn(o)),r&Ae.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(e,o)),t.setInput!==null?t.setInput(e,l,o,n,i):QV(e,l,i,o)}finally{Ot(a)}}function YK(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)_l(~r);else{let o=r,a=n[++i],l=n[++i];qW(a,o);let d=e[o];l(2,d)}}}finally{_l(-1)}}function U0(t,e,n,i,r,o,a,l,d,h,m){let v=e.blueprint.slice();return v[rs]=r,v[Re]=i|4|128|8|64,(h!==null||t&&t[Re]&2048)&&(v[Re]|=2048),vV(v),v[yi]=v[nh]=t,v[go]=n,v[zs]=a||t&&t[zs],v[vn]=l||t&&t[vn],v[Wd]=d||t&&t[Wd]||null,v[yo]=o,v[S0]=EK(),v[o0]=m,v[pV]=h,v[es]=e.type==2?t[es]:v,v}function em(t,e,n,i,r){let o=t.data[e];if(o===null)o=QK(t,e,n,i,r),zW()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let a=UW();o.injectorIndex=a===null?-1:a.injectorIndex}return Sl(o,!0),o}function QK(t,e,n,i,r){let o=wV(),a=KT(),l=a?o:o&&o.parent,d=t.data[e]=nY(t,l,n,e,i,r);return t.firstChild===null&&(t.firstChild=d),o!==null&&(a?o.child==null&&d.parent!==null&&(o.child=d):o.next===null&&(o.next=d,d.prev=o)),d}function L3(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function V3(t,e,n,i,r){let o=nc(),a=i&2;try{_l(-1),a&&e.length>ts&&k3(t,e,ts,!1),Xo(a?2:0,r),n(i,r)}finally{_l(o),Xo(a?3:1,r)}}function f1(t,e,n){if(zT(e)){let i=Ot(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let a=r;a<o;a++){let l=t.data[a];if(l.contentQueries){let d=n[a];l.contentQueries(1,d,a)}}}finally{Ot(i)}}}function p1(t,e,n){_V()&&(cY(t,e,n,Lr(n,e)),(n.flags&64)===64&&B3(t,e,n))}function m1(t,e,n=Lr){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let a=i[o+1],l=a===-1?n(e,t):t[a];t[r++]=l}}}function j3(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=g1(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function g1(t,e,n,i,r,o,a,l,d,h,m){let v=ts+i,y=v+r,b=XK(v,y),w=typeof h=="function"?h():h;return b[it]={type:t,blueprint:b,template:n,queries:null,viewQuery:l,declTNode:e,data:b.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:d,consts:w,incompleteFirstPass:!1,ssrId:m}}function XK(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:wo);return n}function JK(t,e,n,i){let o=i.get(eK,h3)||n===Zo.ShadowDom,a=t.selectRootElement(e,o);return ZK(a),a}function ZK(t){eY(t)}var eY=()=>null;function tY(t,e,n,i){let r=G3(e);r.push(n),t.firstCreatePass&&z3(t).push(i,r.length-1)}function nY(t,e,n,i,r,o){let a=e?e.injectorIndex:-1,l=0;return LW()&&(l|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function VL(t,e,n,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let a=e[o];if(a===void 0)continue;i??={};let l,d=Ae.None;Array.isArray(a)?(l=a[0],d=a[1]):l=a;let h=o;if(r!==null){if(!r.hasOwnProperty(o))continue;h=r[o]}t===0?jL(i,n,h,l,d):jL(i,n,h,l)}return i}function jL(t,e,n,i,r){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,i):o=t[n]=[e,i],r!==void 0&&o.push(r)}function iY(t,e,n){let i=e.directiveStart,r=e.directiveEnd,o=t.data,a=e.attrs,l=[],d=null,h=null;for(let m=i;m<r;m++){let v=o[m],y=n?n.get(v):null,b=y?y.inputs:null,w=y?y.outputs:null;d=VL(0,v.inputs,m,d,b),h=VL(1,v.outputs,m,h,w);let E=d!==null&&a!==null&&!aV(e)?_Y(d,m,a):null;l.push(E)}d!==null&&(d.hasOwnProperty("class")&&(e.flags|=8),d.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=l,e.inputs=d,e.outputs=h}function rY(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function v1(t,e,n,i,r,o,a,l){let d=Lr(e,n),h=e.inputs,m;!l&&h!=null&&(m=h[i])?(_1(t,n,m,i,r),T0(e)&&oY(n,e.index)):e.type&3?(i=rY(i),r=a!=null?a(r,e.value||"",i):r,o.setProperty(d,i,r)):e.type&12}function oY(t,e){let n=tc(e,t);n[Re]&16||(n[Re]|=64)}function y1(t,e,n,i){if(_V()){let r=i===null?null:{"":-1},o=uY(t,n),a,l;o===null?a=l=null:[a,l]=o,a!==null&&U3(t,e,n,a,r,l),r&&dY(n,i,r)}n.mergedAttrs=Vp(n.mergedAttrs,n.attrs)}function U3(t,e,n,i,r,o){for(let h=0;h<i.length;h++)iT(h0(n,e),t,i[h].type);fY(n,t.data.length,i.length);for(let h=0;h<i.length;h++){let m=i[h];m.providersResolver&&m.providersResolver(m)}let a=!1,l=!1,d=L3(t,e,i.length,null);for(let h=0;h<i.length;h++){let m=i[h];n.mergedAttrs=Vp(n.mergedAttrs,m.hostAttrs),pY(t,n,e,d,m),hY(d,m,r),m.contentQueries!==null&&(n.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(n.flags|=64);let v=m.type.prototype;!a&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),a=!0),!l&&(v.ngOnChanges||v.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),l=!0),d++}iY(t,n,o)}function sY(t,e,n,i,r){let o=r.hostBindings;if(o){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let l=~e.index;aY(a)!=l&&a.push(l),a.push(n,i,o)}}function aY(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function cY(t,e,n,i){let r=n.directiveStart,o=n.directiveEnd;T0(n)&&mY(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||h0(n,e),Za(i,e);let a=n.initialInputs;for(let l=r;l<o;l++){let d=t.data[l],h=bl(e,t,l,n);if(Za(h,e),a!==null&&yY(e,l-r,h,d,n,a),Ws(d)){let m=tc(n.index,e);m[go]=bl(e,t,l,n)}}}function B3(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,a=WW();try{_l(o);for(let l=i;l<r;l++){let d=t.data[l],h=e[l];qS(l),(d.hostBindings!==null||d.hostVars!==0||d.hostAttrs!==null)&&lY(d,h)}}finally{_l(-1),qS(a)}}function lY(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function uY(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let a=n[o];if(fW(e,a.selectors,!1))if(i||(i=[]),Ws(a))if(a.findHostDirectiveDefs!==null){let l=[];r=r||new Map,a.findHostDirectiveDefs(a,l,r),i.unshift(...l,a);let d=l.length;mT(t,e,d)}else i.unshift(a),mT(t,e,0);else r=r||new Map,a.findHostDirectiveDefs?.(a,i,r),i.push(a)}return i===null?null:[i,r]}function mT(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function dY(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new J(-301,!1);i.push(e[r],o)}}}function hY(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Ws(e)&&(n[""]=t)}}function fY(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function pY(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=Xd(r.type,!0)),a=new wl(o,Ws(r),N);t.blueprint[i]=a,n[i]=a,sY(t,e,i,L3(t,n,r.hostVars,wo),r)}function mY(t,e,n){let i=Lr(e,t),r=j3(n),o=t[zs].rendererFactory,a=16;n.signals?a=4096:n.onPush&&(a=64);let l=B0(t,U0(t,r,null,a,i,e,null,o.createRenderer(i,n),null,null,null));t[e.index]=l}function gY(t,e,n,i,r,o){let a=Lr(t,e);vY(e[vn],a,o,t.value,n,i,r)}function vY(t,e,n,i,r,o,a){if(o==null)t.removeAttribute(e,r,n);else{let l=a==null?Qd(o):a(o,i||"",r);t.setAttribute(e,r,l,n)}}function yY(t,e,n,i,r,o){let a=o[e];if(a!==null)for(let l=0;l<a.length;){let d=a[l++],h=a[l++],m=a[l++],v=a[l++];F3(i,n,d,h,m,v)}}function _Y(t,e,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let a=t[o];for(let l=0;l<a.length;l+=3)if(a[l]===e){i.push(o,a[l+1],a[l+2],n[r+1]);break}}r+=2}return i}function $3(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function H3(t,e){let n=t.contentQueries;if(n!==null){let i=Ot(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],a=n[r+1];if(a!==-1){let l=t.data[a];QT(o),l.contentQueries(2,e[a],a)}}}finally{Ot(i)}}}function B0(t,e){return t[Up]?t[wL][mo]=e:t[Up]=e,t[wL]=e,e}function gT(t,e,n){QT(0);let i=Ot(null);try{e(t,n)}finally{Ot(i)}}function G3(t){return t[jp]||(t[jp]=[])}function z3(t){return t.cleanup||(t.cleanup=[])}function wY(t,e,n){return(t===null||Ws(t))&&(n=DW(n[e.index])),n[vn]}function q3(t,e){let n=t[Wd],i=n?n.get(is,null):null;i&&i.handleError(e)}function _1(t,e,n,i,r){for(let o=0;o<n.length;){let a=n[o++],l=n[o++],d=n[o++],h=e[a],m=t.data[a];F3(m,h,i,l,d,r)}}function W3(t,e,n){let i=mV(e,t);AK(t[vn],i,n)}function bY(t,e){let n=tc(e,t),i=n[it];CY(i,n);let r=n[rs];r!==null&&n[o0]===null&&(n[o0]=o1(r,n[Wd])),w1(i,n,n[go])}function CY(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function w1(t,e,n){XT(e);try{let i=t.viewQuery;i!==null&&gT(1,i,n);let r=t.template;r!==null&&V3(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[qs]?.finishViewCreation(t),t.staticContentQueries&&H3(t,e),t.staticViewQueries&&gT(2,t.viewQuery,n);let o=t.components;o!==null&&EY(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[Re]&=-5,JT()}}function EY(t,e){for(let n=0;n<e.length;n++)bY(t,e[n])}function IY(t,e,n,i){let r=Ot(null);try{let o=e.tView,l=t[Re]&4096?4096:16,d=U0(t,o,n,l,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null),h=t[e.index];d[Yp]=h;let m=t[qs];return m!==null&&(d[qs]=m.createEmbeddedView(o)),w1(o,d,n),d}finally{Ot(r)}}function UL(t,e){return!e||e.firstChild===null||OV(t)}function SY(t,e,n,i=!0){let r=e[it];if(RK(r,e,t,n),i){let a=pT(n,t),l=e[vn],d=d1(l,t[yl]);d!==null&&PK(r,t[yo],l,e,d,a)}let o=e[o0];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function p0(t,e,n,i,r=!1){for(;n!==null;){let o=e[n.index];o!==null&&i.push(ns(o)),Js(o)&&TY(o,i);let a=n.type;if(a&8)p0(t,e,n.child,i);else if(a&32){let l=u1(n,e),d;for(;d=l();)i.push(d)}else if(a&16){let l=O3(e,n);if(Array.isArray(l))i.push(...l);else{let d=$p(e[es]);p0(d[it],d,l,i,!0)}}n=r?n.projectionNext:n.next}return i}function TY(t,e){for(let n=Cr;n<t.length;n++){let i=t[n],r=i[it].firstChild;r!==null&&p0(i[it],i,r,e)}t[yl]!==t[rs]&&e.push(t[yl])}var K3=[];function DY(t){return t[vl]??AY(t)}function AY(t){let e=K3.pop()??Object.create(MY);return e.lView=t,e}function xY(t){t.lView[vl]!==t&&(t.lView=null,K3.push(t))}var MY=It(te({},g_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Bp(t.lView)},consumerOnSignalRead(){this.lView[vl]=this}});function Y3(t){return X3(t[Up])}function Q3(t){return X3(t[mo])}function X3(t){for(;t!==null&&!Js(t);)t=t[mo];return t}var J3=100;function Z3(t,e=!0,n=0){let i=t[zs],r=i.rendererFactory,o=!1;o||r.begin?.();try{PY(t,n)}catch(a){throw e&&q3(t,a),a}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function PY(t,e){vT(t,e);let n=0;for(;WT(t);){if(n===J3)throw new J(103,!1);n++,vT(t,1)}}function OY(t,e,n,i){let r=e[Re];if((r&256)===256)return;let o=!1;!o&&e[zs].inlineEffectRunner?.flush(),XT(e);let a=null,l=null;!o&&RY(t)&&(l=DY(e),a=nS(l));try{vV(e),GW(t.bindingStartIndex),n!==null&&V3(t,e,n,2,i);let d=(r&3)===3;if(!o)if(d){let v=t.preOrderCheckHooks;v!==null&&Z_(e,v,null)}else{let v=t.preOrderHooks;v!==null&&e0(e,v,0,null),MS(e,0)}if(NY(e),ej(e,0),t.contentQueries!==null&&H3(t,e),!o)if(d){let v=t.contentCheckHooks;v!==null&&Z_(e,v)}else{let v=t.contentHooks;v!==null&&e0(e,v,1),MS(e,1)}YK(t,e);let h=t.components;h!==null&&nj(e,h,0);let m=t.viewQuery;if(m!==null&&gT(2,m,i),!o)if(d){let v=t.viewCheckHooks;v!==null&&Z_(e,v)}else{let v=t.viewHooks;v!==null&&e0(e,v,2),MS(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[X_]){for(let v of e[X_])v();e[X_]=null}o||(e[Re]&=-73)}catch(d){throw Bp(e),d}finally{l!==null&&(iS(l,a),xY(l)),JT()}}function RY(t){return t.type!==2}function ej(t,e){for(let n=Y3(t);n!==null;n=Q3(n))for(let i=Cr;i<n.length;i++){let r=n[i];tj(r,e)}}function NY(t){for(let e=Y3(t);e!==null;e=Q3(e)){if(!(e[Re]&GT.HasTransplantedViews))continue;let n=e[Kd];for(let i=0;i<n.length;i++){let r=n[i],o=r[yi];PW(r)}}}function kY(t,e,n){let i=tc(e,t);tj(i,n)}function tj(t,e){qT(t)&&vT(t,e)}function vT(t,e){let i=t[it],r=t[Re],o=t[vl],a=!!(e===0&&r&16);if(a||=!!(r&64&&e===0),a||=!!(r&1024),a||=!!(o?.dirty&&v_(o)),o&&(o.dirty=!1),t[Re]&=-9217,a)OY(i,t,i.template,t[go]);else if(r&8192){ej(t,1);let l=i.components;l!==null&&nj(t,l,1)}}function nj(t,e,n){for(let i=0;i<e.length;i++)kY(t,e[i],n)}function b1(t){for(t[zs].changeDetectionScheduler?.notify();t;){t[Re]|=64;let e=$p(t);if(CW(t)&&!e)return t;t=e}return null}var Cl=class{get rootNodes(){let e=this._lView,n=e[it];return p0(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[go]}set context(e){this._lView[go]=e}get destroyed(){return(this._lView[Re]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[yi];if(Js(e)){let n=e[s0],i=n?n.indexOf(this):-1;i>-1&&(fT(e,i),a0(n,i))}this._attachedToViewContainer=!1}M3(this._lView[it],this._lView)}onDestroy(e){yV(this._lView,e)}markForCheck(){b1(this._cdRefInjectingView||this._lView)}detach(){this._lView[Re]&=-129}reattach(){zS(this._lView),this._lView[Re]|=128}detectChanges(){this._lView[Re]|=1024,Z3(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,A3(this._lView[it],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=e,zS(this._lView)}},vo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=VY;let t=e;return t})(),FY=vo,LY=class extends FY{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=IY(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:i});return new Cl(r)}};function VY(){return $0(Mi(),wt())}function $0(t,e){return t.type&4?new LY(e,t,ih(t,e)):null}var M0e=new RegExp(`^(\\d+)*(${b7}|${w7})*(.*)`);var jY=()=>null;function BL(t,e){return jY(t,e)}var zp=class{},yT=class{},m0=class{};function UY(t){let e=Error(`No component factory found for ${Wi(t)}.`);return e[BY]=t,e}var BY="ngComponent";var _T=class{resolveComponentFactory(e){throw UY(e)}},H0=(()=>{let e=class e{};e.NULL=new _T;let t=e;return t})(),El=class{},bo=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>$Y();let t=e;return t})();function $Y(){let t=wt(),e=Mi(),n=tc(e.index,t);return(ml(n)?n:t)[vn]}var HY=(()=>{let e=class e{};e.\u0275prov=Z({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),NS={},ij=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=GY,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),wT=class extends ij{constructor(e){super(),this._lView=e}onDestroy(e){return yV(this._lView,e),()=>RW(this._lView,e)}};function GY(){return new wT(wt())}var $L=new Set;function Tl(t){$L.has(t)||($L.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function HL(...t){}function zY(){let t=typeof Gs.requestAnimationFrame=="function",e=Gs[t?"requestAnimationFrame":"setTimeout"],n=Gs[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var _t=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $t(!1),this.onMicrotaskEmpty=new $t(!1),this.onStable=new $t(!1),this.onError=new $t(!1),typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=zY().nativeRequestAnimationFrame,KY(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new J(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,e,qY,HL,HL);try{return o.runTask(a,n,i)}finally{o.cancelTask(a)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},qY={};function C1(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function WY(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Gs,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,bT(t),t.isCheckStableRunning=!0,C1(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),bT(t))}function KY(t){let e=()=>{WY(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,a,l)=>{if(YY(l))return n.invokeTask(r,o,a,l);try{return GL(t),n.invokeTask(r,o,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),zL(t)}},onInvoke:(n,i,r,o,a,l,d)=>{try{return GL(t),n.invoke(r,o,a,l,d)}finally{t.shouldCoalesceRunChangeDetection&&e(),zL(t)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,bT(t),C1(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function bT(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function GL(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function zL(t){t._nesting--,C1(t)}function YY(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var rj=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=Z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function g0(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number")o=l;else if(o==1)r=HS(r,l);else if(o==2){let d=l,h=e[++a];i=HS(i,d+": "+h+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var v0=class extends H0{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ja(e);return new eh(n,this.ngModule)}};function qL(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function QY(t){let e=t.toLowerCase();return e==="svg"?EW:e==="math"?IW:null}var CT=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=O0(i);let r=this.injector.get(e,NS,i);return r!==NS||n===NS?r:this.parentInjector.get(e,n,i)}},eh=class extends m0{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=qL(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return qL(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=vW(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let o=Ot(null);try{r=r||this.ngModule;let a=r instanceof li?r:r?.injector;a&&this.componentDef.getStandaloneInjector!==null&&(a=this.componentDef.getStandaloneInjector(a)||a);let l=a?new CT(e,a):e,d=l.get(El,null);if(d===null)throw new J(407,!1);let h=l.get(HY,null),m=l.get(rj,null),v=l.get(zp,null),y={rendererFactory:d,sanitizer:h,inlineEffectRunner:null,afterRenderEventManager:m,changeDetectionScheduler:v},b=d.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",E=i?JK(b,i,this.componentDef.encapsulation,l):D3(b,w,QY(w)),T=512;this.componentDef.signals?T|=4096:this.componentDef.onPush||(T|=16);let O=null;E!==null&&(O=o1(E,l,!0));let L=g1(0,null,null,1,0,null,null,null,null,null,null),$=U0(null,L,null,T,null,null,y,b,l,null,O);XT($);let A,ee;try{let U=this.componentDef,ie,Ce=null;U.findHostDirectiveDefs?(ie=[],Ce=new Map,U.findHostDirectiveDefs(U,ie,Ce),ie.push(U)):ie=[U];let He=XY($,E),Xe=JY(He,E,U,ie,$,y,b);ee=gV(L,ts),E&&tQ(b,U,E,i),n!==void 0&&nQ(ee,this.ngContentSelectors,n),A=eQ(Xe,U,ie,Ce,$,[iQ]),w1(L,$,null)}finally{JT()}return new ET(this.componentType,A,ih(ee,$),$,ee)}finally{Ot(o)}}},ET=class extends yT{constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Cl(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;_1(o[it],o,r,e,n),this.previousInputValues.set(e,n);let a=tc(this._tNode.index,o);b1(a)}}get injector(){return new gl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function XY(t,e){let n=t[it],i=ts;return t[i]=e,em(n,i,2,"#host",null)}function JY(t,e,n,i,r,o,a){let l=r[it];ZY(i,t,e,a);let d=null;e!==null&&(d=o1(e,r[Wd]));let h=o.rendererFactory.createRenderer(e,n),m=16;n.signals?m=4096:n.onPush&&(m=64);let v=U0(r,j3(n),null,m,r[t.index],t,o,h,null,null,d);return l.firstCreatePass&&mT(l,t,i.length-1),B0(r,v),r[t.index]=v}function ZY(t,e,n,i){for(let r of t)e.mergedAttrs=Vp(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(g0(e,e.mergedAttrs,!0),n!==null&&N3(i,n,e))}function eQ(t,e,n,i,r,o){let a=Mi(),l=r[it],d=Lr(a,r);U3(l,r,a,n,null,i);for(let m=0;m<n.length;m++){let v=a.directiveStart+m,y=bl(r,l,v,a);Za(y,r)}B3(l,r,a),d&&Za(d,r);let h=bl(r,l,a.directiveStart+a.componentOffset,a);if(t[go]=r[go]=h,o!==null)for(let m of o)m(h,e);return f1(l,a,r),h}function tQ(t,e,n,i){if(i)GS(t,n,["ng-version","17.2.4"]);else{let{attrs:r,classes:o}=yW(e.selectors[0]);r&&GS(t,n,r),o&&o.length>0&&R3(t,n,o.join(" "))}}function nQ(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function iQ(){let t=Mi();k0(wt()[it],t)}var _i=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=rQ;let t=e;return t})();function rQ(){let t=Mi();return sj(t,wt())}var oQ=_i,oj=class extends oQ{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return ih(this._hostTNode,this._hostLView)}get injector(){return new gl(this._hostTNode,this._hostLView)}get parentInjector(){let e=a1(this._hostTNode,this._hostLView);if(t3(e)){let n=d0(e,this._hostLView),i=u0(e),r=n[it].data[i+8];return new gl(r,n)}else return new gl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=WL(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Cr}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let a=BL(this._lContainer,e.ssrId),l=e.createEmbeddedViewImpl(n||{},o,a);return this.insertImpl(l,r,UL(this._hostTNode,a)),l}createComponent(e,n,i,r,o){let a=e&&!k7(e),l;if(a)l=n;else{let w=n||{};l=w.index,i=w.injector,r=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let d=a?e:new eh(Ja(e)),h=i||this.parentInjector;if(!o&&d.ngModule==null){let E=(a?h:this.parentInjector).get(li,null);E&&(o=E)}let m=Ja(d.componentType??{}),v=BL(this._lContainer,m?.id??null),y=v?.firstChild??null,b=d.create(h,r,y,o);return this.insertImpl(b.hostView,l,UL(this._hostTNode,v)),b}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(MW(r)){let l=this.indexOf(e);if(l!==-1)this.detach(l);else{let d=r[yi],h=new oj(d,d[yo],d[yi]);h.detach(h.indexOf(e))}}let o=this._adjustIndex(n),a=this._lContainer;return SY(a,r,o,i),e.attachToViewContainerRef(),MV(kS(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=WL(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=fT(this._lContainer,n);i&&(a0(kS(this._lContainer),n),M3(i[it],i))}detach(e){let n=this._adjustIndex(e,-1),i=fT(this._lContainer,n);return i&&a0(kS(this._lContainer),n)!=null?new Cl(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function WL(t){return t[s0]}function kS(t){return t[s0]||(t[s0]=[])}function sj(t,e){let n,i=e[t.index];return Js(i)?n=i:(n=$3(i,e,null,t),e[t.index]=n,B0(e,n)),aQ(n,e,t,i),new oj(n,t,e)}function sQ(t,e){let n=t[vn],i=n.createComment(""),r=Lr(e,t),o=d1(n,r);return f0(n,o,i,UK(n,r),!1),i}var aQ=uQ,cQ=()=>!1;function lQ(t,e,n){return cQ(t,e,n)}function uQ(t,e,n,i){if(t[yl])return;let r;n.type&8?r=ns(i):r=sQ(e,n),t[yl]=r}var IT=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},ST=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let a=n.getByIndex(o),l=this.queries[a.indexInDeclarationView];r.push(l.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)E1(e,n).matches!==null&&this.queries[n].setDirty()}},y0=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=yQ(e):this.predicate=e}},TT=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},DT=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,n,dQ(n,o)),this.matchTNodeWithReadOption(e,n,t0(n,e,o,!1,!1))}else i===vo?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,t0(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Zt||r===_i||r===vo&&n.type&4)this.addMatch(n.index,-2);else{let o=t0(n,e,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function dQ(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function hQ(t,e){return t.type&11?ih(t,e):t.type&4?$0(t,e):null}function fQ(t,e,n,i){return n===-1?hQ(e,t):n===-2?pQ(t,e,i):bl(t,t[it],n,e)}function pQ(t,e,n){if(n===Zt)return ih(e,t);if(n===vo)return $0(e,t);if(n===_i)return sj(e,t)}function aj(t,e,n,i){let r=e[qs].queries[i];if(r.matches===null){let o=t.data,a=n.matches,l=[];for(let d=0;a!==null&&d<a.length;d+=2){let h=a[d];if(h<0)l.push(null);else{let m=o[h];l.push(fQ(e,m,a[d+1],n.metadata.read))}}r.matches=l}return r.matches}function AT(t,e,n,i){let r=t.queries.getByIndex(n),o=r.matches;if(o!==null){let a=aj(t,e,r,n);for(let l=0;l<o.length;l+=2){let d=o[l];if(d>0)i.push(a[l/2]);else{let h=o[l+1],m=e[-d];for(let v=Cr;v<m.length;v++){let y=m[v];y[Yp]===y[yi]&&AT(y[it],y,h,i)}if(m[Kd]!==null){let v=m[Kd];for(let y=0;y<v.length;y++){let b=v[y];AT(b[it],b,h,i)}}}}}return i}function mQ(t,e){return t[qs].queries[e].queryList}function cj(t,e,n){let i=new WS((n&4)===4);return tY(t,e,i,i.destroy),(e[qs]??=new ST).queries.push(new IT(i))-1}function gQ(t,e,n){let i=Bn();return i.firstCreatePass&&(lj(i,new y0(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),cj(i,wt(),e)}function vQ(t,e,n,i){let r=Bn();if(r.firstCreatePass){let o=Mi();lj(r,new y0(e,n,i),o.index),_Q(r,t),(n&2)===2&&(r.staticContentQueries=!0)}return cj(r,wt(),n)}function yQ(t){return t.split(",").map(e=>e.trim())}function lj(t,e,n){t.queries===null&&(t.queries=new TT),t.queries.track(new DT(e,n))}function _Q(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function E1(t,e){return t.queries.getByIndex(e)}function wQ(t,e){let n=t[it],i=E1(n,e);return i.crossesNgTemplate?AT(n,t,e,[]):aj(n,t,i,e)}function bQ(t){return typeof t=="function"&&t[Ha]!==void 0}function rh(t,e){Tl("NgSignals");let n=V2(t),i=n[Ha];return e?.equal&&(i.equal=e.equal),n.set=r=>oS(i,r),n.update=r=>j2(i,r),n.asReadonly=CQ.bind(n),n}function CQ(){let t=this[Ha];if(t.readonlyFn===void 0){let e=()=>this();e[Ha]=t,t.readonlyFn=e}return t.readonlyFn}function uj(t){return bQ(t)&&typeof t.set=="function"}function EQ(t){return Object.getPrototypeOf(t.prototype).constructor}function St(t){let e=EQ(t.type),n=!0,i=[t];for(;e;){let r;if(Ws(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new J(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let a=t;a.inputs=Y_(t.inputs),a.inputTransforms=Y_(t.inputTransforms),a.declaredInputs=Y_(t.declaredInputs),a.outputs=Y_(t.outputs);let l=r.hostBindings;l&&AQ(t,l);let d=r.viewQuery,h=r.contentQueries;if(d&&TQ(t,d),h&&DQ(t,h),IQ(t,r),iW(t.outputs,r.outputs),Ws(r)&&r.data.animation){let m=t.data;m.animation=(m.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let a=0;a<o.length;a++){let l=o[a];l&&l.ngInherit&&l(t),l===St&&(n=!1)}}e=Object.getPrototypeOf(e)}SQ(i)}function IQ(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function SQ(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Vp(r.hostAttrs,n=Vp(n,r.hostAttrs))}}function Y_(t){return t===qd?{}:t===sr?[]:t}function TQ(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function DQ(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function AQ(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function tm(t){let e=t.inputConfig,n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}t.inputTransforms=n}var ec=class{},qp=class{};var xT=class extends ec{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new v0(this);let r=dV(e);this._bootstrapComponents=T3(r.bootstrap),this._r3Injector=u3(e,n,[{provide:ec,useValue:this},{provide:H0,useValue:this.componentFactoryResolver},...i],Wi(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},MT=class extends qp{constructor(e){super(),this.moduleType=e}create(e){return new xT(this.moduleType,e,[])}};var _0=class extends ec{constructor(e){super(),this.componentFactoryResolver=new v0(this),this.instance=null;let n=new Gp([...e.providers,{provide:ec,useValue:this},{provide:H0,useValue:this.componentFactoryResolver}],e.parent||N0(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function I1(t,e,n=null){return new _0({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Dl=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Yn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dj(t){return MQ(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function xQ(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function MQ(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function PQ(t,e,n){return t[e]=n}function OQ(t,e){return t[e]}function Qs(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function RQ(t,e,n,i){let r=Qs(t,e,n);return Qs(t,e+1,i)||r}function NQ(t,e,n,i,r,o,a,l,d){let h=e.consts,m=em(e,t,4,a||null,Yd(h,l));y1(e,n,m,Yd(h,d)),k0(e,m);let v=m.tView=g1(2,m,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,h,null);return e.queries!==null&&(e.queries.template(e,m),v.queries=e.queries.embeddedTView(m)),m}function z(t,e,n,i,r,o,a,l){let d=wt(),h=Bn(),m=t+ts,v=h.firstCreatePass?NQ(m,h,d,e,n,i,r,o,a):h.data[m];Sl(v,!1);let y=kQ(h,d,v,t);x0()&&V0(h,d,y,v),Za(y,d);let b=$3(y,d,y,v);return d[m]=b,B0(d,b),lQ(b,v,d),D0(v)&&p1(h,d,v),a!=null&&m1(d,v,l),z}var kQ=FQ;function FQ(t,e,n,i){return M0(!0),e[vn].createComment("")}function G0(t,e,n,i){let r=wt(),o=Qp();if(Qs(r,o,e)){let a=Bn(),l=A0();gY(l,r,t,e,n,i)}return G0}function LQ(t,e,n,i){return Qs(t,Qp(),n)?e+Qd(n)+i:wo}function VQ(t,e,n,i,r,o){let a=HW(),l=RQ(t,a,n,r);return YT(2),l?e+Qd(n)+i+Qd(r)+o:wo}function Q_(t,e){return t<<17|e<<2}function Il(t){return t>>17&32767}function jQ(t){return(t&2)==2}function UQ(t,e){return t&131071|e<<17}function PT(t){return t|2}function th(t){return(t&131068)>>2}function FS(t,e){return t&-131069|e<<2}function BQ(t){return(t&1)===1}function OT(t){return t|1}function $Q(t,e,n,i,r,o){let a=o?e.classBindings:e.styleBindings,l=Il(a),d=th(a);t[i]=n;let h=!1,m;if(Array.isArray(n)){let v=n;m=v[1],(m===null||Xp(v,m)>0)&&(h=!0)}else m=n;if(r)if(d!==0){let y=Il(t[l+1]);t[i+1]=Q_(y,l),y!==0&&(t[y+1]=FS(t[y+1],i)),t[l+1]=UQ(t[l+1],i)}else t[i+1]=Q_(l,0),l!==0&&(t[l+1]=FS(t[l+1],i)),l=i;else t[i+1]=Q_(d,0),l===0?l=i:t[d+1]=FS(t[d+1],i),d=i;h&&(t[i+1]=PT(t[i+1])),KL(t,m,i,!0),KL(t,m,i,!1),HQ(e,m,t,i,o),a=Q_(l,d),o?e.classBindings=a:e.styleBindings=a}function HQ(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Xp(o,e)>=0&&(n[i+1]=OT(n[i+1]))}function KL(t,e,n,i){let r=t[n+1],o=e===null,a=i?Il(r):th(r),l=!1;for(;a!==0&&(l===!1||o);){let d=t[a],h=t[a+1];GQ(d,e)&&(l=!0,t[a+1]=i?OT(h):PT(h)),a=i?Il(h):th(h)}l&&(t[n+1]=i?PT(r):OT(r))}function GQ(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Xp(t,e)>=0:!1}var zi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zQ(t){return t.substring(zi.key,zi.keyEnd)}function qQ(t){return t.substring(zi.value,zi.valueEnd)}function WQ(t){return KQ(t),hj(t,w0(t,0,zi.textEnd))}function hj(t,e){let n=zi.textEnd,i=zi.key=w0(t,e,n);return n===i?-1:(i=zi.keyEnd=YQ(t,i,n),i=YL(t,i,n,58),i=zi.value=w0(t,i,n),i=zi.valueEnd=QQ(t,i,n),YL(t,i,n,59))}function KQ(t){zi.key=0,zi.keyEnd=0,zi.value=0,zi.valueEnd=0,zi.textEnd=t.length}function w0(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function YQ(t,e,n){let i;for(;e<n&&((i=t.charCodeAt(e))===45||i===95||(i&-33)>=65&&(i&-33)<=90||i>=48&&i<=57);)e++;return e}function YL(t,e,n,i){return e=w0(t,e,n),e<n&&e++,e}function QQ(t,e,n){let i=-1,r=-1,o=-1,a=e,l=a;for(;a<n;){let d=t.charCodeAt(a++);if(d===59)return l;d===34||d===39?l=a=QL(t,d,a,n):e===a-4&&o===85&&r===82&&i===76&&d===40?l=a=QL(t,41,a,n):d>32&&(l=a),o=r,r=i,i=d&-33}return l}function QL(t,e,n,i){let r=-1,o=n;for(;o<i;){let a=t.charCodeAt(o++);if(a==e&&r!==92)return o;a==92&&r===92?r=0:r=a}throw new Error}function P(t,e,n){let i=wt(),r=Qp();if(Qs(i,r,e)){let o=Bn(),a=A0();v1(o,a,i,t,e,i[vn],n,!1)}return P}function RT(t,e,n,i,r){let o=e.inputs,a=r?"class":"style";_1(t,n,o[a],a,i)}function Ur(t,e,n){return fj(t,e,n,!1),Ur}function et(t,e){return fj(t,e,null,!0),et}function z0(t){JQ(gj,XQ,t,!1)}function XQ(t,e){for(let n=WQ(e);n>=0;n=hj(e,n))gj(t,zQ(e),qQ(e))}function fj(t,e,n,i){let r=wt(),o=Bn(),a=YT(2);if(o.firstUpdatePass&&mj(o,t,a,i),e!==wo&&Qs(r,a,e)){let l=o.data[nc()];vj(o,l,r,r[vn],t,r[a+1]=oX(e,n),i,a)}}function JQ(t,e,n,i){let r=Bn(),o=YT(2);r.firstUpdatePass&&mj(r,null,o,i);let a=wt();if(n!==wo&&Qs(a,o,n)){let l=r.data[nc()];if(yj(l,i)&&!pj(r,o)){let d=i?l.classesWithoutHost:l.stylesWithoutHost;d!==null&&(n=HS(d,n||"")),RT(r,l,a,n,i)}else rX(r,l,a,a[vn],a[o+1],a[o+1]=iX(t,e,n),i,o)}}function pj(t,e){return e>=t.expandoStartIndex}function mj(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[nc()],a=pj(t,n);yj(o,i)&&e===null&&!a&&(e=!1),e=ZQ(r,o,e,i),$Q(r,o,e,n,a,i)}}function ZQ(t,e,n,i){let r=CV(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=LS(null,t,e,n,i),n=Wp(n,e.attrs,i),o=null);else{let a=e.directiveStylingLast;if(a===-1||t[a]!==r)if(n=LS(r,t,e,n,i),o===null){let d=eX(t,e,i);d!==void 0&&Array.isArray(d)&&(d=LS(null,t,e,d[1],i),d=Wp(d,e.attrs,i),tX(t,e,i,d))}else o=nX(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function eX(t,e,n){let i=n?e.classBindings:e.styleBindings;if(th(i)!==0)return t[Il(i)]}function tX(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[Il(r)]=i}function nX(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let a=t[o].hostAttrs;i=Wp(i,a,n)}return Wp(i,e.attrs,n)}function LS(t,e,n,i,r){let o=null,a=n.directiveEnd,l=n.directiveStylingLast;for(l===-1?l=n.directiveStart:l++;l<a&&(o=e[l],i=Wp(i,o.hostAttrs,r),o!==t);)l++;return t!==null&&(n.directiveStylingLast=l),i}function Wp(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];typeof a=="number"?r=a:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),PV(t,a,n?!0:e[++o]))}return t===void 0?null:t}function iX(t,e,n){if(n==null||n==="")return sr;let i=[],r=jr(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function gj(t,e,n){PV(t,e,jr(n))}function rX(t,e,n,i,r,o,a,l){r===wo&&(r=sr);let d=0,h=0,m=0<r.length?r[0]:null,v=0<o.length?o[0]:null;for(;m!==null||v!==null;){let y=d<r.length?r[d+1]:void 0,b=h<o.length?o[h+1]:void 0,w=null,E;m===v?(d+=2,h+=2,y!==b&&(w=v,E=b)):v===null||m!==null&&m<v?(d+=2,w=m):(h+=2,w=v,E=b),w!==null&&vj(t,e,n,i,w,E,a,l),m=d<r.length?r[d]:null,v=h<o.length?o[h]:null}}function vj(t,e,n,i,r,o,a,l){if(!(e.type&3))return;let d=t.data,h=d[l+1],m=BQ(h)?XL(d,e,n,r,th(h),a):void 0;if(!b0(m)){b0(o)||jQ(h)&&(o=XL(d,null,n,r,l,a));let v=mV(nc(),n);WK(i,a,v,r,o)}}function XL(t,e,n,i,r,o){let a=e===null,l;for(;r>0;){let d=t[r],h=Array.isArray(d),m=h?d[1]:d,v=m===null,y=n[r+1];y===wo&&(y=v?sr:void 0);let b=v?AS(y,i):m===i?y:void 0;if(h&&!b0(b)&&(b=AS(d,i)),b0(b)&&(l=b,a))return l;let w=t[r+1];r=a?Il(w):th(w)}if(e!==null){let d=o?e.residualClasses:e.residualStyles;d!=null&&(l=AS(d,i))}return l}function b0(t){return t!==void 0}function oX(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Wi(jr(t)))),t}function yj(t,e){return(t.flags&(e?8:16))!==0}function sX(t,e,n,i,r,o){let a=e.consts,l=Yd(a,r),d=em(e,t,2,i,l);return y1(e,n,d,Yd(a,o)),d.attrs!==null&&g0(d,d.attrs,!1),d.mergedAttrs!==null&&g0(d,d.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,d),d}function I(t,e,n,i){let r=wt(),o=Bn(),a=ts+t,l=r[vn],d=o.firstCreatePass?sX(a,o,r,e,n,i):o.data[a],h=aX(o,r,d,l,e,t);r[a]=h;let m=D0(d);return Sl(d,!0),N3(l,h,d),(d.flags&32)!==32&&x0()&&V0(o,r,h,d),NW()===0&&Za(h,r),kW(),m&&(p1(o,r,d),f1(o,d,r)),i!==null&&m1(r,d),I}function S(){let t=Mi();KT()?bV():(t=t.parent,Sl(t,!1));let e=t;VW(e)&&jW(),FW();let n=Bn();return n.firstCreatePass&&(k0(n,t),zT(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&$7(e)&&RT(n,e,wt(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&H7(e)&&RT(n,e,wt(),e.stylesWithoutHost,!1),S}function oe(t,e,n,i){return I(t,e,n,i),S(),oe}var aX=(t,e,n,i,r,o)=>(M0(!0),D3(i,r,QW()));function cX(t,e,n,i,r){let o=e.consts,a=Yd(o,i),l=em(e,t,8,"ng-container",a);a!==null&&g0(l,a,!0);let d=Yd(o,r);return y1(e,n,l,d),e.queries!==null&&e.queries.elementStart(e,l),l}function gt(t,e,n){let i=wt(),r=Bn(),o=t+ts,a=r.firstCreatePass?cX(o,r,i,e,n):r.data[o];Sl(a,!0);let l=lX(r,i,a,t);return i[o]=l,x0()&&V0(r,i,l,a),Za(l,i),D0(a)&&(p1(r,i,a),f1(r,a,i)),n!=null&&m1(i,a),gt}function vt(){let t=Mi(),e=Bn();return KT()?bV():(t=t.parent,Sl(t,!1)),e.firstCreatePass&&(k0(e,t),zT(t)&&e.queries.elementEnd(t)),vt}function S1(t,e,n){return gt(t,e,n),vt(),S1}var lX=(t,e,n,i)=>(M0(!0),xK(e[vn],""));function ae(){return wt()}function nm(t,e,n){let i=wt(),r=Qp();if(Qs(i,r,e)){let o=Bn(),a=A0(),l=CV(o.data),d=wY(l,a,i);v1(o,a,i,t,e,d,n,!0)}return nm}var C0="en-US";var uX=C0;function dX(t){typeof t=="string"&&(uX=t.toLowerCase().replace(/_/g,"-"))}function R(t,e,n,i){let r=wt(),o=Bn(),a=Mi();return _j(o,r,r[vn],a,t,e,i),R}function hX(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let a=r[o];if(a===n&&r[o+1]===i){let l=e[jp],d=r[o+2];return l.length>d?l[d]:null}typeof a=="string"&&(o+=2)}return null}function _j(t,e,n,i,r,o,a){let l=D0(i),h=t.firstCreatePass&&z3(t),m=e[go],v=G3(e),y=!0;if(i.type&3||a){let E=Lr(i,e),T=a?a(E):E,O=v.length,L=a?A=>a(ns(A[i.index])):i.index,$=null;if(!a&&l&&($=hX(t,e,r,i.index)),$!==null){let A=$.__ngLastListenerFn__||$;A.__ngNextListenerFn__=o,$.__ngLastListenerFn__=o,y=!1}else{o=ZL(i,e,m,o,!1);let A=n.listen(T,r,o);v.push(o,A),h&&h.push(r,L,O,O+1)}}else o=ZL(i,e,m,o,!1);let b=i.outputs,w;if(y&&b!==null&&(w=b[r])){let E=w.length;if(E)for(let T=0;T<E;T+=2){let O=w[T],L=w[T+1],ee=e[O][L].subscribe(o),U=v.length;if(v.push(o,ee),h){let ie=typeof ee=="function"?U+1:-(U+1);h.push(r,i.index,U,ie)}}}}function JL(t,e,n,i){let r=Ot(null);try{return Xo(6,e,n),n(i)!==!1}catch(o){return q3(t,o),!1}finally{Xo(7,e,n),Ot(r)}}function ZL(t,e,n,i,r){return function o(a){if(a===Function)return i;let l=t.componentOffset>-1?tc(t.index,e):e;b1(l);let d=JL(e,n,i,a),h=o.__ngNextListenerFn__;for(;h;)d=JL(e,n,h,a)&&d,h=h.__ngNextListenerFn__;return r&&d===!1&&a.preventDefault(),d}}function M(t=1){return YW(t)}function wj(t,e,n,i){vQ(t,e,n,i)}function bj(t,e,n){gQ(t,e,n)}function q0(t){let e=wt(),n=Bn(),i=EV();QT(i+1);let r=E1(n,i);if(t.dirty&&xW(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=wQ(e,i);t.reset(o,JW),t.notifyOnChanges()}return!0}return!1}function W0(){return mQ(wt(),EV())}function K0(t){let e=BW();return AW(e,ts+t)}function j(t,e=""){let n=wt(),i=Bn(),r=t+ts,o=i.firstCreatePass?em(i,r,1,e,null):i.data[r],a=fX(i,n,o,e,t);n[r]=a,x0()&&V0(i,n,a,o),Sl(o,!1)}var fX=(t,e,n,i,r)=>(M0(!0),DK(e[vn],i));function me(t){return Cj("",t,""),me}function Cj(t,e,n){let i=wt(),r=LQ(i,t,e,n);return r!==wo&&W3(i,nc(),r),Cj}function ta(t,e,n,i,r){let o=wt(),a=VQ(o,t,e,n,i,r);return a!==wo&&W3(o,nc(),a),ta}function Fe(t,e,n){uj(e)&&(e=e());let i=wt(),r=Qp();if(Qs(i,r,e)){let o=Bn(),a=A0();v1(o,a,i,t,e,i[vn],n,!1)}return Fe}function je(t,e){let n=uj(t);return n&&t.set(e),n}function Le(t,e){let n=wt(),i=Bn(),r=Mi();return _j(i,n,n[vn],r,t,e),Le}function pX(t,e,n){let i=Bn();if(i.firstCreatePass){let r=Ws(t);NT(n,i.data,i.blueprint,r,!0),NT(e,i.data,i.blueprint,r,!1)}}function NT(t,e,n,i,r){if(t=qi(t),Array.isArray(t))for(let o=0;o<t.length;o++)NT(t[o],e,n,i,r);else{let o=Bn(),a=wt(),l=Mi(),d=Zd(t)?t:qi(t.provide),h=YV(t),m=l.providerIndexes&1048575,v=l.directiveStart,y=l.providerIndexes>>20;if(Zd(t)||!t.multi){let b=new wl(h,r,N),w=jS(d,e,r?m:m+y,v);w===-1?(iT(h0(l,a),o,d),VS(o,t,e.length),e.push(d),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(b),a.push(b)):(n[w]=b,a[w]=b)}else{let b=jS(d,e,m+y,v),w=jS(d,e,m,m+y),E=b>=0&&n[b],T=w>=0&&n[w];if(r&&!T||!r&&!E){iT(h0(l,a),o,d);let O=vX(r?gX:mX,n.length,r,i,h);!r&&T&&(n[w].providerFactory=O),VS(o,t,e.length,0),e.push(d),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(O),a.push(O)}else{let O=Ej(n[r?w:b],h,!r&&i);VS(o,t,b>-1?b:w,O)}!r&&i&&T&&n[w].componentProviders++}}}function VS(t,e,n,i){let r=Zd(e),o=D7(e);if(r||o){let d=(o?qi(e.useClass):e).prototype.ngOnDestroy;if(d){let h=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let m=h.indexOf(n);m===-1?h.push(n,[i,d]):h[m+1].push(i,d)}else h.push(n,d)}}}function Ej(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function jS(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function mX(t,e,n,i){return kT(this.multi,[])}function gX(t,e,n,i){let r=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=bl(n,n[it],this.providerFactory.index,i);o=l.slice(0,a),kT(r,o);for(let d=a;d<l.length;d++)o.push(l[d])}else o=[],kT(r,o);return o}function kT(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function vX(t,e,n,i,r){let o=new wl(t,n,N);return o.multi=[],o.index=e,o.componentProviders=0,Ej(o,r,i&&!n),o}function oh(t,e=[]){return n=>{n.providersResolver=(i,r)=>pX(i,r?r(t):t,e)}}var yX=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=qV(!1,i.type),o=r.length>0?I1([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=Z({token:e,providedIn:"environment",factory:()=>new e(re(li))});let t=e;return t})();function be(t){Tl("NgStandalone"),t.getStandaloneInjector=e=>e.get(yX).getOrCreateStandaloneInjector(t)}function Er(t,e,n){let i=$W()+t,r=wt();return r[i]===wo?PQ(r,i,n?e.call(n):e()):OQ(r,i)}function Ij(t,e){return $0(t,e)}var Xs=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Sj=new Xs("17.2.4"),Y0=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Tj=new ye("");function Al(t){return!!t&&typeof t.then=="function"}function Dj(t){return!!t&&typeof t.subscribe=="function"}var Aj=new ye(""),xj=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=X(Aj,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let o of this.appInits){let a=o();if(Al(a))i.push(a);else if(Dj(a)){let l=new Promise((d,h)=>{a.subscribe({complete:d,error:h})});i.push(l)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(o=>{this.reject(o)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Q0=new ye("");function _X(){L2(()=>{throw new J(600,!1)})}function wX(t){return t.isBoundToModule}function bX(t,e,n){try{let i=n();return Al(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}var ss=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=X(d3),this.afterRenderEffectManager=X(rj),this.componentTypes=[],this.components=[],this.isStable=X(Dl).hasPendingTasks.pipe(ke(i=>!i)),this._injector=X(li)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let o=i instanceof m0;if(!this._injector.get(xj).done){let b=!o&&uV(i),w=!1;throw new J(405,w)}let l;o?l=i:l=this._injector.get(H0).resolveComponentFactory(i),this.componentTypes.push(l.componentType);let d=wX(l)?void 0:this._injector.get(ec),h=r||l.selector,m=l.create(Kt.NULL,[],h,d),v=m.location.nativeElement,y=m.injector.get(Tj,null);return y?.registerApplication(v),m.onDestroy(()=>{this.detachView(m.hostView),US(this.components,m),y?.unregisterApplication(v)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new J(101,!1);let i=Ot(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Ot(i)}}detectChangesInAttachedViews(){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===J3)throw new J(103,!1);let o=i===0;for(let{_lView:a,notifyErrorHandler:l}of this._views)!o&&!BS(a)||this.detectChangesInView(a,l,o);if(i++,r.executeInternalCallbacks(),!this._views.some(({_lView:a})=>BS(a))&&(r.execute(),!this._views.some(({_lView:a})=>BS(a))))break}}detectChangesInView(i,r,o){let a;o?(a=0,i[Re]|=1024):i[Re]&64?a=0:a=1,Z3(i,r,a)}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;US(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(Q0,[]);[...this._bootstrapListeners,...r].forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>US(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new J(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function US(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function BS(t){return WT(t)}var FT=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},T1=(()=>{let e=class e{compileModuleSync(i){return new MT(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),o=dV(i),a=T3(o.declarations).reduce((l,d)=>{let h=Ja(d);return h&&l.push(new eh(h)),l},[]);return new FT(r,a)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var CX=(()=>{let e=class e{constructor(){this.zone=X(_t),this.applicationRef=X(ss)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function EX(t){return[{provide:_t,useFactory:t},{provide:Jd,multi:!0,useFactory:()=>{let e=X(CX,{optional:!0});return()=>e.initialize()}},{provide:Jd,multi:!0,useFactory:()=>{let e=X(DX);return()=>{e.initialize()}}},{provide:d3,useFactory:IX}]}function IX(){let t=X(_t),e=X(is);return n=>t.runOutsideAngular(()=>e.handleError(n))}function SX(t){let e=EX(()=>new _t(TX(t)));return rc([[],e])}function TX(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var DX=(()=>{let e=class e{constructor(){this.subscription=new Pn,this.initialized=!1,this.zone=X(_t),this.pendingTasks=X(Dl)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_t.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_t.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function AX(){return typeof $localize<"u"&&$localize.locale||C0}var D1=new ye("",{providedIn:"root",factory:()=>X(D1,rt.Optional|rt.SkipSelf)||AX()});var Mj=new ye("");var i0=null;function xX(t=[],e){return Kt.create({name:e,providers:[{provide:R0,useValue:"platform"},{provide:Mj,useValue:new Set([()=>i0=null])},...t]})}function MX(t=[]){if(i0)return i0;let e=xX(t);return i0=e,_X(),PX(e),e}function PX(t){t.get(t1,null)?.forEach(n=>n())}var na=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=OX;let t=e;return t})();function OX(t){return RX(Mi(),wt(),(t&16)===16)}function RX(t,e,n){if(T0(t)&&!n){let i=tc(t.index,e);return new Cl(i,i)}else if(t.type&47){let i=e[es];return new Cl(i,e)}return null}var LT=class{constructor(){}supports(e){return dj(e)}create(e){return new VT(e)}},NX=(t,e)=>e,VT=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||NX}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let a=!i||n&&n.currentIndex<eV(i,r,o)?n:i,l=eV(a,r,o),d=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(n=n._next,a.previousIndex==null)r++;else{o||(o=[]);let h=l-r,m=d-r;if(h!=m){for(let y=0;y<h;y++){let b=y<o.length?o[y]:o[y]=0,w=b+y;m<=w&&w<h&&(o[y]=b+1)}let v=a.previousIndex;o[v]=m-h}}l!==d&&e(a,l,d)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!dj(e))throw new J(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,o,a;if(Array.isArray(e)){this.length=e.length;for(let l=0;l<this.length;l++)o=e[l],a=this._trackByFn(l,o),n===null||!Object.is(n.trackById,a)?(n=this._mismatch(n,o,a,l),i=!0):(i&&(n=this._verifyReinsertion(n,o,a,l)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,xQ(e,l=>{a=this._trackByFn(r,l),n===null||!Object.is(n.trackById,a)?(n=this._mismatch(n,l,a,r),i=!0):(i&&(n=this._verifyReinsertion(n,l,a,r)),Object.is(n.item,l)||this._addIdentityChange(n,l)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new jT(n,i),o,r)),e}_verifyReinsertion(e,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new E0),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new E0),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},jT=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},UT=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},E0=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new UT,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function eV(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function tV(){return new A1([new LT])}var A1=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||tV()),deps:[[e,new HV,new Qi]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r!=null)return r;throw new J(901,!1)}};e.\u0275prov=Z({token:e,providedIn:"root",factory:tV});let t=e;return t})();function Pj(t){try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,r=MX(i),o=[SX(),...n||[]],l=new _0({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,d=l.get(_t);return d.run(()=>{l.resolveInjectorInitializers();let h=l.get(is,null),m;d.runOutsideAngular(()=>{m=d.onError.subscribe({next:b=>{h.handleError(b)}})});let v=()=>l.destroy(),y=r.get(Mj);return y.add(v),l.onDestroy(()=>{m.unsubscribe(),y.delete(v)}),bX(h,d,()=>{let b=l.get(xj);return b.runInitializers(),b.donePromise.then(()=>{let w=l.get(D1,C0);dX(w||C0);let E=l.get(ss);return e!==void 0&&E.bootstrap(e),E})})})}catch(e){return Promise.reject(e)}}function Xi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var kX=new ye("",{providedIn:"root",factory:()=>X(FX)}),FX=(()=>{let e=class e{};e.\u0275prov=Z({token:e,providedIn:"root",factory:()=>new BT});let t=e;return t})(),BT=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=X(Dl),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},$T=class{constructor(e,n,i,r,o,a){this.scheduler=e,this.effectFn=n,this.creationZone=i,this.injector=o,this.watcher=B2(l=>this.runEffect(l),()=>this.schedule(),a),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(is,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function sc(t,e){Tl("NgSignals"),!e?.injector&&N7(sc);let n=e?.injector??X(Kt),i=e?.manualCleanup!==!0?n.get(ij):null,r=new $T(n.get(kX),t,typeof Zone>"u"?null:Zone.current,i,n,e?.allowSignalWrites??!1),o=n.get(na,null,{optional:!0});return!o||!(o._lView[Re]&8)?r.watcher.notify():(o._lView[X_]??=[]).push(r.watcher.notify),r}function X0(t,e){let n=Ja(t),i=e.elementInjector||N0();return new eh(n).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}var Lj=null;function ia(){return Lj}function Vj(t){Lj??=t}var J0=class{};var wi=new ye(""),jj=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>X(LX),providedIn:"platform"});let t=e;return t})();var LX=(()=>{let e=class e extends jj{constructor(){super(),this._doc=X(wi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ia().getBaseHref(this._doc)}onPopState(i){let r=ia().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=ia().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,o){this._history.pushState(i,r,o)}replaceState(i,r,o){this._history.replaceState(i,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Uj(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Oj(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function xl(t){return t&&t[0]!=="?"?"?"+t:t}var ah=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>X(Bj),providedIn:"root"});let t=e;return t})(),VX=new ye(""),Bj=(()=>{let e=class e extends ah{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??X(wi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return Uj(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+xl(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${r}${o}`:r}pushState(i,r,o,a){let l=this.prepareExternalUrl(o+xl(a));this._platformLocation.pushState(i,r,l)}replaceState(i,r,o,a){let l=this.prepareExternalUrl(o+xl(a));this._platformLocation.replaceState(i,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(re(jj),re(VX,8))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var im=(()=>{let e=class e{constructor(i){this._subject=new $t,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=BX(Oj(Rj(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+xl(r))}normalize(i){return e.stripTrailingSlash(UX(this._basePath,Rj(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",o=null){this._locationStrategy.pushState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+xl(r)),o)}replaceState(i,r="",o=null){this._locationStrategy.replaceState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+xl(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(o=>o(i,r))}subscribe(i,r,o){return this._subject.subscribe({next:i,error:r,complete:o})}};e.normalizeQueryParams=xl,e.joinWithSlash=Uj,e.stripTrailingSlash=Oj,e.\u0275fac=function(r){return new(r||e)(re(ah))},e.\u0275prov=Z({token:e,factory:()=>jX(),providedIn:"root"});let t=e;return t})();function jX(){return new im(re(ah))}function UX(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Rj(t){return t.replace(/\/index.html$/,"")}function BX(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Z0(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var x1=/\s+/,Nj=[],cr=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=Nj,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(x1):Nj}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(x1):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let o=this.stateMap.get(i);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],o=i[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(x1).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(r){return new(r||e)(N(Zt),N(bo))},e.\u0275dir=Tt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Ae.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var M1=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Dt=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,o){this._viewContainer=i,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((o,a,l)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new M1(o.item,this._ngForOf,-1,-1),l===null?void 0:l);else if(l==null)r.remove(a===null?void 0:a);else if(a!==null){let d=r.get(a);r.move(d,l),kj(d,o)}});for(let o=0,a=r.length;o<a;o++){let d=r.get(o).context;d.index=o,d.count=a,d.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{let a=r.get(o.currentIndex);kj(a,o)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(N(_i),N(vo),N(A1))},e.\u0275dir=Tt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function kj(t,e){t.context.$implicit=e.item}var At=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new P1,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Fj("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Fj("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(N(_i),N(vo))},e.\u0275dir=Tt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),P1=class{constructor(){this.$implicit=null,this.ngIf=null}};function Fj(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Wi(e)}'.`)}var Ee=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ki({type:e}),e.\u0275inj=Yi({});let t=e;return t})(),$j="browser",$X="server";function rm(t){return t===$X}var sh=class{};var sm=class{},am=class{},ra=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),a=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let a=this.headers.get(n);if(!a)return;a=a.filter(l=>o.indexOf(l)===-1),a.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,a)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var N1=class{encodeKey(e){return Hj(e)}encodeValue(e){return Hj(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function zX(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[a,l]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],d=n.get(a)||[];d.push(l),n.set(a,d)}),n}var qX=/%(\d[a-f0-9])/gi,WX={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Hj(t){return encodeURIComponent(t).replace(qX,(e,n)=>WX[n]??e)}function ew(t){return`${t}`}var cc=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new N1,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=zX(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(ew):[ew(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(ew(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(ew(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var k1=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function KX(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Gj(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function zj(t){return typeof Blob<"u"&&t instanceof Blob}function qj(t){return typeof FormData<"u"&&t instanceof FormData}function YX(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var om=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(KX(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new ra,this.context??=new k1,!this.params)this.params=new cc,this.urlWithParams=n;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=n;else{let l=n.indexOf("?"),d=l===-1?"?":l<n.length-1?"&":"";this.urlWithParams=n+d+a}}}serializeBody(){return this.body===null?null:Gj(this.body)||zj(this.body)||qj(this.body)||YX(this.body)||typeof this.body=="string"?this.body:this.body instanceof cc?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||qj(this.body)?null:zj(this.body)?this.body.type||null:Gj(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof cc?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,a=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,l=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,d=e.headers||this.headers,h=e.params||this.params,m=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((v,y)=>v.set(y,e.setHeaders[y]),d)),e.setParams&&(h=Object.keys(e.setParams).reduce((v,y)=>v.set(y,e.setParams[y]),h)),new t(n,i,o,{params:h,headers:d,context:m,reportProgress:l,responseType:r,withCredentials:a})}},lc=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(lc||{}),cm=class{constructor(e,n=um.Ok,i="OK"){this.headers=e.headers||new ra,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},tw=class t extends cm{constructor(e={}){super(e),this.type=lc.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},lm=class t extends cm{constructor(e={}){super(e),this.type=lc.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ac=class extends cm{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},um=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(um||{});function O1(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Ml=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,o={}){let a;if(i instanceof om)a=i;else{let h;o.headers instanceof ra?h=o.headers:h=new ra(o.headers);let m;o.params&&(o.params instanceof cc?m=o.params:m=new cc({fromObject:o.params})),a=new om(i,r,o.body!==void 0?o.body:null,{headers:h,context:o.context,params:m,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let l=Ne(a).pipe(Ka(h=>this.handler.handle(h)));if(i instanceof om||o.observe==="events")return l;let d=l.pipe(ci(h=>h instanceof lm));switch(o.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return d.pipe(ke(h=>{if(h.body!==null&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return d.pipe(ke(h=>{if(h.body!==null&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return d.pipe(ke(h=>{if(h.body!==null&&typeof h.body!="string")throw new Error("Response is not a string.");return h.body}));case"json":default:return d.pipe(ke(h=>h.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new cc().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,O1(o,r))}post(i,r,o={}){return this.request("POST",i,O1(o,r))}put(i,r,o={}){return this.request("PUT",i,O1(o,r))}};e.\u0275fac=function(r){return new(r||e)(re(sm))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),QX=/^\)\]\}',?\n/,XX="X-Request-URL";function Wj(t){if(t.url)return t.url;let e=XX.toLocaleLowerCase();return t.headers.get(e)}var R1=(()=>{let e=class e{constructor(){this.fetchImpl=X(F1,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=X(_t)}handle(i){return new Ue(r=>{let o=new AbortController;return this.doRequest(i,o.signal,r).then(L1,a=>r.error(new ac({error:a}))),()=>o.abort()})}doRequest(i,r,o){return C(this,null,function*(){let a=this.createRequestInit(i),l;try{let w=this.fetchImpl(i.urlWithParams,te({signal:r},a));JX(w),o.next({type:lc.Sent}),l=yield w}catch(w){o.error(new ac({error:w,status:w.status??0,statusText:w.statusText,url:i.urlWithParams,headers:w.headers}));return}let d=new ra(l.headers),h=l.statusText,m=Wj(l)??i.urlWithParams,v=l.status,y=null;if(i.reportProgress&&o.next(new tw({headers:d,status:v,statusText:h,url:m})),l.body){let w=l.headers.get("content-length"),E=[],T=l.body.getReader(),O=0,L,$,A=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>C(this,null,function*(){for(;;){let{done:U,value:ie}=yield T.read();if(U)break;if(E.push(ie),O+=ie.length,i.reportProgress){$=i.responseType==="text"?($??"")+(L??=new TextDecoder).decode(ie,{stream:!0}):void 0;let Ce=()=>o.next({type:lc.DownloadProgress,total:w?+w:void 0,loaded:O,partialText:$});A?A.run(Ce):Ce()}}}));let ee=this.concatChunks(E,O);try{let U=l.headers.get("Content-Type")??"";y=this.parseBody(i,ee,U)}catch(U){o.error(new ac({error:U,headers:new ra(l.headers),status:l.status,statusText:l.statusText,url:Wj(l)??i.urlWithParams}));return}}v===0&&(v=y?um.Ok:0),v>=200&&v<300?(o.next(new lm({body:y,headers:d,status:v,statusText:h,url:m})),o.complete()):o.error(new ac({error:y,headers:d,status:v,statusText:h,url:m}))})}parseBody(i,r,o){switch(i.responseType){case"json":let a=new TextDecoder().decode(r).replace(QX,"");return a===""?null:JSON.parse(a);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:o});case"arraybuffer":return r.buffer}}createRequestInit(i){let r={},o=i.withCredentials?"include":void 0;if(i.headers.forEach((a,l)=>r[a]=l.join(",")),r.Accept??="application/json, text/plain, */*",!r["Content-Type"]){let a=i.detectContentTypeHeader();a!==null&&(r["Content-Type"]=a)}return{body:i.serializeBody(),method:i.method,headers:r,credentials:o}}concatChunks(i,r){let o=new Uint8Array(r),a=0;for(let l of i)o.set(l,a),a+=l.length;return o}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),F1=class{};function L1(){}function JX(t){t.then(L1,L1)}function ZX(t,e){return e(t)}function eJ(t,e,n){return(i,r)=>Zs(n,()=>e(i,o=>t(o,r)))}var V1=new ye(""),tJ=new ye(""),Qj=new ye("");var Kj=(()=>{let e=class e extends sm{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=X(Dl);let o=X(Qj,{optional:!0});this.backend=o??i}handle(i){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(V1),...this.injector.get(tJ,[])]));this.chain=o.reduceRight((a,l)=>eJ(a,l,this.injector),ZX)}let r=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(pl(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(re(am),re(li))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();var nJ=/^\)\]\}',?\n/;function iJ(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Yj=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new J(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Wt(r.\u0275loadImpl()):Ne(null)).pipe(xi(()=>new Ue(a=>{let l=r.build();if(l.open(i.method,i.urlWithParams),i.withCredentials&&(l.withCredentials=!0),i.headers.forEach((T,O)=>l.setRequestHeader(T,O.join(","))),i.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let T=i.detectContentTypeHeader();T!==null&&l.setRequestHeader("Content-Type",T)}if(i.responseType){let T=i.responseType.toLowerCase();l.responseType=T!=="json"?T:"text"}let d=i.serializeBody(),h=null,m=()=>{if(h!==null)return h;let T=l.statusText||"OK",O=new ra(l.getAllResponseHeaders()),L=iJ(l)||i.url;return h=new tw({headers:O,status:l.status,statusText:T,url:L}),h},v=()=>{let{headers:T,status:O,statusText:L,url:$}=m(),A=null;O!==um.NoContent&&(A=typeof l.response>"u"?l.responseText:l.response),O===0&&(O=A?um.Ok:0);let ee=O>=200&&O<300;if(i.responseType==="json"&&typeof A=="string"){let U=A;A=A.replace(nJ,"");try{A=A!==""?JSON.parse(A):null}catch(ie){A=U,ee&&(ee=!1,A={error:ie,text:A})}}ee?(a.next(new lm({body:A,headers:T,status:O,statusText:L,url:$||void 0})),a.complete()):a.error(new ac({error:A,headers:T,status:O,statusText:L,url:$||void 0}))},y=T=>{let{url:O}=m(),L=new ac({error:T,status:l.status||0,statusText:l.statusText||"Unknown Error",url:O||void 0});a.error(L)},b=!1,w=T=>{b||(a.next(m()),b=!0);let O={type:lc.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(O.total=T.total),i.responseType==="text"&&l.responseText&&(O.partialText=l.responseText),a.next(O)},E=T=>{let O={type:lc.UploadProgress,loaded:T.loaded};T.lengthComputable&&(O.total=T.total),a.next(O)};return l.addEventListener("load",v),l.addEventListener("error",y),l.addEventListener("timeout",y),l.addEventListener("abort",y),i.reportProgress&&(l.addEventListener("progress",w),d!==null&&l.upload&&l.upload.addEventListener("progress",E)),l.send(d),a.next({type:lc.Sent}),()=>{l.removeEventListener("error",y),l.removeEventListener("abort",y),l.removeEventListener("load",v),l.removeEventListener("timeout",y),i.reportProgress&&(l.removeEventListener("progress",w),d!==null&&l.upload&&l.upload.removeEventListener("progress",E)),l.readyState!==l.DONE&&l.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(re(sh))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),Xj=new ye(""),rJ="XSRF-TOKEN",oJ=new ye("",{providedIn:"root",factory:()=>rJ}),sJ="X-XSRF-TOKEN",aJ=new ye("",{providedIn:"root",factory:()=>sJ}),nw=class{},cJ=(()=>{let e=class e{constructor(i,r,o){this.doc=i,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=Z0(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(re(wi),re(Vr),re(oJ))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();function lJ(t,e){let n=t.url.toLowerCase();if(!X(Xj)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=X(nw).getToken(),r=X(aJ);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}var j1=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(j1||{});function Jj(t,e){return{\u0275kind:t,\u0275providers:e}}function Zj(...t){let e=[Ml,Yj,Kj,{provide:sm,useExisting:Kj},{provide:am,useExisting:Yj},{provide:V1,useValue:lJ,multi:!0},{provide:Xj,useValue:!0},{provide:nw,useClass:cJ}];for(let n of t)e.push(...n.\u0275providers);return rc(e)}function eU(t){return Jj(j1.Interceptors,t.map(e=>({provide:V1,useValue:e,multi:!0})))}function tU(){return Jj(j1.Fetch,[R1,{provide:am,useExisting:R1},{provide:Qj,useExisting:R1}])}var lD={};_q(lD,{FirebaseError:()=>$n,SDK_VERSION:()=>Eo,_DEFAULT_ENTRY_NAME:()=>ls,_addComponent:()=>gm,_addOrOverwriteComponent:()=>cD,_apps:()=>hc,_clearComponents:()=>cZ,_components:()=>pm,_getProvider:()=>kl,_registerComponent:()=>Co,_removeServiceInstance:()=>TU,deleteApp:()=>dw,getApp:()=>Fl,getApps:()=>vm,initializeApp:()=>lh,onLog:()=>hw,registerVersion:()=>an,setLogLevel:()=>fw});var iU=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},uJ=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=t[n++],a=t[n++],l=t[n++],d=((r&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{let o=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|a&63)}}return e.join("")},rU={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let o=t[r],a=r+1<t.length,l=a?t[r+1]:0,d=r+2<t.length,h=d?t[r+2]:0,m=o>>2,v=(o&3)<<4|l>>4,y=(l&15)<<2|h>>6,b=h&63;d||(b=64,a||(y=64)),i.push(n[m],n[v],n[y],n[b])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uJ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let o=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;let h=r<t.length?n[t.charAt(r)]:64;++r;let v=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||l==null||h==null||v==null)throw new $1;let y=o<<2|l>>4;if(i.push(y),h!==64){let b=l<<4&240|h>>2;if(i.push(b),v!==64){let w=h<<6&192|v;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},$1=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},dJ=function(t){let e=iU(t);return rU.encodeByteArray(e,!0)},dm=function(t){return dJ(t).replace(/\./g,"")},G1=function(t){try{return rU.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hm(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!hJ(n)||(t[n]=hm(t[n],e[n]));return t}function hJ(t){return t!=="__proto__"}function fJ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var pJ=()=>fJ().__FIREBASE_DEFAULTS__,mJ=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gJ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&G1(t[1]);return e&&JSON.parse(e)},rw=()=>{try{return pJ()||mJ()||gJ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},z1=t=>{var e,n;return(n=(e=rw())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oU=t=>{let e=z1(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},q1=()=>{var t;return(t=rw())===null||t===void 0?void 0:t.config},W1=t=>{var e;return(e=rw())===null||e===void 0?void 0:e[`_${t}`]};var iw=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function sU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[dm(JSON.stringify(n)),dm(JSON.stringify(a)),""].join(".")}function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function ow(){var t;let e=(t=rw())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cU(){return typeof self=="object"&&self.self===self}function sw(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fm(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aw(){let t=Gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lU(){return!ow()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uc(){try{return typeof indexedDB=="object"}catch{return!1}}function uU(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var vJ="FirebaseError",$n=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=vJ,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Br.prototype.create)}},Br=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],a=o?yJ(o,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new $n(r,l,i)}};function yJ(t,e){return t.replace(_J,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var _J=/\{\$([^}]+)}/g;function K1(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function dU(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pl(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let o=t[r],a=e[r];if(nU(o)&&nU(a)){if(!Pl(o,a))return!1}else if(o!==a)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function nU(t){return t!==null&&typeof t=="object"}function Ol(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function dc(t){let e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function ch(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function cw(t,e){let n=new H1(t,e);return n.subscribe.bind(n)}var H1=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");wJ(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=B1),r.error===void 0&&(r.error=B1),r.complete===void 0&&(r.complete=B1);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function wJ(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function B1(){}var mwe=4*60*60*1e3;function Ye(t){return t&&t._delegate?t._delegate:t}var Oi=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Rl="[DEFAULT]";var Y1=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new iw;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CJ(e))try{this.getOrInitializeService({instanceIdentifier:Rl})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Rl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Rl){return this.instances.has(e)}getOptions(e=Rl){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[o,a]of this.instancesDeferred.entries()){let l=this.normalizeInstanceIdentifier(o);i===l&&a.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:bJ(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Rl){return this.component?this.component.multipleInstances?e:Rl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function bJ(t){return t===Rl?void 0:t}function CJ(t){return t.instantiationMode==="EAGER"}var lw=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Y1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Q1=[],at=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(at||{}),hU={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},EJ=at.INFO,IJ={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},SJ=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=IJ[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},as=class{constructor(e){this.name=e,this._logLevel=EJ,this._logHandler=SJ,this._userLogHandler=null,Q1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}};function fU(t){Q1.forEach(e=>{e.setLogLevel(t)})}function pU(t,e){for(let n of Q1){let i=null;e&&e.level&&(i=hU[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(r,o,...a)=>{let l=a.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(i??r.logLevel)&&t({level:at[o].toLowerCase(),message:l,args:a,type:r.name})}}}var TJ=(t,e)=>e.some(n=>t instanceof n),mU,gU;function DJ(){return mU||(mU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AJ(){return gU||(gU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var vU=new WeakMap,J1=new WeakMap,yU=new WeakMap,X1=new WeakMap,eD=new WeakMap;function xJ(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(cs(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&vU.set(n,t)}).catch(()=>{}),eD.set(e,t),e}function MJ(t){if(J1.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});J1.set(t,e)}var Z1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return J1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yU.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _U(t){Z1=t(Z1)}function PJ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(uw(this),e,...n);return yU.set(i,e.sort?e.sort():[e]),cs(i)}:AJ().includes(t)?function(...e){return t.apply(uw(this),e),cs(vU.get(this))}:function(...e){return cs(t.apply(uw(this),e))}}function OJ(t){return typeof t=="function"?PJ(t):(t instanceof IDBTransaction&&MJ(t),TJ(t,DJ())?new Proxy(t,Z1):t)}function cs(t){if(t instanceof IDBRequest)return xJ(t);if(X1.has(t))return X1.get(t);let e=OJ(t);return e!==t&&(X1.set(t,e),eD.set(e,t)),e}var uw=t=>eD.get(t);function bU(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){let a=indexedDB.open(t,e),l=cs(a);return i&&a.addEventListener("upgradeneeded",d=>{i(cs(a.result),d.oldVersion,d.newVersion,cs(a.transaction),d)}),n&&a.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),l.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}var RJ=["get","getKey","getAll","getAllKeys","count"],NJ=["put","add","delete","clear"],tD=new Map;function wU(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tD.get(e))return tD.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=NJ.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||RJ.includes(n)))return;let o=function(a,...l){return C(this,null,function*(){let d=this.transaction(a,r?"readwrite":"readonly"),h=d.store;return i&&(h=h.index(l.shift())),(yield Promise.all([h[n](...l),r&&d.done]))[0]})};return tD.set(e,o),o}_U(t=>It(te({},t),{get:(e,n,i)=>wU(e,n)||t.get(e,n,i),has:(e,n)=>!!wU(e,n)||t.has(e,n)}));var iD=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kJ(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function kJ(t){let e=t.getComponent();return e?.type==="VERSION"}var rD="@firebase/app",CU="0.9.28";var Nl=new as("@firebase/app"),FJ="@firebase/app-compat",LJ="@firebase/analytics-compat",VJ="@firebase/analytics",jJ="@firebase/app-check-compat",UJ="@firebase/app-check",BJ="@firebase/auth",$J="@firebase/auth-compat",HJ="@firebase/database",GJ="@firebase/database-compat",zJ="@firebase/functions",qJ="@firebase/functions-compat",WJ="@firebase/installations",KJ="@firebase/installations-compat",YJ="@firebase/messaging",QJ="@firebase/messaging-compat",XJ="@firebase/performance",JJ="@firebase/performance-compat",ZJ="@firebase/remote-config",eZ="@firebase/remote-config-compat",tZ="@firebase/storage",nZ="@firebase/storage-compat",iZ="@firebase/firestore",rZ="@firebase/firestore-compat",oZ="firebase",sZ="10.8.1";var ls="[DEFAULT]",aZ={[rD]:"fire-core",[FJ]:"fire-core-compat",[VJ]:"fire-analytics",[LJ]:"fire-analytics-compat",[UJ]:"fire-app-check",[jJ]:"fire-app-check-compat",[BJ]:"fire-auth",[$J]:"fire-auth-compat",[HJ]:"fire-rtdb",[GJ]:"fire-rtdb-compat",[zJ]:"fire-fn",[qJ]:"fire-fn-compat",[WJ]:"fire-iid",[KJ]:"fire-iid-compat",[YJ]:"fire-fcm",[QJ]:"fire-fcm-compat",[XJ]:"fire-perf",[JJ]:"fire-perf-compat",[ZJ]:"fire-rc",[eZ]:"fire-rc-compat",[tZ]:"fire-gcs",[nZ]:"fire-gcs-compat",[iZ]:"fire-fst",[rZ]:"fire-fst-compat","fire-js":"fire-js",[oZ]:"fire-js-all"};var hc=new Map,pm=new Map;function gm(t,e){try{t.container.addComponent(e)}catch(n){Nl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function cD(t,e){t.container.addOrOverwriteComponent(e)}function Co(t){let e=t.name;if(pm.has(e))return Nl.debug(`There were multiple attempts to register component ${e}.`),!1;pm.set(e,t);for(let n of hc.values())gm(n,t);return!0}function kl(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function TU(t,e,n=ls){kl(t,e).clearInstance(n)}function cZ(){pm.clear()}var lZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},oa=new Br("app","Firebase",lZ);var oD=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oa.create("app-deleted",{appName:this._name})}};var Eo=sZ;function lh(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:ls,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw oa.create("bad-app-name",{appName:String(r)});if(n||(n=q1()),!n)throw oa.create("no-options");let o=hc.get(r);if(o){if(Pl(n,o.options)&&Pl(i,o.config))return o;throw oa.create("duplicate-app",{appName:r})}let a=new lw(r);for(let d of pm.values())a.addComponent(d);let l=new oD(n,i,a);return hc.set(r,l),l}function Fl(t=ls){let e=hc.get(t);if(!e&&t===ls&&q1())return lh();if(!e)throw oa.create("no-app",{appName:t});return e}function vm(){return Array.from(hc.values())}function dw(t){return C(this,null,function*(){let e=t.name;hc.has(e)&&(hc.delete(e),yield Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)})}function an(t,e,n){var i;let r=(i=aZ[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){let l=[`Unable to register library "${r}" with version "${e}":`];o&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nl.warn(l.join(" "));return}Co(new Oi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function hw(t,e){if(t!==null&&typeof t!="function")throw oa.create("invalid-log-argument");pU(t,e)}function fw(t){fU(t)}var uZ="firebase-heartbeat-database",dZ=1,mm="firebase-heartbeat-store",nD=null;function DU(){return nD||(nD=bU(uZ,dZ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mm)}catch(n){console.warn(n)}}}}).catch(t=>{throw oa.create("idb-open",{originalErrorMessage:t.message})})),nD}function hZ(t){return C(this,null,function*(){try{let n=(yield DU()).transaction(mm),i=yield n.objectStore(mm).get(AU(t));return yield n.done,i}catch(e){if(e instanceof $n)Nl.warn(e.message);else{let n=oa.create("idb-get",{originalErrorMessage:e?.message});Nl.warn(n.message)}}})}function EU(t,e){return C(this,null,function*(){try{let i=(yield DU()).transaction(mm,"readwrite");yield i.objectStore(mm).put(e,AU(t)),yield i.done}catch(n){if(n instanceof $n)Nl.warn(n.message);else{let i=oa.create("idb-set",{originalErrorMessage:n?.message});Nl.warn(i.message)}}})}function AU(t){return`${t.name}!${t.options.appId}`}var fZ=1024,pZ=30*24*60*60*1e3,sD=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new aD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return C(this,null,function*(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=IU();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{let l=new Date(a.date).valueOf();return Date.now()-l<=pZ}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return C(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=IU(),{heartbeatsToSend:i,unsentEntries:r}=mZ(this._heartbeatsCache.heartbeats),o=dm(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function IU(){return new Date().toISOString().substring(0,10)}function mZ(t,e=fZ){let n=[],i=t.slice();for(let r of t){let o=n.find(a=>a.agent===r.agent);if(o){if(o.dates.push(r.date),SU(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),SU(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var aD=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return uc()?uU().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield hZ(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return EU(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return EU(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function SU(t){return dm(JSON.stringify({version:2,heartbeats:t})).length}function gZ(t){Co(new Oi("platform-logger",e=>new iD(e),"PRIVATE")),Co(new Oi("heartbeat",e=>new sD(e),"PRIVATE")),an(rD,CU,t),an(rD,CU,"esm2017"),an("fire-js","")}gZ("");var vZ="firebase",yZ="10.8.1";an(vZ,yZ,"app");var Vl=new Xs("ANGULARFIRE2_VERSION");function mw(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(a=>a.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ym=(t,e)=>{let n=e?[e]:vm(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(a=>{i.includes(a)||i.push(a)})}),i},dh=class{constructor(){return ym(_Z)}},_Z="app-check";function uh(){}var pw=class{zone;delegate;constructor(e,n=vS){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(a){r.runGuarded(()=>{e.apply(this,[a])})};return this.delegate.schedule(o,n,i)}},uD=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",uh,{},uh,uh)),n.pipe(Rn({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},hh=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new pw(Zone.current)),this.insideAngular=n.run(()=>new pw(Zone.current,Nd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(re(_t))};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gw(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function wZ(t){return gw().ngZone.runOutsideAngular(()=>t())}function Ll(t){return gw().ngZone.run(()=>t())}function bZ(t){return CZ(gw())(t)}function CZ(t){return function(n){return n=n.lift(new uD(t.ngZone)),n.pipe(qa(t.outsideAngular),za(t.insideAngular))}}var EZ=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ll(()=>t.apply(void 0,i))},Io=(t,e)=>function(){let n,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(n||=Ll(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",uh,{},uh,uh))),i[o]=EZ(i[o],n));let r=wZ(()=>t.apply(this,i));if(!e)if(r instanceof Ue){let o=gw();return r.pipe(qa(o.outsideAngular),za(o.insideAngular))}else return Ll(()=>r);return r instanceof Ue?r.pipe(bZ):r instanceof Promise?Ll(()=>new Promise((o,a)=>r.then(l=>Ll(()=>o(l)),l=>Ll(()=>a(l))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:Ll(()=>r)};var sa=class{constructor(e){return e}},jl=class{constructor(){return vm()}};function IZ(t){return t&&t.length===1?t[0]:new sa(Fl())}var dD=new ye("angularfire2._apps"),SZ={provide:sa,useFactory:IZ,deps:[[new Qi,dD]]},TZ={provide:jl,deps:[[new Qi,dD]]};function DZ(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new sa(i)}}var AZ=(()=>{class t{constructor(n){an("angularfire",Vl.full,"core"),an("angularfire",Vl.full,"app"),an("angular",Sj.full,n.toString())}static \u0275fac=function(i){return new(i||t)(re(Vr))};static \u0275mod=Ki({type:t});static \u0275inj=Yi({providers:[SZ,TZ]})}return t})();function xU(t,...e){return{ngModule:AZ,providers:[{provide:dD,useFactory:DZ(t),multi:!0,deps:[_t,Kt,hh,...e]}]}}var MU=Io(lh,!0);var gc={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};var ua={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function xZ(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function qU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Rw=xZ,$D=qU,WU=new Br("auth","Firebase",qU());var ww=new as("@firebase/auth");function MZ(t,...e){ww.logLevel<=at.WARN&&ww.warn(`Auth (${Eo}): ${t}`,...e)}function yw(t,...e){ww.logLevel<=at.ERROR&&ww.error(`Auth (${Eo}): ${t}`,...e)}function Nn(t,...e){throw HD(t,...e)}function ui(t,...e){return HD(t,...e)}function KU(t,e,n){let i=Object.assign(Object.assign({},$D()),{[e]:n});return new Br("auth","Firebase",i).create(e,{appName:t.name})}function yh(t,e,n){let i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Nn(t,"argument-error"),KU(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function HD(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return WU.create(t,...e)}function Q(t,e,...n){if(!t)throw HD(e,...n)}function us(t){let e="INTERNAL ASSERTION FAILED: "+t;throw yw(e),new Error(e)}function $r(t,e){t||us(e)}function Cm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function GD(){return PU()==="http:"||PU()==="https:"}function PU(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function PZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GD()||sw()||"connection"in navigator)?navigator.onLine:!0}function OZ(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ul=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,$r(n>e,"Short delay should be less than long delay!"),this.isMobile=aU()||fm()}get(){return PZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function zD(t,e){$r(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Em=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var RZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var NZ=new Ul(3e4,6e4);function _n(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function wn(o,a,l,d){return C(this,arguments,function*(t,e,n,i,r={}){return YU(t,r,()=>C(this,null,function*(){let h={},m={};i&&(e==="GET"?m=i:h={body:JSON.stringify(i)});let v=Ol(Object.assign({key:t.config.apiKey},m)).slice(1),y=yield t._getAdditionalHeaders();return y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode),Em.fetch()(QU(t,t.config.apiHost,n,v),Object.assign({method:e,headers:y,referrerPolicy:"no-referrer"},h))}))})}function YU(t,e,n){return C(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},RZ),e);try{let r=new gD(t),o=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let a=yield o.json();if("needConfirmation"in a)throw _m(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{let l=o.ok?a.errorMessage:a.error.message,[d,h]=l.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw _m(t,"credential-already-in-use",a);if(d==="EMAIL_EXISTS")throw _m(t,"email-already-in-use",a);if(d==="USER_DISABLED")throw _m(t,"user-disabled",a);let m=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw KU(t,m,h);Nn(t,m)}}catch(r){if(r instanceof $n)throw r;Nn(t,"network-request-failed",{message:String(r)})}})}function da(o,a,l,d){return C(this,arguments,function*(t,e,n,i,r={}){let h=yield wn(t,e,n,i,r);return"mfaPendingCredential"in h&&Nn(t,"multi-factor-auth-required",{_serverResponse:h}),h})}function QU(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?zD(t.config,r):`${t.config.apiScheme}://${r}`}function kZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var gD=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ui(this.auth,"network-request-failed")),NZ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function _m(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=ui(t,e,i);return r.customData._tokenResponse=n,r}function OU(t){return t!==void 0&&t.getResponse!==void 0}function RU(t){return t!==void 0&&t.enterprise!==void 0}var vD=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return kZ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function FZ(t){return C(this,null,function*(){return(yield wn(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})}function LZ(t,e){return C(this,null,function*(){return wn(t,"GET","/v2/recaptchaConfig",_n(t,e))})}function VZ(t,e){return C(this,null,function*(){return wn(t,"POST","/v1/accounts:delete",e)})}function jZ(t,e){return C(this,null,function*(){return wn(t,"POST","/v1/accounts:update",e)})}function UZ(t,e){return C(this,null,function*(){return wn(t,"POST","/v1/accounts:lookup",e)})}function wm(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Nw(t,e=!1){return C(this,null,function*(){let n=Ye(t),i=yield n.getIdToken(e),r=kw(i);Q(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,a=o?.sign_in_provider;return{claims:r,token:i,authTime:wm(hD(r.auth_time)),issuedAtTime:wm(hD(r.iat)),expirationTime:wm(hD(r.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function hD(t){return Number(t)*1e3}function kw(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return yw("JWT malformed, contained fewer than 3 sections"),null;try{let r=G1(n);return r?JSON.parse(r):(yw("Failed to decode base64 JWT payload"),null)}catch(r){return yw("Caught error parsing JWT payload as JSON",r?.toString()),null}}function BZ(t){let e=kw(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ca(t,e,n=!1){return C(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof $n&&$Z(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function $Z({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var yD=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),n)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var bw=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wm(this.lastLoginAt),this.creationTime=wm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Im(t){return C(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield ca(t,UZ(n,{idToken:i}));Q(r?.users.length,n,"internal-error");let o=r.users[0];t._notifyReloadListener(o);let a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?GZ(o.providerUserInfo):[],l=HZ(t.providerData,a),d=t.isAnonymous,h=!(t.email&&o.passwordHash)&&!l?.length,m=d?h:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new bw(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,v)})}function Fw(t){return C(this,null,function*(){let e=Ye(t);yield Im(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function HZ(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function GZ(t){return t.map(e=>{var{providerId:n}=e,i=x_(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function zZ(t,e){return C(this,null,function*(){let n=yield YU(t,{},()=>C(this,null,function*(){let i=Ol({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,a=QU(t,r,"/v1/token",`key=${o}`),l=yield t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Em.fetch()(a,{method:"POST",headers:l,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function qZ(t,e){return C(this,null,function*(){return wn(t,"POST","/v2/accounts:revokeToken",_n(t,e))})}var Cw=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BZ(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return C(this,null,function*(){return Q(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return C(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield zZ(e,n);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:o}=n,a=new t;return i&&(Q(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(Q(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),o&&(Q(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return us("not implemented")}};function fc(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var fh=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=x_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bw(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let n=yield ca(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Nw(this,e)}reload(){return Fw(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return C(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Im(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){let e=yield this.getIdToken();return yield ca(this,VZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,a,l,d,h,m;let v=(i=n.displayName)!==null&&i!==void 0?i:void 0,y=(r=n.email)!==null&&r!==void 0?r:void 0,b=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(a=n.photoURL)!==null&&a!==void 0?a:void 0,E=(l=n.tenantId)!==null&&l!==void 0?l:void 0,T=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,O=(h=n.createdAt)!==null&&h!==void 0?h:void 0,L=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:$,emailVerified:A,isAnonymous:ee,providerData:U,stsTokenManager:ie}=n;Q($&&ie,e,"internal-error");let Ce=Cw.fromJSON(this.name,ie);Q(typeof $=="string",e,"internal-error"),fc(v,e.name),fc(y,e.name),Q(typeof A=="boolean",e,"internal-error"),Q(typeof ee=="boolean",e,"internal-error"),fc(b,e.name),fc(w,e.name),fc(E,e.name),fc(T,e.name),fc(O,e.name),fc(L,e.name);let He=new t({uid:$,auth:e,email:y,emailVerified:A,displayName:v,isAnonymous:ee,photoURL:w,phoneNumber:b,tenantId:E,stsTokenManager:Ce,createdAt:O,lastLoginAt:L});return U&&Array.isArray(U)&&(He.providerData=U.map(Xe=>Object.assign({},Xe))),T&&(He._redirectEventId=T),He}static _fromIdTokenResponse(e,n,i=!1){return C(this,null,function*(){let r=new Cw;r.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Im(o),o})}};var NU=new Map;function Ri(t){$r(t instanceof Function,"Expected a class definition");let e=NU.get(t);return e?($r(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,NU.set(t,e),e)}var WZ=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(n,i){return C(this,null,function*(){this.storage[n]=i})}_get(n){return C(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return C(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),la=WZ;function ds(t,e,n){return`firebase:${t}:${e}:${n}`}var Ew=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=ds(this.userKey,r.apiKey,o),this.fullPersistenceKey=ds("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?fh._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return C(this,null,function*(){if(!n.length)return new t(Ri(la),e,i);let r=(yield Promise.all(n.map(h=>C(this,null,function*(){if(yield h._isAvailable())return h})))).filter(h=>h),o=r[0]||Ri(la),a=ds(i,e.config.apiKey,e.name),l=null;for(let h of n)try{let m=yield h._get(a);if(m){let v=fh._fromJSON(e,m);h!==o&&(l=v),o=h;break}}catch{}let d=r.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new t(o,e,i):(o=d[0],l&&(yield o._set(a,l.toJSON())),yield Promise.all(n.map(h=>C(this,null,function*(){if(h!==o)try{yield h._remove(a)}catch{}}))),new t(o,e,i))})}};function kU(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(e4(e))return"Blackberry";if(t4(e))return"Webos";if(qD(e))return"Safari";if((e.includes("chrome/")||JU(e))&&!e.includes("edge/"))return"Chrome";if(_h(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function XU(t=Gt()){return/firefox\//i.test(t)}function qD(t=Gt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JU(t=Gt()){return/crios\//i.test(t)}function ZU(t=Gt()){return/iemobile/i.test(t)}function _h(t=Gt()){return/android/i.test(t)}function e4(t=Gt()){return/blackberry/i.test(t)}function t4(t=Gt()){return/webos/i.test(t)}function ql(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function n4(t=Gt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function KZ(t=Gt()){var e;return ql(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YZ(){return aw()&&document.documentMode===10}function i4(t=Gt()){return ql(t)||_h(t)||t4(t)||e4(t)||/windows phone/i.test(t)||ZU(t)}function QZ(){try{return!!(window&&window!==window.top)}catch{return!1}}function WD(t,e=[]){let n;switch(t){case"Browser":n=kU(Gt());break;case"Worker":n=`${kU(Gt())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eo}/${i}`}var _D=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=o=>new Promise((a,l)=>{try{let d=e(o);a(d)}catch(d){l(d)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function XZ(n){return C(this,arguments,function*(t,e={}){return wn(t,"GET","/v2/passwordPolicy",_n(t,e))})}var JZ=6,wD=class{constructor(e){var n,i,r,o;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:JZ,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,a,l;let d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(a=d.containsNumericCharacter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),d}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Iw=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sw(this),this.idTokenSubscription=new Sw(this),this.beforeStateQueue=new _D(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ri(n)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Ew.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return C(this,null,function*(){var n;let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r?._redirectEventId,d=yield this.tryRedirectSignIn(e);(!a||a===l)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return C(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield Im(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=OZ()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){let n=e?Ye(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return C(this,null,function*(){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(Ri(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield XZ(this),n=new wD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Br("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield qZ(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return C(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ri(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=yield Ew.create(this,[Ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),a=!1,l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(l,this,"internal-error"),l.then(()=>{a||o(this.currentUser)}),typeof n=="function"){let d=e.addObserver(n,i,r);return()=>{a=!0,d()}}else{let d=e.addObserver(n);return()=>{a=!0,d()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return C(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&MZ(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function en(t){return Ye(t)}var Sw=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=cw(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Mm={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZZ(t){Mm=t}function KD(t){return Mm.loadJS(t)}function eee(){return Mm.recaptchaV2Script}function tee(){return Mm.recaptchaEnterpriseScript}function nee(){return Mm.gapiScript}function r4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var iee="recaptcha-enterprise",ree="NO_RECAPTCHA",bD=class{constructor(e){this.type=iee,this.auth=en(e)}verify(e="verify",n=!1){return C(this,null,function*(){function i(o){return C(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((a,l)=>C(this,null,function*(){LZ(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{let h=new vD(d);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,a(h.siteKey)}}).catch(d=>{l(d)})}))})}function r(o,a,l){let d=window.grecaptcha;RU(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(h=>{a(h)}).catch(()=>{a(ree)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{i(this.auth).then(l=>{if(!n&&RU(window.grecaptcha))r(l,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let d=tee();d.length!==0&&(d+=l),KD(d).then(()=>{r(l,o,a)}).catch(h=>{a(h)})}}).catch(l=>{a(l)})})})}};function FU(t,e,n,i=!1){return C(this,null,function*(){let r=new bD(t),o;try{o=yield r.verify(n)}catch{o=yield r.verify(n,!0)}let a=Object.assign({},e);return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Sm(t,e,n,i){return C(this,null,function*(){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield FU(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(o=>C(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let a=yield FU(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(o)}))})}function Lw(t,e){let n=kl(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),o=n.getOptions();if(Pl(o,e??{}))return r;Nn(r,"already-initialized")}return n.initialize({options:e})}function oee(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Ri);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function wh(t,e,n){let i=en(t);Q(i._canInitEmulator,i,"emulator-config-failed"),Q(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,o=o4(e),{host:a,port:l}=see(e),d=l===null?"":`:${l}`;i.config.emulator={url:`${o}//${a}${d}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||aee()}function o4(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function see(t){let e=o4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:LU(i.substr(o.length+1))}}else{let[o,a]=i.split(":");return{host:o,port:LU(a)}}}function LU(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function aee(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var So=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return us("not implemented")}_getIdTokenResponse(e){return us("not implemented")}_linkToIdToken(e,n){return us("not implemented")}_getReauthenticationResolver(e){return us("not implemented")}};function s4(t,e){return C(this,null,function*(){return wn(t,"POST","/v1/accounts:resetPassword",_n(t,e))})}function cee(t,e){return C(this,null,function*(){return wn(t,"POST","/v1/accounts:update",e)})}function lee(t,e){return C(this,null,function*(){return wn(t,"POST","/v1/accounts:signUp",e)})}function uee(t,e){return C(this,null,function*(){return wn(t,"POST","/v1/accounts:update",_n(t,e))})}function dee(t,e){return C(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithPassword",_n(t,e))})}function Vw(t,e){return C(this,null,function*(){return wn(t,"POST","/v1/accounts:sendOobCode",_n(t,e))})}function hee(t,e){return C(this,null,function*(){return Vw(t,e)})}function fee(t,e){return C(this,null,function*(){return Vw(t,e)})}function pee(t,e){return C(this,null,function*(){return Vw(t,e)})}function mee(t,e){return C(this,null,function*(){return Vw(t,e)})}function gee(t,e){return C(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithEmailLink",_n(t,e))})}function vee(t,e){return C(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithEmailLink",_n(t,e))})}var ph=class t extends So{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new t(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return C(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sm(e,n,"signInWithPassword",dee);case"emailLink":return gee(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}})}_linkToIdToken(e,n){return C(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sm(e,i,"signUpPassword",lee);case"emailLink":return vee(e,{idToken:n,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function aa(t,e){return C(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithIdp",_n(t,e))})}var yee="http://localhost",Hr=class t extends So{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=x_(n,["providerId","signInMethod"]);if(!i||!r)return null;let a=new t(i,r);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){let n=this.buildRequest();return aa(e,n)}_linkToIdToken(e,n){let i=this.buildRequest();return i.idToken=n,aa(e,i)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,aa(e,n)}buildRequest(){let e={requestUri:yee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ol(n)}return e}};function _ee(t,e){return C(this,null,function*(){return wn(t,"POST","/v1/accounts:sendVerificationCode",_n(t,e))})}function wee(t,e){return C(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithPhoneNumber",_n(t,e))})}function bee(t,e){return C(this,null,function*(){let n=yield da(t,"POST","/v1/accounts:signInWithPhoneNumber",_n(t,e));if(n.temporaryProof)throw _m(t,"account-exists-with-different-credential",n);return n})}var Cee={USER_NOT_FOUND:"user-not-found"};function Eee(t,e){return C(this,null,function*(){let n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return da(t,"POST","/v1/accounts:signInWithPhoneNumber",_n(t,n),Cee)})}var Bl=class t extends So{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new t({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new t({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return wee(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return bee(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Eee(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:n,verificationId:i,verificationCode:r}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:i,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));let{verificationId:n,verificationCode:i,phoneNumber:r,temporaryProof:o}=e;return!i&&!n&&!r&&!o?null:new t({verificationId:n,verificationCode:i,phoneNumber:r,temporaryProof:o})}};function Iee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function See(t){let e=dc(ch(t)).link,n=e?dc(ch(e)).deep_link_id:null,i=dc(ch(t)).deep_link_id;return(i?dc(ch(i)).link:null)||i||n||e||t}var mh=class t{constructor(e){var n,i,r,o,a,l;let d=dc(ch(e)),h=(n=d.apiKey)!==null&&n!==void 0?n:null,m=(i=d.oobCode)!==null&&i!==void 0?i:null,v=Iee((r=d.mode)!==null&&r!==void 0?r:null);Q(h&&m&&v,"argument-error"),this.apiKey=h,this.operation=v,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=d.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=d.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){let n=See(e);try{return new t(n)}catch{return null}}};var bh=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,i){return ph._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){let r=mh.parseLink(i);return Q(r,"argument-error"),ph._fromEmailAndCode(n,r.code,r.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),To=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var mc=class extends To{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},$l=class t extends mc{static credentialFromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;return Q("providerId"in n&&"signInMethod"in n,"argument-error"),Hr._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Q(e.idToken||e.accessToken,"argument-error"),Hr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return t.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return t.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:o,nonce:a,providerId:l}=e;if(!i&&!r&&!n&&!o||!l)return null;try{return new t(l)._credential({idToken:n,accessToken:i,nonce:a,pendingToken:o})}catch{return null}}};var Pm=(()=>{class t extends mc{constructor(){super("facebook.com")}static credential(n){return Hr._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch{return null}}}t.FACEBOOK_SIGN_IN_METHOD="facebook.com",t.PROVIDER_ID="facebook.com";return t})(),Wl=(()=>{class t extends mc{constructor(){super("google.com"),this.addScope("profile")}static credential(n,i){return Hr._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:i})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:i,oauthAccessToken:r}=n;if(!i&&!r)return null;try{return t.credential(i,r)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})(),Om=(()=>{class t extends mc{constructor(){super("github.com")}static credential(n){return Hr._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch{return null}}}t.GITHUB_SIGN_IN_METHOD="github.com",t.PROVIDER_ID="github.com";return t})(),Tee="http://localhost",Hl=class t extends So{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){let n=this.buildRequest();return aa(e,n)}_linkToIdToken(e,n){let i=this.buildRequest();return i.idToken=n,aa(e,i)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,aa(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,pendingToken:o}=n;return!i||!r||!o||i!==r?null:new t(i,o)}static _create(e,n){return new t(e,n)}buildRequest(){return{requestUri:Tee,returnSecureToken:!0,pendingToken:this.pendingToken}}};var Dee="saml.",gh=class t extends To{constructor(e){Q(e.startsWith(Dee),"argument-error"),super(e)}static credentialFromResult(e){return t.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return t.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){let n=Hl.fromJSON(e);return Q(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{pendingToken:n,providerId:i}=e;if(!n||!i)return null;try{return Hl._create(i,n)}catch{return null}}};var Rm=(()=>{class t extends mc{constructor(){super("twitter.com")}static credential(n,i){return Hr._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:n,oauthTokenSecret:i})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthAccessToken:i,oauthTokenSecret:r}=n;if(!i||!r)return null;try{return t.credential(i,r)}catch{return null}}}t.TWITTER_SIGN_IN_METHOD="twitter.com",t.PROVIDER_ID="twitter.com";return t})();function a4(t,e){return C(this,null,function*(){return da(t,"POST","/v1/accounts:signUp",_n(t,e))})}var Do=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return C(this,null,function*(){let o=yield fh._fromIdTokenResponse(e,i,r),a=VU(i);return new t({user:o,providerId:a,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return C(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=VU(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function VU(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}function Nm(t){return C(this,null,function*(){var e;let n=en(t);if(yield n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Do({user:n.currentUser,providerId:null,operationType:"signIn"});let i=yield a4(n,{returnSecureToken:!0}),r=yield Do._fromIdTokenResponse(n,"signIn",i,!0);return yield n._updateCurrentUser(r.user),r})}var CD=class t extends $n{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function c4(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?CD._fromErrorAndOperation(t,o,e,i):o})}function l4(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}function km(t,e){return C(this,null,function*(){let n=Ye(t);yield jw(!0,n,e);let{providerUserInfo:i}=yield jZ(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[e]}),r=l4(i||[]);return n.providerData=n.providerData.filter(o=>r.has(o.providerId)),r.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})}function YD(t,e,n=!1){return C(this,null,function*(){let i=yield ca(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Do._forOperation(t,"link",i)})}function jw(t,e,n){return C(this,null,function*(){yield Im(e);let i=l4(e.providerData),r=t===!1?"provider-already-linked":"no-such-provider";Q(i.has(n)===t,e.auth,r)})}function u4(t,e,n=!1){return C(this,null,function*(){let{auth:i}=t,r="reauthenticate";try{let o=yield ca(t,c4(i,r,e,t),n);Q(o.idToken,i,"internal-error");let a=kw(o.idToken);Q(a,i,"internal-error");let{sub:l}=a;return Q(t.uid===l,i,"user-mismatch"),Do._forOperation(t,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Nn(i,"user-mismatch"),o}})}function d4(t,e,n=!1){return C(this,null,function*(){let i="signIn",r=yield c4(t,i,e),o=yield Do._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(o.user)),o})}function vc(t,e){return C(this,null,function*(){return d4(en(t),e)})}function Ch(t,e){return C(this,null,function*(){let n=Ye(t);return yield jw(!1,n,e.providerId),YD(n,e)})}function Eh(t,e){return C(this,null,function*(){return u4(Ye(t),e)})}function Aee(t,e){return C(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithCustomToken",_n(t,e))})}function Fm(t,e){return C(this,null,function*(){let n=en(t),i=yield Aee(n,{token:e,returnSecureToken:!0}),r=yield Do._fromIdTokenResponse(n,"signIn",i);return yield n._updateCurrentUser(r.user),r})}var Gl=class{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?ED._fromServerResponse(e,n):"totpInfo"in n?ID._fromServerResponse(e,n):Nn(e,"internal-error")}},ED=class t extends Gl{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new t(n)}},ID=class t extends Gl{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new t(n)}};function Uw(t,e,n){var i;Q(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),Q(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Q(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Q(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function QD(t){return C(this,null,function*(){let e=en(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Lm(t,e,n){return C(this,null,function*(){let i=en(t),r={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Uw(i,r,n),yield Sm(i,r,"getOobCode",fee)})}function Vm(t,e,n){return C(this,null,function*(){yield s4(Ye(t),{oobCode:e,newPassword:n}).catch(i=>C(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&QD(t),i}))})}function jm(t,e){return C(this,null,function*(){yield uee(Ye(t),{oobCode:e})})}function Ih(t,e){return C(this,null,function*(){let n=Ye(t),i=yield s4(n,{oobCode:e}),r=i.requestType;switch(Q(r,n,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(i.mfaInfo,n,"internal-error");default:Q(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=Gl._fromServerResponse(en(n),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:o},operation:r}})}function Um(t,e){return C(this,null,function*(){let{data:n}=yield Ih(Ye(t),e);return n.email})}function Bm(t,e,n){return C(this,null,function*(){let i=en(t),a=yield Sm(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",a4).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&QD(t),d}),l=yield Do._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(l.user),l})}function $m(t,e,n){return vc(Ye(t),bh.credential(e,n)).catch(i=>C(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&QD(t),i}))}function Hm(t,e,n){return C(this,null,function*(){let i=en(t),r={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(a,l){Q(l.handleCodeInApp,i,"argument-error"),l&&Uw(i,a,l)}o(r,n),yield Sm(i,r,"getOobCode",pee)})}function Gm(t,e){let n=mh.parseLink(e);return n?.operation==="EMAIL_SIGNIN"}function zm(t,e,n){return C(this,null,function*(){let i=Ye(t),r=bh.credentialWithLink(e,n||Cm());return Q(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),vc(i,r)})}function xee(t,e){return C(this,null,function*(){return wn(t,"POST","/v1/accounts:createAuthUri",_n(t,e))})}function qm(t,e){return C(this,null,function*(){let n=GD()?Cm():"http://localhost",i={identifier:e,continueUri:n},{signinMethods:r}=yield xee(Ye(t),i);return r||[]})}function Wm(t,e){return C(this,null,function*(){let n=Ye(t),r={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&Uw(n.auth,r,e);let{email:o}=yield hee(n.auth,r);o!==t.email&&(yield t.reload())})}function Km(t,e,n){return C(this,null,function*(){let i=Ye(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield t.getIdToken(),newEmail:e};n&&Uw(i.auth,o,n);let{email:a}=yield mee(i.auth,o);a!==t.email&&(yield t.reload())})}function Mee(t,e){return C(this,null,function*(){return wn(t,"POST","/v1/accounts:update",e)})}function Ym(i,r){return C(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let o=Ye(t),l={idToken:yield o.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=yield ca(o,Mee(o.auth,l));o.displayName=d.displayName||null,o.photoURL=d.photoUrl||null;let h=o.providerData.find(({providerId:m})=>m==="password");h&&(h.displayName=o.displayName,h.photoURL=o.photoURL),yield o._updateTokensIfNecessary(d)})}function Qm(t,e){return h4(Ye(t),e,null)}function Xm(t,e){return h4(Ye(t),null,e)}function h4(t,e,n){return C(this,null,function*(){let{auth:i}=t,o={idToken:yield t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);let a=yield ca(t,cee(i,o));yield t._updateTokensIfNecessary(a,!0)})}function Pee(t){var e,n;if(!t)return null;let{providerId:i}=t,r=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&t?.idToken){let a=(n=(e=kw(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(a){let l=a!=="anonymous"&&a!=="custom"?a:null;return new pc(o,l)}}if(!i)return null;switch(i){case"facebook.com":return new SD(o,r);case"github.com":return new TD(o,r);case"google.com":return new DD(o,r);case"twitter.com":return new AD(o,r,t.screenName||null);case"custom":case"anonymous":return new pc(o,null);default:return new pc(o,i,r)}}var pc=class{constructor(e,n,i={}){this.isNewUser=e,this.providerId=n,this.profile=i}},Tw=class extends pc{constructor(e,n,i,r){super(e,n,i),this.username=r}},SD=class extends pc{constructor(e,n){super(e,"facebook.com",n)}},TD=class extends Tw{constructor(e,n){super(e,"github.com",n,typeof n?.login=="string"?n?.login:null)}},DD=class extends pc{constructor(e,n){super(e,"google.com",n)}},AD=class extends Tw{constructor(e,n,i){super(e,"twitter.com",n,i)}};function Jm(t){let{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Pee(n)}function Bw(t,e,n,i){return Ye(t).onIdTokenChanged(e,n,i)}function $w(t,e,n){return Ye(t).beforeAuthStateChanged(e,n)}var Dw=class t{constructor(e,n,i){this.type=e,this.credential=n,this.user=i}static _fromIdtoken(e,n){return new t("enroll",e,n)}static _fromMfaPendingCredential(e){return new t("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,i;if(e?.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return t._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((i=e.multiFactorSession)===null||i===void 0)&&i.idToken)return t._fromIdtoken(e.multiFactorSession.idToken)}return null}};var xD=class t{constructor(e,n,i){this.session=e,this.hints=n,this.signInResolver=i}static _fromError(e,n){let i=en(e),r=n.customData._serverResponse,o=(r.mfaInfo||[]).map(l=>Gl._fromServerResponse(i,l));Q(r.mfaPendingCredential,i,"internal-error");let a=Dw._fromMfaPendingCredential(r.mfaPendingCredential);return new t(a,o,l=>C(this,null,function*(){let d=yield l._process(i,a);delete r.mfaInfo,delete r.mfaPendingCredential;let h=Object.assign(Object.assign({},r),{idToken:d.idToken,refreshToken:d.refreshToken});switch(n.operationType){case"signIn":let m=yield Do._fromIdTokenResponse(i,n.operationType,h);return yield i._updateCurrentUser(m.user),m;case"reauthenticate":return Q(n.user,i,"internal-error"),Do._forOperation(n.user,n.operationType,h);default:Nn(i,"internal-error")}}))}resolveSignIn(e){return C(this,null,function*(){let n=e;return this.signInResolver(n)})}};function Zm(t,e){var n;let i=Ye(t),r=e;return Q(e.customData.operationType,i,"argument-error"),Q((n=r.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,i,"argument-error"),xD._fromError(i,r)}function Oee(t,e){return wn(t,"POST","/v2/accounts/mfaEnrollment:start",_n(t,e))}function Ree(t,e){return wn(t,"POST","/v2/accounts/mfaEnrollment:finalize",_n(t,e))}function Nee(t,e){return wn(t,"POST","/v2/accounts/mfaEnrollment:withdraw",_n(t,e))}var MD=class t{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(i=>Gl._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new t(e)}getSession(){return C(this,null,function*(){return Dw._fromIdtoken(yield this.user.getIdToken(),this.user)})}enroll(e,n){return C(this,null,function*(){let i=e,r=yield this.getSession(),o=yield ca(this.user,i._process(this.user.auth,r,n));return yield this.user._updateTokensIfNecessary(o),this.user.reload()})}unenroll(e){return C(this,null,function*(){let n=typeof e=="string"?e:e.uid,i=yield this.user.getIdToken();try{let r=yield ca(this.user,Nee(this.user.auth,{idToken:i,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),yield this.user._updateTokensIfNecessary(r),yield this.user.reload()}catch(r){throw r}})}},fD=new WeakMap;function eg(t){let e=Ye(t);return fD.has(e)||fD.set(e,MD._fromUser(e)),fD.get(e)}var Aw="__sak";var xw=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Aw,"1"),this.storage.removeItem(Aw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function kee(){let t=Gt();return qD(t)||ql(t)}var Fee=1e3,Lee=10,Vee=(()=>{class t extends xw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=kee()&&QZ(),this.fallbackToPolling=i4(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&n(i,o,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((l,d,h)=>{this.notifyListeners(l,h)});return}let r=n.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let l=this.storage.getItem(r);if(n.newValue!==l)n.newValue!==null?this.storage.setItem(r,n.newValue):this.storage.removeItem(r);else if(this.localCache[r]===n.newValue&&!i)return}let o=()=>{let l=this.storage.getItem(r);!i&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);YZ()&&a!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,Lee):o()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},Fee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return C(this,null,function*(){yield $a(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return C(this,null,function*(){let i=yield $a(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return C(this,null,function*(){yield $a(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),hs=Vee;var jee=(()=>{class t extends xw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),Gr=jee;function Uee(t){return Promise.all(t.map(e=>C(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Bee=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(o=>o.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return C(this,null,function*(){let i=n,{eventId:r,eventType:o,data:a}=i.data,l=this.handlersMap[o];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let d=Array.from(l).map(m=>C(this,null,function*(){return m(i.origin,a)})),h=yield Uee(d);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:h})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Kl(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var PD=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return C(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,a;return new Promise((l,d)=>{let h=Kl("",20);r.port1.start();let m=setTimeout(()=>{d(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(v){let y=v;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(y.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})})}};function Hn(){return window}function $ee(t){Hn().location.href=t}function XD(){return typeof Hn().WorkerGlobalScope<"u"&&typeof Hn().importScripts=="function"}function Hee(){return C(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Gee(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function zee(){return XD()?self:null}var f4="firebaseLocalStorageDb",qee=1,Mw="firebaseLocalStorage",p4="fbase_key",zl=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Hw(t,e){return t.transaction([Mw],e?"readwrite":"readonly").objectStore(Mw)}function Wee(){let t=indexedDB.deleteDatabase(f4);return new zl(t).toPromise()}function OD(){let t=indexedDB.open(f4,qee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(Mw,{keyPath:p4})}catch(r){n(r)}}),t.addEventListener("success",()=>C(this,null,function*(){let i=t.result;i.objectStoreNames.contains(Mw)?e(i):(i.close(),yield Wee(),e(yield OD()))}))})}function jU(t,e,n){return C(this,null,function*(){let i=Hw(t,!0).put({[p4]:e,value:n});return new zl(i).toPromise()})}function Kee(t,e){return C(this,null,function*(){let n=Hw(t,!1).get(e),i=yield new zl(n).toPromise();return i===void 0?null:i.value})}function UU(t,e){let n=Hw(t,!0).delete(e);return new zl(n).toPromise()}var Yee=800,Qee=3,Xee=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return C(this,null,function*(){return this.db?this.db:(this.db=yield OD(),this.db)})}_withRetries(n){return C(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>Qee)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return C(this,null,function*(){return XD()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return C(this,null,function*(){this.receiver=Bee._getInstance(zee()),this.receiver._subscribe("keyChanged",(n,i)=>C(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>C(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return C(this,null,function*(){var n,i;if(this.activeServiceWorker=yield Hee(),!this.activeServiceWorker)return;this.sender=new PD(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return C(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Gee()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return C(this,null,function*(){try{if(!indexedDB)return!1;let n=yield OD();return yield jU(n,Aw,"1"),yield UU(n,Aw),!0}catch{}return!1})}_withPendingWrite(n){return C(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(r=>jU(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return C(this,null,function*(){let i=yield this._withRetries(r=>Kee(r,n));return this.localCache[n]=i,i})}_remove(n){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(i=>UU(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return C(this,null,function*(){let n=yield this._withRetries(o=>{let a=Hw(o,!1).getAll();return new zl(a).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:o,value:a}of n)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>C(this,null,function*(){return this._poll()}),Yee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),ha=Xee;function Jee(t,e){return wn(t,"POST","/v2/accounts/mfaSignIn:start",_n(t,e))}function Zee(t,e){return wn(t,"POST","/v2/accounts/mfaSignIn:finalize",_n(t,e))}var ete=500,tte=6e4,vw=1e12,RD=class{constructor(e){this.auth=e,this.counter=vw,this._widgets=new Map}render(e,n){let i=this.counter;return this._widgets.set(i,new ND(e,this.auth.name,n||{})),this.counter++,i}reset(e){var n;let i=e||vw;(n=this._widgets.get(i))===null||n===void 0||n.delete(),this._widgets.delete(i)}getResponse(e){var n;let i=e||vw;return((n=this._widgets.get(i))===null||n===void 0?void 0:n.getResponse())||""}execute(e){return C(this,null,function*(){var n;let i=e||vw;return(n=this._widgets.get(i))===null||n===void 0||n.execute(),""})}},ND=class{constructor(e,n,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let r=typeof e=="string"?document.getElementById(e):e;Q(r,"argument-error",{appName:n}),this.container=r,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=nte(50);let{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},tte)},ete))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}};function nte(t){let e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<t;i++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}var pD=r4("rcb"),ite=new Ul(3e4,6e4),kD=class{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Hn().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return Q(rte(n),e,"argument-error"),this.shouldResolveImmediately(n)&&OU(Hn().grecaptcha)?Promise.resolve(Hn().grecaptcha):new Promise((i,r)=>{let o=Hn().setTimeout(()=>{r(ui(e,"network-request-failed"))},ite.get());Hn()[pD]=()=>{Hn().clearTimeout(o),delete Hn()[pD];let l=Hn().grecaptcha;if(!l||!OU(l)){r(ui(e,"internal-error"));return}let d=l.render;l.render=(h,m)=>{let v=d(h,m);return this.counter++,v},this.hostLanguage=n,i(l)};let a=`${eee()}?${Ol({onload:pD,render:"explicit",hl:n})}`;KD(a).catch(()=>{clearTimeout(o),r(ui(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Hn().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}};function rte(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}var FD=class{load(e){return C(this,null,function*(){return new RD(e)})}clearedOneInstance(){}};var m4="recaptcha",ote={theme:"light",type:"image"},vh=class{constructor(e,n,i=Object.assign({},ote)){this.parameters=i,this.type=m4,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=en(e),this.isInvisible=this.parameters.size==="invisible",Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");let r=typeof n=="string"?document.getElementById(n):n;Q(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new FD:new kD,this.validateStartingState()}verify(){return C(this,null,function*(){this.assertNotDestroyed();let e=yield this.render(),n=this.getAssertedRecaptcha(),i=n.getResponse(e);return i||new Promise(r=>{let o=a=>{a&&(this.tokenChangeListeners.delete(o),r(a))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(i=>i(n)),typeof e=="function")e(n);else if(typeof e=="string"){let i=Hn()[e];typeof i=="function"&&i(n)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){return C(this,null,function*(){if(yield this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){let n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId})}init(){return C(this,null,function*(){Q(GD()&&!XD(),this.auth,"internal-error"),yield ste(),this.recaptcha=yield this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let e=yield FZ(this.auth);Q(e,this.auth,"internal-error"),this.parameters.sitekey=e})}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function ste(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}var Tm=class{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){let n=Bl._fromVerification(this.verificationId,e);return this.onConfirmation(n)}};function tg(t,e,n){return C(this,null,function*(){let i=en(t),r=yield Gw(i,e,Ye(n));return new Tm(r,o=>vc(i,o))})}function ng(t,e,n){return C(this,null,function*(){let i=Ye(t);yield jw(!1,i,"phone");let r=yield Gw(i.auth,e,Ye(n));return new Tm(r,o=>Ch(i,o))})}function ig(t,e,n){return C(this,null,function*(){let i=Ye(t),r=yield Gw(i.auth,e,Ye(n));return new Tm(r,o=>Eh(i,o))})}function Gw(t,e,n){return C(this,null,function*(){var i;let r=yield n.verify();try{Q(typeof r=="string",t,"argument-error"),Q(n.type===m4,t,"argument-error");let o;if(typeof e=="string"?o={phoneNumber:e}:o=e,"session"in o){let a=o.session;if("phoneNumber"in o)return Q(a.type==="enroll",t,"internal-error"),(yield Oee(t,{idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{Q(a.type==="signin",t,"internal-error");let l=((i=o.multiFactorHint)===null||i===void 0?void 0:i.uid)||o.multiFactorUid;return Q(l,t,"missing-multi-factor-info"),(yield Jee(t,{mfaPendingCredential:a.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}else{let{sessionInfo:a}=yield _ee(t,{phoneNumber:o.phoneNumber,recaptchaToken:r});return a}}finally{n._reset()}})}function rg(t,e){return C(this,null,function*(){yield YD(Ye(t),e)})}var yc=(()=>{class t{constructor(n){this.providerId=t.PROVIDER_ID,this.auth=en(n)}verifyPhoneNumber(n,i){return Gw(this.auth,n,Ye(i))}static credential(n,i){return Bl._fromVerification(n,i)}static credentialFromResult(n){let i=n;return t.credentialFromTaggedObject(i)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{phoneNumber:i,temporaryProof:r}=n;return i&&r?Bl._fromTokenResponse(i,r):null}}t.PROVIDER_ID="phone",t.PHONE_SIGN_IN_METHOD="phone";return t})();function Yl(t,e){return e?Ri(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Dm=class extends So{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return aa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return aa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return aa(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function ate(t){return d4(t.auth,new Dm(t),t.bypassAuthState)}function cte(t){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),u4(n,new Dm(t),t.bypassAuthState)}function lte(t){return C(this,null,function*(){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),YD(n,new Dm(t),t.bypassAuthState)})}var Pw=class{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>C(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return C(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:a,type:l}=e;if(a){this.reject(a);return}let d={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(l)(d))}catch(h){this.reject(h)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ate;case"linkViaPopup":case"linkViaRedirect":return lte;case"reauthViaPopup":case"reauthViaRedirect":return cte;default:Nn(this.auth,"internal-error")}}resolve(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var ute=new Ul(2e3,1e4);function og(t,e,n){return C(this,null,function*(){let i=en(t);yh(t,e,To);let r=Yl(i,n);return new JD(i,"signInViaPopup",e,r).executeNotNull()})}function sg(t,e,n){return C(this,null,function*(){let i=Ye(t);yh(i.auth,e,To);let r=Yl(i.auth,n);return new JD(i.auth,"reauthViaPopup",e,r,i).executeNotNull()})}function ag(t,e,n){return C(this,null,function*(){let i=Ye(t);yh(i.auth,e,To);let r=Yl(i.auth,n);return new JD(i.auth,"linkViaPopup",e,r,i).executeNotNull()})}var JD=(()=>{class t extends Pw{constructor(n,i,r,o,a){super(n,i,o,a),this.provider=r,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return C(this,null,function*(){let n=yield this.execute();return Q(n,this.auth,"internal-error"),n})}onExecution(){return C(this,null,function*(){$r(this.filter.length===1,"Popup operations only handle one event");let n=Kl();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,ute.get())};n()}}t.currentPopupAction=null;return t})(),dte="pendingRedirect",bm=new Map,LD=class t extends Pw{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return C(this,null,function*(){let e=bm.get(this.auth._key());if(!e){try{let i=(yield hte(this.resolver,this.auth))?yield $a(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}bm.set(this.auth._key(),e)}return this.bypassAuthState||bm.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return C(this,null,function*(){if(e.type==="signInViaRedirect")return $a(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,$a(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return C(this,null,function*(){})}cleanUp(){}};function hte(t,e){return C(this,null,function*(){let n=y4(e),i=v4(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function ZD(t,e){return C(this,null,function*(){return v4(t)._set(y4(e),"true")})}function g4(){bm.clear()}function Sh(t,e){bm.set(t._key(),e)}function v4(t){return Ri(t._redirectPersistence)}function y4(t){return ds(dte,t.config.apiKey,t.name)}function cg(t,e,n){return fte(t,e,n)}function fte(t,e,n){return C(this,null,function*(){let i=en(t);yh(t,e,To),yield i._initializationPromise;let r=Yl(i,n);return yield ZD(r,i),r._openRedirect(i,e,"signInViaRedirect")})}function lg(t,e,n){return pte(t,e,n)}function pte(t,e,n){return C(this,null,function*(){let i=Ye(t);yh(i.auth,e,To),yield i.auth._initializationPromise;let r=Yl(i.auth,n);yield ZD(r,i.auth);let o=yield _4(i);return r._openRedirect(i.auth,e,"reauthViaRedirect",o)})}function ug(t,e,n){return mte(t,e,n)}function mte(t,e,n){return C(this,null,function*(){let i=Ye(t);yh(i.auth,e,To),yield i.auth._initializationPromise;let r=Yl(i.auth,n);yield jw(!1,i,e.providerId),yield ZD(r,i.auth);let o=yield _4(i);return r._openRedirect(i.auth,e,"linkViaRedirect",o)})}function dg(t,e){return C(this,null,function*(){return yield en(t)._initializationPromise,Ql(t,e,!1)})}function Ql(t,e,n=!1){return C(this,null,function*(){let i=en(t),r=Yl(i,e),a=yield new LD(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,yield i._persistUserIfCurrent(a.user),yield i._setRedirectUser(null,e)),a})}function _4(t){return C(this,null,function*(){let e=Kl(`${t.uid}:::`);return t._redirectEventId=e,yield t.auth._setRedirectUser(t),yield t.auth._persistUserIfCurrent(t),e})}var gte=10*60*1e3,Am=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vte(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!w4(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(ui(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gte&&this.cachedEventUids.clear(),this.cachedEventUids.has(BU(e))}saveEventToCache(e){this.cachedEventUids.add(BU(e)),this.lastProcessedEventTime=Date.now()}};function BU(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function w4({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function vte(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w4(t);default:return!1}}function eA(n){return C(this,arguments,function*(t,e={}){return wn(t,"GET","/v1/projects",e)})}var yte=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_te=/^https?/;function wte(t){return C(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield eA(t);for(let n of e)try{if(bte(n))return}catch{}Nn(t,"unauthorized-domain")})}function bte(t){let e=Cm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!_te.test(n))return!1;if(yte.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var Cte=new Ul(3e4,6e4);function $U(){let t=Hn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Ete(t){return new Promise((e,n)=>{var i,r,o;function a(){$U(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$U(),n(ui(t,"network-request-failed"))},timeout:Cte.get()})}if(!((r=(i=Hn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=Hn().gapi)===null||o===void 0)&&o.load)a();else{let l=r4("iframefcb");return Hn()[l]=()=>{gapi.load?a():n(ui(t,"network-request-failed"))},KD(`${nee()}?onload=${l}`).catch(d=>n(d))}}).catch(e=>{throw _w=null,e})}var _w=null;function Ite(t){return _w=_w||Ete(t),_w}var Ste=new Ul(5e3,15e3),Tte="__/auth/iframe",Dte="emulator/auth/iframe",Ate={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xte=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mte(t){let e=t.config;Q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?zD(e,Dte):`https://${t.config.authDomain}/${Tte}`,i={apiKey:e.apiKey,appName:t.name,v:Eo},r=xte.get(t.config.apiHost);r&&(i.eid=r);let o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Ol(i).slice(1)}`}function Pte(t){return C(this,null,function*(){let e=yield Ite(t),n=Hn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:Mte(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ate,dontclear:!0},i=>new Promise((r,o)=>C(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let a=ui(t,"network-request-failed"),l=Hn().setTimeout(()=>{o(a)},Ste.get());function d(){Hn().clearTimeout(l),r(i)}i.ping(d).then(d,()=>{o(a)})})))})}var Ote={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rte=500,Nte=600,kte="_blank",Fte="http://localhost",xm=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Lte(t,e,n,i=Rte,r=Nte){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString(),l="",d=Object.assign(Object.assign({},Ote),{width:i.toString(),height:r.toString(),top:o,left:a}),h=Gt().toLowerCase();n&&(l=JU(h)?kte:n),XU(h)&&(e=e||Fte,d.scrollbars="yes");let m=Object.entries(d).reduce((y,[b,w])=>`${y}${b}=${w},`,"");if(KZ(h)&&l!=="_self")return Vte(e||"",l),new xm(null);let v=window.open(e||"",l,m);Q(v,t,"popup-blocked");try{v.focus()}catch{}return new xm(v)}function Vte(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var jte="__/auth/handler",Ute="emulator/auth/handler",Bte=encodeURIComponent("fac");function Ow(t,e,n,i,r,o){return C(this,null,function*(){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");let a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Eo,eventId:r};if(e instanceof To){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",dU(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[m,v]of Object.entries(o||{}))a[m]=v}if(e instanceof mc){let m=e.getScopes().filter(v=>v!=="");m.length>0&&(a.scopes=m.join(","))}t.tenantId&&(a.tid=t.tenantId);let l=a;for(let m of Object.keys(l))l[m]===void 0&&delete l[m];let d=yield t._getAppCheckToken(),h=d?`#${Bte}=${encodeURIComponent(d)}`:"";return`${$te(t)}?${Ol(l).slice(1)}${h}`})}function $te({config:t}){return t.emulator?zD(t,Ute):`https://${t.authDomain}/${jte}`}var mD="webStorageSupport",VD=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gr,this._completeRedirectFn=Ql,this._overrideRedirectResult=Sh}_openPopup(e,n,i,r){return C(this,null,function*(){var o;$r((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let a=yield Ow(e,n,i,Cm(),r);return Lte(e,a,Kl())})}_openRedirect(e,n,i,r){return C(this,null,function*(){yield this._originValidation(e);let o=yield Ow(e,n,i,Cm(),r);return $ee(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):($r(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return C(this,null,function*(){let n=yield Pte(e),i=new Am(e);return n.register("authEvent",r=>(Q(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mD,{type:mD},r=>{var o;let a=(o=r?.[0])===null||o===void 0?void 0:o[mD];a!==void 0&&n(!!a),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wte(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return i4()||qD()||ql()}},hg=VD,jD=class{constructor(e){this.factorId=e}_process(e,n,i){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,i);case"signin":return this._finalizeSignIn(e,n.credential);default:return us("unexpected MultiFactorSessionType")}}},UD=class t extends jD{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new t(e)}_finalizeEnroll(e,n,i){return Ree(e,{idToken:n,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return Zee(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},zw=(()=>{class t{constructor(){}static assertion(n){return UD._fromCredential(n)}}return t.FACTOR_ID="phone",t})();var HU="@firebase/auth",GU="1.6.1";var BD=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Hte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Gte(t){Co(new Oi("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;Q(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});let d={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WD(t)},h=new Iw(i,r,o,d);return oee(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Co(new Oi("auth-internal",e=>{let n=en(e.getProvider("auth").getImmediate());return(i=>new BD(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),an(HU,GU,Hte(t)),an(HU,GU,"esm2017")}var zte=5*60,qte=W1("authIdTokenMaxAge")||zte,zU=null,Wte=t=>e=>C(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>qte)return;let r=n?.token;zU!==r&&(zU=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function qw(t=Fl()){let e=kl(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Lw(t,{popupRedirectResolver:hg,persistence:[ha,hs,Gr]}),i=W1("authTokenSyncURL");if(i){let o=Wte(i);$w(n,o,()=>o(n.currentUser)),Bw(n,a=>o(a))}let r=z1("auth");return r&&wh(n,`http://${r}`),n}function Kte(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ZZ({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let o=ui("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",Kte().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Gte("Browser");var O4="auth",Xl=class{constructor(e){return e}},fg=class{constructor(){return ym(O4)}};var tA=new ye("angularfire2.auth-instances");function tne(t,e){let n=mw(O4,t,e);return n&&new Xl(n)}function nne(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Xl(i)}}var ine={provide:fg,deps:[[new Qi,tA]]},rne={provide:Xl,useFactory:tne,deps:[[new Qi,tA],sa]},one=(()=>{class t{constructor(){an("angularfire",Vl.full,"auth")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ki({type:t});static \u0275inj=Yi({providers:[rne,ine]})}return t})();function R4(t,...e){return{ngModule:one,providers:[{provide:tA,useFactory:nne(t),multi:!0,deps:[_t,Kt,hh,jl,[new Qi,dh],...e]}]}}var N4=Io(qw,!0);var ane=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xo={},ce,EA=EA||{},Be=ane||self;function sb(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Dg(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function cne(t){return Object.prototype.hasOwnProperty.call(t,nA)&&t[nA]||(t[nA]=++lne)}var nA="closure_uid_"+(1e9*Math.random()>>>0),lne=0;function une(t,e,n){return t.call.apply(t.bind,arguments)}function dne(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Ni(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ni=une:Ni=dne,Ni.apply(null,arguments)}function Ww(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function hi(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,o){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return e.prototype[r].apply(i,a)}}function _c(){this.s=this.s,this.o=this.o}var hne=0;_c.prototype.s=!1;_c.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),hne!=0)&&cne(this)};_c.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var W4=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function IA(t){let e=t.length;if(0<e){let n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function k4(t,e){for(let n=1;n<arguments.length;n++){let i=arguments[n];if(sb(i)){let r=t.length||0,o=i.length||0;t.length=r+o;for(let a=0;a<o;a++)t[r+a]=i[a]}else t.push(i)}}function ki(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ki.prototype.h=function(){this.defaultPrevented=!0};var fne=function(){if(!Be.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};Be.addEventListener("test",n,e),Be.removeEventListener("test",n,e)}catch{}return t}();function _g(t){return/^[\s\xa0]*$/.test(t)}function ab(){var t=Be.navigator;return t&&(t=t.userAgent)?t:""}function fs(t){return ab().indexOf(t)!=-1}function SA(t){return SA[" "](t),t}SA[" "]=function(){};function pne(t,e){var n=nie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var mne=fs("Opera"),xh=fs("Trident")||fs("MSIE"),K4=fs("Edge"),aA=K4||xh,Y4=fs("Gecko")&&!(ab().toLowerCase().indexOf("webkit")!=-1&&!fs("Edge"))&&!(fs("Trident")||fs("MSIE"))&&!fs("Edge"),gne=ab().toLowerCase().indexOf("webkit")!=-1&&!fs("Edge");function Q4(){var t=Be.document;return t?t.documentMode:void 0}var cA;e:{if(Kw="",Yw=function(){var t=ab();if(Y4)return/rv:([^\);]+)(\)|;)/.exec(t);if(K4)return/Edge\/([\d\.]+)/.exec(t);if(xh)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(gne)return/WebKit\/(\S+)/.exec(t);if(mne)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Yw&&(Kw=Yw?Yw[1]:""),xh&&(Qw=Q4(),Qw!=null&&Qw>parseFloat(Kw))){cA=String(Qw);break e}cA=Kw}var Kw,Yw,Qw,lA;Be.document&&xh?(iA=Q4(),lA=iA||parseInt(cA,10)||void 0):lA=void 0;var iA,vne=lA;function wg(t,e){if(ki.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Y4){e:{try{SA(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:yne[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&wg.$.h.call(this)}}hi(wg,ki);var yne={2:"touch",3:"pen",4:"mouse"};wg.prototype.h=function(){wg.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ag="closure_listenable_"+(1e6*Math.random()|0),_ne=0;function wne(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++_ne,this.fa=this.ia=!1}function cb(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function TA(t,e,n){for(let i in t)e.call(n,t[i],i,t)}function bne(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function X4(t){let e={};for(let n in t)e[n]=t[n];return e}var F4="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J4(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let o=0;o<F4.length;o++)n=F4[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function lb(t){this.src=t,this.g={},this.h=0}lb.prototype.add=function(t,e,n,i,r){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var a=dA(t,e,i,r);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new wne(e,this.src,o,!!i,r),e.ia=n,t.push(e)),e};function uA(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=W4(i,e),o;(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(cb(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function dA(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return r}return-1}var DA="closure_lm_"+(1e6*Math.random()|0),rA={};function Z4(t,e,n,i,r){if(i&&i.once)return tB(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Z4(t,e[o],n,i,r);return null}return n=MA(n),t&&t[Ag]?t.O(e,n,Dg(i)?!!i.capture:!!i,r):eB(t,e,n,!1,i,r)}function eB(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=Dg(r)?!!r.capture:!!r,l=xA(t);if(l||(t[DA]=l=new lb(t)),n=l.add(e,n,i,a,o),n.proxy)return n;if(i=Cne(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)fne||(r=a),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(iB(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Cne(){function t(n){return e.call(t.src,t.listener,n)}let e=Ene;return t}function tB(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)tB(t,e[o],n,i,r);return null}return n=MA(n),t&&t[Ag]?t.P(e,n,Dg(i)?!!i.capture:!!i,r):eB(t,e,n,!0,i,r)}function nB(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)nB(t,e[o],n,i,r);else i=Dg(i)?!!i.capture:!!i,n=MA(n),t&&t[Ag]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=dA(o,n,i,r),-1<n&&(cb(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=xA(t))&&(e=t.g[e.toString()],t=-1,e&&(t=dA(e,n,i,r)),(n=-1<t?e[t]:null)&&AA(n))}function AA(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ag])uA(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(iB(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=xA(e))?(uA(n,t),n.h==0&&(n.src=null,e[DA]=null)):cb(t)}}}function iB(t){return t in rA?rA[t]:rA[t]="on"+t}function Ene(t,e){if(t.fa)t=!0;else{e=new wg(e,this);var n=t.listener,i=t.la||t.src;t.ia&&AA(t),t=n.call(i,e)}return t}function xA(t){return t=t[DA],t instanceof lb?t:null}var oA="__closure_events_fn_"+(1e9*Math.random()>>>0);function MA(t){return typeof t=="function"?t:(t[oA]||(t[oA]=function(e){return t.handleEvent(e)}),t[oA])}function di(){_c.call(this),this.i=new lb(this),this.S=this,this.J=null}hi(di,_c);di.prototype[Ag]=!0;di.prototype.removeEventListener=function(t,e,n,i){nB(this,t,e,n,i)};function Ci(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new ki(e,t);else if(e instanceof ki)e.target=e.target||t;else{var r=e;e=new ki(i,t),J4(e,r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];r=Xw(a,i,!0,e)&&r}if(a=e.g=t,r=Xw(a,i,!0,e)&&r,r=Xw(a,i,!1,e)&&r,n)for(o=0;o<n.length;o++)a=e.g=n[o],r=Xw(a,i,!1,e)&&r}di.prototype.N=function(){if(di.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)cb(n[i]);delete t.g[e],t.h--}}this.J=null};di.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};di.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function Xw(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.fa&&a.capture==n){var l=a.listener,d=a.la||a.src;a.ia&&uA(t.i,a),r=l.call(d,i)!==!1&&r}}return r&&!i.defaultPrevented}var PA=Be.JSON.stringify,hA=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function Ine(){var t=OA;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var fA=class{constructor(){this.h=this.g=null}add(e,n){let i=rB.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}},rB=new hA(()=>new pA,t=>t.reset()),pA=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function Sne(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Tne(t){Be.setTimeout(()=>{throw t},0)}var bg,Cg=!1,OA=new fA,oB=()=>{let t=Be.Promise.resolve(void 0);bg=()=>{t.then(Dne)}},Dne=()=>{for(var t;t=Ine();){try{t.h.call(t.g)}catch(n){Tne(n)}var e=rB;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Cg=!1};function ub(t,e){di.call(this),this.h=t||1,this.g=e||Be,this.j=Ni(this.qb,this),this.l=Date.now()}hi(ub,di);ce=ub.prototype;ce.ga=!1;ce.T=null;ce.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ci(this,"tick"),this.ga&&(RA(this),this.start()))}};ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function RA(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ce.N=function(){ub.$.N.call(this),RA(this),delete this.g};function NA(t,e,n){if(typeof t=="function")n&&(t=Ni(t,n));else if(t&&typeof t.handleEvent=="function")t=Ni(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Be.setTimeout(t,e||0)}function sB(t){t.g=NA(()=>{t.g=null,t.i&&(t.i=!1,sB(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var mA=class extends _c{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:sB(this)}N(){super.N(),this.g&&(Be.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Eg(t){_c.call(this),this.h=t,this.g={}}hi(Eg,_c);var L4=[];function aB(t,e,n,i){Array.isArray(n)||(n&&(L4[0]=n.toString()),n=L4);for(var r=0;r<n.length;r++){var o=Z4(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function cB(t){TA(t.g,function(e,n){this.g.hasOwnProperty(n)&&AA(e)},t),t.g={}}Eg.prototype.N=function(){Eg.$.N.call(this),cB(this)};Eg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function db(){this.g=!0}db.prototype.Ea=function(){this.g=!1};function Ane(t,e,n,i,r,o){t.info(function(){if(t.g)if(o)for(var a="",l=o.split("&"),d=0;d<l.length;d++){var h=l[d].split("=");if(1<h.length){var m=h[0];h=h[1];var v=m.split("_");a=2<=v.length&&v[1]=="type"?a+(m+"="+h+"&"):a+(m+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+a})}function xne(t,e,n,i,r,o,a){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+o+" "+a})}function Dh(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Pne(t,n)+(i?" "+i:"")})}function Mne(t,e){t.info(function(){return"TIMEOUT: "+e})}db.prototype.info=function(){};function Pne(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<r.length;a++)r[a]=""}}}}return PA(n)}catch{return e}}var tu={},V4=null;function hb(){return V4=V4||new di}tu.Ta="serverreachability";function lB(t){ki.call(this,tu.Ta,t)}hi(lB,ki);function Ig(t){let e=hb();Ci(e,new lB(e))}tu.STAT_EVENT="statevent";function uB(t,e){ki.call(this,tu.STAT_EVENT,t),this.stat=e}hi(uB,ki);function Ji(t){let e=hb();Ci(e,new uB(e,t))}tu.Ua="timingevent";function dB(t,e){ki.call(this,tu.Ua,t),this.size=e}hi(dB,ki);function xg(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Be.setTimeout(function(){t()},e)}var fb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},hB={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function kA(){}kA.prototype.h=null;function j4(t){return t.h||(t.h=t.i())}function fB(){}var Mg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function FA(){ki.call(this,"d")}hi(FA,ki);function LA(){ki.call(this,"c")}hi(LA,ki);var gA;function pb(){}hi(pb,kA);pb.prototype.g=function(){return new XMLHttpRequest};pb.prototype.i=function(){return{}};gA=new pb;function Pg(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Eg(this),this.P=One,t=aA?125:void 0,this.V=new ub(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new pB}function pB(){this.i=null,this.g="",this.h=!1}var One=45e3,mB={},vA={};ce=Pg.prototype;ce.setTimeout=function(t){this.P=t};function yA(t,e,n){t.L=1,t.A=gb(pa(e)),t.u=n,t.S=!0,gB(t,null)}function gB(t,e){t.G=Date.now(),Og(t),t.B=pa(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),IB(n.i,"t",i),t.o=0,n=t.l.J,t.h=new pB,t.g=zB(t.l,n?e:null,!t.u),0<t.O&&(t.M=new mA(Ni(t.Pa,t,t.g),t.O)),aB(t.U,t.g,"readystatechange",t.nb),e=t.I?X4(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ig(),Ane(t.j,t.v,t.B,t.m,t.W,t.u)}ce.nb=function(t){t=t.target;let e=this.M;e&&ps(t)==3?e.l():this.Pa(t)};ce.Pa=function(t){try{if(t==this.g)e:{let m=ps(this.g);var e=this.g.Ia();let v=this.g.da();if(!(3>m)&&(m!=3||aA||this.g&&(this.h.h||this.g.ja()||H4(this.g)))){this.J||m!=4||e==7||(e==8||0>=v?Ig(3):Ig(2)),mb(this);var n=this.g.da();this.ca=n;t:if(vB(this)){var i=H4(this.g);t="";var r=i.length,o=ps(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jl(this),yg(this);var a="";break t}this.h.i=new Be.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=t,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,xne(this.j,this.v,this.B,this.m,this.W,m,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,d=this.g;if((l=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_g(l)){var h=l;break t}}h=null}if(n=h)Dh(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_A(this,n);else{this.i=!1,this.s=3,Ji(12),Jl(this),yg(this);break e}}this.S?(yB(this,m,a),aA&&this.i&&m==3&&(aB(this.U,this.V,"tick",this.mb),this.V.start())):(Dh(this.j,this.m,a,null),_A(this,a)),m==4&&Jl(this),this.i&&!this.J&&(m==4?BB(this.l,this):(this.i=!1,Og(this)))}else Zne(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.s=3,Ji(12)):(this.s=0,Ji(13)),Jl(this),yg(this)}}}catch{}finally{}};function vB(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function yB(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=Rne(t,n),r==vA){e==4&&(t.s=4,Ji(14),i=!1),Dh(t.j,t.m,null,"[Incomplete Response]");break}else if(r==mB){t.s=4,Ji(15),Dh(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Dh(t.j,t.m,r,null),_A(t,r);vB(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Ji(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),HA(e),e.M=!0,Ji(11))):(Dh(t.j,t.m,n,"[Invalid Chunked Response]"),Jl(t),yg(t))}ce.mb=function(){if(this.g){var t=ps(this.g),e=this.g.ja();this.o<e.length&&(mb(this),yB(this,t,e),this.i&&t!=4&&Og(this))}};function Rne(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?vA:(n=Number(e.substring(n,i)),isNaN(n)?mB:(i+=1,i+n>e.length?vA:(e=e.slice(i,i+n),t.o=i+n,e)))}ce.cancel=function(){this.J=!0,Jl(this)};function Og(t){t.Y=Date.now()+t.P,_B(t,t.P)}function _B(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=xg(Ni(t.lb,t),e)}function mb(t){t.C&&(Be.clearTimeout(t.C),t.C=null)}ce.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(Mne(this.j,this.B),this.L!=2&&(Ig(),Ji(17)),Jl(this),this.s=2,yg(this)):_B(this,this.Y-t)};function yg(t){t.l.H==0||t.J||BB(t.l,t)}function Jl(t){mb(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,RA(t.V),cB(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function _A(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||wA(n.i,t))){if(!t.K&&wA(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)nb(n),_b(n);else break e;$A(n),Ji(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=xg(Ni(n.ib,n),6e3));if(1>=DB(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Zl(n,11)}else if((t.K||n.g==t)&&nb(n),!_g(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let h=r[e];if(n.V=h[0],h=h[1],n.H==2)if(h[0]=="c"){n.K=h[1],n.pa=h[2];let m=h[3];m!=null&&(n.ra=m,n.l.info("VER="+n.ra));let v=h[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));let y=h[5];y!=null&&typeof y=="number"&&0<y&&(i=1.5*y,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;let b=t.g;if(b){let w=b.g?b.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var o=i.i;o.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(VA(o,o.h),o.h=null))}if(i.F){let E=b.g?b.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(i.Da=E,tn(i.I,i.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var a=t;if(i.wa=GB(i,i.J?i.pa:null,i.Y),a.K){AB(i.i,a);var l=a,d=i.L;d&&l.setTimeout(d),l.C&&(mb(l),Og(l)),i.g=a}else jB(i);0<n.j.length&&wb(n)}else h[0]!="stop"&&h[0]!="close"||Zl(n,7);else n.H==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?Zl(n,7):BA(n):h[0]!="noop"&&n.h&&n.h.Aa(h),n.A=0)}}Ig(4)}catch{}}function Nne(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(sb(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function kne(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(sb(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let i in t)e[n++]=i;return e}}}function wB(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(sb(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=kne(t),i=Nne(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}var bB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fne(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function eu(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof eu){this.h=t.h,eb(this,t.j),this.s=t.s,this.g=t.g,tb(this,t.m),this.l=t.l;var e=t.i,n=new Sg;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),U4(this,n),this.o=t.o}else t&&(e=String(t).match(bB))?(this.h=!1,eb(this,e[1]||"",!0),this.s=gg(e[2]||""),this.g=gg(e[3]||"",!0),tb(this,e[4]),this.l=gg(e[5]||"",!0),U4(this,e[6]||"",!0),this.o=gg(e[7]||"")):(this.h=!1,this.i=new Sg(null,this.h))}eu.prototype.toString=function(){var t=[],e=this.j;e&&t.push(vg(e,B4,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(vg(e,B4,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(vg(n,n.charAt(0)=="/"?jne:Vne,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",vg(n,Bne)),t.join("")};function pa(t){return new eu(t)}function eb(t,e,n){t.j=n?gg(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function tb(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function U4(t,e,n){e instanceof Sg?(t.i=e,$ne(t.i,t.h)):(n||(e=vg(e,Une)),t.i=new Sg(e,t.h))}function tn(t,e,n){t.i.set(e,n)}function gb(t){return tn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function gg(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function vg(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Lne),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Lne(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var B4=/[#\/\?@]/g,Vne=/[#\?:]/g,jne=/[#\?]/g,Une=/[#\?@]/g,Bne=/#/g;function Sg(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function wc(t){t.g||(t.g=new Map,t.h=0,t.i&&Fne(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ce=Sg.prototype;ce.add=function(t,e){wc(this),this.i=null,t=Mh(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function CB(t,e){wc(t),e=Mh(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function EB(t,e){return wc(t),e=Mh(t,e),t.g.has(e)}ce.forEach=function(t,e){wc(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};ce.ta=function(){wc(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){let r=t[i];for(let o=0;o<r.length;o++)n.push(e[i])}return n};ce.Z=function(t){wc(this);let e=[];if(typeof t=="string")EB(this,t)&&(e=e.concat(this.g.get(Mh(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ce.set=function(t,e){return wc(this),this.i=null,t=Mh(this,t),EB(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ce.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function IB(t,e,n){CB(t,e),0<n.length&&(t.i=null,t.g.set(Mh(t,e),IA(n)),t.h+=n.length)}ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];let o=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var r=o;a[i]!==""&&(r+="="+encodeURIComponent(String(a[i]))),t.push(r)}}return this.i=t.join("&")};function Mh(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function $ne(t,e){e&&!t.j&&(wc(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(CB(this,i),IB(this,r,n))},t)),t.j=e}var Hne=class{constructor(t,e){this.g=t,this.map=e}};function SB(t){this.l=t||Gne,Be.PerformanceNavigationTiming?(t=Be.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Be.g&&Be.g.Ka&&Be.g.Ka()&&Be.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Gne=10;function TB(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function DB(t){return t.h?1:t.g?t.g.size:0}function wA(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function VA(t,e){t.g?t.g.add(e):t.h=e}function AB(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}SB.prototype.cancel=function(){if(this.i=xB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function xB(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return IA(t.i)}var zne=class{stringify(t){return Be.JSON.stringify(t,void 0)}parse(t){return Be.JSON.parse(t,void 0)}};function qne(){this.g=new zne}function Wne(t,e,n){let i=n||"";try{wB(t,function(r,o){let a=r;Dg(r)&&(a=PA(r)),e.push(i+o+"="+encodeURIComponent(a))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Kne(t,e){let n=new db;if(Be.Image){let i=new Image;i.onload=Ww(Jw,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Ww(Jw,n,i,"TestLoadImage: error",!1,e),i.onabort=Ww(Jw,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Ww(Jw,n,i,"TestLoadImage: timeout",!1,e),Be.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function Jw(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Rg(t){this.l=t.ec||null,this.j=t.ob||!1}hi(Rg,kA);Rg.prototype.g=function(){return new vb(this.l,this.j)};Rg.prototype.i=function(t){return function(){return t}}({});function vb(t,e){di.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=jA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hi(vb,di);var jA=0;ce=vb.prototype;ce.open=function(t,e){if(this.readyState!=jA)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Tg(this)};ce.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Be).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ng(this)),this.readyState=jA};ce.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Tg(this)),this.g&&(this.readyState=3,Tg(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Be.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;MB(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function MB(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ce.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ng(this):Tg(this),this.readyState==3&&MB(this)}};ce.Za=function(t){this.g&&(this.response=this.responseText=t,Ng(this))};ce.Ya=function(t){this.g&&(this.response=t,Ng(this))};ce.ka=function(){this.g&&Ng(this)};function Ng(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Tg(t)}ce.setRequestHeader=function(t,e){this.v.append(t,e)};ce.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ce.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Tg(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(vb.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Yne=Be.JSON.parse;function bn(t){di.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=PB,this.L=this.M=!1}hi(bn,di);var PB="",Qne=/^https?$/i,Xne=["POST","PUT"];ce=bn.prototype;ce.Oa=function(t){this.M=t};ce.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():gA.g(),this.C=this.u?j4(this.u):j4(gA),this.g.onreadystatechange=Ni(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){$4(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(let o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),r=Be.FormData&&t instanceof Be.FormData,!(0<=W4(Xne,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{NB(this),0<this.B&&((this.L=Jne(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ni(this.ua,this)):this.A=NA(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){$4(this,o)}};function Jne(t){return xh&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ce.ua=function(){typeof EA<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ci(this,"timeout"),this.abort(8))};function $4(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,OB(t),yb(t)}function OB(t){t.F||(t.F=!0,Ci(t,"complete"),Ci(t,"error"))}ce.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ci(this,"complete"),Ci(this,"abort"),yb(this))};ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yb(this,!0)),bn.$.N.call(this)};ce.La=function(){this.s||(this.G||this.v||this.l?RB(this):this.kb())};ce.kb=function(){RB(this)};function RB(t){if(t.h&&typeof EA<"u"&&(!t.C[1]||ps(t)!=4||t.da()!=2)){if(t.v&&ps(t)==4)NA(t.La,0,t);else if(Ci(t,"readystatechange"),ps(t)==4){t.h=!1;try{let a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=a===0){var r=String(t.I).match(bB)[1]||null;!r&&Be.self&&Be.self.location&&(r=Be.self.location.protocol.slice(0,-1)),i=!Qne.test(r?r.toLowerCase():"")}n=i}if(n)Ci(t,"complete"),Ci(t,"success");else{t.m=6;try{var o=2<ps(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",OB(t)}}finally{yb(t)}}}}function yb(t,e){if(t.g){NB(t);let n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ci(t,"ready");try{n.onreadystatechange=i}catch{}}}function NB(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Be.clearTimeout(t.A),t.A=null)}ce.isActive=function(){return!!this.g};function ps(t){return t.g?t.g.readyState:0}ce.da=function(){try{return 2<ps(this)?this.g.status:-1}catch{return-1}};ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ce.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Yne(e)}};function H4(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case PB:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Zne(t){let e={};t=(t.g&&2<=ps(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(_g(t[i]))continue;var n=Sne(t[i]);let r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[r]||[];e[r]=o,o.push(n)}bne(e,function(i){return i.join(", ")})}ce.Ia=function(){return this.m};ce.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function kB(t){let e="";return TA(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function UA(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=kB(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):tn(t,e,n))}function pg(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function FB(t){this.Ga=0,this.j=[],this.l=new db,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=pg("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=pg("baseRetryDelayMs",5e3,t),this.hb=pg("retryDelaySeedMs",1e4,t),this.eb=pg("forwardChannelMaxRetries",2,t),this.xa=pg("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new SB(t&&t.concurrentRequestLimit),this.Ja=new qne,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ce=FB.prototype;ce.ra=8;ce.H=1;function BA(t){if(LB(t),t.H==3){var e=t.W++,n=pa(t.I);if(tn(n,"SID",t.K),tn(n,"RID",e),tn(n,"TYPE","terminate"),kg(t,n),e=new Pg(t,t.l,e),e.L=2,e.A=gb(pa(n)),n=!1,Be.navigator&&Be.navigator.sendBeacon)try{n=Be.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Be.Image&&(new Image().src=e.A,n=!0),n||(e.g=zB(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Og(e)}HB(t)}function _b(t){t.g&&(HA(t),t.g.cancel(),t.g=null)}function LB(t){_b(t),t.u&&(Be.clearTimeout(t.u),t.u=null),nb(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Be.clearTimeout(t.m),t.m=null)}function wb(t){if(!TB(t.i)&&!t.m){t.m=!0;var e=t.Na;bg||oB(),Cg||(bg(),Cg=!0),OA.add(e,t),t.C=0}}function eie(t,e){return DB(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=xg(Ni(t.Na,t,e),$B(t,t.C)),t.C++,!0)}ce.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let r=new Pg(this,this.l,t),o=this.s;if(this.U&&(o?(o=X4(o),J4(o,this.U)):o=this.U),this.o!==null||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=VB(this,r,e),n=pa(this.I),tn(n,"RID",t),tn(n,"CVER",22),this.F&&tn(n,"X-HTTP-Session-Id",this.F),kg(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(kB(o)))+"&"+e:this.o&&UA(n,this.o,o)),VA(this.i,r),this.bb&&tn(n,"TYPE","init"),this.P?(tn(n,"$req",e),tn(n,"SID","null"),r.aa=!0,yA(r,n,null)):yA(r,n,e),this.H=2}}else this.H==3&&(t?G4(this,t):this.j.length==0||TB(this.i)||G4(this))};function G4(t,e){var n;e?n=e.m:n=t.W++;let i=pa(t.I);tn(i,"SID",t.K),tn(i,"RID",n),tn(i,"AID",t.V),kg(t,i),t.o&&t.s&&UA(i,t.o,t.s),n=new Pg(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=VB(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),VA(t.i,n),yA(n,i,e)}function kg(t,e){t.na&&TA(t.na,function(n,i){tn(e,i,n)}),t.h&&wB({},function(n,i){tn(e,i,n)})}function VB(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Ni(t.h.Va,t.h,t):null;e:{var r=t.j;let o=-1;for(;;){let a=["count="+n];o==-1?0<n?(o=r[0].g,a.push("ofs="+o)):o=0:a.push("ofs="+o);let l=!0;for(let d=0;d<n;d++){let h=r[d].g,m=r[d].map;if(h-=o,0>h)o=Math.max(0,r[d].g-100),l=!1;else try{Wne(m,a,"req"+h+"_")}catch{i&&i(m)}}if(l){i=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function jB(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;bg||oB(),Cg||(bg(),Cg=!0),OA.add(e,t),t.A=0}}function $A(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=xg(Ni(t.Ma,t),$B(t,t.A)),t.A++,!0)}ce.Ma=function(){if(this.u=null,UB(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=xg(Ni(this.jb,this),t)}};ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ji(10),_b(this),UB(this))};function HA(t){t.B!=null&&(Be.clearTimeout(t.B),t.B=null)}function UB(t){t.g=new Pg(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=pa(t.wa);tn(e,"RID","rpc"),tn(e,"SID",t.K),tn(e,"AID",t.V),tn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&tn(e,"TO",t.qa),tn(e,"TYPE","xmlhttp"),kg(t,e),t.o&&t.s&&UA(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=gb(pa(e)),n.u=null,n.S=!0,gB(n,t)}ce.ib=function(){this.v!=null&&(this.v=null,_b(this),$A(this),Ji(19))};function nb(t){t.v!=null&&(Be.clearTimeout(t.v),t.v=null)}function BB(t,e){var n=null;if(t.g==e){nb(t),HA(t),t.g=null;var i=2}else if(wA(t.i,e))n=e.F,AB(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=hb(),Ci(i,new dB(i,n)),wb(t)}else jB(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&eie(t,e)||i==2&&$A(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Zl(t,5);break;case 4:Zl(t,10);break;case 3:Zl(t,6);break;default:Zl(t,2)}}}function $B(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Zl(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Ni(t.pb,t);n||(n=new eu("//www.google.com/images/cleardot.gif"),Be.location&&Be.location.protocol=="http"||eb(n,"https"),gb(n)),Kne(n.toString(),i)}else Ji(2);t.H=0,t.h&&t.h.za(e),HB(t),LB(t)}ce.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ji(2)):(this.l.info("Failed to ping google.com"),Ji(1))};function HB(t){if(t.H=0,t.ma=[],t.h){let e=xB(t.i);(e.length!=0||t.j.length!=0)&&(k4(t.ma,e),k4(t.ma,t.j),t.i.i.length=0,IA(t.j),t.j.length=0),t.h.ya()}}function GB(t,e,n){var i=n instanceof eu?pa(n):new eu(n);if(i.g!="")e&&(i.g=e+"."+i.g),tb(i,i.m);else{var r=Be.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new eu(null);i&&eb(o,i),e&&(o.g=e),r&&tb(o,r),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&tn(i,n,e),tn(i,"VER",t.ra),kg(t,i),i}function zB(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new bn(new Rg({ob:n})):new bn(t.va),e.Oa(t.J),e}ce.isActive=function(){return!!this.h&&this.h.isActive(this)};function qB(){}ce=qB.prototype;ce.Ba=function(){};ce.Aa=function(){};ce.za=function(){};ce.ya=function(){};ce.isActive=function(){return!0};ce.Va=function(){};function ib(){if(xh&&!(10<=Number(vne)))throw Error("Environmental error: no available transport.")}ib.prototype.g=function(t,e){return new Ir(t,e)};function Ir(t,e){di.call(this),this.g=new FB(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!_g(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_g(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ph(this)}hi(Ir,di);Ir.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ji(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=GB(t,null,t.Y),wb(t)};Ir.prototype.close=function(){BA(this.g)};Ir.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=PA(t),t=n);e.j.push(new Hne(e.fb++,t)),e.H==3&&wb(e)};Ir.prototype.N=function(){this.g.h=null,delete this.j,BA(this.g),delete this.g,Ir.$.N.call(this)};function WB(t){FA.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}hi(WB,FA);function KB(){LA.call(this),this.status=1}hi(KB,LA);function Ph(t){this.g=t}hi(Ph,qB);Ph.prototype.Ba=function(){Ci(this.g,"a")};Ph.prototype.Aa=function(t){Ci(this.g,new WB(t))};Ph.prototype.za=function(t){Ci(this.g,new KB)};Ph.prototype.ya=function(){Ci(this.g,"b")};function tie(){this.blockSize=-1}function Ao(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}hi(Ao,tie);Ao.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function sA(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var o=t.g[3],a=e+(o^n&(r^o))+i[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[1]+3905402710&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[2]+606105819&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[3]+3250441966&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[5]+1200080426&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[6]+2821735955&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[7]+4249261313&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[9]+2336552879&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[10]+4294925233&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[11]+2304563134&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[13]+4254626195&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[14]+2792965006&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[15]+1236535329&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(r^o&(n^r))+i[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[6]+3225465664&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[11]+643717713&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[0]+3921069994&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[10]+38016083&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[15]+3634488961&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[4]+3889429448&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[14]+3275163606&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[3]+4107603335&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[8]+1163531501&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[2]+4243563512&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[7]+1735328473&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[12]+2368359562&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(n^r^o)+i[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[8]+2272392833&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[11]+1839030562&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[14]+4259657740&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[4]+1272893353&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[7]+4139469664&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[10]+3200236656&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[0]+3936430074&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[3]+3572445317&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[6]+76029189&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[12]+3873151461&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[15]+530742520&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[2]+3299628645&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(r^(n|~o))+i[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[7]+1126891415&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[14]+2878612391&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[5]+4237533241&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[3]+2399980690&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[10]+4293915773&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[1]+2240044497&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[15]+4264355552&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[6]+2734768916&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[13]+1309151649&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[11]+3174756917&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[2]+718787259&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+o&4294967295}Ao.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(r==0)for(;o<=n;)sA(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[r++]=t.charCodeAt(o++),r==this.blockSize){sA(this,i),r=0;break}}else for(;o<e;)if(i[r++]=t[o++],r==this.blockSize){sA(this,i),r=0;break}}this.h=r,this.i+=e};Ao.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function jt(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var o=t[r]|0;i&&o==e||(n[r]=o,i=!1)}this.g=n}var nie={};function GA(t){return-128<=t&&128>t?pne(t,function(e){return new jt([e|0],0>e?-1:0)}):new jt([t|0],0>t?-1:0)}function ms(t){if(isNaN(t)||!isFinite(t))return Ah;if(0>t)return bi(ms(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=bA;return new jt(e,0)}function YB(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return bi(YB(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ms(Math.pow(e,8)),i=Ah,r=0;r<t.length;r+=8){var o=Math.min(8,t.length-r),a=parseInt(t.substring(r,r+o),e);8>o?(o=ms(Math.pow(e,o)),i=i.R(o).add(ms(a))):(i=i.R(n),i=i.add(ms(a)))}return i}var bA=4294967296,Ah=GA(0),CA=GA(1),z4=GA(16777216);ce=jt.prototype;ce.ea=function(){if(zr(this))return-bi(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:bA+i)*e,e*=bA}return t};ce.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(fa(this))return"0";if(zr(this))return"-"+bi(this).toString(t);for(var e=ms(Math.pow(t,6)),n=this,i="";;){var r=ob(n,e).g;n=rb(n,r.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,fa(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};ce.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function fa(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function zr(t){return t.h==-1}ce.X=function(t){return t=rb(this,t),zr(t)?-1:fa(t)?0:1};function bi(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new jt(n,~t.h).add(CA)}ce.abs=function(){return zr(this)?bi(this):this};ce.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var o=i+(this.D(r)&65535)+(t.D(r)&65535),a=(o>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=a>>>16,o&=65535,a&=65535,n[r]=a<<16|o}return new jt(n,n[n.length-1]&-2147483648?-1:0)};function rb(t,e){return t.add(bi(e))}ce.R=function(t){if(fa(this)||fa(t))return Ah;if(zr(this))return zr(t)?bi(this).R(bi(t)):bi(bi(this).R(t));if(zr(t))return bi(this.R(bi(t)));if(0>this.X(z4)&&0>t.X(z4))return ms(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var o=this.D(i)>>>16,a=this.D(i)&65535,l=t.D(r)>>>16,d=t.D(r)&65535;n[2*i+2*r]+=a*d,Zw(n,2*i+2*r),n[2*i+2*r+1]+=o*d,Zw(n,2*i+2*r+1),n[2*i+2*r+1]+=a*l,Zw(n,2*i+2*r+1),n[2*i+2*r+2]+=o*l,Zw(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new jt(n,0)};function Zw(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function mg(t,e){this.g=t,this.h=e}function ob(t,e){if(fa(e))throw Error("division by zero");if(fa(t))return new mg(Ah,Ah);if(zr(t))return e=ob(bi(t),e),new mg(bi(e.g),bi(e.h));if(zr(e))return e=ob(t,bi(e)),new mg(bi(e.g),e.h);if(30<t.g.length){if(zr(t)||zr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=CA,i=e;0>=i.X(t);)n=q4(n),i=q4(i);var r=Th(n,1),o=Th(i,1);for(i=Th(i,2),n=Th(n,2);!fa(i);){var a=o.add(i);0>=a.X(t)&&(r=r.add(n),o=a),i=Th(i,1),n=Th(n,1)}return e=rb(t,r.R(e)),new mg(r,e)}for(r=Ah;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=ms(n),a=o.R(e);zr(a)||0<a.X(t);)n-=i,o=ms(n),a=o.R(e);fa(o)&&(o=CA),r=r.add(o),t=rb(t,a)}return new mg(r,t)}ce.gb=function(t){return ob(this,t).h};ce.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new jt(n,this.h&t.h)};ce.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new jt(n,this.h|t.h)};ce.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new jt(n,this.h^t.h)};function q4(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new jt(n,t.h)}function Th(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],o=0;o<i;o++)r[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new jt(r,t.h)}ib.prototype.createWebChannel=ib.prototype.g;Ir.prototype.send=Ir.prototype.u;Ir.prototype.open=Ir.prototype.m;Ir.prototype.close=Ir.prototype.close;fb.NO_ERROR=0;fb.TIMEOUT=8;fb.HTTP_ERROR=6;hB.COMPLETE="complete";fB.EventType=Mg;Mg.OPEN="a";Mg.CLOSE="b";Mg.ERROR="c";Mg.MESSAGE="d";di.prototype.listen=di.prototype.O;bn.prototype.listenOnce=bn.prototype.P;bn.prototype.getLastError=bn.prototype.Sa;bn.prototype.getLastErrorCode=bn.prototype.Ia;bn.prototype.getStatus=bn.prototype.da;bn.prototype.getResponseJson=bn.prototype.Wa;bn.prototype.getResponseText=bn.prototype.ja;bn.prototype.send=bn.prototype.ha;bn.prototype.setWithCredentials=bn.prototype.Oa;Ao.prototype.digest=Ao.prototype.l;Ao.prototype.reset=Ao.prototype.reset;Ao.prototype.update=Ao.prototype.j;jt.prototype.add=jt.prototype.add;jt.prototype.multiply=jt.prototype.R;jt.prototype.modulo=jt.prototype.gb;jt.prototype.compare=jt.prototype.X;jt.prototype.toNumber=jt.prototype.ea;jt.prototype.toString=jt.prototype.toString;jt.prototype.getBits=jt.prototype.D;jt.fromNumber=ms;jt.fromString=YB;var QB=xo.createWebChannelTransport=function(){return new ib},XB=xo.getStatEventTarget=function(){return hb()},bb=xo.ErrorCode=fb,JB=xo.EventType=hB,ZB=xo.Event=tu,zA=xo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},gbe=xo.FetchXmlHttpFactory=Rg,Fg=xo.WebChannel=fB,e5=xo.XhrIo=bn,t5=xo.Md5=Ao,nu=xo.Integer=jt;var n5="@firebase/firestore";var fi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};fi.UNAUTHENTICATED=new fi(null),fi.GOOGLE_CREDENTIALS=new fi("google-credentials-uid"),fi.FIRST_PARTY=new fi("first-party-uid"),fi.MOCK_USER=new fi("mock-user");var ef="10.8.1";var au=new as("@firebase/firestore");function Lg(){return au.logLevel}function le(t,...e){if(au.logLevel<=at.DEBUG){let n=e.map(PM);au.debug(`Firestore (${ef}): ${t}`,...n)}}function bs(t,...e){if(au.logLevel<=at.ERROR){let n=e.map(PM);au.error(`Firestore (${ef}): ${t}`,...n)}}function jh(t,...e){if(au.logLevel<=at.WARN){let n=e.map(PM);au.warn(`Firestore (${ef}): ${t}`,...n)}}function PM(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Ve(t="Unexpected state"){let e=`FIRESTORE (${ef}) INTERNAL ASSERTION FAILED: `+t;throw bs(e),new Error(e)}function Yt(t,e){t||Ve()}function qe(t,e){return t}var W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},we=class extends $n{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Po=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Tb=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},QA=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(fi.UNAUTHENTICATED))}shutdown(){}},XA=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},JA=class{constructor(e){this.t=e,this.currentUser=fi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve(),o=new Po;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Po,e.enqueueRetryable(()=>r(this.currentUser))};let a=()=>{let d=o;e.enqueueRetryable(()=>C(this,null,function*(){yield d.promise,yield r(this.currentUser)}))},l=d=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(d=>l(d)),setTimeout(()=>{if(!this.auth){let d=this.t.getImmediate({optional:!0});d?l(d):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Po)}},0),a()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Yt(typeof i.accessToken=="string"),new Tb(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Yt(e===null||typeof e=="string"),new fi(e)}},ZA=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=fi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},ex=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new ZA(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(fi.FIRST_PARTY))}shutdown(){}invalidateToken(){}},tx=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},nx=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=o=>{o.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let a=o.token!==this.R;return this.R=o.token,le("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Yt(typeof n.token=="string"),this.R=n.token,new tx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function iie(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var Db=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=iie(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}};function Rt(t,e){return t<e?-1:t>e?1:0}function Uh(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var Ei=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new we(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ze=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ei(0,0))}static max(){return new t(new Ei(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ab=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ve(),i===void 0?i=e.length-n:i>e.length-n&&Ve(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let o=e.get(r),a=n.get(r);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},En=class t extends Ab{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new we(W.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},rie=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Sr=class t extends Ab{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return rie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,o=()=>{if(i.length===0)throw new we(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},a=!1;for(;r<e.length;){let l=e[r];if(l==="\\"){if(r+1===e.length)throw new we(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let d=e[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new we(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(o(),r++)}if(o(),a)throw new we(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var xe=class t{constructor(e){this.path=e}static fromPath(e){return new t(En.fromString(e))}static fromName(e){return new t(En.fromString(e).popFirst(5))}static empty(){return new t(En.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&En.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return En.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new En(e.slice()))}};var ix=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};ix.UNKNOWN_ID=-1;function oie(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=ze.fromTimestamp(i===1e9?new Ei(n+1,0):new Ei(n,i));return new cu(r,xe.empty(),e)}function sie(t){return new cu(t.readTime,t.key,-1)}var cu=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(ze.min(),xe.empty(),-1)}static max(){return new t(ze.max(),xe.empty(),-1)}};function aie(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:Rt(t.largestBatchId,e.largestBatchId))}var cie="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",rx=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ev(t){return C(this,null,function*(){if(t.code!==W.FAILED_PRECONDITION||t.message!==cie)throw t;le("LocalStore","Unexpectedly lost primary lease")})}var K=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,o=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++o,a&&o===r&&n()},d=>i(d))}),a=!0,o===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let o=e.length,a=new Array(o),l=0;for(let d=0;d<o;d++){let h=d;n(e[h]).next(m=>{a[h]=m,++l,l===o&&i(a)},m=>r(m))}})}static doWhile(e,n){return new t((i,r)=>{let o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}};var ox=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Po,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new su(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=OM(i.target.error);this.V.reject(new su(e,r))}}static open(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(o){throw new su(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new ax(n)}},xb=class t{constructor(e,n,i){this.name=e,this.version=n,this.p=i,t.S(Gt())===12.2&&bs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return le("SimpleDb","Removing database:",e),iu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!uc())return!1;if(t.C())return!0;let e=Gt(),n=t.S(e),i=0<n&&n<10,r=t.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){let n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){return C(this,null,function*(){return this.db||(le("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{let a=o.target.result;n(a)},r.onblocked=()=>{i(new su(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{let a=o.target.error;a.name==="VersionError"?i(new we(W.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?i(new we(W.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):i(new su(e,a))},r.onupgradeneeded=o=>{le("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let a=o.target.result;this.p.N(a,r.transaction,o.oldVersion,this.version).next(()=>{le("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,i,r){return C(this,null,function*(){let o=n==="readonly",a=0;for(;;){++a;try{this.db=yield this.O(e);let l=ox.open(this.db,e,o?"readonly":"readwrite",i),d=r(l).next(h=>(l.g(),h)).catch(h=>(l.abort(h),K.reject(h))).toPromise();return d.catch(()=>{}),yield l.m,d}catch(l){let d=l,h=d.name!=="FirebaseError"&&a<3;if(le("SimpleDb","Transaction failed with error:",d.message,"Retrying:",h),this.close(),!h)return Promise.reject(d)}}})}close(){this.db&&this.db.close(),this.db=void 0}},sx=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return iu(this.k.delete())}},su=class extends we{constructor(e,n){super(W.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function tv(t){return t.name==="IndexedDbTransactionError"}var ax=class{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(le("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(le("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),iu(i)}add(e){return le("SimpleDb","ADD",this.store.name,e,e),iu(this.store.add(e))}get(e){return iu(this.store.get(e)).next(n=>(n===void 0&&(n=null),le("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return le("SimpleDb","DELETE",this.store.name,e),iu(this.store.delete(e))}count(){return le("SimpleDb","COUNT",this.store.name),iu(this.store.count())}W(e,n){let i=this.options(e,n),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){let o=r.getAll(i.range);return new K((a,l)=>{o.onerror=d=>{l(d.target.error)},o.onsuccess=d=>{a(d.target.result)}})}{let o=this.cursor(i),a=[];return this.G(o,(l,d)=>{a.push(d)}).next(()=>a)}}j(e,n){let i=this.store.getAll(e,n===null?void 0:n);return new K((r,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}H(e,n){le("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,n);i.J=!1;let r=this.cursor(i);return this.G(r,(o,a,l)=>l.delete())}Y(e,n){let i;n?i=e:(i={},n=e);let r=this.cursor(i);return this.G(r,n)}Z(e){let n=this.cursor({});return new K((i,r)=>{n.onerror=o=>{let a=OM(o.target.error);r(a)},n.onsuccess=o=>{let a=o.target.result;a?e(a.primaryKey,a.value).next(l=>{l?a.continue():i()}):i()}})}G(e,n){let i=[];return new K((r,o)=>{e.onerror=a=>{o(a.target.error)},e.onsuccess=a=>{let l=a.target.result;if(!l)return void r();let d=new sx(l),h=n(l.primaryKey,l.value,d);if(h instanceof K){let m=h.catch(v=>(d.done(),K.reject(v)));i.push(m)}d.isDone?r():d.$===null?l.continue():l.continue(d.$)}}).next(()=>K.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function iu(t){return new K((e,n)=>{t.onsuccess=i=>{let r=i.target.result;e(r)},t.onerror=i=>{let r=OM(i.target.error);n(r)}})}var i5=!1;function OM(t){let e=xb.S(Gt());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let i=new we("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return i5||(i5=!0,setTimeout(()=>{throw i},0)),i}}return t}var M5=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function tC(t){return t==null}function Hg(t){return t===0&&1/t==-1/0}function lie(t){return typeof t=="number"&&Number.isInteger(t)&&!Hg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var uie=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Sbe=[...uie,"documentOverlays"],die=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],hie=die,Tbe=[...hie,"indexConfiguration","indexState","indexEntries"];function r5(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function tf(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function P5(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var In=class t{constructor(e,n){this.comparator=e,this.root=n||ys.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ys.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ys.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kh(this.root,e,this.comparator,!0)}},kh=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ys=class t{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new t(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();let e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}};ys.EMPTY=null,ys.RED=!0,ys.BLACK=!1;ys.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,n,i,r,o){return this}insert(e,n,i){return new ys(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Li=class t{constructor(e){this.comparator=e,this.data=new In(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Mb(this.data.getIterator())}getIteratorFrom(e){return new Mb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Mb=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var vs=class t{constructor(e){this.fields=e,e.sort(Sr.comparator)}static empty(){return new t([])}unionWith(e){let n=new Li(Sr.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Uh(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var Pb=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Zi=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Pb("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let o="";for(let a=0;a<r.length;++a)o+=String.fromCharCode(r[a]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Zi.EMPTY_BYTE_STRING=new Zi("");var fie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ec(t){if(Yt(!!t),typeof t=="string"){let e=0,n=fie.exec(t);if(Yt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Cn(t.seconds),nanos:Cn(t.nanos)}}function Cn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ic(t){return typeof t=="string"?Zi.fromBase64String(t):Zi.fromUint8Array(t)}function RM(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function NM(t){let e=t.mapValue.fields.__previous_value__;return RM(e)?NM(e):e}function Gg(t){let e=Ec(t.mapValue.fields.__local_write_time__.timestampValue);return new Ei(e.seconds,e.nanos)}var cx=class{constructor(e,n,i,r,o,a,l,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=d,this.useFetchStreams=h}},Ob=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Cb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function lu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?RM(t)?4:O5(t)?9007199254740991:10:Ve()}function Cs(t,e){if(t===e)return!0;let n=lu(t);if(n!==lu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gg(t).isEqual(Gg(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let a=Ec(r.timestampValue),l=Ec(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return Ic(r.bytesValue).isEqual(Ic(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return Cn(r.geoPointValue.latitude)===Cn(o.geoPointValue.latitude)&&Cn(r.geoPointValue.longitude)===Cn(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Cn(r.integerValue)===Cn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let a=Cn(r.doubleValue),l=Cn(o.doubleValue);return a===l?Hg(a)===Hg(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Uh(t.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:return function(r,o){let a=r.mapValue.fields||{},l=o.mapValue.fields||{};if(r5(a)!==r5(l))return!1;for(let d in a)if(a.hasOwnProperty(d)&&(l[d]===void 0||!Cs(a[d],l[d])))return!1;return!0}(t,e);default:return Ve()}}function zg(t,e){return(t.values||[]).find(n=>Cs(n,e))!==void 0}function Bh(t,e){if(t===e)return 0;let n=lu(t),i=lu(e);if(n!==i)return Rt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Rt(t.booleanValue,e.booleanValue);case 2:return function(o,a){let l=Cn(o.integerValue||o.doubleValue),d=Cn(a.integerValue||a.doubleValue);return l<d?-1:l>d?1:l===d?0:isNaN(l)?isNaN(d)?0:-1:1}(t,e);case 3:return o5(t.timestampValue,e.timestampValue);case 4:return o5(Gg(t),Gg(e));case 5:return Rt(t.stringValue,e.stringValue);case 6:return function(o,a){let l=Ic(o),d=Ic(a);return l.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){let l=o.split("/"),d=a.split("/");for(let h=0;h<l.length&&h<d.length;h++){let m=Rt(l[h],d[h]);if(m!==0)return m}return Rt(l.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){let l=Rt(Cn(o.latitude),Cn(a.latitude));return l!==0?l:Rt(Cn(o.longitude),Cn(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,a){let l=o.values||[],d=a.values||[];for(let h=0;h<l.length&&h<d.length;++h){let m=Bh(l[h],d[h]);if(m)return m}return Rt(l.length,d.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,a){if(o===Cb.mapValue&&a===Cb.mapValue)return 0;if(o===Cb.mapValue)return 1;if(a===Cb.mapValue)return-1;let l=o.fields||{},d=Object.keys(l),h=a.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let v=0;v<d.length&&v<m.length;++v){let y=Rt(d[v],m[v]);if(y!==0)return y;let b=Bh(l[d[v]],h[m[v]]);if(b!==0)return b}return Rt(d.length,m.length)}(t.mapValue,e.mapValue);default:throw Ve()}}function o5(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Rt(t,e);let n=Ec(t),i=Ec(e),r=Rt(n.seconds,i.seconds);return r!==0?r:Rt(n.nanos,i.nanos)}function $h(t){return lx(t)}function lx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=Ec(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ic(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return xe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let o of n.values||[])r?r=!1:i+=",",i+=lx(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",o=!0;for(let a of i)o?o=!1:r+=",",r+=`${a}:${lx(n.fields[a])}`;return r+"}"}(t.mapValue):Ve()}function ux(t){return!!t&&"integerValue"in t}function kM(t){return!!t&&"arrayValue"in t}function s5(t){return!!t&&"nullValue"in t}function a5(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ib(t){return!!t&&"mapValue"in t}function jg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return tf(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=jg(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jg(t.arrayValue.values[n]);return e}return Object.assign({},t)}function O5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Mo=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Ib(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jg(n)}setAll(e){let n=Sr.emptyPath(),i={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){let d=this.getFieldsMap(n);this.applyChanges(d,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=jg(a):r.push(l.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){let n=this.field(e.popLast());Ib(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Ib(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){tf(n,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new t(jg(this.value))}};function R5(t){let e=[];return tf(t.fields,(n,i)=>{let r=new Sr([n]);if(Ib(i)){let o=R5(i.mapValue).fields;if(o.length===0)e.push(r);else for(let a of o)e.push(r.child(a))}else e.push(r)}),new vs(e)}var Oo=class t{constructor(e,n,i,r,o,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(e){return new t(e,0,ze.min(),ze.min(),ze.min(),Mo.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,ze.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,ze.min(),ze.min(),Mo.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ze.min(),ze.min(),Mo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Hh=class{constructor(e,n){this.position=e,this.inclusive=n}};function c5(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let o=e[r],a=t.position[r];if(o.field.isKeyField()?i=xe.comparator(xe.fromName(a.referenceValue),n.key):i=Bh(a,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function l5(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cs(t.position[n],e.position[n]))return!1;return!0}var Gh=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function pie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Rb=class{},Qn=class t extends Rb{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new hx(e,n,i):n==="array-contains"?new mx(e,i):n==="in"?new gx(e,i):n==="not-in"?new vx(e,i):n==="array-contains-any"?new yx(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new fx(e,i):new px(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bh(n,this.value)):n!==null&&lu(this.value)===lu(n)&&this.matchesComparison(Bh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Es=class t extends Rb{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return N5(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function N5(t){return t.op==="and"}function k5(t){return mie(t)&&N5(t)}function mie(t){for(let e of t.filters)if(e instanceof Es)return!1;return!0}function dx(t){if(t instanceof Qn)return t.field.canonicalString()+t.op.toString()+$h(t.value);if(k5(t))return t.filters.map(e=>dx(e)).join(",");{let e=t.filters.map(n=>dx(n)).join(",");return`${t.op}(${e})`}}function F5(t,e){return t instanceof Qn?function(i,r){return r instanceof Qn&&i.op===r.op&&i.field.isEqual(r.field)&&Cs(i.value,r.value)}(t,e):t instanceof Es?function(i,r){return r instanceof Es&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,a,l)=>o&&F5(a,r.filters[l]),!0):!1}(t,e):void Ve()}function L5(t){return t instanceof Qn?function(n){return`${n.field.canonicalString()} ${n.op} ${$h(n.value)}`}(t):t instanceof Es?function(n){return n.op.toString()+" {"+n.getFilters().map(L5).join(" ,")+"}"}(t):"Filter"}var hx=class extends Qn{constructor(e,n,i){super(e,n,i),this.key=xe.fromName(i.referenceValue)}matches(e){let n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}},fx=class extends Qn{constructor(e,n){super(e,"in",n),this.keys=V5("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},px=class extends Qn{constructor(e,n){super(e,"not-in",n),this.keys=V5("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function V5(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>xe.fromName(i.referenceValue))}var mx=class extends Qn{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return kM(n)&&zg(n.arrayValue,this.value)}},gx=class extends Qn{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&zg(this.value.arrayValue,n)}},vx=class extends Qn{constructor(e,n){super(e,"not-in",n)}matches(e){if(zg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!zg(this.value.arrayValue,n)}},yx=class extends Qn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!kM(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>zg(this.value.arrayValue,i))}};var _x=class{constructor(e,n=null,i=[],r=[],o=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=a,this.endAt=l,this.ce=null}};function u5(t,e=null,n=[],i=[],r=null,o=null,a=null){return new _x(t,e,n,i,r,o,a)}function FM(t){let e=qe(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>dx(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),tC(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>$h(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>$h(i)).join(",")),e.ce=n}return e.ce}function LM(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!F5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!l5(t.startAt,e.startAt)&&l5(t.endAt,e.endAt)}function wx(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var zh=class{constructor(e,n=null,i=[],r=[],o=null,a="F",l=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=d,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function gie(t,e,n,i,r,o,a,l){return new zh(t,e,n,i,r,o,a,l)}function j5(t){return new zh(t)}function d5(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vie(t){return t.collectionGroup!==null}function Ug(t){let e=qe(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Li(Sr.comparator);return a.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Gh(o,i))}),n.has(Sr.keyField().canonicalString())||e.le.push(new Gh(Sr.keyField(),i))}return e.le}function _s(t){let e=qe(t);return e.he||(e.he=yie(e,Ug(t))),e.he}function yie(t,e){if(t.limitType==="F")return u5(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new Gh(r.field,o)});let n=t.endAt?new Hh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Hh(t.startAt.position,t.startAt.inclusive):null;return u5(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function bx(t,e,n){return new zh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nC(t,e){return LM(_s(t),_s(e))&&t.limitType===e.limitType}function U5(t){return`${FM(_s(t))}|lt:${t.limitType}`}function Oh(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>L5(r)).join(", ")}]`),tC(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>$h(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>$h(r)).join(",")),`Target(${i})`}(_s(t))}; limitType=${t.limitType})`}function iC(t,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):xe.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(let o of Ug(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(a,l,d){let h=c5(a,l,d);return a.inclusive?h<=0:h<0}(i.startAt,Ug(i),r)||i.endAt&&!function(a,l,d){let h=c5(a,l,d);return a.inclusive?h>=0:h>0}(i.endAt,Ug(i),r))}(t,e)}function _ie(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function B5(t){return(e,n)=>{let i=!1;for(let r of Ug(t)){let o=wie(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function wie(t,e,n){let i=t.field.isKeyField()?xe.comparator(e.key,n.key):function(o,a,l){let d=a.data.field(o),h=l.data.field(o);return d!==null&&h!==null?Bh(d,h):Ve()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ve()}}var Sc=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){tf(this.inner,(n,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return P5(this.inner)}size(){return this.innerSize}};var bie=new In(xe.comparator);function ma(){return bie}var $5=new In(xe.comparator);function Vg(...t){let e=$5;for(let n of t)e=e.insert(n.key,n);return e}function H5(t){let e=$5;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function ru(){return Bg()}function G5(){return Bg()}function Bg(){return new Sc(t=>t.toString(),(t,e)=>t.isEqual(e))}var Cie=new In(xe.comparator),Eie=new Li(xe.comparator);function ut(...t){let e=Eie;for(let n of t)e=e.add(n);return e}var Iie=new Li(Rt);function Sie(){return Iie}function z5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hg(e)?"-0":e}}function q5(t){return{integerValue:""+t}}function Tie(t,e){return lie(e)?q5(e):z5(t,e)}var qh=class{constructor(){this._=void 0}};function Die(t,e,n){return t instanceof Wh?function(r,o){let a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&RM(o)&&(o=NM(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof uu?K5(t,e):t instanceof du?Y5(t,e):function(r,o){let a=W5(r,o),l=h5(a)+h5(r.Ie);return ux(a)&&ux(r.Ie)?q5(l):z5(r.serializer,l)}(t,e)}function Aie(t,e,n){return t instanceof uu?K5(t,e):t instanceof du?Y5(t,e):n}function W5(t,e){return t instanceof Kh?function(i){return ux(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var Wh=class extends qh{},uu=class extends qh{constructor(e){super(),this.elements=e}};function K5(t,e){let n=Q5(e);for(let i of t.elements)n.some(r=>Cs(r,i))||n.push(i);return{arrayValue:{values:n}}}var du=class extends qh{constructor(e){super(),this.elements=e}};function Y5(t,e){let n=Q5(e);for(let i of t.elements)n=n.filter(r=>!Cs(r,i));return{arrayValue:{values:n}}}var Kh=class extends qh{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function h5(t){return Cn(t.integerValue||t.doubleValue)}function Q5(t){return kM(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function xie(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof uu&&r instanceof uu||i instanceof du&&r instanceof du?Uh(i.elements,r.elements,Cs):i instanceof Kh&&r instanceof Kh?Cs(i.Ie,r.Ie):i instanceof Wh&&r instanceof Wh}(t.transform,e.transform)}var Cx=class{constructor(e,n){this.version=e,this.transformResults=n}},bc=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Sb(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Yh=class{};function X5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qg(t.key,bc.none()):new hu(t.key,t.data,bc.none());{let n=t.data,i=Mo.empty(),r=new Li(Sr.comparator);for(let o of e.fields)if(!r.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?i.delete(o):i.set(o,a),r=r.add(o)}return new ga(t.key,i,new vs(r.toArray()),bc.none())}}function Mie(t,e,n){t instanceof hu?function(r,o,a){let l=r.value.clone(),d=p5(r.fieldTransforms,o,a.transformResults);l.setAll(d),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ga?function(r,o,a){if(!Sb(r.precondition,o))return void o.convertToUnknownDocument(a.version);let l=p5(r.fieldTransforms,o,a.transformResults),d=o.data;d.setAll(J5(r)),d.setAll(l),o.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(t,e,n):function(r,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function $g(t,e,n,i){return t instanceof hu?function(o,a,l,d){if(!Sb(o.precondition,a))return l;let h=o.value.clone(),m=m5(o.fieldTransforms,d,a);return h.setAll(m),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,i):t instanceof ga?function(o,a,l,d){if(!Sb(o.precondition,a))return l;let h=m5(o.fieldTransforms,d,a),m=a.data;return m.setAll(J5(o)),m.setAll(h),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,i):function(o,a,l){return Sb(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function Pie(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),o=W5(i.transform,r||null);o!=null&&(n===null&&(n=Mo.empty()),n.set(i.field,o))}return n||null}function f5(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Uh(i,r,(o,a)=>xie(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var hu=class extends Yh{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},ga=class extends Yh{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function J5(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function p5(t,e,n){let i=new Map;Yt(t.length===n.length);for(let r=0;r<n.length;r++){let o=t[r],a=o.transform,l=e.data.field(o.field);i.set(o.field,Aie(a,l,n[r]))}return i}function m5(t,e,n){let i=new Map;for(let r of t){let o=r.transform,a=n.data.field(r.field);i.set(r.field,Die(o,a,e))}return i}var qg=class extends Yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Ex=class extends Yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ix=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&Mie(o,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=$g(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=$g(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=G5();return this.mutations.forEach(r=>{let o=e.get(r.key),a=o.overlayedDocument,l=this.applyToLocalView(a,o.mutatedFields);l=n.has(r.key)?null:l;let d=X5(a,l);d!==null&&i.set(r.key,d),a.isValidDocument()||a.convertToNoDocument(ze.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ut())}isEqual(e){return this.batchId===e.batchId&&Uh(this.mutations,e.mutations,(n,i)=>f5(n,i))&&Uh(this.baseMutations,e.baseMutations,(n,i)=>f5(n,i))}},Sx=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Yt(e.mutations.length===i.length);let r=function(){return Cie}(),o=e.mutations;for(let a=0;a<o.length;a++)r=r.insert(o[a].key,i[a].version);return new t(e,n,i,r)}};var Tx=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Dx=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Gn,bt;function Oie(t){switch(t){default:return Ve();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function Z5(t){if(t===void 0)return bs("GRPC error has no .code"),W.UNKNOWN;switch(t){case Gn.OK:return W.OK;case Gn.CANCELLED:return W.CANCELLED;case Gn.UNKNOWN:return W.UNKNOWN;case Gn.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Gn.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Gn.INTERNAL:return W.INTERNAL;case Gn.UNAVAILABLE:return W.UNAVAILABLE;case Gn.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Gn.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Gn.NOT_FOUND:return W.NOT_FOUND;case Gn.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Gn.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Gn.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Gn.ABORTED:return W.ABORTED;case Gn.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Gn.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Gn.DATA_LOSS:return W.DATA_LOSS;default:return Ve()}}(bt=Gn||(Gn={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";var g5=null;function Rie(){return new TextEncoder}var Nie=new nu([4294967295,4294967295],0);function v5(t){let e=Rie().encode(t),n=new t5;return n.update(e),new Uint8Array(n.digest())}function y5(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new nu([n,i],0),new nu([r,o],0)]}var Ax=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ou(`Invalid padding: ${n}`);if(i<0)throw new ou(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ou(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ou(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=nu.fromNumber(this.Te)}de(e,n,i){let r=e.add(n.multiply(nu.fromNumber(i)));return r.compare(Nie)===1&&(r=new nu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=v5(e),[i,r]=y5(n);for(let o=0;o<this.hashCount;o++){let a=this.de(i,r,o);if(!this.Ae(a))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new t(o,r,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.Te===0)return;let n=v5(e),[i,r]=y5(n);for(let o=0;o<this.hashCount;o++){let a=this.de(i,r,o);this.Re(a)}}Re(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},ou=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Nb=class t{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,Wg.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(ze.min(),r,new In(Rt),ma(),ut())}},Wg=class t{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,ut(),ut(),ut())}};var Lh=class{constructor(e,n,i,r){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=r}},kb=class{constructor(e,n){this.targetId=e,this.fe=n}},Fb=class{constructor(e,n,i=Zi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},Lb=class{constructor(){this.ge=0,this.pe=w5(),this.ye=Zi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ut(),n=ut(),i=ut();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Ve()}}),new Wg(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=w5()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Yt(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},xx=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=ma(),this.Qe=_5(),this.Ke=new In(Rt)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:Ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,r)=>{this.je(r)&&n(r)})}Je(e){let n=e.targetId,i=e.fe.count,r=this.Ye(n);if(r){let o=r.target;if(wx(o))if(i===0){let a=new xe(o.path);this.We(n,a,Oo.newNoDocument(a,ze.min()))}else Yt(i===1);else{let a=this.Ze(n);if(a!==i){let l=this.Xe(e),d=l?this.et(l,e,a):1;if(d!==0){this.He(n);let h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,h)}g5?.tt(function(m,v,y,b,w){var E,T,O,L,$,A;let ee={localCacheCount:m,existenceFilterCount:v.count,databaseId:y.database,projectId:y.projectId},U=v.unchangedNames;return U&&(ee.bloomFilter={applied:w===0,hashCount:(E=U?.hashCount)!==null&&E!==void 0?E:0,bitmapLength:(L=(O=(T=U?.bits)===null||T===void 0?void 0:T.bitmap)===null||O===void 0?void 0:O.length)!==null&&L!==void 0?L:0,padding:(A=($=U?.bits)===null||$===void 0?void 0:$.padding)!==null&&A!==void 0?A:0,mightContain:ie=>{var Ce;return(Ce=b?.mightContain(ie))!==null&&Ce!==void 0&&Ce}}),ee}(a,e.fe,this.Le.nt(),l,d))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n,a,l;try{a=Ic(i).toUint8Array()}catch(d){if(d instanceof Pb)return jh("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{l=new Ax(a,r,o)}catch(d){return jh(d instanceof ou?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return l.Te===0?null:l}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(o=>{let a=this.Le.nt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.We(n,o,null),r++)}),r}it(e){let n=new Map;this.ke.forEach((o,a)=>{let l=this.Ye(a);if(l){if(o.current&&wx(l.target)){let d=new xe(l.target.path);this.qe.get(d)!==null||this.st(a,d)||this.We(a,d,Oo.newNoDocument(d,e))}o.De&&(n.set(a,o.ve()),o.Fe())}});let i=ut();this.Qe.forEach((o,a)=>{let l=!0;a.forEachWhile(d=>{let h=this.Ye(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(o))}),this.qe.forEach((o,a)=>a.setReadTime(e));let r=new Nb(e,n,this.Ke,this.qe,i);return this.qe=ma(),this.Qe=_5(),this.Ke=new In(Rt),r}Ue(e,n){if(!this.je(e))return;let i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;let r=this.ze(e);this.st(e,n)?r.Me(n,1):r.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Lb,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Li(Rt),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Lb),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function _5(){return new In(xe.comparator)}function w5(){return new In(xe.comparator)}var kie={asc:"ASCENDING",desc:"DESCENDING"},Fie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lie={and:"AND",or:"OR"},Mx=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Px(t,e){return t.useProto3Json||tC(e)?e:{value:e}}function Vb(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Vie(t,e){return Vb(t,e.toTimestamp())}function ws(t){return Yt(!!t),ze.fromTimestamp(function(n){let i=Ec(n);return new Ei(i.seconds,i.nanos)}(t))}function VM(t,e){return Ox(t,e).canonicalString()}function Ox(t,e){let n=function(r){return new En(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function t6(t){let e=En.fromString(t);return Yt(s6(e)),e}function Rx(t,e){return VM(t.databaseId,e.path)}function qA(t,e){let n=t6(e);if(n.get(1)!==t.databaseId.projectId)throw new we(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(i6(n))}function n6(t,e){return VM(t.databaseId,e)}function jie(t){let e=t6(t);return e.length===4?En.emptyPath():i6(e)}function Nx(t){return new En(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function i6(t){return Yt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function b5(t,e,n){return{name:Rx(t,e),fields:n.value.mapValue.fields}}function Uie(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(h,m){return h.useProto3Json?(Yt(m===void 0||typeof m=="string"),Zi.fromBase64String(m||"")):(Yt(m===void 0||m instanceof Uint8Array),Zi.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){let m=h.code===void 0?W.UNKNOWN:Z5(h.code);return new we(m,h.message||"")}(a);n=new Fb(i,r,o,l||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=qA(t,i.document.name),o=ws(i.document.updateTime),a=i.document.createTime?ws(i.document.createTime):ze.min(),l=new Mo({mapValue:{fields:i.document.fields}}),d=Oo.newFoundDocument(r,o,a,l),h=i.targetIds||[],m=i.removedTargetIds||[];n=new Lh(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=qA(t,i.document),o=i.readTime?ws(i.readTime):ze.min(),a=Oo.newNoDocument(r,o),l=i.removedTargetIds||[];n=new Lh([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=qA(t,i.document),o=i.removedTargetIds||[];n=new Lh([],o,r,null)}else{if(!("filter"in e))return Ve();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,a=new Dx(r,o),l=i.targetId;n=new kb(l,a)}}return n}function Bie(t,e){let n;if(e instanceof hu)n={update:b5(t,e.key,e.value)};else if(e instanceof qg)n={delete:Rx(t,e.key)};else if(e instanceof ga)n={update:b5(t,e.key,e.data),updateMask:Qie(e.fieldMask)};else{if(!(e instanceof Ex))return Ve();n={verify:Rx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,a){let l=a.transform;if(l instanceof Wh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof uu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof du)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Kh)return{fieldPath:a.field.canonicalString(),increment:l.Ie};throw Ve()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:Vie(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ve()}(t,e.precondition)),n}function $ie(t,e){return t&&t.length>0?(Yt(e!==void 0),t.map(n=>function(r,o){let a=r.updateTime?ws(r.updateTime):ws(o);return a.isEqual(ze.min())&&(a=ws(o)),new Cx(a,r.transformResults||[])}(n,e))):[]}function Hie(t,e){return{documents:[n6(t,e.path)]}}function Gie(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=n6(t,r);let o=function(h){if(h.length!==0)return o6(Es.create(h,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let a=function(h){if(h.length!==0)return h.map(m=>function(y){return{field:Rh(y.field),direction:Wie(y.dir)}}(m))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);let l=Px(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ut:n,parent:r}}function zie(t){let e=jie(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Yt(i===1);let m=n.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(v){let y=r6(v);return y instanceof Es&&k5(y)?y.getFilters():[y]}(n.where));let a=[];n.orderBy&&(a=function(v){return v.map(y=>function(w){return new Gh(Nh(w.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(v){let y;return y=typeof v=="object"?v.value:v,tC(y)?null:y}(n.limit));let d=null;n.startAt&&(d=function(v){let y=!!v.before,b=v.values||[];return new Hh(b,y)}(n.startAt));let h=null;return n.endAt&&(h=function(v){let y=!v.before,b=v.values||[];return new Hh(b,y)}(n.endAt)),gie(e,r,a,o,l,"F",d,h)}function qie(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function r6(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=Nh(n.unaryFilter.field);return Qn.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Nh(n.unaryFilter.field);return Qn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Nh(n.unaryFilter.field);return Qn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let a=Nh(n.unaryFilter.field);return Qn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}}(t):t.fieldFilter!==void 0?function(n){return Qn.create(Nh(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Es.create(n.compositeFilter.filters.map(i=>r6(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ve()}}(n.compositeFilter.op))}(t):Ve()}function Wie(t){return kie[t]}function Kie(t){return Fie[t]}function Yie(t){return Lie[t]}function Rh(t){return{fieldPath:t.canonicalString()}}function Nh(t){return Sr.fromServerFormat(t.fieldPath)}function o6(t){return t instanceof Qn?function(n){if(n.op==="=="){if(a5(n.value))return{unaryFilter:{field:Rh(n.field),op:"IS_NAN"}};if(s5(n.value))return{unaryFilter:{field:Rh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(a5(n.value))return{unaryFilter:{field:Rh(n.field),op:"IS_NOT_NAN"}};if(s5(n.value))return{unaryFilter:{field:Rh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rh(n.field),op:Kie(n.op),value:n.value}}}(t):t instanceof Es?function(n){let i=n.getFilters().map(r=>o6(r));return i.length===1?i[0]:{compositeFilter:{op:Yie(n.op),filters:i}}}(t):Ve()}function Qie(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function s6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Kg=class t{constructor(e,n,i,r,o=ze.min(),a=ze.min(),l=Zi.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=d}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var kx=class{constructor(e){this.ct=e}};function Xie(t){let e=zie({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bx(e,e.limit,"L"):e}var jb=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Cn(e.integerValue));else if("doubleValue"in e){let i=Cn(e.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),Hg(i)?n.dt(0):n.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(n,20),typeof i=="string"?n.At(i):(n.At(`${i.seconds||""}`),n.dt(i.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Ic(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in e?O5(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Ve()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let i=e.fields||{};this.Et(n,55);for(let r of Object.keys(i))this.Rt(r,n),this.It(i[r],n)}wt(e,n){let i=e.values||[];this.Et(n,50);for(let r of i)this.It(r,n)}gt(e,n){this.Et(n,37),xe.fromName(e).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};jb.bt=new jb;var Fx=class{constructor(){this._n=new Lx}addToCollectionParentIndex(e,n){return this._n.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(cu.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(cu.min())}updateCollectionGroup(e,n,i){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}},Lx=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Li(En.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Li(En.comparator)).toArray()}};var Abe=new Uint8Array(0);var gs=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};gs.DEFAULT_COLLECTION_PERCENTILE=10,gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gs.DEFAULT=new gs(41943040,gs.DEFAULT_COLLECTION_PERCENTILE,gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gs.DISABLED=new gs(-1,0,0);var Yg=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Bn(){return new t(-1)}};var Vx=class{constructor(){this.changes=new Sc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Oo.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?K.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var jx=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Ux=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&$g(i.mutation,r,vs.empty(),Ei.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ut()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ut()){let r=ru();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let a=Vg();return o.forEach((l,d)=>{a=a.insert(l,d.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){let i=ru();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ut()))}populateOverlays(e,n,i){let r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,r){let o=ma(),a=Bg(),l=function(){return Bg()}();return n.forEach((d,h)=>{let m=i.get(h.key);r.has(h.key)&&(m===void 0||m.mutation instanceof ga)?o=o.insert(h.key,h):m!==void 0?(a.set(h.key,m.mutation.getFieldMask()),$g(m.mutation,h,m.mutation.getFieldMask(),Ei.now())):a.set(h.key,vs.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((h,m)=>a.set(h,m)),n.forEach((h,m)=>{var v;return l.set(h,new jx(m,(v=a.get(h))!==null&&v!==void 0?v:null))}),l))}recalculateAndSaveOverlays(e,n){let i=Bg(),r=new In((a,l)=>a-l),o=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(let l of a)l.keys().forEach(d=>{let h=n.get(d);if(h===null)return;let m=i.get(d)||vs.empty();m=l.applyToLocalView(h,m),i.set(d,m);let v=(r.get(l.batchId)||ut()).add(d);r=r.insert(l.batchId,v)})}).next(()=>{let a=[],l=r.getReverseIterator();for(;l.hasNext();){let d=l.getNext(),h=d.key,m=d.value,v=G5();m.forEach(y=>{if(!o.has(y)){let b=X5(n.get(y),i.get(y));b!==null&&v.set(y,b),o=o.add(y)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,v))}return K.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(a){return xe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vie(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{let a=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):K.resolve(ru()),l=-1,d=o;return a.next(h=>K.forEach(h,(m,v)=>(l<v.largestBatchId&&(l=v.largestBatchId),o.get(m)?K.resolve():this.remoteDocumentCache.getEntry(e,m).next(y=>{d=d.insert(m,y)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,d,h,ut())).next(m=>({batchId:l,changes:H5(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(i=>{let r=Vg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let o=n.collectionGroup,a=Vg();return this.indexManager.getCollectionParents(e,o).next(l=>K.forEach(l,d=>{let h=function(v,y){return new zh(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,i,r).next(m=>{m.forEach((v,y)=>{a=a.insert(v,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(a=>{o.forEach((d,h)=>{let m=h.getKey();a.get(m)===null&&(a=a.insert(m,Oo.newInvalidDocument(m)))});let l=Vg();return a.forEach((d,h)=>{let m=o.get(d);m!==void 0&&$g(m.mutation,h,vs.empty(),Ei.now()),iC(n,h)&&(l=l.insert(d,h))}),l})}};var Bx=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return K.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:ws(r.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:Xie(r.bundledQuery),readTime:ws(r.readTime)}}(n)),K.resolve()}};var $x=class{constructor(){this.overlays=new In(xe.comparator),this.hr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){let i=ru();return K.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.ht(e,n,o)}),K.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(i)),K.resolve()}getOverlaysForCollection(e,n,i){let r=ru(),o=n.length+1,a=new xe(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){let d=l.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&d.largestBatchId>i&&r.set(d.getKey(),d)}return K.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new In((h,m)=>h-m),a=this.overlays.getIterator();for(;a.hasNext();){let h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let m=o.get(h.largestBatchId);m===null&&(m=ru(),o=o.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}let l=ru(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,m)=>l.set(h,m)),!(l.size()>=r)););return K.resolve(l)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let a=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new Tx(n,i));let o=this.hr.get(n);o===void 0&&(o=ut(),this.hr.set(n,o)),this.hr.set(n,o.add(i.key))}};var Qg=class{constructor(){this.Pr=new Li(zn.Ir),this.Tr=new Li(zn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let i=new zn(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new zn(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){let n=new xe(new En([])),i=new zn(n,e),r=new zn(n,e+1),o=[];return this.Tr.forEachInRange([i,r],a=>{this.Ar(a),o.push(a.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new xe(new En([])),i=new zn(n,e),r=new zn(n,e+1),o=ut();return this.Tr.forEachInRange([i,r],a=>{o=o.add(a.key)}),o}containsKey(e){let n=new zn(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},zn=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return xe.comparator(e.key,n.key)||Rt(e.pr,n.pr)}static Er(e,n){return Rt(e.pr,n.pr)||xe.comparator(e.key,n.key)}};var Hx=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Li(zn.Ir)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new Ix(o,n,i,r);this.mutationQueue.push(a);for(let l of r)this.wr=this.wr.add(new zn(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return K.resolve(a)}lookupMutationBatch(e,n){return K.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.br(i),o=r<0?0:r;return K.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new zn(n,0),r=new zn(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([i,r],a=>{let l=this.Sr(a.pr);o.push(l)}),K.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Li(Rt);return n.forEach(r=>{let o=new zn(r,0),a=new zn(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,a],l=>{i=i.add(l.pr)})}),K.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=i;xe.isDocumentKey(o)||(o=o.child(""));let a=new zn(new xe(o),0),l=new Li(Rt);return this.wr.forEachWhile(d=>{let h=d.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(l=l.add(d.pr)),!0)},a),K.resolve(this.Dr(l))}Dr(e){let n=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Yt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return K.forEach(n.mutations,r=>{let o=new zn(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){let i=new zn(n,0),r=this.wr.firstAfterOrEqual(i);return K.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Gx=class{constructor(e){this.vr=e,this.docs=function(){return new In(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),o=r?r.size:0,a=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return K.resolve(i?i.document.mutableCopy():Oo.newInvalidDocument(n))}getEntries(e,n){let i=ma();return n.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Oo.newInvalidDocument(r))}),K.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=ma(),a=n.path,l=new xe(a.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){let{key:h,value:{document:m}}=d.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||aie(sie(m),i)<=0||(r.has(m.key)||iC(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return K.resolve(o)}getAllFromCollectionGroup(e,n,i,r){Ve()}Fr(e,n){return K.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new zx(this)}getSize(e){return K.resolve(this.size)}},zx=class extends Vx{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),K.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var qx=class{constructor(e){this.persistence=e,this.Mr=new Sc(n=>FM(n),LM),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Qg,this.targetCount=0,this.Br=Yg.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),K.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Br=new Yg(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.qn(n),K.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,i){let r=0,o=[];return this.Mr.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.Mr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),K.waitFor(o).next(()=>r)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){let i=this.Mr.get(n)||null;return K.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),K.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);let r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(a=>{o.push(r.markPotentiallyOrphaned(e,a))}),K.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),K.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Nr.gr(n);return K.resolve(i)}containsKey(e,n){return K.resolve(this.Nr.containsKey(n))}};var Wx=class{constructor(e,n){this.Lr={},this.overlays={},this.kr=new M5(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new qx(this),this.indexManager=new Fx,this.remoteDocumentCache=function(r){return new Gx(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new kx(n),this.$r=new Bx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $x,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Lr[e.toKey()];return i||(i=new Hx(n,this.referenceDelegate),this.Lr[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){le("MemoryPersistence","Starting transaction:",e);let r=new Kx(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(e,n){return K.or(Object.values(this.Lr).map(i=>()=>i.containsKey(e,n)))}},Kx=class extends rx{constructor(e){super(),this.currentSequenceNumber=e}},Yx=class t{constructor(e){this.persistence=e,this.zr=new Qg,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw Ve()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),K.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),K.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Jr,i=>{let r=xe.fromPath(i);return this.Yr(e,r).next(o=>{o||n.removeEntry(r,ze.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return K.or([()=>K.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var Qx=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=ut(),r=ut();for(let o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new t(e,n.fromCache,i,r)}};var Xx=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Jx=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return lU()?8:xb.v(Gt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){let o={result:null};return this.ji(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Hi(e,n,r,i).next(a=>{o.result=a})}).next(()=>{if(o.result)return;let a=new Xx;return this.Ji(e,n,a).next(l=>{if(o.result=l,this.Ui)return this.Yi(e,n,a,l.size)})}).next(()=>o.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(Lg()<=at.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Oh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),K.resolve()):(Lg()<=at.DEBUG&&le("QueryEngine","Query:",Oh(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(Lg()<=at.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Oh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_s(n))):K.resolve())}ji(e,n){if(d5(n))return K.resolve(null);let i=_s(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=bx(n,null,"F"),i=_s(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let a=ut(...o);return this.zi.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(d=>{let h=this.Zi(n,l);return this.Xi(n,h,a,d.readTime)?this.ji(e,bx(n,null,"F")):this.es(e,h,n,d)}))})))}Hi(e,n,i,r){return d5(n)||r.isEqual(ze.min())?K.resolve(null):this.zi.getDocuments(e,i).next(o=>{let a=this.Zi(n,o);return this.Xi(n,a,i,r)?K.resolve(null):(Lg()<=at.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Oh(n)),this.es(e,a,n,oie(r,-1)).next(l=>l))})}Zi(e,n){let i=new Li(B5(e));return n.forEach((r,o)=>{iC(e,o)&&(i=i.add(o))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(e,n,i){return Lg()<=at.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Oh(n)),this.zi.getDocumentsMatchingQuery(e,n,cu.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}};var Zx=class{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new In(Rt),this.rs=new Sc(o=>FM(o),LM),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ux(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function Jie(t,e,n,i){return new Zx(t,e,n,i)}function a6(t,e){return C(this,null,function*(){let n=qe(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{let a=[],l=[],d=ut();for(let h of r){a.push(h.batchId);for(let m of h.mutations)d=d.add(m.key)}for(let h of o){l.push(h.batchId);for(let m of h.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(i,d).next(h=>({us:h,removedBatchIds:a,addedBatchIds:l}))})})})}function Zie(t,e){let n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(l,d,h,m){let v=h.batch,y=v.keys(),b=K.resolve();return y.forEach(w=>{b=b.next(()=>m.getEntry(d,w)).next(E=>{let T=h.docVersions.get(w);Yt(T!==null),E.version.compareTo(T)<0&&(v.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),m.addEntry(E)))})}),b.next(()=>l.mutationQueue.removeMutationBatch(d,v))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let d=ut();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(d=d.add(l.batch.mutations[h].key));return d}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function c6(t){let e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function ere(t,e){let n=qe(t),i=e.snapshotVersion,r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let a=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;let l=[];e.targetChanges.forEach((m,v)=>{let y=r.get(v);if(!y)return;l.push(n.Qr.removeMatchingKeys(o,m.removedDocuments,v).next(()=>n.Qr.addMatchingKeys(o,m.addedDocuments,v)));let b=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(Zi.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):m.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(m.resumeToken,i)),r=r.insert(v,b),function(E,T,O){return E.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(y,b,m)&&l.push(n.Qr.updateTargetData(o,b))});let d=ma(),h=ut();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),l.push(tre(o,a,e.documentUpdates).next(m=>{d=m.cs,h=m.ls})),!i.isEqual(ze.min())){let m=n.Qr.getLastRemoteSnapshotVersion(o).next(v=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,i));l.push(m)}return K.waitFor(l).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,h)).next(()=>d)}).then(o=>(n.ns=r,o))}function tre(t,e,n){let i=ut(),r=ut();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let a=ma();return n.forEach((l,d)=>{let h=o.get(l);d.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),d.isNoDocument()&&d.version.isEqual(ze.min())?(e.removeEntry(l,d.readTime),a=a.insert(l,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),a=a.insert(l,d)):le("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",d.version)}),{cs:a,ls:r}})}function nre(t,e){let n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function ire(t,e){let n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(o=>o?(r=o,K.resolve(r)):n.Qr.allocateTargetId(i).next(a=>(r=new Kg(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}function eM(t,e,n){return C(this,null,function*(){let i=qe(t),r=i.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",o,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!tv(a))throw a;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function C5(t,e,n){let i=qe(t),r=ze.min(),o=ut();return i.persistence.runTransaction("Execute query","readwrite",a=>function(d,h,m){let v=qe(d),y=v.rs.get(m);return y!==void 0?K.resolve(v.ns.get(y)):v.Qr.getTargetData(h,m)}(i,a,_s(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(a,l.targetId).next(d=>{o=d})}).next(()=>i.ts.getDocumentsMatchingQuery(a,e,n?r:ze.min(),n?o:ut())).next(l=>(rre(i,_ie(e),l),{documents:l,hs:o})))}function rre(t,e,n){let i=t.ss.get(e)||ze.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.ss.set(e,i)}var Ub=class{constructor(){this.activeTargetIds=Sie()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var tM=class{constructor(){this.no=new Ub,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Ub,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var nM=class{io(e){}shutdown(){}};var Bb=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Eb=null;function WA(){return Eb===null?Eb=function(){return 268435456+Math.round(2147483648*Math.random())}():Eb++,"0x"+Eb.toString(16)}var ore={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var iM=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var Fi="WebChannelConnection",rM=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=i+"://"+n.host,this.po=`projects/${r}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get wo(){return!1}So(n,i,r,o,a){let l=WA(),d=this.bo(n,i.toUriEncodedString());le("RestConnection",`Sending RPC '${n}' ${l}:`,d,r);let h={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(h,o,a),this.Co(n,d,h,r).then(m=>(le("RestConnection",`Received RPC '${n}' ${l}: `,m),m),m=>{throw jh("RestConnection",`RPC '${n}' ${l} failed with error: `,m,"url: ",d,"request:",r),m})}vo(n,i,r,o,a,l){return this.So(n,i,r,o,a)}Do(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ef}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,a)=>n[a]=o),r&&r.headers.forEach((o,a)=>n[a]=o)}bo(n,i){let r=ore[n];return`${this.fo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,i,r){let o=WA();return new Promise((a,l)=>{let d=new e5;d.setWithCredentials(!0),d.listenOnce(JB.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case bb.NO_ERROR:let m=d.getResponseJson();le(Fi,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case bb.TIMEOUT:le(Fi,`RPC '${e}' ${o} timed out`),l(new we(W.DEADLINE_EXCEEDED,"Request time out"));break;case bb.HTTP_ERROR:let v=d.getStatus();if(le(Fi,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);let b=y?.error;if(b&&b.status&&b.message){let w=function(T){let O=T.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(O)>=0?O:W.UNKNOWN}(b.status);l(new we(w,b.message))}else l(new we(W.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new we(W.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{le(Fi,`RPC '${e}' ${o} completed.`)}});let h=JSON.stringify(r);le(Fi,`RPC '${e}' ${o} sending request:`,r),d.send(n,"POST",h,i,15)})}Fo(e,n,i){let r=WA(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=QB(),l=XB(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;let m=o.join("");le(Fi,`Creating RPC '${e}' stream ${r}: ${m}`,d);let v=a.createWebChannel(m,d),y=!1,b=!1,w=new iM({lo:T=>{b?le(Fi,`Not sending because RPC '${e}' stream ${r} is closed:`,T):(y||(le(Fi,`Opening RPC '${e}' stream ${r} transport.`),v.open(),y=!0),le(Fi,`RPC '${e}' stream ${r} sending:`,T),v.send(T))},ho:()=>v.close()}),E=(T,O,L)=>{T.listen(O,$=>{try{L($)}catch(A){setTimeout(()=>{throw A},0)}})};return E(v,Fg.EventType.OPEN,()=>{b||le(Fi,`RPC '${e}' stream ${r} transport opened.`)}),E(v,Fg.EventType.CLOSE,()=>{b||(b=!0,le(Fi,`RPC '${e}' stream ${r} transport closed`),w.Vo())}),E(v,Fg.EventType.ERROR,T=>{b||(b=!0,jh(Fi,`RPC '${e}' stream ${r} transport errored:`,T),w.Vo(new we(W.UNAVAILABLE,"The operation could not be completed")))}),E(v,Fg.EventType.MESSAGE,T=>{var O;if(!b){let L=T.data[0];Yt(!!L);let $=L,A=$.error||((O=$[0])===null||O===void 0?void 0:O.error);if(A){le(Fi,`RPC '${e}' stream ${r} received error:`,A);let ee=A.status,U=function(He){let Xe=Gn[He];if(Xe!==void 0)return Z5(Xe)}(ee),ie=A.message;U===void 0&&(U=W.INTERNAL,ie="Unknown error status: "+ee+" with message "+A.message),b=!0,w.Vo(new we(U,ie)),v.close()}else le(Fi,`RPC '${e}' stream ${r} received:`,L),w.mo(L)}}),E(l,ZB.STAT_EVENT,T=>{T.stat===zA.PROXY?le(Fi,`RPC '${e}' stream ${r} detected buffering proxy`):T.stat===zA.NOPROXY&&le(Fi,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{w.Ro()},0),w}};function KA(){return typeof document<"u"?document:null}function rC(t){return new Mx(t,!0)}var $b=class{constructor(e,n,i=1e3,r=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=i,this.xo=r,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),i=Math.max(0,Date.now()-this.Lo),r=Math.max(0,n-i);r>0&&le("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var Hb=class{constructor(e,n,i,r,o,a,l,d){this.oi=e,this.$o=i,this.Uo=r,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=d,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new $b(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return C(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return C(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return C(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(bs(n.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Wo===n&&this.o_(i,r)},i=>{e(()=>{let r=new we(W.UNKNOWN,"Fetching auth token failed: "+i.message);return this.__(r)})})}o_(e,n){let i=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{i(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(r=>{i(()=>this.__(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Yo(){this.state=5,this.jo.qo(()=>C(this,null,function*(){this.state=0,this.start()}))}__(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},oM=class extends Hb{constructor(e,n,i,r,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=Uie(this.serializer,e),i=function(o){if(!("targetChange"in o))return ze.min();let a=o.targetChange;return a.targetIds&&a.targetIds.length?ze.min():a.readTime?ws(a.readTime):ze.min()}(e);return this.listener.u_(n,i)}c_(e){let n={};n.database=Nx(this.serializer),n.addTarget=function(o,a){let l,d=a.target;if(l=wx(d)?{documents:Hie(o,d)}:{query:Gie(o,d).ut},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=e6(o,a.resumeToken);let h=Px(o,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(ze.min())>0){l.readTime=Vb(o,a.snapshotVersion.toTimestamp());let h=Px(o,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);let i=qie(this.serializer,e);i&&(n.labels=i),this.t_(n)}l_(e){let n={};n.database=Nx(this.serializer),n.removeTarget=e,this.t_(n)}},sM=class extends Hb{constructor(e,n,i,r,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=$ie(e.writeResults,e.commitTime),i=ws(e.commitTime);return this.listener.T_(i,n)}return Yt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=Nx(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>Bie(this.serializer,i))};this.t_(n)}};var aM=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new we(W.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.So(e,Ox(n,i),r,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new we(W.UNKNOWN,o.toString())})}vo(e,n,i,r,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,Ox(n,i),r,a,l,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(W.UNKNOWN,a.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var cM=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(bs(n),this.g_=!1):le("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var lM=class{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(a=>{i.enqueueAndForget(()=>C(this,null,function*(){fu(this)&&(le("RemoteStore","Restarting streams for network reachability change."),yield function(d){return C(this,null,function*(){let h=qe(d);h.v_.add(4),yield nv(h),h.x_.set("Unknown"),h.v_.delete(4),yield oC(h)})}(this))}))}),this.x_=new cM(i,r)}};function oC(t){return C(this,null,function*(){if(fu(t))for(let e of t.F_)yield e(!0)})}function nv(t){return C(this,null,function*(){for(let e of t.F_)yield e(!1)})}function l6(t,e){let n=qe(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),BM(n)?UM(n):nf(n).Jo()&&jM(n,e))}function u6(t,e){let n=qe(t),i=nf(n);n.C_.delete(e),i.Jo()&&d6(n,e),n.C_.size===0&&(i.Jo()?i.Xo():fu(n)&&n.x_.set("Unknown"))}function jM(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nf(t).c_(e)}function d6(t,e){t.O_.Oe(e),nf(t).l_(e)}function UM(t){t.O_=new xx({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),nf(t).start(),t.x_.p_()}function BM(t){return fu(t)&&!nf(t).Ho()&&t.C_.size>0}function fu(t){return qe(t).v_.size===0}function h6(t){t.O_=void 0}function sre(t){return C(this,null,function*(){t.C_.forEach((e,n)=>{jM(t,e)})})}function are(t,e){return C(this,null,function*(){h6(t),BM(t)?(t.x_.S_(e),UM(t)):t.x_.set("Unknown")})}function cre(t,e,n){return C(this,null,function*(){if(t.x_.set("Online"),e instanceof Fb&&e.state===2&&e.cause)try{yield function(r,o){return C(this,null,function*(){let a=o.cause;for(let l of o.targetIds)r.C_.has(l)&&(yield r.remoteSyncer.rejectListen(l,a),r.C_.delete(l),r.O_.removeTarget(l))})}(t,e)}catch(i){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Gb(t,i)}else if(e instanceof Lh?t.O_.$e(e):e instanceof kb?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ze.min()))try{let i=yield c6(t.localStore);n.compareTo(i)>=0&&(yield function(o,a){let l=o.O_.it(a);return l.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){let m=o.C_.get(h);m&&o.C_.set(h,m.withResumeToken(d.resumeToken,a))}}),l.targetMismatches.forEach((d,h)=>{let m=o.C_.get(d);if(!m)return;o.C_.set(d,m.withResumeToken(Zi.EMPTY_BYTE_STRING,m.snapshotVersion)),d6(o,d);let v=new Kg(m.target,d,h,m.sequenceNumber);jM(o,v)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n))}catch(i){le("RemoteStore","Failed to raise snapshot:",i),yield Gb(t,i)}})}function Gb(t,e,n){return C(this,null,function*(){if(!tv(e))throw e;t.v_.add(1),yield nv(t),t.x_.set("Offline"),n||(n=()=>c6(t.localStore)),t.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){le("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield oC(t)}))})}function f6(t,e){return e().catch(n=>Gb(t,n,e))}function sC(t){return C(this,null,function*(){let e=qe(t),n=Tc(e),i=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;lre(e);)try{let r=yield nre(e.localStore,i);if(r===null){e.D_.length===0&&n.Xo();break}i=r.batchId,ure(e,r)}catch(r){yield Gb(e,r)}p6(e)&&m6(e)})}function lre(t){return fu(t)&&t.D_.length<10}function ure(t,e){t.D_.push(e);let n=Tc(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function p6(t){return fu(t)&&!Tc(t).Ho()&&t.D_.length>0}function m6(t){Tc(t).start()}function dre(t){return C(this,null,function*(){Tc(t).d_()})}function hre(t){return C(this,null,function*(){let e=Tc(t);for(let n of t.D_)e.I_(n.mutations)})}function fre(t,e,n){return C(this,null,function*(){let i=t.D_.shift(),r=Sx.from(i,e,n);yield f6(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield sC(t)})}function pre(t,e){return C(this,null,function*(){e&&Tc(t).P_&&(yield function(i,r){return C(this,null,function*(){if(function(a){return Oie(a)&&a!==W.ABORTED}(r.code)){let o=i.D_.shift();Tc(i).Zo(),yield f6(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield sC(i)}})}(t,e)),p6(t)&&m6(t)})}function E5(t,e){return C(this,null,function*(){let n=qe(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");let i=fu(n);n.v_.add(3),yield nv(n),i&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield oC(n)})}function mre(t,e){return C(this,null,function*(){let n=qe(t);e?(n.v_.delete(2),yield oC(n)):e||(n.v_.add(2),yield nv(n),n.x_.set("Unknown"))})}function nf(t){return t.N_||(t.N_=function(n,i,r){let o=qe(n);return o.R_(),new oM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:sre.bind(null,t),To:are.bind(null,t),u_:cre.bind(null,t)}),t.F_.push(e=>C(this,null,function*(){e?(t.N_.Zo(),BM(t)?UM(t):t.x_.set("Unknown")):(yield t.N_.stop(),h6(t))}))),t.N_}function Tc(t){return t.B_||(t.B_=function(n,i,r){let o=qe(n);return o.R_(),new sM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:dre.bind(null,t),To:pre.bind(null,t),E_:hre.bind(null,t),T_:fre.bind(null,t)}),t.F_.push(e=>C(this,null,function*(){e?(t.B_.Zo(),yield sC(t)):(yield t.B_.stop(),t.D_.length>0&&(le("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.B_}var uM=class t{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Po,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){let a=Date.now()+i,l=new t(e,n,a,r,o);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function $M(t,e){if(bs("AsyncQueue",`${e}: ${t}`),tv(t))return new we(W.UNAVAILABLE,`${e}: ${t}`);throw t}var zb=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||xe.comparator(n.key,i.key):(n,i)=>xe.comparator(n.key,i.key),this.keyedMap=Vg(),this.sortedSet=new In(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var qb=class{constructor(){this.L_=new In(xe.comparator)}track(e){let n=e.doc.key,i=this.L_.get(n);i?e.type!==0&&i.type===3?this.L_=this.L_.insert(n,e):e.type===3&&i.type!==1?this.L_=this.L_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.L_=this.L_.remove(n):e.type===1&&i.type===2?this.L_=this.L_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Ve():this.L_=this.L_.insert(n,e)}k_(){let e=[];return this.L_.inorderTraversal((n,i)=>{e.push(i)}),e}},Qh=class t{constructor(e,n,i,r,o,a,l,d,h){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,i,r,o){let a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new t(e,n,zb.emptySet(n),a,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var dM=class{constructor(){this.q_=void 0,this.Q_=[]}},hM=class{constructor(){this.queries=new Sc(e=>U5(e),nC),this.onlineState="Unknown",this.K_=new Set}};function gre(t,e){return C(this,null,function*(){let n=qe(t),i=e.query,r=!1,o=n.queries.get(i);if(o||(r=!0,o=new dM),r)try{o.q_=yield n.onListen(i)}catch(a){let l=$M(a,`Initialization of query '${Oh(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&HM(n)})}function vre(t,e){return C(this,null,function*(){let n=qe(t),i=e.query,r=!1,o=n.queries.get(i);if(o){let a=o.Q_.indexOf(e);a>=0&&(o.Q_.splice(a,1),r=o.Q_.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)})}function yre(t,e){let n=qe(t),i=!1;for(let r of e){let o=r.query,a=n.queries.get(o);if(a){for(let l of a.Q_)l.W_(r)&&(i=!0);a.q_=r}}i&&HM(n)}function _re(t,e,n){let i=qe(t),r=i.queries.get(e);if(r)for(let o of r.Q_)o.onError(n);i.queries.delete(e)}function HM(t){t.K_.forEach(e=>{e.next()})}var fM=class{constructor(e,n,i){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=i||{}}W_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Qh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;let i=n!=="Offline";return(!this.options.Z_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;let n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Qh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}};var Wb=class{constructor(e){this.key=e}},Kb=class{constructor(e){this.key=e}},pM=class{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ut(),this.mutatedKeys=ut(),this.ua=B5(e),this.ca=new zb(this.ua)}get la(){return this.oa}ha(e,n){let i=n?n.Pa:new qb,r=n?n.ca:this.ca,o=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1,d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((m,v)=>{let y=r.get(m),b=iC(this.query,v)?v:null,w=!!y&&this.mutatedKeys.has(y.key),E=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations),T=!1;y&&b?y.data.isEqual(b.data)?w!==E&&(i.track({type:3,doc:b}),T=!0):this.Ia(y,b)||(i.track({type:2,doc:b}),T=!0,(d&&this.ua(b,d)>0||h&&this.ua(b,h)<0)&&(l=!0)):!y&&b?(i.track({type:0,doc:b}),T=!0):y&&!b&&(i.track({type:1,doc:y}),T=!0,(d||h)&&(l=!0)),T&&(b?(a=a.add(b),o=E?o.add(m):o.delete(m)):(a=a.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){let m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),o=o.delete(m.key),i.track({type:1,doc:m})}return{ca:a,Pa:i,Xi:l,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;let a=e.Pa.k_();a.sort((m,v)=>function(b,w){let E=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return E(b)-E(w)}(m.type,v.type)||this.ua(m.doc,v.doc)),this.Ta(i),r=r!=null&&r;let l=n&&!r?this.Ea():[],d=this.aa.size===0&&this.current&&!r?1:0,h=d!==this._a;return this._a=d,a.length!==0||h?{snapshot:new Qh(this.query,e.ca,o,a,e.mutatedKeys,d===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),da:l}:{da:l}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new qb,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];let e=this.aa;this.aa=ut(),this.ca.forEach(i=>{this.Aa(i.key)&&(this.aa=this.aa.add(i.key))});let n=[];return e.forEach(i=>{this.aa.has(i)||n.push(new Kb(i))}),this.aa.forEach(i=>{e.has(i)||n.push(new Wb(i))}),n}Ra(e){this.oa=e.hs,this.aa=ut();let n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Qh.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}},mM=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},gM=class{constructor(e){this.key=e,this.ma=!1}},vM=class{constructor(e,n,i,r,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.fa={},this.ga=new Sc(l=>U5(l),nC),this.pa=new Map,this.ya=new Set,this.wa=new In(xe.comparator),this.Sa=new Map,this.ba=new Qg,this.Da={},this.Ca=new Map,this.va=Yg.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}};function wre(t,e){return C(this,null,function*(){let n=Mre(t),i,r,o=n.ga.get(e);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),r=o.view.Va();else{let a=yield ire(n.localStore,_s(e)),l=n.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield bre(n,e,i,l==="current",a.resumeToken),n.isPrimaryClient&&l6(n.remoteStore,a)}return r})}function bre(t,e,n,i,r){return C(this,null,function*(){t.Ma=(v,y,b)=>function(E,T,O,L){return C(this,null,function*(){let $=T.view.ha(O);$.Xi&&($=yield C5(E.localStore,T.query,!1).then(({documents:ie})=>T.view.ha(ie,$)));let A=L&&L.targetChanges.get(T.targetId),ee=L&&L.targetMismatches.get(T.targetId)!=null,U=T.view.applyChanges($,E.isPrimaryClient,A,ee);return S5(E,T.targetId,U.da),U.snapshot})}(t,v,y,b);let o=yield C5(t.localStore,e,!0),a=new pM(e,o.hs),l=a.ha(o.documents),d=Wg.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),h=a.applyChanges(l,t.isPrimaryClient,d);S5(t,n,h.da);let m=new mM(e,n,a);return t.ga.set(e,m),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),h.snapshot})}function Cre(t,e){return C(this,null,function*(){let n=qe(t),i=n.ga.get(e),r=n.pa.get(i.targetId);if(r.length>1)return n.pa.set(i.targetId,r.filter(o=>!nC(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||(yield eM(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),u6(n.remoteStore,i.targetId),yM(n,i.targetId)}).catch(ev))):(yM(n,i.targetId),yield eM(n.localStore,i.targetId,!0))})}function Ere(t,e,n){return C(this,null,function*(){let i=Pre(t);try{let r=yield function(a,l){let d=qe(a),h=Ei.now(),m=l.reduce((b,w)=>b.add(w.key),ut()),v,y;return d.persistence.runTransaction("Locally write mutations","readwrite",b=>{let w=ma(),E=ut();return d.os.getEntries(b,m).next(T=>{w=T,w.forEach((O,L)=>{L.isValidDocument()||(E=E.add(O))})}).next(()=>d.localDocuments.getOverlayedDocuments(b,w)).next(T=>{v=T;let O=[];for(let L of l){let $=Pie(L,v.get(L.key).overlayedDocument);$!=null&&O.push(new ga(L.key,$,R5($.value.mapValue),bc.exists(!0)))}return d.mutationQueue.addMutationBatch(b,h,O,l)}).next(T=>{y=T;let O=T.applyToLocalDocumentSet(v,E);return d.documentOverlayCache.saveOverlays(b,T.batchId,O)})}).then(()=>({batchId:y.batchId,changes:H5(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,d){let h=a.Da[a.currentUser.toKey()];h||(h=new In(Rt)),h=h.insert(l,d),a.Da[a.currentUser.toKey()]=h}(i,r.batchId,n),yield iv(i,r.changes),yield sC(i.remoteStore)}catch(r){let o=$M(r,"Failed to persist write");n.reject(o)}})}function g6(t,e){return C(this,null,function*(){let n=qe(t);try{let i=yield ere(n.localStore,e);e.targetChanges.forEach((r,o)=>{let a=n.Sa.get(o);a&&(Yt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.ma=!0:r.modifiedDocuments.size>0?Yt(a.ma):r.removedDocuments.size>0&&(Yt(a.ma),a.ma=!1))}),yield iv(n,i,e)}catch(i){yield ev(i)}})}function I5(t,e,n){let i=qe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ga.forEach((o,a)=>{let l=a.view.U_(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){let d=qe(a);d.onlineState=l;let h=!1;d.queries.forEach((m,v)=>{for(let y of v.Q_)y.U_(l)&&(h=!0)}),h&&HM(d)}(i.eventManager,e),r.length&&i.fa.u_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Ire(t,e,n){return C(this,null,function*(){let i=qe(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Sa.get(e),o=r&&r.key;if(o){let a=new In(xe.comparator);a=a.insert(o,Oo.newNoDocument(o,ze.min()));let l=ut().add(o),d=new Nb(ze.min(),new Map,new In(Rt),a,l);yield g6(i,d),i.wa=i.wa.remove(o),i.Sa.delete(e),GM(i)}else yield eM(i.localStore,e,!1).then(()=>yM(i,e,n)).catch(ev)})}function Sre(t,e){return C(this,null,function*(){let n=qe(t),i=e.batch.batchId;try{let r=yield Zie(n.localStore,e);y6(n,i,null),v6(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield iv(n,r)}catch(r){yield ev(r)}})}function Tre(t,e,n){return C(this,null,function*(){let i=qe(t);try{let r=yield function(a,l){let d=qe(a);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return d.mutationQueue.lookupMutationBatch(h,l).next(v=>(Yt(v!==null),m=v.keys(),d.mutationQueue.removeMutationBatch(h,v))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,l)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>d.localDocuments.getDocuments(h,m))})}(i.localStore,e);y6(i,e,n),v6(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield iv(i,r)}catch(r){yield ev(r)}})}function v6(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function y6(t,e,n){let i=qe(t),r=i.Da[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Da[i.currentUser.toKey()]=r}}function yM(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.pa.get(e))t.ga.delete(i),n&&t.fa.xa(i,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(i=>{t.ba.containsKey(i)||_6(t,i)})}function _6(t,e){t.ya.delete(e.path.canonicalString());let n=t.wa.get(e);n!==null&&(u6(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),GM(t))}function S5(t,e,n){for(let i of n)i instanceof Wb?(t.ba.addReference(i.key,e),Dre(t,i)):i instanceof Kb?(le("SyncEngine","Document no longer in limbo: "+i.key),t.ba.removeReference(i.key,e),t.ba.containsKey(i.key)||_6(t,i.key)):Ve()}function Dre(t,e){let n=e.key,i=n.path.canonicalString();t.wa.get(n)||t.ya.has(i)||(le("SyncEngine","New document in limbo: "+n),t.ya.add(i),GM(t))}function GM(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){let e=t.ya.values().next().value;t.ya.delete(e);let n=new xe(En.fromString(e)),i=t.va.next();t.Sa.set(i,new gM(n)),t.wa=t.wa.insert(n,i),l6(t.remoteStore,new Kg(_s(j5(n.path)),i,"TargetPurposeLimboResolution",M5._e))}}function iv(t,e,n){return C(this,null,function*(){let i=qe(t),r=[],o=[],a=[];i.ga.isEmpty()||(i.ga.forEach((l,d)=>{a.push(i.Ma(d,e,n).then(h=>{if((h||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,h?.fromCache?"not-current":"current"),h){r.push(h);let m=Qx.Ki(d.targetId,h);o.push(m)}}))}),yield Promise.all(a),i.fa.u_(r),yield function(d,h){return C(this,null,function*(){let m=qe(d);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>K.forEach(h,y=>K.forEach(y.qi,b=>m.persistence.referenceDelegate.addReference(v,y.targetId,b)).next(()=>K.forEach(y.Qi,b=>m.persistence.referenceDelegate.removeReference(v,y.targetId,b)))))}catch(v){if(!tv(v))throw v;le("LocalStore","Failed to update sequence numbers: "+v)}for(let v of h){let y=v.targetId;if(!v.fromCache){let b=m.ns.get(y),w=b.snapshotVersion,E=b.withLastLimboFreeSnapshotVersion(w);m.ns=m.ns.insert(y,E)}}})}(i.localStore,o))})}function Are(t,e){return C(this,null,function*(){let n=qe(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());let i=yield a6(n.localStore,e);n.currentUser=e,function(o,a){o.Ca.forEach(l=>{l.forEach(d=>{d.reject(new we(W.CANCELLED,a))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield iv(n,i.us)}})}function xre(t,e){let n=qe(t),i=n.Sa.get(e);if(i&&i.ma)return ut().add(i.key);{let r=ut(),o=n.pa.get(e);if(!o)return r;for(let a of o){let l=n.ga.get(a);r=r.unionWith(l.view.la)}return r}}function Mre(t){let e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=g6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ire.bind(null,e),e.fa.u_=yre.bind(null,e.eventManager),e.fa.xa=_re.bind(null,e.eventManager),e}function Pre(t){let e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tre.bind(null,e),e}var Yb=class{constructor(){this.synchronizeTabs=!1}initialize(e){return C(this,null,function*(){this.serializer=rC(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Jie(this.persistence,new Jx,e.initialUser,this.serializer)}createPersistence(e){return new Wx(Yx.Hr,this.serializer)}createSharedClientState(e){return new tM}terminate(){return C(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var _M=class{initialize(e,n){return C(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>I5(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Are.bind(null,this.syncEngine),yield mre(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new hM}()}createDatastore(e){let n=rC(e.databaseInfo.databaseId),i=function(o){return new rM(o)}(e.databaseInfo);return function(o,a,l,d){return new aM(o,a,l,d)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,a,l){return new lM(i,r,o,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>I5(this.syncEngine,n,0),function(){return Bb.D()?new Bb:new nM}())}createSyncEngine(e,n){return function(r,o,a,l,d,h,m){let v=new vM(r,o,a,l,d,h);return m&&(v.Fa=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return C(this,null,function*(){var e;yield function(i){return C(this,null,function*(){let r=qe(i);le("RemoteStore","RemoteStore shutting down."),r.v_.add(5),yield nv(r),r.M_.shutdown(),r.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var wM=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):bs("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var bM=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=fi.UNAUTHENTICATED,this.clientId=Db.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>C(this,null,function*(){le("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(le("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new we(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Po;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=$M(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function YA(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>C(this,null,function*(){i.isEqual(r)||(yield a6(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function T5(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Rre(t);le("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>E5(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>E5(e.remoteStore,r)),t._onlineComponents=e})}function Ore(t){return t.name==="FirebaseError"?t.code===W.FAILED_PRECONDITION||t.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function Rre(t){return C(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{yield YA(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!Ore(n))throw n;jh("Error using user provided cache. Falling back to memory cache: "+n),yield YA(t,new Yb)}}else le("FirestoreClient","Using default OfflineComponentProvider"),yield YA(t,new Yb);return t._offlineComponents})}function w6(t){return C(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),yield T5(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),yield T5(t,new _M))),t._onlineComponents})}function Nre(t){return w6(t).then(e=>e.syncEngine)}function kre(t){return C(this,null,function*(){let e=yield w6(t),n=e.eventManager;return n.onListen=wre.bind(null,e.syncEngine),n.onUnlisten=Cre.bind(null,e.syncEngine),n})}function Fre(t,e,n={}){let i=new Po;return t.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(o,a,l,d,h){let m=new wM({next:y=>{a.enqueueAndForget(()=>vre(o,v)),y.fromCache&&d.source==="server"?h.reject(new we(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),v=new fM(l,m,{includeMetadataChanges:!0,Z_:!0});return gre(o,v)}(yield kre(t),t.asyncQueue,e,n,i)})),i.promise}function b6(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var D5=new Map;function C6(t,e,n){if(!n)throw new we(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Lre(t,e,n,i){if(e===!0&&i===!0)throw new we(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function A5(t){if(!xe.isDocumentKey(t))throw new we(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function x5(t){if(xe.isDocumentKey(t))throw new we(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zM(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve()}function Xh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=zM(t);throw new we(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Qb=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new we(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new we(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lre("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b6((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new we(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new we(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new we(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Jh=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new we(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new we(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qb(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new QA;switch(i.type){case"firstParty":return new ex(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new we(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=D5.get(n);i&&(le("ComponentProvider","Removing Datastore"),D5.delete(n),i.terminate())}(this),Promise.resolve()}};function E6(t,e,n,i={}){var r;let o=(t=Xh(t,Jh))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&jh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),i.mockUserToken){let l,d;if(typeof i.mockUserToken=="string")l=i.mockUserToken,d=fi.MOCK_USER;else{l=sU(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new we(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new fi(h)}t._authCredentials=new XA(new Tb(l,d))}}var Xb=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},qr=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Cc=class t extends Xb{constructor(e,n,i){super(e,n,j5(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new qr(this.firestore,null,new xe(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function I6(t,e,...n){if(t=Ye(t),C6("collection","path",e),t instanceof Jh){let i=En.fromString(e,...n);return x5(i),new Cc(t,null,i)}{if(!(t instanceof qr||t instanceof Cc))throw new we(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(En.fromString(e,...n));return x5(i),new Cc(t.firestore,null,i)}}function S6(t,e,...n){if(t=Ye(t),arguments.length===1&&(e=Db.newId()),C6("doc","path",e),t instanceof Jh){let i=En.fromString(e,...n);return A5(i),new qr(t,null,new xe(i))}{if(!(t instanceof qr||t instanceof Cc))throw new we(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(En.fromString(e,...n));return A5(i),new qr(t.firestore,t instanceof Cc?t.converter:null,new xe(i))}}var CM=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new $b(this,"async_queue_retry"),this._u=()=>{let n=KA();n&&le("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=KA();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=KA();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new Po;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return C(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!tv(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(i=>{this.ru=i,this.iu=!1;let r=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(i);throw bs("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.iu=!1,i))));return this.Xa=n,n}enqueueAfterDelay(e,n,i){this.au(),this.ou.indexOf(e)>-1&&(n=0);let r=uM.createAndSchedule(this,e,n,i,o=>this.lu(o));return this.nu.push(r),r}au(){this.ru&&Ve()}verifyOperationInProgress(){}hu(){return C(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};var Zh=class extends Jh{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new CM}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||A6(this),this._firestoreClient.terminate()}};function T6(t,e){let n=typeof t=="object"?t:Fl(),i=typeof t=="string"?t:e||"(default)",r=kl(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=oU("firestore");o&&E6(r,...o)}return r}function D6(t){return t._firestoreClient||A6(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function A6(t){var e,n,i;let r=t._freezeSettings(),o=function(l,d,h,m){return new cx(l,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,b6(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new bM(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var Xg=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Zi.fromBase64String(e))}catch(n){throw new we(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Zi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Jg=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Jb=class{constructor(e){this._methodName=e}};var Zg=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}};var Vre=/^__.*__$/,EM=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ga(e,this.data,this.fieldMask,n,this.fieldTransforms):new hu(e,this.data,n,this.fieldTransforms)}};function x6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}var IM=class t{constructor(e,n,i,r,o,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Au({path:i,Vu:!1});return r.mu(e),r}fu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Au({path:i,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Zb(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(x6(this.du)&&Vre.test(e))throw this.pu('Document fields cannot begin and end with "__"')}},SM=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||rC(e)}Su(e,n,i,r=!1){return new IM({du:e,methodName:n,wu:i,path:Sr.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function jre(t){let e=t._freezeSettings(),n=rC(t._databaseId);return new SM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ure(t,e,n,i,r,o={}){let a=t.Su(o.merge||o.mergeFields?2:0,e,n,r);R6("Data must be an object, but it was:",a,i);let l=P6(i,a),d,h;if(o.merge)d=new vs(a.fieldMask),h=a.fieldTransforms;else if(o.mergeFields){let m=[];for(let v of o.mergeFields){let y=Bre(e,v,n);if(!a.contains(y))throw new we(W.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Hre(m,y)||m.push(y)}d=new vs(m),h=a.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,h=a.fieldTransforms;return new EM(new Mo(l),d,h)}function M6(t,e){if(O6(t=Ye(t)))return R6("Unsupported field value:",e,t),P6(t,e);if(t instanceof Jb)return function(i,r){if(!x6(r.du))throw r.pu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.pu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(i,r){let o=[],a=0;for(let l of i){let d=M6(l,r.gu(a));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),a++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=Ye(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Tie(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=Ei.fromDate(i);return{timestampValue:Vb(r.serializer,o)}}if(i instanceof Ei){let o=new Ei(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Vb(r.serializer,o)}}if(i instanceof Zg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xg)return{bytesValue:e6(r.serializer,i._byteString)};if(i instanceof qr){let o=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(o))throw r.pu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:VM(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.pu(`Unsupported field value: ${zM(i)}`)}(t,e)}function P6(t,e){let n={};return P5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tf(t,(i,r)=>{let o=M6(r,e.Ru(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function O6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ei||t instanceof Zg||t instanceof Xg||t instanceof qr||t instanceof Jb)}function R6(t,e,n){if(!O6(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=zM(n);throw i==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+i)}}function Bre(t,e,n){if((e=Ye(e))instanceof Jg)return e._internalPath;if(typeof e=="string")return N6(t,e);throw Zb("Field path arguments must be of type string or ",t,!1,void 0,n)}var $re=new RegExp("[~\\*/\\[\\]]");function N6(t,e,n){if(e.search($re)>=0)throw Zb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jg(...e.split("."))._internalPath}catch{throw Zb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zb(t,e,n,i,r){let o=i&&!i.isEmpty(),a=r!==void 0,l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let d="";return(o||a)&&(d+=" (found",o&&(d+=` in field ${i}`),a&&(d+=` in document ${r}`),d+=")"),new we(W.INVALID_ARGUMENT,l+t+d)}function Hre(t,e){return t.some(n=>n.isEqual(e))}var eC=class{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new TM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(k6("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},TM=class extends eC{data(){return super.data()}};function k6(t,e){return typeof e=="string"?N6(t,e):e instanceof Jg?e._internalPath:e._delegate._internalPath}function Gre(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var DM=class{convertValue(e,n="none"){switch(lu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ic(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return tf(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new Zg(Cn(e.latitude),Cn(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=NM(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Gg(e));default:return null}}convertTimestamp(e){let n=Ec(e);return new Ei(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=En.fromString(e);Yt(s6(i));let r=new Ob(i.get(1),i.get(3)),o=new xe(i.popFirst(5));return r.isEqual(n)||bs(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function zre(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var Fh=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},AM=class extends eC{constructor(e,n,i,r,o,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(k6("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},Vh=class extends AM{data(e={}){return super.data(e)}},xM=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Fh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Vh(this._firestore,this._userDataWriter,i.key,i,new Fh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{let d=new Vh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Fh(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:d,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{let d=new Vh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Fh(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,m=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),m=a.indexOf(l.doc.key)),{type:qre(l.type),doc:d,oldIndex:h,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function qre(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}var MM=class extends DM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xg(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new qr(this.firestore,null,n)}};function F6(t){t=Xh(t,Xb);let e=Xh(t.firestore,Zh),n=D6(e),i=new MM(e);return Gre(t._query),Fre(n,t._query).then(r=>new xM(e,i,t,r))}function L6(t,e,n){t=Xh(t,qr);let i=Xh(t.firestore,Zh),r=zre(t.converter,e,n);return j6(i,[Ure(jre(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,bc.none())])}function V6(t){return j6(Xh(t.firestore,Zh),[new qg(t._key,bc.none())])}function j6(t,e){return function(i,r){let o=new Po;return i.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return Ere(yield Nre(i),r,o)})),o.promise}(D6(t),e)}(function(e,n=!0){(function(r){ef=r})(Eo),Co(new Oi("firestore",(i,{instanceIdentifier:r,options:o})=>{let a=i.getProvider("app").getImmediate(),l=new Zh(new JA(i.getProvider("auth-internal")),new nx(i.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new we(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ob(h.options.projectId,m)}(a,r),a);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),an(n5,"4.4.3",e),an(n5,"4.4.3","esm2017")})();var pu=class{constructor(e){return e}},U6="firestore",qM=class{constructor(){return ym(U6)}};var WM=new ye("angularfire2.firestore-instances");function Wre(t,e){let n=mw(U6,t,e);return n&&new pu(n)}function Kre(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new pu(i)}}var Yre={provide:qM,deps:[[new Qi,WM]]},Qre={provide:pu,useFactory:Wre,deps:[[new Qi,WM],sa]},Xre=(()=>{class t{constructor(){an("angularfire",Vl.full,"fst")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ki({type:t});static \u0275inj=Yi({providers:[Qre,Yre]})}return t})();function B6(t,...e){return{ngModule:Xre,providers:[{provide:WM,useFactory:Kre(t),multi:!0,deps:[_t,Kt,hh,jl,[new Qi,fg],[new Qi,dh],...e]}]}}var $6=Io(I6,!0);var H6=Io(V6,!0);var KM=Io(S6,!0);var G6=Io(F6,!0);var z6=Io(T6,!0);var q6=Io(L6,!0);var XM=class extends J0{constructor(){super(...arguments),this.supportsDOMEvents=!0}},JM=class t extends XM{static makeCurrent(){Vj(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Zre();return n==null?null:eoe(n)}resetBaseElement(){rv=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Z0(document.cookie,e)}},rv=null;function Zre(){return rv=rv||document.querySelector("base"),rv?rv.getAttribute("href"):null}function eoe(t){return new URL(t,document.baseURI).pathname}var toe=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),ZM=new ye(""),Y6=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(a=>a.supports(i)),!r)throw new J(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(re(ZM),re(_t))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),aC=class{constructor(e){this._doc=e}},YM="ng-app-id",Q6=(()=>{let e=class e{constructor(i,r,o,a={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=rm(a),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${YM}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let a=o.get(i);return a.usage+=r,a.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,a=o?.get(r);if(a?.parentNode===i)return o.delete(r),a.removeAttribute(YM),a;{let l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(YM,this.appId),i.appendChild(l),l}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),a=this.styleRef,l=a.get(r)?.elements;l?l.push(o):a.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(re(wi),re(e1),re(i1,8),re(Vr))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),QM={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},tP=/%COMP%/g,X6="%COMP%",noe=`_nghost-${X6}`,ioe=`_ngcontent-${X6}`,roe=!0,ooe=new ye("",{providedIn:"root",factory:()=>roe});function soe(t){return ioe.replace(tP,t)}function aoe(t){return noe.replace(tP,t)}function J6(t,e){return e.map(n=>n.replace(tP,t))}var cC=(()=>{let e=class e{constructor(i,r,o,a,l,d,h,m=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=a,this.doc=l,this.platformId=d,this.ngZone=h,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=rm(d),this.defaultRenderer=new ov(i,l,h,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Zo.ShadowDom&&(r=It(te({},r),{encapsulation:Zo.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof lC?o.applyToHost(i):o instanceof sv&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,a=o.get(r.id);if(!a){let l=this.doc,d=this.ngZone,h=this.eventManager,m=this.sharedStylesHost,v=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(r.encapsulation){case Zo.Emulated:a=new lC(h,m,r,this.appId,v,l,d,y);break;case Zo.ShadowDom:return new eP(h,m,i,r,l,d,this.nonce,y);default:a=new sv(h,m,r,v,l,d,y);break}o.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(re(Y6),re(Q6),re(e1),re(ooe),re(wi),re(Vr),re(_t),re(i1))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),ov=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(QM[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(W6(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(W6(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new J(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=QM[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=QM[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Ys.DashCase|Ys.Important)?e.style.setProperty(n,i,r&Ys.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Ys.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=ia().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function W6(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var eP=class extends ov{constructor(e,n,i,r,o,a,l,d){super(e,o,a,d),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=J6(r.id,r.styles);for(let m of h){let v=document.createElement("style");l&&v.setAttribute("nonce",l),v.textContent=m,this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},sv=class extends ov{constructor(e,n,i,r,o,a,l,d){super(e,o,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=d?J6(d,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},lC=class extends sv{constructor(e,n,i,r,o,a,l,d){let h=r+"-"+i.id;super(e,n,i,o,a,l,d,h),this.contentAttr=soe(h),this.hostAttr=aoe(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},coe=(()=>{let e=class e extends aC{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(re(wi))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),K6=["alt","control","meta","shift"],loe={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},uoe={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},doe=(()=>{let e=class e extends aC{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,o){let a=e.parseEventName(r),l=e.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ia().onAndCancel(i,a.domEventName,l))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let a=e._normalizeKey(r.pop()),l="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),l="code."),K6.forEach(m=>{let v=r.indexOf(m);v>-1&&(r.splice(v,1),l+=m+".")}),l+=a,r.length!=0||a.length===0)return null;let h={};return h.domEventName=o,h.fullKey=l,h}static matchEventFullKeyCode(i,r){let o=loe[i.key]||i.key,a="";return r.indexOf("code.")>-1&&(o=i.code,a="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),K6.forEach(l=>{if(l!==o){let d=uoe[l];d(i)&&(a+=l+".")}}),a+=o,a===r)}static eventCallback(i,r,o){return a=>{e.matchEventFullKeyCode(a,i)&&o.runGuarded(()=>r(a))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(re(wi))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();function Z6(t,e){return Pj(te({rootComponent:t},hoe(e)))}function hoe(t){return{appProviders:[...voe,...t?.providers??[]],platformProviders:goe}}function foe(){JM.makeCurrent()}function poe(){return new is}function moe(){return RV(document),document}var goe=[{provide:Vr,useValue:$j},{provide:t1,useValue:foe,multi:!0},{provide:wi,useFactory:moe,deps:[]}];var voe=[{provide:R0,useValue:"root"},{provide:is,useFactory:poe,deps:[]},{provide:ZM,useClass:coe,multi:!0,deps:[wi,_t,Vr]},{provide:ZM,useClass:doe,multi:!0,deps:[wi]},cC,Q6,Y6,{provide:El,useExisting:cC},{provide:sh,useClass:toe,deps:[]},[]];var e$=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(re(wi))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var nP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=re(yoe),o},providedIn:"root"});let t=e;return t})(),yoe=(()=>{let e=class e extends nP{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case os.NONE:return r;case os.HTML:return oc(r,"HTML")?jr(r):C3(this._doc,String(r)).toString();case os.STYLE:return oc(r,"Style")?jr(r):r;case os.SCRIPT:if(oc(r,"Script"))return jr(r);throw new J(5200,!1);case os.URL:return oc(r,"URL")?jr(r):L0(String(r));case os.RESOURCE_URL:if(oc(r,"ResourceURL"))return jr(r);throw new J(5201,!1);default:throw new J(5202,!1)}}bypassSecurityTrustHtml(i){return f3(i)}bypassSecurityTrustStyle(i){return p3(i)}bypassSecurityTrustScript(i){return m3(i)}bypassSecurityTrustUrl(i){return g3(i)}bypassSecurityTrustResourceUrl(i){return v3(i)}};e.\u0275fac=function(r){return new(r||e)(re(wi))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var We=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(We||{}),Is="*";function Ro(t,e){return{type:We.Trigger,name:t,definitions:e,options:{}}}function Ii(t,e=null){return{type:We.Animate,styles:e,timings:t}}function n$(t,e=null){return{type:We.Sequence,steps:t,options:e}}function dt(t){return{type:We.Style,styles:t,offset:null}}function i$(t,e,n){return{type:We.State,name:t,styles:e,options:n}}function Xn(t,e,n=null){return{type:We.Transition,expr:t,animation:e,options:n}}var Dc=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},av=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++n==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},uC="!";function r$(t){return new J(3e3,!1)}function _oe(){return new J(3100,!1)}function woe(){return new J(3101,!1)}function boe(t){return new J(3001,!1)}function Coe(t){return new J(3003,!1)}function Eoe(t){return new J(3004,!1)}function Ioe(t,e){return new J(3005,!1)}function Soe(){return new J(3006,!1)}function Toe(){return new J(3007,!1)}function Doe(t,e){return new J(3008,!1)}function Aoe(t){return new J(3002,!1)}function xoe(t,e,n,i,r){return new J(3010,!1)}function Moe(){return new J(3011,!1)}function Poe(){return new J(3012,!1)}function Ooe(){return new J(3200,!1)}function Roe(){return new J(3202,!1)}function Noe(){return new J(3013,!1)}function koe(t){return new J(3014,!1)}function Foe(t){return new J(3015,!1)}function Loe(t){return new J(3016,!1)}function Voe(t,e){return new J(3404,!1)}function joe(t){return new J(3502,!1)}function Uoe(t){return new J(3503,!1)}function Boe(){return new J(3300,!1)}function $oe(t){return new J(3504,!1)}function Hoe(t){return new J(3301,!1)}function Goe(t,e){return new J(3302,!1)}function zoe(t){return new J(3303,!1)}function qoe(t,e){return new J(3400,!1)}function Woe(t){return new J(3401,!1)}function Koe(t){return new J(3402,!1)}function Yoe(t,e){return new J(3505,!1)}function Ac(t){switch(t.length){case 0:return new Dc;case 1:return t[0];default:return new av(t)}}function y$(t,e,n=new Map,i=new Map){let r=[],o=[],a=-1,l=null;if(e.forEach(d=>{let h=d.get("offset"),m=h==a,v=m&&l||new Map;d.forEach((y,b)=>{let w=b,E=y;if(b!=="offset")switch(w=t.normalizePropertyName(w,r),E){case uC:E=n.get(b);break;case Is:E=i.get(b);break;default:E=t.normalizeStyleValue(b,w,E,r);break}v.set(w,E)}),m||o.push(v),l=v,a=h}),r.length)throw joe(r);return o}function SP(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&iP(n,"start",t)));break;case"done":t.onDone(()=>i(n&&iP(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&iP(n,"destroy",t)));break}}function iP(t,e,n){let i=n.totalTime,r=!!n.disabled,o=TP(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,i??t.totalTime,r),a=t._data;return a!=null&&(o._data=a),o}function TP(t,e,n,i,r="",o=0,a){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function Dr(t,e,n){let i=t.get(e);return i||t.set(e,i=n),i}function o$(t){let e=t.indexOf(":"),n=t.substring(1,e),i=t.slice(e+1);return[n,i]}var Qoe=typeof document>"u"?null:document.documentElement;function DP(t){let e=t.parentNode||t.host||null;return e===Qoe?null:e}function Xoe(t){return t.substring(1,6)=="ebkit"}var mu=null,s$=!1;function Joe(t){mu||(mu=Zoe()||{},s$=mu.style?"WebkitAppearance"in mu.style:!1);let e=!0;return mu.style&&!Xoe(t)&&(e=t in mu.style,!e&&s$&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in mu.style)),e}function Zoe(){return typeof document<"u"?document.body:null}function _$(t,e){for(;e;){if(e===t)return!0;e=DP(e)}return!1}function w$(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let i=t.querySelector(e);return i?[i]:[]}var AP=(()=>{let e=class e{validateStyleProperty(i){return Joe(i)}matchesElement(i,r){return!1}containsElement(i,r){return _$(i,r)}getParentElement(i){return DP(i)}query(i,r,o){return w$(i,r,o)}computeStyle(i,r,o){return o||""}animate(i,r,o,a,l,d=[],h){return new Dc(o,a)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),OP=class OP{};OP.NOOP=new AP;var yu=OP,_u=class{};var ese=1e3,b$="{{",tse="}}",C$="ng-enter",lP="ng-leave",dC="ng-trigger",gC=".ng-trigger",a$="ng-animating",uP=".ng-animating";function va(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:dP(parseFloat(e[1]),e[2])}function dP(t,e){switch(e){case"s":return t*ese;default:return t}}function vC(t,e,n){return t.hasOwnProperty("duration")?t:nse(t,e,n)}function nse(t,e,n){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,a="";if(typeof t=="string"){let l=t.match(i);if(l===null)return e.push(r$(t)),{duration:0,delay:0,easing:""};r=dP(parseFloat(l[1]),l[2]);let d=l[3];d!=null&&(o=dP(parseFloat(d),l[4]));let h=l[5];h&&(a=h)}else r=t;if(!n){let l=!1,d=e.length;r<0&&(e.push(_oe()),l=!0),o<0&&(e.push(woe()),l=!0),l&&e.splice(d,0,r$(t))}return{duration:r,delay:o,easing:a}}function ise(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Ss(t,e,n){e.forEach((i,r)=>{let o=xP(r);n&&!n.has(r)&&n.set(r,t.style[o]),t.style[o]=i})}function vu(t,e){e.forEach((n,i)=>{let r=xP(i);t.style[r]=""})}function cv(t){return Array.isArray(t)?t.length==1?t[0]:n$(t):t}function rse(t,e,n){let i=e.params||{},r=E$(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||n.push(boe(o))})}var hP=new RegExp(`${b$}\\s*(.+?)\\s*${tse}`,"g");function E$(t){let e=[];if(typeof t=="string"){let n;for(;n=hP.exec(t);)e.push(n[1]);hP.lastIndex=0}return e}function uv(t,e,n){let i=`${t}`,r=i.replace(hP,(o,a)=>{let l=e[a];return l==null&&(n.push(Coe(a)),l=""),l.toString()});return r==i?t:r}var ose=/-+([a-z0-9])/g;function xP(t){return t.replace(ose,(...e)=>e[1].toUpperCase())}function sse(t,e){return t===0||e===0}function ase(t,e,n){if(n.size&&e.length){let i=e[0],r=[];if(n.forEach((o,a)=>{i.has(a)||r.push(a),i.set(a,o)}),r.length)for(let o=1;o<e.length;o++){let a=e[o];r.forEach(l=>a.set(l,MP(t,l)))}}return e}function Tr(t,e,n){switch(e.type){case We.Trigger:return t.visitTrigger(e,n);case We.State:return t.visitState(e,n);case We.Transition:return t.visitTransition(e,n);case We.Sequence:return t.visitSequence(e,n);case We.Group:return t.visitGroup(e,n);case We.Animate:return t.visitAnimate(e,n);case We.Keyframes:return t.visitKeyframes(e,n);case We.Style:return t.visitStyle(e,n);case We.Reference:return t.visitReference(e,n);case We.AnimateChild:return t.visitAnimateChild(e,n);case We.AnimateRef:return t.visitAnimateRef(e,n);case We.Query:return t.visitQuery(e,n);case We.Stagger:return t.visitStagger(e,n);default:throw Eoe(e.type)}}function MP(t,e){return window.getComputedStyle(t)[e]}var cse=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),yC=class extends _u{normalizePropertyName(e,n){return xP(e)}normalizeStyleValue(e,n,i,r){let o="",a=i.toString().trim();if(cse.has(n)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let l=i.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&l[1].length==0&&r.push(Ioe(e,i))}return a+o}};var _C="*";function lse(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>use(i,n,e)):n.push(t),n}function use(t,e,n){if(t[0]==":"){let d=dse(t,n);if(typeof d=="function"){e.push(d);return}t=d}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return n.push(Foe(t)),e;let r=i[1],o=i[2],a=i[3];e.push(c$(r,a));let l=r==_C&&a==_C;o[0]=="<"&&!l&&e.push(c$(a,r))}function dse(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return e.push(Loe(t)),"* => *"}}var hC=new Set(["true","1"]),fC=new Set(["false","0"]);function c$(t,e){let n=hC.has(t)||fC.has(t),i=hC.has(e)||fC.has(e);return(r,o)=>{let a=t==_C||t==r,l=e==_C||e==o;return!a&&n&&typeof r=="boolean"&&(a=r?hC.has(t):fC.has(t)),!l&&i&&typeof o=="boolean"&&(l=o?hC.has(e):fC.has(e)),a&&l}}var I$=":self",hse=new RegExp(`s*${I$}s*,?`,"g");function S$(t,e,n,i){return new fP(t).build(e,n,i)}var l$="",fP=class{constructor(e){this._driver=e}build(e,n,i){let r=new pP(n);return this._resetContextStyleTimingState(r),Tr(this,cv(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=l$,e.collectedStyles=new Map,e.collectedStyles.set(l$,new Map),e.currentTime=0}visitTrigger(e,n){let i=n.queryCount=0,r=n.depCount=0,o=[],a=[];return e.name.charAt(0)=="@"&&n.errors.push(Soe()),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(n),l.type==We.State){let d=l,h=d.name;h.toString().split(/\s*,\s*/).forEach(m=>{d.name=m,o.push(this.visitState(d,n))}),d.name=h}else if(l.type==We.Transition){let d=this.visitTransition(l,n);i+=d.queryCount,r+=d.depCount,a.push(d)}else n.errors.push(Toe())}),{type:We.Trigger,name:e.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}visitState(e,n){let i=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let o=new Set,a=r||{};i.styles.forEach(l=>{l instanceof Map&&l.forEach(d=>{E$(d).forEach(h=>{a.hasOwnProperty(h)||o.add(h)})})}),o.size&&n.errors.push(Doe(e.name,[...o.values()]))}return{type:We.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let i=Tr(this,cv(e.animation),n),r=lse(e.expr,n.errors);return{type:We.Transition,matchers:r,animation:i,queryCount:n.queryCount,depCount:n.depCount,options:gu(e.options)}}visitSequence(e,n){return{type:We.Sequence,steps:e.steps.map(i=>Tr(this,i,n)),options:gu(e.options)}}visitGroup(e,n){let i=n.currentTime,r=0,o=e.steps.map(a=>{n.currentTime=i;let l=Tr(this,a,n);return r=Math.max(r,n.currentTime),l});return n.currentTime=r,{type:We.Group,steps:o,options:gu(e.options)}}visitAnimate(e,n){let i=gse(e.timings,n.errors);n.currentAnimateTimings=i;let r,o=e.styles?e.styles:dt({});if(o.type==We.Keyframes)r=this.visitKeyframes(o,n);else{let a=e.styles,l=!1;if(!a){l=!0;let h={};i.easing&&(h.easing=i.easing),a=dt(h)}n.currentTime+=i.duration+i.delay;let d=this.visitStyle(a,n);d.isEmptyStep=l,r=d}return n.currentAnimateTimings=null,{type:We.Animate,timings:i,style:r,options:null}}visitStyle(e,n){let i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}_makeStyleAst(e,n){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let l of r)typeof l=="string"?l===Is?i.push(l):n.errors.push(Aoe(l)):i.push(new Map(Object.entries(l)));let o=!1,a=null;return i.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(a=l.get("easing"),l.delete("easing")),!o)){for(let d of l.values())if(d.toString().indexOf(b$)>=0){o=!0;break}}}),{type:We.Style,styles:i,easing:a,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let i=n.currentAnimateTimings,r=n.currentTime,o=n.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(a=>{typeof a!="string"&&a.forEach((l,d)=>{let h=n.collectedStyles.get(n.currentQuerySelector),m=h.get(d),v=!0;m&&(o!=r&&o>=m.startTime&&r<=m.endTime&&(n.errors.push(xoe(d,m.startTime,m.endTime,o,r)),v=!1),o=m.startTime),v&&h.set(d,{startTime:o,endTime:r}),n.options&&rse(l,n.options,n.errors)})})}visitKeyframes(e,n){let i={type:We.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(Moe()),i;let r=1,o=0,a=[],l=!1,d=!1,h=0,m=e.steps.map(O=>{let L=this._makeStyleAst(O,n),$=L.offset!=null?L.offset:mse(L.styles),A=0;return $!=null&&(o++,A=L.offset=$),d=d||A<0||A>1,l=l||A<h,h=A,a.push(A),L});d&&n.errors.push(Poe()),l&&n.errors.push(Ooe());let v=e.steps.length,y=0;o>0&&o<v?n.errors.push(Roe()):o==0&&(y=r/(v-1));let b=v-1,w=n.currentTime,E=n.currentAnimateTimings,T=E.duration;return m.forEach((O,L)=>{let $=y>0?L==b?1:y*L:a[L],A=$*T;n.currentTime=w+E.delay+A,E.duration=A,this._validateStyleAst(O,n),O.offset=$,i.styles.push(O)}),i}visitReference(e,n){return{type:We.Reference,animation:Tr(this,cv(e.animation),n),options:gu(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:We.AnimateChild,options:gu(e.options)}}visitAnimateRef(e,n){return{type:We.AnimateRef,animation:this.visitReference(e.animation,n),options:gu(e.options)}}visitQuery(e,n){let i=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;let[o,a]=fse(e.selector);n.currentQuerySelector=i.length?i+" "+o:o,Dr(n.collectedStyles,n.currentQuerySelector,new Map);let l=Tr(this,cv(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:We.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:l,originalSelector:e.selector,options:gu(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(Noe());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:vC(e.timings,n.errors,!0);return{type:We.Stagger,animation:Tr(this,cv(e.animation),n),timings:i,options:null}}};function fse(t){let e=!!t.split(/\s*,\s*/).find(n=>n==I$);return e&&(t=t.replace(hse,"")),t=t.replace(/@\*/g,gC).replace(/@\w+/g,n=>gC+"-"+n.slice(1)).replace(/:animating/g,uP),[t,e]}function pse(t){return t?te({},t):null}var pP=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function mse(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let i=n;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function gse(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=vC(t,e).duration;return rP(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=rP(0,0,"");return o.dynamic=!0,o.strValue=n,o}let r=vC(n,e);return rP(r.duration,r.delay,r.easing)}function gu(t){return t?(t=te({},t),t.params&&(t.params=pse(t.params))):t={},t}function rP(t,e,n){return{duration:t,delay:e,easing:n}}function PP(t,e,n,i,r,o,a=null,l=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:l}}var dv=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},vse=1,yse=":enter",_se=new RegExp(yse,"g"),wse=":leave",bse=new RegExp(wse,"g");function T$(t,e,n,i,r,o=new Map,a=new Map,l,d,h=[]){return new mP().buildKeyframes(t,e,n,i,r,o,a,l,d,h)}var mP=class{buildKeyframes(e,n,i,r,o,a,l,d,h,m=[]){h=h||new dv;let v=new gP(e,n,h,r,o,m,[]);v.options=d;let y=d.delay?va(d.delay):0;v.currentTimeline.delayNextStep(y),v.currentTimeline.setStyles([a],null,v.errors,d),Tr(this,i,v);let b=v.timelines.filter(w=>w.containsAnimation());if(b.length&&l.size){let w;for(let E=b.length-1;E>=0;E--){let T=b[E];if(T.element===n){w=T;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([l],null,v.errors,d)}return b.length?b.map(w=>w.buildKeyframes()):[PP(n,[],[],[],0,y,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let i=n.subInstructions.get(n.element);if(i){let r=n.createSubContext(e.options),o=n.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);o!=a&&n.transformIntoNewTimeline(a)}n.previousNode=e}visitAnimateRef(e,n){let i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,i),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,i){for(let r of e){let o=r?.delay;if(o){let a=typeof o=="number"?o:va(uv(o,r?.params??{},n.errors));i.delayNextStep(a)}}}_visitSubInstructions(e,n,i){let o=n.currentTimeline.currentTime,a=i.duration!=null?va(i.duration):null,l=i.delay!=null?va(i.delay):null;return a!==0&&e.forEach(d=>{let h=n.appendInstructionToTimeline(d,a,l);o=Math.max(o,h.duration+h.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),Tr(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let i=n.subContextCount,r=n,o=e.options;if(o&&(o.params||o.delay)&&(r=n.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==We.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=wC);let a=va(o.delay);r.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>Tr(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let i=[],r=n.currentTimeline.currentTime,o=e.options&&e.options.delay?va(e.options.delay):0;e.steps.forEach(a=>{let l=n.createSubContext(e.options);o&&l.delayNextStep(o),Tr(this,a,l),r=Math.max(r,l.currentTimeline.currentTime),i.push(l.currentTimeline)}),i.forEach(a=>n.currentTimeline.mergeTimelineCollectedStyles(a)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let i=e.strValue,r=n.params?uv(i,n.params,n.errors):i;return vC(r,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let i=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());let o=e.style;o.type==We.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(i.duration),this.visitStyle(o,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let i=n.currentAnimateTimings,r=n.currentTimeline.duration,o=i.duration,l=n.createSubContext().currentTimeline;l.easing=i.easing,e.styles.forEach(d=>{let h=d.offset||0;l.forwardTime(h*o),l.setStyles(d.styles,d.easing,n.errors,n.options),l.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(l),n.transformIntoNewTimeline(r+o),n.previousNode=e}visitQuery(e,n){let i=n.currentTimeline.currentTime,r=e.options||{},o=r.delay?va(r.delay):0;o&&(n.previousNode.type===We.Style||i==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=wC);let a=i,l=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=l.length;let d=null;l.forEach((h,m)=>{n.currentQueryIndex=m;let v=n.createSubContext(e.options,h);o&&v.delayNextStep(o),h===n.element&&(d=v.currentTimeline),Tr(this,e.animation,v),v.currentTimeline.applyStylesToKeyframe();let y=v.currentTimeline.currentTime;a=Math.max(a,y)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(a),d&&(n.currentTimeline.mergeTimelineCollectedStyles(d),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let i=n.parentContext,r=n.currentTimeline,o=e.timings,a=Math.abs(o.duration),l=a*(n.currentQueryTotal-1),d=a*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":d=l-d;break;case"full":d=i.currentStaggerTime;break}let m=n.currentTimeline;d&&m.delayNextStep(d);let v=m.currentTime;Tr(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=r.currentTime-v+(r.startTime-i.currentTimeline.startTime)}},wC={},gP=class t{constructor(e,n,i,r,o,a,l,d){this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=d||new bC(this._driver,n,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=va(i.duration)),i.delay!=null&&(r.delay=va(i.delay));let o=i.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(l=>{(!n||!a.hasOwnProperty(l))&&(a[l]=uv(o[l],a,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let i=e.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return e}createSubContext(e=null,n,i){let r=n||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=wC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,i){let r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new vP(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,i,r,o,a){let l=[];if(r&&l.push(this.element),e.length>0){e=e.replace(_se,"."+this._enterClassName),e=e.replace(bse,"."+this._leaveClassName);let d=i!=1,h=this._driver.query(this.element,e,d);i!==0&&(h=i<0?h.slice(h.length+i,h.length):h.slice(0,i)),l.push(...h)}return!o&&l.length==0&&a.push(koe(n)),l}},bC=class t{constructor(e,n,i,r){this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=vse,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||Is),this._currentKeyframe.set(n,Is);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,i,r){n&&this._previousKeyframe.set("easing",n);let o=r&&r.params||{},a=Cse(e,this._globalTimelineStyles);for(let[l,d]of a){let h=uv(d,o,i);this._pendingStyles.set(l,h),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??Is),this._updateStyle(l,h)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,i)=>{let r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((l,d)=>{let h=new Map([...this._backFill,...l]);h.forEach((m,v)=>{m===uC?e.add(v):m===Is&&n.add(v)}),i||h.set("offset",d/this.duration),r.push(h)});let o=[...e.values()],a=[...n.values()];if(i){let l=r[0],d=new Map(l);l.set("offset",0),d.set("offset",1),r=[l,d]}return PP(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}},vP=class extends bC{constructor(e,n,i,r,o,a,l=!1){super(e,n,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],a=i+n,l=n/a,d=new Map(e[0]);d.set("offset",0),o.push(d);let h=new Map(e[0]);h.set("offset",u$(l)),o.push(h);let m=e.length-1;for(let v=1;v<=m;v++){let y=new Map(e[v]),b=y.get("offset"),w=n+b*i;y.set("offset",u$(w/a)),o.push(y)}i=a,n=0,r="",e=o}return PP(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}};function u$(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function Cse(t,e){let n=new Map,i;return t.forEach(r=>{if(r==="*"){i??=e.keys();for(let o of i)n.set(o,Is)}else for(let[o,a]of r)n.set(o,a)}),n}function d$(t,e,n,i,r,o,a,l,d,h,m,v,y){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:a,timelines:l,queriedElements:d,preStyleProps:h,postStyleProps:m,totalTime:v,errors:y}}var oP={},CC=class{constructor(e,n,i){this._triggerName=e,this.ast=n,this._stateStyles=i}match(e,n,i,r){return Ese(this.ast.matchers,e,n,i,r)}buildStyles(e,n,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,i):new Map}build(e,n,i,r,o,a,l,d,h,m){let v=[],y=this.ast.options&&this.ast.options.params||oP,b=l&&l.params||oP,w=this.buildStyles(i,b,v),E=d&&d.params||oP,T=this.buildStyles(r,E,v),O=new Set,L=new Map,$=new Map,A=r==="void",ee={params:D$(E,y),delay:this.ast.options?.delay},U=m?[]:T$(e,n,this.ast.animation,o,a,w,T,ee,h,v),ie=0;return U.forEach(Ce=>{ie=Math.max(Ce.duration+Ce.delay,ie)}),v.length?d$(n,this._triggerName,i,r,A,w,T,[],[],L,$,ie,v):(U.forEach(Ce=>{let He=Ce.element,Xe=Dr(L,He,new Set);Ce.preStyleProps.forEach($e=>Xe.add($e));let Ie=Dr($,He,new Set);Ce.postStyleProps.forEach($e=>Ie.add($e)),He!==n&&O.add(He)}),d$(n,this._triggerName,i,r,A,w,T,U,[...O.values()],L,$,ie))}};function Ese(t,e,n,i,r){return t.some(o=>o(e,n,i,r))}function D$(t,e){let n=te({},e);return Object.entries(t).forEach(([i,r])=>{r!=null&&(n[i]=r)}),n}var yP=class{constructor(e,n,i){this.styles=e,this.defaultParams=n,this.normalizer=i}buildStyles(e,n){let i=new Map,r=D$(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{a&&(a=uv(a,r,n));let d=this.normalizer.normalizePropertyName(l,n);a=this.normalizer.normalizeStyleValue(l,d,a,n),i.set(l,a)})}),i}};function Ise(t,e,n){return new _P(t,e,n)}var _P=class{constructor(e,n,i){this.name=e,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new yP(r.style,o,i))}),h$(this.states,"true","1"),h$(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new CC(e,r,this.states))}),this.fallbackTransition=Sse(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,i,r){return this.transitionFactories.find(a=>a.match(e,n,i,r))||null}matchStyles(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}};function Sse(t,e,n){let i=[(a,l)=>!0],r={type:We.Sequence,steps:[],options:null},o={type:We.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new CC(t,o,e)}function h$(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var Tse=new dv,wP=class{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let i=[],r=[],o=S$(this._driver,n,i,r);if(i.length)throw Uoe(i);r.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,n,i){let r=e.element,o=y$(this._normalizer,e.keyframes,n,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,i={}){let r=[],o=this._animations.get(e),a,l=new Map;if(o?(a=T$(this._driver,n,o,C$,lP,new Map,new Map,i,Tse,r),a.forEach(m=>{let v=Dr(l,m.element,new Map);m.postStyleProps.forEach(y=>v.set(y,null))})):(r.push(Boe()),a=[]),r.length)throw $oe(r);l.forEach((m,v)=>{m.forEach((y,b)=>{m.set(b,this._driver.computeStyle(v,b,Is))})});let d=a.map(m=>{let v=l.get(m.element);return this._buildPlayer(m,new Map,v)}),h=Ac(d);return this._playersById.set(e,h),h.onDestroy(()=>this.destroy(e)),this.players.push(h),h}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw Hoe(e);return n}listen(e,n,i,r){let o=TP(n,"","","");return SP(this._getPlayer(e),i,o,r),()=>{}}command(e,n,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let a=r[0]||{};this.create(e,n,a);return}let o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},f$="ng-animate-queued",Dse=".ng-animate-queued",sP="ng-animate-disabled",Ase=".ng-animate-disabled",xse="ng-star-inserted",Mse=".ng-star-inserted",Pse=[],A$={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ose={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},No="__ng_removed",hv=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=Nse(r),i){let o=e,{value:a}=o,l=eS(o,["value"]);this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let i=this.options.params;Object.keys(n).forEach(r=>{i[r]==null&&(i[r]=n[r])})}}},lv="void",aP=new hv(lv),bP=class{constructor(e,n,i){this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Wr(n,this._hostClassName)}listen(e,n,i,r){if(!this._triggers.has(n))throw Goe(i,n);if(i==null||i.length==0)throw zoe(n);if(!kse(i))throw qoe(i,n);let o=Dr(this._elementListeners,e,[]),a={name:n,phase:i,callback:r};o.push(a);let l=Dr(this._engine.statesByElement,e,new Map);return l.has(n)||(Wr(e,dC),Wr(e,dC+"-"+n),l.set(n,aP)),()=>{this._engine.afterFlush(()=>{let d=o.indexOf(a);d>=0&&o.splice(d,1),this._triggers.has(n)||l.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw Woe(e);return n}trigger(e,n,i,r=!0){let o=this._getTrigger(n),a=new fv(this.id,n,e),l=this._engine.statesByElement.get(e);l||(Wr(e,dC),Wr(e,dC+"-"+n),this._engine.statesByElement.set(e,l=new Map));let d=l.get(n),h=new hv(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&d&&h.absorbOptions(d.options),l.set(n,h),d||(d=aP),!(h.value===lv)&&d.value===h.value){if(!Vse(d.params,h.params)){let E=[],T=o.matchStyles(d.value,d.params,E),O=o.matchStyles(h.value,h.params,E);E.length?this._engine.reportError(E):this._engine.afterFlush(()=>{vu(e,T),Ss(e,O)})}return}let y=Dr(this._engine.playersByElement,e,[]);y.forEach(E=>{E.namespaceId==this.id&&E.triggerName==n&&E.queued&&E.destroy()});let b=o.matchTransition(d.value,h.value,e,h.params),w=!1;if(!b){if(!r)return;b=o.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:b,fromState:d,toState:h,player:a,isFallbackTransition:w}),w||(Wr(e,f$),a.onStart(()=>{rf(e,f$)})),a.onDone(()=>{let E=this.players.indexOf(a);E>=0&&this.players.splice(E,1);let T=this._engine.playersByElement.get(e);if(T){let O=T.indexOf(a);O>=0&&T.splice(O,1)}}),this.players.push(a),y.push(a),a}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let i=this._engine.driver.query(e,gC,!0);i.forEach(r=>{if(r[No])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,i,r){let o=this._engine.statesByElement.get(e),a=new Map;if(o){let l=[];if(o.forEach((d,h)=>{if(a.set(h,d.value),this._triggers.has(h)){let m=this.trigger(e,h,lv,r);m&&l.push(m)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,a),i&&Ac(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){let r=new Set;n.forEach(o=>{let a=o.name;if(r.has(a))return;r.add(a);let d=this._triggers.get(a).fallbackTransition,h=i.get(a)||aP,m=new hv(lv),v=new fv(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:d,fromState:h,toState:m,player:v,isFallbackTransition:!0})})}}removeNode(e,n){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let a=e;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,n);else{let o=e[No];(!o||o===A$)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,n))}}insertNode(e,n){Wr(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,a=this._elementListeners.get(o);a&&a.forEach(l=>{if(l.name==i.triggerName){let d=TP(o,i.triggerName,i.fromState.value,i.toState.value);d._data=e,SP(i.player,l.phase,d,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{let o=i.transition.ast.depCount,a=r.transition.ast.depCount;return o==0||a==0?o-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},CP=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,i,r){this.bodyNode=e,this.driver=n,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,a)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,n){let i=new bP(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,n){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,l=this.driver.getParentElement(n);for(;l;){let d=r.get(l);if(d){let h=i.indexOf(d);i.splice(h+1,0,e),a=!0;break}l=this.driver.getParentElement(l)}a||i.unshift(e)}else i.push(e);return r.set(n,e),e}register(e,n){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}registerTrigger(e,n,i){let r=this._namespaceLookup[e];r&&r.register(n,i)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&n.add(o)}}return n}trigger(e,n,i,r){if(pC(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,i,r),!0}return!1}insertNode(e,n,i,r){if(!pC(n))return;let o=n[No];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let a=this.collectedLeaveElements.indexOf(n);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){let a=this._fetchNamespace(e);a&&a.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Wr(e,sP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),rf(e,sP))}removeNode(e,n,i){if(pC(n)){this.scheduler?.notify();let r=e?this._fetchNamespace(e):null;r?r.removeNode(n,i):this.markElementAsRemoved(e,n,!1,i);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(e,n,i,r,o){this.collectedLeaveElements.push(n),n[No]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,i,r,o){return pC(n)?this._fetchNamespace(e).listen(n,i,r,o):()=>{}}_buildInstruction(e,n,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,gC,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,uP,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ac(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[No];if(n&&n.setForRemoval){if(e[No]=A$,n.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(sP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Ase,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Wr(r,xse)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{n=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],n.length?Ac(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw Koe(e)}_flushAnimations(e,n){let i=new dv,r=[],o=new Map,a=[],l=new Map,d=new Map,h=new Map,m=new Set;this.disabledNodes.forEach(H=>{m.add(H);let ne=this.driver.query(H,Dse,!0);for(let ue=0;ue<ne.length;ue++)m.add(ne[ue])});let v=this.bodyNode,y=Array.from(this.statesByElement.keys()),b=g$(y,this.collectedEnterElements),w=new Map,E=0;b.forEach((H,ne)=>{let ue=C$+E++;w.set(ne,ue),H.forEach(Pe=>Wr(Pe,ue))});let T=[],O=new Set,L=new Set;for(let H=0;H<this.collectedLeaveElements.length;H++){let ne=this.collectedLeaveElements[H],ue=ne[No];ue&&ue.setForRemoval&&(T.push(ne),O.add(ne),ue.hasAnimation?this.driver.query(ne,Mse,!0).forEach(Pe=>O.add(Pe)):L.add(ne))}let $=new Map,A=g$(y,Array.from(O));A.forEach((H,ne)=>{let ue=lP+E++;$.set(ne,ue),H.forEach(Pe=>Wr(Pe,ue))}),e.push(()=>{b.forEach((H,ne)=>{let ue=w.get(ne);H.forEach(Pe=>rf(Pe,ue))}),A.forEach((H,ne)=>{let ue=$.get(ne);H.forEach(Pe=>rf(Pe,ue))}),T.forEach(H=>{this.processLeaveNode(H)})});let ee=[],U=[];for(let H=this._namespaceList.length-1;H>=0;H--)this._namespaceList[H].drainQueuedTransitions(n).forEach(ue=>{let Pe=ue.player,tt=ue.element;if(ee.push(Pe),this.collectedEnterElements.length){let ct=tt[No];if(ct&&ct.setForMove){if(ct.previousTriggersValues&&ct.previousTriggersValues.has(ue.triggerName)){let Fn=ct.previousTriggersValues.get(ue.triggerName),on=this.statesByElement.get(ue.element);if(on&&on.has(ue.triggerName)){let ji=on.get(ue.triggerName);ji.value=Fn,on.set(ue.triggerName,ji)}}Pe.destroy();return}}let Dn=!v||!this.driver.containsElement(v,tt),Nt=$.get(tt),ei=w.get(tt),ht=this._buildInstruction(ue,i,ei,Nt,Dn);if(ht.errors&&ht.errors.length){U.push(ht);return}if(Dn){Pe.onStart(()=>vu(tt,ht.fromStyles)),Pe.onDestroy(()=>Ss(tt,ht.toStyles)),r.push(Pe);return}if(ue.isFallbackTransition){Pe.onStart(()=>vu(tt,ht.fromStyles)),Pe.onDestroy(()=>Ss(tt,ht.toStyles)),r.push(Pe);return}let Di=[];ht.timelines.forEach(ct=>{ct.stretchStartingKeyframe=!0,this.disabledNodes.has(ct.element)||Di.push(ct)}),ht.timelines=Di,i.append(tt,ht.timelines);let hr={instruction:ht,player:Pe,element:tt};a.push(hr),ht.queriedElements.forEach(ct=>Dr(l,ct,[]).push(Pe)),ht.preStyleProps.forEach((ct,Fn)=>{if(ct.size){let on=d.get(Fn);on||d.set(Fn,on=new Set),ct.forEach((ji,Rr)=>on.add(Rr))}}),ht.postStyleProps.forEach((ct,Fn)=>{let on=h.get(Fn);on||h.set(Fn,on=new Set),ct.forEach((ji,Rr)=>on.add(Rr))})});if(U.length){let H=[];U.forEach(ne=>{H.push(Yoe(ne.triggerName,ne.errors))}),ee.forEach(ne=>ne.destroy()),this.reportError(H)}let ie=new Map,Ce=new Map;a.forEach(H=>{let ne=H.element;i.has(ne)&&(Ce.set(ne,ne),this._beforeAnimationBuild(H.player.namespaceId,H.instruction,ie))}),r.forEach(H=>{let ne=H.element;this._getPreviousPlayers(ne,!1,H.namespaceId,H.triggerName,null).forEach(Pe=>{Dr(ie,ne,[]).push(Pe),Pe.destroy()})});let He=T.filter(H=>v$(H,d,h)),Xe=new Map;m$(Xe,this.driver,L,h,Is).forEach(H=>{v$(H,d,h)&&He.push(H)});let $e=new Map;b.forEach((H,ne)=>{m$($e,this.driver,new Set(H),d,uC)}),He.forEach(H=>{let ne=Xe.get(H),ue=$e.get(H);Xe.set(H,new Map([...ne?.entries()??[],...ue?.entries()??[]]))});let Te=[],rn=[],Ke={};a.forEach(H=>{let{element:ne,player:ue,instruction:Pe}=H;if(i.has(ne)){if(m.has(ne)){ue.onDestroy(()=>Ss(ne,Pe.toStyles)),ue.disabled=!0,ue.overrideTotalTime(Pe.totalTime),r.push(ue);return}let tt=Ke;if(Ce.size>1){let Nt=ne,ei=[];for(;Nt=Nt.parentNode;){let ht=Ce.get(Nt);if(ht){tt=ht;break}ei.push(Nt)}ei.forEach(ht=>Ce.set(ht,tt))}let Dn=this._buildAnimation(ue.namespaceId,Pe,ie,o,$e,Xe);if(ue.setRealPlayer(Dn),tt===Ke)Te.push(ue);else{let Nt=this.playersByElement.get(tt);Nt&&Nt.length&&(ue.parentPlayer=Ac(Nt)),r.push(ue)}}else vu(ne,Pe.fromStyles),ue.onDestroy(()=>Ss(ne,Pe.toStyles)),rn.push(ue),m.has(ne)&&r.push(ue)}),rn.forEach(H=>{let ne=o.get(H.element);if(ne&&ne.length){let ue=Ac(ne);H.setRealPlayer(ue)}}),r.forEach(H=>{H.parentPlayer?H.syncPlayerEvents(H.parentPlayer):H.destroy()});for(let H=0;H<T.length;H++){let ne=T[H],ue=ne[No];if(rf(ne,lP),ue&&ue.hasAnimation)continue;let Pe=[];if(l.size){let Dn=l.get(ne);Dn&&Dn.length&&Pe.push(...Dn);let Nt=this.driver.query(ne,uP,!0);for(let ei=0;ei<Nt.length;ei++){let ht=l.get(Nt[ei]);ht&&ht.length&&Pe.push(...ht)}}let tt=Pe.filter(Dn=>!Dn.destroyed);tt.length?Fse(this,ne,tt):this.processLeaveNode(ne)}return T.length=0,Te.forEach(H=>{this.players.push(H),H.onDone(()=>{H.destroy();let ne=this.players.indexOf(H);this.players.splice(ne,1)}),H.play()}),Te}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,i,r,o){let a=[];if(n){let l=this.playersByQueriedElement.get(e);l&&(a=l)}else{let l=this.playersByElement.get(e);if(l){let d=!o||o==lv;l.forEach(h=>{h.queued||!d&&h.triggerName!=r||a.push(h)})}}return(i||r)&&(a=a.filter(l=>!(i&&i!=l.namespaceId||r&&r!=l.triggerName))),a}_beforeAnimationBuild(e,n,i){let r=n.triggerName,o=n.element,a=n.isRemovalTransition?void 0:e,l=n.isRemovalTransition?void 0:r;for(let d of n.timelines){let h=d.element,m=h!==o,v=Dr(i,h,[]);this._getPreviousPlayers(h,m,a,l,n.toState).forEach(b=>{let w=b.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),b.destroy(),v.push(b)})}vu(o,n.fromStyles)}_buildAnimation(e,n,i,r,o,a){let l=n.triggerName,d=n.element,h=[],m=new Set,v=new Set,y=n.timelines.map(w=>{let E=w.element;m.add(E);let T=E[No];if(T&&T.removedBeforeQueried)return new Dc(w.duration,w.delay);let O=E!==d,L=Lse((i.get(E)||Pse).map(ie=>ie.getRealPlayer())).filter(ie=>{let Ce=ie;return Ce.element?Ce.element===E:!1}),$=o.get(E),A=a.get(E),ee=y$(this._normalizer,w.keyframes,$,A),U=this._buildPlayer(w,ee,L);if(w.subTimeline&&r&&v.add(E),O){let ie=new fv(e,l,E);ie.setRealPlayer(U),h.push(ie)}return U});h.forEach(w=>{Dr(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>Rse(this.playersByQueriedElement,w.element,w))}),m.forEach(w=>Wr(w,a$));let b=Ac(y);return b.onDestroy(()=>{m.forEach(w=>rf(w,a$)),Ss(d,n.toStyles)}),v.forEach(w=>{Dr(r,w,[]).push(b)}),b}_buildPlayer(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new Dc(e.duration,e.delay)}},fv=class{constructor(e,n,i){this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new Dc,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>SP(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Dr(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function Rse(t,e,n){let i=t.get(e);if(i){if(i.length){let r=i.indexOf(n);i.splice(r,1)}i.length==0&&t.delete(e)}return i}function Nse(t){return t??null}function pC(t){return t&&t.nodeType===1}function kse(t){return t=="start"||t=="done"}function p$(t,e){let n=t.style.display;return t.style.display=e??"none",n}function m$(t,e,n,i,r){let o=[];n.forEach(d=>o.push(p$(d)));let a=[];i.forEach((d,h)=>{let m=new Map;d.forEach(v=>{let y=e.computeStyle(h,v,r);m.set(v,y),(!y||y.length==0)&&(h[No]=Ose,a.push(h))}),t.set(h,m)});let l=0;return n.forEach(d=>p$(d,o[l++])),a}function g$(t,e){let n=new Map;if(t.forEach(l=>n.set(l,[])),e.length==0)return n;let i=1,r=new Set(e),o=new Map;function a(l){if(!l)return i;let d=o.get(l);if(d)return d;let h=l.parentNode;return n.has(h)?d=h:r.has(h)?d=i:d=a(h),o.set(l,d),d}return e.forEach(l=>{let d=a(l);d!==i&&n.get(d).push(l)}),n}function Wr(t,e){t.classList?.add(e)}function rf(t,e){t.classList?.remove(e)}function Fse(t,e,n){Ac(n).onDone(()=>t.processLeaveNode(e))}function Lse(t){let e=[];return x$(t,e),e}function x$(t,e){for(let n=0;n<t.length;n++){let i=t[n];i instanceof av?x$(i.players,e):e.push(i)}}function Vse(t,e){let n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){let o=n[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function v$(t,e,n){let i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(o=>r.add(o)):e.set(t,i),n.delete(t),!0}var sf=class{constructor(e,n,i,r){this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,a)=>{},this._transitionEngine=new CP(e.body,n,i,r),this._timelineEngine=new wP(e.body,n,i),this._transitionEngine.onRemovalComplete=(o,a)=>this.onRemovalComplete(o,a)}registerTrigger(e,n,i,r,o){let a=e+"-"+r,l=this._triggerCache[a];if(!l){let d=[],h=[],m=S$(this._driver,o,d,h);if(d.length)throw Voe(r,d);h.length&&void 0,l=Ise(r,m,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(n,r,l)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,i,r){this._transitionEngine.insertNode(e,n,i,r)}onRemove(e,n,i){this._transitionEngine.removeNode(e,n,i)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,i,r){if(i.charAt(0)=="@"){let[o,a]=o$(i),l=r;this._timelineEngine.command(o,n,a,l)}else this._transitionEngine.trigger(e,n,i,r)}listen(e,n,i,r,o){if(i.charAt(0)=="@"){let[a,l]=o$(i);return this._timelineEngine.listen(a,n,l,o)}return this._transitionEngine.listen(e,n,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function jse(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=cP(e[0]),e.length>1&&(i=cP(e[e.length-1]))):e instanceof Map&&(n=cP(e)),n||i?new EP(t,n,i):null}var of=class of{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=of.initialStylesByElement.get(e);r||of.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ss(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ss(this._element,this._initialStyles),this._endStyles&&(Ss(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(of.initialStylesByElement.delete(this._element),this._startStyles&&(vu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vu(this._element,this._endStyles),this._endStyles=null),Ss(this._element,this._initialStyles),this._state=3)}};of.initialStylesByElement=new WeakMap;var EP=of;function cP(t){let e=null;return t.forEach((n,i)=>{Use(i)&&(e=e||new Map,e.set(i,n))}),e}function Use(t){return t==="display"||t==="position"}var EC=class{constructor(e,n,i,r){this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(e,n,i){return e.animate(this._convertKeyframesToObject(n),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:MP(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},IC=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return _$(e,n)}getParentElement(e){return DP(e)}query(e,n,i){return w$(e,n,i)}computeStyle(e,n,i){return MP(e,n)}animate(e,n,i,r,o,a=[]){let l=r==0?"both":"forwards",d={duration:i,delay:r,fill:l};o&&(d.easing=o);let h=new Map,m=a.filter(b=>b instanceof EC);sse(i,r)&&m.forEach(b=>{b.currentSnapshot.forEach((w,E)=>h.set(E,w))});let v=ise(n).map(b=>new Map(b));v=ase(e,v,h);let y=jse(e,v);return new EC(e,v,d,y)}};var mC="@",M$="@.disabled",SC=class{constructor(e,n,i,r){this.namespaceId=e,this.delegate=n,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,i,r=!0){this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){n.charAt(0)==mC&&n==M$?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.delegate.listen(e,n,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},IP=class extends SC{constructor(e,n,i,r,o){super(n,i,r,o),this.factory=e,this.namespaceId=n}setProperty(e,n,i){n.charAt(0)==mC?n.charAt(1)=="."&&n==M$?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,n.slice(1),i):this.delegate.setProperty(e,n,i)}listen(e,n,i){if(n.charAt(0)==mC){let r=Bse(e),o=n.slice(1),a="";return o.charAt(0)!=mC&&([o,a]=$se(o)),this.engine.listen(this.namespaceId,r,o,a,l=>{let d=l._data||-1;this.factory.scheduleListenerCallback(d,i,l)})}return this.delegate.listen(e,n,i)}};function Bse(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function $se(t){let e=t.indexOf("."),n=t.substring(0,e),i=t.slice(e+1);return[n,i]}var TC=class{constructor(e,n,i){this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(r,o)=>{let a=o?.parentNode(r);a&&o.removeChild(a,r)}}createRenderer(e,n){let i="",r=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let h=this._rendererCache,m=h.get(r);if(!m){let v=()=>h.delete(r);m=new SC(i,r,this.engine,v),h.set(r,m)}return m}let o=n.id,a=n.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);let l=h=>{Array.isArray(h)?h.forEach(l):this.engine.registerTrigger(o,a,e,h.name,h)};return n.data.animation.forEach(l),new IP(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[a,l]=o;a(l)}),this._animationCallbacksBuffer=[]})}),r.push([n,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var Gse=(()=>{let e=class e extends sf{constructor(i,r,o){super(i,r,o,X(zp,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(re(wi),re(yu),re(_u))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();function zse(){return new yC}function qse(t,e,n){return new TC(t,e,n)}var P$=[{provide:_u,useFactory:zse},{provide:sf,useClass:Gse},{provide:El,useFactory:qse,deps:[cC,sf,_t]}],Wse=[{provide:yu,useFactory:()=>new IC},{provide:n1,useValue:"BrowserAnimations"},...P$],SEe=[{provide:yu,useClass:AP},{provide:n1,useValue:"NoopAnimations"},...P$];function O$(){return Tl("NgEagerAnimations"),[...Wse]}var Qe="primary",Av=Symbol("RouteTitle"),LP=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function df(t){return new LP(t)}function Kse(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let a=i[o],l=t[o];if(a.startsWith(":"))r[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Yse(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ts(t[n],e[n]))return!1;return!0}function Ts(t,e){let n=t?VP(t):void 0,i=e?VP(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!V$(t[r],e[r]))return!1;return!0}function VP(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function V$(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function j$(t){return t.length>0?t[t.length-1]:null}function Pc(t){return _S(t)?t:Al(t)?Wt(Promise.resolve(t)):Ne(t)}var Qse={exact:B$,subset:$$},U$={exact:Xse,subset:Jse,ignored:()=>!0};function R$(t,e,n){return Qse[n.paths](t.root,e.root,n.matrixParams)&&U$[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Xse(t,e){return Ts(t,e)}function B$(t,e,n){if(!bu(t.segments,e.segments)||!xC(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!B$(t.children[i],e.children[i],n))return!1;return!0}function Jse(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>V$(t[n],e[n]))}function $$(t,e,n){return H$(t,e,e.segments,n)}function H$(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!bu(r,n)||e.hasChildren()||!xC(r,n,i))}else if(t.segments.length===n.length){if(!bu(t.segments,n)||!xC(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!$$(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!bu(t.segments,r)||!xC(t.segments,r,i)||!t.children[Qe]?!1:H$(t.children[Qe],e,o,i)}}function xC(t,e,n){return e.every((i,r)=>U$[n](t[r].parameters,i.parameters))}var xc=class{constructor(e=new Lt([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=df(this.queryParams),this._queryParamMap}toString(){return tae.serialize(this)}},Lt=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return MC(this)}},wu=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=df(this.parameters),this._parameterMap}toString(){return z$(this)}};function Zse(t,e){return bu(t,e)&&t.every((n,i)=>Ts(n.parameters,e[i].parameters))}function bu(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function eae(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===Qe&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==Qe&&(n=n.concat(e(r,i)))}),n}var uO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>new OC,providedIn:"root"});let t=e;return t})(),OC=class{parse(e){let n=new UP(e);return new xc(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${pv(e.root,!0)}`,i=rae(e.queryParams),r=typeof e.fragment=="string"?`#${nae(e.fragment)}`:"";return`${n}${i}${r}`}},tae=new OC;function MC(t){return t.segments.map(e=>z$(e)).join("/")}function pv(t,e){if(!t.hasChildren())return MC(t);if(e){let n=t.children[Qe]?pv(t.children[Qe],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==Qe&&i.push(`${r}:${pv(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=eae(t,(i,r)=>r===Qe?[pv(t.children[Qe],!1)]:[`${r}:${pv(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[Qe]!=null?`${MC(t)}/${n[0]}`:`${MC(t)}/(${n.join("//")})`}}function G$(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function DC(t){return G$(t).replace(/%3B/gi,";")}function nae(t){return encodeURI(t)}function jP(t){return G$(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function PC(t){return decodeURIComponent(t)}function N$(t){return PC(t.replace(/\+/g,"%20"))}function z$(t){return`${jP(t.path)}${iae(t.parameters)}`}function iae(t){return Object.entries(t).map(([e,n])=>`;${jP(e)}=${jP(n)}`).join("")}function rae(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${DC(n)}=${DC(r)}`).join("&"):`${DC(n)}=${DC(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var oae=/^[^\/()?;#]+/;function RP(t){let e=t.match(oae);return e?e[0]:""}var sae=/^[^\/()?;=#]+/;function aae(t){let e=t.match(sae);return e?e[0]:""}var cae=/^[^=?&#]+/;function lae(t){let e=t.match(cae);return e?e[0]:""}var uae=/^[^&#]+/;function dae(t){let e=t.match(uae);return e?e[0]:""}var UP=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lt([],{}):new Lt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[Qe]=new Lt(e,n)),i}parseSegment(){let e=RP(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new J(4009,!1);return this.capture(e),new wu(PC(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=aae(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=RP(this.remaining);r&&(i=r,this.capture(i))}e[PC(n)]=PC(i)}parseQueryParam(e){let n=lae(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let a=dae(this.remaining);a&&(i=a,this.capture(i))}let r=N$(n),o=N$(i);if(e.hasOwnProperty(r)){let a=e[r];Array.isArray(a)||(a=[a],e[r]=a),a.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=RP(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new J(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Qe);let a=this.parseChildren();n[o]=Object.keys(a).length===1?a[Qe]:new Lt([],a),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new J(4011,!1)}};function q$(t){return t.segments.length>0?new Lt([],{[Qe]:t}):t}function W$(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=W$(r);if(i===Qe&&o.segments.length===0&&o.hasChildren())for(let[a,l]of Object.entries(o.children))e[a]=l;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new Lt(t.segments,e);return hae(n)}function hae(t){if(t.numberOfChildren===1&&t.children[Qe]){let e=t.children[Qe];return new Lt(t.segments.concat(e.segments),e.children)}return t}function hf(t){return t instanceof xc}function fae(t,e,n=null,i=null){let r=K$(t);return Y$(r,e,n,i)}function K$(t){let e;function n(o){let a={};for(let d of o.children){let h=n(d);a[d.outlet]=h}let l=new Lt(o.url,a);return o===t&&(e=l),l}let i=n(t.root),r=q$(i);return e??r}function Y$(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return NP(r,r,r,n,i);let o=pae(e);if(o.toRoot())return NP(r,r,new Lt([],{}),n,i);let a=mae(o,r,t),l=a.processChildren?vv(a.segmentGroup,a.index,o.commands):X$(a.segmentGroup,a.index,o.commands);return NP(r,a.segmentGroup,l,n,i)}function RC(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function wv(t){return typeof t=="object"&&t!=null&&t.outlets}function NP(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([d,h])=>{o[d]=Array.isArray(h)?h.map(m=>`${m}`):`${h}`});let a;t===e?a=n:a=Q$(t,e,n);let l=q$(W$(a));return new xc(l,o,r)}function Q$(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=Q$(o,e,n)}),new Lt(t.segments,i)}var NC=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&RC(i[0]))throw new J(4003,!1);let r=i.find(wv);if(r&&r!==j$(i))throw new J(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function pae(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new NC(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([d,h])=>{l[d]=typeof h=="string"?h.split("/"):h}),[...r,{outlets:l}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:a===0?(o.split("/").forEach((l,d)=>{d==0&&l==="."||(d==0&&l===""?n=!0:l===".."?e++:l!=""&&r.push(l))}),r):[...r,o]},[]);return new NC(n,e,i)}var lf=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function mae(t,e,n){if(t.isAbsolute)return new lf(e,!0,0);if(!n)return new lf(e,!1,NaN);if(n.parent===null)return new lf(n,!0,0);let i=RC(t.commands[0])?0:1,r=n.segments.length-1+i;return gae(n,r,t.numberOfDoubleDots)}function gae(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new J(4005,!1);r=i.segments.length}return new lf(i,!1,r-o)}function vae(t){return wv(t[0])?t[0].outlets:{[Qe]:t}}function X$(t,e,n){if(t??=new Lt([],{}),t.segments.length===0&&t.hasChildren())return vv(t,e,n);let i=yae(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new Lt(t.segments.slice(0,i.pathIndex),{});return o.children[Qe]=new Lt(t.segments.slice(i.pathIndex),t.children),vv(o,0,r)}else return i.match&&r.length===0?new Lt(t.segments,{}):i.match&&!t.hasChildren()?BP(t,e,n):i.match?vv(t,0,r):BP(t,e,n)}function vv(t,e,n){if(n.length===0)return new Lt(t.segments,{});{let i=vae(n),r={};if(Object.keys(i).some(o=>o!==Qe)&&t.children[Qe]&&t.numberOfChildren===1&&t.children[Qe].segments.length===0){let o=vv(t.children[Qe],e,n);return new Lt(t.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[o]=X$(t.children[o],e,a))}),Object.entries(t.children).forEach(([o,a])=>{i[o]===void 0&&(r[o]=a)}),new Lt(t.segments,r)}}function yae(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let a=t.segments[r],l=n[i];if(wv(l))break;let d=`${l}`,h=i<n.length-1?n[i+1]:null;if(r>0&&d===void 0)break;if(d&&h&&typeof h=="object"&&h.outlets===void 0){if(!F$(d,h,a))return o;i+=2}else{if(!F$(d,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function BP(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(wv(o)){let d=_ae(o.outlets);return new Lt(i,d)}if(r===0&&RC(n[0])){let d=t.segments[e];i.push(new wu(d.path,k$(n[0]))),r++;continue}let a=wv(o)?o.outlets[Qe]:`${o}`,l=r<n.length-1?n[r+1]:null;a&&l&&RC(l)?(i.push(new wu(a,k$(l))),r+=2):(i.push(new wu(a,{})),r++)}return new Lt(i,{})}function _ae(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=BP(new Lt([],{}),0,i))}),e}function k$(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function F$(t,e,n){return t==n.path&&Ts(e,n.parameters)}var yv="imperative",Si=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Si||{}),Yr=class{constructor(e,n){this.id=e,this.url=n}},bv=class extends Yr{constructor(e,n,i="imperative",r=null){super(e,n),this.type=Si.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ya=class extends Yr{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=Si.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Kr=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Kr||{}),$P=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}($P||{}),Mc=class extends Yr{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Si.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Cu=class extends Yr{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Si.NavigationSkipped}},Cv=class extends Yr{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=Si.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},kC=class extends Yr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Si.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},HP=class extends Yr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Si.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},GP=class extends Yr{constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Si.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},zP=class extends Yr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Si.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qP=class extends Yr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Si.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},WP=class{constructor(e){this.route=e,this.type=Si.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},KP=class{constructor(e){this.route=e,this.type=Si.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},YP=class{constructor(e){this.snapshot=e,this.type=Si.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},QP=class{constructor(e){this.snapshot=e,this.type=Si.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},XP=class{constructor(e){this.snapshot=e,this.type=Si.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},JP=class{constructor(e){this.snapshot=e,this.type=Si.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ev=class{},Iv=class{constructor(e){this.url=e}};var ZP=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new BC,this.attachRef=null}},BC=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new ZP,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),FC=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=eO(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=eO(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=tO(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return tO(e,this._root).map(n=>n.value)}};function eO(t,e){if(t===e.value)return e;for(let n of e.children){let i=eO(t,n);if(i)return i}return null}function tO(t,e){if(t===e.value)return[e];for(let n of e.children){let i=tO(t,n);if(i.length)return i.unshift(e),i}return[]}var Ar=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function cf(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var LC=class extends FC{constructor(e,n){super(e),this.snapshot=n,hO(this,e)}toString(){return this.snapshot.toString()}};function J$(t){let e=wae(t),n=new Yn([new wu("",{})]),i=new Yn({}),r=new Yn({}),o=new Yn({}),a=new Yn(""),l=new er(n,i,o,a,r,Qe,t,e.root);return l.snapshot=e.root,new LC(new Ar(l,[]),e)}function wae(t){let e={},n={},i={},r="",o=new Sv([],e,i,r,n,Qe,t,null,{});return new VC("",new Ar(o,[]))}var er=class{constructor(e,n,i,r,o,a,l,d){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=l,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(ke(h=>h[Av]))??Ne(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ke(e=>df(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ke(e=>df(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function dO(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:te(te({},e.params),t.params),data:te(te({},e.data),t.data),resolve:te(te(te(te({},t.data),e.data),r?.data),t._resolvedData)}:i={params:te({},t.params),data:te({},t.data),resolve:te(te({},t.data),t._resolvedData??{})},r&&e9(r)&&(i.resolve[Av]=r.title),i}var Sv=class{get title(){return this.data?.[Av]}constructor(e,n,i,r,o,a,l,d,h){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=l,this.routeConfig=d,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=df(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=df(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},VC=class extends FC{constructor(e,n){super(n),this.url=e,hO(this,n)}toString(){return Z$(this._root)}};function hO(t,e){e.value._routerState=t,e.children.forEach(n=>hO(t,n))}function Z$(t){let e=t.children.length>0?` { ${t.children.map(Z$).join(", ")} } `:"";return`${t.value}${e}`}function kP(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ts(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ts(e.params,n.params)||t.paramsSubject.next(n.params),Yse(e.url,n.url)||t.urlSubject.next(n.url),Ts(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function nO(t,e){let n=Ts(t.params,e.params)&&Zse(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||nO(t.parent,e.parent))}function e9(t){return typeof t.title=="string"||t.title===null}var xv=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Qe,this.activateEvents=new $t,this.deactivateEvents=new $t,this.attachEvents=new $t,this.detachEvents=new $t,this.parentContexts=X(BC),this.location=X(_i),this.changeDetector=X(na),this.environmentInjector=X(li),this.inputBinder=X(fO,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new J(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new J(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new J(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new J(4013,!1);this._activatedRoute=i;let o=this.location,l=i.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,h=new iO(i,d,o.injector);this.activated=o.createComponent(l,{index:o.length,injector:h,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Tt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_o]});let t=e;return t})(),iO=class{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===er?this.route:e===BC?this.childContexts:this.parent.get(e,n)}},fO=new ye("");function bae(t,e,n){let i=Tv(t,e._root,n?n._root:void 0);return new LC(i,e)}function Tv(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=Cae(t,e,n);return new Ar(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(l=>Tv(t,l)),a}}let i=Eae(e.value),r=e.children.map(o=>Tv(t,o));return new Ar(i,r)}}function Cae(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Tv(t,i,r);return Tv(t,i)})}function Eae(t){return new er(new Yn(t.url),new Yn(t.params),new Yn(t.queryParams),new Yn(t.fragment),new Yn(t.data),t.outlet,t.component,t)}var t9="ngNavigationCancelingError";function n9(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=hf(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=i9(!1,Kr.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function i9(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[t9]=!0,n.cancellationCode=e,n}function Iae(t){return r9(t)&&hf(t.url)}function r9(t){return!!t&&t[t9]}var Sae=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=he({type:e,selectors:[["ng-component"]],standalone:!0,features:[be],decls:1,vars:0,template:function(r,o){r&1&&oe(0,"router-outlet")},dependencies:[xv],encapsulation:2});let t=e;return t})();function Tae(t,e){return t.providers&&!t._injector&&(t._injector=I1(t.providers,e,`Route: ${t.path}`)),t._injector??e}function pO(t){let e=t.children&&t.children.map(pO),n=e?It(te({},t),{children:e}):te({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Qe&&(n.component=Sae),n}function Ds(t){return t.outlet||Qe}function Dae(t,e){let n=t.filter(i=>Ds(i)===e);return n.push(...t.filter(i=>Ds(i)!==e)),n}function Mv(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Aae=(t,e,n,i)=>ke(r=>(new rO(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),rO=class{constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),kP(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=cf(n);e.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(e,n,a.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=cf(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);if(i&&i.outlet){let a=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:l})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=cf(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=cf(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new JP(o.value.snapshot))}),e.children.length&&this.forwardEvent(new QP(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(kP(r),r===o)if(r.component){let a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,a.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),kP(l.route.value),this.activateChildRoutes(e,null,a.children)}else{let l=Mv(r.snapshot);a.attachRef=null,a.route=r,a.injector=l,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,i)}},jC=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},uf=class{constructor(e,n){this.component=e,this.route=n}};function xae(t,e,n){let i=t._root,r=e?e._root:null;return mv(i,r,n,[i.value])}function Mae(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function mf(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!NV(t)?t:e.get(t):i}function mv(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=cf(e);return t.children.forEach(a=>{Pae(a,o[a.value.outlet],n,i.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,l])=>_v(l,n.getContext(a),r)),r}function Pae(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,a=e?e.value:null,l=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let d=Oae(a,o,o.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new jC(i)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?mv(t,e,l?l.children:null,i,r):mv(t,e,n,i,r),d&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new uf(l.outlet.component,a))}else a&&_v(e,l,r),r.canActivateChecks.push(new jC(i)),o.component?mv(t,null,l?l.children:null,i,r):mv(t,null,n,i,r);return r}function Oae(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!bu(t.url,e.url);case"pathParamsOrQueryParamsChange":return!bu(t.url,e.url)||!Ts(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nO(t,e)||!Ts(t.queryParams,e.queryParams);case"paramsChange":default:return!nO(t,e)}}function _v(t,e,n){let i=cf(t),r=t.value;Object.entries(i).forEach(([o,a])=>{r.component?e?_v(a,e.children.getContext(o),n):_v(a,null,n):_v(a,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new uf(e.outlet.component,r)):n.canDeactivateChecks.push(new uf(null,r)):n.canDeactivateChecks.push(new uf(null,r))}function Pv(t){return typeof t=="function"}function Rae(t){return typeof t=="boolean"}function Nae(t){return t&&Pv(t.canLoad)}function kae(t){return t&&Pv(t.canActivate)}function Fae(t){return t&&Pv(t.canActivateChild)}function Lae(t){return t&&Pv(t.canDeactivate)}function Vae(t){return t&&Pv(t.canMatch)}function o9(t){return t instanceof wr||t?.name==="EmptyError"}var AC=Symbol("INITIAL_VALUE");function ff(){return xi(t=>$_(t.map(e=>e.pipe(Hs(1),TS(AC)))).pipe(ke(e=>{for(let n of e)if(n!==!0){if(n===AC)return AC;if(n===!1||n instanceof xc)return n}return!0}),ci(e=>e!==AC),Hs(1)))}function jae(t,e){return On(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return a.length===0&&o.length===0?Ne(It(te({},n),{guardsResult:!0})):Uae(a,i,r,t).pipe(On(l=>l&&Rae(l)?Bae(i,o,t,e):Ne(l)),ke(l=>It(te({},n),{guardsResult:l})))})}function Uae(t,e,n,i){return Wt(t).pipe(On(r=>qae(r.component,r.route,n,e,i)),Qo(r=>r!==!0,!0))}function Bae(t,e,n,i){return Wt(e).pipe(Ka(r=>Vd(Hae(r.route.parent,i),$ae(r.route,i),zae(t,r.path,n),Gae(t,r.route,n))),Qo(r=>r!==!0,!0))}function $ae(t,e){return t!==null&&e&&e(new XP(t)),Ne(!0)}function Hae(t,e){return t!==null&&e&&e(new YP(t)),Ne(!0)}function Gae(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return Ne(!0);let r=i.map(o=>H_(()=>{let a=Mv(e)??n,l=mf(o,a),d=kae(l)?l.canActivate(e,t):Zs(a,()=>l(e,t));return Pc(d).pipe(Qo())}));return Ne(r).pipe(ff())}function zae(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>Mae(a)).filter(a=>a!==null).map(a=>H_(()=>{let l=a.guards.map(d=>{let h=Mv(a.node)??n,m=mf(d,h),v=Fae(m)?m.canActivateChild(i,t):Zs(h,()=>m(i,t));return Pc(v).pipe(Qo())});return Ne(l).pipe(ff())}));return Ne(o).pipe(ff())}function qae(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Ne(!0);let a=o.map(l=>{let d=Mv(e)??r,h=mf(l,d),m=Lae(h)?h.canDeactivate(t,e,n,i):Zs(d,()=>h(t,e,n,i));return Pc(m).pipe(Qo())});return Ne(a).pipe(ff())}function Wae(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return Ne(!0);let o=r.map(a=>{let l=mf(a,t),d=Nae(l)?l.canLoad(e,n):Zs(t,()=>l(e,n));return Pc(d)});return Ne(o).pipe(ff(),s9(i))}function s9(t){return dS(Rn(e=>{if(hf(e))throw n9(t,e)}),ke(e=>e===!0))}function Kae(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return Ne(!0);let o=r.map(a=>{let l=mf(a,t),d=Vae(l)?l.canMatch(e,n):Zs(t,()=>l(e,n));return Pc(d)});return Ne(o).pipe(ff(),s9(i))}var Dv=class{constructor(e){this.segmentGroup=e||null}},UC=class extends Error{constructor(e){super(),this.urlTree=e}};function af(t){return Fd(new Dv(t))}function Yae(t){return Fd(new J(4e3,!1))}function Qae(t){return Fd(i9(!1,Kr.GuardRejected))}var oO=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Ne(i);if(r.numberOfChildren>1||!r.children[Qe])return Yae(e.redirectTo);r=r.children[Qe]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new UC(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new xc(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let l=o.substring(1);i[r]=n[l]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),a={};return Object.entries(n.children).forEach(([l,d])=>{a[l]=this.createSegmentGroup(e,d,i,r)}),new Lt(o,a)}createSegments(e,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new J(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},sO={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Xae(t,e,n,i,r){let o=mO(t,e,n);return o.matched?(i=Tae(e,i),Kae(i,e,n,r).pipe(ke(a=>a===!0?o:te({},sO)))):Ne(o)}function mO(t,e,n){if(e.path==="**")return Jae(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?te({},sO):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||Kse)(n,t,e);if(!r)return te({},sO);let o={};Object.entries(r.posParams??{}).forEach(([l,d])=>{o[l]=d.path});let a=r.consumed.length>0?te(te({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function Jae(t){return{matched:!0,parameters:t.length>0?j$(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function L$(t,e,n,i){return n.length>0&&tce(t,n,i)?{segmentGroup:new Lt(e,ece(i,new Lt(n,t.children))),slicedSegments:[]}:n.length===0&&nce(t,n,i)?{segmentGroup:new Lt(t.segments,Zae(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Lt(t.segments,t.children),slicedSegments:n}}function Zae(t,e,n,i){let r={};for(let o of n)if($C(t,e,o)&&!i[Ds(o)]){let a=new Lt([],{});r[Ds(o)]=a}return te(te({},i),r)}function ece(t,e){let n={};n[Qe]=e;for(let i of t)if(i.path===""&&Ds(i)!==Qe){let r=new Lt([],{});n[Ds(i)]=r}return n}function tce(t,e,n){return n.some(i=>$C(t,e,i)&&Ds(i)!==Qe)}function nce(t,e,n){return n.some(i=>$C(t,e,i))}function $C(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function ice(t,e,n,i){return Ds(t)!==i&&(i===Qe||!$C(e,n,t))?!1:mO(e,t,n).matched}function rce(t,e,n){return e.length===0&&!t.children[n]}var aO=class{};function oce(t,e,n,i,r,o,a="emptyOnly"){return new cO(t,e,n,i,r,a,o).recognize()}var sce=31,cO=class{constructor(e,n,i,r,o,a,l){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=l,this.applyRedirects=new oO(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new J(4002,`'${e.segmentGroup}'`)}recognize(){let e=L$(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ke(n=>{let i=new Sv([],Object.freeze({}),Object.freeze(te({},this.urlTree.queryParams)),this.urlTree.fragment,{},Qe,this.rootComponentType,null,{}),r=new Ar(i,n),o=new VC("",r),a=fae(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(o._root,null),{state:o,tree:a}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Qe).pipe(Yo(i=>{if(i instanceof UC)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Dv?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=dO(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(ke(o=>o instanceof Ar?[o]:[]))}processChildren(e,n,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return Wt(r).pipe(Ka(o=>{let a=i.children[o],l=Dae(n,o);return this.processSegmentGroup(e,l,a,o)}),IS((o,a)=>(o.push(...a),o)),Ya(null),ES(),On(o=>{if(o===null)return af(i);let a=a9(o);return ace(a),Ne(a)}))}processSegment(e,n,i,r,o,a){return Wt(n).pipe(Ka(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,i,r,o,a).pipe(Yo(d=>{if(d instanceof Dv)return Ne(null);throw d}))),Qo(l=>!!l),Yo(l=>{if(o9(l))return rce(i,r,o)?Ne(new aO):af(i);throw l}))}processSegmentAgainstRoute(e,n,i,r,o,a,l){return ice(i,r,o,a)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,a):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,a):af(r):af(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,a){let{matched:l,consumedSegments:d,positionalParamSegments:h,remainingSegments:m}=mO(n,r,o);if(!l)return af(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>sce&&(this.allowRedirects=!1));let v=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,h);return this.applyRedirects.lineralizeSegments(r,v).pipe(On(y=>this.processSegment(e,i,n,y.concat(m),a,!1)))}matchSegmentAgainstRoute(e,n,i,r,o){let a=Xae(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(xi(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(xi(({routes:d})=>{let h=i._loadedInjector??e,{consumedSegments:m,remainingSegments:v,parameters:y}=l,b=new Sv(m,y,Object.freeze(te({},this.urlTree.queryParams)),this.urlTree.fragment,lce(i),Ds(i),i.component??i._loadedComponent??null,i,uce(i)),{segmentGroup:w,slicedSegments:E}=L$(n,m,v,d);if(E.length===0&&w.hasChildren())return this.processChildren(h,d,w).pipe(ke(O=>O===null?null:new Ar(b,O)));if(d.length===0&&E.length===0)return Ne(new Ar(b,[]));let T=Ds(i)===o;return this.processSegment(h,d,w,E,T?Qe:o,!0).pipe(ke(O=>new Ar(b,O instanceof Ar?[O]:[])))}))):af(n)))}getChildConfig(e,n,i){return n.children?Ne({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Ne({routes:n._loadedRoutes,injector:n._loadedInjector}):Wae(e,n,i,this.urlSerializer).pipe(On(r=>r?this.configLoader.loadChildren(e,n).pipe(Rn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Qae(n))):Ne({routes:[],injector:e})}};function ace(t){t.sort((e,n)=>e.value.outlet===Qe?-1:n.value.outlet===Qe?1:e.value.outlet.localeCompare(n.value.outlet))}function cce(t){let e=t.value.routeConfig;return e&&e.path===""}function a9(t){let e=[],n=new Set;for(let i of t){if(!cce(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=a9(i.children);e.push(new Ar(i.value,r))}return e.filter(i=>!n.has(i))}function lce(t){return t.data||{}}function uce(t){return t.resolve||{}}function dce(t,e,n,i,r,o){return On(a=>oce(t,e,n,i,a.extractedUrl,r,o).pipe(ke(({state:l,tree:d})=>It(te({},a),{targetSnapshot:l,urlAfterRedirects:d}))))}function hce(t,e){return On(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Ne(n);let o=new Set(r.map(d=>d.route)),a=new Set;for(let d of o)if(!a.has(d))for(let h of c9(d))a.add(h);let l=0;return Wt(a).pipe(Ka(d=>o.has(d)?fce(d,i,t,e):(d.data=dO(d,d.parent,t).resolve,Ne(void 0))),Rn(()=>l++),Ud(1),On(d=>l===a.size?Ne(n):rr))})}function c9(t){let e=t.children.map(n=>c9(n)).flat();return[t,...e]}function fce(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!e9(r)&&(o[Av]=r.title),pce(o,t,e,i).pipe(ke(a=>(t._resolvedData=a,t.data=dO(t,t.parent,n).resolve,null)))}function pce(t,e,n,i){let r=VP(t);if(r.length===0)return Ne({});let o={};return Wt(r).pipe(On(a=>mce(t[a],e,n,i).pipe(Qo(),Rn(l=>{o[a]=l}))),Ud(1),CS(o),Yo(a=>o9(a)?rr:Fd(a)))}function mce(t,e,n,i){let r=Mv(e)??i,o=mf(t,r),a=o.resolve?o.resolve(e,n):Zs(r,()=>o(e,n));return Pc(a)}function FP(t){return xi(e=>{let n=t(e);return n?Wt(n).pipe(ke(()=>e)):Ne(e)})}var l9=(()=>{let e=class e{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(a=>a.outlet===Qe);return r}getResolvedTitleForRoute(i){return i.data[Av]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>X(gce),providedIn:"root"});let t=e;return t})(),gce=(()=>{let e=class e extends l9{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(re(e$))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),HC=new ye("",{providedIn:"root",factory:()=>({})}),gO=new ye(""),vce=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=X(T1)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Ne(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=Pc(i.loadComponent()).pipe(ke(u9),Rn(a=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=a}),pl(()=>{this.componentLoaders.delete(i)})),o=new Md(r,()=>new ai).pipe(xd());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let a=yce(r,this.compiler,i,this.onLoadEndListener).pipe(pl(()=>{this.childrenLoaders.delete(r)})),l=new Md(a,()=>new ai).pipe(xd());return this.childrenLoaders.set(r,l),l}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yce(t,e,n,i){return Pc(t.loadChildren()).pipe(ke(u9),On(r=>r instanceof qp||Array.isArray(r)?Ne(r):Wt(e.compileModuleAsync(r))),ke(r=>{i&&i(t);let o,a,l=!1;return Array.isArray(r)?(a=r,l=!0):(o=r.create(n).injector,a=o.get(gO,[],{optional:!0,self:!0}).flat()),{routes:a.map(pO),injector:o}}))}function _ce(t){return t&&typeof t=="object"&&"default"in t}function u9(t){return _ce(t)?t.default:t}var vO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>X(wce),providedIn:"root"});let t=e;return t})(),wce=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bce=new ye("");var Cce=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ai,this.transitionAbortSubject=new ai,this.configLoader=X(vce),this.environmentInjector=X(li),this.urlSerializer=X(uO),this.rootContexts=X(BC),this.location=X(im),this.inputBindingEnabled=X(fO,{optional:!0})!==null,this.titleStrategy=X(l9),this.options=X(HC,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=X(vO),this.createViewTransition=X(bce,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ne(void 0),this.rootComponentType=null;let i=o=>this.events.next(new WP(o)),r=o=>this.events.next(new KP(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(It(te(te({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new Yn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yv,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ci(a=>a.id!==0),ke(a=>It(te({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),xi(a=>{this.currentTransition=a;let l=!1,d=!1;return Ne(a).pipe(Rn(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?It(te({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),xi(h=>{let m=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),v=h.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!m&&v!=="reload"){let y="";return this.events.next(new Cu(h.id,this.urlSerializer.serialize(h.rawUrl),y,$P.IgnoredSameUrlNavigation)),h.resolve(null),rr}if(this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Ne(h).pipe(xi(y=>{let b=this.transitions?.getValue();return this.events.next(new bv(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),b!==this.transitions?.getValue()?rr:Promise.resolve(y)}),dce(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Rn(y=>{a.targetSnapshot=y.targetSnapshot,a.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=It(te({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let b=new kC(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(b)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(h.currentRawUrl)){let{id:y,extractedUrl:b,source:w,restoredState:E,extras:T}=h,O=new bv(y,this.urlSerializer.serialize(b),w,E);this.events.next(O);let L=J$(this.rootComponentType).snapshot;return this.currentTransition=a=It(te({},h),{targetSnapshot:L,urlAfterRedirects:b,extras:It(te({},T),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=b,Ne(a)}else{let y="";return this.events.next(new Cu(h.id,this.urlSerializer.serialize(h.extractedUrl),y,$P.IgnoredByUrlHandlingStrategy)),h.resolve(null),rr}}),Rn(h=>{let m=new HP(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}),ke(h=>(this.currentTransition=a=It(te({},h),{guards:xae(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),a)),jae(this.environmentInjector,h=>this.events.next(h)),Rn(h=>{if(a.guardsResult=h.guardsResult,hf(h.guardsResult))throw n9(this.urlSerializer,h.guardsResult);let m=new GP(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.events.next(m)}),ci(h=>h.guardsResult?!0:(this.cancelNavigationTransition(h,"",Kr.GuardRejected),!1)),FP(h=>{if(h.guards.canActivateChecks.length)return Ne(h).pipe(Rn(m=>{let v=new zP(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}),xi(m=>{let v=!1;return Ne(m).pipe(hce(this.paramsInheritanceStrategy,this.environmentInjector),Rn({next:()=>v=!0,complete:()=>{v||this.cancelNavigationTransition(m,"",Kr.NoDataFromResolver)}}))}),Rn(m=>{let v=new qP(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}))}),FP(h=>{let m=v=>{let y=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(v.routeConfig).pipe(Rn(b=>{v.component=b}),ke(()=>{})));for(let b of v.children)y.push(...m(b));return y};return $_(m(h.targetSnapshot.root)).pipe(Ya(null),Hs(1))}),FP(()=>this.afterPreactivation()),xi(()=>{let{currentSnapshot:h,targetSnapshot:m}=a,v=this.createViewTransition?.(this.environmentInjector,h.root,m.root);return v?Wt(v).pipe(ke(()=>a)):Ne(a)}),ke(h=>{let m=bae(i.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return this.currentTransition=a=It(te({},h),{targetRouterState:m}),this.currentNavigation.targetRouterState=m,a}),Rn(()=>{this.events.next(new Ev)}),Aae(this.rootContexts,i.routeReuseStrategy,h=>this.events.next(h),this.inputBindingEnabled),Hs(1),Rn({next:h=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ya(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects))),this.titleStrategy?.updateTitle(h.targetRouterState.snapshot),h.resolve(!0)},complete:()=>{l=!0}}),fo(this.transitionAbortSubject.pipe(Rn(h=>{throw h}))),pl(()=>{!l&&!d&&this.cancelNavigationTransition(a,"",Kr.SupersededByNewNavigation),this.currentTransition?.id===a.id&&(this.currentNavigation=null,this.currentTransition=null)}),Yo(h=>{if(d=!0,r9(h))this.events.next(new Mc(a.id,this.urlSerializer.serialize(a.extractedUrl),h.message,h.cancellationCode)),Iae(h)?this.events.next(new Iv(h.url)):a.resolve(!1);else{this.events.next(new Cv(a.id,this.urlSerializer.serialize(a.extractedUrl),h,a.targetSnapshot??void 0));try{a.resolve(i.errorHandler(h))}catch(m){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(m)}}return rr}))}))}cancelNavigationTransition(i,r,o){let a=new Mc(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(a),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ece(t){return t!==yv}var Ice=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>X(Sce),providedIn:"root"});let t=e;return t})(),lO=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Sce=(()=>{let e=class e extends lO{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ar(e)))(o||e)}})(),e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),d9=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>X(Tce),providedIn:"root"});let t=e;return t})(),Tce=(()=>{let e=class e extends d9{constructor(){super(...arguments),this.location=X(im),this.urlSerializer=X(uO),this.options=X(HC,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=X(vO),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new xc,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=J$(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof bv)this.stateMemento=this.createStateMemento();else if(i instanceof Cu)this.rawUrlTree=r.initialUrl;else if(i instanceof kC){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else i instanceof Ev?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof Mc&&(i.code===Kr.GuardRejected||i.code===Kr.NoDataFromResolver)?this.restoreHistory(r):i instanceof Cv?this.restoreHistory(r,!0):i instanceof ya&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let a=this.browserPageId,l=te(te({},r.extras.state),this.generateNgRouterState(r.id,a));this.location.replaceState(o,"",l)}else{let a=te(te({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",a)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,a=this.currentPageId-o;a!==0?this.location.historyGo(a):this.currentUrlTree===i.finalUrl&&a===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ar(e)))(o||e)}})(),e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gv=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(gv||{});function Dce(t,e){t.events.pipe(ci(n=>n instanceof ya||n instanceof Mc||n instanceof Cv||n instanceof Cu),ke(n=>n instanceof ya||n instanceof Cu?gv.COMPLETE:(n instanceof Mc?n.code===Kr.Redirect||n.code===Kr.SupersededByNewNavigation:!1)?gv.REDIRECTING:gv.FAILED),ci(n=>n!==gv.REDIRECTING),Hs(1)).subscribe(()=>{e()})}function Ace(t){throw t}var xce={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Mce={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},pi=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=X(Y0),this.stateManager=X(d9),this.options=X(HC,{optional:!0})||{},this.pendingTasks=X(Dl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=X(Cce),this.urlSerializer=X(uO),this.location=X(im),this.urlHandlingStrategy=X(vO),this._events=new ai,this.errorHandler=this.options.errorHandler||Ace,this.navigated=!1,this.routeReuseStrategy=X(Ice),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=X(gO,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!X(fO,{optional:!0}),this.eventsSubscription=new Pn,this.isNgZoneEnabled=X(_t)instanceof _t&&_t.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(o!==null&&a!==null){if(this.stateManager.handleRouterEvent(r,a),r instanceof Mc&&r.code!==Kr.Redirect&&r.code!==Kr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ya)this.navigated=!0;else if(r instanceof Iv){let l=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),d={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Ece(o.source)};this.scheduleNavigation(l,yv,null,d,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Oce(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),yv,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let a={replaceUrl:!0},l=o?.navigationId?o:null;if(o){let h=te({},o);delete h.navigationId,delete h.\u0275routerPageId,Object.keys(h).length!==0&&(a.state=h)}let d=this.parseUrl(i);this.scheduleNavigation(d,r,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(pO),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:a,fragment:l,queryParamsHandling:d,preserveFragment:h}=r,m=h?this.currentUrlTree.fragment:l,v=null;switch(d){case"merge":v=te(te({},this.currentUrlTree.queryParams),a);break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=a||null}v!==null&&(v=this.removeEmptyProps(v));let y;try{let b=o?o.snapshot:this.routerState.snapshot.root;y=K$(b)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),y=this.currentUrlTree.root}return Y$(y,i,v,m??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=hf(i)?i:this.parseUrl(i),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,yv,null,r)}navigate(i,r={skipLocationChange:!1}){return Pce(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=te({},xce):r===!1?o=te({},Mce):o=r,hf(i))return R$(this.currentUrlTree,i,o);let a=this.parseUrl(i);return R$(this.currentUrlTree,a,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,a])=>(a!=null&&(r[o]=a),r),{})}scheduleNavigation(i,r,o,a,l){if(this.disposed)return Promise.resolve(!1);let d,h,m;l?(d=l.resolve,h=l.reject,m=l.promise):m=new Promise((y,b)=>{d=y,h=b});let v=this.pendingTasks.add();return Dce(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(v))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:a,resolve:d,reject:h,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(y=>Promise.reject(y))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Pce(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new J(4008,!1)}function Oce(t){return!(t instanceof Ev)&&!(t instanceof Iv)}var pf=(()=>{let e=class e{constructor(i,r,o,a,l,d){this.router=i,this.route=r,this.tabIndexAttribute=o,this.renderer=a,this.el=l,this.locationStrategy=d,this.href=null,this.commands=null,this.onChanges=new ai,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let h=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement=h==="a"||h==="area",this.isAnchorElement?this.subscription=i.events.subscribe(m=>{m instanceof ya&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,o,a,l){let d=this.urlTree;if(d===null||this.isAnchorElement&&(i!==0||r||o||a||l||typeof this.target=="string"&&this.target!="_self"))return!0;let h={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(d,h),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:E3(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let o=this.renderer,a=this.el.nativeElement;r!==null?o.setAttribute(a,i,r):o.removeAttribute(a,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(N(pi),N(er),c1("tabindex"),N(bo),N(Zt),N(ah))},e.\u0275dir=Tt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&R("click",function(l){return o.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),r&2&&G0("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Ae.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Xi],skipLocationChange:[Ae.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Xi],replaceUrl:[Ae.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Xi],routerLink:"routerLink"},standalone:!0,features:[tm,_o]});let t=e;return t})(),h9=(()=>{let e=class e{get isActive(){return this._isActive}constructor(i,r,o,a,l){this.router=i,this.element=r,this.renderer=o,this.cdr=a,this.link=l,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new $t,this.routerEventsSubscription=i.events.subscribe(d=>{d instanceof ya&&this.update()})}ngAfterContentInit(){Ne(this.links.changes,Ne(null)).pipe(Wa()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let i=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Wt(i).pipe(Wa()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(i){let r=Array.isArray(i)?i:i.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let i=this.hasActiveLinks();this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.classes.forEach(r=>{i?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),i&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(i))})}isLinkActive(i){let r=Rce(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let a=o.urlTree;return a?i.isActive(a,r):!1}}hasActiveLinks(){let i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}};e.\u0275fac=function(r){return new(r||e)(N(pi),N(Zt),N(bo),N(na),N(pf,8))},e.\u0275dir=Tt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,a){if(r&1&&wj(a,pf,5),r&2){let l;q0(l=W0())&&(o.links=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[_o]});let t=e;return t})();function Rce(t){return!!t.paths}var Nce=new ye("");function f9(t,...e){return rc([{provide:gO,multi:!0,useValue:t},[],{provide:er,useFactory:kce,deps:[pi]},{provide:Q0,multi:!0,useFactory:Lce},e.map(n=>n.\u0275providers)])}function kce(t){return t.routerState.root}function Fce(t,e){return{\u0275kind:t,\u0275providers:e}}function Lce(){let t=X(Kt);return e=>{let n=t.get(ss);if(e!==n.components[0])return;let i=t.get(pi),r=t.get(Vce);t.get(jce)===1&&i.initialNavigation(),t.get(Uce,null,rt.Optional)?.setUpPreloading(),t.get(Nce,null,rt.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Vce=new ye("",{factory:()=>new ai}),jce=new ye("",{providedIn:"root",factory:()=>1});var Uce=new ye("");function p9(t){return Fce(5,[{provide:HC,useValue:t}])}var Sn="top",Jn="bottom",qn="right",kn="left",GC="auto",Oc=[Sn,Jn,qn,kn],_a="start",Eu="end",m9="clippingParents",zC="viewport",gf="popper",g9="reference",yO=Oc.reduce(function(t,e){return t.concat([e+"-"+_a,e+"-"+Eu])},[]),qC=[].concat(Oc,[GC]).reduce(function(t,e){return t.concat([e,e+"-"+_a,e+"-"+Eu])},[]),Bce="beforeRead",$ce="read",Hce="afterRead",Gce="beforeMain",zce="main",qce="afterMain",Wce="beforeWrite",Kce="write",Yce="afterWrite",v9=[Bce,$ce,Hce,Gce,zce,qce,Wce,Kce,Yce];function mi(t){return t?(t.nodeName||"").toLowerCase():null}function cn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Qr(t){var e=cn(t).Element;return t instanceof e||t instanceof Element}function Zn(t){var e=cn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function vf(t){if(typeof ShadowRoot>"u")return!1;var e=cn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Qce(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},o=e.elements[n];!Zn(o)||!mi(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(a){var l=r[a];l===!1?o.removeAttribute(a):o.setAttribute(a,l===!0?"":l)}))})}function Xce(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],o=e.attributes[i]||{},a=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),l=a.reduce(function(d,h){return d[h]="",d},{});!Zn(r)||!mi(r)||(Object.assign(r.style,l),Object.keys(o).forEach(function(d){r.removeAttribute(d)}))})}}var Rv={name:"applyStyles",enabled:!0,phase:"write",fn:Qce,effect:Xce,requires:["computeStyles"]};function gi(t){return t.split("-")[0]}var ko=Math.max,Iu=Math.min,wa=Math.round;function yf(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Nv(){return!/^((?!chrome|android).)*safari/i.test(yf())}function Xr(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),r=1,o=1;e&&Zn(t)&&(r=t.offsetWidth>0&&wa(i.width)/t.offsetWidth||1,o=t.offsetHeight>0&&wa(i.height)/t.offsetHeight||1);var a=Qr(t)?cn(t):window,l=a.visualViewport,d=!Nv()&&n,h=(i.left+(d&&l?l.offsetLeft:0))/r,m=(i.top+(d&&l?l.offsetTop:0))/o,v=i.width/r,y=i.height/o;return{width:v,height:y,top:m,right:h+v,bottom:m+y,left:h,x:h,y:m}}function Su(t){var e=Xr(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function kv(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&vf(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function tr(t){return cn(t).getComputedStyle(t)}function _O(t){return["table","td","th"].indexOf(mi(t))>=0}function Ti(t){return((Qr(t)?t.ownerDocument:t.document)||window.document).documentElement}function ba(t){return mi(t)==="html"?t:t.assignedSlot||t.parentNode||(vf(t)?t.host:null)||Ti(t)}function y9(t){return!Zn(t)||tr(t).position==="fixed"?null:t.offsetParent}function Jce(t){var e=/firefox/i.test(yf()),n=/Trident/i.test(yf());if(n&&Zn(t)){var i=tr(t);if(i.position==="fixed")return null}var r=ba(t);for(vf(r)&&(r=r.host);Zn(r)&&["html","body"].indexOf(mi(r))<0;){var o=tr(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function Fo(t){for(var e=cn(t),n=y9(t);n&&_O(n)&&tr(n).position==="static";)n=y9(n);return n&&(mi(n)==="html"||mi(n)==="body"&&tr(n).position==="static")?e:n||Jce(t)||e}function Tu(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Du(t,e,n){return ko(t,Iu(e,n))}function _9(t,e,n){var i=Du(t,e,n);return i>n?n:i}function Fv(){return{top:0,right:0,bottom:0,left:0}}function Lv(t){return Object.assign({},Fv(),t)}function Vv(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var Zce=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Lv(typeof e!="number"?e:Vv(e,Oc))};function ele(t){var e,n=t.state,i=t.name,r=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,l=gi(n.placement),d=Tu(l),h=[kn,qn].indexOf(l)>=0,m=h?"height":"width";if(!(!o||!a)){var v=Zce(r.padding,n),y=Su(o),b=d==="y"?Sn:kn,w=d==="y"?Jn:qn,E=n.rects.reference[m]+n.rects.reference[d]-a[d]-n.rects.popper[m],T=a[d]-n.rects.reference[d],O=Fo(o),L=O?d==="y"?O.clientHeight||0:O.clientWidth||0:0,$=E/2-T/2,A=v[b],ee=L-y[m]-v[w],U=L/2-y[m]/2+$,ie=Du(A,U,ee),Ce=d;n.modifiersData[i]=(e={},e[Ce]=ie,e.centerOffset=ie-U,e)}}function tle(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||kv(e.elements.popper,r)&&(e.elements.arrow=r))}var w9={name:"arrow",enabled:!0,phase:"main",fn:ele,effect:tle,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Jr(t){return t.split("-")[1]}var nle={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ile(t,e){var n=t.x,i=t.y,r=e.devicePixelRatio||1;return{x:wa(n*r)/r||0,y:wa(i*r)/r||0}}function b9(t){var e,n=t.popper,i=t.popperRect,r=t.placement,o=t.variation,a=t.offsets,l=t.position,d=t.gpuAcceleration,h=t.adaptive,m=t.roundOffsets,v=t.isFixed,y=a.x,b=y===void 0?0:y,w=a.y,E=w===void 0?0:w,T=typeof m=="function"?m({x:b,y:E}):{x:b,y:E};b=T.x,E=T.y;var O=a.hasOwnProperty("x"),L=a.hasOwnProperty("y"),$=kn,A=Sn,ee=window;if(h){var U=Fo(n),ie="clientHeight",Ce="clientWidth";if(U===cn(n)&&(U=Ti(n),tr(U).position!=="static"&&l==="absolute"&&(ie="scrollHeight",Ce="scrollWidth")),U=U,r===Sn||(r===kn||r===qn)&&o===Eu){A=Jn;var He=v&&U===ee&&ee.visualViewport?ee.visualViewport.height:U[ie];E-=He-i.height,E*=d?1:-1}if(r===kn||(r===Sn||r===Jn)&&o===Eu){$=qn;var Xe=v&&U===ee&&ee.visualViewport?ee.visualViewport.width:U[Ce];b-=Xe-i.width,b*=d?1:-1}}var Ie=Object.assign({position:l},h&&nle),$e=m===!0?ile({x:b,y:E},cn(n)):{x:b,y:E};if(b=$e.x,E=$e.y,d){var Te;return Object.assign({},Ie,(Te={},Te[A]=L?"0":"",Te[$]=O?"0":"",Te.transform=(ee.devicePixelRatio||1)<=1?"translate("+b+"px, "+E+"px)":"translate3d("+b+"px, "+E+"px, 0)",Te))}return Object.assign({},Ie,(e={},e[A]=L?E+"px":"",e[$]=O?b+"px":"",e.transform="",e))}function rle(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,o=n.adaptive,a=o===void 0?!0:o,l=n.roundOffsets,d=l===void 0?!0:l,h={placement:gi(e.placement),variation:Jr(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,b9(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,b9(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var C9={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:rle,data:{}};var WC={passive:!0};function ole(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,o=r===void 0?!0:r,a=i.resize,l=a===void 0?!0:a,d=cn(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&h.forEach(function(m){m.addEventListener("scroll",n.update,WC)}),l&&d.addEventListener("resize",n.update,WC),function(){o&&h.forEach(function(m){m.removeEventListener("scroll",n.update,WC)}),l&&d.removeEventListener("resize",n.update,WC)}}var E9={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ole,data:{}};var sle={left:"right",right:"left",bottom:"top",top:"bottom"};function _f(t){return t.replace(/left|right|bottom|top/g,function(e){return sle[e]})}var ale={start:"end",end:"start"};function KC(t){return t.replace(/start|end/g,function(e){return ale[e]})}function Au(t){var e=cn(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function xu(t){return Xr(Ti(t)).left+Au(t).scrollLeft}function wO(t,e){var n=cn(t),i=Ti(t),r=n.visualViewport,o=i.clientWidth,a=i.clientHeight,l=0,d=0;if(r){o=r.width,a=r.height;var h=Nv();(h||!h&&e==="fixed")&&(l=r.offsetLeft,d=r.offsetTop)}return{width:o,height:a,x:l+xu(t),y:d}}function bO(t){var e,n=Ti(t),i=Au(t),r=(e=t.ownerDocument)==null?void 0:e.body,o=ko(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=ko(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-i.scrollLeft+xu(t),d=-i.scrollTop;return tr(r||n).direction==="rtl"&&(l+=ko(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:a,x:l,y:d}}function Mu(t){var e=tr(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function YC(t){return["html","body","#document"].indexOf(mi(t))>=0?t.ownerDocument.body:Zn(t)&&Mu(t)?t:YC(ba(t))}function Rc(t,e){var n;e===void 0&&(e=[]);var i=YC(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),o=cn(i),a=r?[o].concat(o.visualViewport||[],Mu(i)?i:[]):i,l=e.concat(a);return r?l:l.concat(Rc(ba(a)))}function wf(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function cle(t,e){var n=Xr(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function I9(t,e,n){return e===zC?wf(wO(t,n)):Qr(e)?cle(e,n):wf(bO(Ti(t)))}function lle(t){var e=Rc(ba(t)),n=["absolute","fixed"].indexOf(tr(t).position)>=0,i=n&&Zn(t)?Fo(t):t;return Qr(i)?e.filter(function(r){return Qr(r)&&kv(r,i)&&mi(r)!=="body"}):[]}function CO(t,e,n,i){var r=e==="clippingParents"?lle(t):[].concat(e),o=[].concat(r,[n]),a=o[0],l=o.reduce(function(d,h){var m=I9(t,h,i);return d.top=ko(m.top,d.top),d.right=Iu(m.right,d.right),d.bottom=Iu(m.bottom,d.bottom),d.left=ko(m.left,d.left),d},I9(t,a,i));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function jv(t){var e=t.reference,n=t.element,i=t.placement,r=i?gi(i):null,o=i?Jr(i):null,a=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,d;switch(r){case Sn:d={x:a,y:e.y-n.height};break;case Jn:d={x:a,y:e.y+e.height};break;case qn:d={x:e.x+e.width,y:l};break;case kn:d={x:e.x-n.width,y:l};break;default:d={x:e.x,y:e.y}}var h=r?Tu(r):null;if(h!=null){var m=h==="y"?"height":"width";switch(o){case _a:d[h]=d[h]-(e[m]/2-n[m]/2);break;case Eu:d[h]=d[h]+(e[m]/2-n[m]/2);break;default:}}return d}function Lo(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,o=n.strategy,a=o===void 0?t.strategy:o,l=n.boundary,d=l===void 0?m9:l,h=n.rootBoundary,m=h===void 0?zC:h,v=n.elementContext,y=v===void 0?gf:v,b=n.altBoundary,w=b===void 0?!1:b,E=n.padding,T=E===void 0?0:E,O=Lv(typeof T!="number"?T:Vv(T,Oc)),L=y===gf?g9:gf,$=t.rects.popper,A=t.elements[w?L:y],ee=CO(Qr(A)?A:A.contextElement||Ti(t.elements.popper),d,m,a),U=Xr(t.elements.reference),ie=jv({reference:U,element:$,strategy:"absolute",placement:r}),Ce=wf(Object.assign({},$,ie)),He=y===gf?Ce:U,Xe={top:ee.top-He.top+O.top,bottom:He.bottom-ee.bottom+O.bottom,left:ee.left-He.left+O.left,right:He.right-ee.right+O.right},Ie=t.modifiersData.offset;if(y===gf&&Ie){var $e=Ie[r];Object.keys(Xe).forEach(function(Te){var rn=[qn,Jn].indexOf(Te)>=0?1:-1,Ke=[Sn,Jn].indexOf(Te)>=0?"y":"x";Xe[Te]+=$e[Ke]*rn})}return Xe}function EO(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,o=n.rootBoundary,a=n.padding,l=n.flipVariations,d=n.allowedAutoPlacements,h=d===void 0?qC:d,m=Jr(i),v=m?l?yO:yO.filter(function(w){return Jr(w)===m}):Oc,y=v.filter(function(w){return h.indexOf(w)>=0});y.length===0&&(y=v);var b=y.reduce(function(w,E){return w[E]=Lo(t,{placement:E,boundary:r,rootBoundary:o,padding:a})[gi(E)],w},{});return Object.keys(b).sort(function(w,E){return b[w]-b[E]})}function ule(t){if(gi(t)===GC)return[];var e=_f(t);return[KC(t),e,KC(e)]}function dle(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,o=r===void 0?!0:r,a=n.altAxis,l=a===void 0?!0:a,d=n.fallbackPlacements,h=n.padding,m=n.boundary,v=n.rootBoundary,y=n.altBoundary,b=n.flipVariations,w=b===void 0?!0:b,E=n.allowedAutoPlacements,T=e.options.placement,O=gi(T),L=O===T,$=d||(L||!w?[_f(T)]:ule(T)),A=[T].concat($).reduce(function(ht,Di){return ht.concat(gi(Di)===GC?EO(e,{placement:Di,boundary:m,rootBoundary:v,padding:h,flipVariations:w,allowedAutoPlacements:E}):Di)},[]),ee=e.rects.reference,U=e.rects.popper,ie=new Map,Ce=!0,He=A[0],Xe=0;Xe<A.length;Xe++){var Ie=A[Xe],$e=gi(Ie),Te=Jr(Ie)===_a,rn=[Sn,Jn].indexOf($e)>=0,Ke=rn?"width":"height",H=Lo(e,{placement:Ie,boundary:m,rootBoundary:v,altBoundary:y,padding:h}),ne=rn?Te?qn:kn:Te?Jn:Sn;ee[Ke]>U[Ke]&&(ne=_f(ne));var ue=_f(ne),Pe=[];if(o&&Pe.push(H[$e]<=0),l&&Pe.push(H[ne]<=0,H[ue]<=0),Pe.every(function(ht){return ht})){He=Ie,Ce=!1;break}ie.set(Ie,Pe)}if(Ce)for(var tt=w?3:1,Dn=function(Di){var hr=A.find(function(ct){var Fn=ie.get(ct);if(Fn)return Fn.slice(0,Di).every(function(on){return on})});if(hr)return He=hr,"break"},Nt=tt;Nt>0;Nt--){var ei=Dn(Nt);if(ei==="break")break}e.placement!==He&&(e.modifiersData[i]._skip=!0,e.placement=He,e.reset=!0)}}var S9={name:"flip",enabled:!0,phase:"main",fn:dle,requiresIfExists:["offset"],data:{_skip:!1}};function T9(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function D9(t){return[Sn,qn,Jn,kn].some(function(e){return t[e]>=0})}function hle(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,a=Lo(e,{elementContext:"reference"}),l=Lo(e,{altBoundary:!0}),d=T9(a,i),h=T9(l,r,o),m=D9(d),v=D9(h);e.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:h,isReferenceHidden:m,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":v})}var A9={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hle};function fle(t,e,n){var i=gi(t),r=[kn,Sn].indexOf(i)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],l=o[1];return a=a||0,l=(l||0)*r,[kn,qn].indexOf(i)>=0?{x:l,y:a}:{x:a,y:l}}function ple(t){var e=t.state,n=t.options,i=t.name,r=n.offset,o=r===void 0?[0,0]:r,a=qC.reduce(function(m,v){return m[v]=fle(v,e.rects,o),m},{}),l=a[e.placement],d=l.x,h=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=h),e.modifiersData[i]=a}var x9={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ple};function mle(t){var e=t.state,n=t.name;e.modifiersData[n]=jv({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var M9={name:"popperOffsets",enabled:!0,phase:"read",fn:mle,data:{}};function IO(t){return t==="x"?"y":"x"}function gle(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,o=r===void 0?!0:r,a=n.altAxis,l=a===void 0?!1:a,d=n.boundary,h=n.rootBoundary,m=n.altBoundary,v=n.padding,y=n.tether,b=y===void 0?!0:y,w=n.tetherOffset,E=w===void 0?0:w,T=Lo(e,{boundary:d,rootBoundary:h,padding:v,altBoundary:m}),O=gi(e.placement),L=Jr(e.placement),$=!L,A=Tu(O),ee=IO(A),U=e.modifiersData.popperOffsets,ie=e.rects.reference,Ce=e.rects.popper,He=typeof E=="function"?E(Object.assign({},e.rects,{placement:e.placement})):E,Xe=typeof He=="number"?{mainAxis:He,altAxis:He}:Object.assign({mainAxis:0,altAxis:0},He),Ie=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,$e={x:0,y:0};if(U){if(o){var Te,rn=A==="y"?Sn:kn,Ke=A==="y"?Jn:qn,H=A==="y"?"height":"width",ne=U[A],ue=ne+T[rn],Pe=ne-T[Ke],tt=b?-Ce[H]/2:0,Dn=L===_a?ie[H]:Ce[H],Nt=L===_a?-Ce[H]:-ie[H],ei=e.elements.arrow,ht=b&&ei?Su(ei):{width:0,height:0},Di=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Fv(),hr=Di[rn],ct=Di[Ke],Fn=Du(0,ie[H],ht[H]),on=$?ie[H]/2-tt-Fn-hr-Xe.mainAxis:Dn-Fn-hr-Xe.mainAxis,ji=$?-ie[H]/2+tt+Fn+ct+Xe.mainAxis:Nt+Fn+ct+Xe.mainAxis,Rr=e.elements.arrow&&Fo(e.elements.arrow),Bc=Rr?A==="y"?Rr.clientTop||0:Rr.clientLeft||0:0,Ca=(Te=Ie?.[A])!=null?Te:0,Lu=ne+on-Ca-Bc,ti=ne+ji-Ca,$c=Du(b?Iu(ue,Lu):ue,ne,b?ko(Pe,ti):Pe);U[A]=$c,$e[A]=$c-ne}if(l){var Hc,Vu=A==="x"?Sn:kn,ju=A==="x"?Jn:qn,no=U[ee],Uo=ee==="y"?"height":"width",Gc=no+T[Vu],io=no-T[ju],Nr=[Sn,kn].indexOf(O)!==-1,zc=(Hc=Ie?.[ee])!=null?Hc:0,Ea=Nr?Gc:no-ie[Uo]-Ce[Uo]-zc+Xe.altAxis,qc=Nr?no+ie[Uo]+Ce[Uo]-zc-Xe.altAxis:io,Ns=b&&Nr?_9(Ea,no,qc):Du(b?Ea:Gc,no,b?qc:io);U[ee]=Ns,$e[ee]=Ns-no}e.modifiersData[i]=$e}}var P9={name:"preventOverflow",enabled:!0,phase:"main",fn:gle,requiresIfExists:["offset"]};function SO(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function TO(t){return t===cn(t)||!Zn(t)?Au(t):SO(t)}function vle(t){var e=t.getBoundingClientRect(),n=wa(e.width)/t.offsetWidth||1,i=wa(e.height)/t.offsetHeight||1;return n!==1||i!==1}function DO(t,e,n){n===void 0&&(n=!1);var i=Zn(e),r=Zn(e)&&vle(e),o=Ti(e),a=Xr(t,r,n),l={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(i||!i&&!n)&&((mi(e)!=="body"||Mu(o))&&(l=TO(e)),Zn(e)?(d=Xr(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):o&&(d.x=xu(o))),{x:a.left+l.scrollLeft-d.x,y:a.top+l.scrollTop-d.y,width:a.width,height:a.height}}function yle(t){var e=new Map,n=new Set,i=[];t.forEach(function(o){e.set(o.name,o)});function r(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var d=e.get(l);d&&r(d)}}),i.push(o)}return t.forEach(function(o){n.has(o.name)||r(o)}),i}function AO(t){var e=yle(t);return v9.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function xO(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function MO(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var O9={placement:"bottom",modifiers:[],strategy:"absolute"};function R9(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function N9(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,o=r===void 0?O9:r;return function(l,d,h){h===void 0&&(h=o);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},O9,o),modifiersData:{},elements:{reference:l,popper:d},attributes:{},styles:{}},v=[],y=!1,b={state:m,setOptions:function(O){var L=typeof O=="function"?O(m.options):O;E(),m.options=Object.assign({},o,m.options,L),m.scrollParents={reference:Qr(l)?Rc(l):l.contextElement?Rc(l.contextElement):[],popper:Rc(d)};var $=AO(MO([].concat(i,m.options.modifiers)));return m.orderedModifiers=$.filter(function(A){return A.enabled}),w(),b.update()},forceUpdate:function(){if(!y){var O=m.elements,L=O.reference,$=O.popper;if(R9(L,$)){m.rects={reference:DO(L,Fo($),m.options.strategy==="fixed"),popper:Su($)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(Xe){return m.modifiersData[Xe.name]=Object.assign({},Xe.data)});for(var A=0;A<m.orderedModifiers.length;A++){if(m.reset===!0){m.reset=!1,A=-1;continue}var ee=m.orderedModifiers[A],U=ee.fn,ie=ee.options,Ce=ie===void 0?{}:ie,He=ee.name;typeof U=="function"&&(m=U({state:m,options:Ce,name:He,instance:b})||m)}}}},update:xO(function(){return new Promise(function(T){b.forceUpdate(),T(m)})}),destroy:function(){E(),y=!0}};if(!R9(l,d))return b;b.setOptions(h).then(function(T){!y&&h.onFirstUpdate&&h.onFirstUpdate(T)});function w(){m.orderedModifiers.forEach(function(T){var O=T.name,L=T.options,$=L===void 0?{}:L,A=T.effect;if(typeof A=="function"){var ee=A({state:m,name:O,instance:b,options:$}),U=function(){};v.push(ee||U)}})}function E(){v.forEach(function(T){return T()}),v=[]}return b}}var _le=[E9,M9,C9,Rv,x9,S9,P9,w9,A9],PO=N9({defaultModifiers:_le});var wle="tippy-box",G9="tippy-content",ble="tippy-backdrop",z9="tippy-arrow",q9="tippy-svg-arrow",Pu={passive:!0,capture:!0},W9=function(){return document.body};function OO(t,e,n){if(Array.isArray(t)){var i=t[e];return i??(Array.isArray(n)?n[e]:n)}return t}function VO(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function K9(t,e){return typeof t=="function"?t.apply(void 0,e):t}function k9(t,e){if(e===0)return t;var n;return function(i){clearTimeout(n),n=setTimeout(function(){t(i)},e)}}function Cle(t){return t.split(/\s+/).filter(Boolean)}function bf(t){return[].concat(t)}function F9(t,e){t.indexOf(e)===-1&&t.push(e)}function Ele(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function Ile(t){return t.split("-")[0]}function XC(t){return[].slice.call(t)}function L9(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Uv(){return document.createElement("div")}function JC(t){return["Element","Fragment"].some(function(e){return VO(t,e)})}function Sle(t){return VO(t,"NodeList")}function Tle(t){return VO(t,"MouseEvent")}function Dle(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function Ale(t){return JC(t)?[t]:Sle(t)?XC(t):Array.isArray(t)?t:XC(document.querySelectorAll(t))}function RO(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function V9(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function xle(t){var e,n=bf(t),i=n[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function Mle(t,e){var n=e.clientX,i=e.clientY;return t.every(function(r){var o=r.popperRect,a=r.popperState,l=r.props,d=l.interactiveBorder,h=Ile(a.placement),m=a.modifiersData.offset;if(!m)return!0;var v=h==="bottom"?m.top.y:0,y=h==="top"?m.bottom.y:0,b=h==="right"?m.left.x:0,w=h==="left"?m.right.x:0,E=o.top-i+v>d,T=i-o.bottom-y>d,O=o.left-n+b>d,L=n-o.right-w>d;return E||T||O||L})}function NO(t,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){t[i](r,n)})}function j9(t,e){for(var n=e;n;){var i;if(t.contains(n))return!0;n=n.getRootNode==null||(i=n.getRootNode())==null?void 0:i.host}return!1}var As={isTouch:!1},U9=0;function Ple(){As.isTouch||(As.isTouch=!0,window.performance&&document.addEventListener("mousemove",Y9))}function Y9(){var t=performance.now();t-U9<20&&(As.isTouch=!1,document.removeEventListener("mousemove",Y9)),U9=t}function Ole(){var t=document.activeElement;if(Dle(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function Rle(){document.addEventListener("touchstart",Ple,Pu),window.addEventListener("blur",Ole)}var Nle=typeof window<"u"&&typeof document<"u",kle=Nle?!!window.msCrypto:!1;var Fle={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Lle={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Vo=Object.assign({appendTo:W9,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Fle,Lle),Vle=Object.keys(Vo),jle=function(e){var n=Object.keys(e);n.forEach(function(i){Vo[i]=e[i]})};function Q9(t){var e=t.plugins||[],n=e.reduce(function(i,r){var o=r.name,a=r.defaultValue;if(o){var l;i[o]=t[o]!==void 0?t[o]:(l=Vo[o])!=null?l:a}return i},{});return Object.assign({},t,n)}function Ule(t,e){var n=e?Object.keys(Q9(Object.assign({},Vo,{plugins:e}))):Vle,i=n.reduce(function(r,o){var a=(t.getAttribute("data-tippy-"+o)||"").trim();if(!a)return r;if(o==="content")r[o]=a;else try{r[o]=JSON.parse(a)}catch{r[o]=a}return r},{});return i}function B9(t,e){var n=Object.assign({},e,{content:K9(e.content,[t])},e.ignoreAttributes?{}:Ule(t,e.plugins));return n.aria=Object.assign({},Vo.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var Ble=function(){return"innerHTML"};function FO(t,e){t[Ble()]=e}function $9(t){var e=Uv();return t===!0?e.className=z9:(e.className=q9,JC(t)?e.appendChild(t):FO(e,t)),e}function H9(t,e){JC(e.content)?(FO(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?FO(t,e.content):t.textContent=e.content)}function LO(t){var e=t.firstElementChild,n=XC(e.children);return{box:e,content:n.find(function(i){return i.classList.contains(G9)}),arrow:n.find(function(i){return i.classList.contains(z9)||i.classList.contains(q9)}),backdrop:n.find(function(i){return i.classList.contains(ble)})}}function X9(t){var e=Uv(),n=Uv();n.className=wle,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=Uv();i.className=G9,i.setAttribute("data-state","hidden"),H9(i,t.props),e.appendChild(n),n.appendChild(i),r(t.props,t.props);function r(o,a){var l=LO(e),d=l.box,h=l.content,m=l.arrow;a.theme?d.setAttribute("data-theme",a.theme):d.removeAttribute("data-theme"),typeof a.animation=="string"?d.setAttribute("data-animation",a.animation):d.removeAttribute("data-animation"),a.inertia?d.setAttribute("data-inertia",""):d.removeAttribute("data-inertia"),d.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?d.setAttribute("role",a.role):d.removeAttribute("role"),(o.content!==a.content||o.allowHTML!==a.allowHTML)&&H9(h,t.props),a.arrow?m?o.arrow!==a.arrow&&(d.removeChild(m),d.appendChild($9(a.arrow))):d.appendChild($9(a.arrow)):m&&d.removeChild(m)}return{popper:e,onUpdate:r}}X9.$$tippy=!0;var $le=1,QC=[],kO=[];function Hle(t,e){var n=B9(t,Object.assign({},Vo,Q9(L9(e)))),i,r,o,a=!1,l=!1,d=!1,h=!1,m,v,y,b=[],w=k9(Lu,n.interactiveDebounce),E,T=$le++,O=null,L=Ele(n.plugins),$={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},A={id:T,reference:t,popper:Uv(),popperInstance:O,props:n,state:$,plugins:L,clearDelayTimeouts:Ea,setProps:qc,setContent:Ns,show:Ia,hide:ks,hideWithInteractivity:ey,enable:Nr,disable:zc,unmount:CE,destroy:EE};if(!n.render)return A;var ee=n.render(A),U=ee.popper,ie=ee.onUpdate;U.setAttribute("data-tippy-root",""),U.id="tippy-"+A.id,A.popper=U,t._tippy=A,U._tippy=A;var Ce=L.map(function(B){return B.fn(A)}),He=t.hasAttribute("aria-expanded");return Rr(),tt(),ne(),ue("onCreate",[A]),n.showOnCreate&&Gc(),U.addEventListener("mouseenter",function(){A.props.interactive&&A.state.isVisible&&A.clearDelayTimeouts()}),U.addEventListener("mouseleave",function(){A.props.interactive&&A.props.trigger.indexOf("mouseenter")>=0&&rn().addEventListener("mousemove",w)}),A;function Xe(){var B=A.props.touch;return Array.isArray(B)?B:[B,0]}function Ie(){return Xe()[0]==="hold"}function $e(){var B;return!!((B=A.props.render)!=null&&B.$$tippy)}function Te(){return E||t}function rn(){var B=Te().parentNode;return B?xle(B):document}function Ke(){return LO(U)}function H(B){return A.state.isMounted&&!A.state.isVisible||As.isTouch||m&&m.type==="focus"?0:OO(A.props.delay,B?0:1,Vo.delay)}function ne(B){B===void 0&&(B=!1),U.style.pointerEvents=A.props.interactive&&!B?"":"none",U.style.zIndex=""+A.props.zIndex}function ue(B,fe,Se){if(Se===void 0&&(Se=!0),Ce.forEach(function(ft){ft[B]&&ft[B].apply(ft,fe)}),Se){var Mt;(Mt=A.props)[B].apply(Mt,fe)}}function Pe(){var B=A.props.aria;if(B.content){var fe="aria-"+B.content,Se=U.id,Mt=bf(A.props.triggerTarget||t);Mt.forEach(function(ft){var ni=ft.getAttribute(fe);if(A.state.isVisible)ft.setAttribute(fe,ni?ni+" "+Se:Se);else{var Ui=ni&&ni.replace(Se,"").trim();Ui?ft.setAttribute(fe,Ui):ft.removeAttribute(fe)}})}}function tt(){if(!(He||!A.props.aria.expanded)){var B=bf(A.props.triggerTarget||t);B.forEach(function(fe){A.props.interactive?fe.setAttribute("aria-expanded",A.state.isVisible&&fe===Te()?"true":"false"):fe.removeAttribute("aria-expanded")})}}function Dn(){rn().removeEventListener("mousemove",w),QC=QC.filter(function(B){return B!==w})}function Nt(B){if(!(As.isTouch&&(d||B.type==="mousedown"))){var fe=B.composedPath&&B.composedPath()[0]||B.target;if(!(A.props.interactive&&j9(U,fe))){if(bf(A.props.triggerTarget||t).some(function(Se){return j9(Se,fe)})){if(As.isTouch||A.state.isVisible&&A.props.trigger.indexOf("click")>=0)return}else ue("onClickOutside",[A,B]);A.props.hideOnClick===!0&&(A.clearDelayTimeouts(),A.hide(),l=!0,setTimeout(function(){l=!1}),A.state.isMounted||hr())}}}function ei(){d=!0}function ht(){d=!1}function Di(){var B=rn();B.addEventListener("mousedown",Nt,!0),B.addEventListener("touchend",Nt,Pu),B.addEventListener("touchstart",ht,Pu),B.addEventListener("touchmove",ei,Pu)}function hr(){var B=rn();B.removeEventListener("mousedown",Nt,!0),B.removeEventListener("touchend",Nt,Pu),B.removeEventListener("touchstart",ht,Pu),B.removeEventListener("touchmove",ei,Pu)}function ct(B,fe){on(B,function(){!A.state.isVisible&&U.parentNode&&U.parentNode.contains(U)&&fe()})}function Fn(B,fe){on(B,fe)}function on(B,fe){var Se=Ke().box;function Mt(ft){ft.target===Se&&(NO(Se,"remove",Mt),fe())}if(B===0)return fe();NO(Se,"remove",v),NO(Se,"add",Mt),v=Mt}function ji(B,fe,Se){Se===void 0&&(Se=!1);var Mt=bf(A.props.triggerTarget||t);Mt.forEach(function(ft){ft.addEventListener(B,fe,Se),b.push({node:ft,eventType:B,handler:fe,options:Se})})}function Rr(){Ie()&&(ji("touchstart",Ca,{passive:!0}),ji("touchend",ti,{passive:!0})),Cle(A.props.trigger).forEach(function(B){if(B!=="manual")switch(ji(B,Ca),B){case"mouseenter":ji("mouseleave",ti);break;case"focus":ji(kle?"focusout":"blur",$c);break;case"focusin":ji("focusout",$c);break}})}function Bc(){b.forEach(function(B){var fe=B.node,Se=B.eventType,Mt=B.handler,ft=B.options;fe.removeEventListener(Se,Mt,ft)}),b=[]}function Ca(B){var fe,Se=!1;if(!(!A.state.isEnabled||Hc(B)||l)){var Mt=((fe=m)==null?void 0:fe.type)==="focus";m=B,E=B.currentTarget,tt(),!A.state.isVisible&&Tle(B)&&QC.forEach(function(ft){return ft(B)}),B.type==="click"&&(A.props.trigger.indexOf("mouseenter")<0||a)&&A.props.hideOnClick!==!1&&A.state.isVisible?Se=!0:Gc(B),B.type==="click"&&(a=!Se),Se&&!Mt&&io(B)}}function Lu(B){var fe=B.target,Se=Te().contains(fe)||U.contains(fe);if(!(B.type==="mousemove"&&Se)){var Mt=Uo().concat(U).map(function(ft){var ni,Ui=ft._tippy,ro=(ni=Ui.popperInstance)==null?void 0:ni.state;return ro?{popperRect:ft.getBoundingClientRect(),popperState:ro,props:n}:null}).filter(Boolean);Mle(Mt,B)&&(Dn(),io(B))}}function ti(B){var fe=Hc(B)||A.props.trigger.indexOf("click")>=0&&a;if(!fe){if(A.props.interactive){A.hideWithInteractivity(B);return}io(B)}}function $c(B){A.props.trigger.indexOf("focusin")<0&&B.target!==Te()||A.props.interactive&&B.relatedTarget&&U.contains(B.relatedTarget)||io(B)}function Hc(B){return As.isTouch?Ie()!==B.type.indexOf("touch")>=0:!1}function Vu(){ju();var B=A.props,fe=B.popperOptions,Se=B.placement,Mt=B.offset,ft=B.getReferenceClientRect,ni=B.moveTransition,Ui=$e()?LO(U).arrow:null,ro=ft?{getBoundingClientRect:ft,contextElement:ft.contextElement||Te()}:t,ty={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Sa){var Bo=Sa.state;if($e()){var xf=Ke(),Fs=xf.box;["placement","reference-hidden","escaped"].forEach(function($o){$o==="placement"?Fs.setAttribute("data-placement",Bo.placement):Bo.attributes.popper["data-popper-"+$o]?Fs.setAttribute("data-"+$o,""):Fs.removeAttribute("data-"+$o)}),Bo.attributes.popper={}}}},Ai=[{name:"offset",options:{offset:Mt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ni}},ty];$e()&&Ui&&Ai.push({name:"arrow",options:{element:Ui,padding:3}}),Ai.push.apply(Ai,fe?.modifiers||[]),A.popperInstance=PO(ro,U,Object.assign({},fe,{placement:Se,onFirstUpdate:y,modifiers:Ai}))}function ju(){A.popperInstance&&(A.popperInstance.destroy(),A.popperInstance=null)}function no(){var B=A.props.appendTo,fe,Se=Te();A.props.interactive&&B===W9||B==="parent"?fe=Se.parentNode:fe=K9(B,[Se]),fe.contains(U)||fe.appendChild(U),A.state.isMounted=!0,Vu()}function Uo(){return XC(U.querySelectorAll("[data-tippy-root]"))}function Gc(B){A.clearDelayTimeouts(),B&&ue("onTrigger",[A,B]),Di();var fe=H(!0),Se=Xe(),Mt=Se[0],ft=Se[1];As.isTouch&&Mt==="hold"&&ft&&(fe=ft),fe?i=setTimeout(function(){A.show()},fe):A.show()}function io(B){if(A.clearDelayTimeouts(),ue("onUntrigger",[A,B]),!A.state.isVisible){hr();return}if(!(A.props.trigger.indexOf("mouseenter")>=0&&A.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(B.type)>=0&&a)){var fe=H(!1);fe?r=setTimeout(function(){A.state.isVisible&&A.hide()},fe):o=requestAnimationFrame(function(){A.hide()})}}function Nr(){A.state.isEnabled=!0}function zc(){A.hide(),A.state.isEnabled=!1}function Ea(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(o)}function qc(B){if(!A.state.isDestroyed){ue("onBeforeUpdate",[A,B]),Bc();var fe=A.props,Se=B9(t,Object.assign({},fe,L9(B),{ignoreAttributes:!0}));A.props=Se,Rr(),fe.interactiveDebounce!==Se.interactiveDebounce&&(Dn(),w=k9(Lu,Se.interactiveDebounce)),fe.triggerTarget&&!Se.triggerTarget?bf(fe.triggerTarget).forEach(function(Mt){Mt.removeAttribute("aria-expanded")}):Se.triggerTarget&&t.removeAttribute("aria-expanded"),tt(),ne(),ie&&ie(fe,Se),A.popperInstance&&(Vu(),Uo().forEach(function(Mt){requestAnimationFrame(Mt._tippy.popperInstance.forceUpdate)})),ue("onAfterUpdate",[A,B])}}function Ns(B){A.setProps({content:B})}function Ia(){var B=A.state.isVisible,fe=A.state.isDestroyed,Se=!A.state.isEnabled,Mt=As.isTouch&&!A.props.touch,ft=OO(A.props.duration,0,Vo.duration);if(!(B||fe||Se||Mt)&&!Te().hasAttribute("disabled")&&(ue("onShow",[A],!1),A.props.onShow(A)!==!1)){if(A.state.isVisible=!0,$e()&&(U.style.visibility="visible"),ne(),Di(),A.state.isMounted||(U.style.transition="none"),$e()){var ni=Ke(),Ui=ni.box,ro=ni.content;RO([Ui,ro],0)}y=function(){var Ai;if(!(!A.state.isVisible||h)){if(h=!0,U.offsetHeight,U.style.transition=A.props.moveTransition,$e()&&A.props.animation){var Wc=Ke(),Sa=Wc.box,Bo=Wc.content;RO([Sa,Bo],ft),V9([Sa,Bo],"visible")}Pe(),tt(),F9(kO,A),(Ai=A.popperInstance)==null||Ai.forceUpdate(),ue("onMount",[A]),A.props.animation&&$e()&&Fn(ft,function(){A.state.isShown=!0,ue("onShown",[A])})}},no()}}function ks(){var B=!A.state.isVisible,fe=A.state.isDestroyed,Se=!A.state.isEnabled,Mt=OO(A.props.duration,1,Vo.duration);if(!(B||fe||Se)&&(ue("onHide",[A],!1),A.props.onHide(A)!==!1)){if(A.state.isVisible=!1,A.state.isShown=!1,h=!1,a=!1,$e()&&(U.style.visibility="hidden"),Dn(),hr(),ne(!0),$e()){var ft=Ke(),ni=ft.box,Ui=ft.content;A.props.animation&&(RO([ni,Ui],Mt),V9([ni,Ui],"hidden"))}Pe(),tt(),A.props.animation?$e()&&ct(Mt,A.unmount):A.unmount()}}function ey(B){rn().addEventListener("mousemove",w),F9(QC,w),w(B)}function CE(){A.state.isVisible&&A.hide(),A.state.isMounted&&(ju(),Uo().forEach(function(B){B._tippy.unmount()}),U.parentNode&&U.parentNode.removeChild(U),kO=kO.filter(function(B){return B!==A}),A.state.isMounted=!1,ue("onHidden",[A]))}function EE(){A.state.isDestroyed||(A.clearDelayTimeouts(),A.unmount(),Bc(),delete t._tippy,A.state.isDestroyed=!0,ue("onDestroy",[A]))}}function Bv(t,e){e===void 0&&(e={});var n=Vo.plugins.concat(e.plugins||[]);Rle();var i=Object.assign({},e,{plugins:n}),r=Ale(t);if(0)var o,a;var l=r.reduce(function(d,h){var m=h&&Hle(h,i);return m&&d.push(m),d},[]);return JC(t)?l[0]:l}Bv.defaultProps=Vo;Bv.setDefaultProps=jle;Bv.currentInput=As;var q1e=Object.assign({},Rv,{effect:function(e){var n=e.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow)}});Bv.setDefaultProps({render:X9});var jO=Bv;var UO=class{constructor(e){this.options=e,e.vcr?this.ref=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector}):(this.ref=X0(e.component,{elementInjector:e.injector,environmentInjector:e.environmentInjector}),e.appRef.attachView(this.ref.hostView))}setInput(e,n){return this.ref.setInput(e,n),this}setInputs(e){return Object.keys(e).forEach(n=>{this.ref.setInput(n,e[n])}),this}detectChanges(){return this.ref.hostView.detectChanges(),this}updateContext(e){return this.options.contextSignal?.set(e),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.ref.location.nativeElement}destroy(){this.ref.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.ref.hostView),this.ref=null}};function ZC(t){return t instanceof vo}function $v(t){return typeof t=="function"}function Hv(t){return typeof t=="string"}var BO=class{constructor(e){this.args=e,this.args.vcr?(this.ref=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{},{injector:e.injector}),this.ref.detectChanges()):(this.ref=this.args.tpl.createEmbeddedView(this.args.context||{},e.injector),this.ref.detectChanges(),this.args.appRef.attachView(this.ref))}detectChanges(){return this.ref.detectChanges(),this}getElement(){let e=this.ref.rootNodes;return e.length===1&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){this.ref.rootNodes[0]!==1&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.ref),this.ref.destroy(),this.ref=null}updateContext(e){return Object.assign(this.ref.context,e),this}},$O=class{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){return this}updateContext(){return this}destroy(){}},Gle=new ye("Component context"),HO=(()=>{let e=class e{constructor(){this.injector=X(Kt),this.appRef=X(ss),this.environmentInjector=X(li)}createComponent(i,r={}){let o=r.injector??this.injector,a;return r.context&&(a=rh(r.context),o=Kt.create({providers:[{provide:Gle,useValue:a.asReadonly()}],parent:o})),new UO({component:i,vcr:r.vcr,injector:o,appRef:this.appRef,environmentInjector:r.environmentInjector||this.environmentInjector,contextSignal:a})}createTemplate(i,r={}){return new BO({vcr:r.vcr,appRef:this.appRef,tpl:i,context:r.context,injector:r.injector})}createView(i,r={}){if(ZC(i))return this.createTemplate(i,r);if($v(i))return this.createComponent(i,r);if(Hv(i))return new $O(i);throw"Type of content is not supported"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Z9=!1,eH=!1;typeof window<"u"&&(Z9="IntersectionObserver"in window,eH="ResizeObserver"in window);function J9(t,e={root:null,threshold:.3}){let n=rH(t);return new Ue(i=>{if(!Z9){i.next(),i.complete();return}let r=new IntersectionObserver(o=>{o[o.length-1].isIntersecting&&(i.next(),i.complete())},e);return r.observe(n),()=>r.disconnect()})}function tH(t){let e=t.offsetWidth;return e>t.parentElement.offsetWidth||e<t.scrollWidth}function qle(t){let e=rH(t);return nH(e).pipe(bS(150),ke(()=>tH(e)))}function nH(t){return Wle(t)}function Wle(t){return new Ue(e=>{if(!eH){e.next(),e.complete();return}let n=new ResizeObserver(()=>e.next(!0));return n.observe(t),()=>n.disconnect()})}function Gv(t){let e={},n=["useTextContent","variations","useHostWidth","defaultVariation","beforeRender","isLazy","variation","isEnabled","className","onlyTextOverflow","data","content","context","hideOnEscape","customHost","injector","preserveView","vcr","popperWidth","zIndexGetter","staticWidthHost"],i=["onShow","onHidden","onCreate"];return Object.keys(t).forEach(r=>{!n.includes(r)&&!i.includes(r)&&(e[r]=t[r])}),e}function iH(t){return(Yle(t)?t.split(" "):t).map(n=>n?.trim()).filter(Boolean)}function Kle(t){return Qle(t)?"":typeof t=="string"?t:`${t}px`}function Yle(t){return typeof t=="string"}function Qle(t){return t==null}function rH(t){return t instanceof Zt?t.nativeElement:t}var GO,zO=new WeakMap;function Xle(t,e){return GO??=new IntersectionObserver(n=>{n.forEach(i=>{i.isIntersecting||zO.get(i.target)()})}),zO.set(t,e),GO.observe(t),()=>{zO.delete(t),GO.unobserve(t)}}var qO=new ye("Tippy config",{providedIn:"root",factory(){return{}}}),oH=new ye("TIPPY_REF"),tE=(()=>{let e=class e{set appendTo(i){this.updateProps({appendTo:i})}constructor(i,r,o,a,l,d,h){this.platformId=i,this.globalConfig=r,this.injector=o,this.viewService=a,this.vcr=l,this.zone=d,this.hostRef=h,this.onlyTextOverflow=!1,this.staticWidthHost=!1,this.useHostWidth=!1,this.hideOnEscape=!1,this.detectChangesComponent=!0,this.isVisible=!1,this.visible=new $t,this.destroyed=new ai,this.enabled=!0,this.variationDefined=!1,this.visibleInternal=new ai,this.contentChanged=new ai}ngOnChanges(i){if(this.isServerSide)return;let r=Object.keys(i).reduce((a,l)=>(l==="isVisible"||(a[l]=i[l].currentValue),a),{}),o;eE("content",i)&&this.contentChanged.next(),eE("variation",i)?(o=i.variation.currentValue,this.variationDefined=!0):this.variationDefined||(o=this.globalConfig.defaultVariation,this.variationDefined=!0),o&&(r=te(te({},this.globalConfig.variations[o]),r)),eE("isEnabled",i)&&(this.enabled=i.isEnabled.currentValue,this.setStatus()),eE("isVisible",i)&&(this.isVisible?this.show():this.hide()),this.updateProps(r)}ngOnInit(){this.useHostWidth&&(this.props.maxWidth=this.hostWidth)}ngAfterViewInit(){this.isServerSide||this.zone.runOutsideAngular(()=>{this.isLazy?this.onlyTextOverflow?J9(this.host).pipe(xi(()=>this.isOverflowing$()),fo(this.destroyed)).subscribe(i=>{this.checkOverflow(i)}):J9(this.host).pipe(fo(this.destroyed)).subscribe(()=>{this.createInstance()}):this.onlyTextOverflow?this.isOverflowing$().pipe(fo(this.destroyed)).subscribe(i=>{this.checkOverflow(i)}):this.createInstance()})}ngOnDestroy(){this.destroyed.next(),this.instance?.destroy(),this.destroyView(),this.visibilityObserverCleanup?.()}destroyView(){this.viewOptions$=null,this.viewRef?.destroy(),this.viewRef=null}observeHostVisibility(){if(!this.isServerSide&&this.props.appendTo&&this.props.appendTo!==document.body)return this.visibilityObserverCleanup?.(),this.visibleInternal.asObservable().pipe(fo(this.destroyed)).subscribe(i=>{i?this.zone.runOutsideAngular(()=>{this.visibilityObserverCleanup=Xle(this.instance.reference,()=>{this.hide(),this.props.animation&&this.onHidden()})}):this.visibilityObserverCleanup?.()})}show(){this.instance?.show()}hide(){this.instance?.hide()}enable(){this.instance?.enable()}disable(){this.instance?.disable()}updateProps(i){this.setProps(te(te({},this.props),i))}setProps(i){this.props=i,this.instance?.setProps(Gv(i))}setStatus(){this.enabled?this.instance?.enable():this.instance?.disable()}get host(){return this.customHost||this.hostRef.nativeElement}get hostWidth(){return this.host.getBoundingClientRect().width}createInstance(){!this.content&&!this.useTextContent||this.zone.runOutsideAngular(()=>{this.instance=jO(this.host,It(te(te(te({allowHTML:!0,appendTo:document.body},this.globalConfig.zIndexGetter?{zIndex:this.globalConfig.zIndexGetter()}:{}),Gv(this.globalConfig)),Gv(this.props)),{onMount:i=>{this.isVisible=!0,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.useHostWidth&&this.listenToHostResize(),this.globalConfig.onMount?.(i)},onCreate:i=>{if(i.popper.classList.add(`tippy-variation-${this.variation||this.globalConfig.defaultVariation}`),this.className)for(let r of iH(this.className))i.popper.classList.add(r);this.globalConfig.onCreate?.(i),this.isVisible===!0&&i.show()},onShow:i=>{i.reference.setAttribute("data-tippy-open",""),this.zone.run(()=>{let r=this.resolveContent(i);Hv(r)&&(i.setProps({allowHTML:!1}),r?.trim()?this.enable():this.disable()),i.setContent(r),this.hideOnEscape&&this.handleEscapeButton()}),this.useHostWidth?this.setInstanceWidth(i,this.hostWidth):this.popperWidth&&this.setInstanceWidth(i,this.popperWidth),this.globalConfig.onShow?.(i)},onHide(i){i.reference.removeAttribute("data-tippy-open")},onHidden:i=>{this.onHidden(i)}})),this.setStatus(),this.setProps(this.props),this.variation==="contextMenu"&&this.handleContextMenu()})}resolveContent(i){if(!this.viewOptions$&&!Hv(this.content)){let o=Kt.create({providers:[{provide:oH,useValue:this.instance}],parent:this.injector});$v(this.content)?(this.instance.data=this.data,this.viewOptions$={injector:o}):ZC(this.content)&&(this.viewOptions$={injector:o,context:{$implicit:this.hide.bind(this),data:this.data}})}this.viewRef=this.viewService.createView(this.content,te({vcr:this.vcr},this.viewOptions$)),this.detectChangesComponent&&$v(this.content)&&this.viewRef.detectChanges();let r=this.viewRef.getElement();return this.useTextContent&&(r=i.reference.textContent),Hv(r)&&this.globalConfig.beforeRender&&(r=this.globalConfig.beforeRender(r)),r}handleContextMenu(){jd(this.host,"contextmenu").pipe(fo(this.destroyed)).subscribe(i=>{i.preventDefault(),this.instance.setProps({getReferenceClientRect:()=>({width:0,height:0,top:i.clientY,bottom:i.clientY,left:i.clientX,right:i.clientX})}),this.instance.show()})}handleEscapeButton(){this.zone.runOutsideAngular(()=>{jd(document.body,"keydown").pipe(ci(({code:i})=>i==="Escape"),fo(Fp(this.destroyed,this.visibleInternal.pipe(ci(i=>!i))))).subscribe(()=>this.hide())})}checkOverflow(i){i?this.instance?this.instance.enable():this.createInstance():this.instance?.disable()}listenToHostResize(){nH(this.host).pipe(fo(Fp(this.destroyed,this.visibleInternal))).subscribe(()=>{this.setInstanceWidth(this.instance,this.hostWidth)})}setInstanceWidth(i,r){let o=Kle(r);i.popper.style.width=o,i.popper.style.maxWidth=o,i.popper.firstElementChild.style.maxWidth=o}get isServerSide(){return rm(this.platformId)}onHidden(i=this.instance){this.destroyView(),this.isVisible=!1,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.globalConfig.onHidden?.(i)}isOverflowing$(){let i=[qle(this.host)];return this.staticWidthHost&&i.push(this.contentChanged.asObservable().pipe(xi(()=>new Ue(r=>{let o=window.requestAnimationFrame(()=>{r.next(),r.complete()});return()=>cancelAnimationFrame(o)})),ke(()=>tH(this.host)))),Fp(...i)}};e.\u0275fac=function(r){return new(r||e)(N(Vr),N(qO),N(Kt),N(HO),N(_i),N(_t),N(Zt))},e.\u0275dir=Tt({type:e,selectors:[["","tp",""]],inputs:{appendTo:[Ae.None,"tpAppendTo","appendTo"],content:[Ae.None,"tp","content"],delay:[Ae.None,"tpDelay","delay"],duration:[Ae.None,"tpDuration","duration"],hideOnClick:[Ae.None,"tpHideOnClick","hideOnClick"],interactive:[Ae.None,"tpInteractive","interactive"],interactiveBorder:[Ae.None,"tpInteractiveBorder","interactiveBorder"],maxWidth:[Ae.None,"tpMaxWidth","maxWidth"],offset:[Ae.None,"tpOffset","offset"],placement:[Ae.None,"tpPlacement","placement"],popperOptions:[Ae.None,"tpPopperOptions","popperOptions"],showOnCreate:[Ae.None,"tpShowOnCreate","showOnCreate"],trigger:[Ae.None,"tpTrigger","trigger"],triggerTarget:[Ae.None,"tpTriggerTarget","triggerTarget"],zIndex:[Ae.None,"tpZIndex","zIndex"],animation:[Ae.None,"tpAnimation","animation"],useTextContent:[Ae.HasDecoratorInputTransform,"tpUseTextContent","useTextContent",Xi],isLazy:[Ae.HasDecoratorInputTransform,"tpIsLazy","isLazy",Xi],variation:[Ae.None,"tpVariation","variation"],isEnabled:[Ae.None,"tpIsEnabled","isEnabled"],className:[Ae.None,"tpClassName","className"],onlyTextOverflow:[Ae.HasDecoratorInputTransform,"tpOnlyTextOverflow","onlyTextOverflow",Xi],staticWidthHost:[Ae.HasDecoratorInputTransform,"tpStaticWidthHost","staticWidthHost",Xi],data:[Ae.None,"tpData","data"],useHostWidth:[Ae.HasDecoratorInputTransform,"tpUseHostWidth","useHostWidth",Xi],hideOnEscape:[Ae.HasDecoratorInputTransform,"tpHideOnEscape","hideOnEscape",Xi],detectChangesComponent:[Ae.None,"tpDetectChangesComponent","detectChangesComponent"],popperWidth:[Ae.None,"tpPopperWidth","popperWidth"],customHost:[Ae.None,"tpHost","customHost"],isVisible:[Ae.HasDecoratorInputTransform,"tpIsVisible","isVisible",Xi]},outputs:{visible:"tpVisible"},exportAs:["tippy"],standalone:!0,features:[tm,_o]});let t=e;return t})();function eE(t,e){return t in e}var sH=(()=>{let e=class e{constructor(i,r,o){this.globalConfig=i,this.view=r,this.injector=o}create(i,r,o={}){let a=o.variation||this.globalConfig.defaultVariation,l=It(te(te(te({onShow:d=>{if(i.setAttribute("data-tippy-open",""),!d.$viewOptions){d.$viewOptions={};let h=Kt.create({providers:[{provide:oH,useValue:d}],parent:o.injector||this.injector});d.$viewOptions.injector=h,ZC(r)?d.$viewOptions.context=te({$implicit:d.hide.bind(d)},o.context):$v(r)&&(d.context=o.context,d.data=o.data)}d.view||(d.view=this.view.createView(r,te(te({},o),d.$viewOptions))),d.setContent(d.view.getElement()),o?.onShow?.(d)},onHidden:d=>{i.removeAttribute("data-tippy-open"),o.preserveView||(d.view.destroy(),d.view=null),o?.onHidden?.(d)}},Gv(this.globalConfig)),this.globalConfig.variations[a]),Gv(o)),{onCreate:d=>{if(d.popper.classList.add(`tippy-variation-${a}`),o.className)for(let h of iH(o.className))d.popper.classList.add(h);this.globalConfig.onCreate?.(d),o.onCreate?.(d)}});return jO(i,l)}};e.\u0275fac=function(r){return new(r||e)(re(qO),re(HO),re(Kt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aH(t={}){return rc([{provide:qO,useValue:t}])}var Nc=class{constructor(e,n){this.length=e,n&&n>e&&(this.maxLength=n)}restart(e){clearTimeout(this.timeout),this.runnable=e,this.timeout=setTimeout(()=>{e&&e(),this.timeout=null,this.maxLengthTimeout&&(clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null)},this.length),this.maxLength&&!this.maxLengthTimeout&&(this.maxLengthTimeout=setTimeout(()=>{e&&e(),this.maxLengthTimeout=null,clearTimeout(this.timeout),this.timeout=null},this.maxLength))}stop(){clearTimeout(this.timeout),this.timeout=null,clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null}complete(){this.stop(),this.runnable&&this.runnable()}isActive(){return this.timeout!=null}};var Zle=500,xr=Zle+"ms ease",cH=Ro("skip",[Xn(":enter",[])]),kc=Ro("fade",[Xn(":enter",[dt({opacity:0}),Ii(xr,dt({opacity:1}))]),Xn(":leave",[dt({opacity:1,"pointer-events":"none"}),Ii(xr,dt({opacity:0}))])]),nE=Ro("crossfade",[Xn(":enter",[dt({opacity:0}),Ii(xr,dt({opacity:1}))]),Xn(":leave",[dt({opacity:1,"pointer-events":"none",position:"absolute"}),Ii(xr,dt({opacity:0}))])]),lH=Ro("enter",[Xn(":enter",[dt({opacity:0}),Ii(xr,dt({opacity:1}))])]),uH=Ro("leave",[Xn(":leave",[dt({opacity:1}),Ii(xr,dt({opacity:0}))])]),pDe=Ro("hidden",[Xn("* => true",[dt({opacity:"*"}),Ii(xr,dt({opacity:0}))]),Xn("true => *",[dt({opacity:0}),Ii(xr,dt({opacity:"*"}))])]),iE=Ro("drawer2",[i$("0",dt({height:0})),Xn("1 => void",[]),Xn("1 => *",[dt({height:"*"}),Ii(xr,dt({height:0}))]),Xn("0 => void",[dt({height:0}),Ii(xr,dt({height:0}))]),Xn("0 => *",[dt({height:0}),Ii(xr,dt({height:"*"}))])]),dH=Ro("drawer",[Xn(":enter",[dt({height:0,opacity:0}),Ii(xr,dt({height:"*",opacity:"*"}))]),Xn(":leave",[dt({height:"*",opacity:"*"}),Ii(xr,dt({height:0,opacity:0}))])]);var Fc=class extends Yn{constructor(e){super(e)}next(e){e!==this.value&&super.next(e)}subscribe(e,n,i){return typeof e=="function"?super.pipe(SS(1)).subscribe(e,n,i):super.subscribe(e)}};var Tn=(()=>{let e=class e{constructor(){this.darkTheme=!0,this.loading=new Fc(!1),this.changes=new Fc(!1),this.errors=new Fc(!1)}initTheme(){this.darkTheme?document.body.classList.add("dark-theme"):document.body.classList.add("light-theme")}isDarkTheme(){return this.darkTheme}toggleTheme(){this.darkTheme=!this.darkTheme,document.body.classList.toggle("light-theme",!this.darkTheme),document.body.classList.toggle("dark-theme",this.darkTheme)}get reduceBandwidth(){return window.localStorage.getItem("REDUCE_BANDWIDTH")=="1"}set reduceBandwidth(i){window.localStorage.setItem("REDUCE_BANDWIDTH",i?"1":"0")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var eue=["content"];function tue(t,e){if(t&1){let n=ae();I(0,"div",7),R("click",function(){k(n);let r=M().$implicit;return F(r.click&&r.click())}),j(1),S()}if(t&2){let n=M().$implicit;et("disabled",n.disable&&n.disable()),D(),me(n.text())}}function nue(t,e){if(t&1&&(gt(0),z(1,tue,2,3,"div",6),vt()),t&2){let n=e.$implicit;D(),P("ngIf",!n.hidden||!n.hidden())}}var hH=(()=>{let e=class e{get isActive(){return this.active()}get isVisible(){return this.visible?"visible":"hidden"}constructor(){this.visible=!0,this.result=new Promise(i=>this.resolve=i)}ngAfterViewInit(){let i=this.containerRef.createComponent(this.contentComponentType);if(this.contentInstance=i.instance,this.contentInstance.resolve=this.resolve,this.result.then(()=>{this.visible=!1,setTimeout(()=>i.destroy(),250)}),this.inputs)for(let[r,o]of Object.entries(this.inputs))i.setInput(r,o);this.visible=!0,i.changeDetectorRef.detectChanges()}close(){this.contentInstance.close()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=he({type:e,selectors:[["app-dialog-base"]],viewQuery:function(r,o){if(r&1&&bj(eue,5,_i),r&2){let a;q0(a=W0())&&(o.containerRef=a.first)}},hostVars:3,hostBindings:function(r,o){r&1&&R("keydown.escape",function(l){return o.close(l)},!1,yn),r&2&&(nm("@overlayFade",o.isVisible),et("active",o.isActive))},decls:9,vars:2,consts:[[1,"header"],[1,"icon-button","fa-solid","fa-times",3,"click"],[1,"content"],["content",""],[1,"buttons"],[4,"ngFor","ngForOf"],["class","button",3,"disabled","click",4,"ngIf"],[1,"button",3,"click"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"span"),j(2),S(),I(3,"i",1),R("click",function(){return o.close()}),S()(),I(4,"div",2),S1(5,null,3),S(),I(7,"div",4),z(8,nue,2,1,"ng-container",5),S()),r&2&&(D(2),me(o.contentInstance==null?null:o.contentInstance.configuration.title),D(6),P("ngForOf",o.contentInstance==null?null:o.contentInstance.configuration.buttons))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-border);background-color:var(--color-background-primary);position:fixed;top:50%;left:50%;transform:translate(-50%) translateY(-50%);border-radius:.501rem;overflow:hidden;z-index:200;transition:filter .25s}@media screen and (max-width: 768px){[_nghost-%COMP%]{max-width:calc(100% - 1.336rem);max-height:calc(100% - 1.336rem)}}@media screen and (min-width: 768px){[_nghost-%COMP%]{max-width:80%;max-height:80%}}[_nghost-%COMP%]:not(.active){filter:blur(3px);pointer-events:none}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;overflow:auto;border:1px solid var(--color-border);border-radius:.334rem;margin:0 .334rem}.header[_ngcontent-%COMP%]{height:30px;padding:.334rem .334rem .334rem .668rem;display:flex;align-items:center;justify-content:space-between}.buttons[_ngcontent-%COMP%]{gap:.334rem;padding:.334rem;height:30px;display:flex;align-items:center;justify-content:space-evenly}.button[_ngcontent-%COMP%]{flex:1;transition:.5s}"],data:{animation:[Ro("overlayFade",[Xn("* => visible",[dt({opacity:0}),Ii("250ms ease",dt({opacity:1}))]),Xn("* => hidden",[dt({opacity:1}),Ii("250ms ease",dt({opacity:0}))])])]}});let t=e;return t})();var Qt=class{};function iue(t,e){if(t&1&&(I(0,"span"),j(1),S()),t&2){let n=e.$implicit;D(),me(n)}}var fH=(()=>{let e=class e extends Qt{ngOnInit(){this.configuration={title:this.title,buttons:[{text:()=>this.positiveButtonText,click:()=>this.resolve(!0)},{text:()=>this.negativeButtonText,click:()=>this.resolve(!1)},{text:()=>"Cancel",click:()=>this.resolve(!1)}]}}submit(){this.resolve(!0)}close(){this.resolve(!1)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ar(e)))(o||e)}})(),e.\u0275cmp=he({type:e,selectors:[["app-confirmation-dialog"]],hostBindings:function(r,o){r&1&&R("keydown.enter",function(l){return o.submit(l)},!1,yn)("keydown.escape",function(l){return o.close(l)},!1,yn)},inputs:{title:"title",messages:"messages",positiveButtonText:"positiveButtonText",negativeButtonText:"negativeButtonText"},features:[St],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(r,o){r&1&&(I(0,"div",0),z(1,iue,2,1,"span",1),S()),r&2&&(D(),P("ngForOf",o.messages))},styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1.002rem;border-top:1px solid var(--color-border);border-bottom:1px solid var(--color-border)}"]});let t=e;return t})();function rue(t,e){if(t&1&&(I(0,"span"),j(1),S()),t&2){let n=e.$implicit;D(),me(n)}}var pH=(()=>{let e=class e extends Qt{ngOnInit(){this.configuration={title:this.title,buttons:[{text:()=>"OK",click:()=>this.resolve()}]}}submit(){this.resolve()}close(){this.resolve()}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ar(e)))(o||e)}})(),e.\u0275cmp=he({type:e,selectors:[["app-message-dialog"]],hostBindings:function(r,o){r&1&&R("keydown.enter",function(l){return o.submit(l)},!1,yn)("keydown.escape",function(l){return o.close(l)},!1,yn)},inputs:{title:"title",messages:"messages"},features:[St],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(r,o){r&1&&(I(0,"div",0),z(1,rue,2,1,"span",1),S()),r&2&&(D(),P("ngForOf",o.messages))},styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1.002rem;border-top:1px solid var(--color-border);border-bottom:1px solid var(--color-border)}"]});let t=e;return t})();var se=class{static isEmpty(e){return!e||!Array.isArray(e)||e.length==0}static includes(e,n,i){if(!this.isEmpty(e)&&n)return i?e.map(r=>i(r)).includes(i(n)):e.includes(n)}static push(e,n){if(Array.isArray(e))if(Array.isArray(n))for(let i of n)i!=null&&!e.includes(i)&&e.push(i);else n!=null&&!e.includes(n)&&e.push(n)}static remove(e,n,i){if(!this.isEmpty(e)&&n)if(Array.isArray(n)){if(n.length>0)if(i){let r=e.map(o=>i(o));for(let o of n.map(a=>i(a)))this._remove(e,o,r)}else for(let r of n)this._remove(e,r)}else return i?this._remove(e,i(n),e.map(r=>i(r))):this._remove(e,n)}static _remove(e,n,i){if(i){let r=i.indexOf(n);if(r!=-1)return i.splice(r,1),e.splice(r,1).length>0}else{let r=e.indexOf(n);if(r!=-1)return e.splice(r,1).length>0}}static difference(e,n,i){if(!this.isEmpty(e)&&!this.isEmpty(n)){let r=[];for(let o of e)n.some(a=>i(o,a))||r.push(o);return r}return[]}static unique(e,n){if(!this.isEmpty(e)){let i=[],r=new Map,o;for(let a of e)o=n(a),r.has(o)||(r.set(o,!0),i.push(a));return i}return[]}static getFirst(e){if(!this.isEmpty(e))return e[0]}static isFirst(e,n){if(!this.isEmpty(e)&&n)return n==e[0]}static getLast(e){if(!this.isEmpty(e))return e[e.length-1]}static isLast(e,n){if(!this.isEmpty(e)&&n)return n==e[e.length-1]}static getRandom(e,n){return this.isEmpty(e)?null:e.length==1?e[0]:(e=e.slice(),this.remove(e,n),e[Math.floor(Math.random()*e.length)])}static nearestRightFirst(e,n,i){if(n+1<e.length){for(let r=n+1;r<e.length;r++)if(!i||i(e[r]))return e[r]}if(n>0){for(let r=n-1;r>-1;r--)if(!i||i(e[r]))return e[r]}return null}static shuffle(e){let n=e.length,i;for(;n!=0;)i=Math.floor(Math.random()*n),n--,[e[n],e[i]]=[e[i],e[n]];return e}};var Wn=(()=>{let e=class e{constructor(i,r){this.appRef=i,this.injector=r,this.stack=[]}createMessage(i,r){return this.create(pH,{title:i,messages:r})}createConfirmation(i,r,o,a){return this.create(fH,{title:i,messages:r,positiveButtonText:o,negativeButtonText:a})}create(i,r){let o=X0(hH,{environmentInjector:this.injector}),a=o.instance;return a.contentComponentType=i,a.inputs=r,a.active=()=>se.isLast(this.stack,a),a.result.then(()=>{se.remove(this.stack,a),setTimeout(()=>{this.appRef.detachView(o.hostView),o.destroy()},250)}),this.stack.push(a),this.appRef.attachView(o.hostView),document.body.firstElementChild.appendChild(o.location.nativeElement),o.changeDetectorRef.detectChanges(),a.result}getCount(){return this.stack.length}};e.\u0275fac=function(r){return new(r||e)(re(ss),re(li))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function oue(t,e){t&1&&oe(0,"div",4)}function sue(t,e){t&1&&oe(0,"div",5),t&2&&P("@fade",void 0)}function aue(t,e){t&1&&oe(0,"span",6),t&2&&P("@fade",void 0)}var mH=(()=>{let e=class e{constructor(i,r){this.applicationService=i,this.dialogService=r,this.hideLoadingBarDelay=new Nc(1500),this.applicationService.initTheme(),this.applicationService.changes.subscribe(o=>{o===!1&&this.hideLoadingBarDelay.restart()})}isBlurOverlayVisible(){return this.applicationService.loading.value||this.dialogService.getCount()!=0}getLoadingBarColor(){return this.applicationService.changes.value?"orange":this.applicationService.errors.value?"red":this.hideLoadingBarDelay.isActive()?"limegreen":"transparent"}};e.\u0275fac=function(r){return new(r||e)(N(Tn),N(Wn))},e.\u0275cmp=he({type:e,selectors:[["app-root"]],standalone:!0,features:[be],decls:5,vars:5,consts:[["class","overlay-pointer-events",4,"ngIf"],["class","overlay-blur",4,"ngIf"],[1,"overlay-loading-bar"],["class","loading-spinner",4,"ngIf"],[1,"overlay-pointer-events"],[1,"overlay-blur"],[1,"loading-spinner"]],template:function(r,o){r&1&&(z(0,oue,1,0,"div",0)(1,sue,1,1,"div",1),oe(2,"div",2),z(3,aue,1,1,"span",3),oe(4,"router-outlet")),r&2&&(P("ngIf",o.isBlurOverlayVisible()),D(),P("ngIf",o.isBlurOverlayVisible()),D(),Ur("background-color",o.getLoadingBarColor()),D(),P("ngIf",o.applicationService.loading.value))},dependencies:[Ee,At,xv],styles:[".light-theme[_nghost-%COMP%], .light-theme   [_nghost-%COMP%]{--color-background-primary: rgb(255, 255, 255);--color-border: rgba(0, 0, 0, .2);--color-hover: rgba(0, 0, 0, .1);--color-text: black;--color-text-hover: rgb(28, 28, 28);--color-text-shadow: #e1e1e1;--color-highlight: blueviolet;--color-primary: #0075ff;--color-secondary: #155197;--color-positive: forestgreen;--color-negative: orangered}.dark-theme[_nghost-%COMP%], .dark-theme   [_nghost-%COMP%]{--color-background-primary: #202124;--color-background-secondary: #2b2c2f;--color-border: rgba(255, 255, 255, .2);--color-hover: rgba(255, 255, 255, .1);--color-text-shadow: black;--color-text: #e1e1e1;--color-text-hover: white;--color-primary: #0075ff;--color-secondary: #155197;--color-highlight: blueviolet;--color-positive: yellowgreen;--color-negative: lightcoral}[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;color:var(--color-text);background-color:var(--color-background-primary)}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{position:absolute}.overlay-pointer-events[_ngcontent-%COMP%]{width:100%;height:100%;pointer-events:all;z-index:100}.overlay-blur[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);z-index:100}.overlay-loading-bar[_ngcontent-%COMP%]{width:100%;height:1px;align-self:start;pointer-events:none;z-index:100;background-color:transparent;transition-property:background-color;transition-duration:.5s}.loading-spinner[_ngcontent-%COMP%]{width:75px;height:75px;border-width:3px;border-color:var(--color-background-secondary);border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s infinite linear;border-radius:100%;border-style:solid}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"],data:{animation:[kc]}});let t=e;return t})();var IH=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(N(bo),N(Zt))},e.\u0275dir=Tt({type:e});let t=e;return t})(),aE=(()=>{let e=class e extends IH{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ar(e)))(o||e)}})(),e.\u0275dir=Tt({type:e,features:[St]});let t=e;return t})(),Kv=new ye("");var cue={provide:Kv,useExisting:ic(()=>Ut),multi:!0};function lue(){let t=ia()?ia().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var uue=new ye(""),Ut=(()=>{let e=class e extends IH{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!lue())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(N(bo),N(Zt),N(uue,8))},e.\u0275dir=Tt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&R("input",function(l){return o._handleInput(l.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(l){return o._compositionEnd(l.target.value)})},features:[oh([cue]),St]});let t=e;return t})();var due=new ye(""),hue=new ye("");function SH(t){return t!=null}function TH(t){return Al(t)?Wt(t):t}function DH(t){let e={};return t.forEach(n=>{e=n!=null?te(te({},e),n):e}),Object.keys(e).length===0?null:e}function AH(t,e){return e.map(n=>n(t))}function fue(t){return!t.validate}function xH(t){return t.map(e=>fue(e)?e:n=>e.validate(n))}function pue(t){if(!t)return null;let e=t.filter(SH);return e.length==0?null:function(n){return DH(AH(n,e))}}function MH(t){return t!=null?pue(xH(t)):null}function mue(t){if(!t)return null;let e=t.filter(SH);return e.length==0?null:function(n){let i=AH(n,e).map(TH);return wS(i).pipe(ke(DH))}}function PH(t){return t!=null?mue(xH(t)):null}function gH(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function gue(t){return t._rawValidators}function vue(t){return t._rawAsyncValidators}function WO(t){return t?Array.isArray(t)?t:[t]:[]}function oE(t,e){return Array.isArray(t)?t.includes(e):t===e}function vH(t,e){let n=WO(e);return WO(t).forEach(r=>{oE(n,r)||n.push(r)}),n}function yH(t,e){return WO(e).filter(n=>!oE(t,n))}var sE=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=MH(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=PH(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},KO=class extends sE{get formDirective(){return null}get path(){return null}},Wv=class extends sE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},YO=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},yue={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},oAe=It(te({},yue),{"[class.ng-submitted]":"isSubmitted"}),Xt=(()=>{let e=class e extends YO{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(N(Wv,2))},e.\u0275dir=Tt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&et("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[St]});let t=e;return t})();var zv="VALID",rE="INVALID",Cf="PENDING",qv="DISABLED";function _ue(t){return(cE(t)?t.validators:t)||null}function wue(t){return Array.isArray(t)?MH(t):t||null}function bue(t,e){return(cE(e)?e.asyncValidators:t)||null}function Cue(t){return Array.isArray(t)?PH(t):t||null}function cE(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var QO=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===zv}get invalid(){return this.status===rE}get pending(){return this.status==Cf}get disabled(){return this.status===qv}get enabled(){return this.status!==qv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(vH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(vH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(yH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(yH(e,this._rawAsyncValidators))}hasValidator(e){return oE(this._rawValidators,e)}hasAsyncValidator(e){return oE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Cf,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=qv,this.errors=null,this._forEachChild(i=>{i.disable(It(te({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(It(te({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=zv,this._forEachChild(i=>{i.enable(It(te({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(It(te({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zv||this.status===Cf)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qv:zv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Cf,this._hasOwnPendingAsyncValidator=!0;let n=TH(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new $t,this.statusChanges=new $t}_calculateStatus(){return this._allControlsDisabled()?qv:this.errors?rE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cf)?Cf:this._anyControlsHaveStatus(rE)?rE:zv}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){cE(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=wue(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Cue(this._rawAsyncValidators)}};var OH=new ye("CallSetDisabledState",{providedIn:"root",factory:()=>XO}),XO="always";function Eue(t,e){return[...e.path,t]}function Iue(t,e,n=XO){Tue(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Due(t,e),xue(t,e),Aue(t,e),Sue(t,e)}function _H(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Sue(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Tue(t,e){let n=gue(t);e.validator!==null?t.setValidators(gH(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=vue(t);e.asyncValidator!==null?t.setAsyncValidators(gH(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();_H(e._rawValidators,r),_H(e._rawAsyncValidators,r)}function Due(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&RH(t,e)})}function Aue(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&RH(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function RH(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function xue(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Mue(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Pue(t){return Object.getPrototypeOf(t.constructor)===aE}function Oue(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===Ut?n=o:Pue(o)?i=o:r=o}),r||i||n||null}function wH(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function bH(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Rue=class extends QO{constructor(e=null,n,i){super(_ue(n),bue(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cE(n)&&(n.nonNullable||n.initialValueIsDefault)&&(bH(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){wH(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){wH(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){bH(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Nue={provide:Wv,useExisting:ic(()=>zt)},CH=Promise.resolve(),zt=(()=>{let e=class e extends Wv{constructor(i,r,o,a,l,d){super(),this._changeDetectorRef=l,this.callSetDisabledState=d,this.control=new Rue,this._registered=!1,this.name="",this.update=new $t,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Oue(this,a)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),Mue(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Iue(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){CH.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,o=r!==0&&Xi(r);CH.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?Eue(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(N(KO,9),N(due,10),N(hue,10),N(Kv,10),N(na,8),N(OH,8))},e.\u0275dir=Tt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Ae.None,"disabled","isDisabled"],model:[Ae.None,"ngModel","model"],options:[Ae.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[oh([Nue]),St,_o]});let t=e;return t})();var kue={provide:Kv,useExisting:ic(()=>Ou),multi:!0},Ou=(()=>{let e=class e extends aE{writeValue(i){let r=i??"";this.setProperty("value",r)}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ar(e)))(o||e)}})(),e.\u0275dir=Tt({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&R("input",function(l){return o.onChange(l.target.value)})("blur",function(){return o.onTouched()})},features:[oh([kue]),St]});let t=e;return t})();var Fue={provide:Kv,useExisting:ic(()=>Zr),multi:!0};function NH(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Lue(t){return t.split(":")[0]}var Zr=(()=>{let e=class e extends aE{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r=this._getOptionId(i),o=NH(r,i);this.setProperty("value",o)}registerOnChange(i){this.onChange=r=>{this.value=this._getOptionValue(r),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),i))return r;return null}_getOptionValue(i){let r=Lue(i);return this._optionMap.has(r)?this._optionMap.get(r):i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ar(e)))(o||e)}})(),e.\u0275dir=Tt({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&R("change",function(l){return o.onChange(l.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[oh([Fue]),St]});let t=e;return t})(),Ms=(()=>{let e=class e{constructor(i,r,o){this._element=i,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(i){this._select!=null&&(this._select._optionMap.set(this.id,i),this._setElementValue(NH(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(N(Zt),N(bo),N(Zr,9))},e.\u0275dir=Tt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),Vue={provide:Kv,useExisting:ic(()=>kH),multi:!0};function EH(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function jue(t){return t.split(":")[0]}var kH=(()=>{let e=class e extends aE{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r;if(Array.isArray(i)){let o=i.map(a=>this._getOptionId(a));r=(a,l)=>{a._setSelected(o.indexOf(l.toString())>-1)}}else r=(o,a)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(i){this.onChange=r=>{let o=[],a=r.selectedOptions;if(a!==void 0){let l=a;for(let d=0;d<l.length;d++){let h=l[d],m=this._getOptionValue(h.value);o.push(m)}}else{let l=r.options;for(let d=0;d<l.length;d++){let h=l[d];if(h.selected){let m=this._getOptionValue(h.value);o.push(m)}}}this.value=o,i(o)}}_registerOption(i){let r=(this._idCounter++).toString();return this._optionMap.set(r,i),r}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,i))return r;return null}_getOptionValue(i){let r=jue(i);return this._optionMap.has(r)?this._optionMap.get(r)._value:i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ar(e)))(o||e)}})(),e.\u0275dir=Tt({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&R("change",function(l){return o.onChange(l.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[oh([Vue]),St]});let t=e;return t})(),Ps=(()=>{let e=class e{constructor(i,r,o){this._element=i,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){this._select!=null&&(this._value=i,this._setElementValue(EH(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(EH(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(N(Zt),N(bo),N(kH,9))},e.\u0275dir=Tt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var Uue=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ki({type:e}),e.\u0275inj=Yi({});let t=e;return t})();var Ct=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:OH,useValue:i.callSetDisabledState??XO}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ki({type:e}),e.\u0275inj=Yi({imports:[Uue]});let t=e;return t})();var Lc=(()=>{let e=class e{constructor(i){this.elementRef=i,this.onCreate=new $t}ngOnInit(){this.onCreate.emit(this.elementRef)}};e.\u0275fac=function(r){return new(r||e)(N(Zt))},e.\u0275dir=Tt({type:e,selectors:[["","onCreate",""]],outputs:{onCreate:"onCreate"},standalone:!0});let t=e;return t})();var Vc=(()=>{let e=class e{set ngVar(i){this.context.ngVar=i}static ngTemplateContextGuard(i,r){return!0}constructor(i,r){this.containerRef=i,this.templateRef=r,this.context=new JO,this.containerRef.createEmbeddedView(this.templateRef,this.context)}};e.\u0275fac=function(r){return new(r||e)(N(_i),N(vo))},e.\u0275dir=Tt({type:e,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"},standalone:!0});let t=e;return t})(),JO=class{};var xt=class{static format(e,...n){do e=e.replace("%s",n.shift()||"");while(e.includes("%s"));return e}static capitalize(e){if(!this.isEmpty(e))return e.substring(0,1).toUpperCase()+e.substring(1)}static isEmpty(e){return!e||typeof e!="string"||e.trim().length<=0}static getWordCount(e){return e.split(new RegExp(`[^ /
]+`,"g")).length-1}};var Ef=class{constructor(e){this.http=e,this.API_KEY="AIzaSyBLAfLb8QHSIqXPFTh2YJEMfMoW8EhJpRU"}createFile(e,n,i){let r="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return br(this.http.post(r,{name:e,parents:n,mimeType:i}))}createFolder(e,n){let i="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return br(this.http.post(i,{name:e,mimeType:"application/vnd.google-apps.folder",parents:[n]}))}getFolderMetadata(e="root"){let i="https://content.googleapis.com/drive/v3/files?pageSize=1000&q="+("'"+e+"' in parents and trashed=false")+"&fields=files("+this.FIELDS+")&key="+this.API_KEY;return this.getFileArrayPromise(i)}getEntityMetadata(e){let n="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return br(this.http.get(n))}getContent(e){let n="https://www.googleapis.com/drive/v3/files/"+e;return br(this.http.get(n,{params:{alt:"media"},responseType:"json"}))}updateContent(e,n){let i="https://www.googleapis.com/upload/drive/v3/files/"+e+"?uploadType=media";return br(this.http.patch(i,n))}move(e,n,i){let r="https://www.googleapis.com/drive/v3/files/"+e+"?removeParents="+n+"&addParents="+i+"&key="+this.API_KEY;return br(this.http.patch(r,{}))}trash(e){return this.updateMetadata(e,{trashed:!0})}updateProperty(e,n,i){return this.updateMetadata(e,{appProperties:{[n]:i}})}updateProperties(e,n){return this.updateMetadata(e,{appProperties:n})}openFolderById(e){let n="https://drive.google.com/drive/folders/"+e;window.open(n,"_blank")}openSearch(e){let n="https://drive.google.com/drive/search?q="+e;window.open(n,"_blank")}updateMetadata(e,n){let i="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return br(this.http.patch(i,n))}getFileArrayPromise(e,n){return n?br(this.http.post(e,n).pipe(ke(i=>i?i.files:[]))):br(this.http.get(e).pipe(ke(i=>i?i.files:[])))}};var jc=(()=>{let e=class e{constructor(){}onNodeClick(i){}renderNotes(){}process(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Jt=function(t){return t.ALWAYS="ALWAYS",t.NEVER="NEVER",t.AND="AND",t.OR="OR",t.NOT="NOT",t.EQ="EQ",t.NEQ="NEQ",t.CHANCE="CHANCE",t}(Jt||{});var Yv=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var yt=class{static createScenario(){return{characters:[],variables:[],nodes:[],buttons:[],notes:[]}}static createCharacter(){return{color:"#FFFFFF"}}static createVariable(){return{options:[]}}static createDialogueNode(){return{id:Yv(),lines:[],buttonIds:[]}}static createDialogueLine(){return{}}static createButton(){return{id:Yv(),logic:[this.createLogic(Jt.ALWAYS)],disabled:this.createCondition(Jt.NEVER),hidden:this.createCondition(Jt.NEVER)}}static createLogic(e){return{operator:e,conditions:[],actions:[this.createAction()]}}static createCondition(e){return{operator:e}}static createAction(){return{weight:100,storyChanges:[],variableChanges:[]}}};var ln=(()=>{let e=class e{constructor(){}getCurrentNode(){return this.currentScenario?.currentNode}getCurrentNote(){return this.currentScenario?.currentNote}getScenario(i){return this.scenarios.find(r=>r.id==i)}getNodes(){return this.scenarios.flatMap(i=>i.nodes)}getButtons(){return this.scenarios.flatMap(i=>i.buttons)}getButtonsForNode(i=this.getCurrentNode()){return i?.buttonIds.map(r=>this.getButton(r,this.getScenario(i.parentScenarioId)))}getCharacters(){return this.scenarios.flatMap(i=>i.characters)}getVariables(){return this.scenarios.flatMap(i=>i.variables)}getNode(i){if(i)return this.getNodes().find(r=>r.id==i)}getButton(i,r){if(i)return r?r.buttons.find(o=>o.id==i):this.getButtons().find(o=>o.id==i)}getCharacter(i){if(i)return this.getCharacters().find(r=>r.id==i)}getVariable(i){if(i)return this.getVariables().find(r=>r.id==i)}initialize(i){if(i&&i.scenarios){this.scenarios=i.scenarios;for(let r of this.scenarios);for(let r of this.scenarios){r.currentNode=r.nodes[0],r.currentNote=r.notes[0];for(let o of r.nodes)o.parentScenarioId=r.id;for(let o of r.buttons)o.logic||(o.logic=[yt.createLogic(Jt.ALWAYS)])}this.currentScenario=i.scenarios[0],this.story=[]}}serialize(){return{scenarios:this.scenarios.map(i=>({id:i.id,label:i.label,characters:i.characters.map(r=>({id:r.id,name:r.name,color:r.color})),variables:i.variables.map(r=>({id:r.id,type:r.type,options:r.options,initialValue:r.initialValue})),nodes:i.nodes.map(r=>({id:r.id,description:r.description,lines:r.lines,buttonIds:r.buttonIds})),buttons:i.buttons.map(r=>({id:r.id,text:r.text,tooltip:r.tooltip,logic:r.logic,disabled:r.disabled,hidden:r.hidden})),notes:i.notes.map(r=>({label:r.label,text:r.text,wordCount:r.wordCount}))}))}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Uc=(()=>{let e=class e extends Ef{constructor(i,r,o,a){super(i),this.http=i,this.injector=r,this.applicationService=o,this.stateService=a,this.delay=new Nc(3e3),this.FIELDS="id,name,mimeType,appProperties",this.FILE_ID="1l3MbDnNr9VKc1aADVATWCYe1tMwLUTp-"}requestAdventure(){return this.getContent(this.FILE_ID)}updateAdventure(i=!1,r=!1){r&&this.injector.get(jc).renderNotes(),this.applicationService.changes.next(!0);let o=()=>{this.updateContent(this.FILE_ID,JSON.stringify(this.stateService.serialize())).then(a=>{this.applicationService.errors.next(a==null)}).finally(()=>{this.applicationService.changes.next(!1)})};i?(this.delay.stop(),o()):this.delay.restart(()=>o())}};e.\u0275fac=function(r){return new(r||e)(re(Ml),re(Kt),re(Tn),re(ln))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var uE=class extends Fc{constructor(e){super(e)}toggle(){this.next(!this.value)}};function Bue(t,e){if(t&1){let n=ae();gt(0),I(1,"div",2)(2,"span",3),j(3,"Weight"),S()(),I(4,"div",4)(5,"input",12),Le("ngModelChange",function(r){k(n);let o=M();return je(o.action.weight,r)||(o.action.weight=r),F(r)}),R("input",function(r){k(n);let o=M();return F(o.onWeightChange(r))}),S(),I(6,"i",13),R("click",function(){k(n);let r=M();return F(r.onRemoveActionClick())}),S()(),vt()}if(t&2){let n=M();D(5),Fe("ngModel",n.action.weight)}}function $ue(t,e){t&1&&oe(0,"div",8)}function Hue(t,e){if(t&1&&(I(0,"option",14),j(1),S()),t&2){let n=e.$implicit,i=M();P("ngValue",n.id),D(),ta("(",i.getParentScenario(n).label," ",n.description,")")}}function Gue(t,e){if(t&1){let n=ae();I(0,"div",4)(1,"input",5),Le("ngModelChange",function(r){let a=k(n).$implicit;return je(a.value,r)||(a.value=r),F(r)}),S(),I(2,"i",15),R("click",function(){let o=k(n).$implicit,a=M();return F(a.removeStoryChange(o))}),S()()}if(t&2){let n=e.$implicit;D(),Fe("ngModel",n.value)}}function zue(t,e){if(t&1&&(I(0,"option",14),j(1),S()),t&2){let n=e.$implicit;P("ngValue",n.id),D(),me(n.id)}}function que(t,e){if(t&1&&(I(0,"option",14),j(1),S()),t&2){let n=e.$implicit;P("ngValue",n.id),D(),me(n.value)}}function Wue(t,e){if(t&1){let n=ae();I(0,"div",4)(1,"select",5),Le("ngModelChange",function(r){let a=k(n).$implicit;return je(a.id,r)||(a.id=r),F(r)}),z(2,zue,2,2,"option",6),S(),I(3,"select",5),Le("ngModelChange",function(r){let a=k(n).$implicit;return je(a.value,r)||(a.value=r),F(r)}),z(4,que,2,2,"option",6),S(),I(5,"i",16),R("click",function(){let o=k(n).$implicit,a=M();return F(a.removeVariableChange(o))}),S()()}if(t&2){let n=e.$implicit,i=M();D(),Fe("ngModel",n.id),D(),P("ngForOf",i.getAvailableVariables()),D(),et("disabled",!n.id),Fe("ngModel",n.value),D(),P("ngForOf",i.getVariableOptions(n))}}var FH=(()=>{let e=class e{constructor(i,r){this.editorService=i,this.stateService=r,this.removeAction=new $t}ngOnInit(){}getParentScenario(i){return this.stateService.getScenario(i.parentScenarioId)}getAvailableNodes(){let i=this.stateService.currentScenario.nodes.indexOf(this.stateService.currentScenario.currentNode),r=this.stateService.currentScenario.nodes.filter(a=>this.stateService.currentScenario.nodes.indexOf(a)>i),o=this.stateService.getNodes().filter(a=>!r.includes(a));return r.concat(o)}getAvailableVariables(){let i=this.stateService.currentScenario.variables,r=this.stateService.getVariables().filter(o=>!i.includes(o));return i.concat(r)}getVariableOptions(i){if(i?.id)return this.stateService.getVariable(i.id).options}createVariableChange(){this.action.variableChanges.push({})}removeVariableChange(i){se.remove(this.action.variableChanges,i)}createStoryChange(){this.action.storyChanges.push({id:null,value:""})}removeStoryChange(i){se.remove(this.action.storyChanges,i)}onWeightChange(i){let r=i.target;isNaN(r.valueAsNumber)||r.valueAsNumber<=0?(r.valueAsNumber=0,this.action.weight=0):(r.valueAsNumber=Math.floor(r.valueAsNumber),this.action.weight=r.valueAsNumber)}onRemoveActionClick(){this.removeAction.emit(this.action)}createNode(){this.editorService.openDialogueNodeEditor(yt.createDialogueNode(),this.stateService.currentScenario).then(i=>{this.action.nextNodeId=i.id})}};e.\u0275fac=function(r){return new(r||e)(N(lr),N(ln))},e.\u0275cmp=he({type:e,selectors:[["app-action-editor"]],inputs:{action:"action",weightVisible:"weightVisible"},outputs:{removeAction:"removeAction"},standalone:!0,features:[be],decls:21,vars:6,consts:[[4,"ngIf"],["class","h-separator",4,"ngIf"],[1,"section-header"],[1,"section-title"],[1,"section-container"],[3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["tp","Create Node",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"h-separator"],["tp","Create Story Change",1,"icon-button","fa-solid","fa-plus",3,"click"],["class","section-container",4,"ngFor","ngForOf"],["tp","Create Variable Change",1,"icon-button","fa-solid","fa-plus",3,"click"],["type","number",3,"ngModel","ngModelChange","input"],["tp","Remove Action",1,"icon-button","fa-solid","fa-times",3,"click"],[3,"ngValue"],["tp","Remove Story Change",1,"icon-button","fa-solid","fa-times",3,"click"],["tp","Remove Variable Change",1,"icon-button","fa-solid","fa-times",3,"click"]],template:function(r,o){r&1&&(z(0,Bue,7,1,"ng-container",0)(1,$ue,1,0,"div",1),I(2,"div",2)(3,"span",3),j(4,"Next Node"),S()(),I(5,"div",4)(6,"select",5),Le("ngModelChange",function(l){return je(o.action.nextNodeId,l)||(o.action.nextNodeId=l),l}),z(7,Hue,2,3,"option",6),S(),I(8,"i",7),R("click",function(){return o.createNode()}),S()(),oe(9,"div",8),I(10,"div",2)(11,"span",3),j(12,"Story Changes"),S(),I(13,"i",9),R("click",function(){return o.createStoryChange()}),S()(),z(14,Gue,3,1,"div",10),oe(15,"div",8),I(16,"div",2)(17,"span",3),j(18,"Variable Changes"),S(),I(19,"i",11),R("click",function(){return o.createVariableChange()}),S()(),z(20,Wue,6,6,"div",10)),r&2&&(P("ngIf",o.weightVisible),D(),P("ngIf",o.weightVisible),D(5),Fe("ngModel",o.action.nextNodeId),D(),P("ngForOf",o.getAvailableNodes()),D(7),P("ngForOf",o.action.storyChanges),D(6),P("ngForOf",o.action.variableChanges))},dependencies:[Ee,Dt,At,Ct,Ms,Ps,Ut,Ou,Zr,Xt,zt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.334rem;border:1px solid var(--color-border);border-radius:.334rem;padding:.334rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.334rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   input[type=number][_ngcontent-%COMP%]{border:1px solid var(--color-border);border-radius:.334rem;padding:.334rem;outline:none;color:var(--color-text);background-color:transparent;font-size:inherit;font-weight:inherit;font-family:inherit}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .section-container[_ngcontent-%COMP%]{display:flex;gap:.334rem}select[_ngcontent-%COMP%]{width:100%;border-color:var(--color-border);border-radius:.334rem;color:var(--color-text);padding:2.2px;background-color:transparent;font-family:inherit;font-size:inherit}select[_ngcontent-%COMP%] > option[_ngcontent-%COMP%]{color:var(--color-text);background-color:var(--color-background-primary)}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]});let t=e;return t})();function Kue(t,e){if(t&1&&(I(0,"option"),j(1),S()),t&2){let n=e.$implicit;D(),me(n)}}function Yue(t,e){if(t&1){let n=ae();I(0,"div")(1,"select",3),Le("ngModelChange",function(r){k(n);let o=M();return je(o.logic.operator,r)||(o.logic.operator=r),F(r)}),z(2,Kue,2,1,"option",1),S(),I(3,"i",4),R("click",function(){k(n);let r=M();return F(r.onRemoveLogicClick())}),S()()}if(t&2){let n=M();D(),et("select-disabled",n.logic.conditions.length==0),Fe("ngModel",n.logic.operator),D(),P("ngForOf",n.getLogicalOperators())}}function Que(t,e){if(t&1&&(I(0,"option",8),j(1),S()),t&2){let n=e.$implicit;P("ngValue",n),D(),me(n.id)}}function Xue(t,e){if(t&1&&(I(0,"option"),j(1),S()),t&2){let n=e.$implicit;D(),me(n)}}function Jue(t,e){if(t&1&&(I(0,"option",8),j(1),S()),t&2){let n=e.$implicit;P("ngValue",n),D(),me(n.value)}}function Zue(t,e){if(t&1){let n=ae();I(0,"div")(1,"select",5),Le("ngModelChange",function(r){k(n);let o=M().$implicit;return je(o.variable,r)||(o.variable=r),F(r)}),z(2,Que,2,2,"option",6),S(),I(3,"select",3),Le("ngModelChange",function(r){k(n);let o=M().$implicit;return je(o.operator,r)||(o.operator=r),F(r)}),z(4,Xue,2,1,"option",1),S(),I(5,"select",5),Le("ngModelChange",function(r){k(n);let o=M().$implicit;return je(o.value,r)||(o.value=r),F(r)}),z(6,Jue,2,2,"option",6),S(),I(7,"span",7),R("click",function(){k(n);let r=M().$implicit,o=M();return F(o.onRemoveConditionClick(r))}),S()()}if(t&2){let n=M().$implicit,i=M();D(),Fe("ngModel",n.variable),P("compareWith",i.compareVariables),D(),P("ngForOf",i.stateService.getVariables()),D(),Fe("ngModel",n.operator),D(),P("ngForOf",i.getComparisonOperators()),D(),et("disabled",!n.variable.id),Fe("ngModel",n.value),P("compareWith",i.compareOptions),D(),P("ngForOf",n.variable.options)}}function ede(t,e){if(t&1){let n=ae();I(0,"div")(1,"span",9)(2,"input",10),Le("ngModelChange",function(r){k(n);let o=M().$implicit;return je(o.chance,r)||(o.chance=r),F(r)}),R("input",function(r){k(n);let o=M().$implicit,a=M();return F(a.onChanceChange(o,r))}),S(),j(3,"%"),S(),I(4,"span",7),R("click",function(){k(n);let r=M().$implicit,o=M();return F(o.onRemoveConditionClick(r))}),S()()}if(t&2){let n=M().$implicit;D(2),Fe("ngModel",n.chance)}}function tde(t,e){if(t&1&&(gt(0),z(1,Zue,8,10,"div",0)(2,ede,5,1,"div",0),vt()),t&2){let n=e.$implicit,i=M();D(),P("ngIf",i.isVariableCondition(n)),D(),P("ngIf",i.isChanceCondition(n))}}function nde(t,e){if(t&1){let n=ae();I(0,"i",13),R("click",function(){k(n);let r=M(2);return F(r.createChanceCheck())}),S()}}function ide(t,e){if(t&1){let n=ae();I(0,"div")(1,"i",11),R("click",function(){k(n);let r=M();return F(r.createVariableCheck())}),S(),z(2,nde,1,0,"i",12),S()}if(t&2){let n=M();D(2),P("ngIf",!n.hasChanceCheck())}}function rde(t,e){t&1&&oe(0,"div",14)}function ode(t,e){if(t&1){let n=ae();gt(0),I(1,"div",15)(2,"span",16),j(3,"Action"),S(),I(4,"i",17),R("click",function(){k(n);let r=M();return F(r.createAction())}),S()(),I(5,"app-action-editor",18),R("removeAction",function(r){k(n);let o=M();return F(o.onRemoveAction(r))}),S(),vt()}if(t&2){let n=e.$implicit,i=M();D(5),P("action",n)("weightVisible",i.logic.actions.length>1)}}var LH=(()=>{let e=class e{constructor(i){this.stateService=i,this.removeLogic=new $t}ngOnInit(){}createVariableCheck(){let i=yt.createCondition(Jt.EQ);i.variable=yt.createVariable(),this.logic.conditions.push(i)}createChanceCheck(){this.logic.conditions.push(yt.createCondition(Jt.CHANCE))}createAction(){this.logic.actions.push(yt.createAction())}isLogicalCondition(i){return this.getLogicalOperators().includes(i?.operator)}isVariableCondition(i){return this.getComparisonOperators().includes(i?.operator)}isChanceCondition(i){return i?.operator==Jt.CHANCE}compareVariables(i,r){return i&&r?i.id==r.id:i==r}compareOptions(i,r){return i&&r?i.id==r.id:i==r}onRemoveConditionClick(i){se.remove(this.logic.conditions,i)}hasChanceCheck(){return this.logic.conditions.some(i=>this.isChanceCondition(i))}onRemoveLogicClick(){this.removeLogic.emit(this.logic)}onRemoveAction(i){se.remove(this.logic.actions,i)}onChanceChange(i,r){let o=r.target;isNaN(o.valueAsNumber)?(o.value="",i.chance=void 0):o.valueAsNumber<0?(o.valueAsNumber=0,i.chance=0):o.valueAsNumber>100?(o.valueAsNumber=100,i.chance=100):(o.valueAsNumber=Math.floor(o.valueAsNumber),i.chance=o.valueAsNumber)}getLogicalOperators(){return se.isEmpty(this.logic.conditions)?[Jt.ALWAYS]:[Jt.AND,Jt.OR]}getComparisonOperators(){return[Jt.EQ,Jt.NEQ]}};e.\u0275fac=function(r){return new(r||e)(N(ln))},e.\u0275cmp=he({type:e,selectors:[["app-logic-editor"]],inputs:{logic:"logic",removable:"removable"},outputs:{removeLogic:"removeLogic"},standalone:!0,features:[be],decls:5,vars:5,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["class","h-separator",4,"ngIf"],[3,"ngModel","ngModelChange"],["tp","Remove Logic",1,"icon-button","fa-solid","fa-times",3,"click"],[3,"ngModel","compareWith","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["tp","Remove Condition",1,"icon-button","fa-solid","fa-times",3,"click"],[3,"ngValue"],[1,"input-percentage-container"],["type","number",3,"ngModel","ngModelChange","input"],[1,"icon-button","fa-solid","fa-question",3,"click"],["class","icon-button fa-solid fa-percent","tp","Chance",3,"click",4,"ngIf"],["tp","Chance",1,"icon-button","fa-solid","fa-percent",3,"click"],[1,"h-separator"],[1,"section-header"],[1,"section-title"],["tp","Create Action",1,"icon-button","fa-solid","fa-plus",3,"click"],[3,"action","weightVisible","removeAction"]],template:function(r,o){r&1&&z(0,Yue,4,4,"div",0)(1,tde,3,2,"ng-container",1)(2,ide,3,1,"div",0)(3,rde,1,0,"div",2)(4,ode,6,2,"ng-container",1),r&2&&(P("ngIf",o.removable),D(),P("ngForOf",o.logic.conditions),D(),P("ngIf",o.removable),D(),P("ngIf",o.removable),D(),P("ngForOf",o.logic.actions))},dependencies:[Ee,Dt,At,Ct,Ms,Ps,Ut,Ou,Zr,Xt,zt,FH],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-border);border-radius:.334rem;padding:.334rem;gap:.334rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.334rem}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}select[_ngcontent-%COMP%]{width:100%;border-color:var(--color-border);border-radius:.334rem;color:var(--color-text);padding:2.2px;background-color:transparent;font-family:inherit;font-size:inherit}select[_ngcontent-%COMP%] > option[_ngcontent-%COMP%]{color:var(--color-text);background-color:var(--color-background-primary)}select.select-disabled[_ngcontent-%COMP%]{padding:0 .334rem;appearance:none;pointer-events:none}.input-percentage-container[_ngcontent-%COMP%]{width:100%;display:flex;border:1px solid var(--color-border);align-items:center;border-radius:.334rem;padding:.334rem}.input-percentage-container[_ngcontent-%COMP%] > input[type=number][_ngcontent-%COMP%]{width:100%;padding:0;border:none;outline:none;color:var(--color-text);background-color:transparent;font-size:inherit;font-weight:inherit;font-family:inherit}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]});let t=e;return t})();function sde(t,e){if(t&1){let n=ae();I(0,"app-logic-editor",6),R("removeLogic",function(r){k(n);let o=M();return F(o.onRemoveLogic(r))}),S()}if(t&2){let n=e.$implicit,i=e.index;P("logic",n)("removable",i>0)}}var VH=(()=>{let e=class e extends Qt{constructor(i){super(),this.dialogService=i,this.configuration={title:"Button Editor",buttons:[{text:()=>"Done",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableButton=yt.createButton(),this.sourceButton&&(this.editableButton.text=this.sourceButton.text,this.editableButton.tooltip=this.sourceButton.tooltip,this.editableButton.logic=this.sourceButton.logic,this.editableButton.disabled=this.sourceButton.disabled,this.editableButton.hidden=this.sourceButton.hidden)}createLogicEntry(){this.editableButton.logic.push(yt.createLogic(Jt.ALWAYS))}onRemoveLogic(i){se.isEmpty(i.conditions)&&i.actions.every(r=>se.isEmpty(r.storyChanges)&&se.isEmpty(r.variableChanges))?se.remove(this.editableButton.logic,i):this.dialogService.createConfirmation("Remove Logic Entry",["Are you sure you want to remove this logic entry?"],"Yes","No").then(r=>{r&&se.remove(this.editableButton.logic,i)})}canSubmit(){return!xt.isEmpty(this.editableButton.text)}submit(){if(this.canSubmit()){this.sourceButton.text=this.editableButton.text,this.sourceButton.tooltip=this.editableButton.tooltip;for(let i of this.editableButton.logic)for(let r of i.actions)r.storyChanges=r.storyChanges.filter(o=>!xt.isEmpty(o.value)),r.variableChanges=r.variableChanges.filter(o=>!xt.isEmpty(o.value));this.sourceButton.logic=this.editableButton.logic,this.sourceButton.hidden=yt.createCondition(Jt.NEVER),this.sourceButton.disabled=yt.createCondition(Jt.NEVER),this.resolve(this.sourceButton)}}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(N(Wn))},e.\u0275cmp=he({type:e,selectors:[["app-button-editor"]],inputs:{sourceButton:"sourceButton"},standalone:!0,features:[St,be],decls:15,vars:3,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"],["tp","Create Logic",1,"icon-button","fa-solid","fa-plus",3,"click"],[3,"logic","removable","removeLogic",4,"ngFor","ngForOf"],[3,"logic","removable","removeLogic"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"span",1),j(2,"Text"),S()(),I(3,"input",2),Le("ngModelChange",function(l){return je(o.editableButton.text,l)||(o.editableButton.text=l),l}),S(),oe(4,"div",3),I(5,"div",0)(6,"span",1),j(7,"Tooltip"),S()(),I(8,"input",2),Le("ngModelChange",function(l){return je(o.editableButton.tooltip,l)||(o.editableButton.tooltip=l),l}),S(),oe(9,"div",3),I(10,"div",0)(11,"span",1),j(12,"Logic"),S(),I(13,"i",4),R("click",function(){return o.createLogicEntry()}),S()(),z(14,sde,1,2,"app-logic-editor",5)),r&2&&(D(3),Fe("ngModel",o.editableButton.text),D(5),Fe("ngModel",o.editableButton.tooltip),D(6),P("ngForOf",o.editableButton.logic))},dependencies:[Ee,Dt,Ct,Ut,Xt,zt,LH],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.334rem;gap:.334rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.334rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.334rem}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-element[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();var jH=(()=>{let e=class e extends Qt{constructor(){super(),this.configuration={title:"Character Editor",buttons:[{text:()=>"Done",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableCharacter=yt.createCharacter(),this.sourceCharacter&&(this.editableCharacter.id=this.sourceCharacter.id,this.editableCharacter.name=this.sourceCharacter.name,this.editableCharacter.color=this.sourceCharacter.color)}canSubmit(){return!(xt.isEmpty(this.editableCharacter.id)||xt.isEmpty(this.editableCharacter.name)||xt.isEmpty(this.editableCharacter.color))}submit(){this.canSubmit()&&(this.sourceCharacter.id=this.editableCharacter.id,this.sourceCharacter.name=this.editableCharacter.name,this.sourceCharacter.color=this.editableCharacter.color,this.resolve(this.sourceCharacter))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=he({type:e,selectors:[["app-character-editor"]],inputs:{sourceCharacter:"sourceCharacter"},standalone:!0,features:[St,be],decls:14,vars:3,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"span",1),j(2,"ID"),S()(),I(3,"input",2),Le("ngModelChange",function(l){return je(o.editableCharacter.id,l)||(o.editableCharacter.id=l),l}),S(),oe(4,"div",3),I(5,"div",0)(6,"span",1),j(7,"Name"),S()(),I(8,"input",2),Le("ngModelChange",function(l){return je(o.editableCharacter.name,l)||(o.editableCharacter.name=l),l}),S(),oe(9,"div",3),I(10,"div",0)(11,"span",1),j(12,"Color"),S()(),I(13,"input",2),Le("ngModelChange",function(l){return je(o.editableCharacter.color,l)||(o.editableCharacter.color=l),l}),S()),r&2&&(D(3),Fe("ngModel",o.editableCharacter.id),D(5),Fe("ngModel",o.editableCharacter.name),D(5),Fe("ngModel",o.editableCharacter.color))},dependencies:[Ee,Ct,Ut,Xt,zt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.334rem;gap:.334rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.334rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}"]});let t=e;return t})();function ade(t,e){if(t&1&&(I(0,"option",6),j(1),S()),t&2){let n=e.$implicit;P("ngValue",n.id),D(),ta("",n.id," (",n.name,")")}}var UH=(()=>{let e=class e extends Qt{constructor(i,r){super(),this.editorService=i,this.stateService=r,this.configuration={title:"Dialogue Line Editor",buttons:[{text:()=>"Done",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableLine=yt.createDialogueLine(),this.sourceLine&&(this.editableLine.characterId=this.sourceLine.characterId,this.editableLine.text=this.sourceLine.text)}openCharacterEditor(){this.editorService.openCharacterEditor(yt.createCharacter(),this.stateService.currentScenario)}getCharacters(){return this.stateService.currentScenario.characters}canSubmit(){return!(xt.isEmpty(this.editableLine.characterId)||xt.isEmpty(this.editableLine.text))}submit(){this.canSubmit()&&(this.sourceLine.characterId=this.editableLine.characterId,this.sourceLine.text=this.editableLine.text,this.resolve(this.sourceLine))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(N(lr),N(ln))},e.\u0275cmp=he({type:e,selectors:[["app-dialogue-line-editor"]],inputs:{sourceLine:"sourceLine"},standalone:!0,features:[St,be],decls:11,vars:3,consts:[[1,"section-header"],[1,"section-title"],["tp","Create Character",1,"icon-button","fa-solid","fa-plus",3,"click"],[3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"h-separator"],[3,"ngValue"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"span",1),j(2,"Character"),S(),I(3,"i",2),R("click",function(){return o.openCharacterEditor()}),S()(),I(4,"select",3),Le("ngModelChange",function(l){return je(o.editableLine.characterId,l)||(o.editableLine.characterId=l),l}),z(5,ade,2,3,"option",4),S(),oe(6,"div",5),I(7,"div",0)(8,"span",1),j(9,"Text"),S()(),I(10,"input",3),Le("ngModelChange",function(l){return je(o.editableLine.text,l)||(o.editableLine.text=l),l}),S()),r&2&&(D(4),Fe("ngModel",o.editableLine.characterId),D(),P("ngForOf",o.getCharacters()),D(5),Fe("ngModel",o.editableLine.text))},dependencies:[Ee,Dt,Ct,Ms,Ps,Ut,Zr,Xt,zt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.334rem;gap:.334rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.334rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.334rem}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-element[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();function cde(t,e){if(t&1){let n=ae();I(0,"div",7)(1,"span",8),j(2),S(),I(3,"div",9)(4,"i",10),R("click",function(){let o=k(n).$implicit,a=M();return F(a.openDialogueLineEditor(o))}),S(),I(5,"i",11),R("click",function(){let o=k(n).$implicit,a=M();return F(a.deleteDialogueLine(o))}),S()()()}if(t&2){let n=e.$implicit,i=M();D(2),ta("",i.stateService.getCharacter(n.characterId).id,": ",n.text,"")}}function lde(t,e){if(t&1){let n=ae();I(0,"div",7)(1,"span",8),j(2),S(),I(3,"div",9)(4,"i",12),R("click",function(){let o=k(n).$implicit,a=M();return F(a.openButtonEditor(o))}),S(),I(5,"i",13),R("click",function(){let o=k(n).$implicit,a=M();return F(a.deleteButton(o))}),S()()()}if(t&2){let n=e.$implicit,i=M();D(2),me(i.stateService.getButton(n).text)}}var BH=(()=>{let e=class e extends Qt{constructor(i,r,o){super(),this.dialogService=i,this.editorService=r,this.stateService=o,this.configuration={title:"Dialogue Node Editor",buttons:[{text:()=>"Done",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableNode=yt.createDialogueNode(),this.sourceNode&&(this.editableNode.description=this.sourceNode.description,this.editableNode.lines=[...this.sourceNode.lines],this.editableNode.buttonIds=[...this.sourceNode.buttonIds])}getAvailableButtons(){return this.stateService.getButtons().filter(i=>!this.editableNode.buttonIds.includes(i.id))}openDialogueLineEditor(i=yt.createDialogueLine()){this.editorService.openDialogueLineEditor(i,this.editableNode)}deleteDialogueLine(i){this.dialogService.createConfirmation("Remove Dialogue Line",["Remove dialogue line "+i.text,"Are you sure?"],"Yes","No").then(r=>{r&&se.remove(this.editableNode.lines,i)})}openButtonEditor(i){this.editorService.openButtonEditor(i?this.stateService.getButton(i):yt.createButton(),this.stateService.getScenario(this.editableNode.parentScenarioId),this.editableNode)}deleteButton(i){let r=this.stateService.getButton(i);this.dialogService.createConfirmation("Remove Button",["Remove button "+r.text,"Are you sure?"],"Yes","No").then(o=>{o&&se.remove(this.editableNode.buttonIds,i)})}canSubmit(){return!(xt.isEmpty(this.editableNode.description)||se.isEmpty(this.editableNode.lines)||se.isEmpty(this.editableNode.buttonIds))}submit(){this.canSubmit()&&(this.sourceNode.description=this.editableNode.description,this.sourceNode.lines=this.editableNode.lines,this.sourceNode.buttonIds=this.editableNode.buttonIds,this.resolve(this.sourceNode))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(N(Wn),N(lr),N(ln))},e.\u0275cmp=he({type:e,selectors:[["app-dialogue-node-editor"]],inputs:{sourceNode:"sourceNode"},standalone:!0,features:[St,be],decls:16,vars:3,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"],["tp","Create Dialogue Line",1,"icon-button","fa-solid","fa-plus",3,"click"],["class","list-container",4,"ngFor","ngForOf"],["tp","Create Button",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"list-container"],[1,"list-element"],[1,"section-buttons"],["tp","Edit Dialogue Line",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Dialogue Line",1,"icon-button","fa-solid","fa-trash",3,"click"],["tp","Edit Button",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Button",1,"icon-button","fa-solid","fa-trash",3,"click"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"span",1),j(2,"Description"),S()(),I(3,"input",2),Le("ngModelChange",function(l){return je(o.editableNode.description,l)||(o.editableNode.description=l),l}),S(),oe(4,"div",3),I(5,"div",0)(6,"span",1),j(7,"Lines"),S(),I(8,"i",4),R("click",function(){return o.openDialogueLineEditor()}),S()(),z(9,cde,6,2,"div",5),oe(10,"div",3),I(11,"div",0)(12,"span",1),j(13,"Buttons"),S(),I(14,"i",6),R("click",function(){return o.openButtonEditor()}),S()(),z(15,lde,6,1,"div",5)),r&2&&(D(3),Fe("ngModel",o.editableNode.description),D(6),P("ngForOf",o.editableNode.lines),D(6),P("ngForOf",o.editableNode.buttonIds))},dependencies:[Ee,Dt,Ct,Ut,Xt,zt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.334rem;gap:.334rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.334rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.334rem}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-element[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();var dE=(()=>{let e=class e{constructor(i){let r=i.element.nativeElement;r.draggable=!0,r.ondragstart=()=>e.onDragStart(this.array,this.array.indexOf(this.object)),r.ondragenter=()=>e.onDragEnter(this.array,this.array.indexOf(this.object)),r.ondragend=()=>e.onDragEnd(this.array),r.ondragover=o=>o.preventDefault()}static onDragStart(i,r){this.currentArray==null&&this.currentIndex==null&&(this.currentArray=i,this.currentIndex=r)}static onDragEnter(i,r){this.currentArray==i&&this.currentIndex!=r&&(this.currentArray.splice(r,0,this.currentArray.splice(this.currentIndex,1)[0]),this.currentIndex=r)}static onDragEnd(i){this.currentArray==i&&(this.currentArray=null,this.currentIndex=null)}};e.\u0275fac=function(r){return new(r||e)(N(_i))},e.\u0275dir=Tt({type:e,selectors:[["","dragdrop",""]],inputs:{object:[Ae.None,"dragdrop","object"],array:[Ae.None,"dragdropParent","array"]},standalone:!0});let t=e;return t})();function ude(t,e){if(t&1){let n=ae();I(0,"div",8)(1,"span",9),j(2),S(),I(3,"div",10)(4,"i",11),R("click",function(){let o=k(n).$implicit,a=M();return F(a.openCharacterEditor(o))}),S(),I(5,"i",12),R("click",function(){let o=k(n).$implicit,a=M();return F(a.deleteCharacter(o))}),S()()()}if(t&2){let n=e.$implicit,i=M();P("dragdrop",n)("dragdropParent",i.editableScenario.characters),D(2),ta("",n.id," (",n.name,")")}}function dde(t,e){if(t&1){let n=ae();I(0,"div",8)(1,"span",9),j(2),S(),I(3,"div",10)(4,"i",13),R("click",function(){let o=k(n).$implicit,a=M();return F(a.openVariableEditor(o))}),S(),I(5,"i",14),R("click",function(){let o=k(n).$implicit,a=M();return F(a.deleteVariable(o))}),S()()()}if(t&2){let n=e.$implicit,i=M();P("dragdrop",n)("dragdropParent",i.editableScenario.variables),D(2),me(n.id)}}function hde(t,e){if(t&1){let n=ae();I(0,"div",8)(1,"span",9),j(2),S(),I(3,"div",10)(4,"i",15),R("click",function(){let o=k(n).$implicit,a=M();return F(a.openNodeEditor(o))}),S(),I(5,"i",16),R("click",function(){let o=k(n).$implicit,a=M();return F(a.deleteNode(o))}),S()()()}if(t&2){let n=e.$implicit,i=M();P("dragdrop",n)("dragdropParent",i.editableScenario.nodes),D(2),me(n.description)}}var $H=(()=>{let e=class e extends Qt{constructor(i,r,o){super(),this.dialogService=i,this.editorService=r,this.stateService=o,this.configuration={title:"Scenario Editor",buttons:[{text:()=>"Done",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableScenario=yt.createScenario(),this.sourceScenario&&(this.editableScenario.label=this.sourceScenario.label,this.editableScenario.characters=[...this.sourceScenario.characters],this.editableScenario.variables=[...this.sourceScenario.variables],this.editableScenario.nodes=[...this.sourceScenario.nodes])}openCharacterEditor(i=yt.createCharacter()){this.editorService.openCharacterEditor(i,this.editableScenario)}deleteCharacter(i){this.dialogService.createConfirmation("Remove Character",["Remove character "+i.name,"Are you sure?"],"Yes","No").then(r=>{r&&se.remove(this.editableScenario.characters,i)})}openVariableEditor(i=yt.createVariable()){this.editorService.openVariableEditor(i,this.editableScenario)}deleteVariable(i){this.dialogService.createConfirmation("Remove Variable",["Remove variable "+i.id,"Are you sure?"],"Yes","No").then(r=>{if(r){for(let o of this.editableScenario.buttons)for(let a of o.logic)for(let l of a.actions)if(l.variableChanges.some(d=>d.id==i.id)){alert("Variable '"+i.id+"' is used in button '"+o.text+"'.");return}se.remove(this.editableScenario.variables,i)}})}openNodeEditor(i=yt.createDialogueNode()){this.editorService.openDialogueNodeEditor(i,this.editableScenario)}deleteNode(i){this.dialogService.createConfirmation("Remove Variable",["Remove variable "+i.description,"Are you sure?"],"Yes","No").then(r=>{r&&se.remove(this.editableScenario.nodes,i)})}openButtonEditor(i=yt.createButton()){this.editorService.openButtonEditor(i,this.editableScenario)}deleteButton(i){this.dialogService.createConfirmation("Remove Button",["Remove button "+i.text,"Are you sure?"],"Yes","No").then(r=>{r&&(this.stateService.getNodes().forEach(o=>se.remove(o.buttonIds,i.id)),se.remove(this.editableScenario.buttons,i))})}canSubmit(){return!xt.isEmpty(this.editableScenario.label)}submit(){this.canSubmit()&&(this.sourceScenario.label=this.editableScenario.label,this.sourceScenario.characters=this.editableScenario.characters,this.sourceScenario.variables=this.editableScenario.variables,this.sourceScenario.nodes=this.editableScenario.nodes,this.resolve(this.sourceScenario))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(N(Wn),N(lr),N(ln))},e.\u0275cmp=he({type:e,selectors:[["app-scenario-editor"]],inputs:{sourceScenario:"sourceScenario"},standalone:!0,features:[St,be],decls:22,vars:4,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"],["tp","Create Character",1,"icon-button","fa-solid","fa-plus",3,"click"],["class","list-container",3,"dragdrop","dragdropParent",4,"ngFor","ngForOf"],["tp","Create Variable",1,"icon-button","fa-solid","fa-plus",3,"click"],["tp","Create Node",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"list-container",3,"dragdrop","dragdropParent"],[1,"list-element"],[1,"section-buttons"],["tp","Edit Character",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Character",1,"icon-button","fa-solid","fa-trash",3,"click"],["tp","Edit Variable",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Variable",1,"icon-button","fa-solid","fa-trash",3,"click"],["tp","Edit Node",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Node",1,"icon-button","fa-solid","fa-trash",3,"click"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"span",1),j(2,"Label"),S()(),I(3,"input",2),Le("ngModelChange",function(l){return je(o.editableScenario.label,l)||(o.editableScenario.label=l),l}),S(),oe(4,"div",3),I(5,"div",0)(6,"span",1),j(7,"Characters"),S(),I(8,"i",4),R("click",function(){return o.openCharacterEditor()}),S()(),z(9,ude,6,4,"div",5),oe(10,"div",3),I(11,"div",0)(12,"span",1),j(13,"Variables"),S(),I(14,"i",6),R("click",function(){return o.openVariableEditor()}),S()(),z(15,dde,6,3,"div",5),oe(16,"div",3),I(17,"div",0)(18,"span",1),j(19,"Nodes"),S(),I(20,"i",7),R("click",function(){return o.openNodeEditor()}),S()(),z(21,hde,6,3,"div",5)),r&2&&(D(3),Fe("ngModel",o.editableScenario.label),D(6),P("ngForOf",o.editableScenario.characters),D(6),P("ngForOf",o.editableScenario.variables),D(6),P("ngForOf",o.editableScenario.nodes))},dependencies:[Ee,Dt,Ct,Ut,Xt,zt,dE],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.334rem;gap:.334rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.334rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.334rem;cursor:grab;border-radius:.334rem}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-element[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();var Pr=function(t){return t.BOOLEAN="Boolean",t.NUMBER="Number",t.ENUM="Enum",t}(Pr||{});function fde(t,e){if(t&1&&(I(0,"option"),j(1),S()),t&2){let n=e.$implicit;D(),me(n)}}function pde(t,e){if(t&1){let n=ae();I(0,"div",9)(1,"input",2),Le("ngModelChange",function(r){let a=k(n).$implicit;return je(a.value,r)||(a.value=r),F(r)}),S(),I(2,"i",10),R("click",function(){let o=k(n).$implicit,a=M(2);return F(a.removeOption(o))}),S()()}if(t&2){let n=e.$implicit;D(),Fe("ngModel",n.value)}}function mde(t,e){if(t&1){let n=ae();gt(0),oe(1,"div",3),I(2,"div",6)(3,"div",0)(4,"span",1),j(5,"Options"),S(),I(6,"i",7),R("click",function(){k(n);let r=M();return F(r.createOption())}),S()(),z(7,pde,3,1,"div",8),S(),vt()}if(t&2){let n=M();D(7),P("ngForOf",n.editableVariable.options)}}function gde(t,e){if(t&1){let n=ae();gt(0),I(1,"select",2),Le("ngModelChange",function(r){k(n);let o=M();return je(o.editableVariable.initialValue,r)||(o.editableVariable.initialValue=r),F(r)}),I(2,"option",11),j(3,"True"),S(),I(4,"option",12),j(5,"False"),S()(),vt()}if(t&2){let n=M();D(),Fe("ngModel",n.editableVariable.initialValue)}}function vde(t,e){if(t&1){let n=ae();gt(0),I(1,"input",13),Le("ngModelChange",function(r){k(n);let o=M();return je(o.editableVariable.initialValue,r)||(o.editableVariable.initialValue=r),F(r)}),S(),vt()}if(t&2){let n=M();D(),Fe("ngModel",n.editableVariable.initialValue)}}function yde(t,e){if(t&1&&(I(0,"option",16),j(1),S()),t&2){let n=e.$implicit;P("value",n.value),D(),me(n.value)}}function _de(t,e){if(t&1){let n=ae();gt(0),I(1,"select",2),Le("ngModelChange",function(r){k(n);let o=M();return je(o.editableVariable.initialValue,r)||(o.editableVariable.initialValue=r),F(r)}),oe(2,"option",14),z(3,yde,2,2,"option",15),S(),vt()}if(t&2){let n=M();D(),Fe("ngModel",n.editableVariable.initialValue),D(2),P("ngForOf",n.editableVariable.options)}}var HH=(()=>{let e=class e extends Qt{constructor(i,r){super(),this.dialogService=i,this.stateService=r,this.configuration={title:"Variable Editor",buttons:[{text:()=>"Done",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableVariable=yt.createVariable(),this.sourceVariable?(this.editableVariable.id=this.sourceVariable.id,this.editableVariable.type=this.sourceVariable.type,this.editableVariable.options=this.sourceVariable.options):this.editableVariable.type=Pr.ENUM}createOption(){this.editableVariable.options.push({value:""})}removeOption(i){xt.isEmpty(i.value)?se.remove(this.editableVariable.options,i):this.dialogService.createConfirmation("Remove Option",["Remove option "+i.value,"Are you sure?"],"Yes","No").then(r=>{r&&se.remove(this.editableVariable.options,i)})}getVariableTypes(){return Object.values(Pr)}onVariableTypeChange(i){switch(i){case Pr.BOOLEAN:this.editableVariable.initialValue="false";break;case Pr.NUMBER:this.editableVariable.initialValue="0";break;case Pr.ENUM:this.editableVariable.initialValue=null;break}}processVariableChange(){for(let i of this.stateService.getButtons())for(let r of i.logic)for(let o of r.actions)for(let a of o.variableChanges)a.id==this.sourceVariable.id&&(a.id=this.editableVariable.id)}canSubmit(){if(xt.isEmpty(this.editableVariable.id)||xt.isEmpty(this.editableVariable.type))return!1;switch(this.editableVariable.type){case Pr.BOOLEAN:if(xt.isEmpty(this.editableVariable.initialValue))return!1;break;case Pr.NUMBER:if(this.editableVariable.initialValue==null||this.editableVariable.initialValue.length==0)return!1;break;case Pr.ENUM:if(!this.editableVariable.options.some(i=>i.value))return!1;break}return!0}submit(){if(this.canSubmit()){switch(this.sourceVariable.id&&this.processVariableChange(),this.sourceVariable.id=this.editableVariable.id,this.sourceVariable.type=this.editableVariable.type,this.editableVariable.type){case Pr.BOOLEAN:case Pr.NUMBER:this.sourceVariable.options.length=0;break;case Pr.ENUM:this.sourceVariable.options=this.editableVariable.options.filter(i=>!xt.isEmpty(i.value));break}this.sourceVariable.initialValue=this.editableVariable.initialValue,this.resolve(this.sourceVariable)}}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(N(Wn),N(ln))},e.\u0275cmp=he({type:e,selectors:[["app-variable-editor"]],inputs:{sourceVariable:"sourceVariable"},standalone:!0,features:[St,be],decls:18,vars:7,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"options-container"],["tp","Create Option",1,"icon-button","fa-solid","fa-plus",3,"click"],["class","option-container",4,"ngFor","ngForOf"],[1,"option-container"],["tp","Remove Option",1,"icon-button","fa-solid","fa-times",3,"click"],["value","true"],["value","false"],["type","number",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"span",1),j(2,"ID"),S()(),I(3,"input",2),Le("ngModelChange",function(l){return je(o.editableVariable.id,l)||(o.editableVariable.id=l),l}),S(),oe(4,"div",3),I(5,"div",0)(6,"span",1),j(7,"Type"),S()(),I(8,"select",2),Le("ngModelChange",function(l){return je(o.editableVariable.type,l)||(o.editableVariable.type=l),l}),R("ngModelChange",function(l){return o.onVariableTypeChange(l)}),z(9,fde,2,1,"option",4),S(),z(10,mde,8,1,"ng-container",5),oe(11,"div",3),I(12,"div",0)(13,"span",1),j(14,"Initial Value"),S()(),z(15,gde,6,1,"ng-container",5)(16,vde,2,1,"ng-container",5)(17,_de,4,2,"ng-container",5)),r&2&&(D(3),Fe("ngModel",o.editableVariable.id),D(5),Fe("ngModel",o.editableVariable.type),D(),P("ngForOf",o.getVariableTypes()),D(),P("ngIf",o.editableVariable.type=="Enum"),D(5),P("ngIf",o.editableVariable.type=="Boolean"),D(),P("ngIf",o.editableVariable.type=="Number"),D(),P("ngIf",o.editableVariable.type=="Enum"))},dependencies:[Ee,Dt,At,Ct,Ms,Ps,Ut,Ou,Zr,Xt,zt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.334rem;gap:.334rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.334rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .options-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;gap:.334rem}[_nghost-%COMP%]   .options-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .options-container[_ngcontent-%COMP%]   .option-container[_ngcontent-%COMP%]{display:flex;gap:6px}"]});let t=e;return t})();var lr=(()=>{let e=class e{constructor(i,r,o){this.googleService=i,this.stateService=r,this.dialogService=o,this.sidebarVisible=new uE(!0),this.storyVisible=!1,this.flowchartVisible=!1}openScenarioEditor(i){return C(this,null,function*(){this.stateService.currentScenario=i;let r=yield this.dialogService.create($H,{sourceScenario:i});return r&&(this.stateService.scenarios.includes(r)||this.stateService.scenarios.push(r),this.googleService.updateAdventure()),r})}openCharacterEditor(i,r){return C(this,null,function*(){let o=yield this.dialogService.create(jH,{sourceCharacter:i});return o&&r&&!r.characters.includes(o)&&r.characters.push(o),o})}openVariableEditor(i,r){return C(this,null,function*(){let o=yield this.dialogService.create(HH,{sourceVariable:i});return o&&r&&!r.variables.includes(o)&&r.variables.push(o),o})}openDialogueNodeEditor(i,r){return C(this,null,function*(){let o=yield this.dialogService.create(BH,{sourceNode:i});return o&&(r.nodes.includes(o)||(o.parentScenarioId=r.id,r.nodes.push(o))),o})}openDialogueLineEditor(i,r){return C(this,null,function*(){let o=yield this.dialogService.create(UH,{sourceLine:i});return o&&(r.lines.includes(o)||r.lines.push(o)),o})}openButtonEditor(i,r,o){return C(this,null,function*(){let a=yield this.dialogService.create(VH,{sourceButton:i});return a&&(r.buttons.find(l=>l.id==a.id)||r.buttons.push(a),o&&(o.buttonIds.find(l=>l==a.id)||o.buttonIds.push(a.id))),a})}};e.\u0275fac=function(r){return new(r||e)(re(Uc),re(ln),re(Wn))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wde(t,e){if(t&1){let n=ae();gt(0),I(1,"input",2),Le("ngModelChange",function(r){k(n);let o=M().ngVar;return je(o.label,r)||(o.label=r),F(r)}),R("input",function(){k(n);let r=M(2);return F(r.googleService.updateAdventure())}),S(),I(2,"textarea",3),Le("ngModelChange",function(r){k(n);let o=M().ngVar;return je(o.text,r)||(o.text=r),F(r)}),R("input",function(){k(n);let r=M(2);return F(r.onNoteInput())})("onCreate",function(r){k(n);let o=M(2);return F(o.initTab(r))}),S(),vt()}if(t&2){let n=M().ngVar;D(),Fe("ngModel",n.label),D(),Fe("ngModel",n.text)}}function bde(t,e){if(t&1&&(gt(0),z(1,wde,3,2,"ng-container",1),vt()),t&2){let n=e.ngVar;D(),P("ngIf",n)}}var GH=(()=>{let e=class e{constructor(i,r,o,a,l){this.googleService=i,this.applicationService=r,this.adventureService=o,this.graphService=a,this.stateService=l,this.applicationService.loading.next(!0)}ngOnInit(){this.adventureService.sidebarVisible.subscribe(i=>this.sideMargins=!i)}initTab(i){let r=this;i.nativeElement.addEventListener("keydown",function(o){if(o.key=="Tab"){o.preventDefault();let a=this.selectionStart,l=this.selectionEnd;this.value=this.value.substring(0,a)+"	"+this.value.substring(l),this.selectionStart=this.selectionEnd=a+1,r.onNoteInput()}})}onNoteInput(){let i=this.stateService.getCurrentNote();i.wordCount=xt.getWordCount(i.text),this.googleService.updateAdventure(),i.label=="Flowchart"&&this.graphService.renderNotes()}noteContentCutLine(i){if(i.ctrlKey&&i.code=="KeyX"){let r=document.getElementsByClassName("note-content")[0];if(r.selectionEnd==r.selectionStart){let o=this.stateService.getCurrentNote(),a=o.text,l=a.substring(0,r.selectionEnd).lastIndexOf(`
`)+1,d=a.indexOf(`
`,r.selectionEnd)+1;navigator.clipboard.writeText(a.substring(l,d)),o.text=a.substring(0,l)+a.substring(d==0?a.length:d),o.wordCount=xt.getWordCount(o.text),setTimeout(()=>r.setSelectionRange(l,l)),this.googleService.updateAdventure()}}}};e.\u0275fac=function(r){return new(r||e)(N(Uc),N(Tn),N(lr),N(jc),N(ln))},e.\u0275cmp=he({type:e,selectors:[["app-notes"]],hostVars:2,hostBindings:function(r,o){r&1&&R("keydown",function(l){return o.noteContentCutLine(l)},!1,yn),r&2&&et("side-margins",o.sideMargins)},standalone:!0,features:[be],decls:1,vars:1,consts:[[4,"ngVar"],[4,"ngIf"],["placeholder","Title",1,"note-title",3,"ngModel","ngModelChange","input"],["placeholder","Text",1,"note-content",3,"ngModel","ngModelChange","input","onCreate"]],template:function(r,o){r&1&&z(0,bde,2,1,"ng-container",0),r&2&&P("ngVar",o.stateService.getCurrentNote())},dependencies:[Ee,At,Ct,Ut,Xt,zt,Lc,Vc],styles:["[_nghost-%COMP%]{flex:1;min-width:50%;display:flex;flex-direction:column;justify-content:center;position:relative;padding:0 .334rem;transition-property:margin;transition-duration:.5s}.side-margins[_nghost-%COMP%]{margin:0 25%}[_nghost-%COMP%]   .note-title[_ngcontent-%COMP%]{min-width:100px;border:0;border-radius:0;padding-left:0;border-bottom:1px solid var(--color-border)}[_nghost-%COMP%]   .note-content[_ngcontent-%COMP%]{flex:1;resize:none;border:none;padding:.167rem 0}"]});let t=e;return t})();var nn=(()=>{let e=class e{static isLargeScreen(){return window.innerWidth>1e3}static isElementVisible(i,r){if(i){let o=i.getBoundingClientRect();return o.top>=0&&o.left>=0&&o.bottom<=(r?r.clientHeight:window.innerHeight)&&o.right<=(r?r.clientWidth:window.innerWidth)}}};e.MOUSE_MOVEMENT_TOLERANCE=10;let t=e;return t})();function Cde(t,e){if(t&1){let n=ae();I(0,"div",18),R("click",function(){let o=k(n).$implicit,a=M(2).$implicit,l=M();return F(l.setCurrentNote(a,o))})("dragend",function(){k(n);let r=M(3);return F(r.googleService.updateAdventure())}),I(1,"span",19),j(2),S(),I(3,"div",20)(4,"span",21),j(5),S(),I(6,"div",22)(7,"i",23),R("click",function(){let o=k(n).$implicit,a=M(2).$implicit,l=M();return F(l.removeNote(a,o))}),S()()()()}if(t&2){let n=e.$implicit,i=M(2).$implicit,r=M();P("dragdrop",n)("dragdropParent",i.notes),D(),et("highlight",n==r.stateService.currentScenario.currentNote),D(),me(n.label),D(3),me(n.wordCount)}}function Ede(t,e){if(t&1&&(I(0,"div",16),z(1,Cde,8,6,"div",17),S()),t&2){let n=M().$implicit;P("@drawer",void 0),D(),P("ngForOf",n.notes)}}function Ide(t,e){if(t&1){let n=ae();I(0,"div",6)(1,"div",7),R("click",function(){let o=k(n).$implicit,a=M();return F(a.setCurrentScenario(o))})("dragend",function(){k(n);let r=M();return F(r.googleService.updateAdventure())}),I(2,"span",8),j(3),S(),I(4,"div",9)(5,"span",10),j(6),S(),I(7,"div",11)(8,"i",12),R("click",function(){let o=k(n).$implicit,a=M();return F(a.createNote(o))}),S(),I(9,"i",13),R("click",function(){let o=k(n).$implicit,a=M();return F(a.openScenarioEditor(o))}),S(),I(10,"i",14),R("click",function(){let o=k(n).$implicit,a=M();return F(a.removeScenario(o))}),S()()()(),z(11,Ede,2,2,"div",15),S()}if(t&2){let n=e.$implicit,i=M();D(),P("dragdrop",n)("dragdropParent",i.stateService.scenarios),D(),et("highlight",n==i.stateService.currentScenario),D(),me(n.label),D(3),me(i.getNotesWordCount(n)),D(5),P("ngIf",i.stateService.currentScenario==n)}}var zH=(()=>{let e=class e{constructor(i,r,o,a,l){this.editorService=i,this.graphService=r,this.dialogService=o,this.googleService=a,this.stateService=l}ngOnInit(){}setCurrentNote(i,r){this.setCurrentScenario(i),this.stateService.currentScenario.currentNote=r}setCurrentScenario(i){this.stateService.currentScenario=i,nn.isLargeScreen()||this.editorService.sidebarVisible.next(!1),se.isEmpty(i.nodes)||(i.currentNode=i.nodes[0]),this.graphService.renderNotes()}setRandom(){let i=se.getRandom(this.stateService.scenarios,[this.stateService.currentScenario]),r=se.getRandom(i.notes);this.setCurrentNote(i,r),document.querySelector(".content-container").children[this.stateService.scenarios.indexOf(i)].children[1].children[i.notes.indexOf(r)].scrollIntoView({block:"center",behavior:"smooth"})}removeScenario(i){this.dialogService.createConfirmation("Delete Scenario",['Do you really want to delete "'+i.label+'"?'],"Yes","No").then(r=>{r&&(i==this.stateService.currentScenario&&this.setCurrentScenario(se.nearestRightFirst(this.stateService.scenarios,this.stateService.scenarios.indexOf(i))),se.remove(this.stateService.scenarios,i),this.googleService.updateAdventure())})}openScenarioEditor(i=yt.createScenario()){this.editorService.openScenarioEditor(i)}getNotesWordCount(i){let r=i.notes.flatMap(o=>o.wordCount).reduce((o,a)=>o+a,0);return r>0?r+"":""}createNote(i){i.notes||(i.notes=[]);let r={label:"New Note",text:"",wordCount:0};i.notes.push(r),i.currentNote=r,this.googleService.updateAdventure()}removeNote(i,r){let o=i.notes;this.dialogService.createConfirmation("Delete Note",['Do you really want to delete "'+r.label+'"?'],"Yes","No").then(a=>{a&&(i.currentNote=se.nearestRightFirst(o,o.indexOf(r)),se.remove(o,r),this.googleService.updateAdventure())})}};e.\u0275fac=function(r){return new(r||e)(N(lr),N(jc),N(Wn),N(Uc),N(ln))},e.\u0275cmp=he({type:e,selectors:[["app-scenario-browser"]],standalone:!0,features:[be],decls:6,vars:1,consts:[[1,"content-container","y-scrollbar-container"],["class","scenario-container",4,"ngFor","ngForOf"],[1,"h-separator","margins"],[1,"button-container"],["tp","Create Scenario",1,"icon-button","fa-solid","fa-plus",3,"click"],["tp","Select Random Scenario and Note",1,"icon-button","fa-solid","fa-shuffle",3,"click"],[1,"scenario-container"],[1,"scenario-label-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"scenario-label"],[1,"scenario-info"],[1,"scenario-notes-word-count"],[1,"scenario-buttons"],["tp","Create Note",1,"icon-button","fa-solid","fa-plus",3,"click"],["tp","Edit Scenario",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Scenario",1,"icon-button","fa-solid","fa-times",3,"click"],["class","scenario-notes-container",4,"ngIf"],[1,"scenario-notes-container"],["class","note-container",3,"dragdrop","dragdropParent","click","dragend",4,"ngFor","ngForOf"],[1,"note-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"note-label"],[1,"note-info"],[1,"note-word-count"],[1,"note-buttons"],["tp","Remove Note",1,"icon-button","fa-solid","fa-times",3,"click"]],template:function(r,o){r&1&&(I(0,"div",0),z(1,Ide,12,7,"div",1),S(),oe(2,"div",2),I(3,"div",3)(4,"i",4),R("click",function(){return o.openScenarioEditor()}),S(),I(5,"i",5),R("click",function(){return o.setRandom()}),S()()),r&2&&(D(),P("ngForOf",o.stateService.scenarios))},dependencies:[Ee,Dt,At,dE],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;overflow-x:hidden;overflow-y:auto}.content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.334rem;flex:1}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]:not(:first-child){padding-top:.167rem}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]:not(:last-child){padding-bottom:.167rem;border-bottom:1px solid var(--color-border)}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:space-between;line-height:30px;border-radius:.334rem}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]:hover   .scenario-notes-word-count[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]:hover   .scenario-buttons[_ngcontent-%COMP%]{display:flex!important}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]   .scenario-label[_ngcontent-%COMP%]{margin:0 .334rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]{text-align:end}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .scenario-notes-word-count[_ngcontent-%COMP%]{margin:0 .334rem}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .scenario-buttons[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]{display:flex;cursor:pointer;justify-content:space-between;line-height:30px;border-radius:.334rem}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-word-count[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-buttons[_ngcontent-%COMP%]{display:flex!important}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .navigation-note-label[_ngcontent-%COMP%]{width:100%}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-label[_ngcontent-%COMP%]{margin:0 .334rem;padding-left:1.002rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]{text-align:end}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]   .note-word-count[_ngcontent-%COMP%]{margin:0 .334rem}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]   .note-buttons[_ngcontent-%COMP%]{display:none}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:.334rem 0;gap:.334rem}"],data:{animation:[dH]}});let t=e;return t})();var If=class{static random(e,n){return Math.random()*(n?n-e:e)+(n?e:0)}static from(e){return e[Math.floor(this.random(e.length))]}static percentage(e){return Math.random()<e/100}static oneIn(e){return Math.random()<1/e}static color(){let e=(Math.random()+.618033988749895)%1,n=this.random(.4,.6),i=.95,r=Math.floor(e*6),o=e*6-r,a=i*(1-n),l=i*(1-o*n),d=i*(1-(1-o)*n),h,m,v;switch(r%6){case 0:h=i,m=d,v=a;break;case 1:h=l,m=i,v=a;break;case 2:h=a,m=i,v=d;break;case 3:h=a,m=l,v=i;break;case 4:h=d,m=a,v=i;break;case 5:h=i,m=a,v=l;break}return"#"+Math.round(h*255).toString(16)+Math.round(m*255).toString(16)+Math.round(v*255).toString(16)}};var qH=(()=>{let e=class e{constructor(i){this.stateService=i}executeAction(i){if(i.nextNodeId){let r=this.stateService.getNodes().find(a=>a.id==i.nextNodeId),o=this.stateService.getScenario(r.parentScenarioId);this.stateService.currentScenario!=o&&(this.stateService.currentScenario=o),o.currentNode=r}se.isEmpty(i.storyChanges)||se.push(this.stateService.story,i.storyChanges);for(let r of i.variableChanges){let o=this.stateService.getVariables().find(a=>a.id==r.id);o.value=r.value}return i.nextNodeId}executeButton(i){let r={variableChanges:[]};for(let o of i.logic)if(this.evaluate(o)){let a=this.processActionWeights(o.actions);r.nextNodeId||(r.nextNodeId=a.nextNodeId),r.storyChanges||(r.storyChanges=a.storyChanges);for(let l of a.variableChanges)se.includes(r.variableChanges,l,d=>d.id)||r.variableChanges.push(l)}this.executeAction(r)}executeRandomButton(){let i=this.stateService.getCurrentNode().buttonIds.map(r=>this.stateService.getButton(r)).filter(r=>!this.evaluate(r.hidden)&&!this.evaluate(r.disabled));this.executeButton(If.from(i))}processActionWeights(i){let r=0;i.forEach(a=>r+=a.weight);let o=If.random(r);for(let a of i)if(o-a.weight<0)return a}evaluate(i){switch(i.operator){case Jt.ALWAYS:return!0;case Jt.NEVER:return!1;case Jt.EQ:return i.variable.value==i.value;case Jt.NEQ:return i.variable.value!=i.value;case Jt.CHANCE:return If.percentage(i.chance);default:return!1}}};e.\u0275fac=function(r){return new(r||e)(re(ln))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Tde(t,e){if(t&1&&(I(0,"span"),j(1),S()),t&2){let n=e.$implicit;D(),me(n)}}function Dde(t,e){if(t&1){let n=ae();I(0,"span",17),R("click",function(){k(n);let r=M().$implicit,o=M(2);return F(o.actionService.executeButton(r))}),j(1),S()}if(t&2){let n=M().$implicit;P("tp",n.tooltip),D(),me(n.text)}}function Ade(t,e){if(t&1&&(gt(0),z(1,Dde,2,2,"span",16),vt()),t&2){let n=e.$implicit,i=M(2);D(),P("ngIf",!i.actionService.evaluate(n.hidden))}}function xde(t,e){if(t&1&&(gt(0),oe(1,"div",13),I(2,"div",14)(3,"span"),j(4),S(),I(5,"div",15),z(6,Ade,2,1,"ng-container",11),S()(),vt()),t&2){let n=M();D(4),me(n.stateService.getCurrentNode().description),D(2),P("ngForOf",n.stateService.getButtonsForNode())}}var WH=(()=>{let e=class e{constructor(i,r,o,a,l,d){this.googleService=i,this.graphService=r,this.editorService=o,this.applicationService=a,this.stateService=l,this.actionService=d,this.applicationService.loading.next(!0)}ngOnInit(){this.googleService.requestAdventure().then(i=>{this.stateService.initialize(i),this.graphService.renderNotes(),this.applicationService.loading.next(!1)})}import(){navigator.clipboard.readText().then(i=>this.stateService.initialize(JSON.parse(i)))}export(){let i=JSON.stringify(this.stateService.serialize());navigator.clipboard.writeText(i),console.log(i)}};e.\u0275fac=function(r){return new(r||e)(N(Uc),N(jc),N(lr),N(Tn),N(ln),N(qH))},e.\u0275cmp=he({type:e,selectors:[["app-adventure"]],standalone:!0,features:[be],decls:15,vars:13,consts:[[1,"header"],[1,"header-left"],["tp","Sidebar",1,"icon-button","fa-solid","fa-bars",3,"click"],[1,"header-right"],["tp","Toggle Brightness Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"content"],[1,"v-separator","mobile-hidden"],[1,"modules"],[1,"flowchart"],[1,"adventure-container"],[1,"story-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"h-separator"],[1,"node-container"],[1,"node-buttons-container"],["class","button",3,"tp","click",4,"ngIf"],[1,"button",3,"tp","click"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"div",1)(2,"i",2),R("click",function(){return o.editorService.sidebarVisible.toggle()}),S()(),I(3,"div",3)(4,"i",4),R("click",function(){return o.applicationService.toggleTheme()}),S()()(),I(5,"div",5),oe(6,"app-scenario-browser")(7,"div",6),I(8,"div",7),oe(9,"app-notes")(10,"pre",8),I(11,"div",9)(12,"div",10),z(13,Tde,2,1,"span",11),S(),z(14,xde,7,2,"ng-container",12),S()()()),r&2&&(D(4),P("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"),D(2),et("flex-0",!o.editorService.sidebarVisible.value),D(),et("desktop-hidden",!o.editorService.sidebarVisible.value),D(),et("mobile-flex-0",o.editorService.sidebarVisible.value),D(2),et("hidden",!o.editorService.flowchartVisible),D(),Ur("display",o.editorService.storyVisible?"":"none"),D(2),P("ngForOf",o.stateService.story),D(),P("ngIf",o.stateService.getCurrentNode()))},dependencies:[Ee,cr,Dt,At,zH,GH,tE],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;padding:.334rem;gap:.334rem;border-bottom:1px solid var(--color-border);justify-content:space-between}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;gap:.334rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;display:flex;overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]{flex:3;width:0;display:flex;transition-property:flex;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;margin:.668rem;gap:.668rem;-webkit-user-select:none;user-select:none;height:-webkit-fill-available}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-end;flex:1}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{gap:.668rem;display:flex;flex-direction:column;align-items:center;justify-content:center;height:33%;transition-property:opacity;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-buttons-container[_ngcontent-%COMP%]{display:flex;gap:.334rem}"]});let t=e;return t})();var KH=(()=>{let e=class e{constructor(i){this.elementRef=i}ngOnInit(){this.updateVisibility(window.innerWidth)}onResize(i){this.updateVisibility(i.target.innerWidth)}updateVisibility(i){i>1e3?this.elementRef.nativeElement.style.display="":this.elementRef.nativeElement.style.display="none"}};e.\u0275fac=function(r){return new(r||e)(N(Zt))},e.\u0275dir=Tt({type:e,selectors:[["","largescreen",""]],hostBindings:function(r,o){r&1&&R("resize",function(l){return o.onResize(l)},!1,yn)},standalone:!0});let t=e;return t})();var YH=(()=>{let e=class e{constructor(i){this.elementRef=i}ngOnInit(){this.updateVisibility(window.innerWidth)}onResize(i){this.updateVisibility(i.target.innerWidth)}updateVisibility(i){i<=1e3?this.elementRef.nativeElement.style.display="":this.elementRef.nativeElement.style.display="none"}};e.\u0275fac=function(r){return new(r||e)(N(Zt))},e.\u0275dir=Tt({type:e,selectors:[["","smallscreen",""]],hostBindings:function(r,o){r&1&&R("resize",function(l){return o.onResize(l)},!1,yn)},standalone:!0});let t=e;return t})();var QH={id:"2024-splav",title:"Splav 2024",questions:[{id:"termin",active:!0,title:"Ktor\xE9 v\xEDkendy m\xF4\u017Ee\u0161?",description:"Fakt vyber pros\xEDm \u010Do najviac, aby sme sa mali \u0161ancu zhodn\xFA\u0165. Nie \u017Ee kedy sa ti chce.",type:"checkbox",choices:[{id:"termin1",text:"15. - 16. J\xFAn",description:"Rock for People",selected:!0},{id:"termin2",text:"22. - 23. J\xFAn",selected:!0},{id:"termin3",text:"29. - 30. J\xFAn",selected:!0},{id:"termin4",text:"06. - 07. J\xFAl",selected:!0},{id:"termin5",text:"13. - 14. J\xFAl",description:"Pohoda",selected:!0},{id:"termin6",text:"20. - 21. J\xFAl",description:"Colours of Ostrava",selected:!0},{id:"termin7",text:"27. - 28. J\xFAl",selected:!0},{id:"termin8",text:"03. - 04. Aug",selected:!0},{id:"termin9",text:"10. - 11. Aug",description:"Grape, Sziget",selected:!0},{id:"termin10",text:"17. - 18. Aug",description:"Lovestream",selected:!0}]},{id:"pocetdni",active:!0,title:"Na ako dlho chce\u0161 \xEDs\u0165?",description:"Chod\xEDme iba raz za rok a 3 noci s\xFA viac srandy ako 2. Ten posledn\xFD de\u0148 v\u0161ak b\xFDva dos\u0165 n\xE1ro\u010Dn\xFD.",type:"radio",dontcare:"true",choices:[{id:"pocetdni4",text:"3 noci",description:"Streda ve\u010Der pr\xEDdeme, \u0160tvrtok r\xE1no \u0161tart, Nede\u013Ea ve\u010Der doma."},{id:"pocetdni4aleposlednydennesplavovat",text:"3 noci*",description:"...ale v Nede\u013Eu u\u017E nesplavova\u0165, r\xE1no hne\u010F domov."},{id:"pocetdni3",text:"2 noci",description:"\u0160tvrtok ve\u010Der pr\xEDdeme, Piatok r\xE1no \u0161tart, Nede\u013Ea ve\u010Der doma."}]}].map(t=>(t.dontcare&&t.choices.push({id:"dontcare",text:"Je mi to jedno",selected:!t.choices.some(e=>e.selected)}),t))};var hE=[QH];var eR=class{constructor(e,n){this._delegate=e,this.firebase=n,gm(e,new Oi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),dw(this._delegate)))}_getService(e,n=ls){var i;this._delegate.checkDestroyed();let r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=ls){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){gm(this._delegate,e)}_addOrOverwriteComponent(e){cD(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}};var Mde={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},XH=new Br("app-compat","Firebase",Mde);function Pde(t){let e={},n={__esModule:!0,initializeApp:o,app:r,registerVersion:an,setLogLevel:fw,onLog:hw,apps:null,SDK_VERSION:Eo,INTERNAL:{registerComponent:l,removeApp:i,useAsService:d,modularAPIs:lD}};n.default=n,Object.defineProperty(n,"apps",{get:a});function i(h){delete e[h]}function r(h){if(h=h||ls,!K1(e,h))throw XH.create("no-app",{appName:h});return e[h]}r.App=t;function o(h,m={}){let v=lh(h,m);if(K1(e,v.name))return e[v.name];let y=new t(v,n);return e[v.name]=y,y}function a(){return Object.keys(e).map(h=>e[h])}function l(h){let m=h.name,v=m.replace("-compat","");if(Co(h)&&h.type==="PUBLIC"){let y=(b=r())=>{if(typeof b[v]!="function")throw XH.create("invalid-app-argument",{appName:m});return b[v]()};h.serviceProps!==void 0&&hm(y,h.serviceProps),n[v]=y,t.prototype[v]=function(...b){return this._getService.bind(this,m).apply(this,h.multipleInstances?b:[])}}return h.type==="PUBLIC"?n[v]:null}function d(h,m){return m==="serverAuth"?null:m}return n}function ZH(){let t=Pde(eR);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:ZH,extendNamespace:e,createSubscribe:cw,ErrorFactory:Br,deepExtend:hm});function e(n){hm(t,n)}return t}var Ode=ZH();var JH=new as("@firebase/app-compat"),Rde="@firebase/app-compat",Nde="0.2.28";function kde(t){an(Rde,Nde,t)}if(cU()&&self.firebase!==void 0){JH.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);let t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&JH.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var _e=Ode;kde();var Fde="firebase",Lde="10.8.1";_e.registerVersion(Fde,Lde,"app-compat");function Nu(){return window}var Vde=2e3;function jde(t,e,n){return C(this,null,function*(){var i;let{BuildInfo:r}=Nu();$r(e.sessionId,"AuthEvent did not contain a session ID");let o=yield Gde(e.sessionId),a={};return ql()?a.ibi=r.packageName:_h()?a.apn=r.packageName:Nn(t,"operation-not-supported-in-this-environment"),r.displayName&&(a.appDisplayName=r.displayName),a.sessionId=o,Ow(t,n,e.type,void 0,(i=e.eventId)!==null&&i!==void 0?i:void 0,a)})}function Ude(t){return C(this,null,function*(){let{BuildInfo:e}=Nu(),n={};ql()?n.iosBundleId=e.packageName:_h()?n.androidPackageName=e.packageName:Nn(t,"operation-not-supported-in-this-environment"),yield eA(t,n)})}function Bde(t){let{cordova:e}=Nu();return new Promise(n=>{e.plugins.browsertab.isAvailable(i=>{let r=null;i?e.plugins.browsertab.openUrl(t):r=e.InAppBrowser.open(t,n4()?"_blank":"_system","location=yes"),n(r)})})}function $de(t,e,n){return C(this,null,function*(){let{cordova:i}=Nu(),r=()=>{};try{yield new Promise((o,a)=>{let l=null;function d(){var v;o();let y=(v=i.plugins.browsertab)===null||v===void 0?void 0:v.close;typeof y=="function"&&y(),typeof n?.close=="function"&&n.close()}function h(){l||(l=window.setTimeout(()=>{a(ui(t,"redirect-cancelled-by-user"))},Vde))}function m(){document?.visibilityState==="visible"&&h()}e.addPassiveListener(d),document.addEventListener("resume",h,!1),_h()&&document.addEventListener("visibilitychange",m,!1),r=()=>{e.removePassiveListener(d),document.removeEventListener("resume",h,!1),document.removeEventListener("visibilitychange",m,!1),l&&window.clearTimeout(l)}})}finally{r()}})}function Hde(t){var e,n,i,r,o,a,l,d,h,m;let v=Nu();Q(typeof((e=v?.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Q(typeof((n=v?.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Q(typeof((o=(r=(i=v?.cordova)===null||i===void 0?void 0:i.plugins)===null||r===void 0?void 0:r.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q(typeof((d=(l=(a=v?.cordova)===null||a===void 0?void 0:a.plugins)===null||l===void 0?void 0:l.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q(typeof((m=(h=v?.cordova)===null||h===void 0?void 0:h.InAppBrowser)===null||m===void 0?void 0:m.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Gde(t){return C(this,null,function*(){let e=zde(t),n=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(r=>r.toString(16).padStart(2,"0")).join("")})}function zde(t){if($r(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);let e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}var qde=20,tR=class extends Am{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}initialized(){return C(this,null,function*(){yield this.initPromise})}};function Wde(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:Qde(),postBody:null,tenantId:t.tenantId,error:ui(t,"no-auth-event")}}function Kde(t,e){return nR()._set(iR(t),e)}function eG(t){return C(this,null,function*(){let e=yield nR()._get(iR(t));return e&&(yield nR()._remove(iR(t))),e})}function Yde(t,e){var n,i;let r=Jde(e);if(r.includes("/__/auth/callback")){let o=fE(r),a=o.firebaseError?Xde(decodeURIComponent(o.firebaseError)):null,l=(i=(n=a?.code)===null||n===void 0?void 0:n.split("auth/"))===null||i===void 0?void 0:i[1],d=l?ui(l):null;return d?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:r,postBody:null}}return null}function Qde(){let t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<qde;n++){let i=Math.floor(Math.random()*e.length);t.push(e.charAt(i))}return t.join("")}function nR(){return Ri(hs)}function iR(t){return ds("authEvent",t.config.apiKey,t.name)}function Xde(t){try{return JSON.parse(t)}catch{return null}}function Jde(t){let e=fE(t),n=e.link?decodeURIComponent(e.link):void 0,i=fE(n).link,r=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return fE(r).link||r||i||n||t}function fE(t){if(!t?.includes("?"))return{};let[e,...n]=t.split("?");return dc(n.join("?"))}var Zde=500,rR=class{constructor(){this._redirectPersistence=Gr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ql,this._overrideRedirectResult=Sh}_initialize(e){return C(this,null,function*(){let n=e._key(),i=this.eventManagers.get(n);return i||(i=new tR(e),this.eventManagers.set(n,i),this.attachCallbackListeners(e,i)),i})}_openPopup(e){Nn(e,"operation-not-supported-in-this-environment")}_openRedirect(e,n,i,r){return C(this,null,function*(){Hde(e);let o=yield this._initialize(e);yield o.initialized(),o.resetRedirect(),g4(),yield this._originValidation(e);let a=Wde(e,i,r);yield Kde(e,a);let l=yield jde(e,a,n),d=yield Bde(l);return $de(e,o,d)})}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ude(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){let{universalLinks:i,handleOpenURL:r,BuildInfo:o}=Nu(),a=setTimeout(()=>C(this,null,function*(){yield eG(e),n.onEvent(tG())}),Zde),l=m=>C(this,null,function*(){clearTimeout(a);let v=yield eG(e),y=null;v&&m?.url&&(y=Yde(v,m.url)),n.onEvent(y||tG())});typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,l);let d=r,h=`${o.packageName.toLowerCase()}://`;Nu().handleOpenURL=m=>C(this,null,function*(){if(m.toLowerCase().startsWith(h)&&l({url:m}),typeof d=="function")try{d(m)}catch(v){console.error(v)}})}},nG=rR;function tG(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ui("no-auth-event")}}function iG(t,e){en(t)._logFramework(e)}var the="@firebase/auth-compat",nhe="0.5.3";var ihe=1e3;function Jv(){var t;return((t=self?.location)===null||t===void 0?void 0:t.protocol)||null}function rhe(){return Jv()==="http:"||Jv()==="https:"}function sG(t=Gt()){return!!((Jv()==="file:"||Jv()==="ionic:"||Jv()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function ohe(){return fm()||ow()}function she(){return aw()&&document?.documentMode===11}function ahe(t=Gt()){return/Edge\/\d+/.test(t)}function che(t=Gt()){return she()||ahe(t)}function aG(){try{let t=self.localStorage,e=Kl();if(t)return t.setItem(e,"1"),t.removeItem(e),che()?uc():!0}catch{return uR()&&uc()}return!1}function uR(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function oR(){return(rhe()||sw()||sG())&&!ohe()&&aG()&&!uR()}function cG(){return sG()&&typeof document<"u"}function lhe(){return C(this,null,function*(){return cG()?new Promise(t=>{let e=setTimeout(()=>{t(!1)},ihe);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1})}function uhe(){return typeof window<"u"?window:null}var Or={LOCAL:"local",NONE:"none",SESSION:"session"},Qv=Q,lG="persistence";function dhe(t,e){if(Qv(Object.values(Or).includes(e),t,"invalid-persistence-type"),fm()){Qv(e!==Or.SESSION,t,"unsupported-persistence-type");return}if(ow()){Qv(e===Or.NONE,t,"unsupported-persistence-type");return}if(uR()){Qv(e===Or.NONE||e===Or.LOCAL&&uc(),t,"unsupported-persistence-type");return}Qv(e===Or.NONE||aG(),t,"unsupported-persistence-type")}function sR(t){return C(this,null,function*(){yield t._initializationPromise;let e=uG(),n=ds(lG,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())})}function hhe(t,e){let n=uG();if(!n)return[];let i=ds(lG,t,e);switch(n.getItem(i)){case Or.NONE:return[la];case Or.LOCAL:return[ha,Gr];case Or.SESSION:return[Gr];default:return[]}}function uG(){var t;try{return((t=uhe())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}var fhe=Q,Os=class{constructor(){this.browserResolver=Ri(hg),this.cordovaResolver=Ri(nG),this.underlyingResolver=null,this._redirectPersistence=Gr,this._completeRedirectFn=Ql,this._overrideRedirectResult=Sh}_initialize(e){return C(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)})}_openPopup(e,n,i,r){return C(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,i,r)})}_openRedirect(e,n,i,r){return C(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,i,r)})}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return cG()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return fhe(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){return C(this,null,function*(){if(this.underlyingResolver)return;let e=yield lhe();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver})}};function dG(t){return t.unwrap()}function phe(t){return t.wrapped()}function mhe(t){return hG(t)}function ghe(t,e){var n;let i=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if(e?.code==="auth/multi-factor-auth-required"){let r=e;r.resolver=new cR(t,Zm(t,e))}else if(i){let r=hG(e),o=e;r&&(o.credential=r,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function hG(t){let{_tokenResponse:e}=t instanceof $n?t.customData:t;if(!e)return null;if(!(t instanceof $n)&&"temporaryProof"in e&&"phoneNumber"in e)return yc.credentialFromResult(t);let n=e.providerId;if(!n||n===gc.PASSWORD)return null;let i;switch(n){case gc.GOOGLE:i=Wl;break;case gc.FACEBOOK:i=Pm;break;case gc.GITHUB:i=Om;break;case gc.TWITTER:i=Rm;break;default:let{oauthIdToken:r,oauthAccessToken:o,oauthTokenSecret:a,pendingToken:l,nonce:d}=e;return!o&&!a&&!r&&!l?null:l?n.startsWith("saml.")?Hl._create(n,l):Hr._fromParams({providerId:n,signInMethod:n,pendingToken:l,idToken:r,accessToken:o}):new $l(n).credential({idToken:r,accessToken:o,rawNonce:d})}return t instanceof $n?i.credentialFromError(t):i.credentialFromResult(t)}function ur(t,e){return e.catch(n=>{throw n instanceof $n&&ghe(t,n),n}).then(n=>{let i=n.operationType,r=n.user;return{operationType:i,credential:mhe(n),additionalUserInfo:Jm(n),user:Sf.getOrCreate(r)}})}function aR(t,e){return C(this,null,function*(){let n=yield e;return{verificationId:n.verificationId,confirm:i=>ur(t,n.confirm(i))}})}var cR=class{constructor(e,n){this.resolver=n,this.auth=phe(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ur(dG(this.auth),this.resolver.resolveSignIn(e))}};var Sf=class t{constructor(e){this._delegate=e,this.multiFactor=eg(e)}static getOrCreate(e){return t.USER_MAP.has(e)||t.USER_MAP.set(e,new t(e)),t.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){return C(this,null,function*(){return ur(this.auth,Ch(this._delegate,e))})}linkWithPhoneNumber(e,n){return C(this,null,function*(){return aR(this.auth,ng(this._delegate,e,n))})}linkWithPopup(e){return C(this,null,function*(){return ur(this.auth,ag(this._delegate,e,Os))})}linkWithRedirect(e){return C(this,null,function*(){return yield sR(en(this.auth)),ug(this._delegate,e,Os)})}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){return C(this,null,function*(){return ur(this.auth,Eh(this._delegate,e))})}reauthenticateWithPhoneNumber(e,n){return aR(this.auth,ig(this._delegate,e,n))}reauthenticateWithPopup(e){return ur(this.auth,sg(this._delegate,e,Os))}reauthenticateWithRedirect(e){return C(this,null,function*(){return yield sR(en(this.auth)),lg(this._delegate,e,Os)})}sendEmailVerification(e){return Wm(this._delegate,e)}unlink(e){return C(this,null,function*(){return yield km(this._delegate,e),this})}updateEmail(e){return Qm(this._delegate,e)}updatePassword(e){return Xm(this._delegate,e)}updatePhoneNumber(e){return rg(this._delegate,e)}updateProfile(e){return Ym(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return Km(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Sf.USER_MAP=new WeakMap;var Xv=Q,rG=(()=>{class t{constructor(n,i){if(this.app=n,i.isInitialized()){this._delegate=i.getImmediate(),this.linkUnderlyingAuth();return}let{apiKey:r}=n.options;Xv(r,"invalid-api-key",{appName:n.name}),Xv(r,"invalid-api-key",{appName:n.name});let o=typeof window<"u"?Os:void 0;this._delegate=i.initialize({options:{persistence:vhe(r,n.name),popupRedirectResolver:o}}),this._delegate._updateErrorMap(Rw),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Sf.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(n){this._delegate.languageCode=n}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(n){this._delegate.tenantId=n}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(n,i){wh(this._delegate,n,i)}applyActionCode(n){return jm(this._delegate,n)}checkActionCode(n){return Ih(this._delegate,n)}confirmPasswordReset(n,i){return Vm(this._delegate,n,i)}createUserWithEmailAndPassword(n,i){return C(this,null,function*(){return ur(this._delegate,Bm(this._delegate,n,i))})}fetchProvidersForEmail(n){return this.fetchSignInMethodsForEmail(n)}fetchSignInMethodsForEmail(n){return qm(this._delegate,n)}isSignInWithEmailLink(n){return Gm(this._delegate,n)}getRedirectResult(){return C(this,null,function*(){Xv(oR(),this._delegate,"operation-not-supported-in-this-environment");let n=yield dg(this._delegate,Os);return n?ur(this._delegate,Promise.resolve(n)):{credential:null,user:null}})}addFrameworkForLogging(n){iG(this._delegate,n)}onAuthStateChanged(n,i,r){let{next:o,error:a,complete:l}=oG(n,i,r);return this._delegate.onAuthStateChanged(o,a,l)}onIdTokenChanged(n,i,r){let{next:o,error:a,complete:l}=oG(n,i,r);return this._delegate.onIdTokenChanged(o,a,l)}sendSignInLinkToEmail(n,i){return Hm(this._delegate,n,i)}sendPasswordResetEmail(n,i){return Lm(this._delegate,n,i||void 0)}setPersistence(n){return C(this,null,function*(){dhe(this._delegate,n);let i;switch(n){case Or.SESSION:i=Gr;break;case Or.LOCAL:i=(yield Ri(ha)._isAvailable())?ha:hs;break;case Or.NONE:i=la;break;default:return Nn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(i)})}signInAndRetrieveDataWithCredential(n){return this.signInWithCredential(n)}signInAnonymously(){return ur(this._delegate,Nm(this._delegate))}signInWithCredential(n){return ur(this._delegate,vc(this._delegate,n))}signInWithCustomToken(n){return ur(this._delegate,Fm(this._delegate,n))}signInWithEmailAndPassword(n,i){return ur(this._delegate,$m(this._delegate,n,i))}signInWithEmailLink(n,i){return ur(this._delegate,zm(this._delegate,n,i))}signInWithPhoneNumber(n,i){return aR(this._delegate,tg(this._delegate,n,i))}signInWithPopup(n){return C(this,null,function*(){return Xv(oR(),this._delegate,"operation-not-supported-in-this-environment"),ur(this._delegate,og(this._delegate,n,Os))})}signInWithRedirect(n){return C(this,null,function*(){return Xv(oR(),this._delegate,"operation-not-supported-in-this-environment"),yield sR(this._delegate),cg(this._delegate,n,Os)})}updateCurrentUser(n){return this._delegate.updateCurrentUser(n)}verifyPasswordResetCode(n){return Um(this._delegate,n)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return t.Persistence=Or,t})();function oG(t,e,n){let i=t;typeof t!="function"&&({next:i,error:e,complete:n}=t);let r=i;return{next:a=>r(a&&Sf.getOrCreate(a)),error:e,complete:n}}function vhe(t,e){let n=hhe(t,e);if(typeof self<"u"&&!n.includes(ha)&&n.push(ha),typeof window<"u")for(let i of[hs,Gr])n.includes(i)||n.push(i);return n.includes(la)||n.push(la),n}var Zv=class{constructor(){this.providerId="phone",this._delegate=new yc(dG(_e.auth()))}static credential(e,n){return yc.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}};Zv.PHONE_SIGN_IN_METHOD=yc.PHONE_SIGN_IN_METHOD;Zv.PROVIDER_ID=yc.PROVIDER_ID;var yhe=Q,lR=class{constructor(e,n,i=_e.app()){var r;yhe((r=i.options)===null||r===void 0?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new vh(i.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}};var _he="auth-compat";function whe(t){t.INTERNAL.registerComponent(new Oi(_he,e=>{let n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new rG(n,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ua.EMAIL_SIGNIN,PASSWORD_RESET:ua.PASSWORD_RESET,RECOVER_EMAIL:ua.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ua.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ua.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ua.VERIFY_EMAIL}},EmailAuthProvider:bh,FacebookAuthProvider:Pm,GithubAuthProvider:Om,GoogleAuthProvider:Wl,OAuthProvider:$l,SAMLAuthProvider:gh,PhoneAuthProvider:Zv,PhoneMultiFactorGenerator:zw,RecaptchaVerifier:lR,TwitterAuthProvider:Rm,Auth:rG,AuthCredential:So,Error:$n}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(the,nhe)}whe(_e);var pG=bq(fG());var hn={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};hn=function(){"use strict";var t=[],e=[],n="mdlComponentConfigInternal_";function i(E,T){for(var O=0;O<t.length;O++)if(t[O].className===E)return typeof T<"u"&&(t[O]=T),t[O];return!1}function r(E){var T=E.getAttribute("data-upgraded");return T===null?[""]:T.split(",")}function o(E,T){var O=r(E);return O.indexOf(T)!==-1}function a(E,T,O){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(E,{bubbles:T,cancelable:O});var L=document.createEvent("Events");return L.initEvent(E,T,O),L}function l(E,T){if(typeof E>"u"&&typeof T>"u")for(var O=0;O<t.length;O++)l(t[O].className,t[O].cssClass);else{var L=E;if(typeof T>"u"){var $=i(L);$&&(T=$.cssClass)}for(var A=document.querySelectorAll("."+T),ee=0;ee<A.length;ee++)d(A[ee],L)}}function d(E,T){if(!(typeof E=="object"&&E instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var O=a("mdl-componentupgrading",!0,!0);if(E.dispatchEvent(O),!O.defaultPrevented){var L=r(E),$=[];if(T)o(E,T)||$.push(i(T));else{var A=E.classList;t.forEach(function($e){A.contains($e.cssClass)&&$.indexOf($e)===-1&&!o(E,$e.className)&&$.push($e)})}for(var ee=0,U=$.length,ie;ee<U;ee++){if(ie=$[ee],ie){L.push(ie.className),E.setAttribute("data-upgraded",L.join(","));var Ce=new ie.classConstructor(E);Ce[n]=ie,e.push(Ce);for(var He=0,Xe=ie.callbacks.length;He<Xe;He++)ie.callbacks[He](E);ie.widget&&(E[ie.className]=Ce)}else throw new Error("Unable to find a registered component for the given class.");var Ie=a("mdl-componentupgraded",!0,!1);E.dispatchEvent(Ie)}}}function h(E){Array.isArray(E)||(E instanceof Element?E=[E]:E=Array.prototype.slice.call(E));for(var T=0,O=E.length,L;T<O;T++)L=E[T],L instanceof HTMLElement&&(d(L),L.children.length>0&&h(L.children))}function m(E){var T=typeof E.widget>"u"&&typeof E.widget>"u",O=!0;T||(O=E.widget||E.widget);var L={classConstructor:E.constructor||E.constructor,className:E.classAsString||E.classAsString,cssClass:E.cssClass||E.cssClass,widget:O,callbacks:[]};if(t.forEach(function(A){if(A.cssClass===L.cssClass)throw new Error("The provided cssClass has already been registered: "+A.cssClass);if(A.className===L.className)throw new Error("The provided className has already been registered")}),E.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");var $=i(E.classAsString,L);$||t.push(L)}function v(E,T){var O=i(E);O&&O.callbacks.push(T)}function y(){for(var E=0;E<t.length;E++)l(t[E].className)}function b(E){if(E){var T=e.indexOf(E);e.splice(T,1);var O=E.element_.getAttribute("data-upgraded").split(","),L=O.indexOf(E[n].classAsString);O.splice(L,1),E.element_.setAttribute("data-upgraded",O.join(","));var $=a("mdl-componentdowngraded",!0,!1);E.element_.dispatchEvent($)}}function w(E){var T=function(L){e.filter(function($){return $.element_===L}).forEach(b)};if(E instanceof Array||E instanceof NodeList)for(var O=0;O<E.length;O++)T(E[O]);else if(E instanceof Node)T(E);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:l,upgradeElement:d,upgradeElements:h,upgradeAllRegistered:y,registerUpgradedCallback:v,register:m,downgradeElements:w}}();hn.ComponentConfigPublic;hn.ComponentConfig;hn.Component;hn.upgradeDom=hn.upgradeDom;hn.upgradeElement=hn.upgradeElement;hn.upgradeElements=hn.upgradeElements;hn.upgradeAllRegistered=hn.upgradeAllRegistered;hn.registerUpgradedCallback=hn.registerUpgradedCallback;hn.register=hn.register;hn.downgradeElements=hn.downgradeElements;window.componentHandler=hn;window.componentHandler=hn;window.addEventListener("load",function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),hn.upgradeAllRegistered()):(hn.upgradeElement=function(){},hn.register=function(){})});(function(){"use strict";var t=function(n){this.element_=n,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(e){e&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})})();(function(){"use strict";var t=function(n){this.element_=n,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})})();(function(){"use strict";var t=function(n){this.element_=n,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(e){var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),o.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var a=[i,r,o],l=0;l<a.length;l++){var d=document.createElement("div");d.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),a[l].appendChild(d)}n.appendChild(i),n.appendChild(r),n.appendChild(o),this.element_.appendChild(n)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})})();(function(){"use strict";var t=function(n){this.element_=n,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(e){var n=e.target.value.split(`
`).length;e.keyCode===13&&n>=this.maxRows&&e.preventDefault()},t.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(e){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})})();(function(){(function(){var t,e=typeof Object.create=="function"?Object.create:function(s){function c(){}return c.prototype=s,new c},n;if(typeof Object.setPrototypeOf=="function")n=Object.setPrototypeOf;else{var i;e:{var r={xb:!0},o={};try{o.__proto__=r,i=o.xb;break e}catch{}i=!1}n=i?function(s,c){if(s.__proto__=c,s.__proto__!==c)throw new TypeError(s+" is not extensible");return s}:null}var a=n;function l(s,c){if(s.prototype=e(c.prototype),s.prototype.constructor=s,a)a(s,c);else for(var u in c)if(u!="prototype")if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(c,u);f&&Object.defineProperty(s,u,f)}else s[u]=c[u];s.K=c.prototype}var d=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,c,u){s!=Array.prototype&&s!=Object.prototype&&(s[c]=u.value)},h=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function m(s,c){if(c){var u=h;s=s.split(".");for(var f=0;f<s.length-1;f++){var p=s[f];p in u||(u[p]={}),u=u[p]}s=s[s.length-1],f=u[s],c=c(f),c!=f&&c!=null&&d(u,s,{configurable:!0,writable:!0,value:c})}}m("Object.is",function(s){return s||function(c,u){return c===u?c!==0||1/c===1/u:c!==c&&u!==u}}),m("Array.prototype.includes",function(s){return s||function(c,u){var f=this;f instanceof String&&(f=String(f));var p=f.length;for(u=u||0,0>u&&(u=Math.max(u+p,0));u<p;u++){var g=f[u];if(g===c||Object.is(g,c))return!0}return!1}});var v=this;function y(s){return s!==void 0}function b(s){return typeof s=="string"}var w=/^[\w+/_-]+[=]{0,2}$/,E=null;function T(){}function O(s){s.W=void 0,s.Xa=function(){return s.W?s.W:s.W=new s}}function L(s){var c=typeof s;if(c=="object")if(s){if(s instanceof Array)return"array";if(s instanceof Object)return c;var u=Object.prototype.toString.call(s);if(u=="[object Window]")return"object";if(u=="[object Array]"||typeof s.length=="number"&&typeof s.splice<"u"&&typeof s.propertyIsEnumerable<"u"&&!s.propertyIsEnumerable("splice"))return"array";if(u=="[object Function]"||typeof s.call<"u"&&typeof s.propertyIsEnumerable<"u"&&!s.propertyIsEnumerable("call"))return"function"}else return"null";else if(c=="function"&&typeof s.call>"u")return"object";return c}function $(s){return L(s)=="array"}function A(s){var c=L(s);return c=="array"||c=="object"&&typeof s.length=="number"}function ee(s){return L(s)=="function"}function U(s){var c=typeof s;return c=="object"&&s!=null||c=="function"}var ie="closure_uid_"+(1e9*Math.random()>>>0),Ce=0;function He(s,c,u){return s.call.apply(s.bind,arguments)}function Xe(s,c,u){if(!s)throw Error();if(2<arguments.length){var f=Array.prototype.slice.call(arguments,2);return function(){var p=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(p,f),s.apply(c,p)}}return function(){return s.apply(c,arguments)}}function Ie(s,c,u){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ie=He:Ie=Xe,Ie.apply(null,arguments)}function $e(s,c){var u=Array.prototype.slice.call(arguments,1);return function(){var f=u.slice();return f.push.apply(f,arguments),s.apply(this,f)}}function Te(s,c){for(var u in c)s[u]=c[u]}var rn=Date.now||function(){return+new Date};function Ke(s,c){s=s.split(".");var u=v;s[0]in u||typeof u.execScript>"u"||u.execScript("var "+s[0]);for(var f;s.length&&(f=s.shift());)!s.length&&y(c)?u[f]=c:u[f]&&u[f]!==Object.prototype[f]?u=u[f]:u=u[f]={}}function H(s,c){function u(){}u.prototype=c.prototype,s.K=c.prototype,s.prototype=new u,s.prototype.constructor=s,s.vc=function(f,p,g){for(var _=Array(arguments.length-2),x=2;x<arguments.length;x++)_[x-2]=arguments[x];return c.prototype[p].apply(f,_)}}function ne(s){if(Error.captureStackTrace)Error.captureStackTrace(this,ne);else{var c=Error().stack;c&&(this.stack=c)}s&&(this.message=String(s))}H(ne,Error),ne.prototype.name="CustomError";var ue;function Pe(s,c){s=s.split("%s");for(var u="",f=s.length-1,p=0;p<f;p++)u+=s[p]+(p<c.length?c[p]:"%s");ne.call(this,u+s[f])}H(Pe,ne),Pe.prototype.name="AssertionError";function tt(s,c){throw new Pe("Failure"+(s?": "+s:""),Array.prototype.slice.call(arguments,1))}var Dn=Array.prototype.indexOf?function(s,c){return Array.prototype.indexOf.call(s,c,void 0)}:function(s,c){if(b(s))return b(c)&&c.length==1?s.indexOf(c,0):-1;for(var u=0;u<s.length;u++)if(u in s&&s[u]===c)return u;return-1},Nt=Array.prototype.forEach?function(s,c,u){Array.prototype.forEach.call(s,c,u)}:function(s,c,u){for(var f=s.length,p=b(s)?s.split(""):s,g=0;g<f;g++)g in p&&c.call(u,p[g],g,s)};function ei(s,c){for(var u=b(s)?s.split(""):s,f=s.length-1;0<=f;--f)f in u&&c.call(void 0,u[f],f,s)}var ht=Array.prototype.filter?function(s,c){return Array.prototype.filter.call(s,c,void 0)}:function(s,c){for(var u=s.length,f=[],p=0,g=b(s)?s.split(""):s,_=0;_<u;_++)if(_ in g){var x=g[_];c.call(void 0,x,_,s)&&(f[p++]=x)}return f},Di=Array.prototype.map?function(s,c){return Array.prototype.map.call(s,c,void 0)}:function(s,c){for(var u=s.length,f=Array(u),p=b(s)?s.split(""):s,g=0;g<u;g++)g in p&&(f[g]=c.call(void 0,p[g],g,s));return f},hr=Array.prototype.some?function(s,c){return Array.prototype.some.call(s,c,void 0)}:function(s,c){for(var u=s.length,f=b(s)?s.split(""):s,p=0;p<u;p++)if(p in f&&c.call(void 0,f[p],p,s))return!0;return!1};function ct(s,c){return 0<=Dn(s,c)}function Fn(s,c){c=Dn(s,c);var u;return(u=0<=c)&&on(s,c),u}function on(s,c){return Array.prototype.splice.call(s,c,1).length==1}function ji(s,c){e:{for(var u=s.length,f=b(s)?s.split(""):s,p=0;p<u;p++)if(p in f&&c.call(void 0,f[p],p,s)){c=p;break e}c=-1}0<=c&&on(s,c)}function Rr(s,c){var u=0;ei(s,function(f,p){c.call(void 0,f,p,s)&&on(s,p)&&u++})}function Bc(s){return Array.prototype.concat.apply([],arguments)}function Ca(s){var c=s.length;if(0<c){for(var u=Array(c),f=0;f<c;f++)u[f]=s[f];return u}return[]}function Lu(s,c,u){return 2>=arguments.length?Array.prototype.slice.call(s,c):Array.prototype.slice.call(s,c,u)}var ti=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]},$c=/&/g,Hc=/</g,Vu=/>/g,ju=/"/g,no=/'/g,Uo=/\x00/g,Gc=/[\x00&<>"']/;function io(s,c){return s<c?-1:s>c?1:0}function Nr(s){return Gc.test(s)&&(s.indexOf("&")!=-1&&(s=s.replace($c,"&amp;")),s.indexOf("<")!=-1&&(s=s.replace(Hc,"&lt;")),s.indexOf(">")!=-1&&(s=s.replace(Vu,"&gt;")),s.indexOf('"')!=-1&&(s=s.replace(ju,"&quot;")),s.indexOf("'")!=-1&&(s=s.replace(no,"&#39;")),s.indexOf("\0")!=-1&&(s=s.replace(Uo,"&#0;"))),s}function zc(s,c,u){for(var f in s)c.call(u,s[f],f,s)}function Ea(s){var c={},u;for(u in s)c[u]=s[u];return c}var qc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ns(s,c){for(var u,f,p=1;p<arguments.length;p++){f=arguments[p];for(u in f)s[u]=f[u];for(var g=0;g<qc.length;g++)u=qc[g],Object.prototype.hasOwnProperty.call(f,u)&&(s[u]=f[u])}}var Ia="StopIteration"in v?v.StopIteration:{message:"StopIteration",stack:""};function ks(){}ks.prototype.next=function(){throw Ia},ks.prototype.ha=function(){return this};function ey(s){if(s instanceof ks)return s;if(typeof s.ha=="function")return s.ha(!1);if(A(s)){var c=0,u=new ks;return u.next=function(){for(;;){if(c>=s.length)throw Ia;if(c in s)return s[c++];c++}},u}throw Error("Not implemented")}function CE(s,c){if(A(s))try{Nt(s,c,void 0)}catch(u){if(u!==Ia)throw u}else{s=ey(s);try{for(;;)c.call(void 0,s.next(),void 0,s)}catch(u){if(u!==Ia)throw u}}}function EE(s){if(A(s))return Ca(s);s=ey(s);var c=[];return CE(s,function(u){c.push(u)}),c}function B(s,c){this.g={},this.a=[],this.j=this.h=0;var u=arguments.length;if(1<u){if(u%2)throw Error("Uneven number of arguments");for(var f=0;f<u;f+=2)this.set(arguments[f],arguments[f+1])}else if(s)if(s instanceof B)for(u=s.ja(),f=0;f<u.length;f++)this.set(u[f],s.get(u[f]));else for(f in s)this.set(f,s[f])}t=B.prototype,t.la=function(){fe(this);for(var s=[],c=0;c<this.a.length;c++)s.push(this.g[this.a[c]]);return s},t.ja=function(){return fe(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0};function fe(s){if(s.h!=s.a.length){for(var c=0,u=0;c<s.a.length;){var f=s.a[c];Se(s.g,f)&&(s.a[u++]=f),c++}s.a.length=u}if(s.h!=s.a.length){var p={};for(u=c=0;c<s.a.length;)f=s.a[c],Se(p,f)||(s.a[u++]=f,p[f]=1),c++;s.a.length=u}}t.get=function(s,c){return Se(this.g,s)?this.g[s]:c},t.set=function(s,c){Se(this.g,s)||(this.h++,this.a.push(s),this.j++),this.g[s]=c},t.forEach=function(s,c){for(var u=this.ja(),f=0;f<u.length;f++){var p=u[f],g=this.get(p);s.call(c,g,p,this)}},t.ha=function(s){fe(this);var c=0,u=this.j,f=this,p=new ks;return p.next=function(){if(u!=f.j)throw Error("The map has changed since the iterator was created");if(c>=f.a.length)throw Ia;var g=f.a[c++];return s?g:f.g[g]},p};function Se(s,c){return Object.prototype.hasOwnProperty.call(s,c)}var Mt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ft(s,c){if(s){s=s.split("&");for(var u=0;u<s.length;u++){var f=s[u].indexOf("="),p=null;if(0<=f){var g=s[u].substring(0,f);p=s[u].substring(f+1)}else g=s[u];c(g,p?decodeURIComponent(p.replace(/\+/g," ")):"")}}}function ni(s,c,u,f){for(var p=u.length;0<=(c=s.indexOf(u,c))&&c<f;){var g=s.charCodeAt(c-1);if((g==38||g==63)&&(g=s.charCodeAt(c+p),!g||g==61||g==38||g==35))return c;c+=p+1}return-1}var Ui=/#|$/;function ro(s,c){var u=s.search(Ui),f=ni(s,0,c,u);if(0>f)return null;var p=s.indexOf("&",f);return(0>p||p>u)&&(p=u),f+=c.length+1,decodeURIComponent(s.substr(f,p-f).replace(/\+/g," "))}var ty=/[?&]($|#)/;function Ai(s,c){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var u;s instanceof Ai?(this.i=y(c)?c:s.i,Wc(this,s.j),this.A=s.A,this.h=s.h,Sa(this,s.C),this.g=s.g,Bo(this,vR(s.a)),this.s=s.s):s&&(u=String(s).match(Mt))?(this.i=!!c,Wc(this,u[1]||"",!0),this.A=Fs(u[2]||""),this.h=Fs(u[3]||"",!0),Sa(this,u[4]),this.g=Fs(u[5]||"",!0),Bo(this,u[6]||"",!0),this.s=Fs(u[7]||"")):(this.i=!!c,this.a=new Mf(null,this.i))}Ai.prototype.toString=function(){var s=[],c=this.j;c&&s.push($o(c,mR,!0),":");var u=this.h;return(u||c=="file")&&(s.push("//"),(c=this.A)&&s.push($o(c,mR,!0),"@"),s.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.C,u!=null&&s.push(":",String(u))),(u=this.g)&&(this.h&&u.charAt(0)!="/"&&s.push("/"),s.push($o(u,u.charAt(0)=="/"?qG:zG,!0))),(u=this.a.toString())&&s.push("?",u),(u=this.s)&&s.push("#",$o(u,KG)),s.join("")};function Wc(s,c,u){s.j=u?Fs(c,!0):c,s.j&&(s.j=s.j.replace(/:$/,""))}function Sa(s,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);s.C=c}else s.C=null}function Bo(s,c,u){c instanceof Mf?(s.a=c,YG(s.a,s.i)):(u||(c=$o(c,WG)),s.a=new Mf(c,s.i))}function xf(s){return s instanceof Ai?new Ai(s):new Ai(s,void 0)}function Fs(s,c){return s?c?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function $o(s,c,u){return b(s)?(s=encodeURI(s).replace(c,GG),u&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function GG(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var mR=/[#\/\?@]/g,zG=/[#\?:]/g,qG=/[#\?]/g,WG=/[#\?@]/g,KG=/#/g;function Mf(s,c){this.g=this.a=null,this.h=s||null,this.j=!!c}function Ta(s){s.a||(s.a=new B,s.g=0,s.h&&ft(s.h,function(c,u){s.add(decodeURIComponent(c.replace(/\+/g," ")),u)}))}t=Mf.prototype,t.add=function(s,c){Ta(this),this.h=null,s=Uu(this,s);var u=this.a.get(s);return u||this.a.set(s,u=[]),u.push(c),this.g+=1,this};function Kc(s,c){Ta(s),c=Uu(s,c),Se(s.a.g,c)&&(s.h=null,s.g-=s.a.get(c).length,s=s.a,Se(s.g,c)&&(delete s.g[c],s.h--,s.j++,s.a.length>2*s.h&&fe(s)))}t.clear=function(){this.a=this.h=null,this.g=0};function gR(s,c){return Ta(s),c=Uu(s,c),Se(s.a.g,c)}t.forEach=function(s,c){Ta(this),this.a.forEach(function(u,f){Nt(u,function(p){s.call(c,p,f,this)},this)},this)},t.ja=function(){Ta(this);for(var s=this.a.la(),c=this.a.ja(),u=[],f=0;f<c.length;f++)for(var p=s[f],g=0;g<p.length;g++)u.push(c[f]);return u},t.la=function(s){Ta(this);var c=[];if(b(s))gR(this,s)&&(c=Bc(c,this.a.get(Uu(this,s))));else{s=this.a.la();for(var u=0;u<s.length;u++)c=Bc(c,s[u])}return c},t.set=function(s,c){return Ta(this),this.h=null,s=Uu(this,s),gR(this,s)&&(this.g-=this.a.get(s).length),this.a.set(s,[c]),this.g+=1,this},t.get=function(s,c){return s?(s=this.la(s),0<s.length?String(s[0]):c):c},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var s=[],c=this.a.ja(),u=0;u<c.length;u++){var f=c[u],p=encodeURIComponent(String(f));f=this.la(f);for(var g=0;g<f.length;g++){var _=p;f[g]!==""&&(_+="="+encodeURIComponent(String(f[g]))),s.push(_)}}return this.h=s.join("&")};function vR(s){var c=new Mf;return c.h=s.h,s.a&&(c.a=new B(s.a),c.g=s.g),c}function Uu(s,c){return c=String(c),s.j&&(c=c.toLowerCase()),c}function YG(s,c){c&&!s.j&&(Ta(s),s.h=null,s.a.forEach(function(u,f){var p=f.toLowerCase();f!=p&&(Kc(this,f),Kc(this,p),0<u.length&&(this.h=null,this.a.set(Uu(this,p),Ca(u)),this.g+=u.length))},s)),s.j=c}function Yc(s){this.a=xf(s)}function QG(s,c){c?s.a.a.set(Ln.Sa,c):Kc(s.a.a,Ln.Sa)}function XG(s,c){c!==null?s.a.a.set(Ln.Qa,c?"1":"0"):Kc(s.a.a,Ln.Qa)}function yR(s){return s.a.a.get(Ln.Pa)||null}function _R(s,c){c?s.a.a.set(Ln.PROVIDER_ID,c):Kc(s.a.a,Ln.PROVIDER_ID)}Yc.prototype.toString=function(){return this.a.toString()};var Ln={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},Bu;e:{var wR=v.navigator;if(wR){var bR=wR.userAgent;if(bR){Bu=bR;break e}}Bu=""}function ot(s){return Bu.indexOf(s)!=-1}function CR(){return(ot("Chrome")||ot("CriOS"))&&!ot("Edge")}function IE(s){return IE[" "](s),s}IE[" "]=T;function JG(s,c){var u=t8;return Object.prototype.hasOwnProperty.call(u,s)?u[s]:u[s]=c(s)}var ER=ot("Opera"),fn=ot("Trident")||ot("MSIE"),Da=ot("Edge"),ZG=Da||fn,oo=ot("Gecko")&&!(Bu.toLowerCase().indexOf("webkit")!=-1&&!ot("Edge"))&&!(ot("Trident")||ot("MSIE"))&&!ot("Edge"),Bi=Bu.toLowerCase().indexOf("webkit")!=-1&&!ot("Edge"),e8=Bi&&ot("Mobile"),Aa=ot("Macintosh");function IR(){var s=v.document;return s?s.documentMode:void 0}var ny;e:{var SE="",TE=function(){var s=Bu;if(oo)return/rv:([^\);]+)(\)|;)/.exec(s);if(Da)return/Edge\/([\d\.]+)/.exec(s);if(fn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s);if(Bi)return/WebKit\/(\S+)/.exec(s);if(ER)return/(?:Version)[ \/]?(\S+)/.exec(s)}();if(TE&&(SE=TE?TE[1]:""),fn){var DE=IR();if(DE!=null&&DE>parseFloat(SE)){ny=String(DE);break e}}ny=SE}var t8={};function Qc(s){return JG(s,function(){for(var c=0,u=ti(String(ny)).split("."),f=ti(String(s)).split("."),p=Math.max(u.length,f.length),g=0;c==0&&g<p;g++){var _=u[g]||"",x=f[g]||"";do{if(_=/(\d*)(\D*)(.*)/.exec(_)||["","","",""],x=/(\d*)(\D*)(.*)/.exec(x)||["","","",""],_[0].length==0&&x[0].length==0)break;c=io(_[1].length==0?0:parseInt(_[1],10),x[1].length==0?0:parseInt(x[1],10))||io(_[2].length==0,x[2].length==0)||io(_[2],x[2]),_=_[3],x=x[3]}while(c==0)}return 0<=c})}var Pf,SR=v.document;Pf=SR&&fn?IR()||(SR.compatMode=="CSS1Compat"?parseInt(ny,10):5):void 0;function $u(s,c){this.a=s===DR&&c||"",this.g=TR}$u.prototype.ma=!0,$u.prototype.ka=function(){return this.a},$u.prototype.toString=function(){return"Const{"+this.a+"}"};var TR={},DR={};function Xc(){this.a="",this.h=xR}Xc.prototype.ma=!0,Xc.prototype.ka=function(){return this.a.toString()},Xc.prototype.g=function(){return 1},Xc.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function AR(s){return s instanceof Xc&&s.constructor===Xc&&s.h===xR?s.a:(tt("expected object of type TrustedResourceUrl, got '"+s+"' of type "+L(s)),"type_error:TrustedResourceUrl")}function n8(){var s=q8;s instanceof $u&&s.constructor===$u&&s.g===TR?s=s.a:(tt("expected object of type Const, got '"+s+"'"),s="type_error:Const");var c=new Xc;return c.a=s,c}var xR={};function fr(){this.a="",this.h=OR}fr.prototype.ma=!0,fr.prototype.ka=function(){return this.a.toString()},fr.prototype.g=function(){return 1},fr.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function xa(s){return s instanceof fr&&s.constructor===fr&&s.h===OR?s.a:(tt("expected object of type SafeUrl, got '"+s+"' of type "+L(s)),"type_error:SafeUrl")}var MR=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function iy(s){return s instanceof fr?s:(s=typeof s=="object"&&s.ma?s.ka():String(s),MR.test(s)||(s="about:invalid#zClosurez"),AE(s))}function PR(s){return s instanceof fr?s:(s=typeof s=="object"&&s.ma?s.ka():String(s),MR.test(s)||(s="about:invalid#zClosurez"),AE(s))}var OR={};function AE(s){var c=new fr;return c.a=s,c}AE("about:blank");function Hu(){this.a="",this.g=RR}Hu.prototype.ma=!0;var RR={};Hu.prototype.ka=function(){return this.a},Hu.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function Ma(){this.a="",this.j=NR,this.h=null}Ma.prototype.g=function(){return this.h},Ma.prototype.ma=!0,Ma.prototype.ka=function(){return this.a.toString()},Ma.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function ry(s){return s instanceof Ma&&s.constructor===Ma&&s.j===NR?s.a:(tt("expected object of type SafeHtml, got '"+s+"' of type "+L(s)),"type_error:SafeHtml")}var NR={};function Of(s,c){var u=new Ma;return u.a=s,u.h=c,u}Of("<!DOCTYPE html>",0);var i8=Of("",0);Of("<br>",0);var r8=function(s){var c=!1,u;return function(){return c||(u=s(),c=!0),u}}(function(){if(typeof document>"u")return!1;var s=document.createElement("div"),c=document.createElement("div");return c.appendChild(document.createElement("div")),s.appendChild(c),s.firstChild?(c=s.firstChild.firstChild,s.innerHTML=ry(i8),!c.parentElement):!1});function o8(s,c){if(s.src=AR(c),E===null)e:{if(c=v.document,(c=c.querySelector&&c.querySelector("script[nonce]"))&&(c=c.nonce||c.getAttribute("nonce"))&&w.test(c)){E=c;break e}E=""}c=E,c&&s.setAttribute("nonce",c)}function Gu(s,c){c=c instanceof fr?c:PR(c),s.assign(xa(c))}function Pa(s,c){this.a=y(s)?s:0,this.g=y(c)?c:0}Pa.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Pa.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Pa.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Pa.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function xE(s,c){this.width=s,this.height=c}t=xE.prototype,t.toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function oy(s){return s?new RE(Rf(s)):ue||(ue=new RE)}function ME(s,c){var u=c||document;return u.querySelectorAll&&u.querySelector?u.querySelectorAll("."+s):kR(document,s,c)}function PE(s,c){var u=c||document;if(u.getElementsByClassName)s=u.getElementsByClassName(s)[0];else{u=document;var f=c||u;s=f.querySelectorAll&&f.querySelector&&s?f.querySelector(s?"."+s:""):kR(u,s,c)[0]||null}return s||null}function kR(s,c,u){var f;if(s=u||s,s.querySelectorAll&&s.querySelector&&c)return s.querySelectorAll(c?"."+c:"");if(c&&s.getElementsByClassName){var p=s.getElementsByClassName(c);return p}if(p=s.getElementsByTagName("*"),c){var g={};for(u=f=0;s=p[u];u++){var _=s.className;typeof _.split=="function"&&ct(_.split(/\s+/),c)&&(g[f++]=s)}return g.length=f,g}return p}function s8(s,c){zc(c,function(u,f){u&&typeof u=="object"&&u.ma&&(u=u.ka()),f=="style"?s.style.cssText=u:f=="class"?s.className=u:f=="for"?s.htmlFor=u:FR.hasOwnProperty(f)?s.setAttribute(FR[f],u):f.lastIndexOf("aria-",0)==0||f.lastIndexOf("data-",0)==0?s.setAttribute(f,u):s[f]=u})}var FR={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function sy(s){return s.scrollingElement?s.scrollingElement:(Bi||s.compatMode!="CSS1Compat")&&s.body||s.documentElement}function Jc(s){s&&s.parentNode&&s.parentNode.removeChild(s)}function Rf(s){return s.nodeType==9?s:s.ownerDocument||s.document}function OE(s,c){if("textContent"in s)s.textContent=c;else if(s.nodeType==3)s.data=String(c);else if(s.firstChild&&s.firstChild.nodeType==3){for(;s.lastChild!=s.firstChild;)s.removeChild(s.lastChild);s.firstChild.data=String(c)}else{for(var u;u=s.firstChild;)s.removeChild(u);s.appendChild(Rf(s).createTextNode(String(c)))}}function LR(s,c){return c?a8(s,function(u){return!c||b(u.className)&&ct(u.className.split(/\s+/),c)}):null}function a8(s,c){for(var u=0;s;){if(c(s))return s;s=s.parentNode,u++}return null}function RE(s){this.a=s||v.document||document}RE.prototype.N=function(){return b(void 0)?this.a.getElementById(void 0):void 0};var ay={Fc:!0},VR={Hc:!0},c8={Ec:!0},jR={Gc:!0};function Oa(){throw Error("Do not instantiate directly")}Oa.prototype.va=null,Oa.prototype.toString=function(){return this.content};function Nf(s,c,u,f){if(s=s(c||d8,void 0,u),f=(f||oy()).a.createElement("DIV"),s=l8(s),s.match(u8),s=Of(s,null),r8())for(;f.lastChild;)f.removeChild(f.lastChild);return f.innerHTML=ry(s),f.childNodes.length==1&&(s=f.firstChild,s.nodeType==1&&(f=s)),f}function l8(s){if(!U(s))return Nr(String(s));if(s instanceof Oa){if(s.fa===ay)return s.content;if(s.fa===jR)return Nr(s.content)}return tt("Soy template output is unsafe for use as HTML: "+s),"zSoyz"}var u8=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,d8={};function h8(s){if(s!=null)switch(s.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function cy(){Oa.call(this)}H(cy,Oa),cy.prototype.fa=ay;function Oe(s){return s!=null&&s.fa===ay?s:s instanceof Ma?de(ry(s).toString(),s.g()):de(Nr(String(String(s))),h8(s))}function ly(){Oa.call(this)}H(ly,Oa),ly.prototype.fa=VR,ly.prototype.va=1;function uy(s,c){this.content=String(s),this.va=c??null}H(uy,Oa),uy.prototype.fa=jR;function Et(s){return new uy(s,void 0)}var de=function(s){function c(u){this.content=u}return c.prototype=s.prototype,function(u,f){return u=new c(String(u)),f!==void 0&&(u.va=f),u}}(cy),f8=function(s){function c(u){this.content=u}return c.prototype=s.prototype,function(u){return new c(String(u))}}(ly);function p8(s){function c(){}var u={label:pn("New password")};c.prototype=s,s=new c;for(var f in u)s[f]=u[f];return s}function pn(s){return(s=String(s))?new uy(s,void 0):""}var UR=function(s){function c(u){this.content=u}return c.prototype=s.prototype,function(u,f){return u=String(u),u?(u=new c(u),f!==void 0&&(u.va=f),u):""}}(cy);function $i(s){return s!=null&&s.fa===ay?String(String(s.content).replace(b8,"").replace(C8,"&lt;")).replace(y8,g8):Nr(String(s))}function Zc(s){return s!=null&&s.fa===VR?s=String(s).replace(kE,NE):s instanceof fr?s=String(xa(s).toString()).replace(kE,NE):(s=String(s),w8.test(s)?s=s.replace(kE,NE):(tt("Bad value `%s` for |filterNormalizeUri",[s]),s="#zSoyz")),s}function BR(s){return s!=null&&s.fa===c8?s=s.content:s==null?s="":s instanceof Hu?s instanceof Hu&&s.constructor===Hu&&s.g===RR?s=s.a:(tt("expected object of type SafeStyle, got '"+s+"' of type "+L(s)),s="type_error:SafeStyle"):(s=String(s),_8.test(s)||(tt("Bad value `%s` for |filterCssValue",[s]),s="zSoyz")),s}var m8={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","\x85":"&#133;","\xA0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function g8(s){return m8[s]}var v8={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\x7F":"%7F","\x85":"%C2%85","\xA0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uFF01":"%EF%BC%81","\uFF03":"%EF%BC%83","\uFF04":"%EF%BC%84","\uFF06":"%EF%BC%86","\uFF07":"%EF%BC%87","\uFF08":"%EF%BC%88","\uFF09":"%EF%BC%89","\uFF0A":"%EF%BC%8A","\uFF0B":"%EF%BC%8B","\uFF0C":"%EF%BC%8C","\uFF0F":"%EF%BC%8F","\uFF1A":"%EF%BC%9A","\uFF1B":"%EF%BC%9B","\uFF1D":"%EF%BC%9D","\uFF1F":"%EF%BC%9F","\uFF20":"%EF%BC%A0","\uFF3B":"%EF%BC%BB","\uFF3D":"%EF%BC%BD"};function NE(s){return v8[s]}var y8=/[\x00\x22\x27\x3c\x3e]/g,kE=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,_8=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,w8=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,b8=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,C8=/</g;function FE(){return Et("Enter a valid phone number")}function $R(){return Et("Unable to send password reset code to specified email")}function HR(){return Et("Something went wrong. Please try again.")}function GR(){return Et("This email already exists without any means of sign-in. Please reset the password to recover.")}function zR(s){s=s||{};var c="";switch(s.code){case"invalid-argument":c+="Client specified an invalid argument.";break;case"invalid-configuration":c+="Client specified an invalid project configuration.";break;case"failed-precondition":c+="Request can not be executed in the current system state.";break;case"out-of-range":c+="Client specified an invalid range.";break;case"unauthenticated":c+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":c+="Client does not have sufficient permission.";break;case"not-found":c+="Specified resource is not found.";break;case"aborted":c+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":c+="The resource that a client tried to create already exists.";break;case"resource-exhausted":c+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":c+="Request cancelled by the client.";break;case"data-loss":c+="Unrecoverable data loss or data corruption.";break;case"unknown":c+="Unknown server error.";break;case"internal":c+="Internal server error.";break;case"not-implemented":c+="API method not implemented by the server.";break;case"unavailable":c+="Service unavailable.";break;case"deadline-exceeded":c+="Request deadline exceeded.";break;case"auth/user-disabled":c+="The user account has been disabled by an administrator.";break;case"auth/timeout":c+="The operation has timed out.";break;case"auth/too-many-requests":c+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":c+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":c+="A network error has occurred. Try again later.";break;case"restart-process":c+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":c+="No sign-in provider is available for the given email, please try with a different email."}return Et(c)}function qR(){return Et("Please login again to perform this operation")}function kf(s,c,u){var f=Error.call(this);if(this.message=f.message,"stack"in f&&(this.stack=f.stack),this.code=E8+s,!(s=c)){switch(s="",this.code){case"firebaseui/merge-conflict":s+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:s+=HR()}s=Et(s).toString()}this.message=s||"",this.credential=u||null}l(kf,Error),kf.prototype.toJSON=function(){return{code:this.code,message:this.message}};var E8="firebaseui/";function el(){LE!=0&&(WR[this[ie]||(this[ie]=++Ce)]=this),this.T=this.T,this.C=this.C}var LE=0,WR={};el.prototype.T=!1,el.prototype.m=function(){if(!this.T&&(this.T=!0,this.o(),LE!=0)){var s=this[ie]||(this[ie]=++Ce);if(LE!=0&&this.C&&0<this.C.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete WR[s]}};function Ff(s,c){s.T?y(void 0)?c.call(void 0):c():(s.C||(s.C=[]),s.C.push(y(void 0)?Ie(c,void 0):c))}el.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Lf(s){s&&typeof s.m=="function"&&s.m()}var I8=Object.freeze||function(s){return s},KR=!fn||9<=Number(Pf),S8=fn&&!Qc("9"),T8=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var s=!1,c=Object.defineProperty({},"passive",{get:function(){s=!0}});try{v.addEventListener("test",T,c),v.removeEventListener("test",T,c)}catch{}return s}();function Ls(s,c){this.type=s,this.g=this.target=c,this.h=!1,this.qb=!0}Ls.prototype.stopPropagation=function(){this.h=!0},Ls.prototype.preventDefault=function(){this.qb=!1};function Hi(s,c){if(Ls.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,s){var u=this.type=s.type,f=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=c,c=s.relatedTarget){if(oo){e:{try{IE(c.nodeName);var p=!0;break e}catch{}p=!1}p||(c=null)}}else u=="mouseover"?c=s.fromElement:u=="mouseout"&&(c=s.toElement);this.relatedTarget=c,f?(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.keyCode=s.keyCode||0,this.key=s.key||"",this.j=s.charCode||(u=="keypress"?s.keyCode:0),this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=b(s.pointerType)?s.pointerType:D8[s.pointerType]||"",this.a=s,s.defaultPrevented&&this.preventDefault()}}H(Hi,Ls);var D8=I8({2:"touch",3:"pen",4:"mouse"});Hi.prototype.stopPropagation=function(){Hi.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Hi.prototype.preventDefault=function(){Hi.K.preventDefault.call(this);var s=this.a;if(s.preventDefault)s.preventDefault();else if(s.returnValue=!1,S8)try{(s.ctrlKey||112<=s.keyCode&&123>=s.keyCode)&&(s.keyCode=-1)}catch{}};var Vf="closure_listenable_"+(1e6*Math.random()|0),A8=0;function x8(s,c,u,f,p){this.listener=s,this.proxy=null,this.src=c,this.type=u,this.capture=!!f,this.La=p,this.key=++A8,this.sa=this.Ia=!1}function dy(s){s.sa=!0,s.listener=null,s.proxy=null,s.src=null,s.La=null}function hy(s){this.src=s,this.a={},this.g=0}hy.prototype.add=function(s,c,u,f,p){var g=s.toString();s=this.a[g],s||(s=this.a[g]=[],this.g++);var _=jE(s,c,f,p);return-1<_?(c=s[_],u||(c.Ia=!1)):(c=new x8(c,this.src,g,!!f,p),c.Ia=u,s.push(c)),c};function VE(s,c){var u=c.type;u in s.a&&Fn(s.a[u],c)&&(dy(c),s.a[u].length==0&&(delete s.a[u],s.g--))}function jE(s,c,u,f){for(var p=0;p<s.length;++p){var g=s[p];if(!g.sa&&g.listener==c&&g.capture==!!u&&g.La==f)return p}return-1}var UE="closure_lm_"+(1e6*Math.random()|0),BE={},YR=0;function so(s,c,u,f,p){if(f&&f.once)return jf(s,c,u,f,p);if($(c)){for(var g=0;g<c.length;g++)so(s,c[g],u,f,p);return null}return u=HE(u),s&&s[Vf]?s.J.add(String(c),u,!1,U(f)?!!f.capture:!!f,p):QR(s,c,u,!1,f,p)}function QR(s,c,u,f,p,g){if(!c)throw Error("Invalid event type");var _=U(p)?!!p.capture:!!p,x=fy(s);if(x||(s[UE]=x=new hy(s)),u=x.add(c,u,f,_,g),u.proxy)return u;if(f=M8(),u.proxy=f,f.src=s,f.listener=u,s.addEventListener)T8||(p=_),p===void 0&&(p=!1),s.addEventListener(c.toString(),f,p);else if(s.attachEvent)s.attachEvent(XR(c.toString()),f);else if(s.addListener&&s.removeListener)s.addListener(f);else throw Error("addEventListener and attachEvent are unavailable.");return YR++,u}function M8(){var s=P8,c=KR?function(u){return s.call(c.src,c.listener,u)}:function(u){if(u=s.call(c.src,c.listener,u),!u)return u};return c}function jf(s,c,u,f,p){if($(c)){for(var g=0;g<c.length;g++)jf(s,c[g],u,f,p);return null}return u=HE(u),s&&s[Vf]?s.J.add(String(c),u,!0,U(f)?!!f.capture:!!f,p):QR(s,c,u,!0,f,p)}function tl(s,c,u,f,p){if($(c))for(var g=0;g<c.length;g++)tl(s,c[g],u,f,p);else f=U(f)?!!f.capture:!!f,u=HE(u),s&&s[Vf]?(s=s.J,c=String(c).toString(),c in s.a&&(g=s.a[c],u=jE(g,u,f,p),-1<u&&(dy(g[u]),on(g,u),g.length==0&&(delete s.a[c],s.g--)))):s&&(s=fy(s))&&(c=s.a[c.toString()],s=-1,c&&(s=jE(c,u,f,p)),(u=-1<s?c[s]:null)&&Ra(u))}function Ra(s){if(typeof s!="number"&&s&&!s.sa){var c=s.src;if(c&&c[Vf])VE(c.J,s);else{var u=s.type,f=s.proxy;c.removeEventListener?c.removeEventListener(u,f,s.capture):c.detachEvent?c.detachEvent(XR(u),f):c.addListener&&c.removeListener&&c.removeListener(f),YR--,(u=fy(c))?(VE(u,s),u.g==0&&(u.src=null,c[UE]=null)):dy(s)}}}function XR(s){return s in BE?BE[s]:BE[s]="on"+s}function JR(s,c,u,f){var p=!0;if((s=fy(s))&&(c=s.a[c.toString()]))for(c=c.concat(),s=0;s<c.length;s++){var g=c[s];g&&g.capture==u&&!g.sa&&(g=ZR(g,f),p=p&&g!==!1)}return p}function ZR(s,c){var u=s.listener,f=s.La||s.src;return s.Ia&&Ra(s),u.call(f,c)}function P8(s,c){if(s.sa)return!0;if(!KR){if(!c)e:{c=["window","event"];for(var u=v,f=0;f<c.length;f++)if(u=u[c[f]],u==null){c=null;break e}c=u}if(f=c,c=new Hi(f,this),u=!0,!(0>f.keyCode||f.returnValue!=null)){e:{var p=!1;if(f.keyCode==0)try{f.keyCode=-1;break e}catch{p=!0}(p||f.returnValue==null)&&(f.returnValue=!0)}for(f=[],p=c.g;p;p=p.parentNode)f.push(p);for(s=s.type,p=f.length-1;!c.h&&0<=p;p--){c.g=f[p];var g=JR(f[p],s,!0,c);u=u&&g}for(p=0;!c.h&&p<f.length;p++)c.g=f[p],g=JR(f[p],s,!1,c),u=u&&g}return u}return ZR(s,new Hi(c,this))}function fy(s){return s=s[UE],s instanceof hy?s:null}var $E="__closure_events_fn_"+(1e9*Math.random()>>>0);function HE(s){return ee(s)?s:(s[$E]||(s[$E]=function(c){return s.handleEvent(c)}),s[$E])}function Vn(){el.call(this),this.J=new hy(this),this.wb=this,this.Ha=null}H(Vn,el),Vn.prototype[Vf]=!0,Vn.prototype.Za=function(s){this.Ha=s},Vn.prototype.removeEventListener=function(s,c,u,f){tl(this,s,c,u,f)};function Na(s,c){var u,f=s.Ha;if(f)for(u=[];f;f=f.Ha)u.push(f);if(s=s.wb,f=c.type||c,b(c))c=new Ls(c,s);else if(c instanceof Ls)c.target=c.target||s;else{var p=c;c=new Ls(f,s),Ns(c,p)}if(p=!0,u)for(var g=u.length-1;!c.h&&0<=g;g--){var _=c.g=u[g];p=py(_,f,!0,c)&&p}if(c.h||(_=c.g=s,p=py(_,f,!0,c)&&p,c.h||(p=py(_,f,!1,c)&&p)),u)for(g=0;!c.h&&g<u.length;g++)_=c.g=u[g],p=py(_,f,!1,c)&&p;return p}Vn.prototype.o=function(){if(Vn.K.o.call(this),this.J){var s=this.J,c=0,u;for(u in s.a){for(var f=s.a[u],p=0;p<f.length;p++)++c,dy(f[p]);delete s.a[u],s.g--}}this.Ha=null};function py(s,c,u,f){if(c=s.J.a[String(c)],!c)return!0;c=c.concat();for(var p=!0,g=0;g<c.length;++g){var _=c[g];if(_&&!_.sa&&_.capture==u){var x=_.listener,V=_.La||_.src;_.Ia&&VE(s.J,_),p=x.call(V,f)!==!1&&p}}return p&&f.qb!=0}var pr={},eN=0;function tN(s,c){if(!s)throw Error("Event target element must be provided!");if(s=GE(s),pr[s]&&pr[s].length)for(var u=0;u<pr[s].length;u++)Na(pr[s][u],c)}function O8(s){var c=GE(s.N());pr[c]&&pr[c].length&&(ji(pr[c],function(u){return u==s}),pr[c].length||delete pr[c])}function GE(s){return typeof s.a>"u"&&(s.a=eN,eN++),s.a}function my(s){if(!s)throw Error("Event target element must be provided!");Vn.call(this),this.a=s}l(my,Vn),my.prototype.N=function(){return this.a},my.prototype.register=function(){var s=GE(this.N());pr[s]?ct(pr[s],this)||pr[s].push(this):pr[s]=[this]};function nN(s){if(!s)return!1;try{return!!s.$goog_Thenable}catch{return!1}}function zE(s,c){this.h=s,this.j=c,this.g=0,this.a=null}zE.prototype.get=function(){if(0<this.g){this.g--;var s=this.a;this.a=s.next,s.next=null}else s=this.h();return s};function iN(s,c){s.j(c),100>s.g&&(s.g++,c.next=s.a,s.a=c)}function rN(){this.g=this.a=null}var oN=new zE(function(){return new qE},function(s){s.reset()});rN.prototype.add=function(s,c){var u=oN.get();u.set(s,c),this.g?this.g.next=u:this.a=u,this.g=u};function R8(){var s=aN,c=null;return s.a&&(c=s.a,s.a=s.a.next,s.a||(s.g=null),c.next=null),c}function qE(){this.next=this.g=this.a=null}qE.prototype.set=function(s,c){this.a=s,this.g=c,this.next=null},qE.prototype.reset=function(){this.next=this.g=this.a=null};function sN(s){v.setTimeout(function(){throw s},0)}var WE;function N8(){var s=v.MessageChannel;if(typeof s>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!ot("Presto")&&(s=function(){var p=document.createElement("IFRAME");p.style.display="none",p.src="",document.documentElement.appendChild(p);var g=p.contentWindow;p=g.document,p.open(),p.write(""),p.close();var _="callImmediate"+Math.random(),x=g.location.protocol=="file:"?"*":g.location.protocol+"//"+g.location.host;p=Ie(function(V){(x=="*"||V.origin==x)&&V.data==_&&this.port1.onmessage()},this),g.addEventListener("message",p,!1),this.port1={},this.port2={postMessage:function(){g.postMessage(_,x)}}}),typeof s<"u"&&!ot("Trident")&&!ot("MSIE")){var c=new s,u={},f=u;return c.port1.onmessage=function(){if(y(u.next)){u=u.next;var p=u.gb;u.gb=null,p()}},function(p){f.next={gb:p},f=f.next,c.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(p){var g=document.createElement("SCRIPT");g.onreadystatechange=function(){g.onreadystatechange=null,g.parentNode.removeChild(g),g=null,p(),p=null},document.documentElement.appendChild(g)}:function(p){v.setTimeout(p,0)}}function KE(s,c){gy||k8(),YE||(gy(),YE=!0),aN.add(s,c)}var gy;function k8(){if(v.Promise&&v.Promise.resolve){var s=v.Promise.resolve(void 0);gy=function(){s.then(cN)}}else gy=function(){var c=cN;!ee(v.setImmediate)||v.Window&&v.Window.prototype&&!ot("Edge")&&v.Window.prototype.setImmediate==v.setImmediate?(WE||(WE=N8()),WE(c)):v.setImmediate(c)}}var YE=!1,aN=new rN;function cN(){for(var s;s=R8();){try{s.a.call(s.g)}catch(c){sN(c)}iN(oN,s)}YE=!1}function jn(s){if(this.a=nl,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,s!=T)try{var c=this;s.call(void 0,function(u){il(c,Uf,u)},function(u){if(!(u instanceof qu))try{throw u instanceof Error?u:Error("Promise rejected.")}catch{}il(c,Vs,u)})}catch(u){il(this,Vs,u)}}var nl=0,Uf=2,Vs=3;function lN(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}lN.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var uN=new zE(function(){return new lN},function(s){s.reset()});function QE(s,c,u){var f=uN.get();return f.s=s,f.g=c,f.j=u,f}function mn(s){if(s instanceof jn)return s;var c=new jn(T);return il(c,Uf,s),c}function zu(s){return new jn(function(c,u){u(s)})}jn.prototype.then=function(s,c,u){return hN(this,ee(s)?s:null,ee(c)?c:null,u)},jn.prototype.$goog_Thenable=!0,t=jn.prototype,t.fc=function(s,c){return s=QE(s,s,c),s.h=!0,XE(this,s),this},t.Ca=function(s,c){return hN(this,null,s,c)},t.cancel=function(s){this.a==nl&&KE(function(){var c=new qu(s);dN(this,c)},this)};function dN(s,c){if(s.a==nl)if(s.h){var u=s.h;if(u.g){for(var f=0,p=null,g=null,_=u.g;_&&(_.h||(f++,_.a==s&&(p=_),!(p&&1<f)));_=_.next)p||(g=_);p&&(u.a==nl&&f==1?dN(u,c):(g?(f=g,f.next==u.j&&(u.j=f),f.next=f.next.next):pN(u),mN(u,p,Vs,c)))}s.h=null}else il(s,Vs,c)}function XE(s,c){s.g||s.a!=Uf&&s.a!=Vs||fN(s),s.j?s.j.next=c:s.g=c,s.j=c}function hN(s,c,u,f){var p=QE(null,null,null);return p.a=new jn(function(g,_){p.s=c?function(x){try{var V=c.call(f,x);g(V)}catch(Y){_(Y)}}:g,p.g=u?function(x){try{var V=u.call(f,x);!y(V)&&x instanceof qu?_(x):g(V)}catch(Y){_(Y)}}:_}),p.a.h=s,XE(s,p),p.a}t.hc=function(s){this.a=nl,il(this,Uf,s)},t.ic=function(s){this.a=nl,il(this,Vs,s)};function il(s,c,u){if(s.a==nl){s===u&&(c=Vs,u=new TypeError("Promise cannot resolve to itself")),s.a=1;e:{var f=u,p=s.hc,g=s.ic;if(f instanceof jn){XE(f,QE(p||T,g||null,s));var _=!0}else if(nN(f))f.then(p,g,s),_=!0;else{if(U(f))try{var x=f.then;if(ee(x)){F8(f,x,p,g,s),_=!0;break e}}catch(V){g.call(s,V),_=!0;break e}_=!1}}_||(s.A=u,s.a=c,s.h=null,fN(s),c!=Vs||u instanceof qu||L8(s,u))}}function F8(s,c,u,f,p){function g(V){x||(x=!0,f.call(p,V))}function _(V){x||(x=!0,u.call(p,V))}var x=!1;try{c.call(s,_,g)}catch(V){g(V)}}function fN(s){s.i||(s.i=!0,KE(s.Hb,s))}function pN(s){var c=null;return s.g&&(c=s.g,s.g=c.next,c.next=null),s.g||(s.j=null),c}t.Hb=function(){for(var s;s=pN(this);)mN(this,s,this.a,this.A);this.i=!1};function mN(s,c,u,f){if(u==Vs&&c.g&&!c.h)for(;s&&s.s;s=s.h)s.s=!1;if(c.a)c.a.h=null,gN(c,u,f);else try{c.h?c.s.call(c.j):gN(c,u,f)}catch(p){vN.call(null,p)}iN(uN,c)}function gN(s,c,u){c==Uf?s.s.call(s.j,u):s.g&&s.g.call(s.j,u)}function L8(s,c){s.s=!0,KE(function(){s.s&&vN.call(null,c)})}var vN=sN;function qu(s){ne.call(this,s)}H(qu,ne),qu.prototype.name="cancel";function yN(s,c,u){c||(c={}),u=u||window;var f=s instanceof fr?s:iy(typeof s.href<"u"?s.href:String(s));s=c.target||s.target;var p=[];for(g in c)switch(g){case"width":case"height":case"top":case"left":p.push(g+"="+c[g]);break;case"target":case"noopener":case"noreferrer":break;default:p.push(g+"="+(c[g]?1:0))}var g=p.join(",");return(ot("iPhone")&&!ot("iPod")&&!ot("iPad")||ot("iPad")||ot("iPod"))&&u.navigator&&u.navigator.standalone&&s&&s!="_self"?(g=u.document.createElement("A"),f=f instanceof fr?f:PR(f),g.href=xa(f),g.setAttribute("target",s),c.noreferrer&&g.setAttribute("rel","noreferrer"),c=document.createEvent("MouseEvent"),c.initMouseEvent("click",!0,!0,u,1),g.dispatchEvent(c),u={}):c.noreferrer?(u=u.open("",s,g),c=xa(f).toString(),u&&(ZG&&c.indexOf(";")!=-1&&(c="'"+c.replace(/'/g,"%27")+"'"),u.opener=null,c=Of('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Nr(c)+'">',null),u.document.write(ry(c)),u.document.close())):(u=u.open(xa(f).toString(),s,g))&&c.noopener&&(u.opener=null),u}function _N(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function Wu(s){yN(s,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function vy(s,c){if(s=U(s)&&s.nodeType==1?s:document.querySelector(String(s)),s==null)throw Error(c||"Cannot find element.");return s}function js(){return window.location.href}function V8(){var s=null;return new jn(function(c){v.document.readyState=="complete"?c():(s=function(){c()},jf(window,"load",s))}).Ca(function(c){throw tl(window,"load",s),c})}function j8(){for(var s=32,c=[];0<s;)c.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return c.join("")}function U8(s,c,u){return u=u===void 0?{}:u,Object.keys(s).filter(function(f){return c.includes(f)}).reduce(function(f,p){return f[p]=s[p],f},u)}function ka(s){var c=H8;this.s=[],this.T=c,this.O=s||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}ka.prototype.cancel=function(s){if(this.a)this.h instanceof ka&&this.h.cancel();else{if(this.g){var c=this.g;delete this.g,s?c.cancel(s):(c.C--,0>=c.C&&c.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(s=new $f(this),yy(this),Bf(this,!1,s))}},ka.prototype.L=function(s,c){this.A=!1,Bf(this,s,c)};function Bf(s,c,u){s.a=!0,s.h=u,s.j=!c,CN(s)}function yy(s){if(s.a){if(!s.J)throw new _y(s);s.J=!1}}ka.prototype.callback=function(s){yy(this),Bf(this,!0,s)};function wN(s,c,u){s.s.push([c,u,void 0]),s.a&&CN(s)}ka.prototype.then=function(s,c,u){var f,p,g=new jn(function(_,x){f=_,p=x});return wN(this,f,function(_){_ instanceof $f?g.cancel():p(_)}),g.then(s,c,u)},ka.prototype.$goog_Thenable=!0;function bN(s){return hr(s.s,function(c){return ee(c[1])})}function CN(s){if(s.i&&s.a&&bN(s)){var c=s.i,u=wy[c];u&&(v.clearTimeout(u.a),delete wy[c]),s.i=0}s.g&&(s.g.C--,delete s.g),c=s.h;for(var f=u=!1;s.s.length&&!s.A;){var p=s.s.shift(),g=p[0],_=p[1];if(p=p[2],g=s.j?_:g)try{var x=g.call(p||s.O,c);y(x)&&(s.j=s.j&&(x==c||x instanceof Error),s.h=c=x),(nN(c)||typeof v.Promise=="function"&&c instanceof v.Promise)&&(f=!0,s.A=!0)}catch(V){c=V,s.j=!0,bN(s)||(u=!0)}}s.h=c,f&&(x=Ie(s.L,s,!0),f=Ie(s.L,s,!1),c instanceof ka?(wN(c,x,f),c.l=!0):c.then(x,f)),u&&(c=new EN(c),wy[c.a]=c,s.i=c.a)}function _y(){ne.call(this)}H(_y,ne),_y.prototype.message="Deferred has already fired",_y.prototype.name="AlreadyCalledError";function $f(){ne.call(this)}H($f,ne),$f.prototype.message="Deferred was canceled",$f.prototype.name="CanceledError";function EN(s){this.a=v.setTimeout(Ie(this.h,this),0),this.g=s}EN.prototype.h=function(){throw delete wy[this.a],this.g};var wy={};function B8(s){var c={},u=c.document||document,f=AR(s).toString(),p=document.createElement("SCRIPT"),g={rb:p,sb:void 0},_=new ka(g),x=null,V=c.timeout!=null?c.timeout:5e3;return 0<V&&(x=window.setTimeout(function(){by(p,!0);var Y=new JE(z8,"Timeout reached for loading script "+f);yy(_),Bf(_,!1,Y)},V),g.sb=x),p.onload=p.onreadystatechange=function(){p.readyState&&p.readyState!="loaded"&&p.readyState!="complete"||(by(p,c.xc||!1,x),_.callback(null))},p.onerror=function(){by(p,!0,x);var Y=new JE(G8,"Error while loading script "+f);yy(_),Bf(_,!1,Y)},g=c.attributes||{},Ns(g,{type:"text/javascript",charset:"UTF-8"}),s8(p,g),o8(p,s),$8(u).appendChild(p),_}function $8(s){var c=(s||document).getElementsByTagName("HEAD");return c&&c.length!=0?c[0]:s.documentElement}function H8(){if(this&&this.rb){var s=this.rb;s&&s.tagName=="SCRIPT"&&by(s,!0,this.sb)}}function by(s,c,u){u!=null&&v.clearTimeout(u),s.onload=T,s.onerror=T,s.onreadystatechange=T,c&&window.setTimeout(function(){Jc(s)},0)}var G8=0,z8=1;function JE(s,c){var u="Jsloader error (code #"+s+")";c&&(u+=": "+c),ne.call(this,u),this.code=s}H(JE,ne);function Hf(){return v.google&&v.google.accounts&&v.google.accounts.id||null}function ZE(s){this.a=s||Hf(),this.h=!1,this.g=null}ZE.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function IN(s,c,u){if(s.a&&c)return function(){return s.h=!0,new jn(function(p){s.g=p,s.a.initialize({client_id:c,callback:p,auto_select:!u}),s.a.prompt()})}();if(c){var f=eI.Xa().load().then(function(){return s.a=Hf(),IN(s,c,u)}).Ca(function(){return null});return mn(f)}return mn(null)}O(ZE);var q8=new $u(DR,"https://accounts.google.com/gsi/client");function eI(){this.a=null}eI.prototype.load=function(){var s=this;if(this.a)return this.a;var c=n8();return Hf()?mn():this.a=V8().then(function(){if(!Hf())return new jn(function(u,f){var p=setTimeout(function(){s.a=null,f(Error("Network error!"))},1e4);v.onGoogleLibraryLoad=function(){clearTimeout(p),u()},mn(B8(c)).then(function(){Hf()&&u()}).Ca(function(g){clearTimeout(p),s.a=null,f(g)})})})},O(eI);function tI(s,c){this.a=s,this.g=c||function(u){throw u}}tI.prototype.confirm=function(s){return mn(this.a.confirm(s)).Ca(this.g)};function nI(s,c,u){this.reset(s,c,u,void 0,void 0)}nI.prototype.a=null;var W8=0;nI.prototype.reset=function(s,c,u,f,p){typeof p=="number"||W8++,this.h=f||rn(),this.j=s,this.s=c,this.g=u,delete this.a};function iI(s){this.s=s,this.a=this.h=this.j=this.g=null}function Cy(s,c){this.name=s,this.value=c}Cy.prototype.toString=function(){return this.name};var SN=new Cy("SEVERE",1e3),TN=new Cy("WARNING",900),DN=new Cy("CONFIG",700);function AN(s){return s.j?s.j:s.g?AN(s.g):(tt("Root logger has no level set."),null)}iI.prototype.log=function(s,c,u){if(s.value>=AN(this).value)for(ee(c)&&(c=c()),s=new nI(s,String(c),this.s),u&&(s.a=u),u=this;u;){var f=u,p=s;if(f.a)for(var g=0;c=f.a[g];g++)c(p);u=u.g}};var rI={},Gf=null;function xN(){Gf||(Gf=new iI(""),rI[""]=Gf,Gf.j=DN)}function MN(s){xN();var c;if(!(c=rI[s])){c=new iI(s);var u=s.lastIndexOf("."),f=s.substr(u+1);u=MN(s.substr(0,u)),u.h||(u.h={}),u.h[f]=c,c.g=u,rI[s]=c}return c}function Ey(){this.a=rn()}var oI=null;Ey.prototype.set=function(s){this.a=s},Ey.prototype.reset=function(){this.set(rn())},Ey.prototype.get=function(){return this.a};function zf(s){this.j=s||"",oI||(oI=new Ey),this.s=oI}zf.prototype.a=!0,zf.prototype.g=!0,zf.prototype.h=!1;function rl(s){return 10>s?"0"+s:String(s)}function K8(s,c){s=(s.h-c)/1e3,c=s.toFixed(3);var u=0;if(1>s)u=2;else for(;100>s;)u++,s*=10;for(;0<u--;)c=" "+c;return c}function PN(s){zf.call(this,s)}H(PN,zf);function Y8(s,c){var u=[];if(u.push(s.j," "),s.g){var f=new Date(c.h);u.push("[",rl(f.getFullYear()-2e3)+rl(f.getMonth()+1)+rl(f.getDate())+" "+rl(f.getHours())+":"+rl(f.getMinutes())+":"+rl(f.getSeconds())+"."+rl(Math.floor(f.getMilliseconds()/10)),"] ")}return u.push("[",K8(c,s.s.get()),"s] "),u.push("[",c.g,"] "),u.push(c.s),s.h&&(c=c.a)&&u.push(`
`,c instanceof Error?c.message:c.toString()),s.a&&u.push(`
`),u.join("")}function ON(){this.s=Ie(this.h,this),this.a=new PN,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}ON.prototype.h=function(s){function c(g){if(g){if(g.value>=SN.value)return"error";if(g.value>=TN.value)return"warn";if(g.value>=DN.value)return"log"}return"debug"}if(!this.j[s.g]){var u=Y8(this.a,s),f=Q8;if(f){var p=c(s.j);X8(f,p,u,s.a)}}};var Q8=v.console;function X8(s,c,u,f){s[c]?s[c](u,f||""):s.log(u,f||"")}function mr(s,c){var u=sI;u&&u.log(SN,s,c)}var sI;sI=MN("firebaseui");var aI=new ON;if(aI.g!=1){var Iy;xN(),Iy=Gf;var J8=aI.s;Iy.a||(Iy.a=[]),Iy.a.push(J8),aI.g=!0}function Fa(s){var c=sI;c&&c.log(TN,s,void 0)}function RN(){this.a=(typeof document>"u"?null:document)||{cookie:""}}t=RN.prototype,t.set=function(s,c,u,f,p,g){if(/[;=\s]/.test(s))throw Error('Invalid cookie name "'+s+'"');if(/[;\r\n]/.test(c))throw Error('Invalid cookie value "'+c+'"');y(u)||(u=-1),p=p?";domain="+p:"",f=f?";path="+f:"",g=g?";secure":"",u=0>u?"":u==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(rn()+1e3*u).toUTCString(),this.a.cookie=s+"="+c+p+f+u+g},t.get=function(s,c){for(var u=s+"=",f=(this.a.cookie||"").split(";"),p=0,g;p<f.length;p++){if(g=ti(f[p]),g.lastIndexOf(u,0)==0)return g.substr(u.length);if(g==s)return""}return c},t.ja=function(){return cI(this).keys},t.la=function(){return cI(this).values},t.clear=function(){for(var s=cI(this).keys,c=s.length-1;0<=c;c--){var u=s[c];this.get(u),this.set(u,"",0,void 0,void 0)}};function cI(s){s=(s.a.cookie||"").split(";");for(var c=[],u=[],f,p,g=0;g<s.length;g++)p=ti(s[g]),f=p.indexOf("="),f==-1?(c.push(""),u.push(p)):(c.push(p.substring(0,f)),u.push(p.substring(f+1)));return{keys:c,values:u}}var Sy=new RN;function NN(){}function Ku(s,c,u,f){this.h=typeof s<"u"&&s!==null?s:-1,this.g=c||null,this.a=u||null,this.j=!!f}l(Ku,NN),Ku.prototype.set=function(s,c){Sy.set(s,c,this.h,this.g,this.a,this.j)},Ku.prototype.get=function(s){return Sy.get(s)||null},Ku.prototype.ra=function(s){var c=this.g,u=this.a;Sy.get(s),Sy.set(s,"",0,c,u)};function lI(s,c){this.g=s,this.a=c||null}function kN(s){return{email:s.g,credential:s.a&&s.a.toJSON()}}function FN(s){if(s&&s.email){var c=s.credential&&_e.auth.AuthCredential.fromJSON(s.credential);return new lI(s.email,c)}return null}function LN(s){this.a=s||null}function VN(s){for(var c=[],u=0,f=0;f<s.length;f++){var p=s.charCodeAt(f);255<p&&(c[u++]=p&255,p>>=8),c[u++]=p}return c}function Z8(s){return Di(s,function(c){return c=c.toString(16),1<c.length?c:"0"+c}).join("")}function Ty(s){for(this.i=s,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(Yu*(this.j+1)),s=0;s<this.g;s++)this.a[s]=[this.i[4*s],this.i[4*s+1],this.i[4*s+2],this.i[4*s+3]];var c=Array(4);for(s=this.g;s<Yu*(this.j+1);s++){if(c[0]=this.a[s-1][0],c[1]=this.a[s-1][1],c[2]=this.a[s-1][2],c[3]=this.a[s-1][3],s%this.g==0){var u=c,f=u[0];u[0]=u[1],u[1]=u[2],u[2]=u[3],u[3]=f,HN(c),c[0]^=Ay[s/this.g][0],c[1]^=Ay[s/this.g][1],c[2]^=Ay[s/this.g][2],c[3]^=Ay[s/this.g][3]}else 6<this.g&&s%this.g==4&&HN(c);this.a[s]=Array(4),this.a[s][0]=this.a[s-this.g][0]^c[0],this.a[s][1]=this.a[s-this.g][1]^c[1],this.a[s][2]=this.a[s-this.g][2]^c[2],this.a[s][3]=this.a[s-this.g][3]^c[3]}}Ty.prototype.A=16;var Yu=Ty.prototype.A/4;function jN(s,c){for(var u,f=0;f<Yu;f++)for(var p=0;4>p;p++)u=4*p+f,u=c[u],s.h[f][p]=u}function UN(s){for(var c=[],u=0;u<Yu;u++)for(var f=0;4>f;f++)c[4*f+u]=s.h[u][f];return c}function Qu(s,c){for(var u=0;4>u;u++)for(var f=0;4>f;f++)s.h[u][f]^=s.a[4*c+f][u]}function Dy(s,c){for(var u=0;4>u;u++)for(var f=0;4>f;f++)s.h[u][f]=c[s.h[u][f]]}function BN(s){for(var c=1;4>c;c++)for(var u=0;4>u;u++)s.s[c][u]=s.h[c][u];for(c=1;4>c;c++)for(u=0;4>u;u++)s.h[c][u]=s.s[c][(u+c)%Yu]}function $N(s){for(var c=1;4>c;c++)for(var u=0;4>u;u++)s.s[c][(u+c)%Yu]=s.h[c][u];for(c=1;4>c;c++)for(u=0;4>u;u++)s.h[c][u]=s.s[c][u]}function HN(s){s[0]=Xu[s[0]],s[1]=Xu[s[1]],s[2]=Xu[s[2]],s[3]=Xu[s[3]]}var Xu=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],GN=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Ay=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],xy=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],My=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],Py=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],Oy=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],Ry=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],Ny=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function zN(s,c){s=new Ty(WN(s)),c=VN(c);for(var u=c.splice(0,16),f="",p;u.length;){p=16-u.length;for(var g=0;g<p;g++)u.push(0);for(p=s,jN(p,u),Qu(p,0),u=1;u<p.j;++u){Dy(p,Xu),BN(p),g=p.h;for(var _=p.s[0],x=0;4>x;x++)_[0]=g[0][x],_[1]=g[1][x],_[2]=g[2][x],_[3]=g[3][x],g[0][x]=xy[_[0]]^My[_[1]]^_[2]^_[3],g[1][x]=_[0]^xy[_[1]]^My[_[2]]^_[3],g[2][x]=_[0]^_[1]^xy[_[2]]^My[_[3]],g[3][x]=My[_[0]]^_[1]^_[2]^xy[_[3]];Qu(p,u)}Dy(p,Xu),BN(p),Qu(p,p.j),f+=Z8(UN(p)),u=c.splice(0,16)}return f}function qN(s,c){s=new Ty(WN(s));for(var u=[],f=0;f<c.length;f+=2)u.push(parseInt(c.substring(f,f+2),16));var p=u.splice(0,16);for(c="";p.length;){for(f=s,jN(f,p),Qu(f,f.j),p=1;p<f.j;++p){$N(f),Dy(f,GN),Qu(f,f.j-p);for(var g=f.h,_=f.s[0],x=0;4>x;x++)_[0]=g[0][x],_[1]=g[1][x],_[2]=g[2][x],_[3]=g[3][x],g[0][x]=Ny[_[0]]^Oy[_[1]]^Ry[_[2]]^Py[_[3]],g[1][x]=Py[_[0]]^Ny[_[1]]^Oy[_[2]]^Ry[_[3]],g[2][x]=Ry[_[0]]^Py[_[1]]^Ny[_[2]]^Oy[_[3]],g[3][x]=Oy[_[0]]^Ry[_[1]]^Py[_[2]]^Ny[_[3]]}if($N(f),Dy(f,GN),Qu(f,0),f=UN(f),8192>=f.length)f=String.fromCharCode.apply(null,f);else{for(p="",g=0;g<f.length;g+=8192)p+=String.fromCharCode.apply(null,Lu(f,g,g+8192));f=p}c+=f,p=u.splice(0,16)}return c.replace(/(\x00)+$/,"")}function WN(s){s=VN(s.substring(0,32));for(var c=32-s.length,u=0;u<c;u++)s.push(0);return s}function KN(s){var c=[];return uI(new ez,s,c),c.join("")}function ez(){}function uI(s,c,u){if(c==null)u.push("null");else{if(typeof c=="object"){if($(c)){var f=c;c=f.length,u.push("[");for(var p="",g=0;g<c;g++)u.push(p),uI(s,f[g],u),p=",";u.push("]");return}if(c instanceof String||c instanceof Number||c instanceof Boolean)c=c.valueOf();else{u.push("{"),p="";for(f in c)Object.prototype.hasOwnProperty.call(c,f)&&(g=c[f],typeof g!="function"&&(u.push(p),QN(f,u),u.push(":"),uI(s,g,u),p=","));u.push("}");return}}switch(typeof c){case"string":QN(c,u);break;case"number":u.push(isFinite(c)&&!isNaN(c)?String(c):"null");break;case"boolean":u.push(String(c));break;case"function":u.push("null");break;default:throw Error("Unknown type: "+typeof c)}}}var YN={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},tz=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function QN(s,c){c.push('"',s.replace(tz,function(u){var f=YN[u];return f||(f="\\u"+(u.charCodeAt(0)|65536).toString(16).substr(1),YN[u]=f),f}),'"')}function qf(s){this.a=s}qf.prototype.set=function(s,c){y(c)?this.a.set(s,KN(c)):this.a.ra(s)},qf.prototype.get=function(s){try{var c=this.a.get(s)}catch{return}if(c!==null)try{return JSON.parse(c)}catch{throw"Storage: Invalid value was encountered"}};function ky(){}H(ky,NN),ky.prototype.clear=function(){var s=EE(this.ha(!0)),c=this;Nt(s,function(u){c.ra(u)})};function Fy(s){this.a=s}H(Fy,ky);function Ly(s){if(!s.a)return!1;try{return s.a.setItem("__sak","1"),s.a.removeItem("__sak"),!0}catch{return!1}}t=Fy.prototype,t.set=function(s,c){try{this.a.setItem(s,c)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},t.get=function(s){if(s=this.a.getItem(s),!b(s)&&s!==null)throw"Storage mechanism: Invalid value was encountered";return s},t.ra=function(s){this.a.removeItem(s)},t.ha=function(s){var c=0,u=this.a,f=new ks;return f.next=function(){if(c>=u.length)throw Ia;var p=u.key(c++);if(s)return p;if(p=u.getItem(p),!b(p))throw"Storage mechanism: Invalid value was encountered";return p},f},t.clear=function(){this.a.clear()},t.key=function(s){return this.a.key(s)};function dI(){var s=null;try{s=window.localStorage||null}catch{}this.a=s}H(dI,Fy);function hI(){var s=null;try{s=window.sessionStorage||null}catch{}this.a=s}H(hI,Fy);function Ju(s,c){this.g=s,this.a=c+"::"}H(Ju,ky),Ju.prototype.set=function(s,c){this.g.set(this.a+s,c)},Ju.prototype.get=function(s){return this.g.get(this.a+s)},Ju.prototype.ra=function(s){this.g.ra(this.a+s)},Ju.prototype.ha=function(s){var c=this.g.ha(!0),u=this,f=new ks;return f.next=function(){for(var p=c.next();p.substr(0,u.a.length)!=u.a;)p=c.next();return s?p.substr(u.a.length):u.g.get(p)},f},Ly(new dI);var XN,JN=new hI;XN=Ly(JN)?new Ju(JN,"firebaseui"):null;var fI=new qf(XN),pI={name:"pendingEmailCredential",storage:fI},ol={name:"redirectStatus",storage:fI},Wf={name:"redirectUrl",storage:fI},Zu={name:"emailForSignIn",storage:new qf(new Ku(3600,"/"))},Kf={name:"pendingEncryptedCredential",storage:new qf(new Ku(3600,"/"))};function ed(s,c){return s.storage.get(c?s.name+":"+c:s.name)}function nr(s,c){s.storage.a.ra(c?s.name+":"+c:s.name)}function td(s,c,u){s.storage.set(u?s.name+":"+u:s.name,c)}function ZN(s){return ed(Wf,s)||null}function Ho(s){return s=ed(pI,s)||null,FN(s)}function Go(s){nr(pI,s)}function ek(s,c){td(pI,kN(s),c)}function mI(s){return(s=ed(ol,s)||null)&&typeof s.tenantId<"u"?new LN(s.tenantId):null}function nz(s,c){td(ol,{tenantId:s.a},c)}function iz(s,c){c=ed(Zu,c);var u=null;if(c)try{var f=qN(s,c),p=JSON.parse(f);u=p&&p.email||null}catch{}return u}function rz(s,c){c=ed(Kf,c);var u=null;if(c)try{var f=qN(s,c);u=JSON.parse(f)}catch{}return FN(u||null)}function oz(s,c,u){td(Kf,zN(s,JSON.stringify(kN(c))),u)}function gI(){this.W={}}function An(s,c,u){if(c.toLowerCase()in s.W)throw Error("Configuration "+c+" has already been defined.");s.W[c.toLowerCase()]=u}function vI(s,c,u){if(!(c.toLowerCase()in s.W))throw Error("Configuration "+c+" is not defined.");s.W[c.toLowerCase()]=u}gI.prototype.get=function(s){if(!(s.toLowerCase()in this.W))throw Error("Configuration "+s+" is not defined.");return this.W[s.toLowerCase()]};function yI(s,c){if(s=s.get(c),!s)throw Error("Configuration "+c+" is required.");return s}function _I(){this.g=void 0,this.a={}}t=_I.prototype,t.set=function(s,c){tk(this,s,c,!1)},t.add=function(s,c){tk(this,s,c,!0)};function tk(s,c,u,f){for(var p=0;p<c.length;p++){var g=c.charAt(p);s.a[g]||(s.a[g]=new _I),s=s.a[g]}if(f&&s.g!==void 0)throw Error('The collection already contains the key "'+c+'"');s.g=u}t.get=function(s){e:{for(var c=this,u=0;u<s.length;u++)if(c=c.a[s.charAt(u)],!c){s=void 0;break e}s=c}return s?s.g:void 0},t.la=function(){var s=[];return nk(this,s),s};function nk(s,c){s.g!==void 0&&c.push(s.g);for(var u in s.a)nk(s.a[u],c)}t.ja=function(){var s=[];return ik(this,"",s),s};function ik(s,c,u){s.g!==void 0&&u.push(c);for(var f in s.a)ik(s.a[f],c+f,u)}t.clear=function(){this.a={},this.g=void 0};function rk(s){for(this.a=s,this.g=new _I,s=0;s<this.a.length;s++){var c=this.g.get("+"+this.a[s].b);c?c.push(this.a[s]):this.g.add("+"+this.a[s].b,[this.a[s]])}}function Vy(s,c){s=s.g;var u={},f=0;for(s.g!==void 0&&(u[f]=s.g);f<c.length;f++){var p=c.charAt(f);if(!(p in s.a))break;s=s.a[p],s.g!==void 0&&(u[f]=s.g)}for(var g in u)if(u.hasOwnProperty(g))return u[g];return[]}function sl(s){for(var c=0;c<Gi.length;c++)if(Gi[c].c===s)return Gi[c];return null}function ok(s){s=s.toUpperCase();for(var c=[],u=0;u<Gi.length;u++)Gi[u].f===s&&c.push(Gi[u]);return c}function sk(s){if(0<s.length&&s.charAt(0)=="+"){s=s.substring(1);for(var c=[],u=0;u<Gi.length;u++)Gi[u].b==s&&c.push(Gi[u]);s=c}else s=ok(s);return s}function ak(s){s.sort(function(c,u){return c.name.localeCompare(u.name,"en")})}var Gi=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"\xC5land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"C\xF4te d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Cura\xE7ao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"R\xE9union",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barth\xE9lemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"S\xE3o Tom\xE9 and Pr\xEDncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];ak(Gi);var Yf=new rk(Gi);function ck(s,c){this.a=s,this.Aa=c}function lk(s){s=ti(s);var c=Vy(Yf,s);return 0<c.length?new ck(c[0].b=="1"?"1-US-0":c[0].c,ti(s.substr(c[0].b.length+1))):null}function wI(s){var c=sl(s.a);if(!c)throw Error("Country ID "+s.a+" not found.");return"+"+c.b+s.Aa}function uk(s,c){for(var u=0;u<s.length;u++)if(!ct(dk,s[u])&&(nd!==null&&s[u]in nd||ct(c,s[u])))return s[u];return null}var dk=["emailLink","password","phone"],nd={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function sz(){this.a=new gI,An(this.a,"autoUpgradeAnonymousUsers"),An(this.a,"callbacks"),An(this.a,"credentialHelper",By),An(this.a,"immediateFederatedRedirect",!1),An(this.a,"popupMode",!1),An(this.a,"privacyPolicyUrl"),An(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),An(this.a,"queryParameterForWidgetMode","mode"),An(this.a,"signInFlow"),An(this.a,"signInOptions"),An(this.a,"signInSuccessUrl"),An(this.a,"siteName"),An(this.a,"tosUrl"),An(this.a,"widgetUrl"),An(this.a,"adminRestrictedOperation")}function jy(s){var c=!!s.a.get("autoUpgradeAnonymousUsers");return c&&!bk(s)&&mr('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),c}function Uy(s){s=s.a.get("signInOptions")||[];for(var c=[],u=0;u<s.length;u++){var f=s[u];f=U(f)?f:{provider:f},f.provider&&c.push(f)}return c}function gr(s,c){s=Uy(s);for(var u=0;u<s.length;u++)if(s[u].provider===c)return s[u];return null}function id(s){return Uy(s).map(function(c){return c.provider})}function Qf(s,c){s=hk(s);for(var u=0;u<s.length;u++)if(s[u].providerId===c)return s[u];return null}function hk(s){return Uy(s).map(function(c){if(nd[c.provider]||ct(gz,c.provider)){c={providerId:c.provider,S:c.providerName||null,V:c.fullLabel||null,ta:c.buttonColor||null,za:c.iconUrl?xa(iy(c.iconUrl)).toString():null};for(var u in c)c[u]===null&&delete c[u];return c}return{providerId:c.provider,S:c.providerName||null,V:c.fullLabel||null,ta:c.buttonColor||null,za:c.iconUrl?xa(iy(c.iconUrl)).toString():null,Ob:c.loginHintKey||null}})}function fk(s){var c=gr(s,_e.auth.GoogleAuthProvider.PROVIDER_ID),u;if(u=c&&c.clientId){e:{if((window.location&&window.location.protocol)==="http:"||(window.location&&window.location.protocol)==="https:"){for(f in s=s.a.get("credentialHelper"),SI)if(SI[f]===s){var f=SI[f];break e}}f=By}u=f===II}return u&&c.clientId||null}function pk(s){return s=gr(s,_e.auth.EmailAuthProvider.PROVIDER_ID),!!(s&&s.disableSignUp&&s.disableSignUp.status)}function al(s){return s=s.a.get("adminRestrictedOperation")||null,!(!s||!s.status)}function az(s){var c=null;if(Uy(s).forEach(function(f){f.provider==_e.auth.PhoneAuthProvider.PROVIDER_ID&&U(f.recaptchaParameters)&&!Array.isArray(f.recaptchaParameters)&&(c=Ea(f.recaptchaParameters))}),c){var u=[];vz.forEach(function(f){typeof c[f]<"u"&&(u.push(f),delete c[f])}),u.length&&Fa('The following provided "recaptchaParameters" keys are not allowed: '+u.join(", "))}return c}function cz(s){return(s=s.a.get("adminRestrictedOperation"))&&s.adminEmail?s.adminEmail:null}function lz(s){if(s=s.a.get("adminRestrictedOperation")||null){var c=s.helpLink||null;if(c&&typeof c=="string")return function(){Wu(c)}}return null}function uz(s){return(s=gr(s,_e.auth.EmailAuthProvider.PROVIDER_ID))&&s.disableSignUp&&s.disableSignUp.adminEmail||null}function dz(s){if((s=gr(s,_e.auth.EmailAuthProvider.PROVIDER_ID))&&s.disableSignUp){var c=s.disableSignUp.helpLink||null;if(c&&typeof c=="string")return function(){Wu(c)}}return null}function mk(s,c){return s=(s=gr(s,c))&&s.scopes,Array.isArray(s)?s:[]}function gk(s,c){return s=(s=gr(s,c))&&s.customParameters,U(s)?(s=Ea(s),c===_e.auth.GoogleAuthProvider.PROVIDER_ID&&delete s.login_hint,c===_e.auth.GithubAuthProvider.PROVIDER_ID&&delete s.login,s):null}function hz(s){s=gr(s,_e.auth.PhoneAuthProvider.PROVIDER_ID);var c=null;return s&&typeof s.loginHint=="string"&&(c=lk(s.loginHint)),s&&s.defaultNationalNumber||c&&c.Aa||null}function fz(s){var c=(s=gr(s,_e.auth.PhoneAuthProvider.PROVIDER_ID))&&s.defaultCountry||null;c=c&&ok(c);var u=null;return s&&typeof s.loginHint=="string"&&(u=lk(s.loginHint)),c&&c[0]||u&&sl(u.a)||null}function bI(s){if(s=gr(s,_e.auth.PhoneAuthProvider.PROVIDER_ID),!s)return null;var c=s.whitelistedCountries,u=s.blacklistedCountries;if(typeof c<"u"&&(!Array.isArray(c)||c.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof u<"u"&&!Array.isArray(u))throw Error("BlacklistedCountries must be an array.");if(c&&u)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!c&&!u)return Gi;if(s=[],c){u={};for(var f=0;f<c.length;f++)for(var p=sk(c[f]),g=0;g<p.length;g++)u[p[g].c]=p[g];for(var _ in u)u.hasOwnProperty(_)&&s.push(u[_])}else{for(_={},c=0;c<u.length;c++)for(p=sk(u[c]),f=0;f<p.length;f++)_[p[f].c]=p[f];for(p=0;p<Gi.length;p++)_!==null&&Gi[p].c in _||s.push(Gi[p])}return s}function vk(s){return yI(s.a,"queryParameterForWidgetMode")}function xn(s){var c=s.a.get("tosUrl")||null;if(s=s.a.get("privacyPolicyUrl")||null,c&&!s&&Fa("Privacy Policy URL is missing, the link will not be displayed."),c&&s){if(typeof c=="function")return c;if(typeof c=="string")return function(){Wu(c)}}return null}function Mn(s){var c=s.a.get("tosUrl")||null,u=s.a.get("privacyPolicyUrl")||null;if(u&&!c&&Fa("Term of Service URL is missing, the link will not be displayed."),c&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){Wu(u)}}return null}function yk(s){return(s=gr(s,_e.auth.EmailAuthProvider.PROVIDER_ID))&&typeof s.requireDisplayName<"u"?!!s.requireDisplayName:!0}function rd(s){return s=gr(s,_e.auth.EmailAuthProvider.PROVIDER_ID),!(!s||s.signInMethod!==_e.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function pz(s){return s=gr(s,_e.auth.EmailAuthProvider.PROVIDER_ID),!(!s||!s.forceSameDevice)}function mz(s){if(rd(s)){var c={url:js(),handleCodeInApp:!0};(s=gr(s,_e.auth.EmailAuthProvider.PROVIDER_ID))&&typeof s.emailLinkSignIn=="function"&&Ns(c,s.emailLinkSignIn()),s=c.url;var u=js();u instanceof Ai||(u=xf(u)),s instanceof Ai||(s=xf(s));var f=u;u=new Ai(f);var p=!!s.j;p?Wc(u,s.j):p=!!s.A,p?u.A=s.A:p=!!s.h,p?u.h=s.h:p=s.C!=null;var g=s.g;if(p)Sa(u,s.C);else if(p=!!s.g){if(g.charAt(0)!="/"&&(f.h&&!f.g?g="/"+g:(f=u.g.lastIndexOf("/"),f!=-1&&(g=u.g.substr(0,f+1)+g))),g==".."||g==".")g="";else if(g.indexOf("./")!=-1||g.indexOf("/.")!=-1){f=g.lastIndexOf("/",0)==0,g=g.split("/");for(var _=[],x=0;x<g.length;){var V=g[x++];V=="."?f&&x==g.length&&_.push(""):V==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),f&&x==g.length&&_.push("")):(_.push(V),f=!0)}g=_.join("/")}}return p?u.g=g:p=s.a.toString()!=="",p?Bo(u,vR(s.a)):p=!!s.s,p&&(u.s=s.s),c.url=u.toString(),c}return null}function CI(s){var c=!!s.a.get("immediateFederatedRedirect"),u=id(s);return s=_k(s),c&&u.length==1&&!ct(dk,u[0])&&s==$y}function _k(s){s=s.a.get("signInFlow");for(var c in TI)if(TI[c]==s)return TI[c];return $y}function EI(s){return Xf(s).signInSuccess||null}function wk(s){return Xf(s).signInSuccessWithAuthResult||null}function bk(s){return Xf(s).signInFailure||null}function Xf(s){return s.a.get("callbacks")||{}}var II="googleyolo",By="none",SI={nc:II,NONE:By},$y="redirect",TI={qc:"popup",rc:$y},DI={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},gz=["anonymous"],vz=["sitekey","tabindex","callback","expired-callback"],Jf,od,AI,Ck,Pt={};function pe(s,c,u,f){Pt[s].apply(null,Array.prototype.slice.call(arguments,1))}function Ek(s){return s.classList?s.classList:(s=s.className,b(s)&&s.match(/\S+/g)||[])}function Zf(s,c){return s.classList?s.classList.contains(c):ct(Ek(s),c)}function zo(s,c){s.classList?s.classList.add(c):Zf(s,c)||(s.className+=0<s.className.length?" "+c:c)}function qo(s,c){s.classList?s.classList.remove(c):Zf(s,c)&&(s.className=ht(Ek(s),function(u){return u!=c}).join(" "))}function ii(s){var c=s.type;switch(b(c)&&c.toLowerCase()){case"checkbox":case"radio":return s.checked?s.value:null;case"select-one":return c=s.selectedIndex,0<=c?s.options[c].value:null;case"select-multiple":c=[];for(var u,f=0;u=s.options[f];f++)u.selected&&c.push(u.value);return c.length?c:null;default:return s.value!=null?s.value:null}}function Ik(s,c){var u=s.type;switch(b(u)&&u.toLowerCase()){case"checkbox":case"radio":s.checked=c;break;case"select-one":if(s.selectedIndex=-1,b(c)){for(var f=0;u=s.options[f];f++)if(u.value==c){u.selected=!0;break}}break;case"select-multiple":for(b(c)&&(c=[c]),f=0;u=s.options[f];f++)if(u.selected=!1,c)for(var p,g=0;p=c[g];g++)u.value==p&&(u.selected=!0);break;default:s.value=c??""}}function yz(s){if(s.altKey&&!s.ctrlKey||s.metaKey||112<=s.keyCode&&123>=s.keyCode)return!1;if(ep(s.keyCode))return!0;switch(s.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!oo;default:return 166>s.keyCode||183<s.keyCode}}function Sk(s,c,u,f,p,g){if(Bi&&!Qc("525"))return!0;if(Aa&&p)return ep(s);if(p&&!f)return!1;if(!oo){typeof c=="number"&&(c=xI(c));var _=c==17||c==18||Aa&&c==91;if((!u||Aa)&&_||Aa&&c==16&&(f||g))return!1}if((Bi||Da)&&f&&u)switch(s){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(fn&&f&&c==s)return!1;switch(s){case 13:return oo?g||p?!1:!(u&&f):!0;case 27:return!(Bi||Da||oo)}return oo&&(f||p||g)?!1:ep(s)}function ep(s){if(48<=s&&57>=s||96<=s&&106>=s||65<=s&&90>=s||(Bi||Da)&&s==0)return!0;switch(s){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return oo;default:return!1}}function xI(s){if(oo)s=_z(s);else if(Aa&&Bi)switch(s){case 93:s=91}return s}function _z(s){switch(s){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return s}}function sd(s){Vn.call(this),this.a=s,so(s,"keydown",this.g,!1,this),so(s,"click",this.h,!1,this)}H(sd,Vn),sd.prototype.g=function(s){(s.keyCode==13||Bi&&s.keyCode==3)&&Tk(this,s)},sd.prototype.h=function(s){Tk(this,s)};function Tk(s,c){var u=new Ak(c);if(Na(s,u)){u=new Dk(c);try{Na(s,u)}finally{c.stopPropagation()}}}sd.prototype.o=function(){sd.K.o.call(this),tl(this.a,"keydown",this.g,!1,this),tl(this.a,"click",this.h,!1,this),delete this.a};function Dk(s){Hi.call(this,s.a),this.type="action"}H(Dk,Hi);function Ak(s){Hi.call(this,s.a),this.type="beforeaction"}H(Ak,Hi);function ad(s){Vn.call(this),this.a=s,s=fn?"focusout":"blur",this.g=so(this.a,fn?"focusin":"focus",this,!fn),this.h=so(this.a,s,this,!fn)}H(ad,Vn),ad.prototype.handleEvent=function(s){var c=new Hi(s.a);c.type=s.type=="focusin"||s.type=="focus"?"focusin":"focusout",Na(this,c)},ad.prototype.o=function(){ad.K.o.call(this),Ra(this.g),Ra(this.h),delete this.a};function Hy(s,c){Vn.call(this),this.g=s||1,this.a=c||v,this.h=Ie(this.gc,this),this.j=rn()}H(Hy,Vn),t=Hy.prototype,t.Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var s=rn()-this.j;0<s&&s<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-s):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),Na(this,"tick"),this.Ka&&(Gy(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=rn())};function Gy(s){s.Ka=!1,s.aa&&(s.a.clearTimeout(s.aa),s.aa=null)}t.o=function(){Hy.K.o.call(this),Gy(this),delete this.a};function wz(s,c){if(ee(s))c&&(s=Ie(s,c));else if(s&&typeof s.handleEvent=="function")s=Ie(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<0?-1:v.setTimeout(s,0)}function cd(s){el.call(this),this.g=s,this.a={}}H(cd,el);var xk=[];function ld(s,c,u,f){$(u)||(u&&(xk[0]=u.toString()),u=xk);for(var p=0;p<u.length;p++){var g=so(c,u[p],f||s.handleEvent,!1,s.g||s);if(!g)break;s.a[g.key]=g}}function Mk(s){zc(s.a,function(c,u){this.a.hasOwnProperty(u)&&Ra(c)},s),s.a={}}cd.prototype.o=function(){cd.K.o.call(this),Mk(this)},cd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function tp(s){Vn.call(this),this.a=null,this.g=s,s=fn||Da||Bi&&!Qc("531")&&s.tagName=="TEXTAREA",this.h=new cd(this),ld(this.h,this.g,s?["keydown","paste","cut","drop","input"]:"input",this)}H(tp,Vn),tp.prototype.handleEvent=function(s){if(s.type=="input")fn&&Qc(10)&&s.keyCode==0&&s.j==0||(MI(this),Na(this,Pk(s)));else if(s.type!="keydown"||yz(s)){var c=s.type=="keydown"?this.g.value:null;fn&&s.keyCode==229&&(c=null);var u=Pk(s);MI(this),this.a=wz(function(){this.a=null,this.g.value!=c&&Na(this,u)},this)}};function MI(s){s.a!=null&&(v.clearTimeout(s.a),s.a=null)}function Pk(s){return s=new Hi(s.a),s.type="input",s}tp.prototype.o=function(){tp.K.o.call(this),this.h.m(),MI(this),delete this.g};function np(s,c){Vn.call(this),s&&(this.Oa&&Fk(this),this.qa=s,this.Na=so(this.qa,"keypress",this,c),this.Ya=so(this.qa,"keydown",this.Jb,c,this),this.Oa=so(this.qa,"keyup",this.Kb,c,this))}H(np,Vn),t=np.prototype,t.qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var Ok={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Rk={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Nk=!Bi||Qc("525"),kk=Aa&&oo;t=np.prototype,t.Jb=function(s){(Bi||Da)&&(this.R==17&&!s.ctrlKey||this.R==18&&!s.altKey||Aa&&this.R==91&&!s.metaKey)&&(this.X=this.R=-1),this.R==-1&&(s.ctrlKey&&s.keyCode!=17?this.R=17:s.altKey&&s.keyCode!=18?this.R=18:s.metaKey&&s.keyCode!=91&&(this.R=91)),Nk&&!Sk(s.keyCode,this.R,s.shiftKey,s.ctrlKey,s.altKey,s.metaKey)?this.handleEvent(s):(this.X=xI(s.keyCode),kk&&(this.Ua=s.altKey))},t.Kb=function(s){this.X=this.R=-1,this.Ua=s.altKey},t.handleEvent=function(s){var c=s.a,u=c.altKey;if(fn&&s.type=="keypress")var f=this.X,p=f!=13&&f!=27?c.keyCode:0;else(Bi||Da)&&s.type=="keypress"?(f=this.X,p=0<=c.charCode&&63232>c.charCode&&ep(f)?c.charCode:0):ER&&!Bi?(f=this.X,p=ep(f)?c.keyCode:0):(s.type=="keypress"?(kk&&(u=this.Ua),c.keyCode==c.charCode?32>c.keyCode?(f=c.keyCode,p=0):(f=this.X,p=c.charCode):(f=c.keyCode||this.X,p=c.charCode||0)):(f=c.keyCode||this.X,p=c.charCode||0),Aa&&p==63&&f==224&&(f=191));var g=f=xI(f);f?63232<=f&&f in Ok?g=Ok[f]:f==25&&s.shiftKey&&(g=9):c.keyIdentifier&&c.keyIdentifier in Rk&&(g=Rk[c.keyIdentifier]),oo&&Nk&&s.type=="keypress"&&!Sk(g,this.R,s.shiftKey,s.ctrlKey,u,s.metaKey)||(s=g==this.R,this.R=g,c=new Lk(g,p,s,c),c.altKey=u,Na(this,c))},t.N=function(){return this.qa};function Fk(s){s.Na&&(Ra(s.Na),Ra(s.Ya),Ra(s.Oa),s.Na=null,s.Ya=null,s.Oa=null),s.qa=null,s.R=-1,s.X=-1}t.o=function(){np.K.o.call(this),Fk(this)};function Lk(s,c,u,f){Hi.call(this,f),this.type="key",this.keyCode=s,this.j=c,this.repeat=u}H(Lk,Hi);function ud(s,c,u,f){this.top=s,this.right=c,this.bottom=u,this.left=f}ud.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},ud.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},ud.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},ud.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function zy(s,c){var u=Rf(s);return u.defaultView&&u.defaultView.getComputedStyle&&(s=u.defaultView.getComputedStyle(s,null))&&(s[c]||s.getPropertyValue(c))||""}function Vk(s){try{var c=s.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return fn&&s.ownerDocument.body&&(s=s.ownerDocument,c.left-=s.documentElement.clientLeft+s.body.clientLeft,c.top-=s.documentElement.clientTop+s.body.clientTop),c}function bz(s,c){c=c||sy(document);var u=c||sy(document),f=jk(s),p=jk(u);if(!fn||9<=Number(Pf)){_=zy(u,"borderLeftWidth");var g=zy(u,"borderRightWidth");x=zy(u,"borderTopWidth"),V=zy(u,"borderBottomWidth"),g=new ud(parseFloat(x),parseFloat(g),parseFloat(V),parseFloat(_))}else{var _=qy(u,"borderLeft");g=qy(u,"borderRight");var x=qy(u,"borderTop"),V=qy(u,"borderBottom");g=new ud(x,g,V,_)}u==sy(document)?(_=f.a-u.scrollLeft,f=f.g-u.scrollTop,!fn||10<=Number(Pf)||(_+=g.left,f+=g.top)):(_=f.a-p.a-g.left,f=f.g-p.g-g.top),p=s.offsetWidth,g=s.offsetHeight,x=Bi&&!p&&!g,y(p)&&!x||!s.getBoundingClientRect?s=new xE(p,g):(s=Vk(s),s=new xE(s.right-s.left,s.bottom-s.top)),p=u.clientHeight-s.height,g=u.scrollLeft,x=u.scrollTop,g+=Math.min(_,Math.max(_-(u.clientWidth-s.width),0)),x+=Math.min(f,Math.max(f-p,0)),u=new Pa(g,x),c.scrollLeft=u.a,c.scrollTop=u.g}function jk(s){var c=Rf(s),u=new Pa(0,0),f=c?Rf(c):document;return f=!fn||9<=Number(Pf)||oy(f).a.compatMode=="CSS1Compat"?f.documentElement:f.body,s==f||(s=Vk(s),f=oy(c).a,c=sy(f),f=f.parentWindow||f.defaultView,c=fn&&Qc("10")&&f.pageYOffset!=c.scrollTop?new Pa(c.scrollLeft,c.scrollTop):new Pa(f.pageXOffset||c.scrollLeft,f.pageYOffset||c.scrollTop),u.a=s.left+c.a,u.g=s.top+c.g),u}var Uk={thin:2,medium:4,thick:6};function qy(s,c){if((s.currentStyle?s.currentStyle[c+"Style"]:null)=="none")return 0;var u=s.currentStyle?s.currentStyle[c+"Width"]:null;if(u in Uk)s=Uk[u];else if(/^\d+px?$/.test(u))s=parseInt(u,10);else{c=s.style.left;var f=s.runtimeStyle.left;s.runtimeStyle.left=s.currentStyle.left,s.style.left=u,u=s.style.pixelLeft,s.style.left=c,s.runtimeStyle.left=f,s=+u}return s}function PI(){}O(PI),PI.prototype.a=0;function cl(s){Vn.call(this),this.s=s||oy(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}H(cl,Vn),t=cl.prototype,t.Lb=PI.Xa(),t.N=function(){return this.g};function pt(s,c){return s.g?PE(c,s.g||s.s.a):null}function ip(s){return s.L||(s.L=new cd(s)),s.L}t.Za=function(s){if(this.Y&&this.Y!=s)throw Error("Method not supported");cl.K.Za.call(this,s)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(s){if(this.na)throw Error("Component already rendered");this.g||this.kb(),s?s.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,OI(this,function(s){!s.na&&s.N()&&s.v()})},t.ya=function(){OI(this,function(s){s.na&&s.ya()}),this.L&&Mk(this.L),this.na=!1},t.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),OI(this,function(s){s.m()}),this.g&&Jc(this.g),this.Y=this.g=this.oa=this.Ea=null,cl.K.o.call(this)};function OI(s,c){s.Ea&&Nt(s.Ea,c,void 0)}t.removeChild=function(s,c){if(s){var u=b(s)?s:s.cb||(s.cb=":"+(s.Lb.a++).toString(36));if(this.oa&&u?(s=this.oa,s=(s!==null&&u in s?s[u]:void 0)||null):s=null,u&&s){var f=this.oa;if(u in f&&delete f[u],Fn(this.Ea,s),c&&(s.ya(),s.g&&Jc(s.g)),c=s,c==null)throw Error("Unable to set parent component");c.Y=null,cl.K.Za.call(c,null)}}if(!s)throw Error("Child is not in parent component");return s};function gn(s,c){var u=LR(s,"firebaseui-textfield");c?(qo(s,"firebaseui-input-invalid"),zo(s,"firebaseui-input"),u&&qo(u,"firebaseui-textfield-invalid")):(qo(s,"firebaseui-input"),zo(s,"firebaseui-input-invalid"),u&&zo(u,"firebaseui-textfield-invalid"))}function dd(s,c,u){c=new tp(c),Ff(s,$e(Lf,c)),ld(ip(s),c,"input",u)}function rp(s,c,u){c=new np(c),Ff(s,$e(Lf,c)),ld(ip(s),c,"key",function(f){f.keyCode==13&&(f.stopPropagation(),f.preventDefault(),u(f))})}function Cz(s,c,u){c=new ad(c),Ff(s,$e(Lf,c)),ld(ip(s),c,"focusin",u)}function Ez(s,c,u){c=new ad(c),Ff(s,$e(Lf,c)),ld(ip(s),c,"focusout",u)}function un(s,c,u){c=new sd(c),Ff(s,$e(Lf,c)),ld(ip(s),c,"action",function(f){f.stopPropagation(),f.preventDefault(),u(f)})}function vr(s){zo(s,"firebaseui-hidden")}function ri(s,c){c&&OE(s,c),qo(s,"firebaseui-hidden")}function hd(s){return!Zf(s,"firebaseui-hidden")&&s.style.display!="none"}function fd(s){s=s||{};var c=s.email,u=s.disabled,f='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return f=s.wc?f+"Enter new email address":f+"Email",f+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+$i(c??"")+'"'+(u?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',de(f)}function ir(s){s=s||{},s=s.label;var c='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return c=s?c+Oe(s):c+"Next",de(c+"</button>")}function RI(){var s=""+ir({label:pn("Sign In")});return de(s)}function Bk(){var s=""+ir({label:pn("Save")});return de(s)}function ao(){var s=""+ir({label:pn("Continue")});return de(s)}function $k(s){s=s||{},s=s.label;var c='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return c=s?c+Oe(s):c+"Choose password",de(c+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function Hk(){var s={},c='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return c=s.current?c+"Current password":c+"Password",de(c+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function Gk(){return de('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function yr(s){s=s||{},s=s.label;var c='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return c=s?c+Oe(s):c+"Cancel",de(c+"</button>")}function vi(s){var c="";return s.F&&s.D&&(c+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),de(c)}function pd(s){var c="";return s.F&&s.D&&(c+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),de(c)}function zk(s){return s='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+Oe(s.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',de(s)}zk.a="firebaseui.auth.soy2.element.infoBar";function qk(s){var c=s.content;return s=s.Ab,de('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(s?" "+$i(s):"")+'">'+Oe(c)+"</dialog>")}function Wk(s){var c=s.message;return de(qk({content:UR('<div class="firebaseui-dialog-icon-wrapper"><div class="'+$i(s.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+Oe(c)+"</div>")}))}Wk.a="firebaseui.auth.soy2.element.progressDialog";function Kk(s){var c='<div class="firebaseui-list-box-actions">';s=s.items;for(var u=s.length,f=0;f<u;f++){var p=s[f];c+='<button type="button" data-listboxid="'+$i(p.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(p.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+$i(p.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+Oe(p.label)+"</div></button>"}return c=""+qk({Ab:pn("firebaseui-list-box-dialog"),content:UR(c+"</div>")}),de(c)}Kk.a="firebaseui.auth.soy2.element.listBoxDialog";function Wy(s){return s=s||{},de(s.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}Wy.a="firebaseui.auth.soy2.element.busyIndicator";function La(s,c){return s=s||{},s=s.ga,Et(s.S?s.S:c.hb[s.providerId]?""+c.hb[s.providerId]:s.providerId&&s.providerId.indexOf("saml.")==0||s.providerId&&s.providerId.indexOf("oidc.")==0?s.providerId.substring(5):""+s.providerId)}function NI(s){Yk(s,"upgradeElement")}function kI(s){Yk(s,"downgradeElements")}var Iz=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function Yk(s,c){s&&window.componentHandler&&window.componentHandler[c]&&Iz.forEach(function(u){Zf(s,u)&&window.componentHandler[c](s),Nt(ME(u,s),function(f){window.componentHandler[c](f)})})}function Qk(s,c,u){if(Ky.call(this),document.body.appendChild(s),s.showModal||window.dialogPolyfill.registerDialog(s),s.showModal(),NI(s),c&&un(this,s,function(g){var _=s.getBoundingClientRect();(g.clientX<_.left||_.left+_.width<g.clientX||g.clientY<_.top||_.top+_.height<g.clientY)&&Ky.call(this)}),!u){var f=this.N().parentElement||this.N().parentNode;if(f){var p=this;this.da=function(){if(s.open){var g=s.getBoundingClientRect().height,_=f.getBoundingClientRect().height,x=f.getBoundingClientRect().top-document.body.getBoundingClientRect().top,V=f.getBoundingClientRect().left-document.body.getBoundingClientRect().left,Y=s.getBoundingClientRect().width,ve=f.getBoundingClientRect().width;s.style.top=(x+(_-g)/2).toString()+"px",g=V+(ve-Y)/2,s.style.left=g.toString()+"px",s.style.right=(document.body.getBoundingClientRect().width-g-Y).toString()+"px"}else window.removeEventListener("resize",p.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function Ky(){var s=FI.call(this);s&&(kI(s),s.open&&s.close(),Jc(s),this.da&&window.removeEventListener("resize",this.da))}function FI(){return PE("firebaseui-id-dialog")}function Xk(){Jc(Jk.call(this))}function Jk(){return pt(this,"firebaseui-id-info-bar")}function Zk(){return pt(this,"firebaseui-id-dismiss-info-bar")}var Sz={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function LI(s,c,u){Ls.call(this,s,c);for(var f in u)this[f]=u[f]}H(LI,Ls);function G(s,c,u,f,p){cl.call(this,u),this.fb=s,this.eb=c,this.Fa=!1,this.Ga=f||null,this.A=this.ca=null,this.Z=Ea(Sz),Ns(this.Z,p||{})}H(G,cl),t=G.prototype,t.kb=function(){var s=Nf(this.fb,this.eb,this.Z,this.s);NI(s),this.g=s},t.v=function(){if(G.K.v.call(this),tN(sn(this),new LI("pageEnter",sn(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var s=this.Z.F;un(this,this.bb(),function(){s()})}if(this.ab()&&this.Z.D){var c=this.Z.D;un(this,this.ab(),function(){c()})}},t.ya=function(){tN(sn(this),new LI("pageExit",sn(this),{pageId:this.Ga})),G.K.ya.call(this)},t.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,kI(this.N()),G.K.o.call(this)};function Tz(s){s.Fa=!0;var c=Zf(s.N(),"firebaseui-use-spinner");s.ca=window.setTimeout(function(){s.N()&&s.A===null&&(s.A=Nf(Wy,{tb:c},null,s.s),s.N().appendChild(s.A),NI(s.A))},500)}t.I=function(s,c,u,f){function p(){if(g.T)return null;g.Fa=!1,window.clearTimeout(g.ca),g.ca=null,g.A&&(kI(g.A),Jc(g.A),g.A=null)}var g=this;return g.Fa?null:(Tz(g),s.apply(null,c).then(u,f).then(p,p))};function sn(s){return s.N().parentElement||s.N().parentNode}function op(s,c,u){rp(s,c,function(){u.focus()})}function md(s,c,u){rp(s,c,function(){u()})}Te(G.prototype,{a:function(s){Xk.call(this);var c=Nf(zk,{message:s},null,this.s);this.N().appendChild(c),un(this,Zk.call(this),function(){Jc(c)})},yc:Xk,Ac:Jk,zc:Zk,$:function(s,c){s=Nf(Wk,{Ma:s,message:c},null,this.s),Qk.call(this,s)},h:Ky,Cb:FI,Cc:function(){return pt(this,"firebaseui-tos")},bb:function(){return pt(this,"firebaseui-tos-link")},ab:function(){return pt(this,"firebaseui-pp-link")},Dc:function(){return pt(this,"firebaseui-tos-list")}});function eF(s,c,u){s=s||{},c=s.Va;var f=s.ia;return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+fd(s)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?yr(null):"")+ir(null)+'</div></div><div class="firebaseui-card-footer">'+(f?pd(u):vi(u))+"</div></form></div>",de(s)}eF.a="firebaseui.auth.soy2.page.signIn";function tF(s,c,u){return s=s||{},c=s.ia,s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+fd(s)+Hk()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+Gk()+'</div><div class="firebaseui-form-actions">'+RI()+'</div></div><div class="firebaseui-card-footer">'+(c?pd(u):vi(u))+"</div></form></div>",de(s)}tF.a="firebaseui.auth.soy2.page.passwordSignIn";function nF(s,c,u){s=s||{};var f=s.Tb;c=s.Ta;var p=s.ia,g='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+fd(s);return f?(s=s||{},s=s.name,s='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+$i(s??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',s=de(s)):s="",u=g+s+$k(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?yr(null):"")+Bk()+'</div></div><div class="firebaseui-card-footer">'+(p?pd(u):vi(u))+"</div></form></div>",de(u)}nF.a="firebaseui.auth.soy2.page.passwordSignUp";function iF(s,c,u){return s=s||{},c=s.Ta,s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+fd(s)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?yr(null):"")+ir({label:pn("Send")})+'</div></div><div class="firebaseui-card-footer">'+vi(u)+"</div></form></div>",de(s)}iF.a="firebaseui.auth.soy2.page.passwordRecovery";function rF(s,c,u){c=s.G;var f="";return s="Follow the instructions sent to <strong>"+(Oe(s.email)+"</strong> to recover your password"),f+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions">',c&&(f+='<div class="firebaseui-form-actions">'+ir({label:pn("Done")})+"</div>"),f+='</div><div class="firebaseui-card-footer">'+vi(u)+"</div></div>",de(f)}rF.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function oF(s,c,u){return de('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+Wy(null,null,u)+"</div></div>")}oF.a="firebaseui.auth.soy2.page.callback";function sF(s,c,u){return de('<div class="firebaseui-container firebaseui-id-page-spinner">'+Wy({tb:!0},null,u)+"</div>")}sF.a="firebaseui.auth.soy2.page.spinner";function aF(){return de('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}aF.a="firebaseui.auth.soy2.page.blank";function cF(s,c,u){c="",s="A sign-in email with additional instructions was sent to <strong>"+(Oe(s.email)+"</strong>. Check your email to complete sign-in.");var f=de('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+f+'</div><div class="firebaseui-form-actions">'+yr({label:pn("Back")})+'</div></div><div class="firebaseui-card-footer">'+vi(u)+"</div></form></div>",de(c)}cF.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function lF(s,c,u){return s=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+de('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+yr({label:pn("Back")})+'</div></div><div class="firebaseui-card-footer">'+vi(u)+"</div></form></div>",de(s)}lF.a="firebaseui.auth.soy2.page.emailNotReceived";function uF(s,c,u){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+fd(s)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+yr(null)+ir(null)+'</div></div><div class="firebaseui-card-footer">'+vi(u)+"</div></form></div>",de(s)}uF.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function dF(){var s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+yr({label:pn("Dismiss")})+"</div></div></div>";return de(s)}dF.a="firebaseui.auth.soy2.page.differentDeviceError";function hF(){var s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+yr({label:pn("Dismiss")})+"</div></div></div>";return de(s)}hF.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function fF(s,c,u){return c="",s="You\u2019ve already used <strong>"+(Oe(s.email)+"</strong> to sign in. Enter your password for that account."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+s+"</p>"+Hk()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+Gk()+'</div><div class="firebaseui-form-actions">'+RI()+'</div></div><div class="firebaseui-card-footer">'+vi(u)+"</div></form></div>",de(c)}fF.a="firebaseui.auth.soy2.page.passwordLinking";function pF(s,c,u){var f=s.email;return c="",s=""+La(s,u),s=pn(s),f="You\u2019ve already used <strong>"+(Oe(f)+("</strong>. You can connect your <strong>"+(Oe(s)+("</strong> account with <strong>"+(Oe(f)+"</strong> by signing in with email link below."))))),s="For this flow to successfully connect your "+(Oe(s)+" account with this email, you have to open the link on the same device or browser."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+f+'<p class="firebaseui-text firebaseui-text-justify">'+s+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+RI()+'</div></div><div class="firebaseui-card-footer">'+vi(u)+"</div></form></div>",de(c)}pF.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function mF(s,c,u){c="";var f=""+La(s,u);return f=pn(f),s="You originally intended to connect <strong>"+(Oe(f)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),f="If you still want to connect your <strong>"+(Oe(f)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+s+'</p><p class="firebaseui-text firebaseui-text-justify">'+f+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ao()+'</div></div><div class="firebaseui-card-footer">'+vi(u)+"</div></form></div>",de(c)}mF.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function gF(s,c,u){var f=s.email;return c="",s=""+La(s,u),s=pn(s),f="You\u2019ve already used <strong>"+(Oe(f)+("</strong>. Sign in with "+(Oe(s)+" to continue."))),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+f+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ir({label:pn("Sign in with "+s)})+'</div></div><div class="firebaseui-card-footer">'+vi(u)+"</div></form></div>",de(c)}gF.a="firebaseui.auth.soy2.page.federatedLinking";function vF(s,c,u){s=s||{};var f=s.kc;c=s.yb,s=s.Eb;var p='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return f?(f="<strong>"+(Oe(f)+"</strong> is not authorized to view the requested page."),p+=f):p+="User is not authorized to view the requested page.",p+="</p>",c&&(c="Please contact <strong>"+(Oe(c)+"</strong> for authorization."),p+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+c+"</p>"),p+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',s&&(p+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),p+='</div><div class="firebaseui-form-actions">'+yr({label:pn("Back")})+'</div></div><div class="firebaseui-card-footer">'+vi(u)+"</div></form></div>",de(p)}vF.a="firebaseui.auth.soy2.page.unauthorizedUser";function yF(s,c,u){return c="",s="To continue sign in with <strong>"+(Oe(s.email)+"</strong> on this device, you have to recover the password."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+yr(null)+ir({label:pn("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+vi(u)+"</div></form></div>",de(c)}yF.a="firebaseui.auth.soy2.page.unsupportedProvider";function _F(s){var c="",u='<p class="firebaseui-text">for <strong>'+(Oe(s.email)+"</strong></p>");return c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+u+$k(p8(s))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Bk()+"</div></div></form></div>",de(c)}_F.a="firebaseui.auth.soy2.page.passwordReset";function wF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></div>",de(s)}wF.a="firebaseui.auth.soy2.page.passwordResetSuccess";function bF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></div>",de(s)}bF.a="firebaseui.auth.soy2.page.passwordResetFailure";function CF(s){var c=s.G,u="";return s="Your sign-in email address has been changed back to <strong>"+(Oe(s.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p><p class="firebaseui-text">If you didn\u2019t ask to change your sign-in email, it\u2019s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(c?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></form></div>",de(u)}CF.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function EF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can\u2019t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></div>",de(s)}EF.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function IF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></div>",de(s)}IF.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function SF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></div>",de(s)}SF.a="firebaseui.auth.soy2.page.emailVerificationFailure";function TF(s){var c=s.G,u="";return s="You can now sign in with your new email <strong>"+(Oe(s.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions">'+(c?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></div>",de(u)}TF.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function DF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></div>",de(s)}DF.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function AF(s){var c=s.factorId,u=s.phoneNumber;s=s.G;var f='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(c){case"phone":c="The <strong>"+(Oe(c)+(" "+(Oe(u)+"</strong> was removed as a second authentication step."))),f+=c;break;default:f+="The device or app was removed as a second authentication step."}return f+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(s?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></form></div>",de(f)}AF.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function xF(s){return s=s||{},s=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(s.G?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></div>",de(s)}xF.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function MF(s){var c=s.zb;return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Oe(s.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',c&&(s+=ir({label:pn("Retry")})),de(s+"</div></div></div>")}MF.a="firebaseui.auth.soy2.page.recoverableError";function PF(s){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Oe(s.errorMessage)+"</p></div></div>",de(s)}PF.a="firebaseui.auth.soy2.page.unrecoverableError";function OF(s,c,u){var f=s.Qb;return c="",s="Continue with "+(Oe(s.jc)+"?"),f="You originally wanted to sign in with "+Oe(f),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+s+'</h2><p class="firebaseui-text">'+f+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+yr(null)+ir({label:pn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+vi(u)+"</div></form></div>",de(c)}OF.a="firebaseui.auth.soy2.page.emailMismatch";function RF(s,c,u){var f='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';s=s.Sb,c=s.length;for(var p=0;p<c;p++){var g={ga:s[p]},_=u;g=g||{};var x=g.ga,V=g;V=V||{};var Y="";switch(V.ga.providerId){case"google.com":Y+="firebaseui-idp-google";break;case"github.com":Y+="firebaseui-idp-github";break;case"facebook.com":Y+="firebaseui-idp-facebook";break;case"twitter.com":Y+="firebaseui-idp-twitter";break;case"phone":Y+="firebaseui-idp-phone";break;case"anonymous":Y+="firebaseui-idp-anonymous";break;case"password":Y+="firebaseui-idp-password";break;default:Y+="firebaseui-idp-generic"}V='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+$i(Et(Y))+' firebaseui-id-idp-button" data-provider-id="'+$i(x.providerId)+'" style="background-color:',Y=(Y=g)||{},Y=Y.ga,V=V+$i(BR(Et(Y.ta?Y.ta:_.wa[Y.providerId]?""+_.wa[Y.providerId]:Y.providerId.indexOf("saml.")==0?""+_.wa.saml:Y.providerId.indexOf("oidc.")==0?""+_.wa.oidc:""+_.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var ve=g;Y=_,ve=ve||{},ve=ve.ga,Y=f8(ve.za?Zc(ve.za):Y.xa[ve.providerId]?Zc(Y.xa[ve.providerId]):ve.providerId.indexOf("saml.")==0?Zc(Y.xa.saml):ve.providerId.indexOf("oidc.")==0?Zc(Y.xa.oidc):Zc(Y.xa.password)),V=V+$i(Zc(Y))+'"></span>',x.providerId=="password"?(V+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',x.V?V+=Oe(x.V):x.S?(g="Sign in with "+Oe(La(g,_)),V+=g):V+="Sign in with email",V+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',V=x.S?V+Oe(x.S):V+"Email",V+="</span>"):x.providerId=="phone"?(V+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',x.V?V+=Oe(x.V):x.S?(g="Sign in with "+Oe(La(g,_)),V+=g):V+="Sign in with phone",V+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',V=x.S?V+Oe(x.S):V+"Phone",V+="</span>"):x.providerId=="anonymous"?(V+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',x.V?V+=Oe(x.V):x.S?(g="Sign in with "+Oe(La(g,_)),V+=g):V+="Continue as guest",V+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',V=x.S?V+Oe(x.S):V+"Guest",V+="</span>"):(V+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',x.V?V+=Oe(x.V):(Y="Sign in with "+Oe(La(g,_)),V+=Y),V+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(x.S?Oe(x.S):Oe(La(g,_)))+"</span>"),x=de(V+"</button>"),f+='<li class="firebaseui-list-item">'+x+"</li>"}return f+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+pd(u)+"</div></div>",de(f)}RF.a="firebaseui.auth.soy2.page.providerSignIn";function NF(s,c,u){s=s||{};var f=s.Gb,p=s.Va;c=s.ia,s=s||{},s=s.Aa,s='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+$i(s??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+de(s);var g;return f?g=de('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):g="",g=s+g+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(p?yr(null):"")+ir({label:pn("Verify")})+'</div></div><div class="firebaseui-card-footer">',c?(c='<p class="firebaseui-tos firebaseui-phone-tos">',c=u.F&&u.D?c+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':c+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",u=de(c+"</p>")):u=de('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+vi(u),de(g+u+"</div></form></div>")}NF.a="firebaseui.auth.soy2.page.phoneSignInStart";function kF(s,c,u){s=s||{},c=s.phoneNumber;var f="";return s='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(Oe(c)+"</a>"),Oe(c),c=f,f=de('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),u='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+"</p>"+f+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+yr(null)+ir({label:pn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+vi(u)+"</div></form>",s=de('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),de(c+(u+s+"</div>"))}kF.a="firebaseui.auth.soy2.page.phoneSignInFinish";function FF(){return de('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}FF.a="firebaseui.auth.soy2.page.signOut";function LF(s,c,u){var f='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';s=s.ec,c=s.length;for(var p=0;p<c;p++){var g=s[p],_="",x=Oe(g.displayName),V=g.tenantId?g.tenantId:"top-level-project";V=pn(V),_+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+$i(V)+' firebaseui-id-tenant-selection-button"'+(g.tenantId?'data-tenant-id="'+$i(g.tenantId)+'"':"")+'style="background-color:'+$i(BR(g.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+$i(Zc(g.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',g.V?_+=Oe(g.V):(g="Sign in to "+Oe(g.displayName),_+=g),_=de(_+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+x+"</span></button>")),f+='<li class="firebaseui-list-item">'+_+"</li>"}return f+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+pd(u)+"</div></div>",de(f)}LF.a="firebaseui.auth.soy2.page.selectTenant";function VF(s,c,u){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+fd(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ir(null)+'</div></div><div class="firebaseui-card-footer">'+pd(u)+"</div></form></div>",de(s)}VF.a="firebaseui.auth.soy2.page.providerMatchByEmail";function Kn(){return pt(this,"firebaseui-id-submit")}function Un(){return pt(this,"firebaseui-id-secondary-link")}function oi(s,c){un(this,Kn.call(this),function(f){s(f)});var u=Un.call(this);u&&c&&un(this,u,function(f){c(f)})}function Yy(){return pt(this,"firebaseui-id-password")}function Qy(){return pt(this,"firebaseui-id-password-error")}function jF(){var s=Yy.call(this),c=Qy.call(this);dd(this,s,function(){hd(c)&&(gn(s,!0),vr(c))})}function UF(){var s=Yy.call(this),c=Qy.call(this);return ii(s)?(gn(s,!0),vr(c),c=!0):(gn(s,!1),ri(c,Et("Enter your password").toString()),c=!1),c?ii(s):null}function gd(s,c,u,f,p,g){G.call(this,fF,{email:s},g,"passwordLinking",{F:f,D:p}),this.w=c,this.H=u}l(gd,G),gd.prototype.v=function(){this.P(),this.M(this.w,this.H),md(this,this.i(),this.w),this.i().focus(),G.prototype.v.call(this)},gd.prototype.o=function(){this.w=null,G.prototype.o.call(this)},gd.prototype.j=function(){return ii(pt(this,"firebaseui-id-email"))},Te(gd.prototype,{i:Yy,B:Qy,P:jF,u:UF,ea:Kn,ba:Un,M:oi});var Dz=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Us(){return pt(this,"firebaseui-id-email")}function Va(){return pt(this,"firebaseui-id-email-error")}function vd(s){var c=Us.call(this),u=Va.call(this);dd(this,c,function(){hd(u)&&(gn(c,!0),vr(u))}),s&&rp(this,c,function(){s()})}function yd(){return ti(ii(Us.call(this))||"")}function _d(){var s=Us.call(this),c=Va.call(this),u=ii(s)||"";return u?Dz.test(u)?(gn(s,!0),vr(c),c=!0):(gn(s,!1),ri(c,Et("That email address isn't correct").toString()),c=!1):(gn(s,!1),ri(c,Et("Enter your email address to continue").toString()),c=!1),c?ti(ii(s)):null}function sp(s,c,u,f,p,g,_){G.call(this,tF,{email:u,ia:!!g},_,"passwordSignIn",{F:f,D:p}),this.w=s,this.H=c}l(sp,G),sp.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),op(this,this.l(),this.i()),md(this,this.i(),this.w),ii(this.l())?this.i().focus():this.l().focus(),G.prototype.v.call(this)},sp.prototype.o=function(){this.H=this.w=null,G.prototype.o.call(this)},Te(sp.prototype,{l:Us,U:Va,P:vd,M:yd,j:_d,i:Yy,B:Qy,ea:jF,u:UF,ua:Kn,pa:Un,ba:oi});function kt(s,c,u,f,p,g){G.call(this,s,c,f,p||"notice",g),this.i=u||null}H(kt,G),kt.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),kt.K.v.call(this)},kt.prototype.o=function(){this.i=null,kt.K.o.call(this)},Te(kt.prototype,{l:Kn,w:Un,u:oi});function Xy(s,c,u,f,p){kt.call(this,rF,{email:s,G:!!c},c,p,"passwordRecoveryEmailSent",{F:u,D:f})}H(Xy,kt);function BF(s,c){kt.call(this,IF,{G:!!s},s,c,"emailVerificationSuccess")}H(BF,kt);function $F(s,c){kt.call(this,SF,{G:!!s},s,c,"emailVerificationFailure")}H($F,kt);function HF(s,c,u){kt.call(this,TF,{email:s,G:!!c},c,u,"verifyAndChangeEmailSuccess")}H(HF,kt);function GF(s,c){kt.call(this,DF,{G:!!s},s,c,"verifyAndChangeEmailFailure")}H(GF,kt);function zF(s,c){kt.call(this,xF,{G:!!s},s,c,"revertSecondFactorAdditionFailure")}H(zF,kt);function qF(s){kt.call(this,FF,void 0,void 0,s,"signOut")}H(qF,kt);function WF(s,c){kt.call(this,wF,{G:!!s},s,c,"passwordResetSuccess")}H(WF,kt);function KF(s,c){kt.call(this,bF,{G:!!s},s,c,"passwordResetFailure")}H(KF,kt);function YF(s,c){kt.call(this,EF,{G:!!s},s,c,"emailChangeRevokeFailure")}H(YF,kt);function QF(s,c,u){kt.call(this,MF,{errorMessage:s,zb:!!c},c,u,"recoverableError")}H(QF,kt);function XF(s,c){kt.call(this,PF,{errorMessage:s},void 0,c,"unrecoverableError")}H(XF,kt);function ap(s){if(s.code==="auth/invalid-credential"&&s.message&&s.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(s.message&&s.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var c=JSON.parse(s.message.substring(s.message.indexOf("{"),s.message.lastIndexOf("}")+1));return{code:s.code,message:c&&c.error&&c.error.message||s.message}}return s}function Bs(s,c,u,f){function p(_){if(!_.name||_.name!="cancel"){e:{var x=_.message;try{var V=((JSON.parse(x).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(V&&V.length){var Y=!0;break e}}catch{}Y=!1}if(Y)_=sn(c),c.m(),Bt(s,_,void 0,Et("Your sign-in session has expired. Please try again.").toString());else{if(Y=_&&_.message||"",_.code){if(_.code=="auth/email-already-in-use"||_.code=="auth/credential-already-in-use")return;Y=Vt(_)}c.a(Y)}}}if(_2(s),f)return JF(s,u),mn();if(!u.credential)throw Error("No credential found!");if(!st(s).currentUser&&!u.user)throw Error("User not logged in.");try{var g=oq(s,u)}catch(_){return mr(_.code||_.message,_),c.a(_.code||_.message),mn()}return u=g.then(function(_){JF(s,_)},p).then(void 0,p),Ge(s,g),mn(u)}function JF(s,c){if(!c.user)throw Error("No user found");var u=wk(q(s));if(EI(q(s))&&u&&Fa("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),u){u=wk(q(s));var f=ZN(Me(s))||void 0;nr(Wf,Me(s));var p=!1;_N()?((!u||u(c,f))&&(p=!0,Gu(window.opener.location,Jy(s,f))),u||window.close()):(!u||u(c,f))&&(p=!0,Gu(window.location,Jy(s,f))),p||s.reset()}else{u=c.user,c=c.credential,f=EI(q(s)),p=ZN(Me(s))||void 0,nr(Wf,Me(s));var g=!1;_N()?((!f||f(u,c,p))&&(g=!0,Gu(window.opener.location,Jy(s,p))),f||window.close()):(!f||f(u,c,p))&&(g=!0,Gu(window.location,Jy(s,p))),g||s.reset()}}function Jy(s,c){if(s=c||q(s).a.get("signInSuccessUrl"),!s)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return s}function Vt(s){var c={code:s.code};c=c||{};var u="";switch(c.code){case"auth/email-already-in-use":u+="The email address is already used by another account";break;case"auth/requires-recent-login":u+=qR();break;case"auth/too-many-requests":u+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":u+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":u+="That email address doesn't match an existing account";break;case"auth/user-token-expired":u+=qR();break;case"auth/weak-password":u+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":u+="The email and password you entered don't match";break;case"auth/network-request-failed":u+="A network error has occurred";break;case"auth/invalid-phone-number":u+=FE();break;case"auth/invalid-verification-code":u+=Et("Wrong code. Try again.");break;case"auth/code-expired":u+="This code is no longer valid";break;case"auth/expired-action-code":u+="This code has expired.";break;case"auth/invalid-action-code":u+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(c=Et(u).toString())return c;try{return JSON.parse(s.message),mr("Internal error: "+s.message,void 0),HR().toString()}catch{return s.message}}function Az(s,c,u){var f=nd[c]&&_e.auth[nd[c]]?new _e.auth[nd[c]]:c.indexOf("saml.")==0?new _e.auth.SAMLAuthProvider(c):new _e.auth.OAuthProvider(c);if(!f)throw Error("Invalid Firebase Auth provider!");var p=mk(q(s),c);if(f.addScope)for(var g=0;g<p.length;g++)f.addScope(p[g]);return p=gk(q(s),c)||{},u&&(c==_e.auth.GoogleAuthProvider.PROVIDER_ID?s="login_hint":c==_e.auth.GithubAuthProvider.PROVIDER_ID?s="login":s=(s=Qf(q(s),c))&&s.Ob,s&&(p[s]=u)),f.setCustomParameters&&f.setCustomParameters(p),f}function cp(s,c,u,f){function p(){nz(new LN(s.h.tenantId||null),Me(s)),Ge(s,c.I(Ie(s.dc,s),[V],function(){if((window.location&&window.location.protocol)==="file:")return Ge(s,p2(s).then(function(Y){c.m(),nr(ol,Me(s)),pe("callback",s,x,mn(Y))},g))},_))}function g(Y){if(nr(ol,Me(s)),!Y.name||Y.name!="cancel")switch(Y=ap(Y),Y.code){case"auth/popup-blocked":p();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":c.a(Vt(Y));break;case"auth/admin-restricted-operation":c.m(),al(q(s))?pe("handleUnauthorizedUser",s,x,null,u):pe("callback",s,x,zu(Y));break;default:c.m(),pe("callback",s,x,zu(Y))}}function _(Y){nr(ol,Me(s)),Y.name&&Y.name=="cancel"||(mr("signInWithRedirect: "+Y.code,void 0),Y=Vt(Y),c.Ga=="blank"&&CI(q(s))?(c.m(),pe("providerSignIn",s,x,Y)):c.a(Y))}var x=sn(c),V=Az(s,u,f);_k(q(s))==$y?p():Ge(s,rq(s,V).then(function(Y){c.m(),pe("callback",s,x,mn(Y))},g))}function xz(s,c){Ge(s,c.I(Ie(s.$b,s),[],function(u){return c.m(),Bs(s,c,u,!0)},function(u){u.name&&u.name=="cancel"||(mr("ContinueAsGuest: "+u.code,void 0),u=Vt(u),c.a(u))}))}function Mz(s,c,u){function f(g){var _=!1;return g=c.I(Ie(s.ac,s),[g],function(x){var V=sn(c);c.m(),pe("callback",s,V,mn(x)),_=!0},function(x){if((!x.name||x.name!="cancel")&&(!x||x.code!="auth/credential-already-in-use"))if(x&&x.code=="auth/email-already-in-use"&&x.email&&x.credential){var V=sn(c);c.m(),pe("callback",s,V,zu(x))}else x&&x.code=="auth/admin-restricted-operation"&&al(q(s))?(x=sn(c),c.m(),pe("handleUnauthorizedUser",s,x,null,_e.auth.GoogleAuthProvider.PROVIDER_ID)):(x=Vt(x),c.a(x))}),Ge(s,g),g.then(function(){return _},function(){return!1})}if(u&&u.credential&&u.clientId===fk(q(s))){if(mk(q(s),_e.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var p=JSON.parse(atob(u.credential.split(".")[1])).email}catch{}return cp(s,c,_e.auth.GoogleAuthProvider.PROVIDER_ID,p),mn(!0)}return f(_e.auth.GoogleAuthProvider.credential(u.credential))}return u&&c.a(Et("The selected credential for the authentication provider is not supported!").toString()),mn(!1)}function Pz(s,c){var u=c.j(),f=c.u();if(u)if(f){var p=_e.auth.EmailAuthProvider.credential(u,f);Ge(s,c.I(Ie(s.bc,s),[u,f],function(g){return Bs(s,c,{user:g.user,credential:p,operationType:g.operationType,additionalUserInfo:g.additionalUserInfo})},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/email-already-in-use":break;case"auth/email-exists":gn(c.l(),!1),ri(c.U(),Vt(g));break;case"auth/too-many-requests":case"auth/wrong-password":gn(c.i(),!1),ri(c.B(),Vt(g));break;default:mr("verifyPassword: "+g.message,void 0),c.a(Vt(g))}}))}else c.i().focus();else c.l().focus()}function Zy(s){return s=id(q(s)),s.length==1&&s[0]==_e.auth.EmailAuthProvider.PROVIDER_ID}function ZF(s){return s=id(q(s)),s.length==1&&s[0]==_e.auth.PhoneAuthProvider.PROVIDER_ID}function Bt(s,c,u,f){Zy(s)?f?pe("signIn",s,c,u,f):jI(s,c,u):s&&ZF(s)&&!f?pe("phoneSignInStart",s,c):s&&CI(q(s))&&!f?pe("federatedRedirect",s,c,u):pe("providerSignIn",s,c,f,u)}function e2(s,c,u,f){var p=sn(c);Ge(s,c.I(Ie(st(s).fetchSignInMethodsForEmail,st(s)),[u],function(g){c.m(),t2(s,p,g,u,f)},function(g){g=Vt(g),c.a(g)}))}function t2(s,c,u,f,p,g){u.length||rd(q(s))&&!rd(q(s))?ct(u,_e.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?pe("passwordSignIn",s,c,f,g):u.length==1&&u[0]===_e.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?rd(q(s))?pe("sendEmailLinkForSignIn",s,c,f,function(){pe("signIn",s,c)}):pe("unsupportedProvider",s,c,f):(u=uk(u,id(q(s))))?(ek(new lI(f),Me(s)),pe("federatedSignIn",s,c,f,u,p)):pe("unsupportedProvider",s,c,f):pk(q(s))?pe("handleUnauthorizedUser",s,c,f,_e.auth.EmailAuthProvider.PROVIDER_ID):rd(q(s))?pe("sendEmailLinkForSignIn",s,c,f,function(){pe("signIn",s,c)}):pe("passwordSignUp",s,c,f,void 0,void 0,g)}function VI(s,c,u,f,p,g){var _=sn(c);Ge(s,c.I(Ie(s.Ib,s),[u,g],function(){c.m(),pe("emailLinkSignInSent",s,_,u,f,g)},p))}function jI(s,c,u){u?pe("prefilledEmailSignIn",s,c,u):pe("signIn",s,c)}function lp(){return ro(js(),"oobCode")}function UI(){var s=ro(js(),"continueUrl");return s?function(){Gu(window.location,s)}:null}function up(s,c){G.call(this,hF,void 0,c,"anonymousUserMismatch"),this.i=s}l(up,G),up.prototype.v=function(){var s=this;un(this,this.l(),function(){s.i()}),this.l().focus(),G.prototype.v.call(this)},up.prototype.o=function(){this.i=null,G.prototype.o.call(this)},Te(up.prototype,{l:Un}),Pt.anonymousUserMismatch=function(s,c){var u=new up(function(){u.m(),Bt(s,c)});u.render(c),Je(s,u)};function e_(s){G.call(this,oF,void 0,s,"callback")}l(e_,G),e_.prototype.I=function(s,c,u,f){return s.apply(null,c).then(u,f)};function n2(s,c,u){if(u.user){var f={user:u.user,credential:u.credential,operationType:u.operationType,additionalUserInfo:u.additionalUserInfo},p=Ho(Me(s)),g=p&&p.g;if(g&&!Rz(u.user,g))Oz(s,c,f);else{var _=p&&p.a;_?Ge(s,u.user.linkWithCredential(_).then(function(x){f={user:x.user,credential:_,operationType:x.operationType,additionalUserInfo:x.additionalUserInfo},i2(s,c,f)},function(x){t_(s,c,x)})):i2(s,c,f)}}else u=sn(c),c.m(),Go(Me(s)),Bt(s,u)}function i2(s,c,u){Go(Me(s)),Bs(s,c,u)}function t_(s,c,u){var f=sn(c);Go(Me(s)),u=Vt(u),c.m(),Bt(s,f,void 0,u)}function r2(s,c,u,f){var p=sn(c);Ge(s,st(s).fetchSignInMethodsForEmail(u).then(function(g){c.m(),g.length?ct(g,_e.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?pe("passwordLinking",s,p,u):g.length==1&&g[0]===_e.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?pe("emailLinkSignInLinking",s,p,u):(g=uk(g,id(q(s))))?pe("federatedLinking",s,p,u,g,f):(Go(Me(s)),pe("unsupportedProvider",s,p,u)):(Go(Me(s)),pe("passwordRecovery",s,p,u,!1,GR().toString()))},function(g){t_(s,c,g)}))}function Oz(s,c,u){var f=sn(c);Ge(s,ja(s).then(function(){c.m(),pe("emailMismatch",s,f,u)},function(p){p.name&&p.name=="cancel"||(p=Vt(p.code),c.a(p))}))}function Rz(s,c){if(c==s.email)return!0;if(s.providerData){for(var u=0;u<s.providerData.length;u++)if(c==s.providerData[u].email)return!0}return!1}Pt.callback=function(s,c,u){var f=new e_;f.render(c),Je(s,f),u=u||p2(s),Ge(s,u.then(function(p){n2(s,f,p)},function(p){if((p=ap(p))&&(p.code=="auth/account-exists-with-different-credential"||p.code=="auth/email-already-in-use")&&p.email&&p.credential)ek(new lI(p.email,p.credential),Me(s)),r2(s,f,p.email);else if(p&&p.code=="auth/user-cancelled"){var g=Ho(Me(s)),_=Vt(p);g&&g.a?r2(s,f,g.g,_):g?e2(s,f,g.g,_):t_(s,f,p)}else p&&p.code=="auth/credential-already-in-use"||(p&&p.code=="auth/operation-not-supported-in-this-environment"&&Zy(s)?n2(s,f,{user:null,credential:null}):p&&p.code=="auth/admin-restricted-operation"&&al(q(s))?(f.m(),Go(Me(s)),pe("handleUnauthorizedUser",s,c,null,null)):t_(s,f,p))}))};function dp(s,c){G.call(this,dF,void 0,c,"differentDeviceError"),this.i=s}l(dp,G),dp.prototype.v=function(){var s=this;un(this,this.l(),function(){s.i()}),this.l().focus(),G.prototype.v.call(this)},dp.prototype.o=function(){this.i=null,G.prototype.o.call(this)},Te(dp.prototype,{l:Un}),Pt.differentDeviceError=function(s,c){var u=new dp(function(){u.m(),Bt(s,c)});u.render(c),Je(s,u)};function hp(s,c,u,f){G.call(this,CF,{email:s,G:!!u},f,"emailChangeRevoke"),this.l=c,this.i=u||null}l(hp,G),hp.prototype.v=function(){var s=this;un(this,pt(this,"firebaseui-id-reset-password-link"),function(){s.l()}),this.i&&(this.w(this.i),this.u().focus()),G.prototype.v.call(this)},hp.prototype.o=function(){this.l=this.i=null,G.prototype.o.call(this)},Te(hp.prototype,{u:Kn,B:Un,w:oi});function fp(){return pt(this,"firebaseui-id-new-password")}function n_(){return pt(this,"firebaseui-id-password-toggle")}function Nz(){this.Ra=!this.Ra;var s=n_.call(this),c=fp.call(this);this.Ra?(c.type="text",zo(s,"firebaseui-input-toggle-off"),qo(s,"firebaseui-input-toggle-on")):(c.type="password",zo(s,"firebaseui-input-toggle-on"),qo(s,"firebaseui-input-toggle-off")),c.focus()}function i_(){return pt(this,"firebaseui-id-new-password-error")}function o2(){this.Ra=!1;var s=fp.call(this);s.type="password";var c=i_.call(this);dd(this,s,function(){hd(c)&&(gn(s,!0),vr(c))});var u=n_.call(this);zo(u,"firebaseui-input-toggle-on"),qo(u,"firebaseui-input-toggle-off"),Cz(this,s,function(){zo(u,"firebaseui-input-toggle-focus"),qo(u,"firebaseui-input-toggle-blur")}),Ez(this,s,function(){zo(u,"firebaseui-input-toggle-blur"),qo(u,"firebaseui-input-toggle-focus")}),un(this,u,Ie(Nz,this))}function s2(){var s=fp.call(this),c=i_.call(this);return ii(s)?(gn(s,!0),vr(c),c=!0):(gn(s,!1),ri(c,Et("Enter your password").toString()),c=!1),c?ii(s):null}function pp(s,c,u){G.call(this,_F,{email:s},u,"passwordReset"),this.l=c}l(pp,G),pp.prototype.v=function(){this.H(),this.B(this.l),md(this,this.i(),this.l),this.i().focus(),G.prototype.v.call(this)},pp.prototype.o=function(){this.l=null,G.prototype.o.call(this)},Te(pp.prototype,{i:fp,w:i_,M:n_,H:o2,u:s2,U:Kn,P:Un,B:oi});function mp(s,c,u,f,p){G.call(this,AF,{factorId:s,phoneNumber:u||null,G:!!f},p,"revertSecondFactorAdditionSuccess"),this.l=c,this.i=f||null}l(mp,G),mp.prototype.v=function(){var s=this;un(this,pt(this,"firebaseui-id-reset-password-link"),function(){s.l()}),this.i&&(this.w(this.i),this.u().focus()),G.prototype.v.call(this)},mp.prototype.o=function(){this.l=this.i=null,G.prototype.o.call(this)},Te(mp.prototype,{u:Kn,B:Un,w:oi});function kz(s,c,u,f,p){var g=u.u();g&&Ge(s,u.I(Ie(st(s).confirmPasswordReset,st(s)),[f,g],function(){u.m();var _=new WF(p);_.render(c),Je(s,_)},function(_){a2(s,c,u,_)}))}function a2(s,c,u,f){(f&&f.code)=="auth/weak-password"?(s=Vt(f),gn(u.i(),!1),ri(u.w(),s),u.i().focus()):(u&&u.m(),u=new KF,u.render(c),Je(s,u))}function Fz(s,c,u){var f=new hp(u,function(){Ge(s,f.I(Ie(st(s).sendPasswordResetEmail,st(s)),[u],function(){f.m(),f=new Xy(u,void 0,xn(q(s)),Mn(q(s))),f.render(c),Je(s,f)},function(){f.a($R().toString())}))});f.render(c),Je(s,f)}function Lz(s,c,u,f){var p=new mp(f.factorId,function(){p.I(Ie(st(s).sendPasswordResetEmail,st(s)),[u],function(){p.m(),p=new Xy(u,void 0,xn(q(s)),Mn(q(s))),p.render(c),Je(s,p)},function(){p.a($R().toString())})},f.phoneNumber);p.render(c),Je(s,p)}Pt.passwordReset=function(s,c,u,f){Ge(s,st(s).verifyPasswordResetCode(u).then(function(p){var g=new pp(p,function(){kz(s,c,g,u,f)});g.render(c),Je(s,g)},function(){a2(s,c)}))},Pt.emailChangeRevocation=function(s,c,u){var f=null;Ge(s,st(s).checkActionCode(u).then(function(p){return f=p.data.email,st(s).applyActionCode(u)}).then(function(){Fz(s,c,f)},function(){var p=new YF;p.render(c),Je(s,p)}))},Pt.emailVerification=function(s,c,u,f){Ge(s,st(s).applyActionCode(u).then(function(){var p=new BF(f);p.render(c),Je(s,p)},function(){var p=new $F;p.render(c),Je(s,p)}))},Pt.revertSecondFactorAddition=function(s,c,u){var f=null,p=null;Ge(s,st(s).checkActionCode(u).then(function(g){return f=g.data.email,p=g.data.multiFactorInfo,st(s).applyActionCode(u)}).then(function(){Lz(s,c,f,p)},function(){var g=new zF;g.render(c),Je(s,g)}))},Pt.verifyAndChangeEmail=function(s,c,u,f){var p=null;Ge(s,st(s).checkActionCode(u).then(function(g){return p=g.data.email,st(s).applyActionCode(u)}).then(function(){var g=new HF(p,f);g.render(c),Je(s,g)},function(){var g=new GF;g.render(c),Je(s,g)}))};function r_(s,c){try{var u=typeof s.selectionStart=="number"}catch{u=!1}u?(s.selectionStart=c,s.selectionEnd=c):fn&&!Qc("9")&&(s.type=="textarea"&&(c=s.value.substring(0,c).replace(/(\r\n|\r|\n)/g,`
`).length),s=s.createTextRange(),s.collapse(!0),s.move("character",c),s.select())}function gp(s,c,u,f,p,g){G.call(this,uF,{email:u},g,"emailLinkSignInConfirmation",{F:f,D:p}),this.l=s,this.u=c}l(gp,G),gp.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),r_(this.i(),(this.i().value||"").length),G.prototype.v.call(this)},gp.prototype.o=function(){this.u=this.l=null,G.prototype.o.call(this)},Te(gp.prototype,{i:Us,M:Va,w:vd,H:yd,j:_d,U:Kn,P:Un,B:oi}),Pt.emailLinkConfirmation=function(s,c,u,f,p,g){var _=new gp(function(){var x=_.j();x?(_.m(),f(s,c,x,u)):_.i().focus()},function(){_.m(),Bt(s,c,p||void 0)},p||void 0,xn(q(s)),Mn(q(s)));_.render(c),Je(s,_),g&&_.a(g)};function vp(s,c,u,f,p){G.call(this,mF,{ga:s},p,"emailLinkSignInLinkingDifferentDevice",{F:u,D:f}),this.i=c}l(vp,G),vp.prototype.v=function(){this.u(this.i),this.l().focus(),G.prototype.v.call(this)},vp.prototype.o=function(){this.i=null,G.prototype.o.call(this)},Te(vp.prototype,{l:Kn,u:oi}),Pt.emailLinkNewDeviceLinking=function(s,c,u,f){var p=new Yc(u);if(u=p.a.a.get(Ln.PROVIDER_ID)||null,_R(p,null),u){var g=new vp(Qf(q(s),u),function(){g.m(),f(s,c,p.toString())},xn(q(s)),Mn(q(s)));g.render(c),Je(s,g)}else Bt(s,c)};function o_(s){G.call(this,aF,void 0,s,"blank")}l(o_,G);function BI(s,c,u,f,p){var g=new o_,_=new Yc(u),x=_.a.a.get(Ln.$a)||"",V=_.a.a.get(Ln.Sa)||"",Y=_.a.a.get(Ln.Qa)==="1",ve=yR(_),Ft=_.a.a.get(Ln.PROVIDER_ID)||null;_=_.a.a.get(Ln.vb)||null,w2(s,_);var uo=!ed(Zu,Me(s)),S2=f||iz(V,Me(s)),Mp=(f=rz(V,Me(s)))&&f.a;Ft&&Mp&&Mp.providerId!==Ft&&(Mp=null),g.render(c),Je(s,g),Ge(s,g.I(function(){var kr=mn(null);kr=ve&&uo||uo&&Y?zu(Error("anonymous-user-not-found")):tq(s,u).then(function(JI){if(Ft&&!Mp)throw Error("pending-credential-not-found");return JI});var Pp=null;return kr.then(function(JI){return Pp=JI,p?null:st(s).checkActionCode(x)}).then(function(){return Pp})},[],function(kr){S2?jz(s,g,S2,u,Mp,kr):Y?(g.m(),pe("differentDeviceError",s,c)):(g.m(),pe("emailLinkConfirmation",s,c,u,c2))},function(kr){var Pp=void 0;if(!kr||!kr.name||kr.name!="cancel")switch(g.m(),kr&&kr.message){case"anonymous-user-not-found":pe("differentDeviceError",s,c);break;case"anonymous-user-mismatch":pe("anonymousUserMismatch",s,c);break;case"pending-credential-not-found":pe("emailLinkNewDeviceLinking",s,c,u,Vz);break;default:kr&&(Pp=Vt(kr)),Bt(s,c,void 0,Pp)}}))}function c2(s,c,u,f){BI(s,c,f,u,!0)}function Vz(s,c,u){BI(s,c,u)}function jz(s,c,u,f,p,g){var _=sn(c);c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Et("Signing in...").toString());var x=null;p=(g?nq(s,g,u,f,p):iq(s,u,f,p)).then(function(V){nr(Kf,Me(s)),nr(Zu,Me(s)),c.h(),c.$("firebaseui-icon-done",Et("Signed in!").toString()),x=setTimeout(function(){c.h(),Bs(s,c,V,!0)},1e3),Ge(s,function(){c&&(c.h(),c.m()),clearTimeout(x)})},function(V){if(c.h(),c.m(),!V.name||V.name!="cancel"){V=ap(V);var Y=Vt(V);V.code=="auth/email-already-in-use"||V.code=="auth/credential-already-in-use"?(nr(Kf,Me(s)),nr(Zu,Me(s))):V.code=="auth/invalid-email"?(Y=Et("The email provided does not match the current sign-in session.").toString(),pe("emailLinkConfirmation",s,_,f,c2,null,Y)):Bt(s,_,u,Y)}}),Ge(s,p)}Pt.emailLinkSignInCallback=BI;function yp(s,c,u,f,p,g){G.call(this,pF,{email:s,ga:c},g,"emailLinkSignInLinking",{F:f,D:p}),this.i=u}l(yp,G),yp.prototype.v=function(){this.u(this.i),this.l().focus(),G.prototype.v.call(this)},yp.prototype.o=function(){this.i=null,G.prototype.o.call(this)},Te(yp.prototype,{l:Kn,u:oi});function Uz(s,c,u,f){var p=sn(c);VI(s,c,u,function(){Bt(s,p,u)},function(g){if(!g.name||g.name!="cancel"){var _=Vt(g);g&&g.code=="auth/network-request-failed"?c.a(_):(c.m(),Bt(s,p,u,_))}},f)}Pt.emailLinkSignInLinking=function(s,c,u){var f=Ho(Me(s));if(Go(Me(s)),f){var p=f.a.providerId,g=new yp(u,Qf(q(s),p),function(){Uz(s,g,u,f)},xn(q(s)),Mn(q(s)));g.render(c),Je(s,g)}else Bt(s,c)};function _p(s,c,u,f,p,g){G.call(this,cF,{email:s},g,"emailLinkSignInSent",{F:f,D:p}),this.u=c,this.i=u}l(_p,G),_p.prototype.v=function(){var s=this;un(this,this.l(),function(){s.i()}),un(this,pt(this,"firebaseui-id-trouble-getting-email-link"),function(){s.u()}),this.l().focus(),G.prototype.v.call(this)},_p.prototype.o=function(){this.i=this.u=null,G.prototype.o.call(this)},Te(_p.prototype,{l:Un}),Pt.emailLinkSignInSent=function(s,c,u,f,p){var g=new _p(u,function(){g.m(),pe("emailNotReceived",s,c,u,f,p)},function(){g.m(),f()},xn(q(s)),Mn(q(s)));g.render(c),Je(s,g)};function wp(s,c,u,f,p,g,_){G.call(this,OF,{jc:s,Qb:c},_,"emailMismatch",{F:p,D:g}),this.l=u,this.i=f}l(wp,G),wp.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),G.prototype.v.call(this)},wp.prototype.o=function(){this.i=null,G.prototype.o.call(this)},Te(wp.prototype,{u:Kn,B:Un,w:oi}),Pt.emailMismatch=function(s,c,u){var f=Ho(Me(s));if(f){var p=new wp(u.user.email,f.g,function(){var g=p;Go(Me(s)),Bs(s,g,u)},function(){var g=u.credential.providerId,_=sn(p);p.m(),f.a?pe("federatedLinking",s,_,f.g,g):pe("federatedSignIn",s,_,f.g,g)},xn(q(s)),Mn(q(s)));p.render(c),Je(s,p)}else Bt(s,c)};function wd(s,c,u,f,p){G.call(this,lF,void 0,p,"emailNotReceived",{F:u,D:f}),this.l=s,this.i=c}l(wd,G),wd.prototype.v=function(){var s=this;un(this,this.u(),function(){s.i()}),un(this,this.Da(),function(){s.l()}),this.u().focus(),G.prototype.v.call(this)},wd.prototype.Da=function(){return pt(this,"firebaseui-id-resend-email-link")},wd.prototype.o=function(){this.i=this.l=null,G.prototype.o.call(this)},Te(wd.prototype,{u:Un}),Pt.emailNotReceived=function(s,c,u,f,p){var g=new wd(function(){VI(s,g,u,f,function(_){_=Vt(_),g.a(_)},p)},function(){g.m(),Bt(s,c,u)},xn(q(s)),Mn(q(s)));g.render(c),Je(s,g)};function bd(s,c,u,f,p,g){G.call(this,gF,{email:s,ga:c},g,"federatedLinking",{F:f,D:p}),this.i=u}l(bd,G),bd.prototype.v=function(){this.u(this.i),this.l().focus(),G.prototype.v.call(this)},bd.prototype.o=function(){this.i=null,G.prototype.o.call(this)},Te(bd.prototype,{l:Kn,u:oi}),Pt.federatedLinking=function(s,c,u,f,p){var g=Ho(Me(s));if(g&&g.a){var _=new bd(u,Qf(q(s),f),function(){cp(s,_,f,u)},xn(q(s)),Mn(q(s)));_.render(c),Je(s,_),p&&_.a(p)}else Bt(s,c)},Pt.federatedRedirect=function(s,c,u){var f=new o_;f.render(c),Je(s,f),c=id(q(s))[0],cp(s,f,c,u)},Pt.federatedSignIn=function(s,c,u,f,p){var g=new bd(u,Qf(q(s),f),function(){cp(s,g,f,u)},xn(q(s)),Mn(q(s)));g.render(c),Je(s,g),p&&g.a(p)};function Bz(s,c,u,f){var p=c.u();p?Ge(s,c.I(Ie(s.Xb,s),[u,p],function(g){return g=g.user.linkWithCredential(f).then(function(_){return Bs(s,c,{user:_.user,credential:f,operationType:_.operationType,additionalUserInfo:_.additionalUserInfo})}),Ge(s,g),g},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/wrong-password":gn(c.i(),!1),ri(c.B(),Vt(g));break;case"auth/too-many-requests":c.a(Vt(g));break;default:mr("signInWithEmailAndPassword: "+g.message,void 0),c.a(Vt(g))}})):c.i().focus()}Pt.passwordLinking=function(s,c,u){var f=Ho(Me(s));Go(Me(s));var p=f&&f.a;if(p){var g=new gd(u,function(){Bz(s,g,u,p)},function(){g.m(),pe("passwordRecovery",s,c,u)},xn(q(s)),Mn(q(s)));g.render(c),Je(s,g)}else Bt(s,c)};function bp(s,c,u,f,p,g){G.call(this,iF,{email:u,Ta:!!c},g,"passwordRecovery",{F:f,D:p}),this.l=s,this.u=c}l(bp,G),bp.prototype.v=function(){this.B(),this.H(this.l,this.u),ii(this.i())||this.i().focus(),md(this,this.i(),this.l),G.prototype.v.call(this)},bp.prototype.o=function(){this.u=this.l=null,G.prototype.o.call(this)},Te(bp.prototype,{i:Us,w:Va,B:vd,M:yd,j:_d,U:Kn,P:Un,H:oi});function $z(s,c){var u=c.j();if(u){var f=sn(c);Ge(s,c.I(Ie(st(s).sendPasswordResetEmail,st(s)),[u],function(){c.m();var p=new Xy(u,function(){p.m(),Bt(s,f)},xn(q(s)),Mn(q(s)));p.render(f),Je(s,p)},function(p){gn(c.i(),!1),ri(c.w(),Vt(p))}))}else c.i().focus()}Pt.passwordRecovery=function(s,c,u,f,p){var g=new bp(function(){$z(s,g)},f?void 0:function(){g.m(),Bt(s,c)},u,xn(q(s)),Mn(q(s)));g.render(c),Je(s,g),p&&g.a(p)},Pt.passwordSignIn=function(s,c,u,f){var p=new sp(function(){Pz(s,p)},function(){var g=p.M();p.m(),pe("passwordRecovery",s,c,g)},u,xn(q(s)),Mn(q(s)),f);p.render(c),Je(s,p)};function $I(){return pt(this,"firebaseui-id-name")}function HI(){return pt(this,"firebaseui-id-name-error")}function Cp(s,c,u,f,p,g,_,x,V){G.call(this,nF,{email:f,Tb:s,name:p,Ta:!!u,ia:!!x},V,"passwordSignUp",{F:g,D:_}),this.w=c,this.H=u,this.B=s}l(Cp,G),Cp.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(op(this,this.i(),this.u()),op(this,this.u(),this.l())):op(this,this.i(),this.l()),this.w&&md(this,this.l(),this.w),ii(this.i())?this.B&&!ii(this.u())?this.u().focus():this.l().focus():this.i().focus(),G.prototype.v.call(this)},Cp.prototype.o=function(){this.H=this.w=null,G.prototype.o.call(this)},Te(Cp.prototype,{i:Us,U:Va,ea:vd,jb:yd,j:_d,u:$I,Bc:HI,Ja:function(){var s=$I.call(this),c=HI.call(this);dd(this,s,function(){hd(c)&&(gn(s,!0),vr(c))})},M:function(){var s=$I.call(this),c=HI.call(this),u=ii(s);return u=!/^[\s\xa0]*$/.test(u==null?"":String(u)),gn(s,u),u?(vr(c),c=!0):(ri(c,Et("Enter your account name").toString()),c=!1),c?ti(ii(s)):null},l:fp,ba:i_,lb:n_,ua:o2,P:s2,Nb:Kn,Mb:Un,pa:oi});function Hz(s,c){var u=yk(q(s)),f=c.j(),p=null;u&&(p=c.M());var g=c.P();if(f){if(u)if(p)p=Nr(p);else{c.u().focus();return}if(g){var _=_e.auth.EmailAuthProvider.credential(f,g);Ge(s,c.I(Ie(s.Yb,s),[f,g],function(x){var V={user:x.user,credential:_,operationType:x.operationType,additionalUserInfo:x.additionalUserInfo};return u?(x=x.user.updateProfile({displayName:p}).then(function(){return Bs(s,c,V)}),Ge(s,x),x):Bs(s,c,V)},function(x){if(!x.name||x.name!="cancel"){var V=ap(x);switch(x=Vt(V),V.code){case"auth/email-already-in-use":return Gz(s,c,f,V);case"auth/too-many-requests":x=Et("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":gn(c.l(),!1),ri(c.ba(),x);break;case"auth/admin-restricted-operation":al(q(s))?(x=sn(c),c.m(),pe("handleUnauthorizedUser",s,x,f,_e.auth.EmailAuthProvider.PROVIDER_ID)):c.a(x);break;default:V="setAccountInfo: "+KN(V),mr(V,void 0),c.a(x)}}}))}else c.l().focus()}else c.i().focus()}function Gz(s,c,u,f){function p(){var _=Vt(f);gn(c.i(),!1),ri(c.U(),_),c.i().focus()}var g=st(s).fetchSignInMethodsForEmail(u).then(function(_){_.length?p():(_=sn(c),c.m(),pe("passwordRecovery",s,_,u,!1,GR().toString()))},function(){p()});return Ge(s,g),g}Pt.passwordSignUp=function(s,c,u,f,p,g){function _(){x.m(),Bt(s,c)}var x=new Cp(yk(q(s)),function(){Hz(s,x)},p?void 0:_,u,f,xn(q(s)),Mn(q(s)),g);x.render(c),Je(s,x)};function GI(){return pt(this,"firebaseui-id-phone-confirmation-code")}function l2(){return pt(this,"firebaseui-id-phone-confirmation-code-error")}function u2(){return pt(this,"firebaseui-id-resend-countdown")}function Cd(s,c,u,f,p,g,_,x,V){G.call(this,kF,{phoneNumber:p},V,"phoneSignInFinish",{F:_,D:x}),this.jb=g,this.i=new Hy(1e3),this.B=g,this.P=s,this.l=c,this.H=u,this.M=f}l(Cd,G),Cd.prototype.v=function(){var s=this;this.U(this.jb),so(this.i,"tick",this.w,!1,this),this.i.start(),un(this,pt(this,"firebaseui-id-change-phone-number-link"),function(){s.P()}),un(this,this.Da(),function(){s.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),G.prototype.v.call(this)},Cd.prototype.o=function(){this.M=this.H=this.l=this.P=null,Gy(this.i),tl(this.i,"tick",this.w),this.i=null,G.prototype.o.call(this)},Cd.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(Gy(this.i),tl(this.i,"tick",this.w),this.ua(),this.lb())},Te(Cd.prototype,{u:GI,pa:l2,Ja:function(s){var c=GI.call(this),u=l2.call(this);dd(this,c,function(){hd(u)&&(gn(c,!0),vr(u))}),s&&rp(this,c,function(){s()})},ba:function(){var s=ti(ii(GI.call(this))||"");return/^\d{6}$/.test(s)?s:null},Fb:u2,U:function(s){OE(u2.call(this),Et("Resend code in "+((9<s?"0:":"0:0")+s)).toString())},ua:function(){vr(this.Fb())},Da:function(){return pt(this,"firebaseui-id-resend-link")},lb:function(){ri(this.Da())},Nb:Kn,Mb:Un,ea:oi});function zz(s,c,u,f){function p(_){c.u().focus(),gn(c.u(),!1),ri(c.pa(),_)}var g=c.ba();g?(c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Et("Verifying...").toString()),Ge(s,c.I(Ie(f.confirm,f),[g],function(_){c.h(),c.$("firebaseui-icon-done",Et("Verified!").toString());var x=setTimeout(function(){c.h(),c.m();var V={user:co(s).currentUser,credential:null,operationType:_.operationType,additionalUserInfo:_.additionalUserInfo};Bs(s,c,V,!0)},1e3);Ge(s,function(){c&&c.h(),clearTimeout(x)})},function(_){if(_.name&&_.name=="cancel")c.h();else{var x=ap(_);switch(_=Vt(x),x.code){case"auth/credential-already-in-use":c.h();break;case"auth/code-expired":x=sn(c),c.h(),c.m(),pe("phoneSignInStart",s,x,u,_);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":c.h(),p(_);break;default:c.h(),c.a(_)}}}))):p(Et("Wrong code. Try again.").toString())}Pt.phoneSignInFinish=function(s,c,u,f,p,g){var _=new Cd(function(){_.m(),pe("phoneSignInStart",s,c,u)},function(){zz(s,_,u,p)},function(){_.m(),Bt(s,c)},function(){_.m(),pe("phoneSignInStart",s,c,u)},wI(u),f,xn(q(s)),Mn(q(s)));_.render(c),Je(s,_),g&&_.a(g)};var qz=!fn&&!(ot("Safari")&&!(CR()||ot("Coast")||ot("Opera")||ot("Edge")||ot("Firefox")||ot("FxiOS")||ot("Silk")||ot("Android")));function s_(s,c){return/-[a-z]/.test(c)?null:qz&&s.dataset?!ot("Android")||CR()||ot("Firefox")||ot("FxiOS")||ot("Opera")||ot("Silk")||c in s.dataset?(s=s.dataset[c],s===void 0?null:s):null:s.getAttribute("data-"+String(c).replace(/([A-Z])/g,"-$1").toLowerCase())}function Wz(s,c,u){var f=this;s=Nf(Kk,{items:s},null,this.s),Qk.call(this,s,!0,!0),u&&(u=Kz(s,u))&&(u.focus(),bz(u,s)),un(this,s,function(p){(p=(p=LR(p.target,"firebaseui-id-list-box-dialog-button"))&&s_(p,"listboxid"))&&(Ky.call(f),c(p))})}function Kz(s,c){s=(s||document).getElementsByTagName("BUTTON");for(var u=0;u<s.length;u++)if(s_(s[u],"listboxid")===c)return s[u];return null}function ll(){return pt(this,"firebaseui-id-phone-number")}function d2(){return pt(this,"firebaseui-id-country-selector")}function zI(){return pt(this,"firebaseui-id-phone-number-error")}function Yz(s,c){var u=s.a,f=qI("1-US-0",u),p=null;if(c&&qI(c,u)?p=c:f?p="1-US-0":p=0<u.length?u[0].c:null,!p)throw Error("No available default country");a_.call(this,p,s)}function qI(s,c){return s=sl(s),!(!s||!ct(c,s))}function Qz(s){return s.map(function(c){return{id:c.c,Ma:"firebaseui-flag "+WI(c),label:c.name+" "+("\u200E+"+c.b)}})}function WI(s){return"firebaseui-flag-"+s.f}function Xz(s){var c=this;Wz.call(this,Qz(s.a),function(u){a_.call(c,u,s,!0),c.O().focus()},this.Ba)}function a_(s,c,u){var f=sl(s);f&&(u&&(u=ti(ii(ll.call(this))||""),c=Vy(c,u),c.length&&c[0].b!=f.b&&(u="+"+f.b+u.substr(c[0].b.length+1),Ik(ll.call(this),u))),c=sl(this.Ba),this.Ba=s,s=pt(this,"firebaseui-id-country-selector-flag"),c&&qo(s,WI(c)),zo(s,WI(f)),OE(pt(this,"firebaseui-id-country-selector-code"),"\u200E+"+f.b))}function Ep(s,c,u,f,p,g,_,x,V,Y){G.call(this,NF,{Gb:c,Aa:V||null,Va:!!u,ia:!!g},Y,"phoneSignInStart",{F:f,D:p}),this.H=x||null,this.M=c,this.l=s,this.w=u||null,this.pa=_||null}l(Ep,G),Ep.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||op(this,this.O(),this.i()),md(this,this.i(),this.l),this.O().focus(),r_(this.O(),(this.O().value||"").length),G.prototype.v.call(this)},Ep.prototype.o=function(){this.w=this.l=null,G.prototype.o.call(this)},Te(Ep.prototype,{Cb:FI,O:ll,B:zI,ea:function(s,c,u){var f=this,p=ll.call(this),g=d2.call(this),_=zI.call(this),x=s||Yf,V=x.a;if(V.length==0)throw Error("No available countries provided.");Yz.call(f,x,c),un(this,g,function(){Xz.call(f,x)}),dd(this,p,function(){hd(_)&&(gn(p,!0),vr(_));var Y=ti(ii(p)||""),ve=sl(this.Ba),Ft=Vy(x,Y);Y=qI("1-US-0",V),Ft.length&&Ft[0].b!=ve.b&&(ve=Ft[0],a_.call(f,ve.b=="1"&&Y?"1-US-0":ve.c,x))}),u&&rp(this,p,function(){u()})},U:function(s){var c=ti(ii(ll.call(this))||"");s=s||Yf;var u=s.a,f=Vy(Yf,c);if(f.length&&!ct(u,f[0]))throw Ik(ll.call(this)),ll.call(this).focus(),ri(zI.call(this),Et("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return u=sl(this.Ba),f.length&&f[0].b!=u.b&&a_.call(this,f[0].c,s),f.length&&(c=c.substr(f[0].b.length+1)),c?new ck(this.Ba,c):null},Ja:d2,ba:function(){return pt(this,"firebaseui-recaptcha-container")},u:function(){return pt(this,"firebaseui-id-recaptcha-error")},i:Kn,ua:Un,P:oi});function h2(s,c,u,f){try{var p=c.U(AI)}catch{return}p?Jf?(c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Et("Verifying...").toString()),Ge(s,c.I(Ie(s.cc,s),[wI(p),u],function(g){var _=sn(c);c.$("firebaseui-icon-done",Et("Code sent!").toString());var x=setTimeout(function(){c.h(),c.m(),pe("phoneSignInFinish",s,_,p,15,g)},1e3);Ge(s,function(){c&&c.h(),clearTimeout(x)})},function(g){if(c.h(),!g.name||g.name!="cancel"){grecaptcha.reset(Ck),Jf=null;var _=g&&g.message||"";if(g.code)switch(g.code){case"auth/too-many-requests":_=Et("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":c.O().focus(),ri(c.B(),FE().toString());return;case"auth/admin-restricted-operation":if(al(q(s))){g=sn(c),c.m(),pe("handleUnauthorizedUser",s,g,wI(p),_e.auth.PhoneAuthProvider.PROVIDER_ID);return}_=Vt(g);break;default:_=Vt(g)}c.a(_)}}))):od?ri(c.u(),Et("Solve the reCAPTCHA").toString()):!od&&f&&c.i().click():(c.O().focus(),ri(c.B(),FE().toString()))}Pt.phoneSignInStart=function(s,c,u,f){var p=az(q(s))||{};Jf=null,od=!(p&&p.size==="invisible");var g=ZF(s),_=fz(q(s)),x=g?hz(q(s)):null;_=u&&u.a||_&&_.c||null,u=u&&u.Aa||x,(x=bI(q(s)))&&ak(x),AI=x?new rk(bI(q(s))):Yf;var V=new Ep(function(ve){h2(s,V,Y,!(!ve||!ve.keyCode))},od,g?null:function(){Y.clear(),V.m(),Bt(s,c)},xn(q(s)),Mn(q(s)),g,AI,_,u);V.render(c),Je(s,V),f&&V.a(f),p.callback=function(ve){V.u()&&vr(V.u()),Jf=ve,od||h2(s,V,Y)},p["expired-callback"]=function(){Jf=null};var Y=new _e.auth.RecaptchaVerifier(od?V.ba():V.i(),p,co(s).app);Ge(s,V.I(Ie(Y.render,Y),[],function(ve){Ck=ve},function(ve){ve.name&&ve.name=="cancel"||(ve=Vt(ve),V.m(),Bt(s,c,void 0,ve))}))},Pt.prefilledEmailSignIn=function(s,c,u){var f=new o_;f.render(c),Je(s,f),Ge(s,f.I(Ie(st(s).fetchSignInMethodsForEmail,st(s)),[u],function(p){f.m();var g=!(!Zy(s)||!m2(s));t2(s,c,p,u,void 0,g)},function(p){p=Vt(p),f.m(),pe("signIn",s,c,u,p)}))};function Ip(s,c,u,f,p){G.call(this,RF,{Sb:c},p,"providerSignIn",{F:u,D:f}),this.i=s}l(Ip,G),Ip.prototype.v=function(){this.l(this.i),G.prototype.v.call(this)},Ip.prototype.o=function(){this.i=null,G.prototype.o.call(this)},Te(Ip.prototype,{l:function(s){function c(_){s(_)}for(var u=this.g?ME("firebaseui-id-idp-button",this.g||this.s.a):[],f=0;f<u.length;f++){var p=u[f],g=s_(p,"providerId");un(this,p,$e(c,g))}}}),Pt.providerSignIn=function(s,c,u,f){var p=new Ip(function(g){g==_e.auth.EmailAuthProvider.PROVIDER_ID?(p.m(),jI(s,c,f)):g==_e.auth.PhoneAuthProvider.PROVIDER_ID?(p.m(),pe("phoneSignInStart",s,c)):g=="anonymous"?xz(s,p):cp(s,p,g,f),mt(s),s.l.cancel()},hk(q(s)),xn(q(s)),Mn(q(s)));p.render(c),Je(s,p),u&&p.a(u),eq(s)},Pt.sendEmailLinkForSignIn=function(s,c,u,f){var p=new e_;p.render(c),Je(s,p),VI(s,p,u,f,function(g){p.m(),g&&g.code=="auth/admin-restricted-operation"&&al(q(s))?pe("handleUnauthorizedUser",s,c,u,_e.auth.EmailAuthProvider.PROVIDER_ID):(g=Vt(g),pe("signIn",s,c,u,g))})};function Sp(s,c,u,f,p,g,_){G.call(this,eF,{email:u,Va:!!c,ia:!!g},_,"signIn",{F:f,D:p}),this.i=s,this.u=c}l(Sp,G),Sp.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),r_(this.l(),(this.l().value||"").length),G.prototype.v.call(this)},Sp.prototype.o=function(){this.u=this.i=null,G.prototype.o.call(this)},Te(Sp.prototype,{l:Us,M:Va,w:vd,H:yd,j:_d,U:Kn,P:Un,B:oi}),Pt.signIn=function(s,c,u,f){var p=Zy(s),g=new Sp(function(){var _=g,x=_.j()||"";x&&e2(s,_,x)},p?null:function(){g.m(),Bt(s,c,u)},u,xn(q(s)),Mn(q(s)),p);g.render(c),Je(s,g),f&&g.a(f)};function Tp(s,c,u,f,p,g,_){G.call(this,vF,{kc:s,yb:u,Eb:!!f},_,"unauthorizedUser",{F:p,D:g}),this.l=c,this.i=f}l(Tp,G),Tp.prototype.v=function(){var s=this,c=pt(this,"firebaseui-id-unauthorized-user-help-link");this.i&&c&&un(this,c,function(){s.i()}),un(this,this.u(),function(){s.l()}),this.u().focus(),G.prototype.v.call(this)},Tp.prototype.o=function(){this.i=this.l=null,G.prototype.o.call(this)},Te(Tp.prototype,{u:Un}),Pt.handleUnauthorizedUser=function(s,c,u,f){function p(){Bt(s,c)}f===_e.auth.EmailAuthProvider.PROVIDER_ID?p=function(){jI(s,c)}:f===_e.auth.PhoneAuthProvider.PROVIDER_ID&&(p=function(){pe("phoneSignInStart",s,c)});var g=null,_=null;f===_e.auth.EmailAuthProvider.PROVIDER_ID&&pk(q(s))?(g=uz(q(s)),_=dz(q(s))):al(q(s))&&(g=cz(q(s)),_=lz(q(s)));var x=new Tp(u,function(){x.m(),p()},g,_,xn(q(s)),Mn(q(s)));x.render(c),Je(s,x)};function Dp(s,c,u,f,p,g){G.call(this,yF,{email:s},g,"unsupportedProvider",{F:f,D:p}),this.l=c,this.i=u}l(Dp,G),Dp.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),G.prototype.v.call(this)},Dp.prototype.o=function(){this.i=this.l=null,G.prototype.o.call(this)},Te(Dp.prototype,{u:Kn,B:Un,w:oi}),Pt.unsupportedProvider=function(s,c,u){var f=new Dp(u,function(){f.m(),pe("passwordRecovery",s,c,u)},function(){f.m(),Bt(s,c,u)},xn(q(s)),Mn(q(s)));f.render(c),Je(s,f)};function Wo(s,c){this.$=!1;var u=KI(c);if(Ap[u])throw Error('An AuthUI instance already exists for the key "'+u+'"');Ap[u]=this,this.a=s,this.u=null,this.Y=!1,f2(this.a),this.h=_e.initializeApp({apiKey:s.app.options.apiKey,authDomain:s.app.options.authDomain},s.app.name+"-firebaseui-temp").auth(),(s=s.emulatorConfig)&&(u=s.port,this.h.useEmulator(s.protocol+"://"+s.host+(u===null?"":":"+u),s.options)),f2(this.h),this.h.setPersistence&&this.h.setPersistence(_e.auth.Auth.Persistence.SESSION),this.oa=c,this.ca=new sz,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=ZE.Xa(),this.j=this.C=null,this.da=this.A=!1}function f2(s){s&&s.INTERNAL&&s.INTERNAL.logFramework&&s.INTERNAL.logFramework("FirebaseUI-web")}var Ap={};function KI(s){return s||"[DEFAULT]"}function p2(s){return mt(s),s.i||(s.i=$s(s,function(c){return c&&!Ho(Me(s))?mn(co(s).getRedirectResult().then(function(u){return u},function(u){if(u&&u.code=="auth/email-already-in-use"&&u.email&&u.credential)throw u;return Ua(s,u)})):mn(st(s).getRedirectResult().then(function(u){return jy(q(s))&&!u.user&&s.j&&!s.j.isAnonymous?co(s).getRedirectResult():u}))})),s.i}function Je(s,c){mt(s),s.g=c}var Ed=null;function st(s){return mt(s),s.h}function co(s){return mt(s),s.a}function Me(s){return mt(s),s.oa}function m2(s){return mt(s),s.O?s.O.emailHint:void 0}t=Wo.prototype,t.nb=function(){return mt(this),!!mI(Me(this))||g2(js())};function g2(s){return s=new Yc(s),(s.a.a.get(Ln.ub)||null)==="signIn"&&!!s.a.a.get(Ln.$a)}t.start=function(s,c){v2(this,s,c)};function v2(s,c,u,f){mt(s),typeof s.a.languageCode<"u"&&(s.u=s.a.languageCode);var p="en".replace(/_/g,"-");s.a.languageCode=p,s.h.languageCode=p,s.Y=!0,typeof s.a.tenantId<"u"&&(s.h.tenantId=s.a.tenantId),s.ib(u),s.O=f||null;var g=v.document;s.C?s.C.then(function(){g.readyState=="complete"?c_(s,c):jf(window,"load",function(){c_(s,c)})}):g.readyState=="complete"?c_(s,c):jf(window,"load",function(){c_(s,c)})}function c_(s,c){var u=vy(c,"Could not find the FirebaseUI widget element on the page.");if(u.setAttribute("lang","en".replace(/_/g,"-")),Ed){var f=Ed;mt(f),Ho(Me(f))&&Fa("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),Ed.reset()}if(Ed=s,s.T=u,Zz(s,u),Ly(new dI)&&Ly(new hI)){c=vy(c,"Could not find the FirebaseUI widget element on the page."),u=js(),f=yI(q(s).a,"queryParameterForSignInSuccessUrl"),u=(u=ro(u,f))?xa(iy(u)).toString():null;e:{f=js();var p=vk(q(s));f=ro(f,p)||"";for(g in DI)if(DI[g].toLowerCase()==f.toLowerCase()){var g=DI[g];break e}g="callback"}switch(g){case"callback":u&&(g=Me(s),td(Wf,u,g)),s.nb()?pe("callback",s,c):Bt(s,c,m2(s));break;case"resetPassword":pe("passwordReset",s,c,lp(),UI());break;case"recoverEmail":pe("emailChangeRevocation",s,c,lp());break;case"revertSecondFactorAddition":pe("revertSecondFactorAddition",s,c,lp());break;case"verifyEmail":pe("emailVerification",s,c,lp(),UI());break;case"verifyAndChangeEmail":pe("verifyAndChangeEmail",s,c,lp(),UI());break;case"signIn":pe("emailLinkSignInCallback",s,c,js()),b2();break;case"select":u&&(g=Me(s),td(Wf,u,g)),Bt(s,c);break;default:throw Error("Unhandled widget operation.")}c=q(s),(c=Xf(c).uiShown||null)&&c()}else c=vy(c,"Could not find the FirebaseUI widget element on the page."),g=new XF(Et("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),g.render(c),Je(s,g);c=s.g&&s.g.Ga=="blank"&&CI(q(s)),mI(Me(s))&&!c&&(c=mI(Me(s)),w2(s,c.a),nr(ol,Me(s)))}function $s(s,c){if(s.A)return c(y2(s));if(Ge(s,function(){s.A=!1}),jy(q(s))){var u=new jn(function(f){Ge(s,s.a.onAuthStateChanged(function(p){s.j=p,s.A||(s.A=!0,f(c(y2(s))))}))});return Ge(s,u),u}return s.A=!0,c(null)}function y2(s){return mt(s),jy(q(s))&&s.j&&s.j.isAnonymous?s.j:null}function Ge(s,c){if(mt(s),c){s.s.push(c);var u=function(){Rr(s.s,function(f){return f==c})};typeof c!="function"&&c.then(u,u)}}t.Db=function(){mt(this),this.Z=!0};function Jz(s){mt(s);var c;return(c=s.Z)||(s=q(s),s=gk(s,_e.auth.GoogleAuthProvider.PROVIDER_ID),c=!(!s||s.prompt!=="select_account")),c}function _2(s){typeof s.a.languageCode<"u"&&s.Y&&(s.Y=!1,s.a.languageCode=s.u)}function w2(s,c){s.a.tenantId=c,s.h.tenantId=c}t.reset=function(){mt(this);var s=this;this.T&&this.T.removeAttribute("lang"),this.J&&O8(this.J),_2(this),this.O=null,b2(),nr(ol,Me(this)),mt(this),this.l.cancel(),this.i=mn({user:null,credential:null}),Ed==this&&(Ed=null),this.T=null;for(var c=0;c<this.s.length;c++)typeof this.s[c]=="function"?this.s[c]():this.s[c].cancel&&this.s[c].cancel();this.s=[],Go(Me(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=ja(this).then(function(){s.C=null},function(){s.C=null}))};function Zz(s,c){s.L=null,s.J=new my(c),s.J.register(),so(s.J,"pageEnter",function(u){if(u=u&&u.pageId,s.L!=u){var f=q(s);(f=Xf(f).uiChanged||null)&&f(s.L,u),s.L=u}})}t.ib=function(s){mt(this);var c=this.ca,u;for(u in s)try{vI(c.a,u,s[u])}catch{mr('Invalid config: "'+u+'"',void 0)}e8&&vI(c.a,"popupMode",!1),bI(c),!this.da&&EI(q(this))&&(Fa("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function q(s){return mt(s),s.ca}t.Wb=function(){mt(this);var s=q(this),c=yI(s.a,"widgetUrl");s=vk(s);for(var u=c.search(Ui),f=0,p,g=[];0<=(p=ni(c,f,s,u));)g.push(c.substring(f,p)),f=Math.min(c.indexOf("&",p)+1||u,u);g.push(c.substr(f)),c=g.join("").replace(ty,"$1"),u="="+encodeURIComponent("select"),(s+=u)?(u=c.indexOf("#"),0>u&&(u=c.length),f=c.indexOf("?"),0>f||f>u?(f=u,p=""):p=c.substring(f+1,u),c=[c.substr(0,f),p,c.substr(u)],u=c[1],c[1]=s?u?u+"&"+s:s:u,u=c[0]+(c[1]?"?"+c[1]:"")+c[2]):u=c,q(this).a.get("popupMode")?(s=(window.screen.availHeight-600)/2,c=(window.screen.availWidth-500)/2,u=u||"about:blank",s={width:500,height:600,top:0<s?s:0,left:0<c?c:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},s.target=s.target||u.target||"google_popup",s.width=s.width||690,s.height=s.height||500,(s=yN(u,s))&&s.focus()):Gu(window.location,u)};function mt(s){if(s.$)throw Error("AuthUI instance is deleted!")}t.Wa=function(){var s=this;return mt(this),this.h.app.delete().then(function(){var c=KI(Me(s));delete Ap[c],s.reset(),s.$=!0})};function eq(s){mt(s);try{IN(s.l,fk(q(s)),Jz(s)).then(function(c){return s.g?Mz(s,s.g,c):!1})}catch{}}t.Ib=function(s,c){mt(this);var u=this,f=j8();if(!rd(q(this)))return zu(Error("Email link sign-in should be enabled to trigger email sending."));var p=mz(q(this)),g=new Yc(p.url);return QG(g,f),c&&c.a&&(oz(f,c,Me(this)),_R(g,c.a.providerId)),XG(g,pz(q(this))),$s(this,function(_){return _&&((_=_.uid)?g.a.a.set(Ln.Pa,_):Kc(g.a.a,Ln.Pa)),p.url=g.toString(),st(u).sendSignInLinkToEmail(s,p)}).then(function(){var _=Me(u),x={};x.email=s,td(Zu,zN(f,JSON.stringify(x)),_)},function(_){throw nr(Kf,Me(u)),nr(Zu,Me(u)),_})};function tq(s,c){var u=yR(new Yc(c));return u?(c=new jn(function(f,p){var g=co(s).onAuthStateChanged(function(_){g(),_&&_.isAnonymous&&_.uid===u?f(_):_&&_.isAnonymous&&_.uid!==u?p(Error("anonymous-user-mismatch")):p(Error("anonymous-user-not-found"))});Ge(s,g)}),Ge(s,c),c):mn(null)}function nq(s,c,u,f,p){mt(s);var g=p||null,_=_e.auth.EmailAuthProvider.credentialWithLink(u,f);return u=g?st(s).signInWithEmailLink(u,f).then(function(x){return x.user.linkWithCredential(g)}).then(function(){return ja(s)}).then(function(){return Ua(s,{code:"auth/email-already-in-use"},g)}):st(s).fetchSignInMethodsForEmail(u).then(function(x){return x.length?Ua(s,{code:"auth/email-already-in-use"},_):c.linkWithCredential(_)}),Ge(s,u),u}function iq(s,c,u,f){mt(s);var p=f||null,g;return c=st(s).signInWithEmailLink(c,u).then(function(_){if(g={user:_.user,credential:null,operationType:_.operationType,additionalUserInfo:_.additionalUserInfo},p)return _.user.linkWithCredential(p).then(function(x){g={user:x.user,credential:p,operationType:g.operationType,additionalUserInfo:x.additionalUserInfo}})}).then(function(){ja(s)}).then(function(){return co(s).updateCurrentUser(g.user)}).then(function(){return g.user=co(s).currentUser,g}),Ge(s,c),c}function b2(){var s=js();if(g2(s)){s=new Yc(s);for(var c in Ln)Ln.hasOwnProperty(c)&&Kc(s.a.a,Ln[c]);c={state:"signIn",mode:"emailLink",operation:"clear"};var u=v.document.title;v.history&&v.history.replaceState&&v.history.replaceState(c,u,s.toString())}}t.bc=function(s,c){mt(this);var u=this;return st(this).signInWithEmailAndPassword(s,c).then(function(f){return $s(u,function(p){return p?ja(u).then(function(){return Ua(u,{code:"auth/email-already-in-use"},_e.auth.EmailAuthProvider.credential(s,c))}):f})})},t.Yb=function(s,c){mt(this);var u=this;return $s(this,function(f){if(f){var p=_e.auth.EmailAuthProvider.credential(s,c);return f.linkWithCredential(p)}return st(u).createUserWithEmailAndPassword(s,c)})},t.ac=function(s){mt(this);var c=this;return $s(this,function(u){return u?u.linkWithCredential(s).then(function(f){return f},function(f){if(f&&f.code=="auth/email-already-in-use"&&f.email&&f.credential)throw f;return Ua(c,f,s)}):st(c).signInWithCredential(s)})};function rq(s,c){return mt(s),$s(s,function(u){return u&&!Ho(Me(s))?u.linkWithPopup(c).then(function(f){return f},function(f){if(f&&f.code=="auth/email-already-in-use"&&f.email&&f.credential)throw f;return Ua(s,f)}):st(s).signInWithPopup(c)})}t.dc=function(s){mt(this);var c=this,u=this.i;return this.i=null,$s(this,function(f){return f&&!Ho(Me(c))?f.linkWithRedirect(s):st(c).signInWithRedirect(s)}).then(function(){},function(f){throw c.i=u,f})},t.cc=function(s,c){mt(this);var u=this;return $s(this,function(f){return f?f.linkWithPhoneNumber(s,c).then(function(p){return new tI(p,function(g){if(g.code=="auth/credential-already-in-use")return Ua(u,g);throw g})}):co(u).signInWithPhoneNumber(s,c).then(function(p){return new tI(p)})})},t.$b=function(){return mt(this),co(this).signInAnonymously()};function oq(s,c){return mt(s),$s(s,function(u){if(s.j&&!s.j.isAnonymous&&jy(q(s))&&!st(s).currentUser)return ja(s).then(function(){return c.credential.providerId=="password"&&(c.credential=null),c});if(u)return ja(s).then(function(){return u.linkWithCredential(c.credential)}).then(function(f){return c.user=f.user,c.credential=f.credential,c.operationType=f.operationType,c.additionalUserInfo=f.additionalUserInfo,c},function(f){if(f&&f.code=="auth/email-already-in-use"&&f.email&&f.credential)throw f;return Ua(s,f,c.credential)});if(!c.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return ja(s).then(function(){return co(s).updateCurrentUser(c.user)}).then(function(){return c.user=co(s).currentUser,c.operationType="signIn",c.credential&&c.credential.providerId&&c.credential.providerId=="password"&&(c.credential=null),c})})}t.Xb=function(s,c){return mt(this),st(this).signInWithEmailAndPassword(s,c)};function ja(s){return mt(s),st(s).signOut()}function Ua(s,c,u){if(mt(s),c&&c.code&&(c.code=="auth/email-already-in-use"||c.code=="auth/credential-already-in-use")){var f=bk(q(s));return mn().then(function(){return f(new kf("anonymous-upgrade-merge-conflict",null,u||c.credential))}).then(function(){throw s.g&&(s.g.m(),s.g=null),c})}return zu(c)}function xp(s,c,u,f){G.call(this,VF,void 0,f,"providerMatchByEmail",{F:c,D:u}),this.i=s}l(xp,G),xp.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),r_(this.l(),(this.l().value||"").length),G.prototype.v.call(this)},xp.prototype.o=function(){this.i=null,G.prototype.o.call(this)},Te(xp.prototype,{l:Us,H:Va,u:vd,B:yd,j:_d,M:Kn,w:oi});function l_(s,c,u,f,p){G.call(this,LF,{ec:c},p,"selectTenant",{F:u,D:f}),this.i=s}l(l_,G),l_.prototype.v=function(){sq(this,this.i),G.prototype.v.call(this)},l_.prototype.o=function(){this.i=null,G.prototype.o.call(this)};function sq(s,c){function u(x){c(x)}for(var f=s.g?ME("firebaseui-id-tenant-selection-button",s.g||s.s.a):[],p=0;p<f.length;p++){var g=f[p],_=s_(g,"tenantId");un(s,g,$e(u,_))}}function YI(s){G.call(this,sF,void 0,s,"spinner")}l(YI,G);function aq(s){this.a=new gI,An(this.a,"authDomain"),An(this.a,"displayMode",d_),An(this.a,"tenants"),An(this.a,"callbacks"),An(this.a,"tosUrl"),An(this.a,"privacyPolicyUrl");for(var c in s)if(s.hasOwnProperty(c))try{vI(this.a,c,s[c])}catch{mr('Invalid config: "'+c+'"',void 0)}}function cq(s){s=s.a.get("displayMode");for(var c in XI)if(XI[c]===s)return XI[c];return d_}function u_(s){return s.a.get("callbacks")||{}}function C2(s){var c=s.a.get("tosUrl")||null;if(s=s.a.get("privacyPolicyUrl")||null,c&&!s&&Fa("Privacy Policy URL is missing, the link will not be displayed."),c&&s){if(typeof c=="function")return c;if(typeof c=="string")return function(){Wu(c)}}return null}function E2(s){var c=s.a.get("tosUrl")||null,u=s.a.get("privacyPolicyUrl")||null;if(u&&!c&&Fa("Terms of Service URL is missing, the link will not be displayed."),c&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){Wu(u)}}return null}function QI(s,c){if(s=s.a.get("tenants"),!s||!s.hasOwnProperty(c)&&!s.hasOwnProperty(h_))throw Error("Invalid tenant configuration!")}function I2(s,c,u){if(s=s.a.get("tenants"),!s)throw Error("Invalid tenant configuration!");var f=[];if(s=s[c]||s[h_],!s)return mr("Invalid tenant configuration: "+(c+" is not configured!"),void 0),f;if(c=s.signInOptions,!c)throw Error("Invalid tenant configuration: signInOptions are invalid!");return c.forEach(function(p){if(typeof p=="string")f.push(p);else if(typeof p.provider=="string"){var g=p.hd;g&&u?(g instanceof RegExp?g:new RegExp("@"+g.replace(".","\\.")+"$")).test(u)&&f.push(p.provider):f.push(p.provider)}else p="Invalid tenant configuration: signInOption "+(JSON.stringify(p)+" is invalid!"),mr(p,void 0)}),f}function lq(s,c,u){return s=uq(s,c),(c=s.signInOptions)&&u&&(c=c.filter(function(f){return typeof f=="string"?u.includes(f):u.includes(f.provider)}),s.signInOptions=c),s}function uq(s,c){var u=dq,f=f===void 0?{}:f;return QI(s,c),s=s.a.get("tenants"),U8(s[c]||s[h_],u,f)}var dq=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],d_="optionFirst",XI={pc:d_,oc:"identifierFirst"},h_="*";function lo(s,c){var u=this;this.s=vy(s),this.a={},Object.keys(c).forEach(function(f){u.a[f]=new aq(c[f])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(f){this.ob=f||null},enumerable:!1})}t=lo.prototype,t.Ub=function(s,c){var u=this;Ba(this);var f=s.apiKey;return new jn(function(p,g){if(u.a.hasOwnProperty(f)){var _=u_(u.a[f]).selectTenantUiHidden||null;if(cq(u.a[f])===d_){var x=[];c.forEach(function(ve){ve=ve||"_";var Ft=u.a[f].a.get("tenants");if(!Ft)throw Error("Invalid tenant configuration!");(Ft=Ft[ve]||Ft[h_])?ve={tenantId:ve!=="_"?ve:null,V:Ft.fullLabel||null,displayName:Ft.displayName,za:Ft.iconUrl,ta:Ft.buttonColor}:(mr("Invalid tenant configuration: "+(ve+" is not configured!"),void 0),ve=null),ve&&x.push(ve)});var V=function(ve){ve={tenantId:ve,providerIds:I2(u.a[f],ve||"_")},p(ve)};if(x.length===1){V(x[0].tenantId);return}u.g=new l_(function(ve){Ba(u),_&&_(),V(ve)},x,C2(u.a[f]),E2(u.a[f]))}else u.g=new xp(function(){var ve=u.g.j();if(ve){for(var Ft=0;Ft<c.length;Ft++){var uo=I2(u.a[f],c[Ft]||"_",ve);if(uo.length!==0){ve={tenantId:c[Ft],providerIds:uo,email:ve},Ba(u),_&&_(),p(ve);return}}u.g.a(zR({code:"no-matching-tenant-for-email"}).toString())}},C2(u.a[f]),E2(u.a[f]));u.g.render(u.s),(g=u_(u.a[f]).selectTenantUiShown||null)&&g()}else{var Y=Error("Invalid project configuration: API key is invalid!");Y.code="invalid-configuration",u.pb(Y),g(Y)}})},t.Pb=function(s,c){if(!this.a.hasOwnProperty(s))throw Error("Invalid project configuration: API key is invalid!");var u=c||void 0;QI(this.a[s],c||"_");try{this.i=_e.app(u).auth()}catch{var f=this.a[s].a.get("authDomain");if(!f)throw Error("Invalid project configuration: authDomain is required!");s=_e.initializeApp({apiKey:s,authDomain:f},u),s.auth().tenantId=c,this.i=s.auth()}return this.i},t.Zb=function(s,c){var u=this;return new jn(function(f,p){function g(Ft,uo){u.j=new Wo(s),v2(u.j,u.s,Ft,uo)}var _=s.app.options.apiKey;u.a.hasOwnProperty(_)||p(Error("Invalid project configuration: API key is invalid!"));var x=lq(u.a[_],s.tenantId||"_",c&&c.providerIds);Ba(u),p={signInSuccessWithAuthResult:function(Ft){return f(Ft),!1}};var V=u_(u.a[_]).signInUiShown||null,Y=!1;p.uiChanged=function(Ft,uo){Ft===null&&uo==="callback"?((Ft=PE("firebaseui-id-page-callback",u.s))&&vr(Ft),u.h=new YI,u.h.render(u.s)):Y||Ft===null&&uo==="spinner"||uo==="blank"||(u.h&&(u.h.m(),u.h=null),Y=!0,V&&V(s.tenantId))},x.callbacks=p,x.credentialHelper="none";var ve;c&&c.email&&(ve={emailHint:c.email}),u.j?u.j.Wa().then(function(){g(x,ve)}):g(x,ve)})},t.reset=function(){var s=this;return mn().then(function(){s.j&&s.j.Wa()}).then(function(){s.j=null,Ba(s)})},t.Vb=function(){var s=this;this.h||this.A||(this.A=window.setTimeout(function(){Ba(s),s.h=new YI,s.g=s.h,s.h.render(s.s),s.A=null},500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},t.Bb=function(){return Ba(this),this.g=new qF,this.g.render(this.s),mn()};function Ba(s){s.j&&s.j.reset(),s.mb(),s.g&&s.g.m()}t.pb=function(s){var c=this,u=zR({code:s.code}).toString()||s.message;Ba(this);var f;s.retry&&typeof s.retry=="function"&&(f=function(){c.reset(),s.retry()}),this.g=new QF(u,f),this.g.render(this.s)},t.Rb=function(s){var c=this;return mn().then(function(){var u=c.i&&c.i.app.options.apiKey;if(!c.a.hasOwnProperty(u))throw Error("Invalid project configuration: API key is invalid!");if(QI(c.a[u],s.tenantId||"_"),!c.i.currentUser||c.i.currentUser.uid!==s.uid)throw Error("The user being processed does not match the signed in user!");return(u=u_(c.a[u]).beforeSignInSuccess||null)?u(s):s}).then(function(u){if(u.uid!==s.uid)throw Error("User with mismatching UID returned.");return u})},Ke("firebaseui.auth.FirebaseUiHandler",lo),Ke("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",lo.prototype.Ub),Ke("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",lo.prototype.Pb),Ke("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",lo.prototype.Zb),Ke("firebaseui.auth.FirebaseUiHandler.prototype.reset",lo.prototype.reset),Ke("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",lo.prototype.Vb),Ke("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",lo.prototype.mb),Ke("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",lo.prototype.Bb),Ke("firebaseui.auth.FirebaseUiHandler.prototype.handleError",lo.prototype.pb),Ke("firebaseui.auth.FirebaseUiHandler.prototype.processUser",lo.prototype.Rb),Ke("firebaseui.auth.AuthUI",Wo),Ke("firebaseui.auth.AuthUI.getInstance",function(s){return s=KI(s),Ap[s]?Ap[s]:null}),Ke("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",Wo.prototype.Db),Ke("firebaseui.auth.AuthUI.prototype.start",Wo.prototype.start),Ke("firebaseui.auth.AuthUI.prototype.setConfig",Wo.prototype.ib),Ke("firebaseui.auth.AuthUI.prototype.signIn",Wo.prototype.Wb),Ke("firebaseui.auth.AuthUI.prototype.reset",Wo.prototype.reset),Ke("firebaseui.auth.AuthUI.prototype.delete",Wo.prototype.Wa),Ke("firebaseui.auth.AuthUI.prototype.isPendingRedirect",Wo.prototype.nb),Ke("firebaseui.auth.AuthUIError",kf),Ke("firebaseui.auth.AuthUIError.prototype.toJSON",kf.prototype.toJSON),Ke("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",II),Ke("firebaseui.auth.CredentialHelper.NONE",By),Ke("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),jn.prototype.catch=jn.prototype.Ca,jn.prototype.finally=jn.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=pG.default);var dR=firebaseui.auth;var mE=(()=>{let e=class e{constructor(i){this.auth=i,this.auth.setPersistence(hs)}logout(){localStorage.removeItem("firebase-user"),this.auth.signOut()}createButton(i,r,o,a){(dR.AuthUI.getInstance()||new dR.AuthUI(this.auth)).start(i,{callbacks:{uiShown:a,signInSuccessWithAuthResult:l=>(o&&o(l),localStorage.setItem("firebase-user",l.user.uid),!!r)},signInFlow:"popup",signInSuccessUrl:r,signInOptions:[Wl.PROVIDER_ID]})}hasLocalStorageEntry(){return localStorage.getItem("firebase-user")!=null}awaitUser(){return C(this,null,function*(){return yield this.auth.authStateReady(),this.auth.currentUser})}getUser(){return this.auth.currentUser}};e.\u0275fac=function(r){return new(r||e)(re(Xl))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Tf=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Che(t,e){if(t&1){let n=ae();gt(0),I(1,"span",17),R("click",function(){k(n);let r=M(2);return F(r.authService.logout())}),j(2,"Odhl\xE1si\u0165 sa"),S(),vt()}}var yG=()=>["hlasovanie"],_G=()=>["hlasovanie","vysledky"];function Ehe(t,e){if(t&1){let n=ae();I(0,"div",10)(1,"div",11)(2,"div",1)(3,"span"),j(4),S()(),I(5,"div",2)(6,"i",12),R("click",function(){k(n);let r=M();return F(r.sidebarVisible=!1)}),S()()(),I(7,"div",13)(8,"div",14),R("click",function(){k(n);let r=M();return F(r.sidebarVisible=!1)}),I(9,"a",15),j(10,"Hlasovanie"),S(),I(11,"a",15),j(12,"V\xFDsledky"),S()(),I(13,"div",16),R("click",function(){k(n);let r=M();return F(r.sidebarVisible=!1)}),z(14,Che,3,0,"ng-container",8),S()()()}if(t&2){let n=M();P("@fade",void 0),D(4),me(n.eventManagerService.event.title),D(5),P("routerLink",Er(5,yG)),D(2),P("routerLink",Er(6,_G)),D(3),P("ngIf",n.authService.getUser())}}function Ihe(t,e){if(t&1){let n=ae();gt(0),I(1,"div",18)(2,"span",19),R("click",function(){k(n);let r=M();return F(r.authService.logout())}),j(3,"Odhl\xE1si\u0165 sa"),S(),I(4,"span",20),j(5),S()(),vt()}if(t&2){let n=M();D(5),me(n.authService.getUser().displayName)}}var gG=()=>["current"],vG=()=>({exact:!0}),wG=(()=>{let e=class e{constructor(i,r,o){this.route=i,this.authService=r,this.eventManagerService=o,this.sidebarVisible=!1}ngOnInit(){this.route.params.subscribe(i=>this.eventManagerService.event=JSON.parse(JSON.stringify(hE.find(r=>r.id==i.id))))}};e.\u0275fac=function(r){return new(r||e)(N(er),N(mE),N(Tf))},e.\u0275cmp=he({type:e,selectors:[["app-event-manager"]],standalone:!0,features:[be],decls:20,vars:16,consts:[["smallscreen","",1,"header"],[1,"header-left"],[1,"header-right"],[1,"fa-solid","fa-bars",3,"click"],["class","sidebar","smallscreen","",4,"ngIf"],["largescreen","",1,"header"],[1,"v-separator","margins"],[1,"header-item",3,"routerLink","routerLinkActive","routerLinkActiveOptions"],[4,"ngIf"],[1,"content"],["smallscreen","",1,"sidebar"],[1,"sidebar-header"],[1,"fa-solid","fa-xmark",3,"click"],[1,"sidebar-content"],[1,"sidebar-content-top",3,"click"],[1,"sidebar-item",3,"routerLink"],[1,"sidebar-content-bottom",3,"click"],[1,"sidebar-item",3,"click"],[1,"header-item","hover-container"],[1,"hover-visible",3,"click"],[1,"hover-hidden"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"div",1)(2,"span"),j(3),S()(),I(4,"div",2)(5,"i",3),R("click",function(){return o.sidebarVisible=!0}),S()()(),z(6,Ehe,15,7,"div",4),I(7,"div",5)(8,"div",1)(9,"span"),j(10),S(),oe(11,"div",6),I(12,"a",7),j(13,"Hlasovanie"),S(),I(14,"a",7),j(15,"V\xFDsledky"),S()(),I(16,"div",2),z(17,Ihe,6,1,"ng-container",8),S()(),I(18,"div",9),oe(19,"router-outlet"),S()),r&2&&(D(3),me(o.eventManagerService.event.title),D(3),P("ngIf",o.sidebarVisible),D(4),me(o.eventManagerService.event.title),D(2),P("routerLink",Er(10,yG))("routerLinkActive",Er(11,gG))("routerLinkActiveOptions",Er(12,vG)),D(2),P("routerLink",Er(13,_G))("routerLinkActive",Er(14,gG))("routerLinkActiveOptions",Er(15,vG)),D(3),P("ngIf",o.authService.getUser()))},dependencies:[Ee,At,Ct,pf,h9,xv,KH,YH],styles:["[_nghost-%COMP%]{flex:1;min-height:100vh;display:flex;flex-direction:column}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{position:sticky;top:0;height:40px;display:flex;gap:1.67rem;border-bottom:1px solid var(--color-border);box-sizing:border-box;background-color:var(--color-background-primary);z-index:1;justify-content:space-between}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{padding:0 .668rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{padding:0 1.67rem}}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{gap:.668rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{gap:1.67rem}}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]{min-width:40px;justify-content:center;display:flex;align-items:center;cursor:pointer;height:100%;box-sizing:border-box;padding-top:3px;border-bottom:3px solid transparent}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-item.current[_ngcontent-%COMP%]{padding-bottom:2px;border-bottom-width:1px;border-bottom-color:var(--color-primary)}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]:hover{padding-bottom:0;color:var(--color-text-hover);border-bottom-width:3px;border-bottom-color:var(--color-primary)}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:100vw;height:100vh;background-color:var(--color-background-primary);position:absolute;z-index:1;display:flex;flex-direction:column}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{position:sticky;top:0;height:40px;display:flex;gap:1.67rem;border-bottom:1px solid var(--color-border);box-sizing:border-box;justify-content:space-between}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:0 .668rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:0 1.67rem}}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;gap:1.67rem;align-items:center}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]{min-width:40px;justify-content:center;display:flex;align-items:center;cursor:pointer;height:100%;box-sizing:border-box;padding-top:3px;border-bottom:3px solid transparent;transition-property:color,border-color;transition-duration:.25s}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]:hover{color:var(--color-text-hover);border-bottom-color:var(--color-primary)}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{margin:.668rem;display:flex;flex-direction:column;gap:.668rem;flex:1;justify-content:space-between}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .sidebar-content-top[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .sidebar-content-bottom[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.668rem}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .sidebar-item[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;align-items:center;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.334rem;padding:.668rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;flex:1}"],data:{animation:[kc]}});let t=e;return t})();var bG=(()=>{let e=class e{constructor(i){this.route=i}ngOnInit(){this.route.params.subscribe(i=>{this.event=hE.find(r=>r.id==i.id)})}};e.\u0275fac=function(r){return new(r||e)(N(er))},e.\u0275cmp=he({type:e,selectors:[["app-rules"]],standalone:!0,features:[be],decls:8,vars:0,template:function(r,o){r&1&&(I(0,"span"),j(1,"V z\xE1ujme ment\xE1lneho zdravia, dobr\xFDch vz\u0165ahov a pohody som vymyslel p\xE1r pravidiel."),S(),I(2,"span"),j(3,"Nie je ich ve\u013Ea, o to viac v\u0161ak budem trva\u0165 na tom, aby sme ich v\u0161etci dodr\u017Eiavali."),S(),I(4,"span"),j(5,"1. Ka\u017Ed\xE9 r\xE1no vyr\xE1\u017Eame na\u010Das"),S(),I(6,"span"),j(7,"2. Po\u010Das splavovania sa dr\u017E\xEDme pohromade"),S())},dependencies:[Ee],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.668rem 0;top:0;bottom:0}"]});let t=e;return t})();var gE=(()=>{let e=class e{constructor(i){this.firestore=i,this.cache={}}read(i,r){return C(this,null,function*(){return r&&this.cache[i]?this.cache[i]:(this.cache[i]=(yield G6($6(this.firestore,i))).docs.map(o=>o.data()),this.cache[i])})}write(i,r,o){return q6(KM(this.firestore,i,r),o)}delete(i,r){return H6(KM(this.firestore,i,r))}};e.\u0275fac=function(r){return new(r||e)(re(pu))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function She(t,e){if(t&1&&(I(0,"td",9),j(1),S()),t&2){let n=e.$implicit,i=M().$implicit;Ur("width",100/i.options.length,"%"),D(),me(n.text)}}function The(t,e){t&1&&oe(0,"i",12)}function Dhe(t,e){if(t&1&&(I(0,"td"),z(1,The,1,0,"i",11),S()),t&2){let n=e.$implicit,i=M().$implicit;D(),P("ngIf",n.people.includes(i.userDisplayName))}}function Ahe(t,e){if(t&1&&(I(0,"tr")(1,"td",10),j(2),S(),z(3,Dhe,2,1,"td",8),S()),t&2){let n=e.$implicit,i=M().$implicit,r=M(2);D(2),me(r.getShortName(n.userDisplayName)),D(),P("ngForOf",i.options)}}function xhe(t,e){if(t&1){let n=ae();I(0,"div",3),R("click",function(){let o=k(n).$implicit,a=M(2);return F(a.open(o))}),I(1,"span",4),j(2),S(),I(3,"div",5)(4,"table")(5,"tr"),oe(6,"td",6),z(7,She,2,3,"td",7),S(),z(8,Ahe,4,2,"tr",8),S()()()}if(t&2){let n=e.$implicit,i=M(2);et("closed",!n.open),D(2),me(n.title),D(),et("closed",!n.open),P("@drawer2",n.open),D(4),P("ngForOf",n.options),D(),P("ngForOf",i.userEntries)}}function Mhe(t,e){if(t&1&&(I(0,"div",1),z(1,xhe,9,8,"div",2),S()),t&2){let n=M();D(),P("ngForOf",n.statistics)}}var EG=(()=>{let e=class e{constructor(i,r){this.firestoreService=i,this.eventManagerService=r}ngOnInit(){this.event=this.eventManagerService.event,this.requestResults()}requestResults(){this.firestoreService.read(this.event.id).then(i=>{this.userEntries=i,this.statistics=this.event.questions.map(r=>({id:r.id,title:r.title,votes:i.filter(o=>!o.choices[r.id].includes("dontcare")).length,open:this.event.questions.indexOf(r)==0,options:r.choices?.map(o=>({id:o.id,text:o.text,description:o.description,hyperlink:o.hyperlink,people:i.filter(a=>a.choices[r.id].includes(o.id)).map(a=>a.userDisplayName),count:i.filter(a=>!a.choices[r.id].includes("dontcare")&&a.choices[r.id].includes(o.id)).length})).sort((o,a)=>a.count-o.count)}))})}open(i){this.statistics.forEach(r=>r.open=!1),i.open=!0}getShortName(i){if(window.innerWidth>1e3)return i;{let[r,o]=i.split(" ");return r.substring(0,10)+" "+o[0]}}};e.\u0275fac=function(r){return new(r||e)(N(gE),N(Tf))},e.\u0275cmp=he({type:e,selectors:[["app-survey-results"]],standalone:!0,features:[be],decls:1,vars:1,consts:[["class","results",4,"ngIf"],[1,"results"],["class","result-container",3,"closed","click",4,"ngFor","ngForOf"],[1,"result-container",3,"click"],[1,"result-title"],[1,"result-options"],[1,"first-column","first-row"],["class","first-row",3,"width",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"first-row"],[1,"first-column"],["class","fa-solid fa-check",4,"ngIf"],[1,"fa-solid","fa-check"]],template:function(r,o){r&1&&z(0,Mhe,2,1,"div",0),r&2&&P("ngIf",o.statistics)},dependencies:[Ee,Dt,At,Ct],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.668rem 0;top:0;bottom:0}@media screen and (max-width: 1000px){[_nghost-%COMP%]{width:calc(100vw - 1.336rem);max-width:calc(100vw - 1.336rem);padding:.668rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]{padding:.668rem 0}}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.668rem;max-width:100%}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:block;text-align:center;font-size:2rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]{border:1px solid var(--color-border);border-radius:.334rem;display:flex;flex-direction:column;background-color:var(--color-background-secondary);padding:.668rem;transition-property:gap;transition-duration:.5s}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container.closed[_ngcontent-%COMP%]{cursor:pointer;gap:0}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-title[_ngcontent-%COMP%]{font-size:24px;text-align:center}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-description[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.334rem;width:100%;overflow-x:auto;overflow-y:hidden}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--color-border)}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;width:fit-content;padding:.5rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.first-column[_ngcontent-%COMP%]{width:0;white-space:nowrap;position:sticky;left:0;background-color:var(--color-background-secondary)}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(.first-column){text-align:center}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.first-row[_ngcontent-%COMP%]{white-space:nowrap}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.first-row[_ngcontent-%COMP%]{writing-mode:tb}}"],data:{animation:[iE]}});let t=e;return t})();var fR=()=>["./vysledky"];function Phe(t,e){t&1&&(gt(0),I(1,"div",2)(2,"span"),j(3,"Hlasovanie teraz nie je akt\xEDvne"),S(),I(4,"a",3),oe(5,"i",4),j(6,"V\xFDsledky"),S()(),vt()),t&2&&(D(4),P("routerLink",Er(1,fR)))}function Ohe(t,e){if(t&1){let n=ae();I(0,"div",17),R("onCreate",function(r){k(n);let o=M(4);return F(o.createAuthButton(r))}),S()}t&2&&P("@crossfade",void 0)}function Rhe(t,e){if(t&1){let n=ae();I(0,"div",18),R("click",function(){k(n);let r=M(4);return F(r.updateVote())}),j(1,"Zmena hlasovania"),S()}t&2&&P("@crossfade",void 0)}function Nhe(t,e){if(t&1&&(I(0,"div",9)(1,"div",10)(2,"span",11),j(3,"Hlasovanie"),S()(),I(4,"div",12),z(5,Ohe,1,1,"div",13)(6,Rhe,2,1,"div",14),I(7,"span",15),j(8,"alebo"),S(),I(9,"a",16),oe(10,"i",4),j(11,"V\xFDsledky"),S()()()),t&2){let n=M(3);D(4),P("@skip",void 0),D(),P("ngIf",!n.authService.hasLocalStorageEntry()),D(),P("ngIf",n.authService.hasLocalStorageEntry()&&!n.userCanVote),D(3),P("routerLink",Er(4,fR))}}function khe(t,e){if(t&1&&(I(0,"span",34),j(1),S()),t&2){let n=M().$implicit;D(),me(n.description)}}function Fhe(t,e){if(t&1&&oe(0,"i",42),t&2){let n=M().$implicit;P("ngClass",n.selected?"fa-regular fa-square-check":"fa-regular fa-square")}}function Lhe(t,e){if(t&1&&oe(0,"i",42),t&2){let n=M().$implicit;P("ngClass",n.selected?"fa-regular fa-circle-check":"fa-regular fa-circle")}}function Vhe(t,e){if(t&1&&(gt(0),oe(1,"div",43),I(2,"a",44),R("click",function(i){return i.stopImmediatePropagation()}),oe(3,"i",45),S(),vt()),t&2){let n=M().$implicit;D(2),P("href",n.hyperlink,Pi)}}function jhe(t,e){if(t&1&&(gt(0),oe(1,"div",43),I(2,"span",46),j(3),S(),vt()),t&2){let n=M().$implicit;D(3),me(n.description)}}function Uhe(t,e){if(t&1){let n=ae();I(0,"div",37),R("click",function(){let o=k(n).$implicit,a=M(2).$implicit,l=M(5);return F(l.onChoiceClick(a,o))}),z(1,Fhe,1,1,"i",38)(2,Lhe,1,1,"i",38),I(3,"div",39)(4,"span",40),j(5),S(),z(6,Vhe,4,1,"ng-container",41)(7,jhe,4,1,"ng-container",41),S()()}if(t&2){let n=e.$implicit,i=M(2).$implicit;et("disabled",n.disabled)("selected",n.selected),D(),P("ngIf",i.type=="checkbox"),D(),P("ngIf",i.type=="radio"),D(3),me(n.text),D(),P("ngIf",n.hyperlink),D(),P("ngIf",n.description)}}function Bhe(t,e){if(t&1&&(I(0,"div",35),z(1,Uhe,8,9,"div",36),S()),t&2){let n=M().$implicit;D(),P("ngForOf",n.choices)}}function $he(t,e){if(t&1&&(I(0,"div",30)(1,"span",31),j(2),S(),z(3,khe,2,1,"span",32)(4,Bhe,2,1,"div",33),S()),t&2){let n=e.$implicit,i=e.index,r=M(5);P("@drawer2",i==r.questionIndex),D(2),me(n.title),D(),P("ngIf",n.description),D(),P("ngIf",n.choices)}}function Hhe(t,e){t&1&&(I(0,"a",3),oe(1,"i",4),j(2,"V\xFDsledky"),S()),t&2&&P("@crossfade",void 0)("routerLink",Er(2,fR))}function Ghe(t,e){if(t&1){let n=ae();I(0,"div",47),R("click",function(){k(n);let r=M(5);return F(r.back())}),j(1,"Sp\xE4\u0165"),S()}t&2&&P("@crossfade",void 0)}function zhe(t,e){if(t&1){let n=ae();I(0,"div",47),R("click",function(){k(n);let r=M(5);return F(r.next())}),j(1,"\u010Ealej"),S()}t&2&&P("@crossfade",void 0)}function qhe(t,e){if(t&1){let n=ae();I(0,"div",47),R("click",function(){k(n);let r=M(5);return F(r.submit())}),j(1,"Hlasova\u0165"),S()}if(t&2){let n=M(5);et("disabled",!n.authService.getUser()),P("@crossfade",void 0)}}function Whe(t,e){if(t&1&&(gt(0),I(1,"div",21),z(2,$he,5,4,"div",22),S(),I(3,"div",23)(4,"div",24),z(5,Hhe,3,3,"a",25)(6,Ghe,2,1,"div",26),S(),I(7,"div",24)(8,"div",27),j(9,"\xA0"),S()(),I(10,"div",24),z(11,zhe,2,1,"div",26)(12,qhe,2,3,"div",28),S()(),I(13,"span",29),j(14),S(),vt()),t&2){let n=e.ngVar,i=M(4);D(),P("@skip",void 0),D(),P("ngForOf",n),D(2),P("@skip",void 0),D(),P("ngIf",i.questionIndex==0),D(),P("ngIf",i.questionIndex!=0),D(4),P("@skip",void 0),D(),P("ngIf",i.questionIndex<n.length-1),D(),P("ngIf",i.questionIndex==n.length-1),D(2),me(i.questionIndex+1+" / "+n.length)}}function Khe(t,e){if(t&1&&(I(0,"div",19),z(1,Whe,15,9,"ng-container",20),S()),t&2){let n=M(3);D(),P("ngVar",n.getActiveQuestions())}}function Yhe(t,e){if(t&1&&(I(0,"div",6),z(1,Nhe,12,5,"div",7)(2,Khe,2,1,"div",8),S()),t&2){let n=M(2);D(),P("ngIf",!n.authService.hasLocalStorageEntry()||!n.userCanVote),D(),P("ngIf",n.authService.hasLocalStorageEntry()&&n.userCanVote)}}function Qhe(t,e){if(t&1&&z(0,Yhe,3,2,"div",5),t&2){let n=M();P("ngIf",!n.loading)}}var IG=(()=>{let e=class e{constructor(i,r,o,a,l){this.router=i,this.firestoreService=r,this.eventManagerService=o,this.route=a,this.authService=l,this.questionIndex=0,this.loading=!0}ngOnInit(){this.event=this.eventManagerService.event;let i=this.authService.awaitUser(),r=this.firestoreService.read(this.event.id,!0);Promise.all([i,r]).then(([o,a])=>{this.userCanVote=!a.some(l=>l.userId==o?.uid),this.loading=!1})}getActiveQuestions(){return this.event.questions.filter(i=>i.active)}onChoiceClick(i,r){i.type=="checkbox"?i.dontcare?r.id=="dontcare"?(i.choices.forEach(o=>o.selected=!1),r.selected=!0):(i.choices.find(o=>o.id=="dontcare").selected=!1,r.selected=!r.selected):r.selected=!r.selected:i.type=="radio"&&(i.choices.forEach(o=>o.selected=!1),r.selected=!0)}back(){this.questionIndex>0&&this.questionIndex--}next(){this.questionIndex<this.event.questions.length-1&&this.questionIndex++}submit(){let i=this.authService.getUser();if(i){let r={userId:i.uid,userDisplayName:i.displayName,submitDate:new Date().toISOString(),choices:{}};this.event.questions.filter(o=>o.choices).forEach(o=>{r.choices[o.id]=o.choices.filter(a=>a.selected).map(a=>a.id)}),this.firestoreService.write(this.event.id,i.uid,r).then(()=>{this.router.navigate(["./vysledky"],{relativeTo:this.route})})}}updateVote(){this.firestoreService.read(this.event.id).then(i=>{let r=i.find(o=>o.userId==this.authService.getUser().uid);r&&this.event.questions.forEach(o=>{o.choices.forEach(a=>{r.choices&&r.choices[o.id]&&(a.selected=r.choices[o.id].includes(a.id))})}),this.userCanVote=!0})}createAuthButton(i){this.authService.createButton(i.nativeElement,null,r=>{r?.user&&this.firestoreService.read(this.event.id,!0).then(o=>{this.userCanVote=!o.some(a=>a.userId==r.user.uid)})})}};e.\u0275fac=function(r){return new(r||e)(N(pi),N(gE),N(Tf),N(er),N(mE))},e.\u0275cmp=he({type:e,selectors:[["app-survey"]],standalone:!0,features:[be],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["hasActiveQuestions",""],[1,"no-questions-container"],[1,"button",3,"routerLink"],[1,"fa-solid","fa-chart-simple"],["class","content-container",4,"ngIf"],[1,"content-container"],["class","auth-container",4,"ngIf"],["class","questions",4,"ngIf"],[1,"auth-container"],[1,"auth-header"],[1,"auth-text"],[1,"auth-buttons"],["class","auth-button auth-ui-button",3,"onCreate",4,"ngIf"],["class","auth-button button",3,"click",4,"ngIf"],[1,"auth-or"],[1,"auth-button","button",3,"routerLink"],[1,"auth-button","auth-ui-button",3,"onCreate"],[1,"auth-button","button",3,"click"],[1,"questions"],[4,"ngVar"],[1,"question-container"],["class","question-animation-container",4,"ngFor","ngForOf"],[1,"buttons"],[1,"button-container"],["class","button",3,"routerLink",4,"ngIf"],["class","button",3,"click",4,"ngIf"],[1,"button","transparent"],["class","button",3,"disabled","click",4,"ngIf"],[1,"question-progress"],[1,"question-animation-container"],[1,"question-title"],["class","question-description",4,"ngIf"],["class","question-choices",4,"ngIf"],[1,"question-description"],[1,"question-choices"],["class","question-choice",3,"disabled","selected","click",4,"ngFor","ngForOf"],[1,"question-choice",3,"click"],["class","question-selection-icon",3,"ngClass",4,"ngIf"],[1,"choice-labels"],[1,"choice-text"],[4,"ngIf"],[1,"question-selection-icon",3,"ngClass"],[1,"v-separator"],["target","_blank","rel","noopener noreferrer",1,"choice-hyperlink",3,"href","click"],[1,"fa-solid","fa-arrow-up-right-from-square"],[1,"choice-description"],[1,"button",3,"click"]],template:function(r,o){if(r&1&&z(0,Phe,7,2,"ng-container",0)(1,Qhe,1,1,"ng-template",null,1,Ij),r&2){let a=K0(2);P("ngIf",o.getActiveQuestions().length==0)("ngIfElse",a)}},dependencies:[Ee,cr,Dt,At,Ct,pf,Vc,Lc],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;top:0;bottom:0}@media screen and (max-width: 1000px){[_nghost-%COMP%]{width:calc(100% - 1.336rem);padding:.668rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]{padding:1.336rem 0}}[_nghost-%COMP%]   .no-questions-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.334rem;padding:.668rem;gap:.668rem;align-items:center}[_nghost-%COMP%]   .no-questions-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:auto;gap:.501rem;padding:.334rem .668rem}[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.334rem;padding:.668rem;gap:.668rem}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   .auth-text[_ngcontent-%COMP%]{font-size:24px;text-align:center}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   .auth-description[_ngcontent-%COMP%]{font-size:16px;text-align:center}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{display:grid;align-items:center}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{grid-template-columns:auto;justify-items:center;gap:.334rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{grid-template-columns:1fr auto 1fr;gap:.668rem}}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .auth-button.auth-ui-button[_ngcontent-%COMP%]{padding:0;border-radius:.334rem;overflow:hidden}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .auth-or[_ngcontent-%COMP%]{font-size:14px}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]{width:100%;height:auto;align-self:center;gap:.501rem;padding:.334rem .668rem}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.668rem;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.334rem;padding:.668rem;position:relative;width:100%}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse!important}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-description[_ngcontent-%COMP%]{margin-top:.167rem;font-size:14px}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:.668rem;align-self:start;gap:.5rem;width:100%}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;padding:.75rem .5rem;border:1px solid var(--color-border);border-radius:.334rem;transition:.25s}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice.selected[_ngcontent-%COMP%]{background-color:var(--color-secondary)}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.334rem}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]   .choice-hyperlink[_ngcontent-%COMP%]{cursor:pointer;font-size:12px}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]   .choice-text[_ngcontent-%COMP%]{min-width:fit-content}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]   .choice-description[_ngcontent-%COMP%]{font-size:14px}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:.668rem;justify-content:space-between;position:relative}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex:1}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]:first-child{justify-content:flex-start}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]:last-child{justify-content:flex-end}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{height:auto;padding:.334rem .668rem;gap:.501rem}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}[_nghost-%COMP%]   .question-progress[_ngcontent-%COMP%]{position:absolute;right:0;top:0;padding:.668rem;font-size:12px}"],data:{animation:[nE,iE,kc,cH]}});let t=e;return t})();var to=class{static isImage(e){return e.mimeType.includes("image")&&e.thumbnailLink!=null}static isVideo(e){return e.mimeType.includes("video")&&e.thumbnailLink!=null}static isFolder(e){return e.mimeType=="application/vnd.google-apps.folder"}};var Rs=class{static getNearestImageUp(e,n){let i=n.indexOf(e);for(;i>0;)if(n[--i].left==e.left)return n[i];return se.getFirst(n)}static getNearestImageRight(e,n){return n[n.indexOf(e)+1]||se.getLast(n)}static getNearestImageDown(e,n){let i=n.indexOf(e);for(;i<n.length-1;)if(n[++i].left==e.left)return n[i];return se.getLast(n)}static getNearestImageLeft(e,n){return n[n.indexOf(e)-1]||se.getFirst(n)}};var Vi=(()=>{let e=class e{constructor(i,r){this.applicationService=i,this.googleService=r,this.targetEntireGroup=!1,this.fullscreenVisible=rh(!1),this.sidebarVisible=nn.isLargeScreen()||this.applicationService.reduceBandwidth,this.filter=rh([]),this.target=rh(null),this.tagCounts={}}setRandomTarget(){if(!se.isEmpty(this.filter())){let i,r=this.target();r?r.hasGroup()?i=se.getRandom(this.filter(),r.getGroupImages()):i=se.getRandom(this.filter(),[r]):i=se.getRandom(this.filter()),i&&(i.hasGroup()&&(i=se.getRandom(i.getGroupImages().filter(o=>this.doesPassFilter(o)))),this.target.set(i))}}setRandomGroupTarget(){let i=this.target();i?.hasGroup()&&this.target.set(se.getRandom(i.getGroupImages().filter(r=>this.doesPassFilter(r)),[i]))}refreshFilter(){this.filter.set(this.images.filter(i=>i.hasGroup()?i.group.open?this.doesPassFilter(i):this.getGroupRepresent(i)==i:this.doesPassFilter(i)))}getGroupRepresent(i){return i.hasGroup()?this.doesPassFilter(i.group.star)?i.group.star:i.group.images.find(r=>this.doesPassFilter(r)):i}doesPassFilter(i){if(!i||this.heartsFilter==-1&&i.heart||this.heartsFilter==1&&!i.heart||this.bookmarksFilter==-1&&i.bookmark||this.bookmarksFilter==1&&!i.bookmark)return!1;let r=i.hasGroup()?i.getGroupImages().length:0;if(r<this.groupSizeFilterMin||r>this.groupSizeFilterMax)return!1;let o,a;for(let l of this.tagGroups)if(o=l.tags.some(d=>i.tags.includes(d.id)),l.state==-1&&o||l.state==1&&!o)return!1;for(let l of this.tagGroups.flatMap(d=>d.tags))if(a=i.tags.includes(l.id),l.state==-1&&a||l.state==1&&!a)return!1;return!0}toggleHeart(i){let r=!i.heart;i.hasGroup()&&this.targetEntireGroup?i.getGroupImages().forEach(o=>o.heart=r):i.heart=r,this.tagCounts._heart=this.images.filter(o=>o.heart).length,this.googleService.updateData()}toggleBookmark(i){let r=!i.bookmark;i.hasGroup()&&this.targetEntireGroup?i.getGroupImages().forEach(o=>o.bookmark=r):i.bookmark=r,this.tagCounts._bookmark=this.images.filter(o=>o.bookmark).length,this.googleService.updateData()}toggleTag(i,r){let o=i.tags,a;if(i.hasGroup()&&this.targetEntireGroup)if(o.includes(r))for(let l of i.getGroupImages())a=l.tags,a.includes(r)&&se.remove(a,r);else for(let l of i.getGroupImages())a=l.tags,a.includes(r)||a.push(r);else o.includes(r)?se.remove(o,r):o.push(r);this.tagCounts[r]=this.images.filter(l=>l.tags.includes(r)).length,this.googleService.updateData()}moveTargetToTrash(){return C(this,null,function*(){this.applicationService.loading.next(!0);let i=this.target();if(i){let r=yield this.moveImageToTrash(i);this.refreshFilter(),this.target.set(r);for(let o in this.tagCounts)this.tagCounts[o]=0;this.tagCounts._heart=this.images.filter(o=>o.heart).length,this.tagCounts._bookmark=this.images.filter(o=>o.bookmark).length;for(let o of this.images)for(let a of o.tags)this.tagCounts[a]++;this.googleService.updateData()}this.applicationService.loading.next(!1)})}moveImageToTrash(i){return C(this,null,function*(){let r,o,a=this.filter();return i.hasGroup()?(r=i.getGroupImages().indexOf(i),se.isLast(i.getGroupImages(),i)?o=i.getGroupImages()[r-1]:o=i.getGroupImages()[r+1]):se.isLast(a,i)?o=Rs.getNearestImageLeft(i,a):o=Rs.getNearestImageRight(i,a),this.googleService.trash(i.id),se.remove(this.images,this.images.find(l=>l.id==i.id)),i.hasGroup()&&(se.remove(i.getGroupImages(),i.getGroupImages().find(l=>l.id==i.id)),i.group.star==i&&i.group.images.length>0&&(i.group.star=i.group.images[0])),o})}};e.\u0275fac=function(r){return new(r||e)(re(Tn),re(dr))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var dr=(()=>{let e=class e extends Ef{constructor(i,r,o){super(i),this.http=i,this.applicationService=r,this.injector=o,this.FIELDS="id,name,thumbnailLink,mimeType,imageMediaMetadata,videoMediaMetadata",this.delay=new Nc(5e3)}updateData(i=!1){let r=sessionStorage.getItem("dataFileId");if(r){let o=this.injector.get(Vi);this.applicationService.changes.next(!0);let a=()=>{this.updateContent(r,{rootFolderId:o.rootFolderId,heartsFilter:o.heartsFilter,bookmarksFilter:o.bookmarksFilter,groupSizeFilterMin:o.groupSizeFilterMin,groupSizeFilterMax:o.groupSizeFilterMax,tagGroups:o.tagGroups,imageProperties:o.images.map(l=>({id:l.id,heart:l.heart,bookmark:l.bookmark,tags:l.tags})),groupProperties:o.groups.map(l=>({imageIds:l.images.map(d=>d.id),starId:l.star.id}))}).then(l=>{l||this.applicationService.errors.next(!0)}).finally(()=>{this.applicationService.changes.next(!1)})};i?(this.delay.stop(),a()):this.delay.restart(()=>a())}}createDataFile(i){return C(this,null,function*(){let r=yield this.createFile(i+".tagallery",["root"],"application/json");return sessionStorage.setItem("dataFileId",r.id),r})}getData(){return C(this,null,function*(){let i=sessionStorage.getItem("dataFileId");if(i){let r="https://www.googleapis.com/drive/v3/files/"+i;return yield br(this.http.get(r,{params:{alt:"media"},responseType:"json"})).catch(o=>o)}})}getBase64(i){return C(this,null,function*(){return new Promise(r=>{let o="https://www.googleapis.com/drive/v3/files/"+i;this.http.get(o,{params:{alt:"media"},responseType:"blob"}).subscribe(a=>{let l=new FileReader;l.onload=d=>r(d.target.result),l.readAsDataURL(a)})})})}};e.\u0275fac=function(r){return new(r||e)(re(Ml),re(Tn),re(Kt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Xhe(t,e){if(t&1){let n=ae();I(0,"span",6),R("click",function(){let o=k(n).$implicit,a=M(2);return F(a.onDataFileClick(o))}),j(1),S()}if(t&2){let n=e.$implicit;D(),me(n.name.substring(0,n.name.length-10))}}function Jhe(t,e){if(t&1){let n=ae();I(0,"span",6),R("click",function(){let o=k(n).$implicit,a=M(2);return F(a.onFolderClick(o))}),j(1),S()}if(t&2){let n=e.$implicit;D(),me(n.name)}}function Zhe(t,e){if(t&1&&(I(0,"div",4),z(1,Xhe,2,1,"span",5)(2,Jhe,2,1,"span",5),S()),t&2){let n=M();D(),P("ngForOf",n.dataFiles),D(),P("ngForOf",n.folders)}}var SG=(()=>{let e=class e{constructor(i,r,o){this.router=i,this.googleService=r,this.applicationService=o,this.applicationService.loading.next(!0)}ngOnInit(){this.googleService.getFolderMetadata().then(i=>{this.dataFiles=i.filter(o=>o.name.endsWith(".tagallery"));let r=this.dataFiles.map(o=>o.name.substring(0,o.name.indexOf(".tagallery")));this.folders=i.filter(o=>to.isFolder(o)&&!r.includes(o.name))}).finally(()=>{this.applicationService.loading.next(!1)})}onDataFileClick(i){this.applicationService.loading.next(!0),sessionStorage.setItem("dataFileId",i.id),this.router.navigate(["/gallery"])}onFolderClick(i){this.applicationService.loading.next(!0),this.googleService.createDataFile(i.name).then(r=>{sessionStorage.setItem("dataFileId",r.id),this.googleService.updateContent(r.id,{rootFolderId:i.id,heartsFilter:0,bookmarksFilter:0,groupSizeFilterMin:0,groupSizeFilterMax:999,tagGroups:[],imageProperties:[],groupProperties:[]}).then(()=>{this.router.navigate(["/gallery"])})})}};e.\u0275fac=function(r){return new(r||e)(N(pi),N(dr),N(Tn))},e.\u0275cmp=he({type:e,selectors:[["app-folder-picker"]],standalone:!0,features:[be],decls:4,vars:4,consts:[[1,"container"],["class","folders-container",4,"ngIf"],[1,"buttons-container"],["tp","Toggle Low Bandwidth Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"folders-container"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(r,o){r&1&&(I(0,"div",0),z(1,Zhe,3,2,"div",1),I(2,"div",2)(3,"i",3),R("click",function(){return o.applicationService.reduceBandwidth=!o.applicationService.reduceBandwidth}),S()()()),r&2&&(et("opacity-1",!o.applicationService.loading.value),D(),P("ngIf",!0),D(2),P("ngClass",o.applicationService.reduceBandwidth?"fa-signal":"fa-wifi"))},dependencies:[Ee,cr,Dt,At],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--color-text);gap:.334rem;opacity:0;transition-property:opacity;transition-duration:.5s}.folders-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-text);border-radius:.334rem;width:300px}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.334rem;border-bottom:1px solid var(--color-text);cursor:pointer;-webkit-user-select:none;user-select:none}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{border:0}.buttons-container[_ngcontent-%COMP%]{display:flex}"]});let t=e;return t})();function efe(t,e){if(t&1){let n=ae();I(0,"i",13),R("click",function(r){k(n);let o=M(2).$implicit,a=M(3);return F(a.onStarClick(r,o))}),S()}if(t&2){let n=M(2).$implicit;P("ngClass",n==n.group.star?"fa-solid active no-hover":"fa-regular")}}function tfe(t,e){if(t&1){let n=ae();gt(0),I(1,"i",11),R("click",function(r){k(n);let o=M().$implicit,a=M(3);return F(a.onGroupToggleClick(r,o))}),S(),z(2,efe,1,1,"i",12),vt()}if(t&2){let n=M().$implicit;D(),P("ngClass",n.group.open?"fa-square-minus":"fa-square-plus")("tp",n.group.open?"Collapse Group":"Expand Group"),D(),P("ngIf",n.group.open)}}function nfe(t,e){if(t&1){let n=ae();I(0,"div",5),R("click",function(){let o=k(n).$implicit,a=M(3);return F(a.onImageClick(o))}),I(1,"img",6,7),R("onCreate",function(r){let a=k(n).$implicit,l=M(3);return F(l.onBrickCreate(r,a))})("load",function(){k(n);let r=K0(2);return F(r.style.opacity="1")}),S(),I(3,"div",8)(4,"i",9),R("click",function(r){let a=k(n).$implicit,l=M(3);return F(l.onHeartClick(r,a))}),S(),I(5,"i",10),R("click",function(r){let a=k(n).$implicit,l=M(3);return F(l.onBookmarkClick(r,a))}),S(),z(6,tfe,3,3,"ng-container",0),S()()}if(t&2){let n=e.$implicit;z0("width: "+n.width+"px; top: "+n.top+"px; left: "+n.left+"px; "),P("@leave",void 0),D(),Ur("aspect-ratio",n.aspectRatio),P("src",n.thumbnailLink,Pi),D(3),P("ngClass",n.heart?"fa-solid active":"fa-regular"),D(),P("ngClass",n.bookmark?"fa-solid active":"fa-regular"),D(),P("ngIf",n.hasGroup())}}function ife(t,e){if(t&1){let n=ae();I(0,"div",3),R("onCreate",function(r){k(n);let o=M(2);return F(o.onMasonryElementCreate(r))}),z(1,nfe,7,9,"div",4),S()}if(t&2){let n=M(2);D(),P("ngForOf",n.stateService.filter())}}function rfe(t,e){if(t&1&&(gt(0),I(1,"div",1),z(2,ife,2,1,"div",2),S(),vt()),t&2){let n=M();D(2),P("ngIf",n.stateService.filter)}}var TG=(()=>{let e=class e{constructor(i,r,o){this.googleService=i,this.applicationService=r,this.stateService=o,this.bricks={},sc(()=>this.scrollToTarget()),sc(()=>this.updateLayout())}scrollToTarget(){let i=this.stateService.target();if(i){let r=i.hasGroup()?this.stateService.getGroupRepresent(i):i,o=this.bricks[r?.id];if(o&&!nn.isElementVisible(o)){let a=document.getElementsByClassName("masonry-scroll-container")[0],l=r.top-(a.clientHeight-o.height)/2;a.scrollTo({top:l,behavior:"smooth"})}}}updateLayout(){if(this.masonryContainer){let i=this.stateService.filter();if(i.length==0)return;let r=nn.isLargeScreen()?200:150,o=6,a=this.masonryContainer.clientWidth,l=Math.floor(a/r),d=(a-o*(l-1))/l,h=[],m=[];for(let v=0;v<l;v++)h[v]=0,m[v]=v*(d+o);for(let v of i)v.width!=d&&(v.width=d,v.height=d/v.aspectRatio);for(let v of i)if(v.hasGroup()&&v.group.open){if(v==v.group.images[0]){let y=[this.getShortestColumnIndex(h)],b=[];for(let w=0;w<l;w++)b.push({top:0,bottom:0});for(let w of v.getGroupImages()){let E=[...y],T=Math.min(...y);if(T>0){let $=h[T-1]+w.height*.5;$>b[T].top&&$<b[T].bottom&&E.push(T-1)}let O=Math.max(...y);if(O<l-1){let $=h[O+1]+w.height*.5;$>b[O].top&&$<b[O].bottom&&E.push(O+1)}let L=this.getShortestColumnIndex(h.map(($,A)=>E.includes(A)?$:999999999));se.push(y,L),w.top=h[L],w.left=m[L],h[L]+=w.height+o,b[L].top==0?(b[L].top=w.top,b[L].bottom=w.top+w.height):b[L].bottom+=o+w.height}}}else{let y=this.getShortestColumnIndex(h);v.left=m[y],v.top=h[y],h[y]=h[y]+v.height+o}}}getShortestColumnIndex(i){return i.indexOf(Math.min(...i))}onImageClick(i){nn.isLargeScreen()&&i==this.stateService.target()&&this.stateService.fullscreenVisible.set(!0),this.stateService.target.set(i),this.stateService.sidebarVisible=!0}onHeartClick(i,r){nn.isLargeScreen()&&(i.stopPropagation(),this.stateService.toggleHeart(r))}onBookmarkClick(i,r){nn.isLargeScreen()&&(i.stopPropagation(),this.stateService.toggleBookmark(r))}onGroupToggleClick(i,r){nn.isLargeScreen()&&(i.stopPropagation(),r.group.open=!r.group.open,this.stateService.refreshFilter())}onStarClick(i,r){nn.isLargeScreen()&&(i.stopPropagation(),r.hasGroup()&&r.group.star!=r&&(r.group.star=r,this.googleService.updateData()))}onBrickCreate(i,r){this.bricks[r.id]=i.nativeElement}onMasonryElementCreate(i){this.masonryContainer=i.nativeElement,this.updateLayout()}onResize(){this.updateLayout()}};e.\u0275fac=function(r){return new(r||e)(N(dr),N(Tn),N(Vi))},e.\u0275cmp=he({type:e,selectors:[["app-masonry"]],hostBindings:function(r,o){r&1&&R("resize",function(){return o.onResize()},!1,yn)},standalone:!0,features:[be],decls:1,vars:1,consts:[[4,"ngIf"],[1,"masonry-scroll-container"],["class","masonry-container",3,"onCreate",4,"ngIf"],[1,"masonry-container",3,"onCreate"],["class","masonry-brick",3,"style","click",4,"ngFor","ngForOf"],[1,"masonry-brick",3,"click"],[3,"src","onCreate","load"],["imageElement",""],[1,"brick-header"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],[1,"icon-button","fa-solid",3,"ngClass","tp","click"],["class","icon-button fa-star","tp","Star",3,"ngClass","click",4,"ngIf"],["tp","Star",1,"icon-button","fa-star",3,"ngClass","click"]],template:function(r,o){r&1&&z(0,rfe,3,1,"ng-container",0),r&2&&P("ngIf",!o.applicationService.reduceBandwidth)},dependencies:[Ee,cr,Dt,At,Lc,tE],styles:["[_nghost-%COMP%]{height:100%;display:flex}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:scroll;background-color:var(--color-background-primary);width:100%;padding:.334rem}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{border-right:1px solid var(--color-border)}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%] > .masonry-brick[_ngcontent-%COMP%]{position:absolute;transition:.5s;display:flex}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%] > .masonry-brick[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%;border-radius:.334rem;opacity:0;transition-property:opacity;transition-duration:.5s}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%] > .masonry-brick[_ngcontent-%COMP%]:hover   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:1;pointer-events:all}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%] > .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;display:flex;flex-direction:column;align-items:flex-end;padding:.334rem;box-sizing:border-box}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%] > .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:0;pointer-events:none}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%] > .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.no-hover[_ngcontent-%COMP%]{cursor:default!important;border-color:transparent!important;background-color:transparent!important}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%] > .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%]{opacity:1;pointer-events:all}"],data:{animation:[uH]}});let t=e;return t})();var vE=class{constructor(){this.images=[]}};var yE=class{};var _E=class extends yE{hasGroup(){return this.group?.images.length>1}getGroupImages(){return this.group?.images}};function ofe(t,e){if(t&1&&oe(0,"iframe",17),t&2){let n=M().$implicit;z0("max-width:"+n.videoMediaMetadata.width+"px;max-height:"+n.videoMediaMetadata.height+"px;"),P("src",n.contentLink,l1)}}function sfe(t,e){if(t&1){let n=ae();I(0,"img",19),R("load",function(){k(n);let r=M(4);return F(r.loadingC=!1)}),S()}if(t&2){let n=M(2).$implicit;P("src",n.contentLink,Pi)}}function afe(t,e){if(t&1){let n=ae();gt(0),I(1,"img",18),R("click",function(){k(n);let r=M().$implicit,o=M(2);return F(o.onImageClick(r))}),S(),I(2,"img",19),R("load",function(){k(n);let r=M(3);return F(r.loadingT=!1)}),S(),z(3,sfe,1,1,"img",20),vt()}if(t&2){let n=M().$implicit,i=M(2);D(),P("src",i.getSrc(n),Pi),D(),P("src",n.thumbnailLink,Pi),D(),P("ngIf",n.contentLink)}}function cfe(t,e){if(t&1&&(I(0,"div",14),z(1,ofe,1,3,"iframe",15)(2,afe,4,3,"ng-container",16),S()),t&2){let n=M(2);P("@fade",void 0),D(),P("ngIf",n.video),D(),P("ngIf",!n.video)}}function lfe(t,e){if(t&1){let n=ae();I(0,"div",1)(1,"div",2),oe(2,"div"),I(3,"div")(4,"i",3),R("click",function(){k(n);let r=M();return F(r.stateService.fullscreenVisible.set(!1))}),S(),I(5,"i",4),R("click",function(){let o=k(n).ngVar,a=M();return F(a.stateService.toggleHeart(o))}),S(),I(6,"i",5),R("click",function(){let o=k(n).ngVar,a=M();return F(a.stateService.toggleBookmark(o))}),S()()(),I(7,"div",6),oe(8,"div",7),I(9,"div",8)(10,"i",9),R("click",function(){k(n);let r=M();return F(r.stateService.setRandomGroupTarget())}),S(),I(11,"i",10),R("click",function(){k(n);let r=M();return F(r.stateService.setRandomTarget())}),S()(),I(12,"div",11)(13,"i",12),R("click",function(){k(n);let r=M();return F(r.stateService.moveTargetToTrash())}),S()()(),z(14,cfe,3,3,"div",13),S()}if(t&2){let n=e.ngVar,i=M();et("transparent",!i.stateService.fullscreenVisible()),D(5),P("ngClass",n!=null&&n.heart?"fa-solid":"fa-regular"),D(),P("ngClass",n!=null&&n.bookmark?"fa-solid":"fa-regular"),D(4),et("disabled",!(n!=null&&n.hasGroup())),D(4),P("ngForOf",i.crossfadeHelper)}}var DG=(()=>{let e=class e{constructor(i,r){this.applicationService=i,this.stateService=r,this.crossfadeHelper=[],this.loadingT=!0,this.loadingC=!0,this.video=!1,sc(()=>{this.stateService.fullscreenVisible()?this.update(this.stateService.target()):this.crossfadeHelper.length=0})}update(i){this.crossfadeHelper[0]!=i&&(this.crossfadeHelper[0]=i,to.isVideo(i)?this.video=!0:(this.video=!1,this.loadingT=!0,this.loadingC=!0))}getSrc(i){if(!this.loadingC)return i.contentLink;if(!this.loadingT)return i.thumbnailLink}onImageClick(i){this.applicationService.reduceBandwidth&&(i.thumbnailLink=i.thumbnailLink.replace("=s220","=s440"))}snapshot(){let i=document.getElementById("video-element");if(i){let r=document.createElement("canvas");r.width=i.videoWidth,r.height=i.videoHeight,r.getContext("2d").drawImage(i,0,0),window.open("about:blank","Video Snapshot").document.write("<img src='"+r.toDataURL("image/png")+"' alt='from canvas'/>")}}};e.\u0275fac=function(r){return new(r||e)(N(Tn),N(Vi))},e.\u0275cmp=he({type:e,selectors:[["app-fullscreen"]],standalone:!0,features:[be],decls:1,vars:1,consts:[["class","fullscreen-container",3,"transparent",4,"ngVar"],[1,"fullscreen-container"],[1,"fullscreen-header"],[1,"icon-button","fa-solid","fa-xmark",3,"click"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],[1,"fullscreen-footer","desktop-hidden"],[2,"justify-content","start"],[2,"justify-content","center"],[1,"icon-button","fa-solid","fa-arrows-spin",3,"click"],[1,"icon-button","fa-solid","fa-shuffle",3,"click"],[2,"justify-content","end"],["tp","Trash",1,"icon-button","fa-solid","fa-trash",3,"click"],["class","fullscreen-crossfade",4,"ngFor","ngForOf"],[1,"fullscreen-crossfade"],["class","fullscreen-content","frameborder","0","allowfullscreen","",3,"src","style",4,"ngIf"],[4,"ngIf"],["frameborder","0","allowfullscreen","",1,"fullscreen-content",3,"src"],[1,"fullscreen-content",3,"src","click"],[2,"display","none",3,"src","load"],["style","display: none;",3,"src","load",4,"ngIf"]],template:function(r,o){r&1&&z(0,lfe,15,7,"div",0),r&2&&P("ngVar",o.stateService.target())},dependencies:[Ee,cr,Dt,At,Vc],styles:['.fullscreen-container[_ngcontent-%COMP%]{width:100%;height:100%;top:0;left:0;position:absolute;background-color:#000000e6;overflow:hidden;z-index:20;transition:.5s}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-header[_ngcontent-%COMP%]{padding:.334rem;position:absolute;right:0;display:flex;justify-content:space-between;top:0;left:0;pointer-events:none;z-index:30}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-header[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:all}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]{padding:.334rem;position:absolute;right:0;display:flex;justify-content:space-between;bottom:0;left:0;pointer-events:none;z-index:30}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:all;display:flex;flex:1}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]{width:100%;height:100%;padding:.334rem;display:flex;align-items:center;justify-content:center;position:absolute;box-sizing:border-box}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]{width:100%;height:100%;outline:none;object-fit:contain;transition-property:opacity;transition-duration:.5s}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]   .fullscreen-content[src=""][_ngcontent-%COMP%]{opacity:0}'],data:{animation:[kc]}});let t=e;return t})();function ufe(t,e){if(t&1){let n=ae();I(0,"i",4),R("mousedown",function(r){k(n);let o=M();return F(o.onMouseDown(r))})("click",function(r){k(n);let o=M();return F(o.nextState(r))})("contextmenu",function(r){k(n);let o=M();return F(o.previousState(r))}),S()}if(t&2){let n=M();P("ngClass",n.tri?"fa-circle-xmark":"fa-circle")}}function dfe(t,e){if(t&1){let n=ae();I(0,"i",5),R("mousedown",function(r){k(n);let o=M();return F(o.onMouseDown(r))})("click",function(r){k(n);let o=M();return F(o.nextState(r))})("contextmenu",function(r){k(n);let o=M();return F(o.previousState(r))}),S()}}function hfe(t,e){if(t&1){let n=ae();I(0,"i",6),R("mousedown",function(r){k(n);let o=M();return F(o.onMouseDown(r))})("click",function(r){k(n);let o=M();return F(o.nextState(r))})("contextmenu",function(r){k(n);let o=M();return F(o.previousState(r))}),S()}}var AG=(()=>{let e=class e{constructor(){this.tri=!1,this.stateChange=new $t}onMouseDown(i){this.clickX=i.pageX,this.clickY=i.pageY}nextState(i){if(Math.abs(i.pageX-this.clickX)<nn.MOUSE_MOVEMENT_TOLERANCE&&Math.abs(i.pageY-this.clickY)<nn.MOUSE_MOVEMENT_TOLERANCE){switch(this.state){case-1:this.state=this.tri?0:1,i.state=this.tri?0:1;break;case 0:this.state=1,i.state=1;break;case 1:this.state=-1,i.state=-1;break}this.stateChange.emit(i)}}previousState(i){if(Math.abs(i.pageX-this.clickX)<nn.MOUSE_MOVEMENT_TOLERANCE&&Math.abs(i.pageY-this.clickY)<nn.MOUSE_MOVEMENT_TOLERANCE){switch(i.preventDefault(),this.state){case-1:this.state=1,i.state=1;break;case 0:this.state=-1,i.state=-1;break;case 1:this.state=this.tri?0:-1,i.state=this.tri?0:-1;break}this.stateChange.emit(i)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=he({type:e,selectors:[["app-switch"]],inputs:{tri:"tri",state:"state"},outputs:{stateChange:"stateChange"},standalone:!0,features:[be],decls:4,vars:5,consts:[[1,"container"],["class","negative fa-regular",3,"ngClass","mousedown","click","contextmenu",4,"ngIf"],["class","neutral fa-regular fa-circle",3,"mousedown","click","contextmenu",4,"ngIf"],["class","positive fa-regular fa-circle-check",3,"mousedown","click","contextmenu",4,"ngIf"],[1,"negative","fa-regular",3,"ngClass","mousedown","click","contextmenu"],[1,"neutral","fa-regular","fa-circle",3,"mousedown","click","contextmenu"],[1,"positive","fa-regular","fa-circle-check",3,"mousedown","click","contextmenu"]],template:function(r,o){r&1&&(I(0,"div",0),z(1,ufe,1,1,"i",1)(2,dfe,1,0,"i",2)(3,hfe,1,0,"i",3),S()),r&2&&(et("tri",o.tri),D(),P("ngIf",o.state==-1),D(),P("ngIf",o.state==0),D(),P("ngIf",o.state==1))},dependencies:[Ee,cr,At],styles:[".container[_ngcontent-%COMP%]{cursor:pointer;margin-left:1px}.container.tri[_ngcontent-%COMP%] > .negative[_ngcontent-%COMP%]{color:#b22222}.container[_ngcontent-%COMP%] > .positive[_ngcontent-%COMP%]{color:#228b22}"]});let t=e;return t})();var wE=(()=>{let e=class e extends Qt{constructor(i,r,o){super(),this.dialogService=i,this.googleService=r,this.stateService=o,this.configuration={title:"Tag Group Editor",buttons:[{text:()=>this.group.name.length>0?"Save":"Create",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Delete",hidden:()=>!this.canDelete,click:()=>this.deleteGroup()}]}}ngOnInit(){this.group||(this.group={name:"",state:0,tags:[]}),this.groupName=this.group.name,this.canDelete=this.stateService.tagGroups.includes(this.group)}deleteGroup(){this.canDelete&&this.dialogService.createConfirmation("Delete Group",['Do you really want to delete tag group "'+this.group.name+'"?'],"Yes","No").then(i=>{if(i){let r=this.group.tags.map(o=>o.id);for(let o of this.stateService.images)se.remove(o.tags,r);this.googleService.updateData(),this.resolve(null)}})}canSubmit(){return xt.isEmpty(this.groupName)?!1:this.groupName==this.group.name?!0:this.stateService.tagGroups.find(i=>this.groupName==i.name)==null}submit(){this.canSubmit()&&(this.group.name=this.groupName,this.stateService.tagGroups.includes(this.group)||this.stateService.tagGroups.push(this.group),this.stateService.tagGroups.sort((i,r)=>i.name.localeCompare(r.name)),this.googleService.updateData(),this.resolve(this.group))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(N(Wn),N(dr),N(Vi))},e.\u0275cmp=he({type:e,selectors:[["app-gallery-tag-group-editor"]],hostBindings:function(r,o){r&1&&R("keydown.enter",function(l){return o.submit(l)},!1,yn)},inputs:{group:"group"},standalone:!0,features:[St,be],decls:3,vars:1,consts:[[1,"element-label"],[1,"element",3,"ngModel","ngModelChange"]],template:function(r,o){r&1&&(I(0,"span",0),j(1,"Group Name"),S(),I(2,"input",1),Le("ngModelChange",function(l){return je(o.groupName,l)||(o.groupName=l),l}),S()),r&2&&(D(2),Fe("ngModel",o.groupName))},dependencies:[Ee,Ct,Ut,Xt,zt],styles:["[_nghost-%COMP%]{flex:1;display:flex;align-items:center;row-gap:.334rem;column-gap:.334rem;padding:1.002rem;border-radius:.334rem;border:1px solid var(--color-border)}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{flex:1;height:30px;box-sizing:border-box}"]});let t=e;return t})();function ffe(t,e){if(t&1&&(I(0,"option",7),j(1),S()),t&2){let n=e.$implicit;P("ngValue",n),D(),me(n.name)}}var xG=(()=>{let e=class e extends Qt{constructor(i,r,o){super(),this.googleService=i,this.dialogService=r,this.stateService=o,this.configuration={title:"Tag Editor",buttons:[{text:()=>this.group.name.length>0?"Save":"Create",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Delete",hidden:()=>!this.canDelete,click:()=>this.deleteTag()}]}}ngOnInit(){this.group?this.currentGroup=this.group:this.group={name:"",state:0,tags:[]},this.tag||(this.tag={id:Yv(),name:"",state:0}),this.tagName=this.tag.name,this.canDelete=this.group.tags.includes(this.tag)}editGroup(i){this.dialogService.create(wE,{group:i}).then(r=>{r?this.currentGroup.name=r.name:i&&!this.stateService.tagGroups.includes(i)&&this.resolve(null)})}deleteTag(){this.canDelete&&this.dialogService.createConfirmation("Delete Tag",['Do you really want to delete tag "'+this.tag.name+'"?'],"Yes","No").then(i=>{if(i){for(let r of this.stateService.images)se.remove(r.tags,this.tag.id);for(let r of this.stateService.tagGroups)se.remove(r.tags,this.tag);this.googleService.updateData(),this.resolve(null)}})}canSubmit(){return xt.isEmpty(this.tagName)?!1:this.tagName==this.tag.name?!0:this.currentGroup?.tags.find(i=>this.tagName==i.name)==null}submit(){this.canSubmit()&&(this.tag.name=this.tagName,this.currentGroup!=this.group&&se.remove(this.group.tags,this.tag),this.currentGroup.tags.includes(this.tag)||(this.currentGroup.tags.push(this.tag),this.stateService.tagCounts[this.tag.id]=this.stateService.images.filter(i=>i.tags.includes(this.tag.id)).length),this.currentGroup.tags.sort((i,r)=>i.name.localeCompare(r.name)),this.googleService.updateData(),this.resolve(this.tag))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(N(dr),N(Wn),N(Vi))},e.\u0275cmp=he({type:e,selectors:[["app-gallery-tag-editor"]],hostBindings:function(r,o){r&1&&R("keydown.enter",function(l){return o.submit(l)},!1,yn)},inputs:{group:"group",tag:"tag"},standalone:!0,features:[St,be],decls:12,vars:5,consts:[[1,"element-label"],[1,"element-container"],[1,"element",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"flex"],["tp","Edit Group",1,"icon-button","fa-solid","fa-edit",3,"click"],["tp","Create Group",1,"icon-button","fa-solid","fa-plus",3,"click"],[3,"ngValue"]],template:function(r,o){r&1&&(I(0,"span",0),j(1,"Group"),S(),I(2,"div",1)(3,"select",2),Le("ngModelChange",function(l){return je(o.currentGroup,l)||(o.currentGroup=l),l}),z(4,ffe,2,2,"option",3),S(),I(5,"div",4)(6,"i",5),R("click",function(){return o.editGroup(o.currentGroup)}),S(),I(7,"i",6),R("click",function(){return o.editGroup()}),S()()(),I(8,"span",0),j(9,"Name"),S(),I(10,"div",1)(11,"input",2),Le("ngModelChange",function(l){return je(o.tagName,l)||(o.tagName=l),l}),S()()),r&2&&(D(3),Fe("ngModel",o.currentGroup),D(),P("ngForOf",o.stateService.tagGroups),D(2),et("disabled",!o.currentGroup),D(5),Fe("ngModel",o.tagName))},dependencies:[Ee,Dt,Ct,Ms,Ps,Ut,Zr,Xt,zt],styles:["[_nghost-%COMP%]{display:grid;align-content:center;grid-template-columns:auto 1fr;grid-auto-rows:min-content;row-gap:.334rem;column-gap:.334rem;padding:1.002rem;border-radius:.334rem;border:1px solid var(--color-border)}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .element-container[_ngcontent-%COMP%]{height:30px;display:flex;gap:.334rem}[_nghost-%COMP%]   .element-container[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{flex:1;height:30px;box-sizing:border-box}"]});let t=e;return t})();var MG=(()=>{let e=class e extends Qt{constructor(i){super(),this.stateService=i,this.configuration={title:"Group Size Filter Editor",buttons:[{text:()=>"Submit",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Close",click:()=>this.close()}]}}ngOnInit(){this.min=this.stateService.groupSizeFilterMin,this.max=this.stateService.groupSizeFilterMax}canSubmit(){return this.min!=null&&this.max!=null&&this.min<=this.max}submit(){this.canSubmit()&&(this.stateService.groupSizeFilterMin=this.min,this.stateService.groupSizeFilterMax=this.max,this.resolve(!0))}close(){this.resolve(!1)}};e.\u0275fac=function(r){return new(r||e)(N(Vi))},e.\u0275cmp=he({type:e,selectors:[["app-group-size-filter-editor"]],hostBindings:function(r,o){r&1&&R("keydown.enter",function(l){return o.submit(l)},!1,yn)},standalone:!0,features:[St,be],decls:6,vars:2,consts:[[1,"element-label"],["min","2","max","999",1,"element",3,"ngModel","ngModelChange"]],template:function(r,o){r&1&&(I(0,"span",0),j(1,"Min Group Size"),S(),I(2,"input",1),Le("ngModelChange",function(l){return je(o.min,l)||(o.min=l),l}),S(),I(3,"span",0),j(4,"Max Group Size"),S(),I(5,"input",1),Le("ngModelChange",function(l){return je(o.max,l)||(o.max=l),l}),S()),r&2&&(D(2),Fe("ngModel",o.min),D(3),Fe("ngModel",o.max))},dependencies:[Ee,Ct,Ut,Xt,zt],styles:["[_nghost-%COMP%]{flex:1;display:grid;align-content:center;grid-template-columns:auto 1fr;grid-auto-rows:min-content;row-gap:.334rem;column-gap:.334rem;padding:1.002rem;border-radius:.334rem;border:1px solid var(--color-border)}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{flex:1;height:30px;box-sizing:border-box}"]});let t=e;return t})();var Df=class{constructor(e,n,i={}){this.queue=[],this.waitingForOpponent=null,this.previousWinner=null,this.outcome=[],this.comparisonCount=0,this.data=e.slice(),this.getKey=n,this.directlyBetterThan=i;let r;this.data.forEach(o=>{r=this.getKey(o),this.directlyBetterThan[r]||(this.directlyBetterThan[r]=[])}),this.createQueue(this.data),this.nextComparison()}createQueue(e){this.queue.length=0;let n,i,r=se.shuffle(e.slice());for(;r.length>0;)n=r.shift(),i=r.shift(),i?this.queue.push([n,i]):this.waitingForOpponent=n}nextComparison(){let e=this.queue.shift();if(!e){this.resolveTies(this.waitingForOpponent);return}let n=null;this.getBetterThan(e[0]).includes(e[1])?n=e[0]:this.getBetterThan(e[1]).includes(e[0])&&(n=e[1]),n?(this.waitingForOpponent?(this.queue.push([this.waitingForOpponent,n]),this.waitingForOpponent=null):this.waitingForOpponent=n,this.nextComparison()):this.comparison=e}resolveTies(e){if(this.waitingForOpponent=null,e){this.outcome.push(e),this.previousWinner&&(this.directlyBetterThan[this.getKey(this.previousWinner)]=[e],this.previousWinner=null);let n=this.directlyBetterThan[this.getKey(e)].length;n>1?(this.previousWinner=e,this.createQueue(this.directlyBetterThan[this.getKey(e)]),this.nextComparison()):n==1?this.resolveTies(this.directlyBetterThan[this.getKey(e)][0]):n==0&&(this.comparison=null)}}addComparisonResult(e,n){this.comparisonCount++,this.waitingForOpponent?(this.queue.push([this.waitingForOpponent,e]),this.waitingForOpponent=null):this.waitingForOpponent=e,this.directlyBetterThan[this.getKey(e)].push(n),this.nextComparison()}getBetterThan(e,n=[]){for(let i of this.directlyBetterThan[this.getKey(e)])n.includes(i)||(n.push(i),this.getBetterThan(i,n));return n}reset(){this.outcome.length=0,this.comparisonCount=0;for(let e of Object.keys(this.directlyBetterThan))this.directlyBetterThan[e].length=0;this.createQueue(this.data),this.nextComparison()}};function pfe(t,e){if(t&1){let n=ae();I(0,"div",4)(1,"div",5),R("click",function(){k(n);let r=M();return F(r.onImageClick(r.tournament.comparison[0],r.tournament.comparison[1]))}),oe(2,"img",6),S(),oe(3,"div",7),I(4,"div",5),R("click",function(){k(n);let r=M();return F(r.onImageClick(r.tournament.comparison[1],r.tournament.comparison[0]))}),oe(5,"img",6),S()()}if(t&2){let n=M();D(2),P("src",n.tournament.comparison[0].thumbnailLink,Pi),D(3),P("src",n.tournament.comparison[1].thumbnailLink,Pi)}}function mfe(t,e){if(t&1&&(I(0,"div",8),oe(1,"img",6),S()),t&2){let n=e.$implicit;D(),P("src",n.thumbnailLink,Pi)}}var PG=(()=>{let e=class e extends Qt{constructor(){super(...arguments),this.configuration={title:"Image Comparison",buttons:[{text:()=>"Reset",click:()=>this.reset()},{text:()=>"Close",click:()=>this.close()}]}}ngOnInit(){this.tournament=new Df(this.images,i=>i.id)}onImageClick(i,r){this.tournament.addComparisonResult(i,r)}reset(){this.tournament.reset()}close(){this.resolve(!1)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ar(e)))(o||e)}})(),e.\u0275cmp=he({type:e,selectors:[["app-image-comparison"]],inputs:{images:"images"},features:[St],decls:4,vars:2,consts:[["class","comparison",4,"ngIf"],[1,"h-separator"],[1,"results"],["class","image-container",4,"ngFor","ngForOf"],[1,"comparison"],[1,"image-container",3,"click"],[1,"image",3,"src"],[1,"v-separator"],[1,"image-container"]],template:function(r,o){r&1&&(z(0,pfe,6,2,"div",0),oe(1,"div",1),I(2,"div",2),z(3,mfe,2,1,"div",3),S()),r&2&&(P("ngIf",o.tournament.comparison),D(3),P("ngForOf",o.tournament.outcome))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;overflow-x:hidden}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{display:flex;overflow:hidden}@media screen and (max-width: 768px){[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{aspect-ratio:2}}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:1;padding:.334rem;display:flex;align-items:center;justify-content:center;cursor:pointer}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]:hover{background-color:var(--color-border)}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain;border-radius:.334rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{height:200px;min-height:200px;overflow:auto;display:flex;flex-wrap:wrap;justify-content:center;gap:.334rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{width:calc(300px + .668rem);padding:.334rem}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{width:calc(700px + 2.55844rem);padding:.334rem 0 .334rem .55444rem}}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:100px;height:100px;display:flex;position:relative;justify-content:center;align-items:center}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:.334rem}"]});let t=e;return t})();function gfe(t,e){if(t&1){let n=ae();I(0,"img",42),R("onCreate",function(r){let a=k(n).$implicit,l=M(2);return F(l.onGroupPreviewCreate(r,a))})("load",function(){let o=k(n).$implicit,a=M(2);return F(a.onGroupPreviewLoad(o))})("click",function(r){let a=k(n).$implicit,l=M(2);return F(l.onGroupPreviewClick(r,a))})("dblclick",function(r){let a=k(n).$implicit,l=M(2);return F(l.onGroupPreviewDoubleClick(r,a))}),S()}if(t&2){let n=e.$implicit;Ur("aspect-ratio",n.aspectRatio),P("src",n.thumbnailLink,Pi)("draggable",!1)}}function vfe(t,e){if(t&1){let n=ae();I(0,"i",43),R("click",function(){k(n);let r=M(2);return F(r.stateService.sidebarVisible=!1)}),S()}}function yfe(t,e){if(t&1){let n=ae();I(0,"div",35)(1,"app-switch",36),R("stateChange",function(r){let a=k(n).$implicit,l=M(3);return F(l.onFilterStateChange(a,r))}),S(),I(2,"span",49),R("click",function(r){let a=k(n).$implicit,l=M().$implicit,d=M(2);return F(d.openTagEditor(r,l,a))}),j(3),S(),I(4,"app-switch",39),R("stateChange",function(){let o=k(n).$implicit,a=M(2).ngVar,l=M();return F(l.stateService.toggleTag(a,o.id))}),S()()}if(t&2){let n=e.$implicit,i=M(2).ngVar,r=M();D(),P("tri",!0)("state",n.state),D(2),me(n.name+" ("+(r.stateService.tagCounts[n.id]||0)+")"),D(),P("state",i!=null&&i.tags.includes(n.id)?1:-1)}}function _fe(t,e){if(t&1){let n=ae();I(0,"div",44),oe(1,"div",45),I(2,"div",35)(3,"app-switch",36),R("stateChange",function(r){let a=k(n).$implicit,l=M(2);return F(l.onFilterStateChange(a,r))}),S(),I(4,"span",46),R("click",function(r){let a=k(n).$implicit,l=M(2);return F(l.openGroupEditor(r,a))}),j(5),S(),oe(6,"app-switch",47),S(),z(7,yfe,5,4,"div",48),S()}if(t&2){let n=e.$implicit;D(3),P("tri",!0)("state",n.state),D(2),me(n.name),D(),P("state",0),D(),P("ngForOf",n.tags)}}function wfe(t,e){if(t&1){let n=ae();I(0,"div",2)(1,"div",3)(2,"div",4)(3,"img",5),R("click",function(){k(n);let r=M();return F(r.onPreviewClick())}),S()(),I(4,"div",6)(5,"div",7)(6,"div",8),z(7,gfe,1,4,"img",9),S()()(),I(8,"div",10)(9,"i",11),R("click",function(r){k(n);let o=M();return F(o.openYandexReverseImageSearch(r))}),S(),I(10,"i",12),R("click",function(){k(n);let r=M();return F(r.startImageComparison())}),S(),I(11,"i",13),R("click",function(){k(n);let r=M();return F(r.applicationService.toggleTheme())}),S()(),I(12,"div",14),z(13,vfe,1,0,"i",15),I(14,"i",16),R("click",function(){let o=k(n).ngVar,a=M();return F(a.stateService.toggleHeart(o))}),S(),I(15,"i",17),R("click",function(){let o=k(n).ngVar,a=M();return F(a.stateService.toggleBookmark(o))}),S()(),oe(16,"div",18),I(17,"div",19)(18,"i",20),R("click",function(){k(n);let r=M();return F(r.copyTargetBase64())}),S(),I(19,"i",21),R("click",function(){k(n);let r=M();return F(r.openTargetInGoogleDrive())}),S(),I(20,"i",22),R("click",function(){k(n);let r=M();return F(r.stateService.moveTargetToTrash())}),S()()(),I(21,"div",23)(22,"div",24)(23,"div",25)(24,"i",26),R("click",function(){k(n);let r=M();return F(r.stateService.targetEntireGroup=!r.stateService.targetEntireGroup)}),S(),I(25,"i",27),R("click",function(){k(n);let r=M();return F(r.openGroupSizeFilterDialog())}),S()(),I(26,"div",28)(27,"i",29),R("click",function(){k(n);let r=M();return F(r.stateService.setRandomGroupTarget())}),S(),I(28,"i",30),R("click",function(){k(n);let r=M();return F(r.stateService.setRandomTarget())}),S()(),I(29,"div",31)(30,"i",32),R("click",function(){k(n);let r=M();return F(r.openTagEditor())}),S()()(),I(31,"div",33)(32,"div",34)(33,"div",35)(34,"app-switch",36),R("stateChange",function(r){k(n);let o=M();return F(o.onLikesStateChange(r))}),S(),I(35,"div"),oe(36,"i",37),I(37,"span",38),j(38),S()(),I(39,"app-switch",39),R("stateChange",function(){let o=k(n).ngVar,a=M();return F(a.stateService.toggleHeart(o))}),S()(),I(40,"div",35)(41,"app-switch",36),R("stateChange",function(r){k(n);let o=M();return F(o.onBookmarksStateChange(r))}),S(),I(42,"div"),oe(43,"i",40),I(44,"span",38),j(45),S()(),I(46,"app-switch",39),R("stateChange",function(){let o=k(n).ngVar,a=M();return F(a.stateService.toggleBookmark(o))}),S()(),z(47,_fe,8,5,"div",41),S()()()()}if(t&2){let n=e.ngVar,i=M();D(3),P("src",n==null?null:n.thumbnailLink,Pi),D(),et("display-none",!(n!=null&&n.hasGroup())),D(3),P("ngForOf",n==null?null:n.getGroupImages()),D(4),P("ngClass",i.applicationService.isDarkTheme()?"fa-moon":"fa-sun"),D(2),P("ngIf",!i.applicationService.reduceBandwidth),D(),P("ngClass",n!=null&&n.heart?"fa-solid":"fa-regular"),D(),P("ngClass",n!=null&&n.bookmark?"fa-solid":"fa-regular"),D(9),P("ngClass",i.stateService.targetEntireGroup?"fa-images":"fa-image"),D(3),et("disabled",!(n!=null&&n.hasGroup())),D(7),P("tri",!0)("state",i.stateService.heartsFilter),D(4),me(" ("+(i.stateService.tagCounts._heart||0)+")"),D(),P("state",n!=null&&n.heart?1:-1),D(2),P("tri",!0)("state",i.stateService.bookmarksFilter),D(4),me(" ("+(i.stateService.tagCounts._bookmark||0)+")"),D(),P("state",n!=null&&n.bookmark?1:-1),D(),P("ngForOf",i.stateService.tagGroups)}}var OG=(()=>{let e=class e{constructor(i,r,o,a,l){this.applicationService=i,this.stateService=r,this.googleService=o,this.dialogService=a,this.tippyService=l,this.groupPreviews={},this.sidebarGroupPreviewsLoaded=0;let d;sc(h=>{h(()=>d=m),this.sidebarGroupPreviewsLoaded=0;let m=this.stateService.target();m?.hasGroup()&&d&&m.getGroupImages().includes(d)&&this.moveTargetGroupPreviewIntoView(!0)})}ngAfterViewInit(){this.setupTagListMouseDragEvents(),this.setupGroupPreviewMouseDragEvents()}setupTagListMouseDragEvents(){if(nn.isLargeScreen()){let i,r,o=document.getElementsByClassName("taglist-scrollbar-container")[0];o.addEventListener("mousemove",a=>{if(r){a.preventDefault();let d=(a.pageY-o.offsetTop-this.tagListClickY)*2;o.scrollTop=i-d}}),window.addEventListener("mousedown",a=>{r=!0,i=o.scrollTop,this.tagListClickY=a.pageY-o.offsetTop}),window.addEventListener("mouseup",()=>{r=!1})}}setupGroupPreviewMouseDragEvents(){if(nn.isLargeScreen()){let i,r,o,a=document.getElementsByClassName("sidebar-preview-group-scroll-container")[0],l=()=>{a.classList.remove("hovering"),clearTimeout(i),i=null,this.moveTargetGroupPreviewIntoView(!0)};a.addEventListener("mouseenter",()=>{i||(i=setTimeout(()=>{a.classList.add("hovering")},250))}),a.addEventListener("mouseleave",()=>{o||l()});let d=h=>{h.preventDefault();let v=h.pageX+a.offsetLeft-this.groupPreviewClickX;a.scrollLeft=r-v};a.addEventListener("mousedown",h=>{o=!0,r=a.scrollLeft,this.groupPreviewContainerOffsetLeft=a.offsetLeft,this.groupPreviewClickX=h.pageX+a.offsetLeft,window.addEventListener("mousemove",d)}),window.addEventListener("mouseup",h=>{o=!1,window.removeEventListener("mousemove",d),document.elementsFromPoint(h.x,h.y).includes(a)||l()})}}onGroupPreviewCreate(i,r){this.groupPreviews[r.id]=i.nativeElement}onGroupPreviewLoad(i){this.sidebarGroupPreviewsLoaded++,this.sidebarGroupPreviewsLoaded==i.getGroupImages().length&&this.moveTargetGroupPreviewIntoView(!1)}moveTargetGroupPreviewIntoView(i){let r=this.stateService.target();if(r){let o=this.groupPreviews[r.id],a=document.getElementsByClassName("sidebar-preview-group-scroll-container")[0];if(o&&!a.classList.contains("hovering")&&!nn.isElementVisible(o,a)){let l=o.offsetLeft-(a.clientWidth-o.clientWidth)/2;a.scrollTo({left:l,behavior:i?"smooth":"auto"})}}}openYandexReverseImageSearch(i){let r="https://yandex.com/images/search?rpt=imageview&url="+encodeURIComponent(this.stateService.target().thumbnailLink.replace(new RegExp("=s..."),"=s9999"));i.altKey?(navigator.clipboard.writeText(r),this.tippyService.create(i.target,"URL copied to clipboard!",{trigger:"click",onShow(o){setTimeout(()=>{o.hide()},3e3)},onHidden(o){o.destroy()}}).show()):window.open(r,"_blank")}startImageComparison(){this.dialogService.create(PG,{images:this.stateService.filter()})}openTagEditor(i,r,o){(!i||!this.tagListClickY||Math.abs(i.pageY-this.tagListClickY-36)<nn.MOUSE_MOVEMENT_TOLERANCE)&&this.dialogService.create(xG,{group:r,tag:o})}openGroupEditor(i,r){(!i||!this.tagListClickY||Math.abs(i.pageY-this.tagListClickY-36)<nn.MOUSE_MOVEMENT_TOLERANCE)&&this.dialogService.create(wE,{group:r})}openGroupSizeFilterDialog(){this.dialogService.create(MG).then(i=>{i&&(this.stateService.refreshFilter(),this.googleService.updateData())})}openTargetInGoogleDrive(){this.googleService.openSearch(this.stateService.target().name)}onFilterStateChange(i,r){i.state=r.state,this.stateService.refreshFilter(),this.googleService.updateData()}onLikesStateChange(i){this.stateService.heartsFilter=i.state,this.stateService.refreshFilter(),this.googleService.updateData()}onBookmarksStateChange(i){this.stateService.bookmarksFilter=i.state,this.stateService.refreshFilter(),this.googleService.updateData()}onPreviewClick(){this.stateService.fullscreenVisible.set(!0)}onGroupPreviewClick(i,r){Math.abs(i.pageX+this.groupPreviewContainerOffsetLeft-this.groupPreviewClickX)<nn.MOUSE_MOVEMENT_TOLERANCE&&this.stateService.target.set(r)}onGroupPreviewDoubleClick(i,r){Math.abs(i.pageX+this.groupPreviewContainerOffsetLeft-this.groupPreviewClickX)<nn.MOUSE_MOVEMENT_TOLERANCE&&this.stateService.fullscreenVisible.set(!0)}copyTargetBase64(){this.googleService.getBase64(this.stateService.target().id).then(i=>navigator.clipboard.writeText(i))}};e.\u0275fac=function(r){return new(r||e)(N(Tn),N(Vi),N(dr),N(Wn),N(sH))},e.\u0275cmp=he({type:e,selectors:[["app-sidebar"]],standalone:!0,features:[be],decls:2,vars:3,consts:[[1,"sidebar-visibility-container"],["class","sidebar-content",4,"ngVar"],[1,"sidebar-content"],[1,"sidebar-half","sidebar-half-top"],[1,"sidebar-preview-container"],[1,"sidebar-preview",3,"src","click"],[1,"sidebar-preview-group-container"],[1,"sidebar-preview-group-scroll-container"],[1,"sidebar-preview-group-border-container"],["class","sidebar-preview-group-image",3,"aspect-ratio","src","draggable","onCreate","load","click","dblclick",4,"ngFor","ngForOf"],[1,"absolute","top","left"],["tp","Yandex Reverse Image Search",1,"icon-button","fa-solid","fa-y",3,"click"],["tp","Pairwise Comparison",1,"icon-button","fa-solid","fa-code-compare",3,"click"],["tp","Toggle Brightness Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"absolute","top","right"],["class","icon-button fa-solid fa-xmark desktop-hidden",3,"click",4,"ngIf"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],[1,"absolute","bottom","left"],[1,"absolute","bottom","right"],["tp","Copy base64 data",1,"icon-button","fa-solid","fa-cloud-arrow-down",3,"click"],["tp","Open in Google Drive",1,"icon-button","fa-solid","fa-folder-open",3,"click"],["tp","Trash",1,"icon-button","fa-solid","fa-trash",3,"click"],[1,"sidebar-half",2,"position","relative"],[1,"sidebar-filter-header"],[1,"flex",2,"justify-content","start"],["tp","Group Mode",1,"icon-button","fa-regular",3,"ngClass","click"],["tp","Group Size Filter Configuration",1,"icon-button","fa-solid","fa-hashtag",3,"click"],[1,"flex",2,"justify-content","center"],[1,"icon-button","fa-solid","fa-arrows-spin",3,"click"],[1,"icon-button","fa-solid","fa-shuffle",3,"click"],[1,"flex",2,"justify-content","end"],["tp","Tag Editor",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"taglist-scrollbar-container"],[1,"sidebar-filter-list"],[1,"sidebar-item"],[3,"tri","state","stateChange"],[1,"fa-solid","fa-heart"],[1,"sidebar-item-label"],[3,"state","stateChange"],[1,"fa-solid","fa-bookmark"],["class","sidebar-group",4,"ngFor","ngForOf"],[1,"sidebar-preview-group-image",3,"src","draggable","onCreate","load","click","dblclick"],[1,"icon-button","fa-solid","fa-xmark","desktop-hidden",3,"click"],[1,"sidebar-group"],[1,"h-separator"],[1,"sidebar-group-header","sidebar-item-label",3,"click"],[2,"visibility","hidden",3,"state"],["class","sidebar-item",4,"ngFor","ngForOf"],[1,"sidebar-item-label",3,"click"]],template:function(r,o){r&1&&(I(0,"div",0),z(1,wfe,48,20,"div",1),S()),r&2&&(et("visible",o.stateService.sidebarVisible),D(),P("ngVar",o.stateService.target()))},dependencies:[Ee,cr,Dt,At,AG,Lc,Vc],styles:[".sidebar-visibility-container[_ngcontent-%COMP%]{height:100%;display:flex;z-index:10}@media screen and (min-width: 768px){.sidebar-visibility-container[_ngcontent-%COMP%]:not(.visible){display:none}}@media screen and (max-width: 768px){.sidebar-visibility-container[_ngcontent-%COMP%]{width:100%;position:absolute;transition:.5s}.sidebar-visibility-container[_ngcontent-%COMP%]:not(.visible){position:absolute;opacity:0;visibility:hidden;pointer-events:none}}.sidebar-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media screen and (min-width: 768px){.sidebar-content[_ngcontent-%COMP%]{width:300px;min-width:300px}}@media screen and (max-width: 768px){.sidebar-content[_ngcontent-%COMP%]{width:100%;min-width:initial;background-color:#000000e6;transition:.5s}}.sidebar-half[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;flex:1;min-height:0}.sidebar-half.sidebar-half-top[_ngcontent-%COMP%]{position:relative;margin:.334rem}@media screen and (min-width: 768px){.sidebar-half.sidebar-half-top[_ngcontent-%COMP%]{gap:0}}.sidebar-preview-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:0;flex:1}.sidebar-preview[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:.334rem;object-fit:contain}.sidebar-preview-group-container[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:hidden;min-height:110px;margin:.334rem -.334rem 0}@media screen and (min-width: 768px){.sidebar-preview-group-container[_ngcontent-%COMP%]{overflow:hidden;margin:0 -.334rem -.334rem}}.sidebar-preview-group-container[_ngcontent-%COMP%]   .sidebar-preview-group-scroll-container[_ngcontent-%COMP%]{display:flex;gap:.334rem;box-sizing:border-box;border-radius:.501rem;max-width:100vw}@media screen and (min-width: 768px){.sidebar-preview-group-container[_ngcontent-%COMP%]   .sidebar-preview-group-scroll-container[_ngcontent-%COMP%]{overflow:hidden}}.sidebar-preview-group-container[_ngcontent-%COMP%]   .sidebar-preview-group-scroll-container.hovering[_ngcontent-%COMP%]{position:absolute;z-index:21;padding-left:calc(100vw - 300px);right:-.334rem}.sidebar-preview-group-border-container[_ngcontent-%COMP%]{display:flex;gap:.334rem;padding:0 .334rem}@media screen and (min-width: 768px){.sidebar-preview-group-border-container[_ngcontent-%COMP%]{background-color:var(--color-background-primary);padding:.334rem;border-radius:.501rem}}.sidebar-preview-group-image[_ngcontent-%COMP%]{height:110px;border-radius:.334rem}.sidebar-preset-filters[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.sidebar-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.167rem}.sidebar-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;gap:.167rem;border-radius:.668rem}.sidebar-item[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--color-background-secondary)}.sidebar-item[_ngcontent-%COMP%]:hover{background-color:#ffffff26}.sidebar-group-header[_ngcontent-%COMP%]{font-size:18px;text-decoration:underline}.sidebar-item-label[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:text}.sidebar-filter-header[_ngcontent-%COMP%]{display:flex;gap:.334rem;justify-content:space-between;padding:0 .334rem}.sidebar-filter-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:-webkit-fill-available;height:30px;padding:0 .334rem;border-radius:.334rem;box-sizing:border-box;border:0}.sidebar-filter-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{outline:initial}.taglist-scrollbar-container[_ngcontent-%COMP%]{flex:1;overflow:auto;padding:.334rem}.taglist-scrollbar-container[_ngcontent-%COMP%]   .sidebar-filter-list[_ngcontent-%COMP%]{font-size:16px;display:flex;flex-direction:column;gap:.167rem}"]});let t=e;return t})();var RG=(()=>{let e=class e{constructor(i,r,o,a){this.sanitizer=i,this.applicationService=r,this.stateService=o,this.googleService=a,this.applicationService.loading.next(!0)}ngOnInit(){this.initKeybinds(),this.googleService.getData().then(i=>{this.stateService.rootFolderId=i.rootFolderId,this.stateService.heartsFilter=i.heartsFilter,this.stateService.bookmarksFilter=i.bookmarksFilter,this.stateService.groupSizeFilterMin=i.groupSizeFilterMin,this.stateService.groupSizeFilterMax=i.groupSizeFilterMax,this.stateService.tagGroups=i.tagGroups,this.processData(i)})}processData(i,r=this.stateService.rootFolderId,o=[],a={calls:0}){a.calls++,this.googleService.getFolderMetadata(r).then(l=>{for(let d of l.filter(h=>to.isFolder(h)))this.processData(i,d.id,o,a);if(se.push(o,this.metaToImages(l,i.imageProperties)),--a.calls==0){this.stateService.images=o,this.stateService.groups=i.groupProperties.map(d=>{let h=new vE;return h.images=this.stateService.images.filter(m=>d.imageIds.includes(m.id)),h.images.forEach(m=>m.group=h),h.star=d.starId?h.star=h.images.find(m=>m.id==d.starId):h.images[0],h}),this.stateService.refreshFilter(),this.stateService.target.set(se.getFirst(this.stateService.filter()));for(let d of se.difference(i.imageProperties,this.stateService.images,(h,m)=>h.id==m.id))console.log(d),console.log("This image does not exist, but has a data entry. Removing image entry from data."),se.remove(this.stateService.images,this.stateService.images.find(h=>h.id==d.id));this.stateService.tagCounts._heart=this.stateService.images.filter(d=>d.heart).length,this.stateService.tagCounts._bookmark=this.stateService.images.filter(d=>d.bookmark).length;for(let d of this.stateService.tagGroups)for(let h of d.tags)this.stateService.tagCounts[h.id]=0;for(let d of this.stateService.images)for(let h of d.tags)this.stateService.tagCounts[h]++;this.applicationService.loading.next(!1)}})}metaToImages(i,r){return i.filter(o=>to.isImage(o)||to.isVideo(o)).map(o=>this.metaToImage(o,r.find(a=>a.id==o.id),this.applicationService.reduceBandwidth))}metaToImage(i,r,o){let a=new _E;return a.id=i.id,a.name=i.name,a.mimeType=i.mimeType,i.thumbnailLink&&(o?a.thumbnailLink=i.thumbnailLink:a.thumbnailLink=i.thumbnailLink.replace("=s220","=s440"),to.isImage(a)?(a.imageMediaMetadata=i.imageMediaMetadata,a.aspectRatio=a.imageMediaMetadata.width/a.imageMediaMetadata.height,a.contentLink=i.thumbnailLink.replace("=s220","=s"+Math.max(window.screen.width,window.screen.height))):to.isVideo(a)&&(a.videoMediaMetadata=i.videoMediaMetadata,a.videoMediaMetadata||(a.videoMediaMetadata={}),(!a.videoMediaMetadata.width||a.videoMediaMetadata.width==0)&&(a.videoMediaMetadata.width=1920),(!a.videoMediaMetadata.height||a.videoMediaMetadata.height==0)&&(a.videoMediaMetadata.height=1080),a.aspectRatio=a.videoMediaMetadata.width/a.videoMediaMetadata.height,a.contentLink=this.sanitizer.bypassSecurityTrustResourceUrl("https://drive.google.com/file/d/"+a.id+"/preview"))),r?(a.heart=r.heart,a.bookmark=r.bookmark,a.tags=r.tags):a.tags=[],a}initKeybinds(){document.addEventListener("keyup",i=>{if(["BODY","VIDEO"].includes(document.activeElement.nodeName))switch(i.code){case"KeyF":this.stateService.fullscreenVisible.update(r=>!r);break;case"KeyR":this.stateService.setRandomTarget();break;case"KeyG":this.stateService.setRandomGroupTarget();break;case"KeyW":case"ArrowUp":this.stateService.target.set(Rs.getNearestImageUp(this.stateService.target(),this.stateService.filter()));break;case"KeyD":case"ArrowRight":this.stateService.target.set(Rs.getNearestImageRight(this.stateService.target(),this.stateService.filter()));break;case"KeyS":case"ArrowDown":this.stateService.target.set(Rs.getNearestImageDown(this.stateService.target(),this.stateService.filter()));break;case"KeyA":case"ArrowLeft":this.stateService.target.set(Rs.getNearestImageLeft(this.stateService.target(),this.stateService.filter()));break}})}};e.\u0275fac=function(r){return new(r||e)(N(nP),N(Tn),N(Vi),N(dr))},e.\u0275cmp=he({type:e,selectors:[["app-gallery"]],standalone:!0,features:[be],decls:4,vars:2,consts:[[1,"content-container"]],template:function(r,o){r&1&&(I(0,"div",0),oe(1,"app-masonry")(2,"app-fullscreen"),S(),oe(3,"app-sidebar")),r&2&&(D(),P("@enter",void 0),D(2),P("@enter",void 0))},dependencies:[Ee,TG,DG,OG],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden;position:relative}@media screen and (min-width: 768px){[_nghost-%COMP%]{display:flex}}[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]{width:100%;height:100%}@media screen and (max-width: 768px){[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]{position:absolute}}"],data:{animation:[lH]}});let t=e;return t})();var NG="https://mazacik.github.io",pR={production:!0,baseUrl:NG,redirectUrl:NG+"/login"};var Af=(()=>{let e=class e{constructor(i){this.http=i,this.CLIENT_ID="692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com",this.CLIENT_SECRET="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"}getAccessToken(){return this.accessToken}startAuthentication(){let a="https://accounts.google.com/o/oauth2/v2/auth?redirect_uri="+pR.redirectUrl+"&prompt=consent&response_type=code&client_id="+"692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com"+"&scope="+"https://www.googleapis.com/auth/drive"+"&access_type=offline";window.location=a}requestTokens(i){return C(this,null,function*(){let r="https://accounts.google.com/o/oauth2/token",o={"content-type":"form-data",grant_type:"authorization_code",code:i,client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET,redirect_uri:pR.redirectUrl,plugin_name:"TagalleryWeb"};yield j_(this.http.post(r,o)).then(a=>{a&&(this.accessToken=a.access_token,this.refreshToken=a.refresh_token,window.localStorage.setItem("googleRefreshToken",this.refreshToken))}).catch(a=>a)})}requestAccessToken(){return C(this,null,function*(){let i="https://accounts.google.com/o/oauth2/token",r={grant_type:"refresh_token",refresh_token:this.getRefreshToken(),client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET};return yield j_(this.http.post(i,r)).then(o=>{o&&(this.accessToken=o.access_token)}).catch(o=>o),this.accessToken})}getRefreshToken(){return this.refreshToken||(this.refreshToken=window.localStorage.getItem("googleRefreshToken")),this.refreshToken}};e.\u0275fac=function(r){return new(r||e)(re(Ml))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var kG=(()=>{let e=class e{constructor(i,r,o){this.route=i,this.router=r,this.authenticationService=o}ngAfterViewInit(){this.route.queryParams.subscribe(i=>{let r=i.code;r&&this.authenticationService.requestTokens(r).finally(()=>{this.router.navigate([sessionStorage.getItem("appId")||""])})})}signIn(){this.authenticationService.startAuthentication()}};e.\u0275fac=function(r){return new(r||e)(N(er),N(pi),N(Af))},e.\u0275cmp=he({type:e,selectors:[["app-login"]],decls:4,vars:0,consts:[[1,"sign-in-button",3,"click"],["src","assets/google-logo.svg"],[1,"sign-in-text"]],template:function(r,o){r&1&&(I(0,"div",0),R("click",function(){return o.signIn()}),oe(1,"img",1),I(2,"span",2),j(3,"Sign in with Google"),S()())},styles:["[_nghost-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]{width:18px;height:18px}.sign-in-button[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;gap:8px;padding:0 12px;cursor:pointer;background-color:#fff;border:1px solid #dadce0;border-radius:4px}.sign-in-button[_ngcontent-%COMP%]:hover{background:#f8faff;border-color:#d2e3fc}.sign-in-text[_ngcontent-%COMP%]{color:#3c4043;font-family:Google Sans,arial,sans-serif;font-size:14px;letter-spacing:.25px}"]});let t=e;return t})();var bE=(t,e)=>C(void 0,null,function*(){console.log("guard: start");let n=X(pi),i=X(Af);if(i.getAccessToken())return console.log("guard: has access token, return true"),!0;if(console.log("guard: no access token"),i.getRefreshToken()){if(console.log("guard: has refresh token"),yield i.requestAccessToken())return console.log("guard: got access token from refresh token, return true"),!0;console.log("guard: could not get access token from refresh token")}return console.log("guard: return false"),n.createUrlTree(["/login"])});var FG=(t,e)=>{let n=X(pi),i=sessionStorage.getItem("dataFileId");return xt.isEmpty(i)?n.createUrlTree(["/folder-picker"]):!0};var LG=(t,e)=>{for(let n of["FB_IAB","FBAN","FBAV","FB4A","MESSENGER"])if(navigator.userAgent.includes(n))return X(pi).createUrlTree(["/messenger-browser"]);return!0};var VG=(t,e)=>{for(let n of["FB_IAB","FBAN","FBAV","FB4A","MESSENGER"])if(navigator.userAgent.includes(n))return!0;return X(pi).createUrlTree([""])};var jG=(()=>{let e=class e{constructor(){this.crossfade=!0,this.userAgent=window.navigator.userAgent}ngOnInit(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=he({type:e,selectors:[["app-fuck-messenger-browser"]],hostVars:1,hostBindings:function(r,o){r&2&&nm("@crossfade",o.crossfade)},standalone:!0,features:[be],decls:7,vars:1,consts:[[1,"user-agent"],["src","/assets/fuck-messenger-browser.jpg",1,"picture"]],template:function(r,o){r&1&&(I(0,"span",0),j(1),S(),I(2,"span"),j(3,"Prehliada\u010D v aplik\xE1cii Messenger nesp\u013A\u0148a modern\xE9 \u0161tandardy a ned\xE1 sa v \u0148om prihl\xE1si\u0165 do \xFA\u010Dtu Google."),S(),I(4,"span"),j(5,"Vpravo hore by malo by\u0165 tla\u010D\xEDtko, ktor\xE9 ti str\xE1nku otvor\xED v norm\xE1lnom prehliada\u010Di."),S(),oe(6,"img",1)),r&2&&(D(),me(o.userAgent))},dependencies:[Ee,Ct],styles:["[_nghost-%COMP%]{height:100vh;width:100vw;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1.336rem 0;top:0;bottom:0;text-align:center;gap:2rem;margin:0 .668rem;position:relative;box-sizing:border-box}[_nghost-%COMP%]   .user-agent[_ngcontent-%COMP%]{font-size:.667rem;position:absolute;top:.667rem}[_nghost-%COMP%]   .picture[_ngcontent-%COMP%]{max-width:100%}"],data:{animation:[nE]}});let t=e;return t})();function Cfe(t,e){if(t&1){let n=ae();I(0,"span",4),R("click",function(){k(n);let r=M();return F(r.parseText())}),j(1,"Parse"),S()}}function Efe(t,e){if(t&1){let n=ae();I(0,"div",6)(1,"span",4),R("click",function(){k(n);let r=M(2);return F(r.onEntryClick(r.tournament.comparison[0],r.tournament.comparison[1]))}),j(2),S(),I(3,"span",4),R("click",function(){k(n);let r=M(2);return F(r.onEntryClick(r.tournament.comparison[1],r.tournament.comparison[0]))}),j(4),S()()}if(t&2){let n=M(2);D(2),me(n.tournament.comparison[0]),D(2),me(n.tournament.comparison[1])}}function Ife(t,e){if(t&1&&(gt(0),z(1,Efe,5,2,"div",5),vt()),t&2){let n=M();D(),P("ngIf",n.tournament.comparison)}}var UG=(()=>{let e=class e{constructor(){this.text=`01
02
03
04
05
06
07
08
`,this.entries=[],this.result=[]}ngOnInit(){}parseText(){this.entries=this.text.split(`
`).filter(i=>i?.length>0),this.tournament=new Df(this.entries,i=>i),this.text=""}onEntryClick(i,r){this.tournament.addComparisonResult(i,r),this.text=this.tournament.outcome.join(`
`)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=he({type:e,selectors:[["app-tournament"]],standalone:!0,features:[be],decls:4,vars:5,consts:[[1,"input-container"],[3,"placeholder","ngModel","readOnly","ngModelChange"],["class","button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"button",3,"click"],["class","comparison",4,"ngIf"],[1,"comparison"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"textarea",1),Le("ngModelChange",function(l){return je(o.text,l)||(o.text=l),l}),S(),z(2,Cfe,2,0,"span",2),S(),z(3,Ife,2,1,"ng-container",3)),r&2&&(D(),P("placeholder",o.tournament?"Leaderboard":"Entries"),Fe("ngModel",o.text),P("readOnly",o.tournament),D(),P("ngIf",!o.tournament),D(),P("ngIf",o.tournament))},dependencies:[Ee,At,Ct,Ut,Xt,zt],styles:["[_nghost-%COMP%]{display:flex;overflow-x:hidden;height:100%}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]{width:25%;display:flex;flex-direction:column;gap:.334rem;margin:.334rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;color:var(--color-text);overflow-wrap:anywhere;border-radius:.167rem;box-sizing:border-box;border:1px solid var(--color-border);font-family:inherit;font-size:inherit;min-width:50px;background-color:transparent;resize:none;padding:.167rem .334rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus-visible{outline:initial}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex:3;overflow:hidden;gap:.334rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{aspect-ratio:2}}"]});let t=e;return t})();var BG=[{path:"messenger-browser",canActivate:[VG],component:jG},{path:"login",component:kG},{path:"adventure",canActivate:[bE],component:WH},{path:"folder-picker",canActivate:[bE],component:SG},{path:"gallery",canActivate:[bE,FG],component:RG},{path:"tournament",component:UG},{path:"event/:id",component:wG,children:[{path:"hlasovanie/vysledky",component:EG},{path:"hlasovanie",canActivate:[LG],component:IG},{path:"pravidla",component:bG},{path:"**",redirectTo:"hlasovanie"}]},{path:"**",redirectTo:"event/2024-splav"}];var $G=(t,e)=>{let n=X(Af);return e(HG(n,t)).pipe(Yo(i=>Sfe(n,i,t,e)))},HG=(t,e)=>e.url.includes("googleapis.com")?e.clone({headers:e.headers.set("authorization","Bearer "+t.getAccessToken())}):e,Sfe=(t,e,n,i)=>C(void 0,null,function*(){if(!e.url.includes("accounts.google.com")&&(yield t.requestAccessToken()))return i(HG(t,n))});Z6(mH,{providers:[O$(),f9(BG,p9({paramsInheritanceStrategy:"always"})),Zj(tU(),eU([$G])),Jp(xU(()=>MU({apiKey:"AIzaSyDOAks7IYxZn0CfhQfDYp06r5rP9B-4Jc8",authDomain:"mazacik-69cda.firebaseapp.com",projectId:"mazacik-69cda",storageBucket:"mazacik-69cda.appspot.com",messagingSenderId:"43148772573",appId:"1:43148772573:web:86c8a9749dd20d99260734"}))),Jp(B6(()=>z6())),Jp(R4(()=>N4())),aH({defaultVariation:"tooltip",variations:{tooltip:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!1,offset:[0,6]}}})]}).catch(t=>console.error(t));
